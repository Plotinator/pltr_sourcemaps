!function(e){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={2:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([629,1,0]),n()}({112:function(e,t){e.exports=require("punycode")},113:function(e,t){e.exports=require("events")},114:function(e,t){e.exports=require("os")},1185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=h(n(16)),i=n(24),a=h(n(1186)),s=h(n(1192)),l=h(n(1193)),c=h(n(1194)),u=h(n(1198)),d=h(n(1199)),p=h(n(1215)),f=h(n(1224));function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}class b extends r.Component{render(){switch(this.props.currentView){case"project":return r.default.createElement(p.default,null);case"outline":return r.default.createElement(a.default,null);case"notes":return r.default.createElement(u.default,null);case"tags":return r.default.createElement(s.default,null);case"characters":return r.default.createElement(l.default,null);case"places":return r.default.createElement(c.default,null);case"analyzer":return r.default.createElement(f.default,null);case"timeline":default:return r.default.createElement(d.default,null)}}}b.propTypes={currentView:o.default.string.isRequired};var g=(0,i.connect)((function(e){return{currentView:e.present.ui.currentView}}),(function(e){return{}}))(b);t.default=g},1186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.default.createElement(o.ErrorBoundary,null,r.default.createElement(i.default,null))};var r=a(n(2)),o=n(22),i=a(n(1187));function a(e){return e&&e.__esModule?e:{default:e}}},1187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=f(n(16)),i=n(24),a=n(27),s=n(20),l=f(n(1188)),c=f(n(1190)),u=n(7),d=n(22),p=n(12);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{cardMapSelector:b,sortedBeatsByBookSelector:g,sortedLinesByBookSelector:v,isSeriesSelector:y}=p.selectors,{card:{cardMapping:E}}=p.helpers;class w extends r.Component{constructor(e){super(e),m(this,"setActive",e=>{this.setState({active:e})}),m(this,"fixMe",()=>{console.warn("OutlineView waypoint needs fixing")}),m(this,"filterItem",e=>{const{actions:t}=this.props;t.setOutlineFilter(e)}),m(this,"removeFilter",()=>{this.props.actions.setOutlineFilter(null)}),this.state={active:0,firstRender:!0}}componentDidMount(){setTimeout(()=>this.setState({firstRender:!1}),500)}UNSAFE_componentWillReceiveProps(e){e.ui.currentTimeline!=this.props.ui.currentTimeline&&(this.setState({firstRender:!0}),setTimeout(()=>this.setState({firstRender:!1}),500))}renderFilterList(){var e=this.props.lines.map(e=>this.renderFilterItem(e));return r.default.createElement("ul",{className:"filter-list__list"},e)}renderFilterItem(e){const{ui:t}=this.props;var n=r.default.createElement("span",{className:"filter-list__placeholder"});return(Array.isArray(t.outlineFilter)&&t.outlineFilter.includes(e.id)||!Array.isArray(t.outlineFilter)&&t.outlineFilter===e.id)&&(n=r.default.createElement(s.Glyphicon,{glyph:"eye-open"})),r.default.createElement("li",{key:e.id,onMouseDown:()=>this.filterItem(e.id)},n," ",e.title)}renderSubNav(){const{ui:e}=this.props;let t=r.default.createElement(s.Popover,{id:"filter"},r.default.createElement("div",{className:"filter-list"},this.renderFilterList())),n=r.default.createElement(s.Alert,{onClick:this.removeFilter,bsStyle:"warning"},r.default.createElement(s.Glyphicon,{glyph:"remove-sign"}),"  ",(0,u.t)("Outline is filtered"));return e.outlineFilter&&e.outlineFilter.length||(n=r.default.createElement("span",null)),r.default.createElement(d.SubNav,null,r.default.createElement(s.Nav,{bsStyle:"pills"},r.default.createElement(s.NavItem,null,r.default.createElement(s.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:t},r.default.createElement(s.Button,{bsSize:"small"},r.default.createElement(s.Glyphicon,{glyph:"filter"}),(0,u.t)("Filter by Plotline"))),n)),r.default.createElement(s.Nav,{pullRight:!0},r.default.createElement(d.ExportNavItem,null)))}renderBeats(e){const{beats:t,ui:n}=this.props;return!!t.length&&t.map((t,o)=>this.state.firstRender&&o>2?null:r.default.createElement(d.ErrorBoundary,{key:t.id},r.default.createElement(l.default,{beat:t,cards:e[t.id],waypoint:this.fixMe,activeFilter:!!n.outlineFilter})))}renderBody(){const{beats:e,lines:t,card2Dmap:n,ui:o}=this.props,i=E(e,t,n,o.outlineFilter);return r.default.createElement("div",{className:"outline__container tab-body"},r.default.createElement("div",{className:"outline__minimap__placeholder"},"Fish are friends, not food"),r.default.createElement(d.ErrorBoundary,null,r.default.createElement(c.default,{active:this.state.active,handleActive:this.setActive,cardMapping:i,activeFilter:!!o.outlineFilter})),r.default.createElement("div",{className:"outline__scenes-container"},this.renderBeats(i)))}render(){const{beats:e}=this.props;return r.default.createElement("div",{className:"container-with-sub-nav"},this.renderSubNav(),!!e.length&&this.renderBody())}}w.propTypes={beats:o.default.array.isRequired,lines:o.default.array.isRequired,card2Dmap:o.default.object.isRequired,ui:o.default.object.isRequired,isSeries:o.default.bool,actions:o.default.object.isRequired};var O=(0,i.connect)((function(e){return{beats:g(e.present),lines:v(e.present),card2Dmap:b(e.present),ui:e.present.ui,isSeries:y(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(p.actions.ui,e)}}))(w);t.default=O},1188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=f(n(16)),i=n(24),a=n(27),s=n(20),l=n(1448),c=n(7),u=f(n(1189)),d=f(n(5)),p=n(12);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{beatsByBookSelector:b,positionOffsetSelector:g,sortedLinesByBookSelector:v,sortedHierarchyLevels:y,beatHierarchyIsOn:E,isSeriesSelector:w}=p.selectors,O=p.actions.beat,S=p.actions.card,{card:{sortCardsInBeat:C},beats:{beatTitle:_},lists:{moveToAbove:k}}=p.helpers;class x extends r.Component{constructor(...e){super(...e),m(this,"state",{sortedCards:[]}),m(this,"autoSortBeat",()=>{const{beatActions:e,beat:t,ui:n}=this.props;e.autoSortBeat(t.id,n.currentTimeline)}),m(this,"reorderCards",({current:e,currentIndex:t,dropped:n})=>{const{sortedCards:r}=this.state,{beat:o,actions:i,ui:a}=this.props,s=r.map(e=>e.id),l=e.lineId;let c=[],u=null;if(s.includes(n.cardId)){if(c=k(n.index,t,s),n.lineId==l){const t=r.filter(e=>e.lineId==l).map(e=>e.id),o=r.find(e=>e.id==n.cardId).positionWithinLine;u=k(o,e.positionWithinLine,t)}i.reorderCardsInBeat(o.id,l,c,u,void 0,a.currentTimeline)}else if(n.lineId==l){let t=r.filter(e=>e.lineId==l).map(e=>e.id);t.splice(e.positionWithinLine,0,n.cardId),i.reorderCardsWithinLine(o.id,l,t)}else c=s,c.splice(t,0,n.cardId),i.reorderCardsInBeat(o.id,l,c,null,n.cardId,a.currentTimeline)})}static getDerivedStateFromProps(e,t){const{beat:n,cards:r,lines:o}=e;return{sortedCards:C(n.autoOutlineSort,r,o)}}renderManualSort(){return this.props.beat.autoOutlineSort?null:r.default.createElement("small",{className:"outline__beat-manual-sort",onClick:this.autoSortBeat},(0,c.t)("Manually Sorted")," ",r.default.createElement(s.Glyphicon,{glyph:"remove-sign"}))}renderCards(){return this.state.sortedCards.map((e,t)=>r.default.createElement(u.default,{key:e.id,card:e,index:t,reorder:this.reorderCards}))}render(){const{beat:e,beats:t,hierarchyLevels:n,ui:o,waypoint:i,cards:a,activeFilter:s,positionOffset:c,hierarchyEnabled:u,isSeries:p}=this.props;if(s&&!a.length)return null;const f=(0,d.default)("outline__scene-title",{darkmode:o.darkMode});return r.default.createElement(l.Waypoint,{onEnter:()=>i(e.id),scrollableAncestor:window,topOffset:"60%",bottomOffset:"60%"},r.default.createElement("div",null,r.default.createElement("h3",{id:"beat-"+e.id,className:f},_(t,e,n,c,u,p),this.renderManualSort()),this.renderCards()))}}x.propTypes={beat:o.default.object.isRequired,beats:o.default.object.isRequired,hierarchyLevels:o.default.array.isRequired,cards:o.default.array.isRequired,waypoint:o.default.func.isRequired,activeFilter:o.default.bool.isRequired,ui:o.default.object.isRequired,lines:o.default.array.isRequired,positionOffset:o.default.number.isRequired,beatActions:o.default.object,actions:o.default.object,hierarchyEnabled:o.default.bool,isSeries:o.default.bool};var I=(0,i.connect)((function(e){return{ui:e.present.ui,beats:b(e.present),hierarchyLevels:y(e.present),lines:v(e.present),positionOffset:g(e.present),hierarchyEnabled:E(e.present),isSeries:w(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(S,e),beatActions:(0,a.bindActionCreators)(O,e)}}))(x);t.default=I},1189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=p(n(16)),i=n(24),a=n(27),s=n(20),l=n(7),c=n(22),u=p(n(5)),d=n(85);function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=n(12).actions.card;class b extends r.Component{constructor(e){super(e),h(this,"saveEdit",()=>{const{card:e,actions:t}=this.props;var n=this.titleInputRef.value||e.title;t.editCard(e.id,n,this.state.description,e.templates,{}),this.setState({editing:!1})}),h(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),h(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),h(this,"handleDragStart",e=>{this.setState({dragging:!0,editing:!1});const{card:t,index:n}=this.props,r=t.lineId;e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify({cardId:t.id,lineId:r,index:n}))}),h(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),h(this,"editOnClick",()=>{this.state.editing||this.setState({editing:!0})}),h(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),h(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),h(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),h(this,"handleDrop",e=>{if(e.stopPropagation(),e.preventDefault(),this.state.dragging)return;this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),n=JSON.parse(t);n.cardId&&this.props.reorder({current:this.props.card,currentIndex:this.props.index,dropped:n})}),this.state={editing:!1,description:e.card.description,dragging:!1,inDropZone:!1,dropDepth:0},this.titleInputRef=null}componentWillUnmount(){this.state.editing&&this.saveEdit()}renderDropZone(){if(this.state.inDropZone)return r.default.createElement("div",{className:"outline__card-drop"},r.default.createElement(d.FaCircle,null))}renderTitle(){const{title:e}=this.props.card;return this.state.editing?r.default.createElement(s.FormGroup,null,r.default.createElement(s.FormControl,{onKeyPress:this.handleEnter,onKeyDown:this.handleEsc,type:"text",autoFocus:!0,inputRef:e=>{this.titleInputRef=e},defaultValue:e})):null}renderDescription(){const{description:e}=this.props.card;return r.default.createElement("div",{className:"outline__description__editing"},r.default.createElement(c.RichText,{className:"outline__description",onChange:e=>this.setState({description:e}),description:e,editable:this.state.editing,darkMode:this.props.ui.darkMode}),this.state.editing&&r.default.createElement(s.ButtonToolbar,{className:"card-dialog__button-bar"},r.default.createElement(s.Button,{onClick:()=>this.setState({editing:!1})},(0,l.t)("Cancel")),r.default.createElement(s.Button,{bsStyle:"success",onClick:this.saveEdit},(0,l.t)("Save"))))}renderTags(){return this.props.card.tags.map(e=>{var t=this.props.tags.find(t=>t.id==e);return t?r.default.createElement(c.TagLabel,{tag:t,key:"outline-taglabel-"+e}):null})}renderChipCloud(e,t){if(!e.length)return null;const n=e.map((e,n)=>{const o=t.find(t=>t.id==e);if(!o)return null;const i=`${n}-${e}`;return r.default.createElement("div",{key:i,className:"chip"},r.default.createElement(c.Image,{size:"xs",shape:"circle",imageId:o.imageId}),r.default.createElement("span",null,o.name))});return r.default.createElement("div",{className:"chip-cloud"},n)}renderCharacters(){const{card:e,characters:t}=this.props;return this.renderChipCloud(e.characters,t)}renderPlaces(){const{card:e,places:t}=this.props;return this.renderChipCloud(e.places,t)}renderDivider(){const{card:e}=this.props;return e.tags.length||e.characters.length||e.places.length?r.default.createElement("div",{className:"divider"}):null}render(){const{line:e,ui:t,card:n}=this.props,o={color:e.color};return r.default.createElement("div",{className:"outline__card-wrapper",onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderDropZone(),r.default.createElement("div",{className:(0,u.default)("outline__card",{darkmode:t.darkMode})},r.default.createElement("div",{style:o,className:"outline__card__line-title"},e.title),r.default.createElement("div",{className:(0,u.default)("outline__card__grip",{editing:this.state.editing,dragging:this.state.dragging}),draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},r.default.createElement(d.FaGripLinesVertical,null),this.state.editing?null:r.default.createElement("h6",null,n.title)),r.default.createElement("div",{className:(0,u.default)("outline__card__inner",{editing:this.state.editing}),onClick:this.editOnClick},this.renderTitle(),this.renderDescription(),r.default.createElement(s.Glyphicon,{glyph:"pencil"})),this.renderDivider(),r.default.createElement("div",{className:"outline__card__label-list"},this.renderTags()),this.renderCharacters(),this.renderPlaces()))}}b.propTypes={card:o.default.object.isRequired,index:o.default.number.isRequired,reorder:o.default.func.isRequired,line:o.default.object.isRequired,tags:o.default.array.isRequired,characters:o.default.array.isRequired,places:o.default.array.isRequired,ui:o.default.object.isRequired,actions:o.default.object.isRequired,images:o.default.object};var g=(0,i.connect)((function(e,t){return{line:e.present.lines.find(e=>e.id==t.card.lineId),tags:e.present.tags,characters:e.present.characters,places:e.present.places,ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(m,e)}}))(b);t.default=g},1190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(n(216)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),i=h(n(16)),a=n(11),s=n(24),l=n(27),c=n(20),u=h(n(5)),d=h(n(1191)),p=n(12);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e){return e&&e.__esModule?e:{default:e}}const m=p.actions.card,{beatsByBookSelector:b,sortedBeatsByBookSelector:g,positionOffsetSelector:v,sortedLinesByBookSelector:y,sortedHierarchyLevels:E,beatHierarchyIsOn:w,isSeriesSelector:O}=p.selectors;class S extends o.Component{constructor(e){super(e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"selectNav",e=>{const t=document.querySelector("#beat-"+e);if(t.scrollIntoView(),e!=this.firstBeatKey){const e=document.querySelector(".outline__container"),n=t.getBoundingClientRect().y;e.scrollBy(0,n-115)}this.props.handleActive(e)}),this.state={mouseOver:!1,firstRender:!0},this.firstBeatKey=e.beats.length?e.beats[0].id:0}componentDidMount(){setTimeout(()=>this.setState({firstRender:!1}),300)}UNSAFE_componentWillReceiveProps(e){e.ui.currentTimeline!=this.props.ui.currentTimeline&&(this.setState({firstRender:!0}),setTimeout(()=>this.setState({firstRender:!1}),500))}renderBeats(){const{lines:e,beats:t,beatsTree:n,activeFilter:i,cardMapping:a,positionOffset:s,actions:l,ui:u,hierarchyLevels:p,hierarchyEnabled:f,isSeries:h}=this.props,m=(0,r.default)(e,"id");return t.map((t,r)=>{if(this.state.firstRender&&r>20)return null;const b=a[t.id];return i&&!b.length?null:o.default.createElement(c.NavItem,{ref:e=>this[`beat-${t.id}-ref`]=e,key:"minimap-beat-"+t.id,eventKey:t.id},o.default.createElement(d.default,{bookId:u.currentTimeline,beat:t,beats:n,hierarchyLevels:p,idx:r+s,cards:b,linesById:m,sortedLines:e,positionOffset:s,reorderCardsWithinLine:l.reorderCardsWithinLine,reorderCardsInBeat:l.reorderCardsInBeat,hierarchyEnabled:f,isSeries:h}))})}render(){return o.default.createElement(c.Nav,{className:(0,u.default)("outline__minimap",{darkmode:this.props.ui.darkMode}),activeKey:this.props.active,onSelect:this.selectNav,onMouseEnter:()=>this.setState({mouseOver:!0}),onMouseLeave:()=>this.setState({mouseOver:!1})},this.renderBeats())}componentDidUpdate(){if(!this.state.mouseOver){const t=this.props.beats.find(e=>e.id===this.props.active);let n="";t&&(n=`beat-${t.id}-ref`);var e=(0,a.findDOMNode)(this[n]);e&&e.scrollIntoView()}}shouldComponentUpdate(e,t){return t.mouseOver==this.state.mouseOver}}S.propTypes={active:i.default.number.isRequired,cardMapping:i.default.object.isRequired,activeFilter:i.default.bool.isRequired,beatsTree:i.default.object.isRequired,beats:i.default.array.isRequired,hierarchyLevels:i.default.array.isRequired,lines:i.default.array.isRequired,ui:i.default.object.isRequired,positionOffset:i.default.number.isRequired,actions:i.default.object,handleActive:i.default.func,hierarchyEnabled:i.default.bool,isSeries:i.default.bool};var C=(0,s.connect)((function(e){return{beats:g(e.present),beatsTree:b(e.present),hierarchyLevels:E(e.present),lines:y(e.present),ui:e.present.ui,positionOffset:v(e.present),hierarchyEnabled:w(e.present),isSeries:O(e.present)}}),(function(e){return{actions:(0,l.bindActionCreators)(m,e)}}))(S);t.default=C},1191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=s(n(16)),i=s(n(5)),a=n(12);function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}const{card:{sortCardsInBeat:c},beats:{beatTitle:u}}=a.helpers;function d(e){const{bookId:t,beat:n,beats:o,hierarchyLevels:a,idx:s,cards:l,linesById:d,sortedLines:p,positionOffset:f,hierarchyEnabled:h,isSeries:m}=e,[b,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(!1),[E,w]=(0,r.useState)(0);(0,r.useEffect)(()=>{g(c(n.autoOutlineSort,l,p))},[n,l]);const O=(r,o)=>{const i=b.map(e=>e.id);if(!i.includes(r)){let a=b.filter(e=>e.lineId==o).map(e=>e.id);a.push(r),n.autoOutlineSort?e.reorderCardsWithinLine(n.id,o,a):(i.push(r),e.reorderCardsInBeat(n.id,o,i,a,r,t))}};return r.default.createElement("div",{className:(0,i.default)("outline__minimap__beat-title",{dropping:v}),onDragEnter:e=>{w(E+1)},onDragOver:e=>{e.preventDefault(),y(!0)},onDragLeave:e=>{let t=E;--t,w(t),t>0||y(!1)},onDrop:e=>{e.stopPropagation(),e.preventDefault(),w(0),y(!1);const t=e.dataTransfer.getData("text/json"),n=JSON.parse(t);n.cardId&&O(n.cardId,n.lineId)}},r.default.createElement("span",null,r.default.createElement("span",{className:"accented-text"},s+1+".  "),r.default.createElement("span",null,u(o,n,a,f,h,m))),r.default.createElement("div",{className:"outline__minimap__dots"},b.map(e=>{let t=(e=>{const t=e.lineId;return d[t]})(e);if(!t)return null;let n={backgroundColor:t.color};return r.default.createElement("div",{key:`dot-${t.id}-${e.id}`,title:t.title,style:n,className:"outline__minimap__card-dot"})})))}d.propTypes={bookId:o.default.string.isRequired,beat:o.default.object.isRequired,beats:o.default.object.isRequired,hierarchyLevels:o.default.array.isRequired,idx:o.default.number.isRequired,cards:o.default.array.isRequired,sortedLines:o.default.array.isRequired,linesById:o.default.object.isRequired,positionOffset:o.default.number.isRequired,reorderCardsWithinLine:o.default.func.isRequired,reorderCardsInBeat:o.default.func.isRequired,hierarchyEnabled:o.default.bool,isSeries:o.default.bool};var p=d;t.default=p},1192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.default.createElement(i.ErrorBoundary,null,o.default.createElement(i.TagListView,null))};var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(22)},1193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.default.createElement(i.ErrorBoundary,null,o.default.createElement(i.CharacterListView,null))};var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(22)},1194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.default.createElement(i.ErrorBoundary,null,r.default.createElement(o.default,null))};var r=a(n(2)),o=a(n(1195)),i=n(22);function a(e){return e&&e.__esModule?e:{default:e}}},1195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=h(n(16)),i=n(24),a=n(27),s=h(n(5)),l=n(20),c=n(22),u=h(n(1196)),d=n(7),p=h(n(1197)),f=n(12);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{nextId:g}=f.newIds,{placeCustomAttributesThatCanChangeSelector:v,placeCustomAttributesRestrictedValues:y,visibleSortedPlacesSelector:E,placeFilterIsEmptySelector:w}=f.selectors,O=f.actions.customAttribute,S=f.actions.place,C=f.actions.ui;class _ extends r.Component{constructor(e){super(e),b(this,"editingSelected",()=>{this.setState({editingSelected:!0})}),b(this,"stopEditing",()=>{this.setState({editingSelected:!1})}),b(this,"closeDialog",()=>{this.setState({dialogOpen:!1})}),b(this,"handleCreateNewPlace",()=>{const e=g(this.props.places);this.props.actions.addPlace(),this.setState({placeDetailId:e,editingSelected:!0})}),b(this,"handleType",()=>{const e=this.attrInputRef.current.value;this.setState({addAttrText:e})}),b(this,"handleAddCustomAttr",e=>{13===e.which&&this.saveAttr()}),b(this,"saveAttr",()=>{const e=this.attrInputRef.current.value;""==e||this.props.restrictedValues.includes(e)||(this.props.customAttributeActions.addPlaceAttr({name:e,type:"text"}),this.setState({addAttrText:""}))}),b(this,"removeAttr",e=>{this.props.customAttributeActions.removePlaceAttr(e.name),this.setState({addAttrText:this.state.addAttrText})}),b(this,"updateAttr",(e,t,n)=>{this.props.customAttributeActions.editPlaceAttr(e,t,n)}),b(this,"renderVisiblePlaces",()=>this.props.visiblePlaces.map(e=>r.default.createElement(p.default,{key:e.id,place:e,selected:e.id==this.state.placeDetailId,startEdit:this.editingSelected,stopEdit:this.stopEditing,select:()=>this.setState({placeDetailId:e.id})}))),this.state={dialogOpen:!1,addAttrText:"",placeDetailId:null,editingSelected:!1},this.attrInputRef=r.default.createRef()}static getDerivedStateFromProps(e,t){let n={...t};const{visiblePlaces:r}=e;return n.placeDetailId=_.detailID(r,t.placeDetailId),n}static detailID(e,t){if(0==e.length)return null;let n=e[0].id;if(null!=t){let r=e.find(e=>e.id===t);r&&(n=r.id)}return n}renderSubNav(){const{ui:e,filterIsEmpty:t,uiActions:n}=this.props;let o=r.default.createElement(l.Popover,{id:"filter"},r.default.createElement(c.CustomAttrFilterList,{type:"places"})),i=r.default.createElement(l.Alert,{onClick:()=>n.setPlaceFilter(null),bsStyle:"warning"},r.default.createElement(l.Glyphicon,{glyph:"remove-sign"}),"  ",(0,d.t)("Place list is filtered"));t&&(i=r.default.createElement("span",null));let a=r.default.createElement(l.Popover,{id:"sort"},r.default.createElement(c.SortList,{type:"places"})),s="sort-by-attributes";return e.placeSort.includes("~desc")&&(s="sort-by-attributes-alt"),r.default.createElement(c.SubNav,null,r.default.createElement(l.Nav,{bsStyle:"pills"},r.default.createElement(l.NavItem,null,r.default.createElement(l.Button,{bsSize:"small",onClick:this.handleCreateNewPlace},r.default.createElement(l.Glyphicon,{glyph:"plus"})," ",(0,d.t)("New"))),r.default.createElement(l.NavItem,null,r.default.createElement(l.Button,{bsSize:"small",onClick:()=>this.setState({dialogOpen:!0})},r.default.createElement(l.Glyphicon,{glyph:"list"})," ",(0,d.t)("Attributes"))),r.default.createElement(l.NavItem,null,r.default.createElement(l.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:o},r.default.createElement(l.Button,{bsSize:"small"},r.default.createElement(l.Glyphicon,{glyph:"filter"})," ",(0,d.t)("Filter"))),i),r.default.createElement(l.NavItem,null,r.default.createElement(l.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:a},r.default.createElement(l.Button,{bsSize:"small"},r.default.createElement(l.Glyphicon,{glyph:s})," ",(0,d.t)("Sort"))))))}renderPlaces(){return r.default.createElement("div",{className:(0,s.default)("place-list__list","list-group",{darkmode:this.props.ui.darkMode})},this.renderVisiblePlaces())}renderPlaceDetails(){let e=this.props.places.find(e=>e.id===this.state.placeDetailId);return e?r.default.createElement(c.ErrorBoundary,null,r.default.createElement(u.default,{key:"place-"+e.id,place:e,editing:this.state.editingSelected,stopEditing:this.stopEditing,startEditing:this.editingSelected})):null}renderCustomAttributes(){return this.state.dialogOpen?r.default.createElement(c.CustomAttributeModal,{hideSaveAsTemplate:!0,type:"places",closeDialog:this.closeDialog}):null}render(){let e="secondary-text";return this.props.ui.darkMode&&(e+=" darkmode"),r.default.createElement("div",{className:"place-list container-with-sub-nav"},this.renderSubNav(),this.renderCustomAttributes(),r.default.createElement(l.Grid,{fluid:!0,className:"tab-body"},r.default.createElement(l.Row,null,r.default.createElement(l.Col,{sm:3},r.default.createElement("h1",{className:e},(0,d.t)("Places")," ",r.default.createElement(l.Button,{onClick:this.handleCreateNewPlace},r.default.createElement(l.Glyphicon,{glyph:"plus"}))),this.renderPlaces()),r.default.createElement(l.Col,{sm:9},this.renderPlaceDetails()))))}}_.propTypes={visiblePlaces:o.default.array.isRequired,filterIsEmpty:o.default.bool.isRequired,customAttributes:o.default.array.isRequired,customAttributesThatCanChange:o.default.array,restrictedValues:o.default.array,ui:o.default.object.isRequired,actions:o.default.object.isRequired,customAttributeActions:o.default.object.isRequired,uiActions:o.default.object.isRequired,places:o.default.array};var k=(0,i.connect)((function(e){return{places:e.present.places,visiblePlaces:E(e.present),filterIsEmpty:w(e.present),customAttributes:e.present.customAttributes.places,customAttributesThatCanChange:v(e.present),restrictedValues:y(e.present),ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(S,e),customAttributeActions:(0,a.bindActionCreators)(O,e),uiActions:(0,a.bindActionCreators)(C,e)}}))(_);t.default=k},1196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=p(n(16)),i=n(24),a=n(27),s=p(n(5)),l=n(20),c=n(7),u=n(22),d=n(12);function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{sortedTagsSelector:m}=d.selectors,b=d.actions.place;class g extends r.Component{constructor(e){super(e),h(this,"deletePlace",e=>{e.stopPropagation(),this.props.actions.deletePlace(this.props.place.id)}),h(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),h(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEditing()}),h(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),h(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),h(this,"handleAttrDescriptionChange",(e,t)=>{let n={...this.state.description};n[e]=t,this.setState({description:n})}),h(this,"saveEdit",(e=!0)=>{var t=this.nameInputRef.value||this.props.place.name,n=this.descriptionInputRef.value,r=this.state.notes,o={};this.state.newImageId&&(o.imageId=-1==this.state.newImageId?null:this.state.newImageId),this.props.customAttributes.forEach(e=>{const{name:t,type:n}=e;if("paragraph"==n)o[t]=this.state.description[t];else{const e=this[t+"InputRef"].value;o[t]=e}}),this.props.actions.editPlace(this.props.place.id,{name:t,description:n,notes:r,...o}),e&&this.props.stopEditing()});let t={};e.customAttributes.forEach(n=>{const{name:r}=n;t[r]=e.place[r]}),this.state={notes:e.place.notes,description:t,newImageId:null,deleting:!1},this.nameInputRef=null,this.descriptionInputRef=null}componentWillUnmount(){this.props.editing&&this.saveEdit(!1)}renderDelete(){return this.state.deleting?r.default.createElement(u.DeleteConfirmModal,{name:this.props.place.name||(0,c.t)("New Place"),onDelete:this.deletePlace,onCancel:this.cancelDelete}):null}renderEditingImage(){const{place:e}=this.props;let t=this.state.newImageId||e.imageId;return r.default.createElement(l.FormGroup,null,r.default.createElement(l.ControlLabel,null,(0,c.t)("Place Image")),r.default.createElement("div",{className:"place-list__place__edit-image-wrapper"},r.default.createElement("div",{className:"place-list__place__edit-image"},r.default.createElement(u.Image,{size:"small",shape:"rounded",imageId:t})),r.default.createElement("div",null,r.default.createElement(u.ImagePicker,{selectedId:t,chooseImage:e=>this.setState({newImageId:e}),deleteButton:!0}))))}renderEditingCustomAttributes(){const{place:e,ui:t,customAttributes:n}=this.props;return n.map((n,o)=>{const{name:i,type:a}=n;return"paragraph"==a?r.default.createElement("div",{key:o},r.default.createElement(l.ControlLabel,null,i),r.default.createElement(u.RichText,{description:e[i],onChange:e=>this.handleAttrDescriptionChange(i,e),editable:!0,autofocus:!1,darkMode:t.darkMode})):r.default.createElement(l.FormGroup,{key:o},r.default.createElement(l.ControlLabel,null,i),r.default.createElement(l.FormControl,{type:"text",inputRef:e=>{this[i+"InputRef"]=e},defaultValue:e[i],onKeyDown:this.handleEsc,onKeyPress:this.handleEnter}))})}renderEditing(){const{place:e,ui:t}=this.props;return r.default.createElement("div",{className:"place-list__place-wrapper"},r.default.createElement("div",{className:(0,s.default)("place-list__place","editing",{darkmode:t.darkMode})},r.default.createElement("div",{className:"place-list__place__edit-form"},r.default.createElement("div",{className:"place-list__inputs__normal"},r.default.createElement(l.FormGroup,null,r.default.createElement(l.ControlLabel,null,(0,c.t)("Name")),r.default.createElement(l.FormControl,{type:"text",inputRef:e=>{this.nameInputRef=e},autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.name})),r.default.createElement(l.FormGroup,null,r.default.createElement(l.ControlLabel,null,(0,c.t)("Short Description")),r.default.createElement(l.FormControl,{type:"text",inputRef:e=>{this.descriptionInputRef=e},onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.description})),this.renderEditingImage(),r.default.createElement(l.FormGroup,null,r.default.createElement(l.ControlLabel,null,(0,c.t)("Notes")),r.default.createElement(u.RichText,{description:e.notes,onChange:e=>this.setState({notes:e}),editable:!0,autofocus:!1,darkMode:t.darkMode}))),r.default.createElement("div",{className:"place-list__inputs__custom"},this.renderEditingCustomAttributes())),r.default.createElement(l.ButtonToolbar,{className:"card-dialog__button-bar"},r.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveEdit},(0,c.t)("Save")),r.default.createElement(l.Button,{className:"card-dialog__delete",onClick:this.handleDelete},(0,c.t)("Delete")))))}renderPlace(){const{place:e,customAttributes:t,ui:n}=this.props,o=t.map((t,o)=>{const{name:i,type:a}=t;let s=r.default.createElement("dd",null,e[i]);return"paragraph"==a&&(s=r.default.createElement("dd",null,r.default.createElement(u.RichText,{description:e[i],darkMode:n.darkMode}))),r.default.createElement("dl",{key:o,className:"dl-horizontal"},r.default.createElement("dt",null,i),s)});return r.default.createElement("div",{className:"place-list__place-wrapper"},this.renderDelete(),r.default.createElement("div",{className:"place-list__place",onClick:this.props.startEditing},r.default.createElement("h4",{className:"secondary-text"},e.name||(0,c.t)("New Place")),r.default.createElement("div",{className:"place-list__place-inner"},r.default.createElement("div",null,r.default.createElement("dl",{className:"dl-horizontal"},r.default.createElement("dt",null,(0,c.t)("Description")),r.default.createElement("dd",null,e.description)),o,r.default.createElement("dl",{className:"dl-horizontal"},r.default.createElement("dt",null,(0,c.t)("Notes")),r.default.createElement("dd",null,r.default.createElement(u.RichText,{description:e.notes,editable:!1,darkMode:this.props.ui.darkMode})))),r.default.createElement("div",{className:"place-list__right-side"},r.default.createElement(l.Glyphicon,{glyph:"pencil"}),r.default.createElement(u.Image,{responsive:!0,imageId:e.imageId})))))}render(){this.props.editing?window.SCROLLWITHKEYS=!1:window.SCROLLWITHKEYS=!0;const{place:e,tags:t,actions:n,ui:o}=this.props;return r.default.createElement("div",{className:(0,s.default)("place-list__place-view",{darkmode:o.darkMode})},r.default.createElement("div",{className:"place-list__place-view__left-side"},r.default.createElement(u.BookSelectList,{selectedBooks:e.bookIds,parentId:e.id,add:n.addBook,remove:n.removeBook}),r.default.createElement(u.SelectList,{parentId:e.id,type:"Tags",selectedItems:e.tags,allItems:t,add:n.addTag,remove:n.removeTag})),r.default.createElement("div",{className:"place-list__place-view__right-side"},this.props.editing?this.renderEditing():this.renderPlace()))}}g.propTypes={place:o.default.object.isRequired,editing:o.default.bool.isRequired,startEditing:o.default.func.isRequired,stopEditing:o.default.func.isRequired,actions:o.default.object.isRequired,customAttributes:o.default.array.isRequired,cards:o.default.array.isRequired,notes:o.default.array.isRequired,ui:o.default.object.isRequired,tags:o.default.array.isRequired,places:o.default.array};var v=(0,i.connect)((function(e){return{customAttributes:e.present.customAttributes.places,cards:e.present.cards,notes:e.present.notes,ui:e.present.ui,tags:m(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(b,e)}}))(g);t.default=v},1197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=d(n(16)),i=n(24),a=n(27),s=n(20),l=n(7),c=d(n(5)),u=n(22);function d(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=n(12).actions.place;class m extends r.Component{constructor(e){super(e),f(this,"state",{deleting:!1}),f(this,"scrollIntoView",()=>{if(this.props.selected){const e=this.ref.current;e&&e.scrollIntoView()}}),f(this,"deletePlace",e=>{e.stopPropagation(),this.props.actions.deletePlace(this.props.place.id)}),f(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),f(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEdit()}),f(this,"selectPlace",()=>{const{place:e,selected:t,select:n,startEdit:r}=this.props;t?r():n(e.id)}),f(this,"startEditing",e=>{e.stopPropagation(),this.props.select(this.props.place.id),this.props.startEdit()}),this.ref=r.default.createRef()}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderDelete(){return this.state.deleting?r.default.createElement(u.DeleteConfirmModal,{name:this.props.place.name||(0,l.t)("New Place"),onDelete:this.deletePlace,onCancel:this.cancelDelete}):null}render(){const{place:e,selected:t}=this.props;let n=null;e.imageId&&(n=r.default.createElement("div",{className:"place-list__item-inner__image-wrapper"},r.default.createElement(u.Image,{size:"small",shape:"rounded",imageId:e.imageId})));const o=(0,c.default)("list-group-item",{selected:t}),i=(0,c.default)("place-list__item-buttons",{visible:t});return r.default.createElement("div",{className:o,ref:this.ref,onClick:this.selectPlace},this.renderDelete(),r.default.createElement("div",{className:"place-list__item-inner"},n,r.default.createElement("div",null,r.default.createElement("h6",{className:(0,c.default)("list-group-item-heading",{withImage:!!e.imageId})},e.name||(0,l.t)("New Place")),r.default.createElement("p",{className:"list-group-item-text"},e.description.substr(0,100))),r.default.createElement(s.ButtonGroup,{className:i},r.default.createElement(s.Button,{bsSize:"small",onClick:this.startEditing},r.default.createElement(s.Glyphicon,{glyph:"edit"})),r.default.createElement(s.Button,{bsSize:"small",onClick:this.handleDelete},r.default.createElement(s.Glyphicon,{glyph:"trash"})))))}}f(m,"propTypes",{place:o.default.object.isRequired,selected:o.default.bool.isRequired,select:o.default.func.isRequired,startEdit:o.default.func.isRequired,stopEdit:o.default.func.isRequired,actions:o.default.object.isRequired});var b=(0,i.connect)((function(e){return{}}),(function(e){return{actions:(0,a.bindActionCreators)(h,e)}}))(m);t.default=b},1198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.default.createElement(i.ErrorBoundary,null,o.default.createElement(i.NoteListView,null))};var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(22)},1199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),o=n(22),i=a(n(1200));function a(e){return e&&e.__esModule?e:{default:e}}const s=()=>r.default.createElement(o.ErrorBoundary,null,r.default.createElement(i.default,null));var l=r.default.memo(s);t.default=l},1200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=E();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=n(18),i=y(n(16)),a=n(24),s=n(27),l=n(20),c=n(74),u=n(7),d=y(n(1201)),p=y(n(5)),f=n(22),h=n(85),m=n(540),b=y(n(1214)),g=n(12),v=y(n(68));function y(e){return e&&e.__esModule?e:{default:e}}function E(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return E=function(){return e},e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=o.remote.getCurrentWindow();class S extends r.Component{constructor(e){super(e),w(this,"closeBeatConfig",()=>{this.setState({beatConfigIsOpen:!1}),this.props.tour.run&&4===this.props.tour.stepIndex&&this.props.tourActions.tourNext("next")}),w(this,"openBeatConfig",()=>{this.setState({beatConfigIsOpen:!0}),this.props.tour.run&&0===this.props.tour.stepIndex&&this.props.tourActions.tourNext("next")}),w(this,"openCustomAttributesDialog",()=>{this.props.actions.openAttributesDialog()}),w(this,"clearFilter",()=>{this.props.actions.setTimelineFilter({tag:[],character:[],place:[],color:[]})}),w(this,"scrollTo",e=>{const t={behavior:"smooth"};"vertical"===this.props.ui.orientation?t.top=e:t.left=e,this.tableRef.scrollTo(t)}),w(this,"scrollDistance",()=>"vertical"===this.props.ui.orientation?228:384),w(this,"scrollLeft",()=>{v.default.push("btn_scroll_left");const e="vertical"===this.props.ui.orientation?this.tableRef.scrollTop:this.tableRef.scrollLeft;this.scrollTo(e-this.scrollDistance())}),w(this,"scrollRight",()=>{v.default.push("btn_scroll_right");const e="vertical"===this.props.ui.orientation?this.tableRef.scrollTop:this.tableRef.scrollLeft;this.scrollTo(e+this.scrollDistance())}),w(this,"scrollBeginning",()=>{v.default.push("btn_scroll_beginning"),this.scrollTo(0)}),w(this,"scrollMiddle",()=>{v.default.push("btn_scroll_middle");const e="vertical"===this.props.ui.orientation?this.tableRef.scrollHeight/2-window.innerHeight/2:this.tableRef.scrollWidth/2-window.innerWidth/2;this.scrollTo(e)}),w(this,"scrollEnd",()=>{v.default.push("btn_scroll_end");const e="vertical"===this.props.ui.orientation?this.tableRef.scrollHeight:this.tableRef.scrollWidth;this.scrollTo(e)}),w(this,"scrollHandler",e=>{const t={x:e.currentTarget.scrollLeft,y:e.currentTarget.scrollTop};clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.props.actions.recordScrollPosition(t)},500)}),w(this,"flipOrientation",()=>{let e="horizontal"===this.props.ui.orientation?"vertical":"horizontal";this.props.actions.changeOrientation(e)}),w(this,"toggleExpanded",()=>{this.props.ui.timelineIsExpanded?this.props.actions.collapseTimeline():this.props.actions.expandTimeline()}),w(this,"startSaveAsTemplate",()=>{o.ipcRenderer.sendTo(O.webContents.id,"save-as-template-start","plotlines")}),w(this,"closeCustomAttributesDialog",()=>{this.props.actions.closeAttributesDialog()}),this.state={mounted:!1,beatConfigIsOpen:!1},this.tableRef=null}componentDidMount(){this.props.isSmall||(this.tableRef&&(this.tableRef.onscroll=this.scrollHandler),setTimeout(()=>{this.setState({mounted:!0},()=>{null!=this.props.ui.timelineScrollPosition&&this.tableRef&&this.tableRef.scrollTo({top:this.props.ui.timelineScrollPosition.y,left:this.props.ui.timelineScrollPosition.x,behavior:"auto"})})},10))}UNSAFE_componentWillReceiveProps(e){const{ui:t}=this.props;e.ui.currentTimeline==t.currentTimeline&&e.ui.orientation==t.orientation&&e.ui.timeline.size==t.timeline.size||(this.setState({mounted:!1}),setTimeout(()=>this.setState({mounted:!0},()=>{null!=e.ui.timelineScrollPosition&&this.tableRef&&this.tableRef.scrollTo({top:this.props.ui.timelineScrollPosition.y,left:this.props.ui.timelineScrollPosition.x,behavior:"auto"})}),10))}componentWillUnmount(){this.tableRef&&(this.tableRef.onScroll=null,this.tableRef=null)}renderSubNav(){const{ui:e,filterIsEmpty:t,featureFlags:n,isSmall:o,isMedium:i,isLarge:a,actions:s}=this.props,c=g.helpers.featureFlags.gatedByBeatHierarchy(n);let d="option-vertical",v="menu-left",y="menu-right";"vertical"===e.orientation&&(d="option-horizontal",v="menu-up",y="menu-down");let E=r.default.createElement(l.Popover,{id:"filter"},r.default.createElement(f.CustomAttrFilterList,{type:"cards",showColor:!0})),w=r.default.createElement(l.Alert,{onClick:this.clearFilter,bsStyle:"warning"},r.default.createElement(l.Glyphicon,{glyph:"remove-sign"}),"  ",(0,u.t)("Timeline is filtered"));return t&&(w=r.default.createElement("span",null)),r.default.createElement(f.SubNav,null,r.default.createElement(l.Nav,{bsStyle:"pills"},r.default.createElement(l.NavItem,null,r.default.createElement(l.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:E},r.default.createElement(l.Button,{bsSize:"small"},r.default.createElement(l.Glyphicon,{glyph:"filter"})," ",(0,u.t)("Filter"))),w),r.default.createElement(l.NavItem,null,r.default.createElement(l.Button,{bsSize:"small",onClick:this.flipOrientation},r.default.createElement(l.Glyphicon,{glyph:d})," ",(0,u.t)("Flip"))),r.default.createElement(l.NavItem,null,r.default.createElement(l.Button,{bsSize:"small",onClick:this.openCustomAttributesDialog},r.default.createElement(l.Glyphicon,{glyph:"list"})," ",(0,u.t)("Attributes"))),c(()=>r.default.createElement(l.NavItem,null,r.default.createElement(l.Button,{bsSize:"small",onClick:this.openBeatConfig,className:"acts-tour-step1"},r.default.createElement(m.VscSymbolStructure,{size:16,style:{verticalAlign:"text-bottom",marginRight:"4px"}}),(0,u.t)("Structure")))),r.default.createElement(l.NavItem,null,r.default.createElement("span",{className:"subnav__container__label"},(0,u.t)("Zoom"),": "),r.default.createElement(l.ButtonGroup,null,r.default.createElement(l.Button,{bsSize:"small",className:(0,p.default)({active:a}),onClick:()=>s.setTimelineSize("large"),title:(0,u.t)("Size: large")},"L"),r.default.createElement(l.Button,{bsSize:"small",className:(0,p.default)({active:i}),onClick:()=>s.setTimelineSize("medium"),title:(0,u.t)("Size: medium")},"M"),r.default.createElement(l.Button,{bsSize:"small",className:(0,p.default)({active:o}),onClick:()=>s.setTimelineSize("small"),title:(0,u.t)("Size: small")},"S"))),r.default.createElement(l.NavItem,null,r.default.createElement("span",{className:"subnav__container__label"},(0,u.t)("Scroll"),": "),r.default.createElement(l.ButtonGroup,{bsSize:"small"},r.default.createElement(l.Button,{onClick:this.scrollLeft},r.default.createElement(l.Glyphicon,{glyph:v})),r.default.createElement(l.Button,{onClick:this.scrollRight},r.default.createElement(l.Glyphicon,{glyph:y})),r.default.createElement(l.Button,{onClick:this.scrollBeginning},(0,u.t)("Beginning")),r.default.createElement(l.Button,{onClick:this.scrollMiddle},(0,u.t)("Middle")),r.default.createElement(l.Button,{onClick:this.scrollEnd},(0,u.t)("End")))),r.default.createElement(l.NavItem,null,r.default.createElement(l.Button,{bsSize:"small",onClick:this.startSaveAsTemplate},r.default.createElement(h.FaSave,{className:"svg-save-template"})," ",(0,u.t)("Save as Template"))),r.default.createElement(b.default,null),r.default.createElement(f.ExportNavItem,null)))}renderBody(){const{ui:e,isSmall:t}=this.props;return t?r.default.createElement(d.default,{tableRef:this.tableRef}):r.default.createElement(c.StickyTable,{leftColumnZ:5,headerZ:5,wrapperRef:e=>this.tableRef=e,className:(0,p.default)({darkmode:e.darkMode,vertical:"vertical"==e.orientation})},this.state.mounted?r.default.createElement(d.default,{tableRef:this.tableRef,scrollTo:e=>this.scrollTo(e)}):r.default.createElement(f.FunSpinner,null))}renderCustomAttributes(){return this.props.ui.attributesDialogIsOpen?r.default.createElement(f.CustomAttributeModal,{type:"scenes",closeDialog:this.closeCustomAttributesDialog}):null}renderBeatConfig(){return g.helpers.featureFlags.gatedByBeatHierarchy(this.props.featureFlags)(()=>this.state.beatConfigIsOpen?r.default.createElement(f.ActsConfigModal,{closeDialog:this.closeBeatConfig}):null)}render(){const{ui:e}=this.props;return r.default.createElement("div",{id:"timelineview__container",className:(0,p.default)("container-with-sub-nav",{darkmode:e.darkMode})},this.renderSubNav(),this.renderCustomAttributes(),this.renderBeatConfig(),r.default.createElement("div",{id:"timelineview__root",className:"tab-body"},this.renderBody()))}}S.propTypes={ui:i.default.object.isRequired,isSmall:i.default.bool,isMedium:i.default.bool,isLarge:i.default.bool,featureFlags:i.default.object.isRequired,filterIsEmpty:i.default.bool.isRequired,actions:i.default.object.isRequired,tourActions:i.default.object.isRequired,tour:i.default.object.isRequired};var C=(0,a.connect)((function(e){return{ui:e.present.ui,filterIsEmpty:g.selectors.timelineFilterIsEmptySelector(e.present),isSmall:g.selectors.isSmallSelector(e.present),isMedium:g.selectors.isMediumSelector(e.present),isLarge:g.selectors.isLargeSelector(e.present),featureFlags:g.selectors.featureFlags(e.present),tour:g.selectors.tourSelector(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(g.actions.ui,e),tourActions:(0,s.bindActionCreators)(g.actions.tour,e)}}))(S);t.default=C},1201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=v(n(16)),i=n(24),a=n(11),s=n(27),l=v(n(5)),c=n(74),u=v(n(1202)),d=v(n(536)),p=v(n(537)),f=v(n(538)),h=v(n(1212)),m=v(n(539)),b=v(n(1213)),g=n(12);function v(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{card:w}=g.initialState,{beats:{nextId:O,hasChildren:S},lists:{reorderList:C}}=g.helpers,{cardMapSelector:_,visibleSortedBeatsByBookSelector:k,beatsByBookSelector:x,beatHasChildrenSelector:I,sortedLinesByBookSelector:T,isSeriesSelector:A,isLargeSelector:P,isSmallSelector:j,isMediumSelector:D,sparceBeatMap:R}=g.selectors,N=g.actions.line,M=g.actions.beat,B=g.actions.card,L=g.actions.ui;class F extends r.Component{constructor(...e){super(...e),E(this,"state",{tableLength:0,hovering:null}),E(this,"setLength",()=>{const{tableRef:e,ui:t,isSmall:n}=this.props;if(n)return;const r=(0,a.findDOMNode)(e);if(!r)return;let o=r.scrollWidth;"horizontal"!=t.orientation&&(o=r.scrollHeight),this.state.tableLength!=o&&this.setState({tableLength:o})}),E(this,"handleReorderBeats",(e,t)=>{this.props.beatActions.reorderBeats(t,e,this.props.ui.currentTimeline)}),E(this,"handleReorderLines",(e,t)=>{const n=C(e,t,this.props.lines);this.props.lineActions.reorderLines(n,this.props.ui.currentTimeline)}),E(this,"startHovering",e=>(this.setState({hovering:e}),e)),E(this,"stopHovering",()=>(this.setState({hovering:null}),null)),E(this,"handleInsertNewBeat",e=>{const{ui:t,beatActions:n}=this.props;n.insertBeat(t.currentTimeline,e)}),E(this,"handleInsertChildBeat",e=>{const{ui:t,beatActions:n}=this.props;n.addBeat(t.currentTimeline,e),n.expandBeat(e,t.currentTimeline)}),E(this,"handleAppendBeat",()=>{this.props.beatActions.addBeat(this.props.ui.currentTimeline)})}componentDidMount(){this.setLength()}componentDidUpdate(){this.setLength()}lineMapping(){return this.props.lines.reduce((e,t)=>(e[t.position]=t,e),{})}buildCard(e,t){return Object.assign({},w,{beatId:t,lineId:e})}renderHorizontal(){const{lines:e,isSmall:t,ui:n}=this.props,o=this.props.beatMapping,i=Object.keys(o);let a=0;return[...e.map(e=>{const s=r.default.createElement(p.default,{line:e,handleReorder:this.handleReorderLines,bookId:n.currentTimeline}),l=this.renderHorizontalCards(e,o,i);return a=l.length,t?r.default.createElement("tr",{key:"lineId-"+e.id},s,l,r.default.createElement("td",null)):r.default.createElement(c.Row,{key:"lineId-"+e.id},s,l)}),r.default.createElement(b.default,{key:"insert-line",bookId:n.currentTimeline,howManyCells:a})]}renderVertical(){const e=this.lineMapping(),t=Object.keys(e),{beats:n,beatActions:o,ui:i,isSmall:a,booksBeats:s,isLarge:l}=this.props,u=e=>()=>{e&&(e.expanded?o.collapseBeat(e.id,i.currentTimeline):o.expandBeat(e.id,i.currentTimeline))},d=n.map((o,i)=>{let d=[];(l||0===i)&&(d=t.flatMap((t,i)=>{const a=e[t];return r.default.createElement(f.default,{key:t+"-insert",beatToLeft:n[i-1],isInBeatList:!1,handleInsert:this.handleInsertNewBeat,color:a.color,showLine:0==o.position,tableLength:this.state.tableLength,hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering})}));const p=r.default.createElement(m.default,{beatId:o.id,handleReorder:this.handleReorderBeats,scrollTo:e=>this.props.scrollTo(e),hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering});if(a)return r.default.createElement("tr",{key:"beatId-"+o.id},p,this.renderVerticalCards(o,e,t));{const a=n[i-1];return[r.default.createElement(c.Row,{key:"beatId-"+o.id},l||0===i?r.default.createElement(f.default,{isFirst:0===i,isInBeatList:!0,beatToLeft:n[i-1],handleInsertChild:a&&S(s,a&&a.id)?void 0:()=>this.handleInsertChildBeat(n[i-1].id),expanded:a&&a.expanded,toggleExpanded:u(a),handleInsert:this.handleInsertNewBeat,hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering}):null,d),r.default.createElement(c.Row,{key:`beatId-${o.id}-insert`},p,this.renderVerticalCards(o,e,t))]}});let p;if(a){const e=t.map(e=>r.default.createElement("td",{key:e}));p=[r.default.createElement("tr",{key:"last-insert"},r.default.createElement(f.default,{isInBeatList:!0,handleInsert:this.handleAppendBeat,isLast:!0}),[...e,r.default.createElement("td",{key:"empty-cell"})])]}else{const e=n[n.length-1];p=[],l&&p.push(r.default.createElement(c.Row,{key:"second-last-insert"},r.default.createElement(f.default,{isInBeatList:!0,handleInsert:this.handleInsertNewBeat,beatToLeft:e,handleInsertChild:e&&S(s,e&&e.id)?void 0:()=>this.handleInsertChildBeat(e.id),expanded:e&&e.expanded,toggleExpanded:u(e)}))),p.push(r.default.createElement(c.Row,{key:"last-insert"},r.default.createElement(f.default,{isInBeatList:!0,handleInsert:this.handleAppendBeat,isLast:!0,beatToLeft:e,handleInsertChild:e&&S(s,e&&e.id)?void 0:()=>this.handleInsertChildBeat(e.id),expanded:e&&e.expanded,toggleExpanded:u(e)})))}return[...d,...p]}renderRows(){return"horizontal"===this.props.ui.orientation?this.renderHorizontal():this.renderVertical()}renderHorizontalCards(e,t,n){const{beats:o,cardMap:i,isLarge:a,isMedium:s,beatHasChildrenMap:l}=this.props;return n.flatMap(n=>{const c=[],p=t[n],h=o[n];(a||s&&0==n)&&c.push(r.default.createElement(f.default,{key:n+"-insert",isInBeatList:!1,lineId:e.id,handleInsert:this.handleInsertNewBeat,beatToLeft:o[n-1],showLine:0==n,color:e.color,tableLength:this.state.tableLength}));const m=i[`${e.id}-${p}`],b=`${m?"card":"blank"}-${n}-${e.position}`;return m?c.push(r.default.createElement(u.default,{key:b,cards:m,beatIsExpanded:h&&h.expanded||!l.get(h.id),beatId:p,lineId:e.id,beatPosition:n,linePosition:e.position,color:e.color})):c.push(r.default.createElement(d.default,{beatId:p,lineId:e.id,key:b,color:e.color})),c})}renderVerticalCards(e,t,n){const{cardMap:o,isSmall:i}=this.props,a=n.flatMap(n=>{const i=[],a=t[n],s=o[`${a.id}-${e.id}`],l=`${s?"card":"blank"}-${e.position}-${n}`;return s?i.push(r.default.createElement(u.default,{key:l,cards:s,beatIsExpanded:e&&e.expanded,beatId:e.id,lineId:a.id,beatPosition:e.position,linePosition:n,color:a.color})):i.push(r.default.createElement(d.default,{beatId:e.id,lineId:a.id,key:l,color:a.color})),i});return i?[...a,r.default.createElement("td",{key:"empty-cell"})]:a}render(){const{ui:e,isSmall:t}=this.props;return t?r.default.createElement("div",{className:(0,l.default)("small-timeline__wrapper",{darkmode:e.darkMode,vertical:"vertical"==e.orientation})},r.default.createElement("table",{className:"table-header-rotated"},r.default.createElement(h.default,null),r.default.createElement("tbody",null,this.renderRows()))):[r.default.createElement(h.default,{key:"top-row",scrollTo:e=>this.props.scrollTo(e)}),this.renderRows()]}}F.propTypes={nextBeatId:o.default.number,beats:o.default.array,beatHasChildrenMap:o.default.instanceOf(Map).isRequired,booksBeats:o.default.object,beatMapping:o.default.object,lines:o.default.array,cardMap:o.default.object.isRequired,ui:o.default.object.isRequired,scrollTo:o.default.func.isRequired,isSeries:o.default.bool,isSmall:o.default.bool,isMedium:o.default.bool,isLarge:o.default.bool,tableRef:o.default.object,actions:o.default.object,lineActions:o.default.object,cardActions:o.default.object,beatActions:o.default.object};var q=(0,i.connect)((function(e){return{beats:k(e.present),booksBeats:x(e.present),beatHasChildrenMap:I(e.present),beatMapping:R(e.present),nextBeatId:O(e.present.beats),lines:T(e.present),cardMap:_(e.present),ui:e.present.ui,isSeries:A(e.present),isSmall:j(e.present),isMedium:D(e.present),isLarge:P(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(L,e),lineActions:(0,s.bindActionCreators)(N,e),cardActions:(0,s.bindActionCreators)(B,e),beatActions:(0,s.bindActionCreators)(M,e)}}))(F);t.default=q},1202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=h(n(16)),i=n(24),a=n(27),s=n(74),l=h(n(1203)),c=h(n(5)),u=h(n(237)),d=h(n(1210)),p=n(22),f=n(12);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{lists:{reorderList:g,moveToAbove:v}}=f.helpers;class y extends r.PureComponent{constructor(...e){super(...e),b(this,"moveSceneCardAbove",(e,t)=>{const{beatId:n,lineId:r,cards:o}=this.props;let i=[];const a=o.map(e=>e.id);if(a.includes(e)){const n=o.find(t=>t.id==e).positionWithinLine;i=v(n,t,a)}else i=a,i.splice(t,0,e);this.props.actions.reorderCardsWithinLine(n,r,i)}),b(this,"moveSceneCard",(e,t)=>{const{beatId:n,lineId:r,cards:o}=this.props;let i=[];const a=o.map(e=>e.id);if(a.includes(e)){const n=o.find(t=>t.id==e).positionWithinLine;i=g(t,n,a)}else i=a,i.splice(t,0,e);this.props.actions.reorderCardsWithinLine(n,r,i)}),b(this,"addSceneCard",e=>{const t=this.buildCard(e),n=this.props.cards.map(e=>e.id);n.splice(e.positionWithinLine,0,null),this.props.actions.addNewCardInBeat(t,n)}),b(this,"renderHiddenCards",()=>r.default.createElement("div",{className:"card__hidden-cards"},this.renderCards(!1)))}buildCard(e){const{beatId:t,lineId:n}=this.props;return Object.assign({},{beatId:t,lineId:n},e)}renderCards(e){const{beatId:t,lineId:n,beatPosition:o,linePosition:i,color:a,cards:s,isSmall:c}=this.props,u=s.length-1;return s.map((f,h)=>{const m=h==s.length-1;return r.default.createElement("div",{key:f.id},r.default.createElement(p.ErrorBoundary,null,r.default.createElement(l.default,{card:f,beatId:t,lineId:n,idx:h,beatPosition:o,linePosition:i,color:a,last:u==h,moveCard:this.moveSceneCardAbove,allowDrop:e||c})),e?r.default.createElement(d.default,{color:a,positionWithinLine:h,moveCard:this.moveSceneCard,addCard:this.addSceneCard,allowDrop:m,dropPosition:s.length,beatId:t,lineId:n}):null)})}renderBody(){const{cards:e,ui:t,isVisible:n,color:o,lineIsExpanded:i,beatIsExpanded:a,isMedium:s}=this.props,l=e.length,p="vertical"==t.orientation;if(a&&(i||1==l)){const e=(0,c.default)("card__cell",{multiple:l>1,vertical:p,"medium-timeline":s});return r.default.createElement("div",{className:e},this.renderCards(!0))}{let t={borderColor:o};n||(t.opacity="0.1");const i=(0,c.default)("card__body shadow",{"medium-timeline":s}),a=(0,c.default)("card__cell__overview-cell",{vertical:p,"medium-timeline":s});return r.default.createElement("div",{className:a},r.default.createElement("div",null,r.default.createElement(u.default,{component:this.renderHiddenCards,placement:"right",offset:0,disableAnimation:!0,styles:{wrapper:{cursor:"pointer"}}},r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:i,style:t},r.default.createElement("div",{className:"card__title"},e[0].title)),r.default.createElement("div",{className:"card__behind",style:t})))),r.default.createElement(d.default,{color:this.props.color,positionWithinLine:l,moveCard:this.moveSceneCard,addCard:this.addSceneCard,beatId:this.props.beatId,lineId:this.props.lineId,allowDrop:!0}))}}render(){const{cards:e,isSmall:t}=this.props;return e.length?t?r.default.createElement("td",null,this.renderCards(!1)):r.default.createElement(s.Cell,null,this.renderBody()):t?r.default.createElement("td",null):r.default.createElement(s.Cell,null)}}y.propTypes={cards:o.default.array,beatId:o.default.number.isRequired,lineId:o.default.number.isRequired,color:o.default.string.isRequired,linePosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,beatPosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,ui:o.default.object.isRequired,beatIsExpanded:o.default.bool,lineIsExpanded:o.default.bool.isRequired,isVisible:o.default.bool.isRequired,isSmall:o.default.bool.isRequired,isMedium:o.default.bool.isRequired,actions:o.default.object.isRequired};var E=(0,i.connect)((function(e,t){const n=f.selectors.visibleCardsSelector(e.present),r=t.cards.some(e=>n[e.id]);return{ui:e.present.ui,lineIsExpanded:f.selectors.lineIsExpandedSelector(e.present)[t.lineId],isVisible:r,isSmall:f.selectors.isSmallSelector(e.present),isMedium:f.selectors.isMediumSelector(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(f.actions.card,e)}}))(y);t.default=E},1203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=m(n(16)),i=n(24),a=n(27),s=m(n(1204)),l=n(20),c=n(22),u=m(n(5)),d=n(85),p=n(12),f=n(1207),h=m(n(322));function m(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{visibleCardsSelector:v,isSmallSelector:y,isMediumSelector:E}=p.selectors,w=p.actions.card,{card:{truncateTitle:O}}=p.helpers;class S extends r.Component{constructor(e){super(e),g(this,"cardRef",(0,r.createRef)()),g(this,"closeDialog",()=>{this.setState({dialogOpen:!1})}),g(this,"handleDragStart",e=>{this.setState({dragging:!0}),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify({cardId:this.props.card.id}))}),g(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),g(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),g(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),g(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),g(this,"handleDrop",e=>{if(e.stopPropagation(),e.preventDefault(),this.state.dragging)return;if(!this.props.allowDrop)return;this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),n=JSON.parse(t);n.cardId&&this.props.moveCard(n.cardId,this.props.idx)}),g(this,"startHovering",()=>{this.setState({hovering:!0})}),g(this,"stopHovering",()=>{this.setState({hovering:!1})}),g(this,"openDialog",()=>{this.setState({dialogOpen:!0})}),this.state={dialogOpen:!1,dragging:!1,inDropZone:!1,dropDepth:0,hovering:!1}}renderDialog(){if(!this.state.dialogOpen)return null;const{ui:e,card:t,beatId:n,lineId:o}=this.props;return r.default.createElement(s.default,{ui:e,card:t,beatId:n,lineId:o,closeDialog:this.closeDialog})}renderPopover(){return r.default.createElement(l.Popover,{title:this.props.card.title,id:"card-popover-"+this.props.card.id},r.default.createElement("div",{className:"card__popover-wrapper"},r.default.createElement(c.RichText,{description:this.props.card.description,editable:!1,className:"card__popover-description",darkMode:this.props.ui.darkMode}),this.renderTags()))}hasDetailsToShow(){const{card:e}=this.props;return!(!e.tags||!e.tags.length)||!!e.description&&(!!e.description.length&&(e.description.length>1||!(1==e.description.length&&e.description[0]&&e.description[0].children&&1==e.description[0].children.length&&e.description[0].children[0]&&""==e.description[0].children[0].text)))}renderTags(){const{card:e,tags:t}=this.props;if(!e.tags||!e.tags.length)return null;const n=e.tags.map(e=>{const n=t.find(t=>t.id==e);return n?r.default.createElement(c.TagLabel,{tag:n,key:"taglabel-"+e}):null});return r.default.createElement("div",{className:"card__popover-labels"},n)}renderDropZone(){const{color:e,allowDrop:t,isSmall:n}=this.props;if(!t)return;if(!this.state.inDropZone)return;let o={};return n&&(o={color:e}),r.default.createElement("div",{className:"card__drop-zone"},r.default.createElement(d.FaCircle,{style:o}))}renderTitle(){const{card:e,isSmall:t,ui:n,beatPosition:o,linePosition:i}=this.props;let a={};if(!t&&e.color){a.backgroundColor=e.color;const[t,n]=(0,f.getContrastYIQ)(e.color&&e.color||"#F1F5F8");t||(a.color="white")}let s=r.default.createElement("div",{className:"card__title",style:a},t?"":O(e.title,150));if(!this.state.dragging&&(t||this.hasDetailsToShow())){let e="left";(t||"horizontal"===n.orientation&&Number(o)<=2||Number(i)<=2)&&(e="right");const a=this.cardRef.current?this.cardRef.current.getBoundingClientRect():null,c=document.querySelector("#react-root").getBoundingClientRect().width/2;a&&(a.x>c&&(e="left"),a.x<c&&(e="right")),s=r.default.createElement(l.OverlayTrigger,{placement:e,overlay:this.renderPopover()},s)}return s}render(){const{color:e,card:t,isVisible:n,allowDrop:o,last:i,isSmall:a,isMedium:s,ui:l}=this.props;var c={borderColor:t.color?(0,h.default)(t.color).darken(10).toHslString():e};if(this.state.dragging&&(c.opacity="0.5"),n||(c.opacity="0.1"),a)return r.default.createElement("div",{ref:this.cardRef,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderDropZone(),this.renderDialog(),r.default.createElement("div",{className:"card-circle",style:{backgroundColor:e},draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseOver:this.startHovering,onMouseLeave:this.stopHovering},r.default.createElement("div",{onClick:this.openDialog},this.renderTitle())));{const e=(0,u.default)("card__body",{"medium-timeline":s,vertical:"vertical"==l.orientation});return r.default.createElement("div",{ref:this.cardRef,className:(0,u.default)("card__body-wrapper",{lastOne:i}),onDragEnter:o?this.handleDragEnter:null,onDragOver:o?this.handleDragOver:null,onDragLeave:o?this.handleDragLeave:null,onDrop:o?this.handleDrop:null},this.renderDialog(),this.renderDropZone(),r.default.createElement("div",{className:e,style:c,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onClick:this.openDialog,onMouseOver:this.startHovering,onMouseLeave:this.stopHovering},this.renderTitle()))}}shouldComponentUpdate(e,t){return this.state.dragging!=t.dragging||(this.state.dialogOpen!=t.dialogOpen||(this.state.inDropZone!=t.inDropZone||(this.state.hovering!=t.hovering||(this.props.color!=e.color||(this.props.isVisible!=e.isVisible||(this.props.card!=e.card||(this.props.last!=e.last||this.props.ui.timeline.size!=e.ui.timeline.size)))))))}}S.propTypes={card:o.default.object.isRequired,beatId:o.default.number.isRequired,lineId:o.default.number.isRequired,color:o.default.string.isRequired,last:o.default.bool.isRequired,linePosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,beatPosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,moveCard:o.default.func.isRequired,idx:o.default.number.isRequired,allowDrop:o.default.bool.isRequired,tags:o.default.array,ui:o.default.object.isRequired,isVisible:o.default.bool.isRequired,isSmall:o.default.bool.isRequired,isMedium:o.default.bool.isRequired};var C=(0,i.connect)((function(e,t){return{tags:e.present.tags,ui:e.present.ui,isVisible:v(e.present)[t.card.id],isSmall:y(e.present),isMedium:E(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(w,e)}}))(S);t.default=C},1204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=h(n(16)),i=h(n(1205)),a=n(24),s=n(27),l=n(20),c=n(7),u=h(n(5)),d=h(n(322)),p=n(22),f=n(12);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{card:{truncateTitle:g},beats:{beatTitle:v}}=f.helpers;class y extends r.Component{constructor(e){super(e),b(this,"selectTab",e=>()=>{this.setState({selected:e})}),b(this,"deleteCard",e=>{e.stopPropagation(),this.props.actions.deleteCard(this.props.card.id)}),b(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),b(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),b(this,"saveAndClose",()=>{this.props.closeDialog()}),b(this,"openColorPicker",()=>{this.setState({showColorPicker:!0})}),b(this,"handleAttrChange",e=>t=>{this.setState({attributes:{...this.state.attributes,[e]:t}})}),b(this,"handleTemplateAttrChange",(e,t)=>n=>{const r={...this.state.templateAttrs,[e]:{...this.state.templateAttrs[e],[t]:n}};this.setState({templateAttrs:r})}),b(this,"saveEdit",()=>{var e=this.titleInputRef.value;const t={};this.props.customAttributes.forEach(e=>{const{name:n}=e;t[n]=this.state.attributes[n]||this.props.card[n]});const n=this.props.card.templates.map(e=>(e.attributes=e.attributes.map(t=>(t.value=this.state.templateAttrs[e.id][t.name],t)),e));this.props.actions.editCard(this.props.card.id,e,this.state.description,n,t)}),b(this,"handleEnter",e=>{13===e.which&&this.saveAndClose()}),b(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),b(this,"handleNewAttributeTypeChange",e=>{this.setState({newAttributeType:e.target.checked?"paragraph":"text"})}),b(this,"addNewCustomAttribute",e=>{e&&this.props.customAttributeActions.addCardAttr({name:e,type:this.state.newAttributeType}),this.closeNewAttributeSection()}),b(this,"closeNewAttributeSection",()=>{this.setState({addingAttribute:!1,newAttributeType:"text"})}),b(this,"handleNewAttributeEnter",e=>{13===e.which&&this.addNewCustomAttribute(e.target.value)}),b(this,"onAddAttributeClicked",()=>{this.setState({addingAttribute:!0})}),b(this,"closeWithoutSaving",()=>{this.setState({cancelling:!0},this.props.closeDialog)}),b(this,"chooseCardColor",e=>{const{card:t,actions:n}=this.props;n.editCardAttributes(t.id,{color:e}),this.setState({showColorPicker:!1})});const t={};e.customAttributes.forEach(({name:n,type:r})=>{t[n]=e.card[n]});const n=e.card.templates.reduce((e,t)=>(e[t.id]=t.attributes.reduce((e,t)=>(e[t.name]=t.value,e),{}),e),{});this.state={description:e.card.description,attributes:t,deleting:!1,templateAttrs:n,selected:"Description",addingAttribute:!1,newAttributeType:"text",cancelling:!1,showColorPicker:!1},this.newAttributeInputRef=r.default.createRef(),this.titleInputRef=null,this.colorButtonRef=r.default.createRef()}componentDidMount(){window.SCROLLWITHKEYS=!1}componentDidUpdate(e){if(this.newAttributeInputRef.current&&this.newAttributeInputRef.current.focus(),this.props.customAttributes!=e.customAttributes){const e={};this.props.customAttributes.forEach(({name:t,type:n})=>{"text"===n&&(e[t]=this.props.card[t])}),this.setState({attributes:e})}}componentWillUnmount(){this.state.cancelling||this.saveEdit(),window.SCROLLWITHKEYS=!0}changeBeat(e){this.props.actions.changeBeat(this.props.card.id,e,this.props.ui.currentTimeline)}changeLine(e){this.props.actions.changeLine(this.props.card.id,e,this.props.ui.currentTimeline)}changeBook(e){this.props.actions.changeBook(this.props.card.id,e)}getCurrentBeat(){return this.props.beats.find(e=>e.id==this.props.beatId)}getCurrentLine(){return this.props.lines.find(e=>e.id==this.props.lineId)}getBookTitle(){const e=this.props.books[this.props.card.bookId];return e?e.title||(0,c.t)("Untitled"):(0,c.t)("Choose...")}renderDelete(){return this.state.deleting?r.default.createElement(p.DeleteConfirmModal,{name:this.props.card.title,onDelete:this.deleteCard,onCancel:this.cancelDelete}):null}renderEditingCustomAttributes(){const{card:e,ui:t,customAttributes:n}=this.props;return n.map((n,o)=>r.default.createElement(r.default.Fragment,{key:`custom-attribute-${o}-${n.name}`},r.default.createElement(p.EditAttribute,{index:o,entity:e,entityType:"scene",value:this.state.attributes[n.name],ui:t,onChange:this.handleAttrChange(n.name),onShortDescriptionKeyDown:this.handleEsc,onShortDescriptionKeyPress:this.handleEnter,name:n.name,type:n.type})))}renderEditingTemplates(){const{card:e,ui:t}=this.props;return e.templates.flatMap(n=>n.attributes.map((o,i)=>r.default.createElement(r.default.Fragment,{key:`template-attribute-${i}-${n.id}-${o.name}`},r.default.createElement(p.EditAttribute,{templateAttribute:!0,index:i,entity:e,entityType:"scene",value:this.state.templateAttrs[n.id][o.name],ui:t,inputId:`${n.id}-${o.name}Input`,onChange:this.handleTemplateAttrChange(n.id,o.name),onShortDescriptionKeyDown:this.handleEsc,onShortDescriptionKeyPress:this.handleEnter,name:o.name,type:o.type}))))}renderAddCustomAttribute(){return this.state.addingAttribute?r.default.createElement("div",null,r.default.createElement(l.FormGroup,null,r.default.createElement(l.ControlLabel,null,(0,c.t)("New Attribute")),r.default.createElement("input",{ref:this.newAttributeInputRef,className:"form-control",type:"text",onKeyDown:this.handleNewAttributeEnter})),r.default.createElement(l.FormGroup,null,r.default.createElement(l.ControlLabel,null,(0,c.t)("Paragraph")," "),r.default.createElement("input",{type:"checkbox",onChange:this.handleNewAttributeTypeChange})),r.default.createElement(l.ButtonToolbar,null,r.default.createElement(l.Button,{bsStyle:"success",onClick:()=>{this.newAttributeInputRef.current&&this.addNewCustomAttribute(this.newAttributeInputRef.current.value)}},(0,c.t)("Create")),r.default.createElement(l.Button,{onClick:this.closeNewAttributeSection},"Cancel"))):r.default.createElement(l.Button,{bsSize:"small",onClick:this.onAddAttributeClicked},r.default.createElement(l.Glyphicon,{glyph:"plus"}))}renderBeatItems(){const{beats:e,beatTree:t,hierarchyLevels:n,positionOffset:o,hierarchyEnabled:i,isSeries:a}=this.props;return e.map(e=>r.default.createElement(l.MenuItem,{key:e.id,onSelect:()=>this.changeBeat(e.id)},g(v(t,e,n,o,i,a),50)))}renderLineItems(){return this.props.lines.map(e=>r.default.createElement(l.MenuItem,{key:e.id,onSelect:()=>this.changeLine(e.id)},g(e.title,50)))}renderBooks(){const{books:e}=this.props;return e.allIds.map(t=>r.default.createElement(l.MenuItem,{key:t,onSelect:()=>this.changeBook(t)},e[t].title||(0,c.t)("Untitled")))}renderButtonBar(){return r.default.createElement(l.ButtonToolbar,{className:"card-dialog__button-bar"},r.default.createElement(l.Button,{onClick:this.closeWithoutSaving},(0,c.t)("Cancel")),r.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveAndClose},(0,c.t)("Save")),r.default.createElement(l.Button,{className:"card-dialog__delete",onClick:this.handleDelete},(0,c.t)("Delete")))}renderTitle(){const e=this.props.card.title;return r.default.createElement(l.FormControl,{style:{fontSize:"24pt",textAlign:"center",marginBottom:"6px"},onKeyPress:this.handleEnter,type:"text",inputRef:e=>{this.titleInputRef=e},defaultValue:e})}renderBookDropdown(){let e=null;if(this.props.card.bookId){const t=()=>{this.props.uiActions.changeCurrentTimeline(this.props.card.bookId),this.props.closeDialog()};e=r.default.createElement(l.Button,{onClick:t},(0,c.t)("View Timeline"))}return r.default.createElement("div",{className:"card-dialog__dropdown-wrapper",style:{marginBottom:"5px"}},r.default.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-book"},(0,c.t)("Book"),":",r.default.createElement(l.DropdownButton,{id:"select-book",className:"card-dialog__select-line",title:this.getBookTitle()},this.renderBooks())),e)}renderLeftSide(){const{hierarchyLevels:e,positionOffset:t,isSeries:n,card:o,ui:i,beatTree:a,hierarchyEnabled:s}=this.props;let u=(0,c.t)("Chapter"),f=null;n&&(u=(0,c.t)("Beat"),f=this.renderBookDropdown());const h=v(a,this.getCurrentBeat(),e,t,s,n),m=o.color||null===o.color?(0,d.default)(o.color).darken().toHslString():null,b=o.color||null===o.color?m:"hsl(211, 27%, 70%)";return r.default.createElement("div",{className:"card-dialog__left-side"},f,r.default.createElement("div",{className:"card-dialog__dropdown-wrapper"},r.default.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-line"},(0,c.t)("Plotline"),":",r.default.createElement(l.DropdownButton,{id:"select-line",className:"card-dialog__select-line",title:g(this.getCurrentLine().title,35)},this.renderLineItems()))),r.default.createElement("div",{className:"card-dialog__dropdown-wrapper"},r.default.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-beat"},u,":",r.default.createElement(l.DropdownButton,{id:"select-beat",className:"card-dialog__select-card",title:g(h,40)},this.renderBeatItems()))),r.default.createElement(p.SelectList,{parentId:this.props.card.id,type:"Characters",selectedItems:this.props.card.characters,allItems:this.props.characters,add:this.props.actions.addCharacter,remove:this.props.actions.removeCharacter}),r.default.createElement(p.SelectList,{parentId:this.props.card.id,type:"Places",selectedItems:this.props.card.places,allItems:this.props.places,add:this.props.actions.addPlace,remove:this.props.actions.removePlace}),r.default.createElement(p.SelectList,{parentId:this.props.card.id,type:"Tags",selectedItems:this.props.card.tags,allItems:this.props.tags,add:this.props.actions.addTag,remove:this.props.actions.removeTag}),r.default.createElement("div",{className:"color-picker__box"},r.default.createElement("label",{className:"card-dialog__details-label",style:{minWidth:"55px"}},(0,c.t)("Color"),":"),r.default.createElement(p.ColorPickerColor,{color:o.color||null===o.color?"none":"#F1F5F8",choose:this.openColorPicker,style:{margin:"2px",marginRight:"12px"},buttonStyle:{border:"1px solid "+b},ref:this.colorButtonRef}),r.default.createElement("div",{className:"buttons",style:{alignSelf:"flex-start"}},r.default.createElement(l.Button,{bsSize:"xs",block:!0,title:(0,c.t)("Choose color"),onClick:this.openColorPicker},r.default.createElement(l.Glyphicon,{glyph:"tint"})),r.default.createElement(l.Button,{bsSize:"xs",block:!0,title:(0,c.t)("No color"),bsStyle:"warning",onClick:()=>this.chooseCardColor(null)},r.default.createElement(l.Glyphicon,{glyph:"ban-circle"}))),r.default.createElement(l.Overlay,{show:this.state.showColorPicker,placement:"bottom",container:()=>this.colorButtonRef.current},r.default.createElement(p.MiniColorPicker,{darkMode:i.darkMode,chooseColor:this.chooseCardColor,el:this.colorButtonRef,close:()=>this.setState({showColorPicker:!1})}))))}render(){const{card:e,ui:t}=this.props,{selected:n}=this.state;return r.default.createElement(p.PlottrModal,{isOpen:!0,onRequestClose:this.saveAndClose},this.renderDelete(),r.default.createElement("div",{className:(0,u.default)("card-dialog",{darkmode:t.darkMode})},r.default.createElement("div",{className:"card-dialog__body"},this.renderLeftSide(),r.default.createElement("div",{className:"card-dialog__description"},this.renderTitle(),r.default.createElement("div",{className:"card-dialog__tab-container"},r.default.createElement("div",{className:"card-dialog__left-tabs"},r.default.createElement("div",{className:(0,u.default)("card-dialog__details-label card-dialog__tab",{"card-dialog__tab--selected":"Description"===n}),onClick:this.selectTab("Description")},(0,c.t)("Description")),r.default.createElement("div",{className:(0,u.default)("card-dialog__details-label card-dialog__tab",{"card-dialog__tab--selected":"Attributes"===n}),onClick:this.selectTab("Attributes")},(0,c.t)("Attributes"))),r.default.createElement("a",{href:"#",className:(0,u.default)("card-dialog__custom-attributes-configuration-link",{hidden:"Attributes"!==n}),onClick:this.props.uiActions.openAttributesDialog},(0,c.t)("Configure"))),r.default.createElement("div",{className:(0,u.default)("card-dialog__details-show-hide-wrapper",{hidden:"Description"!==n})},r.default.createElement(p.RichText,{description:e.description,onChange:e=>this.setState({description:e}),editable:!0,darkMode:t.darkMode,autofocus:!0})),r.default.createElement("div",{className:(0,u.default)("card-dialog__custom-attributes",{hidden:"Attributes"!==n})},this.renderEditingCustomAttributes(),this.renderEditingTemplates(),r.default.createElement("hr",null),this.renderAddCustomAttribute()))),this.renderButtonBar()))}}y.propTypes={card:o.default.object,beatId:o.default.number.isRequired,lineId:o.default.number.isRequired,closeDialog:o.default.func,lines:o.default.array.isRequired,beatTree:o.default.object.isRequired,beats:o.default.array.isRequired,hierarchyLevels:o.default.array.isRequired,actions:o.default.object.isRequired,tags:o.default.array.isRequired,characters:o.default.array.isRequired,places:o.default.array.isRequired,ui:o.default.object.isRequired,books:o.default.object.isRequired,isSeries:o.default.bool.isRequired,positionOffset:o.default.number.isRequired,customAttributes:o.default.array.isRequired,uiActions:o.default.object.isRequired,customAttributeActions:o.default.object.isRequired,hierarchyEnabled:o.default.bool};const E=(0,i.default)(y);var w=(0,a.connect)((function(e){return{beatTree:f.selectors.beatsByBookSelector(e.present),beats:f.selectors.sortedBeatsByBookSelector(e.present),hierarchyLevels:f.selectors.sortedHierarchyLevels(e.present),lines:f.selectors.sortedLinesByBookSelector(e.present),tags:f.selectors.sortedTagsSelector(e.present),characters:f.selectors.charactersSortedAtoZSelector(e.present),places:f.selectors.placesSortedAtoZSelector(e.present),customAttributes:e.present.customAttributes.scenes,ui:e.present.ui,books:e.present.books,isSeries:f.selectors.isSeriesSelector(e.present),positionOffset:f.selectors.positionOffsetSelector(e.present),hierarchyEnabled:f.selectors.beatHierarchyIsOn(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(f.actions.card,e),uiActions:(0,s.bindActionCreators)(f.actions.ui,e),customAttributeActions:(0,s.bindActionCreators)(f.actions.customAttribute,e)}}))(E);t.default=w},1205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}};function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=a(n(1206)),c=n(2),u=a(c);t.default=function(e){return function(t){function n(){s(this,n),i(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"shouldComponentUpdate",value:function(e,t){return(0,l.default)(this,e,t)}},{key:"render",value:function(){return u.default.createElement(e,r({},this.props,this.state))}}]),n}(c.Component)},e.exports=t.default},1206:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function i(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}e.exports=function(e,t,n){return!i(e.props,t)||!i(e.state,n)}},1207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContrastYIQ=void 0;var r,o=(r=n(322))&&r.__esModule?r:{default:r};t.getContrastYIQ=e=>{const t=(0,o.default)(e).getBrightness();return[t>=180,t]}},1208:function(e,t,n){var r,o;o=function(e){var t=["N","E","A","D"];function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}function d(e){var t=0,n=c(e);if("array"===n)return e.forEach((function(e){t+=d(e)})),t+u("[type: array, hash: "+t+"]");if("object"===n){for(var r in e)if(e.hasOwnProperty(r)){var o="[ type: object, key: "+r+", value hash: "+d(e[r])+"]";t+=u(o)}return t}return t+u("[ type: "+n+" ; value: "+e+"]")}function p(e,t,n,r,l,u,f,h){n=n||[],f=f||[];var m=(l=l||[]).slice(0);if(null!=u){if(r){if("function"==typeof r&&r(m,u))return;if("object"==typeof r){if(r.prefilter&&r.prefilter(m,u))return;if(r.normalize){var b=r.normalize(m,u,e,t);b&&(e=b[0],t=b[1])}}}m.push(u)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var g,v,y,E,w=typeof e,O=typeof t,S="undefined"!==w||f&&f.length>0&&f[f.length-1].lhs&&Object.getOwnPropertyDescriptor(f[f.length-1].lhs,u),C="undefined"!==O||f&&f.length>0&&f[f.length-1].rhs&&Object.getOwnPropertyDescriptor(f[f.length-1].rhs,u);if(!S&&C)n.push(new i(m,t));else if(!C&&S)n.push(new a(m,e));else if(c(e)!==c(t))n.push(new o(m,e,t));else if("date"===c(e)&&e-t!=0)n.push(new o(m,e,t));else if("object"===w&&null!==e&&null!==t){for(g=f.length-1;g>-1;--g)if(f[g].lhs===e){E=!0;break}if(E)e!==t&&n.push(new o(m,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){for(h&&(e.sort((function(e,t){return d(e)-d(t)})),t.sort((function(e,t){return d(e)-d(t)}))),g=t.length-1,v=e.length-1;g>v;)n.push(new s(m,g,new i(void 0,t[g--])));for(;v>g;)n.push(new s(m,v,new a(void 0,e[v--])));for(;g>=0;--g)p(e[g],t[g],n,r,m,g,f,h)}else{var _=Object.keys(e),k=Object.keys(t);for(g=0;g<_.length;++g)y=_[g],(E=k.indexOf(y))>=0?(p(e[y],t[y],n,r,m,y,f,h),k[E]=null):p(e[y],void 0,n,r,m,y,f,h);for(g=0;g<k.length;++g)(y=k[g])&&p(void 0,t[y],n,r,m,y,f,h)}f.length=f.length-1}}else e!==t&&("number"===w&&isNaN(e)&&isNaN(t)||n.push(new o(m,e,t)))}function f(e,t,n,r,o){var i=[];if(p(e,t,i,r,null,null,null,o),n)for(var a=0;a<i.length;++a)n(i[a]);return i}function h(e,t,n,r){var o=f(e,t,r?function(e){e&&r.push(e)}:void 0,n);return r||(o.length?o:void 0)}function m(e,n,r){if(void 0===r&&n&&~t.indexOf(n.kind)&&(r=n),e&&r&&r.kind){for(var o=e,i=-1,a=r.path?r.path.length-1:0;++i<a;)void 0===o[r.path[i]]&&(o[r.path[i]]=void 0!==r.path[i+1]&&"number"==typeof r.path[i+1]?[]:{}),o=o[r.path[i]];switch(r.kind){case"A":r.path&&void 0===o[r.path[i]]&&(o[r.path[i]]=[]),function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=l(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(r.path?o[r.path[i]]:o,r.index,r.item);break;case"D":delete o[r.path[i]];break;case"E":case"N":o[r.path[i]]=r.rhs}}}return n(o,r),n(i,r),n(a,r),n(s,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},orderIndependentDiff:{value:function(e,t,n,r){var o=r?function(e){e&&r.push(e)}:void 0,i=f(e,t,o,n,!0);return r||(i.length?i:void 0)},enumerable:!0},observableDiff:{value:f,enumerable:!0},orderIndependentObservableDiff:{value:function(e,t,n,r,o,i,a){return p(e,t,n,r,o,i,a,!0)},enumerable:!0},orderIndepHash:{value:d,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&f(e,t,(function(r){n&&!n(e,t,r)||m(e,t,r)}))},enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":case"E":i[r.path[o]]=r.lhs;break;case"N":delete i[r.path[o]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=l(t,n)}return t}(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof $conflict},enumerable:!0}}),h.DeepDiff=h,e&&(e.DeepDiff=h),h}(this),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},1209:function(e,t,n){"use strict";
/**
* @license nested-property https://github.com/cosmosio/nested-property
*
* The MIT License (MIT)
*
* Copyright (c) 2014-2015 Olivier Scherrer <pode.fr@gmail.com>
*/e.exports={set:function(e,t,n){if(e&&"object"==typeof e){if("string"==typeof t&&""!==t){var r=t.split(".");return r.reduce((function(e,t,o){const i=Number.isInteger(Number(r[o+1]));return e[t]=e[t]||(i?[]:{}),r.length==o+1&&(e[t]=n),e[t]}),e)}return"number"==typeof t?(e[t]=n,e[t]):e}return e},get:function(e,t){return e&&"object"==typeof e?"string"==typeof t&&""!==t?t.split(".").reduce((function(e,t){return e&&e[t]}),e):"number"==typeof t?e[t]:e:e},has:function(e,t,n){return n=n||{},!(!e||"object"!=typeof e)&&("string"==typeof t&&""!==t?t.split(".").reduce((function(e,t,r,o){return r==o.length-1?n.own?!(!e||!e.hasOwnProperty(t)):!(null===e||"object"!=typeof e||!(t in e)):e&&e[t]}),e):"number"==typeof t&&t in e)},hasOwn:function(e,t,n){return this.has(e,t,n||{own:!0})},isIn:function(e,t,n,r){if(r=r||{},e&&"object"==typeof e){if("string"==typeof t&&""!==t){var o,i=t.split("."),a=!1;return o=!!i.reduce((function(e,t){return a=a||e===n||!!e&&e[t]===n,e&&e[t]}),e),r.validPath?a&&o:a}return!1}return!1}}},1210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=l(n(536)),i=l(n(16)),a=n(20),s=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.Component{constructor(...e){super(...e),u(this,"state",{creating:!1,dropping:!1}),u(this,"titleInputRef",(0,r.createRef)()),u(this,"saveCreate",()=>{const e=this.titleInputRef.current.value;this.props.addCard({title:e,positionWithinLine:this.props.positionWithinLine+1}),this.setState({creating:!1})}),u(this,"stopCreating",()=>{this.setState({creating:!1})}),u(this,"handleFinishCreate",e=>{13===e.which&&this.saveCreate()}),u(this,"handleCancelCreate",e=>{27===e.which&&(window.removeEventListener("keydown",this.handleCancelCreate),this.setState({creating:!1}))}),u(this,"handleBlur",()=>{if(""==this.titleInputRef.current.value)return this.setState({creating:!1}),!1;this.saveCreate(),this.setState({creating:!1})}),u(this,"startCreating",()=>{window.addEventListener("keydown",this.handleCancelCreate),this.setState({creating:!0})}),u(this,"handleDragEnter",e=>{this.setState({dropping:!0})}),u(this,"handleDragOver",e=>{this.setState({dropping:!0}),e.preventDefault()}),u(this,"handleDragLeave",e=>{this.setState({dropping:!1})}),u(this,"handleDrop",e=>{e.stopPropagation(),this.setState({dropping:!1});const t=e.dataTransfer.getData("text/json"),n=JSON.parse(t);n.cardId&&this.props.moveCard(n.cardId,this.props.dropPosition||this.props.positionWithinLine)})}render(){return this.state.creating?r.default.createElement("div",{className:"vertical-blank-card__wrapper"},r.default.createElement(o.default,{verticalInsertion:!0,beatId:this.props.beatId,lineId:this.props.lineId,positionWithinLine:this.props.positionWithinLine+1,color:this.props.color,onDone:this.stopCreating})):this.props.allowDrop?r.default.createElement("div",{className:(0,s.default)("card__add-card",{dropping:this.state.dropping}),onClick:this.startCreating,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},r.default.createElement(a.Glyphicon,{glyph:"plus"})):r.default.createElement("div",{className:(0,s.default)("card__add-card",{dropping:this.state.dropping}),onClick:this.startCreating},r.default.createElement(a.Glyphicon,{glyph:"plus"}))}shouldComponentUpdate(e,t){return this.state.dropping!=t.dropping||(this.state.creating!=t.creating||(this.props.color!=e.color||this.props.allowDrop!=e.allowDrop))}}t.default=d,u(d,"propTypes",{color:i.default.string.isRequired,positionWithinLine:i.default.number.isRequired,moveCard:i.default.func.isRequired,addCard:i.default.func.isRequired,allowDrop:i.default.bool.isRequired,beatId:i.default.number.isRequired,lineId:i.default.number.isRequired,dropPosition:i.default.number})},1211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=s(n(16)),i=n(12),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}const{orientedClassName:{orientedClassName:c}}=i.helpers,u={horizontal:{medium:{first:85,last:211},large:{first:155,last:211}},vertical:{medium:{first:120,last:110},large:{first:100,last:110}}},d=(e,t)=>{const n=u[e][t?"medium":"large"];return n.first+n.last};function p({color:e,orientation:t,isMedium:n,tableLength:o}){const[i,s]=(0,r.useState)(d(t,n)),[l,u]=(0,r.useState)(0),[p,f]=(0,r.useState)(0),[h,m]=(0,r.useState)(null),[b,g]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{s(d(t,n))},[t,n]),(0,r.useEffect)(()=>{o&&o>0&&(b||(f(o-i),g(!0)))},[o,i,p]),(0,r.useEffect)(()=>{if(!b)return;if(!p)return;const e=setInterval(()=>{u(e=>{let t=e+100;return t>p&&(t=p),t})},10);return m(e),()=>clearInterval(e)},[b]),(0,r.useEffect)(()=>{l==p&&(clearInterval(h),g(!1))},[l]),!l)return null;const v={borderColor:e};"horizontal"==t?v.width=l+"px":v.height=l+"px";const y=(0,a.default)(c("line-title__line-line",t),{"medium-timeline":n});return r.default.createElement("div",{className:y,style:v})}p.propTypes={color:o.default.string,orientation:o.default.string,tableLength:o.default.number,isMedium:o.default.bool}},1212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=f(n(16)),i=n(24),a=n(27),s=n(74),l=n(20),c=f(n(539)),u=f(n(537)),d=f(n(538)),p=n(12);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{beats:{nextId:b,hasChildren:g},lists:{reorderList:v},orientedClassName:{orientedClassName:y}}=p.helpers,E=p.actions.line,w=p.actions.beat,{visibleSortedBeatsByBookSelector:O,sortedLinesByBookSelector:S,beatsByBookSelector:C,isSeriesSelector:_,isLargeSelector:k,isMediumSelector:x,isSmallSelector:I}=p.selectors;class T extends r.Component{constructor(e){super(e),m(this,"handleReorderBeats",(e,t)=>{const{ui:n,beatActions:r}=this.props;r.reorderBeats(t,e,n.currentTimeline)}),m(this,"handleReorderLines",(e,t)=>{const{ui:n,lineActions:r,lines:o}=this.props,i=v(e,t,o);r.reorderLines(i,n.currentTimeline)}),m(this,"startHovering",e=>(this.setState({hovering:e}),e)),m(this,"stopHovering",()=>(this.setState({hovering:null}),null)),m(this,"handleInsertNewBeat",e=>{const{ui:t,beatActions:n}=this.props;n.insertBeat(t.currentTimeline,e)}),m(this,"handleInsertChildBeat",e=>{const{ui:t,beatActions:n}=this.props;n.expandBeat(e,t.currentTimeline),n.addBeat(t.currentTimeline,e)}),m(this,"handleAppendBeat",()=>{const{ui:e,beatActions:t}=this.props;t.addBeat(e.currentTimeline)}),m(this,"handleAppendLine",()=>{const{ui:e,lineActions:t}=this.props;t.addLine(e.currentTimeline)}),this.state={hovering:null}}renderSecondLastInsertBeatCell(){const{ui:{currentTimeline:e,orientation:t},isLarge:n,booksBeats:o,beats:i,beatActions:a}=this.props;if(!n)return null;const s=i&&0!==i.length?i[i.length-1]:null;return r.default.createElement(d.default,{key:"second-last-insert",isInBeatList:!0,handleInsert:this.handleInsertNewBeat,beatToLeft:s,handleInsertChild:s&&g(o,s&&s.id)?void 0:this.handleInsertChildBeat,expanded:s&&s.expanded,toggleExpanded:()=>{s&&s.expanded?a.collapseBeat(s.id,e):a.expandBeat(s.id,e)},orientation:t})}renderLastInsertBeatCell(){const{ui:{orientation:e}}=this.props;return r.default.createElement(d.default,{key:"last-insert",handleInsert:this.handleAppendBeat,isInBeatList:!0,isLast:!0,orientation:e})}renderBeats(){const{ui:e,booksBeats:t,beats:n,beatActions:o,isLarge:i,isMedium:a,isSmall:l}=this.props,u=t=>()=>{t&&(t.expanded?o.collapseBeat(t.id,e.currentTimeline):o.expandBeat(t.id,e.currentTimeline))},p=n.flatMap((o,s)=>{const l=n[s-1],p=[];return(i||a&&0===s)&&p.push(r.default.createElement(d.default,{isFirst:0===s,key:`beatId-${o.id}-insert`,isInBeatList:!0,beatToLeft:l,handleInsert:this.handleInsertNewBeat,handleInsertChild:l&&g(t,l&&l.id)?void 0:this.handleInsertChildBeat,expanded:l&&l.expanded,toggleExpanded:u(l),orientation:e.orientation,hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering,scrollTo:e=>this.props.scrollTo(e)})),p.push(r.default.createElement(c.default,{isFirst:0===s,key:"beatId-"+o.id,beatId:o.id,handleReorder:this.handleReorderBeats,handleInsert:this.handleInsertNewBeat,handleInsertChild:l&&g(t,l&&l.id)?void 0:this.handleInsertChildBeat,hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering,scrollTo:e=>this.props.scrollTo(e)})),p});return l?[...p,this.renderLastInsertBeatCell()]:[r.default.createElement(s.Cell,{key:"placeholder"}),...p,this.renderSecondLastInsertBeatCell(),this.renderLastInsertBeatCell()]}renderLines(){const{lines:e,ui:t,isSmall:n,isLarge:o}=this.props,i=e.map(e=>r.default.createElement(u.default,{key:"line-"+e.id,line:e,handleReorder:this.handleReorderLines,bookId:t.currentTimeline})),a=r.default.createElement("div",{className:y("line-list__append-line",t.orientation),onClick:this.handleAppendLine},r.default.createElement("div",{className:y("line-list__append-line-wrapper",t.orientation)},r.default.createElement(l.Glyphicon,{glyph:"plus"})));if(n){const e=r.default.createElement("th",{key:"insert-line",className:"rotate-45"},a);return[...i,e]}let c=[r.default.createElement(s.Cell,{key:"placeholder"}),...i];if(o){const e=r.default.createElement(s.Row,{key:"insert-line"},r.default.createElement(s.Cell,null,a));c=[...c,e]}return c}render(){const{ui:e,isSmall:t}=this.props;let n=null;return n="horizontal"===e.orientation?this.renderBeats():this.renderLines(),t?r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",null),n)):r.default.createElement(s.Row,null,n)}}T.propTypes={ui:o.default.object.isRequired,scrollTo:o.default.func.isRequired,isSeries:o.default.bool,isSmall:o.default.bool,isMedium:o.default.bool,isLarge:o.default.bool,beats:o.default.array,booksBeats:o.default.object,nextBeatId:o.default.number,hovering:o.default.number,lines:o.default.array,lineActions:o.default.object,beatActions:o.default.object};var A=(0,i.connect)((function(e){const t=b(e.present.beats);return{ui:e.present.ui,isSeries:_(e.present),isSmall:I(e.present),isMedium:x(e.present),isLarge:k(e.present),beats:O(e.present),booksBeats:C(e.present),nextBeatId:t,lines:S(e.present)}}),(function(e){return{lineActions:(0,a.bindActionCreators)(E,e),beatActions:(0,a.bindActionCreators)(w,e)}}))(T);t.default=A},1213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(168)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),i=m(n(16)),a=n(24),s=n(27),l=n(74),c=n(20),u=n(7),d=m(n(5)),p=n(12),f=n(22);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{nextColor:g}=p.lineColors,v=p.initialState.card,y=p.initialState.line;class E extends o.Component{constructor(...e){super(...e),b(this,"state",{hovering:!1,showTemplatePicker:!1,askingForInput:!1}),b(this,"allBeats",[]),b(this,"allLines",[]),b(this,"allCards",[]),b(this,"nextBeatId",null),b(this,"nextLineId",null),b(this,"nextCardId",null),b(this,"newLineMapping",{}),b(this,"newBeatOffset",0),b(this,"getLast",e=>e[e.length-1]),b(this,"getPositionById",e=>e.reduce((e,t)=>(e[t.id]=t.position,e),{})),b(this,"addBlankLine",(e,t)=>{const n=Object.assign({},y,{title:e.name,bookId:t});this.addLines([n],t,!1,e)}),b(this,"addBeats",(e,t,n)=>{if(!e||0===e.length)return;const r=e.every(e=>"auto"==e.title);if(this.allBeats.length<2)this.allBeats=e.map(e=>{const r=this.nextBeatId;return++this.nextBeatId,{...e,id:r,bookId:t,fromTemplateId:n.id}});else if(r)this.allBeats.length<e.length&&e.slice(this.allBeats.length).forEach(e=>{const r=this.nextBeatId;++this.nextBeatId;const o=this.getLast(this.allBeats),i={...e,id:r,bookId:t,position:o.position+1,fromTemplateId:n.id};this.allBeats.push(i)});else if(this.allBeats.length<e.length)this.newBeatOffset=this.allBeats.length,e.forEach(e=>{const r=this.nextBeatId;++this.nextBeatId;const o=this.getLast(this.allBeats),i={...e,id:r,bookId:t,position:o.position+1,fromTemplateId:n.id};this.allBeats.push(i)});else{this.addBlankLine(n,t);let r=this.getLast(this.allLines);e.forEach(e=>{const o=this.nextCardId;++this.nextCardId;const i=Object.assign({},v,{id:o,bookId:t,lineId:r.id,beatId:this.allBeats[e.position].id,title:e.title,fromTemplateId:n.id});this.allCards.push(i)})}}),b(this,"addLines",(e,t,n,o)=>{e&&(e=(0,r.default)(e,"position")).forEach(e=>{const r=this.nextLineId;n&&(this.newLineMapping[e.id]=r);const i=this.getLast(this.allLines),a=i?i.position:0,s=g(this.allLines.length),l={...e,id:r,bookId:t,position:a+1+e.position,color:s,fromTemplateId:o.id};this.allLines.push(l),++this.nextLineId})}),b(this,"addCards",(e,t,n,r)=>{if(!e)return;const o=this.getPositionById(t);let i=!0,a=null;if(!Object.keys(this.newLineMapping).length){i=!1,this.addBlankLine(r,n);const e=this.getLast(this.allLines);e&&(a=e.id)}e.forEach(e=>{const t=this.nextCardId;a=i?this.newLineMapping[e.lineId]:a;const s=o[e.beatId],l=this.allBeats[s+this.newBeatOffset]||this.allBeats[this.allBeats.length-1],c=l?l.id:0,u={...e,id:t,bookId:n,beatId:c,lineId:a,fromTemplateId:r.id};this.allCards.push(u),++this.nextCardId})}),b(this,"handleChooseTemplate",e=>{const{ui:t,actions:n}=this.props;let r=t.currentTimeline;this.nextLineId=this.props.nextLineId,this.nextCardId=this.props.nextCardId,this.nextBeatId=this.props.nextBeatId,this.allBeats=this.props.beats,this.allLines=this.props.lines,this.allCards=this.props.cards;const o=p.helpers.books.isSeries(r)&&e.beats[r]?r:1,i=p.selectors.beatsByPosition(()=>!0)(e.beats[o]),a=e.lines.filter(e=>e.bookId===o);this.addBeats(i,r,e),this.addLines(a,r,!0,e),this.addCards(e.cards,i,r,e),n.addLinesFromTemplate(this.allCards,this.allLines,this.allBeats,e,r),this.setState({showTemplatePicker:!1})}),b(this,"simpleAddLine",e=>{const{ui:t,actions:n}=this.props;n.addLineWithTitle(e,t.currentTimeline),this.setState({askingForInput:!1,hovering:!1})})}renderInputModal(){return this.state.askingForInput?o.default.createElement(f.InputModal,{isOpen:!0,getValue:this.simpleAddLine,title:(0,u.t)("Plotline Title:"),type:"text",cancel:()=>this.setState({askingForInput:!1,hovering:!1})}):null}renderInsertButton(){const{hierarchyEnabled:e,isSmall:t,isMedium:n,ui:r,actions:i}=this.props;if(t)return o.default.createElement("th",{className:"row-header"},this.renderInputModal(),o.default.createElement("div",{className:"line-list__append-line",onClick:()=>this.setState({askingForInput:!0})},o.default.createElement("div",{className:"line-list__append-line-wrapper"},o.default.createElement(c.Glyphicon,{glyph:"plus"}))));const a=(0,d.default)("line-list__append-line",{"medium-timeline":n});return o.default.createElement("div",{className:a},this.state.hovering?o.default.createElement("div",{className:"line-list__append-line__double"},o.default.createElement("div",{onClick:()=>{e||this.setState({showTemplatePicker:!0,hovering:!1})},title:e?"Templates are disabled when Act Structure is on":null,className:(0,d.default)("template",{disabled:e})},(0,u.t)("Use Template")),o.default.createElement("div",{onClick:()=>i.addLine(r.currentTimeline),className:"non-template"},o.default.createElement(c.Glyphicon,{glyph:"plus"}))):o.default.createElement("div",{className:"line-list__append-line-wrapper"},o.default.createElement(c.Glyphicon,{glyph:"plus"})))}renderTemplatePicker(){return this.state.showTemplatePicker?o.default.createElement(f.TemplatePicker,{type:["plotlines"],modal:!0,isOpen:this.state.showTemplatePicker,close:()=>this.setState({showTemplatePicker:!1}),onChooseTemplate:this.handleChooseTemplate}):null}render(){const{isSmall:e,howManyCells:t}=this.props;if(e){const e=[o.default.createElement("td",{key:t+1})];for(let n=0;n<t;n++)e.push(o.default.createElement("td",{key:n}));return o.default.createElement("tr",null,this.renderInsertButton(),e)}return o.default.createElement(l.Row,null,o.default.createElement(l.Cell,{onMouseEnter:()=>this.setState({hovering:!0}),onMouseLeave:()=>this.setState({hovering:!1})},this.renderInsertButton(),this.renderTemplatePicker()))}shouldComponentUpdate(e,t){return this.state.showTemplatePicker!=t.showTemplatePicker||(this.state.hovering!=t.hovering||this.state.askingForInput!=t.askingForInput)}}b(E,"propTypes",{hierarchyEnabled:i.default.bool.isRequired,howManyCells:i.default.number,ui:i.default.object.isRequired,isSmall:i.default.bool,isMedium:i.default.bool,bookId:i.default.oneOfType([i.default.string,i.default.number]),beats:i.default.array,lines:i.default.array,cards:i.default.array,nextLineId:i.default.number,nextBeatId:i.default.number,nextCardId:i.default.number,actions:i.default.object});var w=(0,a.connect)((function(e){return{hierarchyEnabled:p.selectors.beatHierarchyIsOn(e.present),ui:e.present.ui,isSmall:p.selectors.isSmallSelector(e.present),isMedium:p.selectors.isMediumSelector(e.present),beats:p.selectors.sortedBeatsByBookSelector(e.present),lines:p.selectors.linesByBookSelector(e.present),cards:e.present.cards,nextLineId:p.selectors.nextLineIdSelector(e.present),nextBeatId:p.selectors.nextBeatIdSelector(e.present),nextCardId:p.selectors.nextCardIdSelector(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(p.actions.line,e)}}))(E);t.default=w},1214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),i=(r=n(16))&&r.__esModule?r:{default:r},a=n(24),s=n(27),l=n(7),c=n(20),u=n(22),d=n(12);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{currentTimelineSelector:h}=d.selectors,m=d.actions.ui;class b extends o.Component{constructor(...e){super(...e),f(this,"state",{deleting:!1}),f(this,"clearTimeline",e=>{e.stopPropagation(),this.setState({deleting:!1}),this.props.actions.resetTimeline(this.props.bookId)})}renderDelete(){if(!this.state.deleting)return null;const e=(0,l.t)("Are you sure you want to clear everything in this timeline?");return o.default.createElement(u.DeleteConfirmModal,{onDelete:this.clearTimeline,onCancel:()=>this.setState({deleting:!1}),customText:e,notSubmit:!0})}render(){return o.default.createElement(c.NavItem,null,o.default.createElement(c.Button,{bsSize:"small",onClick:()=>this.setState({deleting:!0})},o.default.createElement(c.Glyphicon,{glyph:"refresh"})," ",(0,l.t)("Clear")),this.renderDelete())}}b.propTypes={bookId:i.default.oneOfType([i.default.number,i.default.string]).isRequired,actions:i.default.object};var g=(0,a.connect)((function(e){return{bookId:h(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(m,e)}}))(b);t.default=g},1215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=()=>{u.ipcRenderer.send("pls-open-dashboard")},t=()=>r.default.createElement(s.SubNav,null,r.default.createElement(l.Nav,{bsStyle:"pills"},r.default.createElement(l.NavItem,null,r.default.createElement(l.Button,{bsSize:"small",onClick:e},(0,a.t)("Open Dashboard"))),r.default.createElement(c.default,null)));return r.default.createElement(s.ErrorBoundary,null,r.default.createElement("div",{className:"series__container container-with-sub-nav"},r.default.createElement(t,null),r.default.createElement("div",{className:"tab-body"},r.default.createElement(o.default,null),r.default.createElement(i.default,null))))};var r=d(n(2)),o=d(n(1216)),i=d(n(1217)),a=n(7),s=n(22),l=n(20),c=d(n(1223)),u=n(18);function d(e){return e&&e.__esModule?e:{default:e}}},1216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=u(n(16)),i=n(24),a=n(27),s=n(20),l=n(7),c=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=n(12).actions.series;class h extends r.Component{constructor(e){super(e),p(this,"state",{editing:!1}),p(this,"saveEdit",()=>{const e=this.state.name,t=this.state.premise,n=this.state.genre,r=this.state.theme;this.props.actions.editSeries({name:e,premise:t,genre:n,theme:r}),this.setState({editing:!1})}),p(this,"checkForEdits",(e,t)=>{const{series:n}=this.props;let r=["name","premise","genre","theme"].filter(e=>e!=t).some(e=>this.state[e]!=n[e]);n[t]!=e.target.value&&(r=!0),this.setState({editing:r,[t]:e.target.value})});const{series:t}=e;this.state={editing:!1,name:t.name,premise:t.premise,genre:t.genre,theme:t.theme}}componentWillUnmount(){this.state.editing&&this.saveEdit()}renderToolBar(){return r.default.createElement(s.ButtonToolbar,{className:(0,c.default)({invisible:!this.state.editing})},r.default.createElement(s.Button,{bsStyle:"success",onClick:this.saveEdit},(0,l.t)("Save")))}renderBody(){return r.default.createElement(s.Form,{horizontal:!0},r.default.createElement(s.FormGroup,null,r.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:1},(0,l.t)("Name")),r.default.createElement(s.Col,{sm:4},r.default.createElement(s.FormControl,{type:"text",value:this.state.name,onChange:e=>this.checkForEdits(e,"name")})),r.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:1},(0,l.t)("Premise")),r.default.createElement(s.Col,{sm:4},r.default.createElement(s.FormControl,{type:"text",value:this.state.premise,onChange:e=>this.checkForEdits(e,"premise")}))),r.default.createElement(s.FormGroup,null,r.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:1},(0,l.t)("Genre")),r.default.createElement(s.Col,{sm:4},r.default.createElement(s.FormControl,{type:"text",value:this.state.genre,onChange:e=>this.checkForEdits(e,"genre")})),r.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:1},(0,l.t)("Theme")),r.default.createElement(s.Col,{sm:4},r.default.createElement(s.FormControl,{type:"text",value:this.state.theme,onChange:e=>this.checkForEdits(e,"theme")}))))}render(){return r.default.createElement("div",{className:"edit-book__container"},r.default.createElement("h2",null,(0,l.t)("Series")),this.renderBody(),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{sm:10},this.renderToolBar())))}}p(h,"propTypes",{ui:o.default.object.isRequired,series:o.default.object.isRequired,actions:o.default.object.isRequired});var m=(0,i.connect)((function(e){return{ui:e.present.ui,series:e.present.series}}),(function(e){return{actions:(0,a.bindActionCreators)(f,e)}}))(h);t.default=m},1217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=b(n(1218)),o=b(n(1219)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),a=b(n(16)),s=n(24),l=n(27),c=n(7),u=b(n(1221)),d=n(20),p=n(1443),f=b(n(5)),h=n(12);function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{objectId:v}=h.newIds;class y extends i.Component{constructor(e){super(e),g(this,"dragDropAreaRef",i.default.createRef()),g(this,"bookRef",i.default.createRef()),g(this,"addBook",()=>{const{actions:e,books:t,lineActions:n,beatActions:r}=this.props,o=v(t.allIds);this.setState({rows:[...this.state.rows.slice(0,this.state.rows.length-1),[...this.state.rows[this.state.rows.length-1],o]]}),e.addBook(),n.addLineWithTitle((0,c.t)("Main Plot"),o),r.addBeat(o)}),g(this,"reorder",(e,t,n)=>{const[r]=e.splice(t,1);return e.splice(n,0,r),e}),g(this,"onDragEnd",e=>{if(!e.destination)return;const{source:t,destination:n}=e,i=+t.droppableId,a=+n.droppableId,s=(0,r.default)(this.state.rows),l=i<a?-1:0,c=i*this.state.itemsPerRow,u=a*this.state.itemsPerRow,d=this.reorder(s,t.index+c,n.index+u+l);this.setState({rows:(0,o.default)(d,this.state.itemsPerRow)}),this.props.actions.reorderBooks(d)}),g(this,"updateLayout",()=>{let e;if(this.bookRef.current){const{width:t}=this.bookRef.current.getBoundingClientRect();e=t,this.setState({bookWidth:t})}if(this.dragDropAreaRef.current){const{width:t}=this.dragDropAreaRef.current.querySelector("#book-list").getBoundingClientRect(),n=window.getComputedStyle(this.dragDropAreaRef.current),r=parseInt(n.paddingLeft),i=parseInt(n.paddingRight),a=Math.floor((t-(r+i))/(e||this.state.bookWidth));this.setState({rows:(0,o.default)(this.props.books.allIds,a),itemsPerRow:a})}}),this.state={bookWidth:245,itemsPerRow:5,rows:[e.books.allIds]}}componentDidMount(){this.updateLayout(),window.addEventListener("resize",this.updateLayout)}componentWillUnmount(){window.removeEventListener("resize",this.updateLayout)}componentDidUpdate(e){e.books.allIds.length!=this.props.books.allIds.length&&this.updateLayout()}renderBooks(e){return e.map((e,t)=>i.default.createElement(p.Draggable,{key:e,draggableId:e.toString(),index:t},(n,r)=>i.default.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:n.draggableProps.style,className:(0,f.default)("book-list__droppable",{dragging:r.isDragging})}),0===e?i.default.createElement(u.default,{bookId:e,bookNumber:t+1,ref:this.bookRef}):i.default.createElement(u.default,{bookId:e,bookNumber:t+1}))))}render(){return i.default.createElement("div",{className:"book-list__container",ref:this.dragDropAreaRef},i.default.createElement("h2",null,(0,c.t)("Books")+" ",i.default.createElement("span",{onClick:this.addBook},i.default.createElement(d.Glyphicon,{glyph:"plus"}))),i.default.createElement(p.DragDropContext,{onDragEnd:this.onDragEnd},this.state.rows.map((e,t)=>i.default.createElement(p.Droppable,{key:t,droppableId:""+t,direction:"horizontal"},(n,r)=>i.default.createElement("div",Object.assign({ref:n.innerRef,id:"book-list",className:(0,f.default)("book-list__list",{dragging:r.isDraggingOver})},n.droppableProps),this.renderBooks(e),t===this.state.rows.length-1?i.default.createElement(i.default.Fragment,null,n.placeholder,i.default.createElement(u.default,{addBook:this.addBook})):null)))))}}g(y,"propTypes",{ui:a.default.object.isRequired,books:a.default.object.isRequired,actions:a.default.object,lineActions:a.default.object,beatActions:a.default.object});var E=(0,s.connect)((function(e){return{ui:e.present.ui,books:e.present.books}}),(function(e){return{actions:(0,l.bindActionCreators)(h.actions.book,e),lineActions:(0,l.bindActionCreators)(h.actions.line,e),beatActions:(0,l.bindActionCreators)(h.actions.beat,e)}}))(y);t.default=E},1218:function(e,t,n){var r=n(230);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},1219:function(e,t,n){var r=n(1220),o=n(534),i=n(531),a=Math.ceil,s=Math.max;e.exports=function(e,t,n){t=(n?o(e,t,n):void 0===t)?1:s(i(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,u=0,d=Array(a(l/t));c<l;)d[u++]=r(e,c,c+=t);return d}},1220:function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},1221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=f(n(16)),i=n(24),a=n(27),s=n(7),l=f(n(1222)),c=n(20),u=f(n(5)),d=n(22),p=n(12);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=p.actions.book,g=p.actions.ui,{canDeleteBookSelector:v}=p.selectors;class y extends r.Component{constructor(...e){super(...e),m(this,"state",{editing:!1,hovering:!1,deleting:!1}),m(this,"chooseImage",e=>{const t=-1==e?null:e;this.props.actions.editBook(this.props.book.id,{imageId:t})}),m(this,"deleteBook",e=>{e.stopPropagation(),this.props.actions.deleteBook(this.props.book.id)}),m(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),m(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),m(this,"navigateToBook",()=>{this.props.uiActions.navigateToBookTimeline(this.props.book.id)})}renderDelete(){return this.state.deleting?r.default.createElement(d.DeleteConfirmModal,{name:this.props.book.title||(0,s.t)("Untitled"),onDelete:this.deleteBook,onCancel:this.cancelDelete}):null}renderHoverOptions(){return r.default.createElement("div",{className:(0,u.default)("hover-options",{hovering:this.state.hovering})},r.default.createElement(c.ButtonGroup,null,r.default.createElement(c.Button,{title:(0,s.t)("Edit"),onClick:()=>this.setState({editing:!0})},r.default.createElement(c.Glyphicon,{glyph:"edit"})),r.default.createElement(d.ImagePicker,{chooseImage:this.chooseImage,selectedId:this.props.book.imageId,iconOnly:!0,deleteButton:!0}),this.props.canDelete?r.default.createElement(c.Button,{bsStyle:"danger",onClick:this.handleDelete},r.default.createElement(c.Glyphicon,{glyph:"trash"})):null))}renderDialog(){if(!this.state.editing)return null;const{book:e,bookNumber:t}=this.props;return r.default.createElement(l.default,{bookId:e.id,bookNumber:t,modal:!0,cancel:()=>this.setState({editing:!1})})}renderImage(){const{book:e}=this.props;return e.imageId?r.default.createElement(d.Image,{responsive:!0,imageId:e.imageId}):null}renderTitle(){const{book:e}=this.props;return e.imageId?null:r.default.createElement("h6",null,e.title||(0,s.t)("Untitled"))}render(){const{book:e,ui:t}=this.props;return e?r.default.createElement("div",{className:(0,u.default)("book-container",{darkmode:t.darkMode}),onMouseEnter:()=>this.setState({hovering:!0}),onMouseLeave:()=>this.setState({hovering:!1})},this.renderHoverOptions(),this.renderDialog(),this.renderDelete(),r.default.createElement("div",{className:(0,u.default)("book",{hovering:this.state.hovering}),onClick:this.navigateToBook},r.default.createElement("div",{className:"front"},r.default.createElement("div",{className:"cover"},this.renderTitle(),r.default.createElement("div",{className:"book-container__cover-image-wrapper"},this.renderImage()))),r.default.createElement("div",{className:"left-side"},r.default.createElement("h2",null,r.default.createElement("span",null,e.title||(0,s.t)("Untitled")))))):r.default.createElement("div",{className:(0,u.default)("book-container","add",{darkmode:t.darkMode})},r.default.createElement("div",{className:"book add",onClick:this.props.addBook},r.default.createElement("div",{className:"front"},r.default.createElement("div",{className:"cover add"},r.default.createElement("div",{className:"book-container__add"},r.default.createElement("h1",null,r.default.createElement(c.Glyphicon,{glyph:"plus"}))))),r.default.createElement("div",{className:"left-side add"},r.default.createElement("h2",null,r.default.createElement("span",null,(0,s.t)("New Book"))))))}}m(y,"propTypes",{bookId:o.default.number,bookNumber:o.default.number,addBook:o.default.func,ui:o.default.object.isRequired,canDelete:o.default.bool,book:o.default.object,actions:o.default.object,uiActions:o.default.object});var E=(0,i.connect)((function(e,t){return{ui:e.present.ui,book:e.present.books[t.bookId],canDelete:v(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(b,e),uiActions:(0,a.bindActionCreators)(g,e)}}))(y);t.default=E},1222:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=u(n(16)),i=n(24),a=n(27),s=n(20),l=n(7),c=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=n(12).actions.book;class h extends r.Component{constructor(e){super(e),p(this,"saveEdit",()=>{const{book:e}=this.props;let t=this.titleRef.value,n=this.premiseRef.value,r=this.genreRef.value,o=this.themeRef.value;this.props.actions.editBook(e.id,{title:t,premise:n,genre:r,theme:o}),this.props.cancel()}),this.titleRef=null,this.premiseRef=null,this.genreRef=null,this.themeRef=null}renderToolBar(){return r.default.createElement(s.ButtonToolbar,null,r.default.createElement(s.Button,{bsStyle:"success",onClick:this.saveEdit},(0,l.t)("Save")),r.default.createElement(s.Button,{onClick:this.props.cancel},(0,l.t)("Cancel")))}renderBody(){const{book:e}=this.props;return r.default.createElement(s.Form,{horizontal:!0},r.default.createElement(s.FormGroup,null,r.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Book #")),r.default.createElement(s.Col,{sm:8},r.default.createElement("span",{className:"lead"},this.props.bookNumber))),r.default.createElement(s.FormGroup,null,r.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Title")),r.default.createElement(s.Col,{sm:8},r.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.titleRef=e},defaultValue:e.title}))),r.default.createElement(s.FormGroup,null,r.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Premise")),r.default.createElement(s.Col,{sm:8},r.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.premiseRef=e},defaultValue:e.premise}))),r.default.createElement(s.FormGroup,null,r.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Genre")),r.default.createElement(s.Col,{sm:8},r.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.genreRef=e},defaultValue:e.genre}))),r.default.createElement(s.FormGroup,null,r.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Theme")),r.default.createElement(s.Col,{sm:8},r.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.themeRef=e},defaultValue:e.theme}))))}render(){return r.default.createElement(s.Modal,{show:!0,onHide:this.props.cancel,dialogClassName:(0,c.default)("book-dialog",{darkmode:this.props.ui.darkMode})},r.default.createElement(s.Modal.Body,null,this.renderBody()),r.default.createElement(s.Modal.Footer,null,this.renderToolBar()))}}p(h,"propTypes",{bookId:o.default.number.isRequired,cancel:o.default.func.isRequired,ui:o.default.object.isRequired,book:o.default.object,bookNumber:o.default.number,actions:o.default.object.isRequired});var m=(0,i.connect)((function(e,t){return{ui:e.present.ui,book:e.present.books[t.bookId],bookNumber:e.present.books.allIds.indexOf(t.bookId)+1}}),(function(e){return{actions:(0,a.bindActionCreators)(f,e)}}))(h);t.default=m},1223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),i=(r=n(16))&&r.__esModule?r:{default:r},a=n(24),s=n(20),l=n(7),c=n(73),u=n(67),d=n(18);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=d.remote.getCurrentWindow();let m=(0,l.t)("Show in File Explorer");c.is.macos&&(m=(0,l.t)("Show in Finder"));class b extends o.Component{constructor(...e){super(...e),f(this,"chooseLocation",()=>{d.ipcRenderer.sendTo(h.webContents.id,"move-from-temp")})}render(){const{file:e}=this.props;let t=o.default.createElement(s.Button,{bsSize:"small",onClick:()=>d.shell.showItemInFolder(e.fileName)},m);return e.fileName.includes(u.TEMP_FILES_PATH)&&(t=o.default.createElement(s.Button,{bsSize:"small",onClick:this.chooseLocation,title:(0,l.t)("Choose where to save this file on your computer")},(0,l.t)("Save File"))),o.default.createElement(s.NavItem,null,t)}}f(b,"propTypes",{file:i.default.object.isRequired});var g=(0,a.connect)((function(e){return{file:e.present.file}}),(function(e){return{}}))(b);t.default=g},1224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.default.createElement(o.ErrorBoundary,null,r.default.createElement(i.default,null))};var r=a(n(2)),o=n(22),i=a(n(1225));function a(e){return e&&e.__esModule?e:{default:e}}},1225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(118)),o=m(n(1226)),i=m(n(541)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),s=m(n(16)),l=n(24),c=n(20),u=m(n(1229)),d=m(n(1230));n(1242);var p=m(n(1244)),f=n(12);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{books:{isSeries:g}}=f.helpers,v=f.helpers.beats.nextId,{nextId:y,objectId:E}=f.newIds;class w extends a.Component{constructor(...e){super(...e),b(this,"state",{tab:"search",path:null,tree:null}),b(this,"handleClick",({key:e,value:t,path:n})=>{""!=n&&this.setState({path:n,tree:t})}),b(this,"searchCardsByLine",e=>{this.searchCards([["lineId",e.target.value]])}),b(this,"searchCardsByBeat",e=>{this.searchCards([["beatId",e.target.value]])}),b(this,"searchCards",e=>{const{pltr:t}=this.props,n=t.cards.filter(t=>e.some(e=>t[e[0]]==e[1]));this.setState({tree:n,path:"cards"})}),b(this,"searchLines",e=>{const{pltr:t}=this.props,n=t.lines.filter(t=>t.id==e.target.value);this.setState({tree:n,path:"lines"})}),b(this,"searchBeats",e=>{const{pltr:t}=this.props,n=t.beats.filter(t=>t.id==e.target.value);this.setState({tree:n,path:"beats"})}),b(this,"searchCardsById",e=>{const{pltr:t}=this.props,n=t.cards.filter(t=>t.id==e.target.value);this.setState({tree:n,path:"cards"})}),b(this,"searchAbandoned",()=>{const{pltr:e}=this.props,t=e.cards,n=e.lines.map(e=>e.id),r=f.selectors.sortedBeatsByBookSelector(e).map(e=>e.id),o=t.filter(e=>!n.includes(e.lineId)&&!r.includes(e.beatId));this.setState({tree:o,path:"cards"})}),b(this,"searchDuplicateBeats",()=>{const{pltr:e}=this.props,t=f.selectors.sortedBeatsByBookSelector(e).map(e=>e.id),n=(0,r.default)((0,o.default)((0,i.default)(t),e=>e.length>1)).map(Number);let a=[];n&&(a=(0,i.default)(e.beats.filter(e=>n.includes(e.id)),"id")),this.setState({tree:a,path:"beats"})}),b(this,"searchDuplicateLines",()=>{const{pltr:e}=this.props,t=e.lines.map(e=>e.id),n=(0,r.default)((0,o.default)((0,i.default)(t),e=>e.length>1)).map(Number);let a=[];n&&(a=(0,i.default)(e.lines.filter(e=>n.includes(e.id)),"id")),this.setState({tree:a,path:"lines"})}),b(this,"searchDuplicateCards",()=>{const{pltr:e}=this.props,t=e.cards.map(e=>e.id),n=(0,r.default)((0,o.default)((0,i.default)(t),e=>e.length>1)).map(Number);let a=[];n&&(a=(0,i.default)(e.cards.filter(e=>n.includes(e.id)),"id")),this.setState({tree:a,path:"cards"})}),b(this,"searchBeatsByPosition",e=>{const{pltr:t}=this.props,n=t.beats.filter(t=>t.position==e.target.value);this.setState({tree:n,path:"beats"})}),b(this,"moveBookToIdOne",()=>{const e=this.idToMove.value;if(e)if(g(e));else{const{pltr:t}=this.props,n=new RegExp(`bookId":s?${e},`,"g"),r=JSON.parse(JSON.stringify(t).replace(n,'bookId":1,'));r.books[1]=r.books[""+e],delete r.books[""+e],r.books[1].id=1,console.log(r.books,r.beats.filter(e=>"1"==e.bookId),r.lines.filter(e=>"1"==e.bookId))}})}renderDetails(){return this.state.tree?a.default.createElement("div",{className:"analyzer__details"},a.default.createElement(u.default,{src:this.state.tree,name:this.state.path,iconStyle:"circle"})):null}renderTree(){const{pltr:e}=this.props;return a.default.createElement("div",{className:"analyzer__tree"},a.default.createElement(d.default,{data:e,onClick:this.handleClick,searchOptions:{debounceTime:300}}))}renderTab(){const{pltr:e}=this.props;if("search"==this.state.tab)return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},this.renderTree()),a.default.createElement(c.Col,{sm:12,md:7},a.default.createElement("h3",null,this.state.path),this.renderDetails())));if("cards"==this.state.tab){const t=y(e.cards);return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{onChange:this.searchCardsById,placeholder:"Card Id"}),a.default.createElement("input",{onChange:this.searchCardsByLine,placeholder:"Line Id"}),a.default.createElement("input",{onChange:this.searchCardsByBeat,placeholder:"Beat Id"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchAbandoned},"Abandoned")),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchDuplicateCards},"Duplicates"))),this.renderDetails())))}if("lines"==this.state.tab){const t=y(e.lines);return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{onChange:this.searchLines,placeholder:"Line Id"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchDuplicateLines},"Duplicates"))),this.renderDetails())))}if("beats"==this.state.tab){const t=v(e.beats);return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{onChange:this.searchBeatsByPosition,placeholder:"Beat Position"}),a.default.createElement("input",{onChange:this.searchBeats,placeholder:"Beat Id"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchDuplicateBeats},"Duplicates"))),this.renderDetails())))}if("books"==this.state.tab){const t=E(e.books);return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{ref:e=>this.idToMove=e,placeholder:"Id To Move"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.moveBookToIdOne},"Move to Book 1"))),this.renderDetails())))}}render(){const{pltr:e}=this.props;return a.default.createElement("div",{className:"analyzer__container"},a.default.createElement("h3",null,e.file.version," ",a.default.createElement("small",null,e.file.fileName),a.default.createElement(p.default,null)),a.default.createElement("div",{className:"analyzer__tabs"},a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"search",tree:null,path:null})},"Search"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"cards",tree:null,path:null})},"Cards"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"lines",tree:null,path:null})},"Lines"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"beats",tree:null,path:null})},"Beats"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"books",tree:null,path:null})},"Books")),this.renderTab(),a.default.createElement("div",null))}}b(w,"propTypes",{pltr:s.default.object});var O=(0,l.connect)((function(e){return{pltr:e.present}}),(function(e){return{}}))(w);t.default=O},1226:function(e,t,n){var r=n(165),o=n(219),i=n(1227),a=n(528);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),(function(e){return[e]}));return t=o(t),i(e,n,(function(e,n){return t(e,n[0])}))}},1227:function(e,t,n){var r=n(226),o=n(1228),i=n(227);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=r(e,c);n(u,c)&&o(l,i(c,e),u)}return l}},1228:function(e,t,n){var r=n(315),o=n(227),i=n(218),a=n(83),s=n(166);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,u=(t=o(t,e)).length,d=u-1,p=e;null!=p&&++c<u;){var f=s(t[c]),h=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(c!=d){var m=p[f];void 0===(h=l?l(m,f,p):void 0)&&(h=a(m)?m:i(t[c+1])?[]:{})}r(p,f,h),p=p[f]}return e}},1229:function(e,t,n){var r;e.exports=(r=n(2),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t){e.exports=r},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(26)("wks"),o=n(17),i=n(3).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(7),o=n(16);e.exports=n(4)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(10),o=n(35),i=n(23),a=Object.defineProperty;t.f=n(4)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(40),o=n(22);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var r=n(39),o=n(27);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(3),o=n(1),i=n(53),a=n(6),s=n(5),l=function(e,t,n){var c,u,d,p=e&l.F,f=e&l.G,h=e&l.S,m=e&l.P,b=e&l.B,g=e&l.W,v=f?o:o[t]||(o[t]={}),y=v.prototype,E=f?r:h?r[t]:(r[t]||{}).prototype;for(c in f&&(n=t),n)(u=!p&&E&&void 0!==E[c])&&s(v,c)||(d=u?E[c]:n[c],v[c]=f&&"function"!=typeof E[c]?n[c]:b&&u?i(d,r):g&&E[c]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((v.virtual||(v.virtual={}))[c]=d,e&l.R&&y&&!y[c]&&a(y,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(22);e.exports=function(e){return Object(r(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(52)(!0);n(34)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(26)("keys"),o=n(17);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(1),o=n(3),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(14)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(7).f,o=n(5),i=n(2)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){n(62);for(var r=n(3),o=n(6),i=n(12),a=n(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=r[c],d=u&&u.prototype;d&&!d[a]&&o(d,a,c),i[c]=i.Array}},function(e,t,n){t.f=n(2)},function(e,t,n){var r=n(3),o=n(1),i=n(14),a=n(30),s=n(7).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){"use strict";var r=n(14),o=n(15),i=n(37),a=n(6),s=n(12),l=n(55),c=n(28),u=n(61),d=n(2)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,h,m,b,g){l(n,t,h);var v,y,E,w=function(e){if(!p&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},O=t+" Iterator",S="values"==m,C=!1,_=e.prototype,k=_[d]||_["@@iterator"]||m&&_[m],x=k||w(m),I=m?S?w("entries"):x:void 0,T="Array"==t&&_.entries||k;if(T&&(E=u(T.call(new e)))!==Object.prototype&&E.next&&(c(E,O,!0),r||"function"==typeof E[d]||a(E,d,f)),S&&k&&"values"!==k.name&&(C=!0,x=function(){return k.call(this)}),r&&!g||!p&&!C&&_[d]||a(_,d,x),s[t]=x,s[O]=f,m)if(v={values:S?x:w("values"),keys:b?x:w("keys"),entries:I},g)for(y in v)y in _||i(_,y,v[y]);else o(o.P+o.F*(p||C),t,v);return v}},function(e,t,n){e.exports=!n(4)&&!n(8)((function(){return 7!=Object.defineProperty(n(36)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),o=n(3).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){e.exports=n(6)},function(e,t,n){var r=n(10),o=n(56),i=n(27),a=n(25)("IE_PROTO"),s=function(){},l=function(){var e,t=n(36)("iframe"),r=i.length;for(t.style.display="none",n(60).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(5),o=n(9),i=n(57)(!1),a=n(25)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(39),o=n(27).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(24),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var r=f(n(49)),o=f(n(76)),i=f(n(81)),a=f(n(89)),s=f(n(93)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(94)),c=f(n(132)),u=f(n(133)),d=f(n(138)),p=n(139);function f(e){return e&&e.__esModule?e:{default:e}}var h=l.default,m=(0,a.default)(h),b=(0,d.default)(u.default,p.rgb2yuv,(function(e){var t,n=(0,i.default)(e,3);return[(t=n[0],t<.25?1:t<.5?.9-t:1.1-t),n[1],n[2]]}),p.yuv2rgb,c.default),g=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,o.default)({},t.style||{},e.style||{})}}},v=function(e,t){var n=(0,a.default)(t);for(var i in e)-1===n.indexOf(i)&&n.push(i);return n.reduce((function(n,i){return n[i]=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var n=void 0===e?"undefined":(0,r.default)(e),i=void 0===t?"undefined":(0,r.default)(t);switch(n){case"string":switch(i){case"string":return[t,e].filter(Boolean).join(" ");case"object":return g({className:e,style:t});case"function":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return g({className:e})(t.apply(void 0,[n].concat(o)))}}case"object":switch(i){case"string":return g({className:t,style:e});case"object":return(0,o.default)({},t,e);case"function":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return g({style:e})(t.apply(void 0,[n].concat(o)))}}case"function":switch(i){case"string":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.apply(void 0,[g(n)({className:t})].concat(o))};case"object":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.apply(void 0,[g(n)({style:t})].concat(o))};case"function":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.apply(void 0,[t.apply(void 0,[n].concat(o))].concat(o))}}}}(e[i],t[i]),n}),{})},y=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(null===t)return e;Array.isArray(t)||(t=[t]);var l=t.map((function(t){return e[t]})).filter(Boolean),c=l.reduce((function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,r.default)(t))?e.style=(0,o.default)({},e.style,t):"function"==typeof t&&(e=(0,o.default)({},e,t.apply(void 0,[e].concat(i)))),e}),{className:"",style:{}});return c.className||delete c.className,0===(0,a.default)(c.style).length&&delete c.style,c},E=t.invertTheme=function(e){return(0,a.default)(e).reduce((function(t,n){return t[n]=/^base/.test(n)?b(e[n]):"scheme"===n?e[n]+":inverted":e[n],t}),{})},w=(t.createStyling=(0,s.default)((function(e){for(var t=arguments.length,n=Array(t>3?t-3:0),r=3;r<t;r++)n[r-3]=arguments[r];var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=i.defaultBase16,u=void 0===c?h:c,d=i.base16Themes,p=void 0===d?null:d,f=w(l,p);f&&(l=(0,o.default)({},f,l));var b=m.reduce((function(e,t){return e[t]=l[t]||u[t],e}),{}),g=(0,a.default)(l).reduce((function(e,t){return-1===m.indexOf(t)?(e[t]=l[t],e):e}),{}),E=e(b),O=v(g,E);return(0,s.default)(y,2).apply(void 0,[O].concat(n))}),3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var n=e.split(":"),r=(0,i.default)(n,2),o=r[0],a=r[1];e=(t||{})[o]||l[o],"inverted"===a&&(e=E(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==i&&e.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==t&&(i=function(n){e.removeListener(t,o),r(n)},e.once("error",i)),e.once(t,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i,a,s;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):b(o,o.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function b(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=b(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){e.exports.Dispatcher=n(140)},function(e,t,n){e.exports=n(142)},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(50)),o=a(n(65)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){e.exports={default:n(51),__esModule:!0}},function(e,t,n){n(20),n(29),e.exports=n(30).f("iterator")},function(e,t,n){var r=n(21),o=n(22);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(38),o=n(16),i=n(28),a={};n(6)(a,n(2)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(7),o=n(10),i=n(13);e.exports=n(4)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(9),o=n(58),i=n(59);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=o(l.length),u=i(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(21),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(21),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(5),o=n(18),i=n(25)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(63),o=n(64),i=n(12),a=n(9);e.exports=n(34)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(66),__esModule:!0}},function(e,t,n){n(67),n(73),n(74),n(75),e.exports=n(1).Symbol},function(e,t,n){"use strict";var r=n(3),o=n(5),i=n(4),a=n(15),s=n(37),l=n(68).KEY,c=n(8),u=n(26),d=n(28),p=n(17),f=n(2),h=n(30),m=n(31),b=n(69),g=n(70),v=n(10),y=n(11),E=n(18),w=n(9),O=n(23),S=n(16),C=n(38),_=n(71),k=n(72),x=n(32),I=n(7),T=n(13),A=k.f,P=I.f,j=_.f,D=r.Symbol,R=r.JSON,N=R&&R.stringify,M=f("_hidden"),B=f("toPrimitive"),L={}.propertyIsEnumerable,F=u("symbol-registry"),q=u("symbols"),U=u("op-symbols"),W=Object.prototype,H="function"==typeof D&&!!x.f,z=r.QObject,G=!z||!z.prototype||!z.prototype.findChild,V=i&&c((function(){return 7!=C(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=A(W,t);r&&delete W[t],P(e,t,n),r&&e!==W&&P(W,t,r)}:P,K=function(e){var t=q[e]=C(D.prototype);return t._k=e,t},Y=H&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},$=function(e,t,n){return e===W&&$(U,t,n),v(e),t=O(t,!0),v(n),o(q,t)?(n.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),n=C(n,{enumerable:S(0,!1)})):(o(e,M)||P(e,M,S(1,{})),e[M][t]=!0),V(e,t,n)):P(e,t,n)},J=function(e,t){v(e);for(var n,r=b(t=w(t)),o=0,i=r.length;i>o;)$(e,n=r[o++],t[n]);return e},Z=function(e){var t=L.call(this,e=O(e,!0));return!(this===W&&o(q,e)&&!o(U,e))&&(!(t||!o(this,e)||!o(q,e)||o(this,M)&&this[M][e])||t)},X=function(e,t){if(e=w(e),t=O(t,!0),e!==W||!o(q,t)||o(U,t)){var n=A(e,t);return!n||!o(q,t)||o(e,M)&&e[M][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=j(w(e)),r=[],i=0;n.length>i;)o(q,t=n[i++])||t==M||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===W,r=j(n?U:w(e)),i=[],a=0;r.length>a;)!o(q,t=r[a++])||n&&!o(W,t)||i.push(q[t]);return i};H||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call(U,n),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),V(this,e,S(1,n))};return i&&G&&V(W,e,{configurable:!0,set:t}),K(e)}).prototype,"toString",(function(){return this._k})),k.f=X,I.f=$,n(41).f=_.f=Q,n(19).f=Z,x.f=ee,i&&!n(14)&&s(W,"propertyIsEnumerable",Z,!0),h.f=function(e){return K(f(e))}),a(a.G+a.W+a.F*!H,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var re=T(f.store),oe=0;re.length>oe;)m(re[oe++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=D(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?C(e):J(C(e),t)},defineProperty:$,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ie=c((function(){x.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return x.f(E(e))}}),R&&a(a.S+a.F*(!H||c((function(){var e=D();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(y(t)||void 0!==e)&&!Y(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,N.apply(R,r)}}),D.prototype[B]||n(6)(D.prototype,B,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(17)("meta"),o=n(11),i=n(5),a=n(7).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(8)((function(){return l(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){var r=n(13),o=n(32),i=n(19);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),l=i.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(24);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(9),o=n(41).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(19),o=n(16),i=n(9),a=n(23),s=n(5),l=n(35),c=Object.getOwnPropertyDescriptor;t.f=n(4)?c:function(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(31)("asyncIterator")},function(e,t,n){n(31)("observable")},function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r=n(77))&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(78),__esModule:!0}},function(e,t,n){n(79),e.exports=n(1).Object.assign},function(e,t,n){var r=n(15);r(r.S+r.F,"Object",{assign:n(80)})},function(e,t,n){"use strict";var r=n(4),o=n(13),i=n(32),a=n(19),s=n(18),l=n(40),c=Object.assign;e.exports=!c||n(8)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,u=1,d=i.f,p=a.f;c>u;)for(var f,h=l(arguments[u++]),m=d?o(h).concat(d(h)):o(h),b=m.length,g=0;b>g;)f=m[g++],r&&!p.call(h,f)||(n[f]=h[f]);return n}:c},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(82)),o=i(n(85));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(29),n(20),e.exports=n(84)},function(e,t,n){var r=n(42),o=n(2)("iterator"),i=n(12);e.exports=n(1).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(86),__esModule:!0}},function(e,t,n){n(29),n(20),e.exports=n(87)},function(e,t,n){var r=n(10),o=n(88);e.exports=n(1).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(42),o=n(2)("iterator"),i=n(12);e.exports=n(1).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){n(91),e.exports=n(1).Object.keys},function(e,t,n){var r=n(18),o=n(13);n(92)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(15),o=n(1),i=n(8);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){(function(t){var n=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],r=/^\s+|\s+$/g,o=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,i=/\{\n\/\* \[wrapped with (.+)\] \*/,a=/,? & /,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^\[object .+?Constructor\]$/,u=/^0o[0-7]+$/i,d=/^(?:0|[1-9]\d*)$/,p=parseInt,f="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,m=f||h||Function("return this")();function b(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function g(e){return e!=e}function v(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function y(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&"__lodash_placeholder__"!==a||(e[n]="__lodash_placeholder__",i[o++]=n)}return i}var E,w,O,S=Function.prototype,C=Object.prototype,_=m["__core-js_shared__"],k=(E=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",x=S.toString,I=C.hasOwnProperty,T=C.toString,A=RegExp("^"+x.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=Object.create,j=Math.max,D=Math.min,R=(w=W(Object,"defineProperty"),(O=W.name)&&O.length>2?w:void 0);function N(e){return J(e)?P(e):{}}function M(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,l=t.length,c=j(i-a,0),u=Array(l+c),d=!r;++s<l;)u[s]=t[s];for(;++o<a;)(d||o<i)&&(u[n[o]]=e[o]);for(;c--;)u[s++]=e[o++];return u}function B(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,l=-1,c=t.length,u=j(i-s,0),d=Array(u+c),p=!r;++o<u;)d[o]=e[o];for(var f=o;++l<c;)d[f+l]=t[l];for(;++a<s;)(p||o<i)&&(d[f+n[a]]=e[o++]);return d}function L(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=N(e.prototype),r=e.apply(n,t);return J(r)?r:n}}function F(e,t,n,r,o,i,a,s,l,c){var u=128&t,d=1&t,p=2&t,f=24&t,h=512&t,b=p?void 0:L(e);return function g(){for(var E=arguments.length,w=Array(E),O=E;O--;)w[O]=arguments[O];if(f)var S=U(g),C=v(w,S);if(r&&(w=M(w,r,o,f)),i&&(w=B(w,i,a,f)),E-=C,f&&E<c){var _=y(w,S);return q(e,t,F,g.placeholder,n,w,_,s,l,c-E)}var k=d?n:this,x=p?k[e]:e;return E=w.length,s?w=V(w,s):h&&E>1&&w.reverse(),u&&l<E&&(w.length=l),this&&this!==m&&this instanceof g&&(x=b||L(x)),x.apply(k,w)}}function q(e,t,n,r,o,i,a,s,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=n(e,t,o,u?i:void 0,u?a:void 0,u?void 0:i,u?void 0:a,s,l,c);return d.placeholder=r,K(d,e,t)}function U(e){return e.placeholder}function W(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!J(e)||function(e){return!!k&&k in e}(e))&&(function(e){var t=J(e)?T.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?A:c).test(function(e){if(null!=e){try{return x.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function H(e){var t=e.match(i);return t?t[1].split(a):[]}function z(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(o,"{\n/* [wrapped with "+t+"] */\n")}function G(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}function V(e,t){for(var n=e.length,r=D(t.length,n),o=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e);r--;){var i=t[r];e[r]=G(i,n)?o[i]:void 0}return e}var K=R?function(e,t,n){var r,o=t+"";return R(e,"toString",{configurable:!0,enumerable:!1,value:(r=z(o,Y(H(o),n)),function(){return r})})}:function(e){return e};function Y(e,t){return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n]););}(n,(function(n){var r="_."+n[0];t&n[1]&&!function(e,t){return!(!e||!e.length)&&function(e,t,n){if(t!=t)return function(e,t,n,r){for(var o=e.length,i=-1;++i<o;)if(t(e[i],i,e))return i;return-1}(e,g);for(var r=-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t)>-1}(e,r)&&e.push(r)})),e.sort()}function $(e,t,n){var r=function(e,t,n,r,o,i,a,s){var l=2&t;if(!l&&"function"!=typeof e)throw new TypeError("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=o=void 0),a=void 0===a?a:j(Z(a),0),s=void 0===s?s:Z(s),c-=o?o.length:0,64&t){var u=r,d=o;r=o=void 0}var p=[e,t,n,r,o,u,d,i,a,s];if(e=p[0],t=p[1],n=p[2],r=p[3],o=p[4],!(s=p[9]=null==p[9]?l?0:e.length:j(p[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?function(e,t,n){var r=L(e);return function o(){for(var i=arguments.length,a=Array(i),s=i,l=U(o);s--;)a[s]=arguments[s];var c=i<3&&a[0]!==l&&a[i-1]!==l?[]:y(a,l);if((i-=c.length)<n)return q(e,t,F,o.placeholder,void 0,a,c,void 0,void 0,n-i);var u=this&&this!==m&&this instanceof o?r:e;return b(u,this,a)}}(e,t,s):32!=t&&33!=t||o.length?F.apply(void 0,p):function(e,t,n,r){var o=1&t,i=L(e);return function t(){for(var a=-1,s=arguments.length,l=-1,c=r.length,u=Array(c+s),d=this&&this!==m&&this instanceof t?i:e;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++a];return b(d,o?n:this,u)}}(e,t,n,r);else var f=function(e,t,n){var r=1&t,o=L(e);return function t(){var i=this&&this!==m&&this instanceof t?o:e;return i.apply(r?n:this,arguments)}}(e,t,n);return K(f,e,t)}(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=$.placeholder,r}function J(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Z(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==T.call(e)}(e))return NaN;if(J(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=J(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=l.test(e);return n||u.test(e)?p(e.slice(2),n?2:8):s.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0}$.placeholder={},e.exports=$}).call(this,n(43))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=n(95);t.threezerotwofour=r(o);var i=n(96);t.apathy=r(i);var a=n(97);t.ashes=r(a);var s=n(98);t.atelierDune=r(s);var l=n(99);t.atelierForest=r(l);var c=n(100);t.atelierHeath=r(c);var u=n(101);t.atelierLakeside=r(u);var d=n(102);t.atelierSeaside=r(d);var p=n(103);t.bespin=r(p);var f=n(104);t.brewer=r(f);var h=n(105);t.bright=r(h);var m=n(106);t.chalk=r(m);var b=n(107);t.codeschool=r(b);var g=n(108);t.colors=r(g);var v=n(109);t.default=r(v);var y=n(110);t.eighties=r(y);var E=n(111);t.embers=r(E);var w=n(112);t.flat=r(w);var O=n(113);t.google=r(O);var S=n(114);t.grayscale=r(S);var C=n(115);t.greenscreen=r(C);var _=n(116);t.harmonic=r(_);var k=n(117);t.hopscotch=r(k);var x=n(118);t.isotope=r(x);var I=n(119);t.marrakesh=r(I);var T=n(120);t.mocha=r(T);var A=n(121);t.monokai=r(A);var P=n(122);t.ocean=r(P);var j=n(123);t.paraiso=r(j);var D=n(124);t.pop=r(D);var R=n(125);t.railscasts=r(R);var N=n(126);t.shapeshifter=r(N);var M=n(127);t.solarized=r(M);var B=n(128);t.summerfruit=r(B);var L=n(129);t.tomorrow=r(L);var F=n(130);t.tube=r(F);var q=n(131);t.twilight=r(q)},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timothe poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},function(e,t,n){var r=n(33);function o(e){var t=Math.round(r(e,0,255)).toString(16);return 1==t.length?"0"+t:t}e.exports=function(e){var t=4===e.length?o(255*e[3]):"";return"#"+o(e[0])+o(e[1])+o(e[2])+t}},function(e,t,n){var r=n(134),o=n(135),i=n(136),a=n(137),s={"#":o,hsl:function(e){var t=r(e),n=a(t);return 4===t.length&&n.push(t[3]),n},rgb:i};function l(e){for(var t in s)if(0===e.indexOf(t))return s[t](e)}l.rgb=i,l.hsl=r,l.hex=o,e.exports=l},function(e,t,n){var r=n(44),o=n(33);function i(e,t){switch(e=parseFloat(e),t){case 0:return o(e,0,360);case 1:case 2:return o(e,0,100);case 3:return o(e,0,1)}}e.exports=function(e){return r(e).map(i)}},function(e,t){e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t}},function(e,t,n){var r=n(44),o=n(33);function i(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*o(parseInt(e,10),0,100)/100):o(parseInt(e,10),0,255):o(parseFloat(e),0,1)}e.exports=function(e){return r(e).map(i)}},function(e,t){e.exports=function(e){var t,n,r,o,i,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[i=255*l,i,i];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[c]=255*i;return o}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function a(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var s=Object.prototype,l=s.hasOwnProperty,c=s.toString,u=o.Symbol,d=s.propertyIsEnumerable,p=u?u.isConcatSpreadable:void 0,f=Math.max;function h(e){return g(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?c.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&l.call(e,"callee")&&(!d.call(e,"callee")||"[object Arguments]"==c.call(e))}(e)||!!(p&&e&&e[p])}var m,b,g=Array.isArray,v=(m=function(e){for(var t=(e=function e(t,n,r,o,i){var s=-1,l=t.length;for(r||(r=h),i||(i=[]);++s<l;){var c=t[s];n>0&&r(c)?n>1?e(c,n-1,r,o,i):a(i,c):o||(i[i.length]=c)}return i}(e,1)).length,n=t;n--;)if("function"!=typeof e[n])throw new TypeError("Expected a function");return function(){for(var n=0,r=t?e[n].apply(this,arguments):arguments[0];++n<t;)r=e[n].call(this,r);return r}},b=f(void 0===b?m.length-1:b,0),function(){for(var e=arguments,t=-1,n=f(e.length-b,0),r=Array(n);++t<n;)r[t]=e[b+t];t=-1;for(var o=Array(b+1);++t<b;)o[t]=e[t];return o[b]=r,i(m,this,o)});e.exports=v}).call(this,n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=function(e){var t,n,r,o=e[0],i=e[1],a=e[2];return t=1*o+0*i+1.13983*a,n=1*o+-.39465*i+-.5806*a,r=1*o+2.02311*i+0*a,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},t.rgb2yuv=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[.299*t+.587*n+.114*r,-.14713*t+-.28886*n+.436*r,.615*t+-.51499*n+-.10001*r]}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(141),i=function(){function e(){r(this,"_callbacks",void 0),r(this,"_isDispatching",void 0),r(this,"_isHandled",void 0),r(this,"_isPending",void 0),r(this,"_lastID",void 0),r(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var t=e.prototype;return t.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},t.unregister=function(e){this._callbacks[e]||o(!1),delete this._callbacks[e]},t.waitFor=function(e){this._isDispatching||o(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||o(!1):(this._callbacks[n]||o(!1),this._invokeCallback(n))}},t.dispatch=function(e){this._isDispatching&&o(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},t.isDispatching=function(){return this._isDispatching},t._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},t._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},t._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(i=new Error(t.replace(/%s/g,(function(){return String(r[a++])})))).name="Invariant Violation"}throw i.framesToPop=1,i}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?f(e):t}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}n.r(t);var b=n(0),g=n.n(b);function v(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function y(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function E(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function w(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=v,t.componentWillReceiveProps=y),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=E;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e){var t=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),t}v.__suppressDeprecationWarning=!0,y.__suppressDeprecationWarning=!0,E.__suppressDeprecationWarning=!0;var C={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},_={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},k={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},x=n(45),I=function(e){var t=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base02,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}}(e);return{"app-container":{fontFamily:k.globalFontFamily,cursor:k.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:k.ellipsisFontSize,lineHeight:k.ellipsisLineHeight,cursor:k.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:k.braceCursor,fontWeight:k.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:k.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,n){return{style:i({paddingTop:k.keyValPaddingTop,paddingRight:k.keyValPaddingRight,paddingBottom:k.keyValPaddingBottom,borderLeft:k.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:n.paddingLeft-1+"px",borderLeft:k.keyValBorderHover+" "+t.objectBorder}},n)}},"object-key-val-no-border":{padding:k.keyValPadding},"pushed-content":{marginLeft:k.pushedContentMarginLeft},variableValue:function(e,t){return{style:i({display:"inline-block",paddingRight:k.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:k.keyLetterSpacing,fontStyle:k.keyFontStyle,verticalAlign:k.keyVerticalAlign,opacity:k.keyOpacity,":hover":{opacity:k.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:k.keyLetterSpacing,fontStyle:k.keyFontStyle,verticalAlign:k.keyVerticalAlign,opacity:k.keyOpacity,":hover":{opacity:k.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:k.objectSizeBorderRadius,fontStyle:k.objectSizeFontStyle,margin:k.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:k.dataTypeFontSize,marginRight:k.dataTypeMarginRight,opacity:k.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:k.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontSize:k.nanFontSize,fontWeight:k.nanFontWeight,backgroundColor:t.dataTypes.background,padding:k.nanPadding,borderRadius:k.nanBorderRadius},null:{display:"inline-block",color:t.dataTypes.null,fontSize:k.nullFontSize,fontWeight:k.nullFontWeight,backgroundColor:t.dataTypes.background,padding:k.nullPadding,borderRadius:k.nullBorderRadius},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:k.undefinedFontSize,padding:k.undefinedPadding,borderRadius:k.undefinedBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:k.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:k.iconFontSize,marginRight:k.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:k.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:k.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:k.metaDataPadding},"icon-container":{display:"inline-block",width:k.iconContainerWidth},tooltip:{padding:k.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:k.iconCursor,fontSize:k.iconFontSize,marginRight:k.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:k.iconCursor,fontSize:k.iconFontSize,marginRight:k.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:k.iconCursor,fontSize:k.iconFontSize,marginRight:k.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:k.iconCursor,color:t.editVariable.checkIcon,fontSize:k.iconFontSize,paddingRight:k.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:k.iconCursor,color:t.editVariable.cancelIcon,fontSize:k.iconFontSize,paddingRight:k.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:k.editInputMinWidth,borderRadius:k.editInputBorderRadius,backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:k.editInputPadding,marginRight:k.editInputMarginRight,fontFamily:k.editInputFontFamily},"detected-row":{paddingTop:k.detectedRowPaddingTop},"key-modal-request":{position:k.addKeyCoverPosition,top:k.addKeyCoverPositionPx,left:k.addKeyCoverPositionPx,right:k.addKeyCoverPositionPx,bottom:k.addKeyCoverPositionPx,backgroundColor:k.addKeyCoverBackground},"key-modal":{width:k.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:k.addKeyModalMargin,marginRight:k.addKeyModalMargin,padding:k.addKeyModalPadding,borderRadius:k.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:k.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:k.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:k.ellipsisFontSize,lineHeight:k.ellipsisLineHeight,cursor:k.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:k.iconFontSize,transform:"rotate(45deg)"}}};function T(e,t,n){return e||console.error("theme has not been set"),function(e){var t=C;return!1!==e&&"none"!==e||(t=_),Object(x.createStyling)(I,{defaultBase16:t})(e)}(e)(t,n)}var A=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=(e.rjvId,e.type_name),n=e.displayDataTypes,r=e.theme;return n?g.a.createElement("span",Object.assign({className:"data-type-label"},T(r,"data-type-label")),t):null}}]),n}(g.a.PureComponent),P=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",T(e.theme,"boolean"),g.a.createElement(A,Object.assign({type_name:"bool"},e)),e.value?"true":"false")}}]),n}(g.a.PureComponent),j=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",T(e.theme,"date"),g.a.createElement(A,Object.assign({type_name:"date"},e)),g.a.createElement("span",Object.assign({className:"date-value"},T(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),n}(g.a.PureComponent),D=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",T(e.theme,"float"),g.a.createElement(A,Object.assign({type_name:"float"},e)),this.props.value)}}]),n}(g.a.PureComponent);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function M(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function B(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=n(46),F=new(n(47).Dispatcher),q=new(function(e){u(n,e);var t=m(n);function n(){var e;a(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).objects={},e.set=function(t,n,r,o){void 0===e.objects[t]&&(e.objects[t]={}),void 0===e.objects[t][n]&&(e.objects[t][n]={}),e.objects[t][n][r]=o},e.get=function(t,n,r,o){return void 0===e.objects[t]||void 0===e.objects[t][n]||null==e.objects[t][n][r]?o:e.objects[t][n][r]},e.handleAction=function(t){var n=t.rjvId,r=t.data;switch(t.name){case"RESET":e.emit("reset-"+n);break;case"VARIABLE_UPDATED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",i(i({},r),{},{type:"variable-edited"})),e.emit("variable-update-"+n);break;case"VARIABLE_REMOVED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",i(i({},r),{},{type:"variable-removed"})),e.emit("variable-update-"+n);break;case"VARIABLE_ADDED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",i(i({},r),{},{type:"variable-added"})),e.emit("variable-update-"+n);break;case"ADD_VARIABLE_KEY_REQUEST":e.set(n,"action","new-key-request",r),e.emit("add-key-request-"+n)}},e.updateSrc=function(t,n){var r=n.name,o=n.namespace,i=n.new_value,a=(n.existing_value,n.variable_removed);o.shift();var s,l=e.get(t,"global","src"),c=e.deepCopy(l,B(o)),u=c,d=M(o);try{for(d.s();!(s=d.n()).done;)u=u[s.value]}catch(e){d.e(e)}finally{d.f()}return a?"array"==S(u)?u.splice(r,1):delete u[r]:null!==r?u[r]=i:c=i,e.set(t,"global","src",c),c},e.deepCopy=function(t,n){var r,o=S(t),a=n.shift();return"array"==o?r=B(t):"object"==o&&(r=i({},t)),void 0!==a&&(r[a]=e.deepCopy(t[a],n)),r},e}return n}(L.EventEmitter));F.register(q.handleAction.bind(q));var U=q,W=function(e){u(n,e);var t=m(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){U.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.getFunctionDisplay=function(e){var t=f(r).props;return e?g.a.createElement("span",null,r.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),g.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},g.a.createElement("span",null,"{"),g.a.createElement("span",T(t.theme,"ellipsis"),"..."),g.a.createElement("span",null,"}"))):r.props.value.toString().slice(9,-1)},r.state={collapsed:U.get(e.rjvId,e.namespace,"collapsed",!0)},r}return l(n,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return g.a.createElement("div",T(e.theme,"function"),g.a.createElement(A,Object.assign({type_name:"function"},e)),g.a.createElement("span",Object.assign({},T(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),n}(g.a.PureComponent),H=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){return g.a.createElement("div",T(this.props.theme,"nan"),"NaN")}}]),n}(g.a.PureComponent),z=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){return g.a.createElement("div",T(this.props.theme,"null"),"NULL")}}]),n}(g.a.PureComponent),G=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",T(e.theme,"integer"),g.a.createElement(A,Object.assign({type_name:"int"},e)),this.props.value)}}]),n}(g.a.PureComponent),V=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props;return g.a.createElement("div",T(e.theme,"regexp"),g.a.createElement(A,Object.assign({type_name:"regexp"},e)),this.props.value.toString())}}]),n}(g.a.PureComponent),K=function(e){u(n,e);var t=m(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){U.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.state={collapsed:U.get(e.rjvId,e.namespace,"collapsed",!0)},r}return l(n,[{key:"render",value:function(){this.state.collapsed;var e=this.props,t=e.collapseStringsAfterLength,n=e.theme,r=e.value,o={style:{cursor:"default"}};return"integer"===S(t)&&r.length>t&&(o.style.cursor="pointer",this.state.collapsed&&(r=g.a.createElement("span",null,r.substring(0,t),g.a.createElement("span",T(n,"ellipsis")," ...")))),g.a.createElement("div",T(n,"string"),g.a.createElement(A,Object.assign({type_name:"string"},e)),g.a.createElement("span",Object.assign({className:"string-value"},o,{onClick:this.toggleCollapsed}),'"',r,'"'))}}]),n}(g.a.PureComponent),Y=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){return g.a.createElement("div",T(this.props.theme,"undefined"),"undefined")}}]),n}(g.a.PureComponent);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var J=b.useLayoutEffect,Z=function(e,t){"function"!=typeof e?e.current=t:e(t)},X={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Q=function(e){Object.keys(X).forEach((function(t){e.style.setProperty(t,X[t],"important")}))},ee=null,te=function(){},ne=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],re=!!document.documentElement.currentStyle,oe=Object(b.forwardRef)((function(e,t){var n,r=e.cacheMeasurements,o=e.maxRows,i=e.minRows,a=e.onChange,s=void 0===a?te:a,l=e.onHeightChange,c=void 0===l?te:l,u=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),d=void 0!==u.value,p=Object(b.useRef)(null),f=function(e,t){var n=Object(b.useRef)();return Object(b.useCallback)((function(r){e.current=r,n.current&&Z(n.current,null),n.current=t,t&&Z(t,r)}),[t])}(p,t),h=Object(b.useRef)(0),m=Object(b.useRef)(),g=function(){var e=p.current,t=r&&m.current?m.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,ne.reduce((function(e,t){return e[t]=n[t],e}),{})),o=r.boxSizing;return""===o?null:(re&&"border-box"===o&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){m.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),ee||((ee=document.createElement("textarea")).setAttribute("tab-index","-1"),ee.setAttribute("aria-hidden","true"),Q(ee)),null===ee.parentNode&&document.body.appendChild(ee);var o=e.paddingSize,i=e.borderSize,a=e.sizingStyle,s=a.boxSizing;Object.keys(a).forEach((function(e){var t=e;ee.style[t]=a[t]})),Q(ee),ee.value=t;var l=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(ee,e);ee.value="x";var c=ee.scrollHeight-o,u=c*n;"border-box"===s&&(u=u+o+i),l=Math.max(u,l);var d=c*r;return"border-box"===s&&(d=d+o+i),[l=Math.min(d,l),c]}(t,e.value||e.placeholder||"x",i,o),a=n[0],s=n[1];h.current!==a&&(h.current=a,e.style.setProperty("height",a+"px","important"),c(a,{rowHeight:s}))}};return Object(b.useLayoutEffect)(g),n=function(e){var t=Object(b.useRef)(e);return J((function(){t.current=e})),t}(g),Object(b.useLayoutEffect)((function(){var e=function(e){n.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(b.createElement)("textarea",$({},u,{onChange:function(e){d||g(),s(e)},ref:f}))}));function ie(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return ae("array",JSON.parse(e));if("{"===e[0])return ae("object",JSON.parse(e));if(e.match(/\-?\d+\.\d+/)&&e.match(/\-?\d+\.\d+/)[0]===e)return ae("float",parseFloat(e));if(e.match(/\-?\d+e-\d+/)&&e.match(/\-?\d+e-\d+/)[0]===e)return ae("float",Number(e));if(e.match(/\-?\d+/)&&e.match(/\-?\d+/)[0]===e)return ae("integer",parseInt(e));if(e.match(/\-?\d+e\+\d+/)&&e.match(/\-?\d+e\+\d+/)[0]===e)return ae("integer",Number(e))}catch(e){}switch(e=e.toLowerCase()){case"undefined":return ae("undefined",void 0);case"nan":return ae("nan",NaN);case"null":return ae("null",null);case"true":return ae("boolean",!0);case"false":return ae("boolean",!1);default:if(e=Date.parse(e))return ae("date",new Date(e))}return ae(!1,null)}function ae(e,t){return{type:e,value:t}}var se=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),n}(g.a.PureComponent),le=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),n}(g.a.PureComponent),ce=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]),r=ye(t).style;return g.a.createElement("span",n,g.a.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},g.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(g.a.PureComponent),ue=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]),r=ye(t).style;return g.a.createElement("span",n,g.a.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},g.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(g.a.PureComponent),de=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",{style:i(i({},ye(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},g.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),n}(g.a.PureComponent),pe=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",{style:i(i({},ye(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},g.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),n}(g.a.PureComponent),fe=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("g",null,g.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),n}(g.a.PureComponent),he=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("g",null,g.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(g.a.PureComponent),me=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("g",null,g.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(g.a.PureComponent),be=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("g",null,g.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),n}(g.a.PureComponent),ge=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("g",null,g.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),n}(g.a.PureComponent),ve=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=O(e,["style"]);return g.a.createElement("span",n,g.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),g.a.createElement("g",null,g.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(g.a.PureComponent);function ye(e){return e||(e={}),{style:i(i({verticalAlign:"middle"},e),{},{color:e.color?e.color:"#000000",height:"1em",width:"1em"})}}var Ee=function(e){u(n,e);var t=m(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).copiedTimer=null,r.handleCopy=function(){var e=document.createElement("textarea"),t=r.props,n=t.clickCallback,o=t.src,i=t.namespace;e.innerHTML=JSON.stringify(r.clipboardValue(o),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),r.copiedTimer=setTimeout((function(){r.setState({copied:!1})}),5500),r.setState({copied:!0},(function(){"function"==typeof n&&n({src:o,namespace:i,name:i[i.length-1]})}))},r.getClippyIcon=function(){var e=r.props.theme;return r.state.copied?g.a.createElement("span",null,g.a.createElement(fe,Object.assign({className:"copy-icon"},T(e,"copy-icon"))),g.a.createElement("span",T(e,"copy-icon-copied"),"")):g.a.createElement(fe,Object.assign({className:"copy-icon"},T(e,"copy-icon")))},r.clipboardValue=function(e){switch(S(e)){case"function":case"regexp":return e.toString();default:return e}},r.state={copied:!1},r}return l(n,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),n=e.hidden,r=e.rowHovered,o=T(t,"copy-to-clipboard").style,a="inline";return n&&(a="none"),g.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:r?"inline-block":"none"}},g.a.createElement("span",{style:i(i({},o),{},{display:a}),onClick:this.handleCopy},this.getClippyIcon()))}}]),n}(g.a.PureComponent),we=function(e){u(n,e);var t=m(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).getEditIcon=function(){var e=r.props,t=e.variable,n=e.theme;return g.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:r.state.hovered?"inline-block":"none"}},g.a.createElement(ge,Object.assign({className:"click-to-edit-icon"},T(n,"editVarIcon"),{onClick:function(){r.prepopInput(t)}})))},r.prepopInput=function(e){if(!1!==r.props.onEdit){var t=function(e){var t;switch(S(e)){case"undefined":t="undefined";break;case"nan":t="NaN";break;case"string":t=e;break;case"date":case"function":case"regexp":t=e.toString();break;default:try{t=JSON.stringify(e,null,"  ")}catch(e){t=""}}return t}(e.value),n=ie(t);r.setState({editMode:!0,editValue:t,parsedInput:{type:n.type,value:n.value}})}},r.getRemoveIcon=function(){var e=r.props,t=e.variable,n=e.namespace,o=e.theme,i=e.rjvId;return g.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:r.state.hovered?"inline-block":"none"}},g.a.createElement(he,Object.assign({className:"click-to-remove-icon"},T(o,"removeVarIcon"),{onClick:function(){F.dispatch({name:"VARIABLE_REMOVED",rjvId:i,data:{name:t.name,namespace:n,existing_value:t.value,variable_removed:!0}})}})))},r.getValue=function(e,t){var n=!t&&e.type,o=f(r).props;switch(n){case!1:return r.getEditInput();case"string":return g.a.createElement(K,Object.assign({value:e.value},o));case"integer":return g.a.createElement(G,Object.assign({value:e.value},o));case"float":return g.a.createElement(D,Object.assign({value:e.value},o));case"boolean":return g.a.createElement(P,Object.assign({value:e.value},o));case"function":return g.a.createElement(W,Object.assign({value:e.value},o));case"null":return g.a.createElement(z,o);case"nan":return g.a.createElement(H,o);case"undefined":return g.a.createElement(Y,o);case"date":return g.a.createElement(j,Object.assign({value:e.value},o));case"regexp":return g.a.createElement(V,Object.assign({value:e.value},o));default:return g.a.createElement("div",{className:"object-value"},JSON.stringify(e.value))}},r.getEditInput=function(){var e=r.props.theme,t=r.state.editValue;return g.a.createElement("div",null,g.a.createElement(oe,Object.assign({type:"text",inputRef:function(e){return e&&e.focus()},value:t,className:"variable-editor",onChange:function(e){var t=e.target.value,n=ie(t);r.setState({editValue:t,parsedInput:{type:n.type,value:n.value}})},onKeyDown:function(e){switch(e.key){case"Escape":r.setState({editMode:!1,editValue:""});break;case"Enter":(e.ctrlKey||e.metaKey)&&r.submitEdit(!0)}e.stopPropagation()},placeholder:"update this value",minRows:2},T(e,"edit-input"))),g.a.createElement("div",T(e,"edit-icon-container"),g.a.createElement(he,Object.assign({className:"edit-cancel"},T(e,"cancel-icon"),{onClick:function(){r.setState({editMode:!1,editValue:""})}})),g.a.createElement(ve,Object.assign({className:"edit-check string-value"},T(e,"check-icon"),{onClick:function(){r.submitEdit()}})),g.a.createElement("div",null,r.showDetected())))},r.submitEdit=function(e){var t=r.props,n=t.variable,o=t.namespace,i=t.rjvId,a=r.state,s=a.editValue,l=a.parsedInput,c=s;e&&l.type&&(c=l.value),r.setState({editMode:!1}),F.dispatch({name:"VARIABLE_UPDATED",rjvId:i,data:{name:n.name,namespace:o,existing_value:n.value,new_value:c,variable_removed:!1}})},r.showDetected=function(){var e=r.props,t=e.theme,n=(e.variable,e.namespace,e.rjvId,r.state.parsedInput),o=(n.type,n.value,r.getDetectedInput());if(o)return g.a.createElement("div",null,g.a.createElement("div",T(t,"detected-row"),o,g.a.createElement(ve,{className:"edit-check detected",style:i({verticalAlign:"top",paddingLeft:"3px"},T(t,"check-icon").style),onClick:function(){r.submitEdit(!0)}})))},r.getDetectedInput=function(){var e=r.state.parsedInput,t=e.type,n=e.value,o=f(r).props,a=o.theme;if(!1!==t)switch(t.toLowerCase()){case"object":return g.a.createElement("span",null,g.a.createElement("span",{style:i(i({},T(a,"brace").style),{},{cursor:"default"})},"{"),g.a.createElement("span",{style:i(i({},T(a,"ellipsis").style),{},{cursor:"default"})},"..."),g.a.createElement("span",{style:i(i({},T(a,"brace").style),{},{cursor:"default"})},"}"));case"array":return g.a.createElement("span",null,g.a.createElement("span",{style:i(i({},T(a,"brace").style),{},{cursor:"default"})},"["),g.a.createElement("span",{style:i(i({},T(a,"ellipsis").style),{},{cursor:"default"})},"..."),g.a.createElement("span",{style:i(i({},T(a,"brace").style),{},{cursor:"default"})},"]"));case"string":return g.a.createElement(K,Object.assign({value:n},o));case"integer":return g.a.createElement(G,Object.assign({value:n},o));case"float":return g.a.createElement(D,Object.assign({value:n},o));case"boolean":return g.a.createElement(P,Object.assign({value:n},o));case"function":return g.a.createElement(W,Object.assign({value:n},o));case"null":return g.a.createElement(z,o);case"nan":return g.a.createElement(H,o);case"undefined":return g.a.createElement(Y,o);case"date":return g.a.createElement(j,Object.assign({value:new Date(n)},o))}},r.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},r}return l(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.variable,r=t.singleIndent,o=t.type,a=t.theme,s=t.namespace,l=t.indentWidth,c=t.enableClipboard,u=t.onEdit,d=t.onDelete,p=t.onSelect,f=t.displayArrayKey,h=t.quotesOnKeys,m=this.state.editMode;return g.a.createElement("div",Object.assign({},T(a,"objectKeyVal",{paddingLeft:l*r}),{onMouseEnter:function(){return e.setState(i(i({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(i(i({},e.state),{},{hovered:!1}))},className:"variable-row",key:n.name}),"array"==o?f?g.a.createElement("span",Object.assign({},T(a,"array-key"),{key:n.name+"_"+s}),n.name,g.a.createElement("div",T(a,"colon"),":")):null:g.a.createElement("span",null,g.a.createElement("span",Object.assign({},T(a,"object-name"),{className:"object-key",key:n.name+"_"+s}),!!h&&g.a.createElement("span",{style:{verticalAlign:"top"}},'"'),g.a.createElement("span",{style:{display:"inline-block"}},n.name),!!h&&g.a.createElement("span",{style:{verticalAlign:"top"}},'"')),g.a.createElement("span",T(a,"colon"),":")),g.a.createElement("div",Object.assign({className:"variable-value",onClick:!1===p&&!1===u?null:function(t){var r=B(s);(t.ctrlKey||t.metaKey)&&!1!==u?e.prepopInput(n):!1!==p&&(r.shift(),p(i(i({},n),{},{namespace:r})))}},T(a,"variableValue",{cursor:!1===p?"default":"pointer"})),this.getValue(n,m)),c?g.a.createElement(Ee,{rowHovered:this.state.hovered,hidden:m,src:n.value,clickCallback:c,theme:a,namespace:[].concat(B(s),[n.name])}):null,!1!==u&&0==m?this.getEditIcon():null,!1!==d&&0==m?this.getRemoveIcon():null)}}]),n}(g.a.PureComponent),Oe=function(e){u(n,e);var t=m(n);function n(){var e;a(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).getObjectSize=function(){var t=e.props,n=t.size,r=t.theme;if(t.displayObjectSize)return g.a.createElement("span",Object.assign({className:"object-size"},T(r,"object-size")),n," item",1===n?"":"s")},e.getAddAttribute=function(t){var n=e.props,r=n.theme,o=n.namespace,a=n.name,s=n.src,l=n.rjvId,c=n.depth;return g.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:t?"inline-block":"none"}},g.a.createElement(me,Object.assign({className:"click-to-add-icon"},T(r,"addVarIcon"),{onClick:function(){var e={name:c>0?a:null,namespace:o.splice(0,o.length-1),existing_value:s,variable_removed:!1,key_name:null};"object"===S(s)?F.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:l,data:e}):F.dispatch({name:"VARIABLE_ADDED",rjvId:l,data:i(i({},e),{},{new_value:[].concat(B(s),[null])})})}})))},e.getRemoveObject=function(t){var n=e.props,r=n.theme,o=(n.hover,n.namespace),i=n.name,a=n.src,s=n.rjvId;if(1!==o.length)return g.a.createElement("span",{className:"click-to-remove",style:{display:t?"inline-block":"none"}},g.a.createElement(he,Object.assign({className:"click-to-remove-icon"},T(r,"removeVarIcon"),{onClick:function(){F.dispatch({name:"VARIABLE_REMOVED",rjvId:s,data:{name:i,namespace:o.splice(0,o.length-1),existing_value:a,variable_removed:!0}})}})))},e.render=function(){var t=e.props,n=t.theme,r=t.onDelete,o=t.onAdd,i=t.enableClipboard,a=t.src,s=t.namespace,l=t.rowHovered;return g.a.createElement("div",Object.assign({},T(n,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),e.getObjectSize(),i?g.a.createElement(Ee,{rowHovered:l,clickCallback:i,src:a,theme:n,namespace:s}):null,!1!==o?e.getAddAttribute(l):null,!1!==r?e.getRemoveObject(l):null)},e}return n}(g.a.PureComponent);function Se(e){var t=e.parent_type,n=e.namespace,r=e.quotesOnKeys,o=e.theme,i=e.jsvRoot,a=e.name,s=e.displayArrayKey,l=e.name?e.name:"";return!i||!1!==a&&null!==a?"array"==t?s?g.a.createElement("span",Object.assign({},T(o,"array-key"),{key:n}),g.a.createElement("span",{className:"array-key"},l),g.a.createElement("span",T(o,"colon"),":")):g.a.createElement("span",null):g.a.createElement("span",Object.assign({},T(o,"object-name"),{key:n}),g.a.createElement("span",{className:"object-key"},r&&g.a.createElement("span",{style:{verticalAlign:"top"}},'"'),g.a.createElement("span",null,l),r&&g.a.createElement("span",{style:{verticalAlign:"top"}},'"')),g.a.createElement("span",T(o,"colon"),":")):g.a.createElement("span",null)}function Ce(e){var t=e.theme;switch(e.iconStyle){case"triangle":return g.a.createElement(pe,Object.assign({},T(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return g.a.createElement(ce,Object.assign({},T(t,"expanded-icon"),{className:"expanded-icon"}));default:return g.a.createElement(se,Object.assign({},T(t,"expanded-icon"),{className:"expanded-icon"}))}}function _e(e){var t=e.theme;switch(e.iconStyle){case"triangle":return g.a.createElement(de,Object.assign({},T(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return g.a.createElement(ue,Object.assign({},T(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return g.a.createElement(le,Object.assign({},T(t,"collapsed-icon"),{className:"collapsed-icon"}))}}var ke=function(e){u(n,e);var t=m(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).toggleCollapsed=function(e){var t=[];for(var n in r.state.expanded)t.push(r.state.expanded[n]);t[e]=!t[e],r.setState({expanded:t})},r.state={expanded:[]},r}return l(n,[{key:"getExpandedIcon",value:function(e){var t=this.props,n=t.theme,r=t.iconStyle;return this.state.expanded[e]?g.a.createElement(Ce,{theme:n,iconStyle:r}):g.a.createElement(_e,{theme:n,iconStyle:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,r=t.groupArraysAfterLength,o=(t.depth,t.name),i=t.theme,a=t.jsvRoot,s=t.namespace,l=(t.parent_type,O(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),c=0,u=5*this.props.indentWidth;a||(c=5*this.props.indentWidth);var d=r,p=Math.ceil(n.length/d);return g.a.createElement("div",Object.assign({className:"object-key-val"},T(i,a?"jsv-root":"objectKeyVal",{paddingLeft:c})),g.a.createElement(Se,this.props),g.a.createElement("span",null,g.a.createElement(Oe,Object.assign({size:n.length},this.props))),B(Array(p)).map((function(t,r){return g.a.createElement("div",Object.assign({key:r,className:"object-key-val array-group"},T(i,"objectKeyVal",{marginLeft:6,paddingLeft:u})),g.a.createElement("span",T(i,"brace-row"),g.a.createElement("div",Object.assign({className:"icon-container"},T(i,"icon-container"),{onClick:function(t){e.toggleCollapsed(r)}}),e.getExpandedIcon(r)),e.state.expanded[r]?g.a.createElement(Te,Object.assign({key:o+r,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:d,index_offset:r*d,src:n.slice(r*d,r*d+d),namespace:s,type:"array",parent_type:"array_group",theme:i},l)):g.a.createElement("span",Object.assign({},T(i,"brace"),{onClick:function(t){e.toggleCollapsed(r)},className:"array-group-brace"}),"[",g.a.createElement("div",Object.assign({},T(i,"array-group-meta-data"),{className:"array-group-meta-data"}),g.a.createElement("span",Object.assign({className:"object-size"},T(i,"object-size")),r*d," - ",r*d+d>n.length?n.length:r*d+d)),"]")))})))}}]),n}(g.a.PureComponent),xe=function(e){u(n,e);var t=m(n);function n(e){var r;a(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({expanded:!r.state.expanded},(function(){U.set(r.props.rjvId,r.props.namespace,"expanded",r.state.expanded)}))},r.getObjectContent=function(e,t,n){return g.a.createElement("div",{className:"pushed-content object-container"},g.a.createElement("div",Object.assign({className:"object-content"},T(r.props.theme,"pushed-content")),r.renderObjectContents(t,n)))},r.getEllipsis=function(){return 0===r.state.size?null:g.a.createElement("div",Object.assign({},T(r.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:r.toggleCollapsed}),"...")},r.getObjectMetaData=function(e){var t=r.props,n=(t.rjvId,t.theme,r.state),o=n.size,i=n.hovered;return g.a.createElement(Oe,Object.assign({rowHovered:i,size:o},r.props))},r.renderObjectContents=function(e,t){var n,o=r.props,i=o.depth,a=o.parent_type,s=o.index_offset,l=o.groupArraysAfterLength,c=o.namespace,u=r.state.object_type,d=[],p=Object.keys(e||{});return r.props.sortKeys&&"array"!==u&&(p=p.sort()),p.forEach((function(o){if(n=new Ie(o,e[o]),"array_group"===a&&s&&(n.name=parseInt(n.name)+s),e.hasOwnProperty(o))if("object"===n.type)d.push(g.a.createElement(Te,Object.assign({key:n.name,depth:i+1,name:n.name,src:n.value,namespace:c.concat(n.name),parent_type:u},t)));else if("array"===n.type){var p=Te;l&&n.value.length>l&&(p=ke),d.push(g.a.createElement(p,Object.assign({key:n.name,depth:i+1,name:n.name,src:n.value,namespace:c.concat(n.name),type:"array",parent_type:u},t)))}else d.push(g.a.createElement(we,Object.assign({key:n.name+"_"+c,variable:n,singleIndent:5,namespace:c,type:r.props.type},t)))})),d};var o=n.getState(e);return r.state=i(i({},o),{},{prevProps:{}}),r}return l(n,[{key:"getBraceStart",value:function(e,t){var n=this,r=this.props,o=r.src,i=r.theme,a=r.iconStyle;if("array_group"===r.parent_type)return g.a.createElement("span",null,g.a.createElement("span",T(i,"brace"),"array"===e?"[":"{"),t?this.getObjectMetaData(o):null);var s=t?Ce:_e;return g.a.createElement("span",null,g.a.createElement("span",Object.assign({onClick:function(e){n.toggleCollapsed()}},T(i,"brace-row")),g.a.createElement("div",Object.assign({className:"icon-container"},T(i,"icon-container")),g.a.createElement(s,{theme:i,iconStyle:a})),g.a.createElement(Se,this.props),g.a.createElement("span",T(i,"brace"),"array"===e?"[":"{")),t?this.getObjectMetaData(o):null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.depth,r=t.src,o=(t.namespace,t.name,t.type,t.parent_type),a=t.theme,s=t.jsvRoot,l=t.iconStyle,c=O(t,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),u=this.state,d=u.object_type,p=u.expanded,f={};return s||"array_group"===o?"array_group"===o&&(f.borderLeft=0,f.display="inline"):f.paddingLeft=5*this.props.indentWidth,g.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return e.setState(i(i({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(i(i({},e.state),{},{hovered:!1}))}},T(a,s?"jsv-root":"objectKeyVal",f)),this.getBraceStart(d,p),p?this.getObjectContent(n,r,i({theme:a,iconStyle:l},c)):this.getEllipsis(),g.a.createElement("span",{className:"brace-row"},g.a.createElement("span",{style:i(i({},T(a,"brace").style),{},{paddingLeft:p?"3px":"0px"})},"array"===d?"]":"}"),p?null:this.getObjectMetaData(r)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevProps;return e.src!==r.src||e.collapsed!==r.collapsed||e.name!==r.name||e.namespace!==r.namespace||e.rjvId!==r.rjvId?i(i({},n.getState(e)),{},{prevProps:e}):null}}]),n}(g.a.PureComponent);xe.getState=function(e){var t=Object.keys(e.src).length,n=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:S(e.src),namespace:e.namespace}))&&0!==t;return{expanded:U.get(e.rjvId,e.namespace,"expanded",n),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t,hovered:!1}};var Ie=function e(t,n){a(this,e),this.name=t,this.value=n,this.type=S(n)};w(xe);var Te=xe,Ae=function(e){u(n,e);var t=m(n);function n(){var e;a(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).render=function(){var t=f(e).props,n=[t.name],r=Te;return Array.isArray(t.src)&&t.groupArraysAfterLength&&t.src.length>t.groupArraysAfterLength&&(r=ke),g.a.createElement("div",{className:"pretty-json-container object-container"},g.a.createElement("div",{className:"object-content"},g.a.createElement(r,Object.assign({namespace:n,depth:0,jsvRoot:!0},t))))},e}return n}(g.a.PureComponent),Pe=function(e){u(n,e);var t=m(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).closeModal=function(){F.dispatch({rjvId:r.props.rjvId,name:"RESET"})},r.submit=function(){r.props.submit(r.state.input)},r.state={input:e.input?e.input:""},r}return l(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.rjvId,o=t.isValid,i=this.state.input,a=o(i);return g.a.createElement("div",Object.assign({className:"key-modal-request"},T(n,"key-modal-request"),{onClick:this.closeModal}),g.a.createElement("div",Object.assign({},T(n,"key-modal"),{onClick:function(e){e.stopPropagation()}}),g.a.createElement("div",T(n,"key-modal-label"),"Key Name:"),g.a.createElement("div",{style:{position:"relative"}},g.a.createElement("input",Object.assign({},T(n,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:i,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){a&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),a?g.a.createElement(ve,Object.assign({},T(n,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),g.a.createElement("span",T(n,"key-modal-cancel"),g.a.createElement(be,Object.assign({},T(n,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){F.dispatch({rjvId:r,name:"RESET"})}})))))}}]),n}(g.a.PureComponent),je=function(e){u(n,e);var t=m(n);function n(){var e;a(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).isValid=function(t){var n=e.props.rjvId,r=U.get(n,"action","new-key-request");return""!=t&&-1===Object.keys(r.existing_value).indexOf(t)},e.submit=function(t){var n=e.props.rjvId,r=U.get(n,"action","new-key-request");r.new_value=i({},r.existing_value),r.new_value[t]=e.props.defaultValue,F.dispatch({name:"VARIABLE_ADDED",rjvId:n,data:r})},e}return l(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.theme,r=e.rjvId;return t?g.a.createElement(Pe,{rjvId:r,theme:n,isValid:this.isValid,submit:this.submit}):null}}]),n}(g.a.PureComponent),De=function(e){u(n,e);var t=m(n);function n(){return a(this,n),t.apply(this,arguments)}return l(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.active,r=e.theme,o=e.rjvId;return n?g.a.createElement("div",Object.assign({className:"validation-failure"},T(r,"validation-failure"),{onClick:function(){F.dispatch({rjvId:o,name:"RESET"})}}),g.a.createElement("span",T(r,"validation-failure-label"),t),g.a.createElement(be,T(r,"validation-failure-clear"))):null}}]),n}(g.a.PureComponent),Re=function(e){u(n,e);var t=m(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).rjvId=Date.now().toString(),r.getListeners=function(){return{reset:r.resetState,"variable-update":r.updateSrc,"add-key-request":r.addKeyRequest}},r.updateSrc=function(){var e,t=U.get(r.rjvId,"action","variable-update"),n=t.name,o=t.namespace,i=t.new_value,a=t.existing_value,s=(t.variable_removed,t.updated_src),l=t.type,c=r.props,u=c.onEdit,d=c.onDelete,p=c.onAdd,f={existing_src:r.state.src,new_value:i,updated_src:s,name:n,namespace:o,existing_value:a};switch(l){case"variable-added":e=p(f);break;case"variable-edited":e=u(f);break;case"variable-removed":e=d(f)}!1!==e?(U.set(r.rjvId,"global","src",s),r.setState({src:s})):r.setState({validationFailure:!0})},r.addKeyRequest=function(){r.setState({addKeyRequest:!0})},r.resetState=function(){r.setState({validationFailure:!1,addKeyRequest:!1})},r.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:n.defaultProps.src,name:n.defaultProps.name,theme:n.defaultProps.theme,validationMessage:n.defaultProps.validationMessage,prevSrc:n.defaultProps.src,prevName:n.defaultProps.name,prevTheme:n.defaultProps.theme},r}return l(n,[{key:"componentDidMount",value:function(){U.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)U.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&U.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)U.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,n=e.validationMessage,r=e.addKeyRequest,o=e.theme,a=e.src,s=e.name,l=this.props,c=l.style,u=l.defaultValue;return g.a.createElement("div",{className:"react-json-view",style:i(i({},T(o,"app-container").style),c)},g.a.createElement(De,{message:n,active:t,theme:o,rjvId:this.rjvId}),g.a.createElement(Ae,Object.assign({},this.props,{src:a,name:s,theme:o,type:S(a),rjvId:this.rjvId})),g.a.createElement(je,{active:r,theme:o,rjvId:this.rjvId,defaultValue:u}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.src!==t.prevSrc||e.name!==t.prevName||e.theme!==t.prevTheme){var r={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return n.validateState(r)}return null}}]),n}(g.a.PureComponent);Re.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},Re.validateState=function(e){var t={};return"object"!==S(e.theme)||function(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===S(e)){for(var n=0;n<t.length;n++)if(!(t[n]in e))return!1;return!0}return!1}(e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.theme="rjv-default"),"object"!==S(e.src)&&"array"!==S(e.src)&&(console.error("react-json-view error:","src property must be a valid json object"),t.name="ERROR",t.src={message:"src property must be a valid json object"}),i(i({},e),t)},w(Re),t.default=Re}]))},1230:function(e,t,n){var r=n(2),o=n(231),i=n(3),a=n(1232),s=r.createElement,l=n(1234),c=n(1238),u=n(1239),d=n(544),p=n(1241),f=n(543);e.exports=o({propTypes:{data:i.any.isRequired,search:i.oneOfType([i.func,i.bool]),searchOptions:i.shape({debounceTime:i.number}),onClick:i.func,validateQuery:i.func,isExpanded:i.func,filterOptions:i.shape({cacheResults:i.bool,ignoreCase:i.bool}),query:i.string,verboseShowOriginal:i.bool},getDefaultProps:function(){return{data:null,search:c,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:f,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=""!==t.query&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&d(r);return s("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?s("div",{className:"json-inspector__not-found"},"Nothing found"):s(l,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return s("div",{className:"json-inspector__toolbar"},s(e,{onChange:a(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions),"string"==typeof e.query&&e.query!==this.state.query&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:u(e,t)})},getOriginal:function(e){return p(this.props.data,e)}})},1231:function(e,t,n){"use strict";var r=n(246),o={};function i(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=function(e,t,n){var a=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(i(!(n in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return i("DEFINE_MANY_MERGED"===(l.hasOwnProperty(n)?l[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=f(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function u(e,t){var n=s.hasOwnProperty(t)?s[t]:null;v.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var a in n.hasOwnProperty("mixins")&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(a)&&"mixins"!==a){var l=n[a],d=r.hasOwnProperty(a);if(u(d,a),c.hasOwnProperty(a))c[a](e,l);else{var p=s.hasOwnProperty(a);if("function"==typeof l&&!p&&!d&&!1!==n.autobind)o.push(a,l),r[a]=l;else if(d){var m=s[a];i(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,a),"DEFINE_MANY_MERGED"===m?r[a]=f(r[a],l):"DEFINE_MANY"===m&&(r[a]=h(r[a],l))}else r[a]=l}}}else;}function p(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return p(o,n),p(o,r),o}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var b={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},y=function(){};return r(y.prototype,e.prototype,v),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=m(e,o)}}(this),this.props=e,this.context=r,this.refs=o,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new y,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(d.bind(null,t)),d(t,b),d(t,e),d(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[r]||(t.prototype[r]=null);return t}}},1232:function(e,t,n){var r=n(1233);e.exports=function(e,t,n){var o,i,a,s,l;function c(){var u=r()-s;u<t&&u>0?o=setTimeout(c,t-u):(o=null,n||(l=e.apply(a,i),o||(a=i=null)))}return null==t&&(t=100),function(){a=this,i=arguments,s=r();var u=n&&!o;return o||(o=setTimeout(c,t)),u&&(l=e.apply(a,i),a=i=null),l}}},1233:function(e,t){e.exports=Date.now||function(){return(new Date).getTime()}},1234:function(e,t,n){var r=n(2),o=n(231),i=n(1235),a=n(1236),s=n(323),l=n(542),c=n(1237),u=r.createElement,d=o({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+a(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return u("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},u("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),u("label",{className:"json-inspector__line",htmlFor:e,onClick:r},u("div",{className:"json-inspector__flatpath"},n.path),u("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=s(e);switch(t){case"Array":return u("span",{className:"json-inspector__value json-inspector__value_helper"},"[] "+p(e.length));case"Object":return u("span",{className:"json-inspector__value json-inspector__value_helper"},"{} "+p(Object.keys(e).length));default:return u("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!l(n)?Object.keys(n).map((function(r){var o=n[r],i=!this.state.original||!!e.verboseShowOriginal&&e.query;return u(d,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:f(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})}),this):null},renderShowOriginalButton:function(){var e=this.props;return l(e.data)||this.state.original||!e.getOriginal||!e.query||h(this.keypath(),e.query)?null:u("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return"function"==typeof this.props.interactiveLabel?u(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!h(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(".root.".length)},data:function(){return this.state.original||this.props.data},format:function(e){return u(c,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),l(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return!!e.root||(e.query?!h(t,e.query)&&"function"==typeof e.getOriginal:e.isExpanded(t,e.data))}});function p(e){return e+(1===e?" item":" items")}function f(e,t){return l(t)?e+":"+i(String(t)):e+"["+s(t)+"]"}function h(e,t){return-1!==e.indexOf(t)}e.exports=d},1235:function(e,t,n){"use strict";e.exports=function(e){for(var t=function(e){var t,n=1+(e.length+8>>6),r=new Array(16*n);for(t=0;t<16*n;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(8*e.length+t)%4*8;r[t>>2]|=128<<(8*e.length+t)%4*8;var o=8*e.length;return r[16*n-2]=255&o,r[16*n-2]|=(o>>>8&255)<<8,r[16*n-2]|=(o>>>16&255)<<16,r[16*n-2]|=(o>>>24&255)<<24,r}(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,l=0;l<t.length;l+=16){var f=n,h=r,m=o,b=i;n=c(n,r,o,i,t[l+0],7,-680876936),i=c(i,n,r,o,t[l+1],12,-389564586),o=c(o,i,n,r,t[l+2],17,606105819),r=c(r,o,i,n,t[l+3],22,-1044525330),n=c(n,r,o,i,t[l+4],7,-176418897),i=c(i,n,r,o,t[l+5],12,1200080426),o=c(o,i,n,r,t[l+6],17,-1473231341),r=c(r,o,i,n,t[l+7],22,-45705983),n=c(n,r,o,i,t[l+8],7,1770035416),i=c(i,n,r,o,t[l+9],12,-1958414417),o=c(o,i,n,r,t[l+10],17,-42063),r=c(r,o,i,n,t[l+11],22,-1990404162),n=c(n,r,o,i,t[l+12],7,1804603682),i=c(i,n,r,o,t[l+13],12,-40341101),o=c(o,i,n,r,t[l+14],17,-1502002290),r=c(r,o,i,n,t[l+15],22,1236535329),n=u(n,r,o,i,t[l+1],5,-165796510),i=u(i,n,r,o,t[l+6],9,-1069501632),o=u(o,i,n,r,t[l+11],14,643717713),r=u(r,o,i,n,t[l+0],20,-373897302),n=u(n,r,o,i,t[l+5],5,-701558691),i=u(i,n,r,o,t[l+10],9,38016083),o=u(o,i,n,r,t[l+15],14,-660478335),r=u(r,o,i,n,t[l+4],20,-405537848),n=u(n,r,o,i,t[l+9],5,568446438),i=u(i,n,r,o,t[l+14],9,-1019803690),o=u(o,i,n,r,t[l+3],14,-187363961),r=u(r,o,i,n,t[l+8],20,1163531501),n=u(n,r,o,i,t[l+13],5,-1444681467),i=u(i,n,r,o,t[l+2],9,-51403784),o=u(o,i,n,r,t[l+7],14,1735328473),r=u(r,o,i,n,t[l+12],20,-1926607734),n=d(n,r,o,i,t[l+5],4,-378558),i=d(i,n,r,o,t[l+8],11,-2022574463),o=d(o,i,n,r,t[l+11],16,1839030562),r=d(r,o,i,n,t[l+14],23,-35309556),n=d(n,r,o,i,t[l+1],4,-1530992060),i=d(i,n,r,o,t[l+4],11,1272893353),o=d(o,i,n,r,t[l+7],16,-155497632),r=d(r,o,i,n,t[l+10],23,-1094730640),n=d(n,r,o,i,t[l+13],4,681279174),i=d(i,n,r,o,t[l+0],11,-358537222),o=d(o,i,n,r,t[l+3],16,-722521979),r=d(r,o,i,n,t[l+6],23,76029189),n=d(n,r,o,i,t[l+9],4,-640364487),i=d(i,n,r,o,t[l+12],11,-421815835),o=d(o,i,n,r,t[l+15],16,530742520),r=d(r,o,i,n,t[l+2],23,-995338651),n=p(n,r,o,i,t[l+0],6,-198630844),i=p(i,n,r,o,t[l+7],10,1126891415),o=p(o,i,n,r,t[l+14],15,-1416354905),r=p(r,o,i,n,t[l+5],21,-57434055),n=p(n,r,o,i,t[l+12],6,1700485571),i=p(i,n,r,o,t[l+3],10,-1894986606),o=p(o,i,n,r,t[l+10],15,-1051523),r=p(r,o,i,n,t[l+1],21,-2054922799),n=p(n,r,o,i,t[l+8],6,1873313359),i=p(i,n,r,o,t[l+15],10,-30611744),o=p(o,i,n,r,t[l+6],15,-1560198380),r=p(r,o,i,n,t[l+13],21,1309151649),n=p(n,r,o,i,t[l+4],6,-145523070),i=p(i,n,r,o,t[l+11],10,-1120210379),o=p(o,i,n,r,t[l+2],15,718787259),r=p(r,o,i,n,t[l+9],21,-343485551),n=a(n,f),r=a(r,h),o=a(o,m),i=a(i,b)}return s(n)+s(r)+s(o)+s(i)};function r(e,t){return(e>>>1|t>>>1)<<1|(1&e|1&t)}function o(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t}function i(e,t){return(e>>>1&t>>>1)<<1|1&e&t}function a(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e){var t,n="";for(t=0;t<=3;t++)n+="0123456789abcdef".charAt(e>>8*t+4&15)+"0123456789abcdef".charAt(e>>8*t&15);return n}function l(e,t,n,r,o,i){return a((s=a(a(t,e),a(r,i)))<<(l=o)|s>>>32-l,n);var s,l}function c(e,t,n,o,a,s,c){return l(r(i(t,n),i(~t,o)),e,t,a,s,c)}function u(e,t,n,o,a,s,c){return l(r(i(t,o),i(n,~o)),e,t,a,s,c)}function d(e,t,n,r,i,a,s){return l(o(o(t,n),r),e,t,i,a,s)}function p(e,t,n,i,a,s,c){return l(o(n,r(t,~i)),e,t,a,s,c)}},1236:function(e,t){var n=Math.ceil(10*Math.random());e.exports=function(){return++n}},1237:function(e,t,n){var r=n(2),o=n(231),i=r.createElement;e.exports=o({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||-1===t)return i("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return i("span",null,e.string.split(e.highlight).map((function(e,t){return i("span",{key:t},t>0?i("span",{className:"json-inspector__hl"},r):null,e)})))}})},1238:function(e,t,n){var r=n(2),o=n(231),i=r.createElement,a=n(543);e.exports=o({getDefaultProps:function(){return{onChange:a}},render:function(){return i("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}})},1239:function(e,t,n){var r=n(1240),o=Object.keys,i=n(542),a=n(544);function s(e,t,n){return o(e).reduce((function(o,c){var u,d=e[c];return i(d)?(l(t,c,n)||l(t,d,n))&&(o[c]=d):l(t,c,n)?o[c]=d:(u=s(d,t,n),a(u)||r(o,function(e,t){var n={};return n[e]=t,n}(c,u))),o}),{})}function l(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),-1!==r.indexOf(o)}}e.exports=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return s(e,r,t);var o;if(!n[r])for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=s(n[o],r,t);break}return n[r]||(n[r]=s(e,r,t)),n[r]}}},1240:function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var n,o,i=r(e),a=1;a<arguments.length;a++){n=arguments[a],o=Object.keys(Object(n));for(var s=0;s<o.length;s++)i[o[s]]=n[o[s]]}return i}},1241:function(e,t,n){var r=n(323);function o(e){return parseInt(e,10)}e.exports=function e(t,n){var i=n.split("."),a=i.shift();if(!a)return t;var s=r(t);return"Array"===s&&t[o(a)]?e(t[o(a)],i.join(".")):"Object"===s&&t[a]?e(t[a],i.join(".")):void 0}},1242:function(e,t,n){var r=n(1243);"string"==typeof r&&(r=[[e.i,r,""]]);n(546)(r,{});r.locals&&(e.exports=r.locals)},1243:function(e,t,n){(t=n(545)(!1)).push([e.i,".json-inspector,\n.json-inspector__selection {\n    font: 14px/1.4 Consolas, monospace;\n}\n\n.json-inspector__leaf {\n    padding-left: 10px;\n}\n\n.json-inspector__line {\n    display: block;\n    position: relative;\n\n    cursor: default;\n}\n\n.json-inspector__line:after {\n    content: '';\n\n    position: absolute;\n    top: 0;\n    left: -200px;\n    right: -50px;\n    bottom: 0;\n    z-index: -1;\n\n    pointer-events: none;\n}\n\n.json-inspector__line:hover:after {\n    background: rgba(0, 0, 0, 0.06);\n}\n\n.json-inspector__leaf_composite > .json-inspector__line {\n    cursor: pointer;\n}\n\n.json-inspector__radio,\n.json-inspector__flatpath {\n    display: none;\n}\n\n.json-inspector__value {\n    margin-left: 5px;\n}\n\n.json-inspector__search {\n    min-width: 300px;\n    margin: 0 10px 10px 0;\n    padding: 2px;\n}\n\n.json-inspector__key {\n    color: #505050;\n}\n\n.json-inspector__value_helper,\n.json-inspector__value_null,\n.json-inspector__not-found {\n    color: #b0b0b0;\n}\n\n.json-inspector__value_string {\n    color: #798953;\n}\n\n.json-inspector__value_boolean {\n    color: #75b5aa;\n}\n\n.json-inspector__value_number {\n    color: #d28445;\n}\n\n.json-inspector__hl {\n    background: #ff0;\n    box-shadow: 0 -1px 0 2px #ff0;\n    border-radius: 2px;\n}\n\n.json-inspector__show-original {\n    display: inline-block;\n    padding: 0 6px;\n\n    color: #666;\n    cursor: pointer;\n}\n\n.json-inspector__show-original:hover {\n    color: #111;\n}\n\n.json-inspector__show-original:before {\n    content: '';\n}\n\n.json-inspector__show-original:hover:after {\n    content: ' expand'\n}\n",""]),e.exports=t},1244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,n]=(0,o.useState)(!1);return o.default.createElement("div",{className:(0,i.default)("image-picker__dropzone",{dropping:t}),onDrop:e=>{e.stopPropagation(),e.preventDefault(),n(!1);const{files:t}=e.dataTransfer;if(t&&t.length>0)for(const e of t)a.ipcRenderer.send("dev-open-analyzer-file",e.name,e.path)},onDragOver:e=>{e.preventDefault(),n(!0)},style:{height:"20px",width:"200px",border:"1px solid orange",display:"inline-block",margin:0,marginLeft:"10px"}})};var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),i=(r=n(5))&&r.__esModule?r:{default:r},a=n(18);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}},1245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=f(n(2)),i=n(18),a=(r=n(3))&&r.__esModule?r:{default:r},s=n(24),l=n(27),c=n(12),u=f(n(1445)),d=n(1246);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{tourSelector:m}=c.selectors,b=i.remote.getCurrentWindow();class g extends o.Component{constructor(...e){super(...e),h(this,"state",{continuous:!0,loading:this.props.loading,run:this.props.run,steps:this.props.steps,stepIndex:this.props.stepIndex,transitioning:this.props.transitioning,b2bTransition:this.props.b2bTransition,doneTransitioning:!1}),h(this,"handleClickStart",e=>{e.preventDefault(),this.setState({run:!0,stepIndex:0})}),h(this,"handleClickNextButton",()=>{const{stepIndex:e}=this.state;1===this.state.stepIndex&&this.setState({stepIndex:e+1})}),h(this,"handleJoyrideCallback",e=>{const{joyride:t}=this.props,{action:n,index:r,type:o}=e;o===u.EVENTS.STEP_AFTER&&!0===this.props.transitioning&&!1===this.state.doneTransitioning?(this.setState({run:!1,loading:!0}),setTimeout(()=>{this.setState({loading:!1,run:!0})},400),this.props.b2bTransition||this.setState({doneTransitioning:!0})):o===u.EVENTS.STEP_AFTER&&(this.setState({run:!1,loading:!0,doneTransitioning:!1}),setTimeout(()=>{this.setState({loading:!1,run:!0})},400),this.props.actions.tourNext(n),r===this.props.feature.endStep&&b.reload()),"function"==typeof t.callback&&t.callback(e)})}render(){return o.default.createElement(u.default,Object.assign({scrollToFirstStep:!0},this.props,{callback:this.handleJoyrideCallback,styles:{options:{zIndex:1001},buttonNext:{backgroundColor:"#ff9466",borderWidth:0},buttonBack:{color:"#ff9466"},tooltipTitle:{color:"black"}}}))}}h(g,"propTypes",{joyride:a.default.shape({callback:a.default.func})}),h(g,"defaultProps",{joyride:{}}),g.propTypes={tour:a.default.object,loading:a.default.bool.isRequired,run:a.default.bool.isRequired,steps:a.default.array.isRequired,stepIndex:a.default.number.isRequired,transitioning:a.default.bool,b2bTransition:a.default.bool,actions:a.default.object.isRequired,feature:a.default.object.isRequired};var v=(0,s.connect)((function(e){switch(e.present.tour.feature.name){case"acts":e.present.tour.steps=d.ACTS_TOUR_STEPS;break;default:e.present.tour.run=!1}return m(e.present)}),(function(e){return{actions:(0,l.bindActionCreators)(c.actions.tour,e)}}))(g);t.default=v},1246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTS_TOUR_STEPS=void 0;const r=[{target:".acts-tour-step1",title:"Plottr by Act & Chapter",content:"Welcome to the next level of Plottr! Click here to use and manage act structures in your Plottr project.",event:"hover",placement:"bottom",spotlightClicks:!0,hideCloseButton:!0,disableBeacon:!0,styles:{buttonNext:{display:"none"}}},{target:".acts-tour-step2",title:"Adding Levels of Structure",content:"Add levels to place your top row timeline cards in their own defined sections. You can have up to three (3) levels for optimal visual arrangement, and can even make cards for entire sections. Think of the second level as a way to organize your top row cards (which will become 'Scenes') into chapters and the third level to organize your chapters into acts, adding layers of specificity and structure to your Plottr project.",placement:"bottom",event:"hover",spotlightClicks:!0,styles:{buttonBack:{display:"none"},buttonNext:{display:"none"}}},{target:".acts-tour-step3",title:"Removing Levels [CAUTION]",content:"You can remove levels of hierarchy, but BE CAREFUL as the cards within that chapter or act may be deleted. Once you decide to go with multiple levels of hierarchy, we recommend sticking with at least as many as you choose to add. Pro-tip: you can always hit 'undo.'",event:"hover",spotlightClicks:!0,disableBeacon:!0},{target:".acts-tour-step4",title:"Naming and Editing Levels",content:'You can manage the settings of each level, including the name of the level that appears on the cards (e.g. "Act"), the color and outline of the level, and whether new cards are autonumbered.',event:"hover",spotlightClicks:!0,disableBeacon:!0},{target:".acts-tour-step5",title:"Take Plottr to the next level!",content:"Make sure you have added levels or the tour will end here.",event:"hover",spotlightClicks:!0,placement:"right",styles:{buttonBack:{display:"none"},buttonNext:{display:"none"},options:{zIndex:0}}},{target:".acts-tour-step6",title:"Adding Acts and Chapters",content:"Click next to higher level cards to add another of that card (e.g. another act). If you just now implemented acts for this project there is only one act (level 3) and/or one chapter (level 2) containing all of your cards. Added acts and chapters display at the end of the section, which may be at the end of the timeline.",event:"hover",spotlightClicks:!0,styles:{buttonBack:{display:"none"},buttonNext:{display:"none"}}},{target:".acts-tour-step7",title:"Compress and Expand Sections",content:"Click to hide the cards within this section for greater ease of navigation. You can click again to show the cards in this section.",event:"hover",spotlightClicks:!0,styles:{buttonBack:{display:"none"},buttonNext:{display:"none"}}},{target:".acts-tour-step8",title:"Adding Lower-Level Cards",content:"Click here to add lower-level cards within their parent section. Lower level cards from other sections can be dragged into this section once there are lower-level cards here (e.g. if this act has at least one chapter then other chapters can be dragged into this act).",event:"hover"},{target:".tour-end",content:"Click the help menu to take the acts tour again! Happy plotting!",spotlightClicks:!1,disableBeacon:!0,placement:"center",styles:{buttonBack:{display:"none"}}}];t.ACTS_TOUR_STEPS=r},1247:function(e,t,n){"use strict";t.__esModule=!0,t.composeWithDevTools=t.default=void 0;var r=n(1248);Object.defineProperty(t,"composeWithDevTools",{enumerable:!0,get:function(){return r.composeWithDevTools}});var o,i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},1248:function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=Z,t.preEnhancer=X,t.composeWithDevTools=function(){if(0===arguments.length)return Z();if(1===arguments.length&&"object"===r(arguments.length<=0?void 0:arguments[0]))return Q(arguments.length<=0?void 0:arguments[0]);return Q({}).apply(void 0,arguments)};var i=n(549),a=f(n(1251)),s=f(n(1269)),l=n(1278),c=f(n(1279)),u=n(1280),d=f(n(1286)),p=n(1287);function f(e){return e&&e.__esModule?e:{default:e}}var h=void 0,m=void 0,b=void 0,g={},v=void 0,y=void 0,E=void 0,w={},O=void 0,S=void 0,C=void 0,_=void 0,k=void 0,x=void 0,I=void 0,T=void 0,A=void 0,P=void 0,j=void 0,D=void 0,R=void 0,N=void 0,M=void 0,B=void 0;function L(){return(0,p.filterStagedActions)(w.liftedStore.getState(),S)}function F(){h||(h=y&&y.id||Math.random().toString(36).substr(2));try{fetch(P,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({type:"STATE",id:h,name:m,payload:(0,i.stringify)(L())})}).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}function q(e,t,n,r){var o={type:e,id:y.id,name:m};t&&(o.payload="ERROR"===e?t:(0,i.stringify)((0,p.filterState)(t,e,S,M,B,r))),"ACTION"===e?(o.action=(0,i.stringify)(B?B(n.action,r-1):n),o.isExcess=C,o.nextActionId=r):n&&(o.action=n),y.emit(y.id?"log":"log-noid",o)}function U(e){"IMPORT"===e.type||"SYNC"===e.type&&y.id&&e.id!==y.id?w.liftedStore.dispatch({type:"IMPORT_STATE",nextLiftedState:(0,i.parse)(e.state)}):"UPDATE"===e.type?q("STATE",L()):"START"===e.type?(_=!0,"function"==typeof N&&(N=N()),q("STATE",L(),N)):"STOP"===e.type||"DISCONNECTED"===e.type?(_=!1,q("STOP")):"ACTION"===e.type?function(e){try{var t=(0,u.evalAction)(e,N);w.dispatch(t)}catch(e){q("ERROR",e.message)}}(e.action):"DISPATCH"===e.type&&w.liftedStore.dispatch(e.action)}function W(e){setTimeout(e,0)}function H(e){e.message&&e.message===j||(j=e.message,W((function(){w.dispatch(e),k||F()})))}function z(e){return"string"==typeof e?[e]:e&&e.length}function G(e){m=e.name;var t=e.filters||{},n=t.blacklist,r=t.whitelist;S=(0,p.getLocalFilter)({actionsBlacklist:n||e.actionsBlacklist,actionsWhitelist:r||e.actionsWhitelist}),v=e.port?{port:e.port,hostname:e.hostname||"localhost",secure:e.secure}:l.defaultSocketOptions,b=void 0===e.suppressConnectErrors||e.suppressConnectErrors,x=z(e.startOn),I=z(e.stopOn),T=z(e.sendOn),A=e.sendOnError,(T||A)&&(P=e.sendTo||(v.secure?"https":"http")+"://"+v.hostname+":"+v.port,h=e.id),1===A&&(0,d.default)(H),e.actionCreators&&(N=function(){return(0,u.getActionsArray)(e.actionCreators)}),M=e.stateSanitizer,B=e.actionSanitizer}function V(e){k=!1,_=!1,y&&(y.destroyChannel(E),e?y.off(E,U):(y.off(),y.disconnect()))}function K(){k||y&&y.getState()===y.CONNECTING||((y=a.default.connect(v)).on("error",(function(e){g[e.name]=g.hasOwnProperty(e.name)?g[e.name]+1:1,b?1===g[e.name]&&(console.log("remote-redux-devtools: Socket connection errors are being suppressed. \nThis can be disabled by setting suppressConnectErrors to 'false'."),console.log(e)):console.log(e)})),y.on("connect",(function(){console.log("connected to remotedev-server"),g={},y.emit("login","master",(function(e,t){e?console.log(e):(E=t,y.subscribe(t).watch(U),y.on(t,U))})),k=!0,q("START")})),y.on("disconnect",(function(){V(!0)})))}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.liftedStore.getState();return!!e.computedStates[e.currentStateIndex].error&&(k?q("STATE",(0,p.filterStagedActions)(e,S)):F(),!0)}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return O=t.type,!k&&2===A&&w.liftedStore?W(Y):t.action&&(x&&!k&&-1!==x.indexOf(t.action.type)?W(K):I&&k&&-1!==I.indexOf(t.action.type)?W(V):T&&!k&&-1!==T.indexOf(t.action.type)&&W(F)),e}function J(e,t,n){if(!Y(t))if("PERFORM_ACTION"===O){var r=t.nextActionId,o=t.actionsById[r-1];if((0,p.isFiltered)(o.action,S))return;q("ACTION",e,o,r),!C&&n&&(C=t.stagedActionIds.length>=n)}else{if("JUMP_TO_STATE"===O)return;if("PAUSE_RECORDING"===O?R=t.isPaused:"LOCK_CHANGES"===O&&(D=t.isLocked),R||D){if(!O)return;O=void 0}q("STATE",(0,p.filterStagedActions)(t,S))}}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};G(o({},e,{hostname:(0,c.default)(e.hostname||"localhost")}));var t=void 0!==e.realtime&&e.realtime;if(!t&&!(x||T||A))return function(e){return e};var n=e.maxAge||30;return function(r){return function(o,i){return w=(0,s.default)(r,$,{maxAge:n,trace:e.trace,traceLimit:e.traceLimit,shouldCatchErrors:!!A,shouldHotReload:e.shouldHotReload,shouldRecordChanges:e.shouldRecordChanges,shouldStartLocked:e.shouldStartLocked,pauseActionType:e.pauseActionType||"@@PAUSED"})(o,i),t&&K(),w.subscribe((function(){_&&J(w.getState(),w.liftedStore.getState(),n)})),w}}}function X(e){return function(t,n,r){return w=e(t,n,r),o({},w,{dispatch:function(e){return D?e:w.dispatch(e)}})}}Z.updateStore=function(e){console.warn("devTools.updateStore is deprecated use composeWithDevTools instead: https://github.com/zalmoxisus/remote-redux-devtools#use-devtools-compose-helper"),w=e};var Q=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(){return[X].concat(n).reduceRight((function(e,t){return t(e)}),Z(e).apply(void 0,arguments))}}}},1249:function(e,t,n){n(551);var r=n(1250),o="undefined"!=typeof WeakMap?WeakMap:function(){var e=[],t=[];return{set:function(n,r){e.push(n),t.push(r)},get:function(n){for(var r=0;r<e.length;r++)if(e[r]===n)return t[r]}}};t.decycle=function e(t,n,i){"use strict";var a=new o,s=!Object.prototype.hasOwnProperty.call(n,"circular"),l=!1!==n.refs;return function t(o,c,u){var d,p,f,h="function"==typeof i?i(u||"",o):o;if(n.date&&h instanceof Date)return{$jsan:"d"+h.getTime()};if(n.regex&&h instanceof RegExp)return{$jsan:"r"+r.getRegexFlags(h)+","+h.source};if(n.function&&"function"==typeof h)return{$jsan:"f"+r.stringifyFunction(h,n.function)};if(n.nan&&"number"==typeof h&&isNaN(h))return{$jsan:"n"};if(n.infinity){if(Number.POSITIVE_INFINITY===h)return{$jsan:"i"};if(Number.NEGATIVE_INFINITY===h)return{$jsan:"y"}}if(n[void 0]&&void 0===h)return{$jsan:"u"};if(n.error&&h instanceof Error)return{$jsan:"e"+h.message};if(n.symbol&&"symbol"==typeof h){var m=Symbol.keyFor(h);return void 0!==m?{$jsan:"g"+m}:{$jsan:"s"+h.toString().slice(7,-1)}}if(n.map&&"function"==typeof Map&&h instanceof Map&&"function"==typeof Array.from)return{$jsan:"m"+JSON.stringify(e(Array.from(h),n,i))};if(n.set&&"function"==typeof Set&&h instanceof Set&&"function"==typeof Array.from)return{$jsan:"l"+JSON.stringify(e(Array.from(h),n,i))};if(h&&"function"==typeof h.toJSON)try{h=h.toJSON(u)}catch(e){var b=u||"$";return"toJSON failed for '"+(a.get(h)||b)+"'"}if(!("object"!=typeof h||null===h||h instanceof Boolean||h instanceof Date||h instanceof Number||h instanceof RegExp||h instanceof String||"symbol"==typeof h||h instanceof Error)){if("object"==typeof h){var g=a.get(h);if(g){if(s&&l)return{$jsan:g};if(0===c.indexOf(g))return s?{$jsan:g}:"function"==typeof n.circular?n.circular(h,c,g):n.circular;if(l)return{$jsan:g}}a.set(h,c)}if("[object Array]"===Object.prototype.toString.apply(h))for(f=[],d=0;d<h.length;d+=1)f[d]=t(h[d],c+"["+d+"]",d);else for(p in f={},h)if(Object.prototype.hasOwnProperty.call(h,p)){var v=/^\w+$/.test(p)?"."+p:"["+JSON.stringify(p)+"]";f[p]="$jsan"===p?[t(h[p],c+v)]:t(h[p],c+v,p)}return f}return h}(t,"$")},t.retrocycle=function(e){"use strict";return function t(n){var o,i,a;if(n&&"object"==typeof n)if("[object Array]"===Object.prototype.toString.apply(n))for(o=0;o<n.length;o+=1)(i=n[o])&&"object"==typeof i&&(i.$jsan?n[o]=r.restore(i.$jsan,e):t(i));else for(a in n){if("string"==typeof n[a]&&"$jsan"===a)return r.restore(n.$jsan,e);"$jsan"===a&&(n[a]=n[a][0]),"object"==typeof n[a]&&(i=n[a])&&"object"==typeof i&&(i.$jsan?n[a]=r.restore(i.$jsan,e):t(i))}return n}(e)}},1250:function(e,t,n){var r=n(551),o=n(550);t.getRegexFlags=function(e){var t="";return e.ignoreCase&&(t+="i"),e.global&&(t+="g"),e.multiline&&(t+="m"),t},t.stringifyFunction=function(e,t){if("function"==typeof t)return t(e);var n=e.toString(),r=n.match(/^[^{]*{|^[^=]*=>/),o=r?r[0]:"<function> ",i="}"===n[n.length-1]?"}":"";return o.replace(/\r\n|\n/g," ").replace(/\s+/g," ")+" /* ... */ "+i},t.restore=function(e,t){var n=e[0],i=e.slice(1);switch(n){case"$":return r(t,e);case"r":var a=i.indexOf(","),s=i.slice(0,a),l=i.slice(a+1);return RegExp(l,s);case"d":return new Date(+i);case"f":var c=function(){throw new Error("can't run jsan parsed function")};return c.toString=function(){return i},c;case"u":return;case"e":var u=new Error(i);return u.stack="Stack is unavailable for jsan parsed errors",u;case"s":return Symbol(i);case"g":return Symbol.for(i);case"m":return new Map(o.parse(i));case"l":return new Set(o.parse(i));case"n":return NaN;case"i":return 1/0;case"y":return-1/0;default:return console.warn("unknown type",e),e}}},1251:function(e,t,n){var r=n(552),o=n(1265);e.exports.factory=o,e.exports.SCClientSocket=r,e.exports.Emitter=n(324),e.exports.create=function(e){return o.create(e)},e.exports.connect=e.exports.create,e.exports.destroy=function(e){return o.destroy(e)},e.exports.clients=o.clients,e.exports.version="14.3.1"},1252:function(e,t,n){var r=n(1253),o=function(e,t,n){r.call(this),this.PENDING="pending",this.SUBSCRIBED="subscribed",this.UNSUBSCRIBED="unsubscribed",this.name=e,this.state=this.UNSUBSCRIBED,this.client=t,this.options=n||{},this.setOptions(this.options)};(o.prototype=Object.create(r.prototype)).setOptions=function(e){e||(e={}),this.waitForAuth=e.waitForAuth||!1,this.batch=e.batch||!1,void 0!==e.data&&(this.data=e.data)},o.prototype.getState=function(){return this.state},o.prototype.subscribe=function(e){this.client.subscribe(this.name,e)},o.prototype.unsubscribe=function(){this.client.unsubscribe(this.name)},o.prototype.isSubscribed=function(e){return this.client.isSubscribed(this.name,e)},o.prototype.publish=function(e,t){this.client.publish(this.name,e,t)},o.prototype.watch=function(e){this.client.watch(this.name,e)},o.prototype.unwatch=function(e){this.client.unwatch(this.name,e)},o.prototype.watchers=function(){return this.client.watchers(this.name)},o.prototype.destroy=function(){this.client.destroyChannel(this.name)},e.exports.SCChannel=o},1253:function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},1254:function(e,t){e.exports=function(e){var t=[],n=[];return function e(r,o){var i,a,s;if(!("object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(i=0;i<t.length;i+=1)if(t[i]===r)return{$ref:n[i]};if(t.push(r),n.push(o),"[object Array]"===Object.prototype.toString.apply(r))for(s=[],i=0;i<r.length;i+=1)s[i]=e(r[i],o+"["+i+"]");else for(a in s={},r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=e(r[a],o+"["+JSON.stringify(a)+"]"));return s}return r}(e,"$")}},1255:function(e,t){var n=function(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()};n.prototype._checkLocalStorageEnabled=function(){var e;try{global.localStorage,global.localStorage.setItem("__scLocalStorageTest",1),global.localStorage.removeItem("__scLocalStorageTest")}catch(t){e=t}return!e},n.prototype.saveToken=function(e,t,n,r){this.isLocalStorageEnabled&&global.localStorage?global.localStorage.setItem(e,t):this._internalStorage[e]=t,r&&r(null,t)},n.prototype.removeToken=function(e,t){var n;this.loadToken(e,(function(e,t){n=t})),this.isLocalStorageEnabled&&global.localStorage?global.localStorage.removeItem(e):delete this._internalStorage[e],t&&t(null,n)},n.prototype.loadToken=function(e,t){t(null,this.isLocalStorageEnabled&&global.localStorage?global.localStorage.getItem(e):this._internalStorage[e]||null)},e.exports.AuthEngine=n},1256:function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=/^[ \n\r\t]*[{\[]/,o=function(e){for(var t=new Uint8Array(e),r=t.length,o="",i=0;i<r;i+=3)o+=n[t[i]>>2],o+=n[(3&t[i])<<4|t[i+1]>>4],o+=n[(15&t[i+1])<<2|t[i+2]>>6],o+=n[63&t[i+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},i=function(e,t){if(global.ArrayBuffer&&t instanceof global.ArrayBuffer)return{base64:!0,data:o(t)};if(global.Buffer){if(t instanceof global.Buffer)return{base64:!0,data:t.toString("base64")};if(t&&"Buffer"===t.type&&Array.isArray(t.data))return{base64:!0,data:(global.Buffer.from?global.Buffer.from(t.data):new global.Buffer(t.data)).toString("base64")}}return t};e.exports.decode=function(e){if(null==e)return null;if("#1"===e||"#2"===e)return e;var t=e.toString();if(!r.test(t))return t;try{return JSON.parse(t)}catch(e){}return t},e.exports.encode=function(e){return"#1"===e||"#2"===e?e:JSON.stringify(e,i)}},1257:function(e,t,n){var r,o,i=n(324),a=n(553).Response,s=n(71);global.WebSocket?(r=global.WebSocket,o=function(e,t){return new r(e)}):(r=n(1258),o=function(e,t){return new r(e,null,t)});var l=n(233),c=l.TimeoutError,u=l.BadConnectionError,d=function(e,t,n){var r=this;this.state=this.CLOSED,this.auth=e,this.codec=t,this.options=n,this.connectTimeout=n.connectTimeout,this.pingTimeout=n.ackTimeout,this.pingTimeoutDisabled=!!n.pingTimeoutDisabled,this.callIdGenerator=n.callIdGenerator,this.authTokenName=n.authTokenName,this._pingTimeoutTicker=null,this._callbackMap={},this._batchSendList=[],this.state=this.CONNECTING;var i=this.uri(),a=o(i,this.options);a.binaryType=this.options.binaryType,this.socket=a,a.onopen=function(){r._onOpen()},a.onclose=function(e){var t;t=null==e.code?1005:e.code,r._onClose(t,e.reason)},a.onmessage=function(e,t){r._onMessage(e.data)},a.onerror=function(e){r.state===r.CONNECTING&&r._onClose(1006)},this._connectTimeoutRef=setTimeout((function(){r._onClose(4007),r.socket.close(4007)}),this.connectTimeout)};d.prototype=Object.create(i.prototype),d.CONNECTING=d.prototype.CONNECTING="connecting",d.OPEN=d.prototype.OPEN="open",d.CLOSED=d.prototype.CLOSED="closed",d.prototype.uri=function(){var e,t=this.options.query||{},n=this.options.secure?"wss":"ws";if(this.options.timestampRequests&&(t[this.options.timestampParam]=(new Date).getTime()),(t=s.encode(t)).length&&(t="?"+t),this.options.host)e=this.options.host;else{var r="";this.options.port&&("wss"===n&&443!==this.options.port||"ws"===n&&80!==this.options.port)&&(r=":"+this.options.port),e=this.options.hostname+r}return n+"://"+e+this.options.path+t},d.prototype._onOpen=function(){var e=this;clearTimeout(this._connectTimeoutRef),this._resetPingTimeout(),this._handshake((function(t,n){var r;t?(r=n&&n.code?n.code:4003,e._onError(t),e._onClose(r,t.toString()),e.socket.close(r)):(e.state=e.OPEN,i.prototype.emit.call(e,"open",n),e._resetPingTimeout())}))},d.prototype._handshake=function(e){var t=this;this.auth.loadToken(this.authTokenName,(function(n,r){if(n)e(n);else{t.emit("#handshake",{authToken:r},{force:!0},(function(t,n){n&&(n.authToken=r,n.authError&&(n.authError=l.hydrateError(n.authError))),e(t,n)}))}}))},d.prototype._abortAllPendingEventsDueToBadConnection=function(e){for(var t in this._callbackMap)if(this._callbackMap.hasOwnProperty(t)){var n=this._callbackMap[t];delete this._callbackMap[t],clearTimeout(n.timeout),delete n.timeout;var r="Event '"+n.event+"' was aborted due to a bad connection",o=new u(r,e),i=n.callback;delete n.callback,i.call(n,o,n)}},d.prototype._onClose=function(e,t){delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),clearTimeout(this._pingTimeoutTicker),clearTimeout(this._batchTimeout),this.state===this.OPEN?(this.state=this.CLOSED,i.prototype.emit.call(this,"close",e,t),this._abortAllPendingEventsDueToBadConnection("disconnect")):this.state===this.CONNECTING&&(this.state=this.CLOSED,i.prototype.emit.call(this,"openAbort",e,t),this._abortAllPendingEventsDueToBadConnection("connectAbort"))},d.prototype._handleEventObject=function(e,t){if(e&&null!=e.event){var n=new a(this,e.cid);i.prototype.emit.call(this,"event",e.event,e.data,n)}else if(e&&null!=e.rid){var r=this._callbackMap[e.rid];if(r&&(clearTimeout(r.timeout),delete r.timeout,delete this._callbackMap[e.rid],r.callback)){var o=l.hydrateError(e.error);r.callback(o,e.data)}}else i.prototype.emit.call(this,"event","raw",t)},d.prototype._onMessage=function(e){i.prototype.emit.call(this,"event","message",e);var t=this.decode(e);if("#1"===t)this._resetPingTimeout(),this.socket.readyState===this.socket.OPEN&&this.sendObject("#2");else if(Array.isArray(t))for(var n=t.length,r=0;r<n;r++)this._handleEventObject(t[r],e);else this._handleEventObject(t,e)},d.prototype._onError=function(e){i.prototype.emit.call(this,"error",e)},d.prototype._resetPingTimeout=function(){if(!this.pingTimeoutDisabled){var e=this;(new Date).getTime();clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout((function(){e._onClose(4e3),e.socket.close(4e3)}),this.pingTimeout)}},d.prototype.getBytesReceived=function(){return this.socket.bytesReceived},d.prototype.close=function(e,t){if(e=e||1e3,this.state===this.OPEN){var n={code:e,data:t};this.emit("#disconnect",n),this._onClose(e,t),this.socket.close(e)}else this.state===this.CONNECTING&&(this._onClose(e,t),this.socket.close(e))},d.prototype.emitObject=function(e,t){var n={event:e.event,data:e.data};return e.callback&&(n.cid=e.cid=this.callIdGenerator(),this._callbackMap[e.cid]=e),this.sendObject(n,t),e.cid||null},d.prototype._handleEventAckTimeout=function(e){e.cid&&delete this._callbackMap[e.cid],delete e.timeout;var t=e.callback;if(t){delete e.callback;var n=new c("Event response for '"+e.event+"' timed out");t.call(e,n,e)}},d.prototype.emit=function(e,t,n,r){var o,i,a=this;r?(i=n,o=r):n instanceof Function?(i={},o=n):i=n;var s={event:e,data:t,callback:o};o&&!i.noTimeout&&(s.timeout=setTimeout((function(){a._handleEventAckTimeout(s)}),this.options.ackTimeout));var l=null;return(this.state===this.OPEN||i.force)&&(l=this.emitObject(s,i)),l},d.prototype.cancelPendingResponse=function(e){delete this._callbackMap[e]},d.prototype.decode=function(e){return this.codec.decode(e)},d.prototype.encode=function(e){return this.codec.encode(e)},d.prototype.send=function(e){this.socket.readyState!==this.socket.OPEN?this._onClose(1005):this.socket.send(e)},d.prototype.serializeObject=function(e){var t,n;try{t=this.encode(e)}catch(e){n=e,this._onError(n)}return n?null:t},d.prototype.sendObjectBatch=function(e){var t=this;this._batchSendList.push(e),this._batchTimeout||(this._batchTimeout=setTimeout((function(){if(delete t._batchTimeout,t._batchSendList.length){var e=t.serializeObject(t._batchSendList);null!=e&&t.send(e),t._batchSendList=[]}}),this.options.pubSubBatchDuration||0))},d.prototype.sendObjectSingle=function(e){var t=this.serializeObject(e);null!=t&&this.send(t)},d.prototype.sendObject=function(e,t){t&&t.batch?this.sendObjectBatch(e):this.sendObjectSingle(e)},e.exports.SCTransport=d},1258:function(e,t){var n,r=(n="undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof window&&window||function(){return this}()).WebSocket||n.MozWebSocket;function o(e,t,n){return t?new r(e,t):new r(e)}r&&(o.prototype=r.prototype),e.exports=r?o:null},1259:function(e,t,n){"use strict";e.exports=n(1260)},1260:function(e,t,n){"use strict";var r,o;function i(){if(arguments.length)return i.from(arguments)}function a(){}r="An argument without append, prepend, or detach methods was given to `List",o=i.prototype,i.of=function(){return i.from.call(this,arguments)},i.from=function(e){var t,n,r,o=new this;if(e&&(t=e.length))for(n=-1;++n<t;)null!=(r=e[n])&&o.append(r);return o},o.head=null,o.tail=null,o.toArray=function(){for(var e=this.head,t=[];e;)t.push(e),e=e.next;return t},o.prepend=function(e){if(!e)return!1;if(!e.append||!e.prepend||!e.detach)throw new Error(r+"#prepend`.");var t;return this,(t=this.head)?t.prepend(e):(e.detach(),e.list=this,this.head=e,e)},o.append=function(e){if(!e)return!1;if(!e.append||!e.prepend||!e.detach)throw new Error(r+"#append`.");var t,n;return this,(n=this.tail)?n.append(e):(t=this.head)?t.append(e):(e.detach(),e.list=this,this.head=e,e)},i.Item=a;var s=a.prototype;s.next=null,s.prev=null,s.list=null,s.detach=function(){var e=this.list,t=this.prev,n=this.next;return e?(e.tail===this&&(e.tail=t),e.head===this&&(e.head=n),e.tail===e.head&&(e.tail=null),t&&(t.next=n),n&&(n.prev=t),this.prev=this.next=this.list=null,this):this},s.prepend=function(e){if(!(e&&e.append&&e.prepend&&e.detach))throw new Error(r+"Item#prepend`.");var t=this.list,n=this.prev;return!!t&&(e.detach(),n&&(e.prev=n,n.next=e),e.next=this,e.list=t,this.prev=e,this===t.head&&(t.head=e),t.tail||(t.tail=this),e)},s.append=function(e){if(!(e&&e.append&&e.prepend&&e.detach))throw new Error(r+"Item#append`.");var t=this.list,n=this.next;return!!t&&(e.detach(),n&&(e.next=n,n.prev=e),e.prev=this,e.list=t,this.next=e,this!==t.tail&&t.tail||(t.tail=e),e)},e.exports=i},1261:function(e,t,n){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var r=n(1262),o=n(1263),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50;function a(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=a(n),o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(F(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(F(e,SharedArrayBuffer)||e&&F(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var o=function(e){if(s.isBuffer(e)){var t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||q(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),a(e<0?0:0|f(e))}function d(e){for(var t=e.length<0?0:0|f(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function f(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(o)return r?-1:M(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(q(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return L(M(t,e.length-n),e,n,r)}function w(e,t,n,r){return L(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return L(B(t),e,n,r)}function S(e,t,n,r){return L(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(F(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(F(i,Uint8Array))o+i.length>r.length?s.from(i).copy(r,o):Uint8Array.prototype.set.call(r,i,o);else{if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o)}o+=i.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,o){if(F(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),l=Math.min(i,a),c=this.slice(r,o),u=e.slice(t,n),d=0;d<l;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=U[e[i]];return o}function T(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,8),o.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=s.isBuffer(e)?e:s.from(e,r),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%l]}return this};var N=/[^+/0-9A-Za-z-_]/g;function M(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}var U=function(){for(var e=new Array(256),t=0;t<16;++t)for(var n=16*t,r=0;r<16;++r)e[n+r]="0123456789abcdef"[t]+"0123456789abcdef"[r];return e}()},1262:function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},1263:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=c}return(f?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+f]=255&a,f+=h,a/=256,c-=8);e[n+f-h]|=128*m}},1264:function(e,t,n){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function o(i,s,l,c,u){"object"==typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function i(l,h){if(null===l)return null;if(0===h)return l;var m,b;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,r))m=new r((function(e,t){l.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(l))m=[];else if(o.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(o.__isDate(l))m=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return m=new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===c?(b=Object.getPrototypeOf(l),m=Object.create(b)):(m=Object.create(c),b=c)}if(s){var g=d.indexOf(l);if(-1!=g)return p[g];d.push(l),p.push(m)}for(var v in e(l,t)&&l.forEach((function(e,t){var n=i(t,h-1),r=i(e,h-1);m.set(n,r)})),e(l,n)&&l.forEach((function(e){var t=i(e,h-1);m.add(t)})),l){var y;b&&(y=Object.getOwnPropertyDescriptor(b,v)),y&&null==y.set||(m[v]=i(l[v],h-1))}if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(l);for(v=0;v<E.length;v++){var w=E[v];(!(S=Object.getOwnPropertyDescriptor(l,w))||S.enumerable||u)&&(m[w]=i(l[w],h-1),S.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(u){var O=Object.getOwnPropertyNames(l);for(v=0;v<O.length;v++){var S,C=O[v];(S=Object.getOwnPropertyDescriptor(l,C))&&S.enumerable||(m[C]=i(l[C],h-1),Object.defineProperty(m,C,{enumerable:!1}))}}return m}(i,l)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();e.exports&&(e.exports=r)},1265:function(e,t,n){var r=n(552),o=n(233),i=n(1266),a=o.InvalidArgumentsError,s={};function l(e,t){var n=null==e.secure?t:e.secure;return e.port||(global.location&&location.port?location.port:n?443:80)}e.exports={create:function(e){if((e=e||{}).host&&!e.host.match(/[^:]+:\d{2,5}/))throw new a('The host option should include both the hostname and the port number in the format "hostname:port"');if(e.host&&e.hostname)throw new a('The host option should already include the hostname and the port number in the format "hostname:port" - Because of this, you should never use host and hostname options together');if(e.host&&e.port)throw new a('The host option should already include the hostname and the port number in the format "hostname:port" - Because of this, you should never use host and port options together');var t=global.location&&"https:"===location.protocol,n={port:l(e,t),hostname:global.location&&location.hostname||"localhost",path:"/socketcluster/",secure:t,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",authEngine:null,authTokenName:"socketCluster.authToken",binaryType:"arraybuffer",multiplex:!0,pubSubBatchDuration:null,cloneData:!1};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);if(n.clientMap=s,!1===n.multiplex){n.clientId=i.v4();var c=new r(n);return s[n.clientId]=c,c}return n.clientId=function(e){var t=e.secure?"https://":"http://",n="";if(e.query)if("string"==typeof e.query)n=e.query;else{var r=[],o=e.query;for(var i in o)o.hasOwnProperty(i)&&r.push(i+"="+o[i]);r.length&&(n="?"+r.join("&"))}return t+(e.host?e.host:e.hostname+":"+e.port)+e.path+n}(n),s[n.clientId]?n.autoConnect&&s[n.clientId].connect():s[n.clientId]=new r(n),s[n.clientId]},destroy:function(e){e.destroy()},clients:s}},1266:function(e,t,n){var r=n(1267),o=n(1268),i=o;i.v1=r,i.v4=o,e.exports=i},1267:function(e,t,n){var r,o,i=n(554),a=n(555),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==p){var f=i();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=o=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,b=h-s+(m-l)/1e4;if(b<0&&void 0===e.clockseq&&(p=p+1&16383),(b<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,o=p;var g=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[c++]=g>>>24&255,u[c++]=g>>>16&255,u[c++]=g>>>8&255,u[c++]=255&g;var v=h/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var y=0;y<6;++y)u[c+y]=d[y];return t||a(u)}},1268:function(e,t,n){var r=n(554),o=n(555);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},1269:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){return(0,i.default)(t,n)(e)};var r,o=n(1270),i=(r=o)&&r.__esModule?r:{default:r}},1270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liftAction=w,t.liftReducerWith=O,t.unliftState=S,t.unliftStore=C,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof t.maxAge&&t.maxAge<2)throw new Error("DevTools.instrument({ maxAge }) option, if specified, may not be less than 2.");return function(n){return function(r,o){function i(n){if("function"!=typeof n){if(n&&"function"==typeof n.default)throw new Error('Expected the reducer to be a function. Instead got an object with a "default" field. Did you pass a module instead of the default export? Try passing require(...).default instead.');throw new Error("Expected the reducer to be a function.")}return O(n,o,e,t)}var a=n(i(r));if(a.liftedStore)throw new Error("DevTools instrumentation should not be applied more than once. Check your store configuration.");return C(a,i,t)}}},t.INIT_ACTION=t.ActionCreators=t.ActionTypes=void 0;var r=s(n(1271)),o=s(n(1273)),i=s(n(366)),a=s(n(1277));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h={PERFORM_ACTION:"PERFORM_ACTION",RESET:"RESET",ROLLBACK:"ROLLBACK",COMMIT:"COMMIT",SWEEP:"SWEEP",TOGGLE_ACTION:"TOGGLE_ACTION",SET_ACTIONS_ACTIVE:"SET_ACTIONS_ACTIVE",JUMP_TO_STATE:"JUMP_TO_STATE",JUMP_TO_ACTION:"JUMP_TO_ACTION",REORDER_ACTION:"REORDER_ACTION",IMPORT_STATE:"IMPORT_STATE",LOCK_CHANGES:"LOCK_CHANGES",PAUSE_RECORDING:"PAUSE_RECORDING"};t.ActionTypes=h;var m="object"===("undefined"==typeof window?"undefined":f(window))&&(void 0!==window.chrome||void 0!==window.process&&"renderer"===window.process.type),b=m||"undefined"!=typeof process&&process.release&&"node"===process.release.name,g={performAction:function(e,t,n,r){if(!(0,i.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');var o;if(t){var a=0;if("function"==typeof t)o=t(e);else{var s,l=Error();if(Error.captureStackTrace&&b?(n&&Error.stackTraceLimit<n&&(s=Error.stackTraceLimit,Error.stackTraceLimit=n),Error.captureStackTrace(l,r)):a=3,o=l.stack,s&&(Error.stackTraceLimit=s),(a||"number"!=typeof Error.stackTraceLimit||n&&Error.stackTraceLimit>n)&&null!=o){var c=o.split("\n");n&&c.length>n&&(o=c.slice(0,n+a+(c[0].startsWith("Error")?1:0)).join("\n"))}}}return{type:h.PERFORM_ACTION,action:e,timestamp:Date.now(),stack:o}},reset:function(){return{type:h.RESET,timestamp:Date.now()}},rollback:function(){return{type:h.ROLLBACK,timestamp:Date.now()}},commit:function(){return{type:h.COMMIT,timestamp:Date.now()}},sweep:function(){return{type:h.SWEEP}},toggleAction:function(e){return{type:h.TOGGLE_ACTION,id:e}},setActionsActive:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:h.SET_ACTIONS_ACTIVE,start:e,end:t,active:n}},reorderAction:function(e,t){return{type:h.REORDER_ACTION,actionId:e,beforeActionId:t}},jumpToState:function(e){return{type:h.JUMP_TO_STATE,index:e}},jumpToAction:function(e){return{type:h.JUMP_TO_ACTION,actionId:e}},importState:function(e,t){return{type:h.IMPORT_STATE,nextLiftedState:e,noRecompute:t}},lockChanges:function(e){return{type:h.LOCK_CHANGES,status:e}},pauseRecording:function(e){return{type:h.PAUSE_RECORDING,status:e}}};t.ActionCreators=g;var v={type:"@@INIT"};function y(e,t,n,r){return r?function(e,t,n){var r,o=n;try{o=e(n,t)}catch(e){r=e.toString(),m?setTimeout((function(){throw e})):console.error(e)}return{state:o,error:r}}(e,t,n):{state:e(n,t)}}function E(e,t,n,r,o,i,a,s){if(!e||-1===t||t>=e.length&&e.length===i.length)return e;for(var l=e.slice(0,t),c=t;c<i.length;c++){var u=i[c],d=o[u].action,p=l[c-1],f=p?p.state:r,h=void 0;h=a.indexOf(u)>-1?p:s&&p&&p.error?{state:f,error:"Interrupted by an error up the chain"}:y(n,d,f,s),l.push(h)}return l}function w(e,t,n,r){return g.performAction(e,t,n,r)}function O(e,t,n,i){var a={monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:w(v)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!0===i.shouldStartLocked,isPaused:!1===i.shouldRecordChanges};return function(s,c){var u=s||a,f=u.monitorState,m=u.actionsById,b=u.nextActionId,g=u.stagedActionIds,O=u.skippedActionIds,S=u.committedState,C=u.currentStateIndex,_=u.computedStates,k=u.isLocked,x=u.isPaused;function I(e){for(var t=e,n=g.slice(1,t+1),r=0;r<n.length;r++){if(_[r+1].error){t=r,n=g.slice(1,t+1);break}delete m[n[r]]}O=O.filter((function(e){return-1===n.indexOf(e)})),g=[0].concat(l(g.slice(t+1))),S=_[t].state,_=_.slice(t),C=C>t?C-t:0}function T(t){var r;return t?(r=_[C],f=n(f,c)):r=y(e,c.action,_[C].state,!1),i.pauseActionType&&1!==b?(t&&(C===g.length-1&&C++,g=[].concat(l(g),[b]),b++),{monitorState:f,actionsById:d(d({},m),{},p({},b-1,w({type:i.pauseActionType}))),nextActionId:b,stagedActionIds:g,skippedActionIds:O,committedState:S,currentStateIndex:C,computedStates:[].concat(l(_.slice(0,g.length-1)),[r]),isLocked:k,isPaused:!0}):{monitorState:f,actionsById:{0:w(v)},nextActionId:1,stagedActionIds:[0],skippedActionIds:[],committedState:r.state,currentStateIndex:0,computedStates:[r],isLocked:k,isPaused:!0}}s||(m=d({},m));var A,P=0,j=i.maxAge;if("function"==typeof j&&(j=j(c,s)),/^@@redux\/(INIT|REPLACE)/.test(c.type))!1===i.shouldHotReload&&(m={0:w(v)},b=1,g=[0],O=[],S=0===_.length?t:_[C].state,C=0,_=[]),P=0,j&&g.length>j&&(_=E(_,P,e,S,m,g,O,i.shouldCatchErrors),I(g.length-j),P=1/0);else switch(c.type){case h.PERFORM_ACTION:if(k)return s||a;if(x)return T();j&&g.length>=j&&I(g.length-j+1),C===g.length-1&&C++;var D=b++;m[D]=c,P=(g=[].concat(l(g),[D])).length-1;break;case h.RESET:m={0:w(v)},b=1,g=[0],O=[],S=t,C=0,_=[];break;case h.COMMIT:m={0:w(v)},b=1,g=[0],O=[],S=_[C].state,C=0,_=[];break;case h.ROLLBACK:m={0:w(v)},b=1,g=[0],O=[],C=0,_=[];break;case h.TOGGLE_ACTION:var R=c.id,N=O.indexOf(R);O=-1===N?[R].concat(l(O)):O.filter((function(e){return e!==R})),P=g.indexOf(R);break;case h.SET_ACTIONS_ACTIVE:for(var M=c.start,B=c.end,L=c.active,F=[],q=M;q<B;q++)F.push(q);O=L?(0,r.default)(O,F):(0,o.default)(O,F),P=g.indexOf(M);break;case h.JUMP_TO_STATE:C=c.index,P=1/0;break;case h.JUMP_TO_ACTION:var U=g.indexOf(c.actionId);-1!==U&&(C=U),P=1/0;break;case h.SWEEP:g=(0,r.default)(g,O),O=[],C=Math.min(C,g.length-1);break;case h.REORDER_ACTION:var W=c.actionId,H=g.indexOf(W);if(H<1)break;var z=c.beforeActionId,G=g.indexOf(z);if(G<1){var V=g.length;G=z>g[V-1]?V:1}var K=H-G;K>0?(g=[].concat(l(g.slice(0,G)),[W],l(g.slice(G,H)),l(g.slice(H+1))),P=G):K<0&&(g=[].concat(l(g.slice(0,H)),l(g.slice(H+1,G)),[W],l(g.slice(G))),P=H);break;case h.IMPORT_STATE:if(A=c.nextLiftedState,Array.isArray(A))m={0:w(v)},b=1,g=[0],O=[],C=c.nextLiftedState.length,_=[],S=c.preloadedState,P=0,c.nextLiftedState.forEach((function(e){m[b]=w(e,i.trace||i.shouldIncludeCallstack),g.push(b),b++}));else{var Y=c.nextLiftedState;f=Y.monitorState,m=Y.actionsById,b=Y.nextActionId,g=Y.stagedActionIds,O=Y.skippedActionIds,S=Y.committedState,C=Y.currentStateIndex,_=Y.computedStates,c.noRecompute&&(P=1/0)}break;case h.LOCK_CHANGES:k=c.status,P=1/0;break;case h.PAUSE_RECORDING:if(x=c.status)return T(!0);m={0:w(v)},b=1,g=[0],O=[],S=_[C].state,C=0,_=[];break;default:P=1/0}return _=E(_,P,e,S,m,g,O,i.shouldCatchErrors),{monitorState:f=n(f,c),actionsById:m,nextActionId:b,stagedActionIds:g,skippedActionIds:O,committedState:S,currentStateIndex:C,computedStates:_,isLocked:k,isPaused:x}}}function S(e){return e.computedStates[e.currentStateIndex].state}function C(e,t,n){var r,o=n.trace||n.shouldIncludeCallstack,i=n.traceLimit||10;function s(){var t=S(e.getState());return void 0!==t&&(r=t),r}return d(d({},e),{},p({liftedStore:e,dispatch:function t(n){return e.dispatch(w(n,o,i,t)),n},getState:s,replaceReducer:function(n){e.replaceReducer(t(n))}},a.default,(function(){return d(d({},e[a.default]()),{},p({subscribe:function(t){if("object"!==f(t))throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(s())}return n(),{unsubscribe:e.subscribe(n)}}},a.default,(function(){return this})))})))}t.INIT_ACTION=v},1271:function(e,t,n){var r=n(1272),o=n(230),i=n(319),a=n(558),s=i((function(e,t){return a(e)?r(e,o(t,1,a,!0)):[]}));e.exports=s},1272:function(e,t,n){var r=n(308),o=n(556),i=n(557),a=n(165),s=n(163),l=n(309);e.exports=function(e,t,n,c){var u=-1,d=o,p=!0,f=e.length,h=[],m=t.length;if(!f)return h;n&&(t=a(t,s(n))),c?(d=i,p=!1):t.length>=200&&(d=l,p=!1,t=new r(t));e:for(;++u<f;){var b=e[u],g=null==n?b:n(b);if(b=c||0!==b?b:0,p&&g==g){for(var v=m;v--;)if(t[v]===g)continue e;h.push(b)}else d(t,g,c)||h.push(b)}return h}},1273:function(e,t,n){var r=n(230),o=n(319),i=n(1274),a=n(558),s=o((function(e){return i(r(e,1,a,!0))}));e.exports=s},1274:function(e,t,n){var r=n(308),o=n(556),i=n(557),a=n(309),s=n(1275),l=n(310);e.exports=function(e,t,n){var c=-1,u=o,d=e.length,p=!0,f=[],h=f;if(n)p=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);p=!1,u=a,h=new r}else h=t?[]:f;e:for(;++c<d;){var b=e[c],g=t?t(b):b;if(b=n||0!==b?b:0,p&&g==g){for(var v=h.length;v--;)if(h[v]===g)continue e;t&&h.push(g),f.push(b)}else u(h,g,n)||(h!==f&&h.push(g),f.push(b))}return f}},1275:function(e,t,n){var r=n(524),o=n(1276),i=n(310),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},1276:function(e,t){e.exports=function(){}},1277:function(e,t,n){"use strict";n.r(t),function(e){var r,o=n(628);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:e;var i=Object(o.a)(r);t.default=i}.call(this,n(181)(e))},1278:function(e,t,n){"use strict";t.__esModule=!0;t.defaultSocketOptions={secure:!0,hostname:"remotedev.io",port:443,autoReconnect:!0,autoReconnectOptions:{randomness:3e4}}},1279:function(e,t,n){"use strict";e.exports=function(e){if("object"!=typeof __fbBatchedBridgeConfig||"localhost"!==e&&"127.0.0.1"!==e)return e;var t=function(e){var t="undefined"!=typeof window&&window.__fbBatchedBridgeConfig&&window.__fbBatchedBridgeConfig.remoteModuleConfig;if(!Array.isArray(t)||"localhost"!==e&&"127.0.0.1"!==e)return{hostname:e,passed:!1};var n=e,r=!1;return t.some((function(e){if(!e)return!1;var t=e[0],o=e[1];return("AndroidConstants"===t||"PlatformConstants"===t)&&o&&o.ServerHost?(n=o.ServerHost.split(":")[0],r=!0,!0):!("SourceCode"!==t||!o||!o.scriptURL)&&(n=o.scriptURL.replace(/https?:\/\//,"").split(":")[0],r=!0,!0)})),{hostname:n,passed:r}}(e);return t.passed?t.hostname:function(e){var t,n,r,o=console.warn;if("undefined"==typeof window||!window.__DEV__||"function"!=typeof window.require||"metroRequire"===window.require.name)return e;console.warn=function(){if(!(arguments[0]&&"function"==typeof arguments[0].indexOf&&arguments[0].indexOf("Requiring module 'NativeModules' by name")>-1))return o.apply(console,arguments)};try{t=window.require("NativeModules")}catch(e){}return console.warn=o,t?(n=t.PlatformConstants||t.AndroidConstants,r=t.SourceCode,n&&n.ServerHost?n.ServerHost.split(":")[0]:r&&r.scriptURL?r.scriptURL.replace(/https?:\/\//,"").split(":")[0]:e):e}(e)}},1280:function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.generateId=function(e){return e||(0,a.default)(7)},t.getMethods=function(e){if("object"!==(void 0===e?"undefined":r(e)))return;var t=void 0,n=void 0;e.__proto__&&(n=e.__proto__.__proto__);n||(n=e);return Object.getOwnPropertyNames(n).forEach((function(e){var r=Object.getOwnPropertyDescriptor(n,e);if(r&&!("get"in r)&&!("set"in r)){var i=n[e];"function"==typeof i&&"constructor"!==e&&(t||(t=[]),t.push({name:e||i.name||"anonymous",args:(0,o.default)(i)}))}})),t},t.getActionsArray=function(e){return Array.isArray(e)?e:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[];return Object.keys(t).forEach((function(a){var s=t[a];"function"==typeof s?i.push({name:n+(a||s.name||"anonymous"),func:s,args:(0,o.default)(s)}):"object"===(void 0===s?"undefined":r(s))&&(i=i.concat(e(s,n+a+".")))})),i}(e)},t.evalAction=function(e,t){if("string"==typeof e)return new Function("return "+e)();var n=t[e.selected].func,r=u(e.args,e.rest);return n.apply(void 0,r)},t.evalMethod=function(e,t){if("string"==typeof e)return new Function("return "+e).call(t);var n=u(e.args,e.rest);return new Function("args","return this."+e.name+"(args)").apply(t,n)},t.stringify=function(e,t){if(void 0===t)return function(e){try{return JSON.stringify(e)}catch(t){return i.default.stringify(e,null,null,{circular:"[CIRCULAR]"})}}(e);if(!0===t)return i.default.stringify(e,(function(e,t){return t&&"function"==typeof t.toJS?t.toJS():t}),null,!0);return i.default.stringify(e,t.replacer,null,t.options)},t.getSeralizeParameter=function(e,t){var n=e.serialize;if(n)return!0===n?{options:!0}:n.immutable?{replacer:(0,s.default)(n.immutable,n.refs).replacer,options:n.options||!0}:n.replacer?{replacer:n.replacer,options:n.options||!0}:{options:n.options};var r=e[t];return void 0===r?void 0:(console.warn("`"+t+"` parameter for Redux DevTools Extension is deprecated. Use `serialize` parameter instead: https://github.com/zalmoxisus/redux-devtools-extension/releases/tag/v2.12.1"),"boolean"==typeof serializeState?{options:r}:"function"==typeof serializeState?{replacer:r}:r)},t.getStackTrace=function(e,t){if(!e.trace)return;if("function"==typeof e.trace)return e.trace();var n=void 0,r=0,o=void 0,i=e.traceLimit,a=Error();Error.captureStackTrace?(Error.stackTraceLimit<i&&(o=Error.stackTraceLimit,Error.stackTraceLimit=i),Error.captureStackTrace(a,t)):r=3;n=a.stack,o&&(Error.stackTraceLimit=o);if(r||"number"!=typeof Error.stackTraceLimit||Error.stackTraceLimit>i){var s=n.split("\n");s.length>i&&(n=s.slice(0,i+r+("Error"===s[0]?1:0)).join("\n"))}return n};var o=l(n(1281)),i=l(n(549)),a=l(n(1282)),s=l(n(1283));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return new Function("return "+e)()};function u(e,t){var n=e.map(c);if(!t)return n;var r=c(t);if(Array.isArray(r))return n.concat.apply(n,r);throw new Error("rest must be an array")}},1281:function(e,t,n){var r=function(e){"use strict";if("function"!=typeof e)return[];var t=e.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,""),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(/([^\s,]+)/g);return null===n?[]:n};void 0!==e.exports&&(e.exports=r),"undefined"!=typeof window&&(window.GetParams=r)},1282:function(e,t){for(var n="-_",r=36;r--;)n+=r.toString(36);for(r=36;r---10;)n+=r.toString(36).toUpperCase();e.exports=function(e){var t="";for(r=e||21;r--;)t+=n[64*Math.random()|0];return t}},1283:function(e,t,n){var r=n(1284),o=r.mark,i=r.extract,a=r.refer,s=n(1285);e.exports=function(e,t,n,r){function l(n,r){return r instanceof e.Record?a(r,"ImmutableRecord","toObject",t):r instanceof e.Range?i(r,"ImmutableRange"):r instanceof e.Repeat?i(r,"ImmutableRepeat"):e.OrderedMap.isOrderedMap(r)?o(r,"ImmutableOrderedMap","toObject"):e.Map.isMap(r)?o(r,"ImmutableMap","toObject"):e.List.isList(r)?o(r,"ImmutableList","toArray"):e.OrderedSet.isOrderedSet(r)?o(r,"ImmutableOrderedSet","toArray"):e.Set.isSet(r)?o(r,"ImmutableSet","toArray"):e.Seq.isSeq(r)?o(r,"ImmutableSeq","toArray"):e.Stack.isStack(r)?o(r,"ImmutableStack","toArray"):r}function c(n,r){if("object"==typeof r&&null!==r&&"__serializedType__"in r){var o=r.data;switch(r.__serializedType__){case"ImmutableMap":return e.Map(o);case"ImmutableOrderedMap":return e.OrderedMap(o);case"ImmutableList":return e.List(o);case"ImmutableRange":return e.Range(o._start,o._end,o._step);case"ImmutableRepeat":return e.Repeat(o._value,o.size);case"ImmutableSet":return e.Set(o);case"ImmutableOrderedSet":return e.OrderedSet(o);case"ImmutableSeq":return e.Seq(o);case"ImmutableStack":return e.Stack(o);case"ImmutableRecord":return t&&t[r.__serializedRef__]?new t[r.__serializedRef__](o):e.Map(o);default:return o}}return r}return{replacer:n?function(e,t){return n(e,t,l)}:l,reviver:r?function(e,t){return r(e,t,c)}:c,options:s}}},1284:function(e,t){function n(e,t,n){return{data:n?e[n]():e,__serializedType__:t}}e.exports={mark:n,extract:function(e,t){return{data:Object.assign({},e),__serializedType__:t}},refer:function(e,t,r,o){var i=n(e,t,r);if(!o)return i;for(var a=0;a<o.length;a++){var s=o[a];if("function"==typeof s&&e instanceof s)return i.__serializedRef__=a,i}return i}}},1285:function(e,t){e.exports={refs:!1,date:!0,function:!0,regex:!0,undefined:!0,error:!0,symbol:!0,map:!0,set:!0,nan:!0,infinity:!0}},1286:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){"object"===("undefined"==typeof window?"undefined":o(window))&&"object"===o(window.onerror)?window.onerror=function(t,n,r,o,a){var s={type:i,message:t,url:n,lineNo:r,columnNo:o};return a&&a.stack&&(s.stack=a.stack),e(s),!1}:"undefined"!=typeof global&&global.ErrorUtils&&global.ErrorUtils.setGlobalHandler((function(t,n){e({type:i,error:t,isFatal:n})}));"object"!==("undefined"==typeof console?"undefined":o(console))||"function"!=typeof console.error||console.beforeRemotedev||(console.beforeRemotedev=console.error.bind(console),console.error=function(){var t={type:i},n=arguments[0];t.message=n.message?n.message:n,n.sourceURL&&(t=r({},t,{sourceURL:n.sourceURL,line:n.line,column:n.column})),n.stack&&(t.stack=n.stack),e(t),console.beforeRemotedev.apply(null,arguments)})};var i="@@remotedev/ERROR"},1287:function(e,t,n){"use strict";t.__esModule=!0,t.FilterState=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.arrToRegex=function(e){return"string"==typeof e?e:e.join("|")},t.getLocalFilter=function(e){if(e.actionsBlacklist||e.actionsWhitelist)return{whitelist:e.actionsWhitelist&&e.actionsWhitelist.join("|"),blacklist:e.actionsBlacklist&&e.actionsBlacklist.join("|")};return},t.isFiltered=d,t.filterStagedActions=function(e,t){if(!t)return e;var n=[],o=[];return e.stagedActionIds.forEach((function(r,i){d(e.actionsById[r],t)||(n.push(r),o.push(e.computedStates[i]))})),r({},e,{stagedActionIds:n,computedStates:o})},t.filterState=function(e,t,n,o,i,a,p){if("ACTION"===t)return o?o(e,a-1):e;if("STATE"!==t)return e;var f=u().filter;if(p||n||f&&f!==s.DO_NOT_FILTER){var h=[],m=[],b=i&&{},g=e.actionsById,v=e.computedStates;return e.stagedActionIds.forEach((function(e,t){var a=g[e],s=a.action,l=v[t],c=l.state;if(t){if(p&&!p(c,s))return;if(d(s,n))return}h.push(e),m.push(o?r({},l,{state:o(c,t)}):l),i&&(b[e]=r({},a,{action:i(s,e)}))})),r({},e,{actionsById:b||g,stagedActionIds:h,computedStates:m})}return o||i?r({},e,{actionsById:l(e.actionsById,i),computedStates:c(e.computedStates,o)}):e};var o,i=n(1288),a=(o=i)&&o.__esModule?o:{default:o};var s=t.FilterState={DO_NOT_FILTER:"DO_NOT_FILTER",BLACKLIST_SPECIFIC:"BLACKLIST_SPECIFIC",WHITELIST_SPECIFIC:"WHITELIST_SPECIFIC"};function l(e,t){return t?(0,a.default)(e,(function(e,n){return r({},e,{action:t(e.action,n)})})):e}function c(e,t){return t?e.map((function(e,n){return r({},e,{state:t(e.state,n)})})):e}function u(){return"undefined"!=typeof window&&window.devToolsOptions||{}}function d(e,t){var n=(e.action||e).type,r=u();if(!t&&r.filter&&r.filter===s.DO_NOT_FILTER||n&&"function"!=typeof n.match)return!1;var o=t||r,i=o.whitelist,a=o.blacklist;return i&&!n.match(i)||a&&n.match(a)}},1288:function(e,t,n){var r=n(162),o=n(515),i=n(219);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},1289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(23)),o=n(18),i=n(7),a=c(n(36)),s=n(325),l=n(12);function c(e){return e&&e.__esModule?e:{default:e}}const{FILE_SAVED:u,FILE_LOADED:d,SET_DARK_MODE:p}=l.ActionTypes,f=o.remote.dialog,h=o.remote.getCurrentWindow(),m=[u,d,p];let b=!0;var g=e=>t=>n=>{const o=t(n);if(m.includes(n.type))return o;const l=e.getState().present;return function(e,t){let n="";n=JSON.stringify(t);r.default.writeFile(e,n,n=>{(0,s.saveBackup)(e,t,t=>{t&&(a.default.warn("[save state backup]",t),rollbar.error({message:"BACKUP failed"}),rollbar.warn(t,{fileName:e}))}),n?(a.default.warn(n),rollbar.warn(n,{fileName:e}),b=!1,f.showErrorBox((0,i.t)("Auto-saving failed"),(0,i.t)("Saving your file didn't work. Check where it's stored."))):b||(b=!0,f.showMessageBox(h,{title:(0,i.t)("Auto-saving worked"),message:(0,i.t)("Saving worked this time ")}))})}(l.file.fileName,l),o};t.default=g},1290:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(12),o=a(n(68)),i=a(n(115));function a(e){return e&&e.__esModule?e:{default:e}}const{ADD_LINES_FROM_TEMPLATE:s,ADD_CARD:l}=r.ActionTypes,c=[s];var u=e=>t=>n=>{const r=t(n);if(!c.includes(n.type))return r;if(!i.default.get("payment_id"))return r;const a=e.getState();if(a&&a.ui&&a.file){const e={timeline_orientation:a.ui.orientation,version:a.file.version};n.type==s&&o.default.push("use_timeline_template",{...e,template:n.templateName})}return r};t.default=u},1291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=e=>e=>t=>e(t);t.default=r},1292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(547);var o=e=>e=>t=>((0,r.setPreviousAction)(t),e(t));t.default=o},1293:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.set(t.debug);var n,r=c({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:i.ActionTypes.UNDO,redoType:i.ActionTypes.REDO,jumpToPastType:i.ActionTypes.JUMP_TO_PAST,jumpToFutureType:i.ActionTypes.JUMP_TO_FUTURE,jumpType:i.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},t,{initTypes:(0,a.parseActions)(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,a.parseActions)(t.clearHistoryType,[i.ActionTypes.CLEAR_HISTORY])}),s=r.neverSkipReducer?function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return c({},t,{present:e.apply(void 0,[t.present,n].concat(o))})}:function(e){return e};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.start(i,t);for(var l,c=t,u=arguments.length,d=new Array(u>2?u-2:0),v=2;v<u;v++)d[v-2]=arguments[v];if(!n){if(o.log("history is uninitialized"),void 0===t){var y={type:"@@redux-undo/CREATE_HISTORY"},E=e.apply(void 0,[t,y].concat(d));return c=p(E,r.ignoreInitialState),o.log("do not set initialState on probe actions"),o.end(c),c}(0,a.isHistory)(t)?(c=n=r.ignoreInitialState?t:(0,a.newHistory)(t.past,t.present,t.future),o.log("initialHistory initialized: initialState is a history",n)):(c=n=p(t,r.ignoreInitialState),o.log("initialHistory initialized: initialState is not a history",n))}switch(i.type){case void 0:return c;case r.undoType:return l=b(c,-1),o.log("perform undo"),o.end(l),s.apply(void 0,[l,i].concat(d));case r.redoType:return l=b(c,1),o.log("perform redo"),o.end(l),s.apply(void 0,[l,i].concat(d));case r.jumpToPastType:return l=m(c,i.index),o.log("perform jumpToPast to ".concat(i.index)),o.end(l),s.apply(void 0,[l,i].concat(d));case r.jumpToFutureType:return l=h(c,i.index),o.log("perform jumpToFuture to ".concat(i.index)),o.end(l),s.apply(void 0,[l,i].concat(d));case r.jumpType:return l=b(c,i.index),o.log("perform jump to ".concat(i.index)),o.end(l),s.apply(void 0,[l,i].concat(d));case g(i.type,r.clearHistoryType):return l=p(c.present,r.ignoreInitialState),o.log("perform clearHistory"),o.end(l),s.apply(void 0,[l,i].concat(d));default:if(l=e.apply(void 0,[c.present,i].concat(d)),r.initTypes.some((function(e){return e===i.type})))return o.log("reset history due to init action"),o.end(n),n;if(c._latestUnfiltered===l)return c;var w="function"==typeof r.filter&&!r.filter(i,l,c);if(w){var O=(0,a.newHistory)(c.past,l,c.future,c.group);return r.syncFilter||(O._latestUnfiltered=c._latestUnfiltered),o.log("filter ignored action, not storing it in past"),o.end(O),O}var S=r.groupBy(i,l,c);if(null!=S&&S===c.group){var C=(0,a.newHistory)(c.past,l,c.future,c.group);return o.log("groupBy grouped the action with the previous action"),o.end(C),C}return c=f(c,l,r.limit,S),o.log("inserted new state into history"),o.end(c),c}}};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1294)),i=n(560),a=n(561);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){var n=(0,a.newHistory)([],e,[]);return t&&(n._latestUnfiltered=null),n}function f(e,t,n,r){var i=e.past.length+1;o.log("inserting",t),o.log("new free: ",n-i);var s=e.past,l=e._latestUnfiltered,c=n&&n<=i,u=s.slice(c?1:0),p=null!=l?[].concat(d(u),[l]):u;return(0,a.newHistory)(p,t,[],r)}function h(e,t){if(t<0||t>=e.future.length)return e;var n=e.past,r=e.future,o=e._latestUnfiltered,i=[].concat(d(n),[o],d(r.slice(0,t))),s=r[t],l=r.slice(t+1);return(0,a.newHistory)(i,s,l)}function m(e,t){if(t<0||t>=e.past.length)return e;var n=e.past,r=e.future,o=e._latestUnfiltered,i=n.slice(0,t),s=[].concat(d(n.slice(t+1)),[o],d(r)),l=n[t];return(0,a.newHistory)(i,l,s)}function b(e,t){return t>0?h(e,t-1):t<0?m(e,e.past.length+t):e}function g(e,t){return t.indexOf(e)>-1?e:!e}},1294:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e){o=e},t.start=function(e,t){void(i={header:[],prev:[],action:[],next:[],msgs:[]}),o&&(console.group?(i.header=["%credux-undo","font-style: italic","action",e.type],i.action=c("action",s,e),i.prev=c("prev history",a,t)):(i.header=["redux-undo action",e.type],i.action=["action",e],i.prev=["prev history",t]))},t.end=function(e){o&&(console.group?i.next=c("next history",l,e):i.next=["next history",e],function(){var e=i,t=e.header,n=e.prev,o=e.next,a=e.action,s=e.msgs;if(console.group){var l,c,u,d,p;(l=console).groupCollapsed.apply(l,r(t)),(c=console).log.apply(c,r(n)),(u=console).log.apply(u,r(a)),(d=console).log.apply(d,r(o)),(p=console).log.apply(p,r(s)),console.groupEnd()}else{var f,h,m,b,g;(f=console).log.apply(f,r(t)),(h=console).log.apply(h,r(n)),(m=console).log.apply(m,r(a)),(b=console).log.apply(b,r(o)),(g=console).log.apply(g,r(s))}}())},t.log=function(){if(o){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.msgs=i.msgs.concat([].concat(t,["\n"]))}};var a="#9E9E9E",s="#03A9F4",l="#4CAF50";function c(e,t,n){return["%c".concat(e),"color: ".concat(t,"; font-weight: bold"),n]}},1296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1297),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},1297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=h(i),s=h(n(11)),l=h(n(3)),c=h(n(1298)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(565)),d=n(327),p=h(d),f=n(385);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",y=d.canUseDOM&&void 0!==s.default.createPortal,E=function(){return y?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function w(e){return e()}var O=function(e){function t(){var e,n,o;m(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=o=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!y&&s.default.unmountComponentAtNode(o.node);var e=w(o.props.parentSelector);e&&e.contains(o.node)?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=E()(o,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},b(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(y||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;e.portalClassName!==i&&(this.node.className=i);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&y?(!this.node&&y&&(this.node=document.createElement("div")),E()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(i.Component);O.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(p.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(p.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},O.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},O.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(O),t.default=O},1298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=b(n(3)),l=m(n(1299)),c=b(n(1300)),u=m(n(565)),d=m(n(1302)),p=n(327),f=b(p),h=b(n(566));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}n(1303);var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=0,y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&d.remove(document.body,i),o&&d.remove(document.getElementsByTagName("html")[0],o),r&&v>0&&0===(v-=1)&&u.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":o(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"==typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&d.add(document.body,o),r&&d.add(document.getElementsByTagName("html")[0],r),n&&(v+=1,u.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,i=e.defaultStyles,a=e.children,s=n?{}:i.content,l=o?{}:i.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(u,a);return this.props.overlayElement(c,d)}}]),t}(a.Component);y.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},y.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(f.default),s.default.instanceOf(p.SafeHTMLCollection),s.default.instanceOf(p.SafeNodeList),s.default.arrayOf(s.default.instanceOf(f.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=y,e.exports=t.default},1299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var r,o=n(564),i=(r=o)&&r.__esModule?r:{default:r};var a=[],s=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()}),0)}}},1300:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,o=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!o)return;r=s}s!==document.activeElement||o||(r=a);a===document.activeElement&&o&&(r=s);if(r)return t.preventDefault(),void r.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=o?-1:1);if(void 0===(r=n[c]))return t.preventDefault(),void(r=o?s:a).focus();t.preventDefault(),r.focus()};var r,o=n(564),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},1301:function(e,t,n){"use strict";var r=function(){};e.exports=r},1302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},o={};t.add=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),n.add(e)}));var n,i},t.remove=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&n.remove(e)}));var n,i}},1303:function(e,t,n){"use strict";var r,o=n(566),i=(r=o)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,l=[];function c(){0!==l.length&&l[l.length-1].focusContent()}i.default.subscribe((function(e,t){a&&s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",c),(s=a.cloneNode()).addEventListener("focus",c)),(l=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},1304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNewCustomTemplate=function(e,{type:t,data:n}){"plotlines"===t?function(e,{name:t,description:n,link:r}){const i=(0,o.default)(e),a=u("pl"),d=i.ui.currentTimeline;let p={id:a,version:c.getVersion(),type:"plotlines",name:t,description:n,link:r,templateData:{}};const f=i.beats[d];p.templateData.beats={1:l.tree.map(f,e=>(e.bookId=1,e))};const h=i.lines.filter(e=>e.bookId===d);if(p.templateData.lines=h.map(e=>(e.bookId=1,e)),i.cards.length){const e=l.helpers.beats.beatIds(f);let t=[];h.forEach(n=>{const r=i.cards.filter(({beatId:t,lineId:r})=>e.includes(t)&&r==n.id);t=t.concat(r)}),p.templateData.cards=t}s.customTemplatesStore.set(a,p)}(e,n):"characters"===t?function(e,{name:t,description:n,link:r}){const i=(0,o.default)(e);let a=u("ch");const l={id:a,version:c.getVersion(),type:"characters",name:t,description:n,link:r,attributes:i.customAttributes.characters};s.customTemplatesStore.set(a,l)}(e,n):"scenes"===t&&function(e,{name:t,description:n,link:r}){const i=(0,o.default)(e);let a=u("sc");const l={id:a,version:c.getVersion(),type:"scenes",name:t,description:n,link:r,attributes:i.customAttributes.scenes};s.customTemplatesStore.set(a,l)}(e,n);try{new Notification((0,a.t)("Template Saved"),{body:(0,a.t)("Your template has been saved and is ready to use"),silent:!0})}catch(e){}};var r,o=(r=n(314))&&r.__esModule?r:{default:r},i=n(18),a=n(7),s=n(35),l=n(12);const{app:c}=i.remote;function u(e){return Math.random().toString(16).replace("0.",""+e).substr(0,8)}},1305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFlagConsistent=t.dispatchingToStore=void 0;t.dispatchingToStore=e=>t=>()=>{e(t())};t.makeFlagConsistent=(e,t,n,r,o)=>{!e.featureFlags&&t?r():e.featureFlags||t?!e.featureFlags[n]&&t?r():e.featureFlags[n]&&!t&&o():o()}},1443:function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropContext",(function(){return To})),n.d(t,"Draggable",(function(){return ui})),n.d(t,"Droppable",(function(){return hi})),n.d(t,"resetServerContext",(function(){return Io})),n.d(t,"useKeyboardSensor",(function(){return co})),n.d(t,"useMouseSensor",(function(){return io})),n.d(t,"useTouchSensor",(function(){return po}));var r=n(2),o=n.n(r);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=n(362),c=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function d(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(p)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],s=a,c=!1;function f(){s===a&&(s=a.slice())}function h(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return f(),s.push(e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,f();var n=s.indexOf(e);s.splice(n,1),a=null}}}function b(e){if(!d(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,b({type:u.REPLACE})}function v(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[l.a]=function(){return this},e}return b({type:u.INIT}),(r={dispatch:b,subscribe:m,getState:h,replaceReducer:g})[l.a]=v,r}function f(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"==typeof e)return f(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=f(o,t))}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}n(3);var y=o.a.createContext(null);var E=function(e){e()},w={notify:function(){}};function O(){var e=E,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var S=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=w,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=O())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=w)},e}(),C="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;var _=function(e){var t=e.store,n=e.context,i=e.children,a=Object(r.useMemo)((function(){var e=new S(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=Object(r.useMemo)((function(){return t.getState()}),[t]);C((function(){var e=a.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,s]);var l=n||y;return o.a.createElement(l.Provider,{value:a},i)};function k(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var x=n(238),I=n.n(x),T=n(47),A=[],P=[null,null];function j(e,t){var n=e[1];return[t.payload,n+1]}function D(e,t,n){C((function(){return e.apply(void 0,t)}),n)}function R(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function N(e,t,n,r,o,i,a,s,l,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,n,p=t.getState();try{e=r(p,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var M=function(){return[null,0]};function B(e,t){void 0===t&&(t={});var n=t,i=n.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,l=n.methodName,c=void 0===l?"connectAdvanced":l,u=n.renderCountProp,d=void 0===u?void 0:u,p=n.shouldHandleStateChanges,f=void 0===p||p,h=n.storeKey,m=void 0===h?"store":h,b=(n.withRef,n.forwardRef),g=void 0!==b&&b,v=n.context,E=void 0===v?y:v,w=k(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),O=E;return function(t){var n=t.displayName||t.name||"Component",i=a(n),l=s({},w,{getDisplayName:a,methodName:c,renderCountProp:d,shouldHandleStateChanges:f,storeKey:m,displayName:i,wrappedComponentName:n,WrappedComponent:t}),u=w.pure;var p=u?r.useMemo:function(e){return e()};function h(n){var i=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=k(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),a=i[0],c=i[1],u=i[2],d=Object(r.useMemo)((function(){return a&&a.Consumer&&Object(T.isContextConsumer)(o.a.createElement(a.Consumer,null))?a:O}),[a,O]),h=Object(r.useContext)(d),m=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var b=m?n.store:h.store,g=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,l)}(b)}),[b]),v=Object(r.useMemo)((function(){if(!f)return P;var e=new S(b,m?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[b,m,h]),y=v[0],E=v[1],w=Object(r.useMemo)((function(){return m?h:s({},h,{subscription:y})}),[m,h,y]),C=Object(r.useReducer)(j,A,M),_=C[0][0],x=C[1];if(_&&_.error)throw _.error;var I=Object(r.useRef)(),B=Object(r.useRef)(u),L=Object(r.useRef)(),F=Object(r.useRef)(!1),q=p((function(){return L.current&&u===B.current?L.current:g(b.getState(),u)}),[b,_,u]);D(R,[B,I,F,u,q,L,E]),D(N,[f,b,y,g,B,I,F,L,E,x],[b,y,g]);var U=Object(r.useMemo)((function(){return o.a.createElement(t,s({},q,{ref:c}))}),[c,t,q]);return Object(r.useMemo)((function(){return f?o.a.createElement(d.Provider,{value:w},U):U}),[d,U,w])}var b=u?o.a.memo(h):h;if(b.WrappedComponent=t,b.displayName=i,g){var v=o.a.forwardRef((function(e,t){return o.a.createElement(b,s({},e,{reactReduxForwardedRef:t}))}));return v.displayName=i,v.WrappedComponent=t,I()(v,t)}return I()(b,t)}}function L(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function F(e,t){if(L(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!L(e[n[o]],t[n[o]]))return!1;return!0}function q(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function U(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function W(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=U(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=U(o),o=r(t,n)),o},r}}var H=[function(e){return"function"==typeof e?W(e):void 0},function(e){return e?void 0:q((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?q((function(t){return h(e,t)})):void 0}];var z=[function(e){return"function"==typeof e?W(e):void 0},function(e){return e?void 0:q((function(){return{}}))}];function G(e,t,n){return s({},n,e,t)}var V=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return G}}];function K(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function Y(e,t,n,r,o){var i,a,s,l,c,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1;function h(o,f){var h,m,b=!d(f,a),g=!u(o,i);return i=o,a=f,b&&g?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):b?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?(h=e(i,a),m=!p(h,s),s=h,m&&(c=n(s,l,a)),c):c}return function(o,u){return f?h(o,u):(s=e(i=o,a=u),l=t(r,a),c=n(s,l,a),f=!0,c)}}function $(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=k(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),l=o(e,i);return(i.pure?Y:K)(a,s,l,e,i)}function J(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Z(e,t){return e===t}function X(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?B:n,o=t.mapStateToPropsFactories,i=void 0===o?z:o,a=t.mapDispatchToPropsFactories,l=void 0===a?H:a,c=t.mergePropsFactories,u=void 0===c?V:c,d=t.selectorFactory,p=void 0===d?$:d;return function(e,t,n,o){void 0===o&&(o={});var a=o,c=a.pure,d=void 0===c||c,f=a.areStatesEqual,h=void 0===f?Z:f,m=a.areOwnPropsEqual,b=void 0===m?F:m,g=a.areStatePropsEqual,v=void 0===g?F:g,y=a.areMergedPropsEqual,E=void 0===y?F:y,w=k(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),O=J(e,i,"mapStateToProps"),S=J(t,l,"mapDispatchToProps"),C=J(n,u,"mergeProps");return r(p,s({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:O,initMapDispatchToProps:S,initMergeProps:C,pure:d,areStatesEqual:h,areOwnPropsEqual:b,areStatePropsEqual:v,areMergedPropsEqual:E},w))}}var Q=X();var ee,te=n(11),ne=n.n(te);function re(e,t){var n=Object(r.useState)((function(){return{inputs:t,result:e()}}))[0],o=Object(r.useRef)(!0),i=Object(r.useRef)(n),a=o.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return Object(r.useEffect)((function(){o.current=!1,i.current=a}),[a]),a.result}ee=te.unstable_batchedUpdates,E=ee;var oe=re,ie=function(e,t){return re((function(){return e}),t)};var ae=function(e,t){if(!e)throw new Error("Invariant failed")},se=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},le=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},ce=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},ue={top:0,right:0,bottom:0,left:0},de=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?ue:n,o=e.border,i=void 0===o?ue:o,a=e.padding,s=void 0===a?ue:a,l=se(le(t,r)),c=se(ce(t,i)),u=se(ce(c,s));return{marginBox:l,borderBox:se(t),paddingBox:c,contentBox:u,margin:r,border:i,padding:s}},pe=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&ae(!1),n},fe=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return de({borderBox:l,border:i,margin:a,padding:s})},he=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),fe(e,t)},me=function(e,t){var n={top:pe(t.marginTop),right:pe(t.marginRight),bottom:pe(t.marginBottom),left:pe(t.marginLeft)},r={top:pe(t.paddingTop),right:pe(t.paddingRight),bottom:pe(t.paddingBottom),left:pe(t.paddingLeft)},o={top:pe(t.borderTopWidth),right:pe(t.borderRightWidth),bottom:pe(t.borderBottomWidth),left:pe(t.borderLeftWidth)};return de({borderBox:e,margin:n,padding:r,border:o})},be=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return me(t,n)},ge=n(32),ve=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function ye(e,t){}ye.bind(null,"warn"),ye.bind(null,"error");function Ee(){}function we(e,t,n){var r=t.map((function(t){var r,o,i=(r=n,o=t.options,s({},r,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){r.forEach((function(e){e()}))}}function Oe(e){this.message=e}function Se(e,t){if(!e)throw new Oe("Invariant failed")}Oe.prototype.toString=function(){return this.message};var Ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Ee,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Oe&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=we(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Oe))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(o.a.Component),_e=function(e){return e+1},ke=function(e,t){var n=e.droppableId===t.droppableId,r=_e(e.index),o=_e(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},xe=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Ie=function(e){return"\n  The item has returned to its starting position\n  of "+_e(e.index)+"\n"},Te="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Ae=function(e){return"\n  You have lifted an item in position "+_e(e.source.index)+"\n"},Pe=function(e){var t=e.destination;if(t)return ke(e.source,t);var n=e.combine;return n?xe(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},je=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Ie(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+ke(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+xe(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Ie(e.source)+"\n  "},De={x:0,y:0},Re=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Ne=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Me=function(e,t){return e.x===t.x&&e.y===t.y},Be=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Le=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Fe=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},qe=function(e,t){return Math.min.apply(Math,t.map((function(t){return Fe(e,t)})))},Ue=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},We=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},He=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},ze=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=se({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):se(e)},Ge=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t,n){var r;return n&&n.increasedBy?s({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(function(e,t){return t?We(e,t.scroll.diff.displacement):e}(t.marginBox,o),r,n);return{page:t,withPlaceholder:n,active:ze(i,o)}},Ve=function(e,t){e.frame||Se(!1);var n=e.frame,r=Ne(t,n.scroll.initial),o=Be(r),i=s({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}});return s({},e,{frame:i,subject:Ge({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Ke(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Ye(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function $e(e,t){if(e.find)return e.find(t);var n=Ye(e,t);return-1!==n?e[n]:void 0}function Je(e){return Array.prototype.slice.call(e)}var Ze=Object(ge.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Xe=Object(ge.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Qe=Object(ge.a)((function(e){return Ke(e)})),et=Object(ge.a)((function(e){return Ke(e)})),tt=Object(ge.a)((function(e,t){return et(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function nt(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function rt(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ot=Object(ge.a)((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),it=function(e,t){return e.descriptor.droppableId===t.descriptor.id},at={point:De,value:0},st={invisible:{},visible:{},all:[]},lt={displaced:st,displacedBy:at,at:null},ct=function(e,t){return function(n){return e<=n&&n<=t}},ut=function(e){var t=ct(e.top,e.bottom),n=ct(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&i||s&&o)}},dt=function(e){var t=ct(e.top,e.bottom),n=ct(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},pt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ft={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ht=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:De;return We(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},mt=function(e){return ht(s({},e,{isVisibleThroughFrameFn:ut}))},bt=function(e){return ht(s({},e,{isVisibleThroughFrameFn:dt}))};function gt(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return se(le(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!mt({target:s,destination:n,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c={draggableId:l,shouldAnimate:function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function vt(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:st,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function yt(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=it(t,r);if(null==s)return vt({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=$e(n,(function(e){return e.descriptor.index===s}));if(!u)return vt({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=ot(t,n),p=n.indexOf(u);return{displaced:gt({afterDragging:d.slice(p),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Et(e,t){return Boolean(t.effected[e])}var wt=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||Se(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:yt({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,o=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var a=o.draggableId,s=r[a].descriptor.index;return Et(a,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==p?null:yt({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})},Ot=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=rt(n);o||Se(!1);var i=o.draggableId,a=r[i].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return Et(r,n)?i?De:Be(o.point):i?o.point:De}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return Re(a,s)},St=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Ct=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},_t=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Le(t.line,n.marginBox[t.end]+St(t,r),Ct(t,n.marginBox,r))},kt=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Le(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Ct(t,n.marginBox,r))},xt=function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=tt(o.descriptor.id,r),s=n.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Le(t.line,n.contentBox[t.start]+St(t,r),Ct(t,n.contentBox,r))}({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var p=r[d];if(Et(d,i))return kt({axis:l,moveRelativeTo:p.page,isMoving:s});var f=fe(p.page,u.point);return kt({axis:l,moveRelativeTo:f,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Et(h.descriptor.id,i)){var m=fe(h.page,Be(i.displacedBy.point));return _t({axis:l,moveRelativeTo:m,isMoving:s})}return _t({axis:l,moveRelativeTo:h.page,isMoving:s})},It=function(e,t){var n=e.frame;return n?Re(t,n.scroll.diff.displacement):t},Tt=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?xt({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):Ot({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?It(n,t):t},At=function(e,t){var n=Ne(t,e.scroll.initial),r=Be(n);return{frame:se({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Pt(e,t){return e.map((function(e){return t[e]}))}var jt=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return Re(e.scroll.diff.displacement,t)}(e.viewport,t),o=Ne(r,n.page.borderBox.center);return Re(n.client.borderBox.center,o)},Dt=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=void 0!==a&&a,c=Ne(r,t.page.borderBox.center),u={target:We(t.page.borderBox,c),destination:n,withDroppableDisplacement:i,viewport:o};return l?function(e){return ht(s({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=ct(e.top,e.bottom),r=ct(e.left,e.right);return function(e){return t===pt?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):bt(u)},Rt=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var d=tt(r.descriptor.id,o),p=it(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!nt(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return s({},i,{at:t})}var l=i.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;var u=ot(n,o);if(!c)return u.length?a(u[u.length-1].descriptor.id):null;var d=Ye(u,(function(e){return e.descriptor.id===c}));-1===d&&Se(!1);var p=d-1;return p<0?null:a(u[p].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:i})||wt({isMovingForward:t,isInHomeList:p,draggable:n,draggables:o,destination:r,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!f)return null;var h=Tt({impact:f,draggable:n,droppable:r,draggables:o,afterCritical:u});if(Dt({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:jt({pageBorderBoxCenter:h,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null};var m=Ne(h,l);return{clientSelection:c,impact:function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,a=At(n,Re(n.scroll.current,i)),l=r.frame?Ve(r,Re(r.frame.scroll.current,i)):r,c=t.displaced,u=gt({afterDragging:Pt(c.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),d=gt({afterDragging:Pt(c.all,o),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),p={},f={},h=[c,u,d];return c.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?f[e]=t:p[e]=!0})),s({},t,{displaced:{all:c.all,invisible:p,visible:f}})}({impact:f,viewport:a,destination:r,draggables:o,maxScrollChange:m}),scrollJumpRequest:m}},Nt=function(e){var t=e.subject.active;return t||Se(!1),t},Mt=function(e,t){var n=e.page.borderBox.center;return Et(e.descriptor.id,t)?Ne(n,t.displacedBy.point):n},Bt=function(e,t){var n=e.page.borderBox;return Et(e.descriptor.id,t)?We(n,Be(t.displacedBy.point)):n},Lt=Object(ge.a)((function(e,t){var n=t[e.line];return{value:n,point:Le(e.line,n)}})),Ft=function(e,t){return s({},e,{scroll:s({},e.scroll,{max:t})})},qt=function(e,t,n){var r=e.frame;it(t,e)&&Se(!1),e.subject.withPlaceholder&&Se(!1);var o=Lt(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return Le(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=tt(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-o;return i<=0?null:Le(r.line,i)}(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return s({},e,{subject:Ge({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var l=i?Re(r.scroll.max,i):r.scroll.max,c=Ft(r,l);return s({},e,{subject:Ge({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c}),frame:c})},Ut=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=ct(a[s.start],a[s.end]),c=Qe(o).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return ut(i.frame)(Nt(e))})).filter((function(e){var n=Nt(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Nt(e),n=ct(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=Nt(e)[s.crossAxisStart],o=Nt(n)[s.crossAxisStart];return t?r-o:o-r})).filter((function(e,t,n){return Nt(e)[s.crossAxisStart]===Nt(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return ct(Nt(e)[s.start],Nt(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return Nt(e)[s.start]-Nt(t)[s.start]}))[0]:c.sort((function(e,t){var r=qe(n,He(Nt(e))),o=qe(n,He(Nt(t)));return r!==o?r-o:Nt(e)[s.start]-Nt(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:s});if(!c)return null;var u=tt(c.descriptor.id,i),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:st,displacedBy:at,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Tt({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:l}),d=it(o,a)?a:qt(a,o,i);return Dt({draggable:o,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p,f=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),h=(p=n.descriptor.index,n.descriptor.id===o.descriptor.id||f?p:p+1),m=Lt(a.axis,o.displaceBy);return yt({draggable:o,insideDestination:r,destination:a,viewport:s,displacedBy:m,last:st,index:h})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.insideDestination,i=e.afterCritical;return o.filter((function(e){return bt({target:Bt(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var o=Fe(t,It(r,Mt(e,i))),a=Fe(t,It(r,Mt(n,i)));return o<a?-1:a<o?1:e.descriptor.index-n.descriptor.index}))[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),insideDestination:u,viewport:s,afterCritical:l});if(!d)return null;var p=Tt({impact:d,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:jt({pageBorderBoxCenter:p,draggable:r,viewport:s}),impact:d,scrollJumpRequest:null}},Wt=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Ht=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Wt(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!o)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?Rt({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Ut({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function zt(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Gt(e){var t=ct(e.top,e.bottom),n=ct(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Vt(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=Qe(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,o=e.subject.active;if(!o)return!1;if(r=o,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Gt(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=ct(o[i.crossAxisStart],o[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,o=n.page.borderBox.center,i=r.map((function(e){var n=e.axis,r=Le(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Fe(o,r)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}var Kt=function(e,t){return se(We(e,t))};function Yt(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var $t=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=Kt(n.page.borderBox,t),c=Vt({pageBorderBox:l,draggable:n,droppables:o});if(!c)return lt;var u,d,p=o[c],f=tt(p.descriptor.id,r),h=(u=l,(d=p.frame)?Kt(u,d.scroll.diff.value):u);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=Lt(o.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],p=$e(ot(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[s.size]/4,i=Et(t,a),l=Yt({displaced:r.displaced,id:t});return i?l?d>n[s.start]+o&&d<n[s.end]-o:u>n[s.start]-c+o&&u<n[s.end]-c-o:l?d>n[s.start]+c+o&&d<n[s.end]+c-o:u>n[s.start]+o&&u<n[s.end]-o}));return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:i,destination:p,insideDestination:f,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=Lt(r.axis,n.displaceBy),u=c.value,d=t[l.start],p=t[l.end],f=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:$e(ot(n,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Et(t,s),o=Yt({displaced:i,id:t});return r?o?p<=n:d<n-u:o?p<=n+u:d<n})),inHomeList:it(n,r)});return yt({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:p,insideDestination:f,last:i.displaced,viewport:a,afterCritical:s})},Jt=function(e,t){var n;return s({},e,((n={})[t.descriptor.id]=t,n))},Zt=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=Wt(t),i=Wt(n);if(!o)return r;if(o===i)return r;var a=r[o];if(!a.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||Se(!1);var n=e.frame;if(!n)return s({},e,{subject:Ge({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Se(!1);var o=Ft(n,r);return s({},e,{subject:Ge({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(a);return Jt(r,l)},Xt=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=o||t.viewport,c=r||t.dimensions,u=n||t.current.client.selection,d=Ne(u,t.initial.client.selection),p={offset:d,selection:u,borderBoxCenter:Re(t.initial.client.borderBoxCenter,d)},f={selection:Re(p.selection,l.scroll.current),borderBoxCenter:Re(p.borderBoxCenter,l.scroll.current),offset:Re(p.offset,l.scroll.diff.value)},h={client:p,page:f};if("COLLECTING"===t.phase)return s({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:h});var m=c.draggables[t.critical.draggable.id],b=i||$t({pageOffset:f.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.previousImpact,i=e.impact,a=Zt({previousImpact:o,impact:i,droppables:r}),s=Wt(i);if(!s)return a;var l=r[s];if(it(t,l))return a;if(l.subject.withPlaceholder)return a;var c=qt(l,t,n);return Jt(a,c)}({draggable:m,impact:b,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return s({},t,{current:h,dimensions:{draggables:c.draggables,droppables:g},impact:b,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var Qt=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced;return s({},t,{displaced:gt({afterDragging:function(e,t){return e.map((function(e){return t[e]}))}(a.all,r),destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a})})},en=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=Tt({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return jt({pageBorderBoxCenter:s,draggable:n,viewport:i})},tn=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Se(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=Wt(o);u||Se(!1);var d=l[u],p=Qt({impact:o,viewport:i,destination:d,draggables:s}),f=en({impact:p,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Xt({impact:p,clientSelection:f,state:t,dimensions:a,viewport:i})},nn=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=Lt(n.axis,t.displaceBy),a=tt(n.descriptor.id,r),s=a.indexOf(t);-1===s&&Se(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:gt({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},rn=function(e){0},on=function(e){0},an=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||Se(!1),t}(n[t]).scroll.diff.value;return function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=fe(t.client,n),i=he(o,r);return s({},t,{placeholder:s({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:Re(o,i),initialWindowScroll:r.scroll.initial})}))},sn=function(e){return"SNAP"===e.movementMode},ln=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Jt(e.droppables,t)}}(e.dimensions,t);return!sn(e)||n?Xt({state:e,dimensions:r}):tn({state:e,dimensions:r})};function cn(e){return e.isDragging&&"SNAP"===e.movementMode?s({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var un={phase:"IDLE",completed:null,shouldFlush:!1},dn=function(e,t){if(void 0===e&&(e=un),"FLUSH"===t.type)return s({},un,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Se(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,a=n.dimensions,l=n.movementMode,c=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],d={selection:o,borderBoxCenter:c.client.borderBox.center,offset:De},p={client:d,page:{selection:Re(d.selection,i.scroll.initial),borderBoxCenter:Re(d.selection,i.scroll.initial),offset:Re(d.selection,i.scroll.diff.value)}},f=Qe(a.droppables).every((function(e){return!e.isFixedOnPage})),h=nn({draggable:c,home:u,draggables:a.draggables,viewport:i}),m=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:a,initial:p,current:p,isWindowScrollAllowed:f,impact:m,afterCritical:h.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Se(!1),s({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Se(!1),function(e){var t=e.state,n=e.published;rn();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Ve(n,e.scroll)})),o=s({},t.dimensions.droppables,{},Ze(r)),i=Xe(an({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=s({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete a[e]}));var l={droppables:o,draggables:a},c=Wt(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],f=nn({draggable:d,home:p,draggables:a,viewport:t.viewport}),h=f.impact,m=f.afterCritical,b=u&&u.isCombineEnabled?t.impact:h,g=$t({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:b,viewport:t.viewport,afterCritical:m});on();var v=s({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:s({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;zt(e)||Se(!1);var b=t.payload.client;return Me(b,e.current.client.selection)?e:Xt({state:e,clientSelection:b,impact:sn(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return cn(e);if("COLLECTING"===e.phase)return cn(e);zt(e)||Se(!1);var g=t.payload,v=g.id,y=g.newScroll,E=e.dimensions.droppables[v];if(!E)return e;var w=Ve(E,y);return ln(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;zt(e)||Se(!1);var O=t.payload,S=O.id,C=O.isEnabled,_=e.dimensions.droppables[S];_||Se(!1),_.isEnabled===C&&Se(!1);var k=s({},_,{isEnabled:C});return ln(e,k,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;zt(e)||Se(!1);var x=t.payload,I=x.id,T=x.isCombineEnabled,A=e.dimensions.droppables[I];A||Se(!1),A.isCombineEnabled===T&&Se(!1);var P=s({},A,{isCombineEnabled:T});return ln(e,P,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;zt(e)||Se(!1),e.isWindowScrollAllowed||Se(!1);var j=t.payload.newScroll;if(Me(e.viewport.scroll.current,j))return cn(e);var D=At(e.viewport,j);return sn(e)?tn({state:e,viewport:D}):Xt({state:e,viewport:D})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!zt(e))return e;var R=t.payload.maxScroll;if(Me(R,e.viewport.scroll.max))return e;var N=s({},e.viewport,{scroll:s({},e.viewport.scroll,{max:R})});return s({phase:"DRAGGING"},e,{viewport:N})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Se(!1);var M=Ht({state:e,type:t.type});return M?Xt({state:e,impact:M.impact,clientSelection:M.clientSelection,scrollJumpRequest:M.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var B=t.payload.reason;return"COLLECTING"!==e.phase&&Se(!1),s({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:B})}if("DROP_ANIMATE"===t.type){var L=t.payload,F=L.completed,q=L.dropDuration,U=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Se(!1),{phase:"DROP_ANIMATING",completed:F,dropDuration:q,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},pn=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},fn=function(){return{type:"COLLECTION_STARTING",payload:null}},hn=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},mn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},bn=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},gn=function(e){return{type:"MOVE",payload:e}},vn=function(){return{type:"MOVE_UP",payload:null}},yn=function(){return{type:"MOVE_DOWN",payload:null}},En=function(){return{type:"MOVE_RIGHT",payload:null}},wn=function(){return{type:"MOVE_LEFT",payload:null}},On=function(e){return{type:"DROP_COMPLETE",payload:e}},Sn=function(e){return{type:"DROP",payload:e}},Cn=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var _n="cubic-bezier(.2,1,.1,1)",kn={drop:0,combining:.7},xn={drop:.75},In=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Tn={fluid:"opacity "+In,snap:"transform "+In+", opacity "+In,drop:function(e){var t=e+"s "+_n;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+In,placeholder:"height "+In+", width "+In+", margin "+In},An=function(e){return Me(e,De)?null:"translate("+e.x+"px, "+e.y+"px)"},Pn=An,jn=function(e,t){var n=An(e);return n?t?n+" scale("+xn.drop+")":n:null},Dn=.33,Rn=.55,Nn=Rn-Dn,Mn=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&Se(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&Se(!1);var a=o.critical,l=o.dimensions,c=l.draggables[o.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:s({},r,{displaced:st}),didDropInsideDroppable:!0}:{impact:Qt({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),d=u.impact,p=u.didDropInsideDroppable,f=p?nt(d):null,h=p?rt(d):null,m={index:a.draggable.index,droppableId:a.droppable.id},b={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:i,mode:o.movementMode,destination:f,combine:h},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,s=r.droppables,l=Wt(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=en({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return Ne(d,n.client.borderBox.center)}({impact:d,draggable:c,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:b,impact:d};if(!Me(o.current.client.offset,g)||Boolean(b.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,o=Fe(t,n);if(o<=0)return Dn;if(o>=1500)return Rn;var i=Dn+Nn*(o/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:o.current.client.offset,destination:g,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:y,completed:v}))}else n(On({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},Bn=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Ln(e){var t=e.onWindowScroll;var n,r=ve((function(){t(Bn())})),o=(n=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||n()}}),i=Ee;function a(){return i!==Ee}return{start:function(){a()&&Se(!1),i=we(window,[o])},stop:function(){a()||Se(!1),r.cancel(),i(),i=Ee},isActive:a}}var Fn=function(e){var t=Ln({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},qn=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=Ye(e,(function(e){return e.timerId===t}));-1===n&&Se(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Un=function(e,t){rn(),t(),on()},Wn=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Hn=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},zn=function(e,t){var n=function(e,t){var n=qn(),r=null,o=function(n){r||Se(!1),r=null,Un(0,(function(){return Hn(e().onDragEnd,n,t,je)}))};return{beforeCapture:function(t,n){r&&Se(!1),Un(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Se(!1),Un(0,(function(){var r=e().onBeforeDragStart;r&&r(Wn(t,n))}))},start:function(o,i){r&&Se(!1);var a=Wn(o,i);r={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},n.add((function(){Un(0,(function(){return Hn(e().onDragStart,a,t,Ae)}))}))},update:function(o,i){var a=nt(i),l=rt(i);r||Se(!1);var c=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(o,r.lastCritical);c&&(r.lastCritical=o);var u,d,p=(u=r.lastLocation,d=a,!(null==u&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));p&&(r.lastLocation=a);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&(e.draggableId===t.draggableId&&e.droppableId===t.droppableId)}(r.lastCombine,l);if(f&&(r.lastCombine=l),c||p||f){var h=s({},Wn(o,r.mode),{combine:l,destination:a});n.add((function(){Un(0,(function(){return Hn(e().onDragUpdate,h,t,Pe)}))}))}},flush:function(){r||Se(!1),n.flush()},drop:o,abort:function(){if(r){var e=s({},Wn(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Gn=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Se(!1),e.dispatch(On({completed:r.completed}))}else t(n)}}},Vn=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=we(window,[i])}))}}}},Kn=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Sn({reason:r.reason})))}}}},Yn=v,$n=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return p(dn,Yn(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return g({},n,{dispatch:r=v.apply(void 0,i)(n.dispatch)})}}}((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(On({completed:c.completed})),"IDLE"!==n().phase&&Se(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;r(function(e){return{type:"INITIAL_PUBLISH",payload:e}}({critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}))}else t(o)}}}}(n),Mn,Gn,Vn,Kn,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&Se(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(s),Fn,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),zn(i,a))))};var Jn=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=Ne({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Zn=function(){var e=document.documentElement;return e||Se(!1),e},Xn=function(){var e=Zn();return Jn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Qn=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;rn();var o,i,a,s,l,c,u,d=(o=Bn(),i=Xn(),a=o.y,s=o.x,l=Zn(),c=l.clientWidth,u=l.clientHeight,{frame:se({top:a,left:s,right:s+c,bottom:a+u}),scroll:{initial:o,current:o,max:i,diff:{value:De,displacement:De}}}),p=d.scroll.current,f=t.droppable,h=r.droppable.getAllByType(f.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(p,n)})),m=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(p)})),b={draggables:Xe(m),droppables:Ze(h)};return on(),{dimensions:b,critical:t,viewport:d}};function er(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var tr,nr,rr=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame((function(){o=null,rn();var e=r,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(De)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},on(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||Se(!1);var o=n.critical.draggable;"ADDITION"===t.type&&er(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&er(e,o,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||Se(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||Se(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||Se(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&Se(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},Qn({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},or=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},ir=function(e){window.scrollBy(e.x,e.y)},ar=Object(ge.a)((function(e){return Qe(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),sr=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}return function(e,t){return $e(ar(t),(function(t){return t.frame||Se(!1),Gt(t.frame.pageMarginBox)(e)}))}(t,r)},lr=.25,cr=.05,ur=28,dr=function(e){return Math.pow(e,2)},pr={stopDampeningAt:1200,accelerateAt:360},fr=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},hr=pr.accelerateAt,mr=pr.stopDampeningAt,br=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return ur;if(e===t.startScrollingFrom)return 1;var n=fr({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=ur*dr(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=mr,o=Date.now()-n;if(o>=mr)return e;if(o<hr)return 1;var i=fr({startOfRange:hr,endOfRange:r,current:o}),a=e*dr(i);return Math.ceil(a)}(i,r),1):i},gr=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*lr,maxScrollValueAt:e[t.size]*cr}}(t,o);return n[o.end]<n[o.start]?br({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*br({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},vr=Ue((function(e){return 0===e?0:e})),yr=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},s=gr({container:n,distanceToEdges:a,dragStartTime:t,axis:pt,shouldUseTimeDampening:i}),l=gr({container:n,distanceToEdges:a,dragStartTime:t,axis:ft,shouldUseTimeDampening:i}),c=vr({x:l,y:s});if(Me(c,De))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Me(u,De)?null:u:null},Er=Ue((function(e){return 0===e?0:e>0?1:-1})),wr=(tr=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=Re(t,r),i={x:tr(o.x,n.x),y:tr(o.y,n.y)};return Me(i,De)?null:i}),Or=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=Er(r),a=wr({max:o,current:n,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},Sr=function(e,t){return Or({current:e.scroll.current,max:e.scroll.max,change:t})},Cr=function(e,t){var n=e.frame;return!!n&&Or({current:n.scroll.current,max:n.scroll.max,change:t})},_r=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=yr({dragStartTime:o,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return a&&Sr(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void o(l)}var c=sr({center:a,destination:Wt(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=yr({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&Cr(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&i(c.descriptor.id,u)}},kr=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,o=function(e,t){if(!Cr(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Cr(e,t)?wr({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=Ne(t,r);return n(e.descriptor.id,o),Ne(t,o)},i=function(e,t,n){if(!e)return n;if(!Sr(t,n))return n;var o=function(e,t){if(!Sr(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return wr({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=Ne(n,o);return r(i),Ne(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Wt(e.impact);r||Se(!1);var a=o(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=i(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=Re(e.current.client.selection,n);t({client:r})}(e,l)}}}},xr=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=ve(t),o=ve(n),i=null,a=function(e){i||Se(!1);var t=i,n=t.shouldUseTimeDampening,a=t.dragStartTime;_r({state:e,scrollWindow:r,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){rn(),i&&Se(!1);var t=Date.now(),n=!1,r=function(){n=!0};_r({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},on(),n&&a(e)},stop:function(){i&&(r.cancel(),o.cancel(),i=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),i=kr({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},Ir={base:nr="data-rbd-drag-handle",draggableId:nr+"-draggable-id",contextId:nr+"-context-id"},Tr=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ar=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Pr={contextId:"data-rbd-scroll-container-context-id"},jr=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Dr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,Rr=function(){var e=document.querySelector("head");return e||Se(!1),e},Nr=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Mr(e,t){var n=oe((function(){return function(e){var t,n,r,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(Ir.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+Tn.outOfTheWay+";\n    ",{selector:o(Tr.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:o(Ar.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:jr(a,"always"),resting:jr(a,"resting"),dragging:jr(a,"dragging"),dropAnimating:jr(a,"dropAnimating"),userCancel:jr(a,"userCancel")}}(e)}),[e]),o=Object(r.useRef)(null),i=Object(r.useRef)(null),a=ie(Object(ge.a)((function(e){var t=i.current;t||Se(!1),t.textContent=e})),[]),s=ie((function(e){var t=o.current;t||Se(!1),t.textContent=e}),[]);Dr((function(){(o.current||i.current)&&Se(!1);var r=Nr(t),l=Nr(t);return o.current=r,i.current=l,r.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),Rr().appendChild(r),Rr().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||Se(!1),Rr().removeChild(t),e.current=null};e(o),e(i)}}),[t,s,a,n.always,n.resting,e]);var l=ie((function(){return a(n.dragging)}),[a,n.dragging]),c=ie((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=ie((function(){i.current&&a(n.resting)}),[a,n.resting]);return oe((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}var Br=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Lr(e){return e instanceof Br(e).HTMLElement}function Fr(e,t){var n="["+Ir.contextId+'="'+e+'"]',r=Je(document.querySelectorAll(n));if(!r.length)return null;var o=$e(r,(function(e){return e.getAttribute(Ir.draggableId)===t}));return o&&Lr(o)?o:null}function qr(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Se(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Ke(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||Se(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return Ke(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Ur=o.a.createContext(null),Wr=function(){var e=document.body;return e||Se(!1),e},Hr={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var zr=0,Gr={separator:"::"};function Vr(e,t){return void 0===t&&(t=Gr),oe((function(){return""+e+t.separator+zr++}),[t.separator,e])}var Kr=o.a.createContext(null);function Yr(e){0}function $r(e,t){Yr()}function Jr(){$r()}function Zr(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e})),t}var Xr,Qr=((Xr={})[13]=!0,Xr[9]=!0,Xr),eo=function(e){Qr[e.keyCode]&&e.preventDefault()},to=function(){var e="visibilitychange";return"undefined"==typeof document?e:$e([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var no,ro={type:"IDLE"};function oo(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var a={x:n,y:i},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&Se(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void eo(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Se(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:to,fn:t}]}function io(e){var t=Object(r.useRef)(ro),n=Object(r.useRef)(Ee),o=oe((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),u(o,i)}}}}}}),[e]),i=oe((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=ie((function(){n.current=we(window,[i,o],{passive:!1,capture:!0})}),[i,o]),s=ie((function(){"IDLE"!==t.current.type&&(t.current=ro,n.current(),a())}),[a]),l=ie((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=ie((function(){var e=oo({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=we(window,e,{capture:!0,passive:!1})}),[l,s]),u=ie((function(e,n){"IDLE"!==t.current.type&&Se(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Dr((function(){return a(),function(){n.current()}}),[a])}function ao(){}var so=((no={})[34]=!0,no[33]=!0,no[36]=!0,no[35]=!0,no);function lo(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(so[r.keyCode]?r.preventDefault():eo(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:to,fn:n}]}function co(e){var t=Object(r.useRef)(ao),n=oe((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=e.findClosestDraggableId(n);if(r){var i=e.tryGetLock(r,l,{sourceEvent:n});if(i){n.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=we(window,lo(s,l),{capture:!0,passive:!1})}}}function l(){a||Se(!1),a=!1,t.current(),o()}}}}),[e]),o=ie((function(){t.current=we(window,[n],{passive:!1,capture:!0})}),[n]);Dr((function(){return o(),function(){t.current()}}),[o])}var uo={type:"IDLE"};function po(e){var t=Object(r.useRef)(uo),n=Object(r.useRef)(Ee),o=ie((function(){return t.current}),[]),i=ie((function(e){t.current=e}),[]),a=oe((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),p(o,a)}}}}}}),[e]),s=ie((function(){n.current=we(window,[a],{capture:!0,passive:!1})}),[a]),l=ie((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(uo),n.current(),s())}),[s,i]),c=ie((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=ie((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:o},r=we(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Se(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:to,fn:t}]}(t),e),i=we(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:to,fn:t}]}(t),e);n.current=function(){r(),i()}}),[c,o,l]),d=ie((function(){var e=o();"PENDING"!==e.type&&Se(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,i]),p=ie((function(e,t){"IDLE"!==o().type&&Se(!1);var n=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,o,i,d]);Dr((function(){return s(),function(){n.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(uo))}}),[o,s,i]),Dr((function(){return we(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}var fo={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ho(e,t){var n=t.target;return!!Lr(n)&&function e(t,n){if(null==n)return!1;if(Boolean(fo[n.tagName.toLowerCase()]))return!0;var r=n.getAttribute("contenteditable");return"true"===r||""===r||n!==t&&e(t,n.parentElement)}(e,n)}var mo=function(e){return se(e.getBoundingClientRect()).center};var bo="undefined"==typeof document?"matches":$e(["matches","msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||"matches";function go(e,t){return e.closest?e.closest(t):function e(t,n){return null==t?null:t[bo](n)?t:e(t.parentElement,n)}(e,t)}function vo(e,t){var n,r=t.target;if(!((n=r)instanceof Br(n).Element))return null;var o=go(r,function(e){return"["+Ir.contextId+'="'+e+'"]'}(e));return o&&Lr(o)?o:null}function yo(e){e.preventDefault()}function Eo(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function wo(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!or(n.getState(),o))}function Oo(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent;if(!wo({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var c=o.draggable.getById(i),u=function(e,t){var n="["+Tr.contextId+'="'+e+'"]',r=$e(Je(document.querySelectorAll(n)),(function(e){return e.getAttribute(Tr.id)===t}));return r&&Lr(r)?r:null}(n,c.descriptor.id);if(!u)return null;if(l&&!c.options.canDragInteractiveElements&&ho(u,l))return null;var d=t.claim(a||Ee),p="PRE_DRAG";function f(){return c.options.shouldRespectForcePress}function h(){return t.isActive(d)}var m=function(e,t){Eo({expected:e,phase:p,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function b(e){function n(){t.release(),p="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=we(window,[{eventName:"click",fn:yo,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(Sn({reason:t}))}return"PRE_DRAG"!==p&&(n(),"PRE_DRAG"!==p&&Se(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),p="DRAGGING",s({isActive:function(){return Eo({expected:"DRAGGING",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return Eo({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=ve((function(e){m((function(){return gn({client:e})}))}));return s({},b({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return m(vn)},moveRight:function(){return m(En)},moveDown:function(){return m(yn)},moveLeft:function(){return m(wn)}};return b({liftActionArgs:{id:i,clientSelection:mo(u),movementMode:"SNAP"},cleanup:Ee,actions:e})},abort:function(){Eo({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!0})&&t.release()}}}var So=[io,co,po];function Co(e){var t=e.contextId,n=e.store,o=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?So:[],i||[]),l=Object(r.useState)((function(){return function(){var e=null;function t(){e||Se(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Se(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=ie((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Dr((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),Dr((function(){return l.tryAbandon}),[l.tryAbandon]);var u=ie((function(e){return wo({lockAPI:l,registry:o,store:n,draggableId:e})}),[l,o,n]),d=ie((function(e,r,i){return Oo({lockAPI:l,registry:o,contextId:t,store:n,draggableId:e,forceSensorStop:r,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,o,n]),p=ie((function(e){return function(e,t){var n=vo(e,t);return n?n.getAttribute(Ir.draggableId):null}(t,e)}),[t]),f=ie((function(e){var t=o.draggable.findById(e);return t?t.options:null}),[o.draggable]),h=ie((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),m=ie(l.isClaimed,[l]),b=oe((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}}),[u,d,p,f,h,m]);Yr();for(var g=0;g<s.length;g++)s[g](b)}function _o(e){return e.current||Se(!1),e.current}function ko(e){var t=e.contextId,n=e.setCallbacks,i=e.sensors,a=e.nonce,l=e.dragHandleUsageInstructions,c=Object(r.useRef)(null);Jr();var u=Zr(e),d=ie((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(u.current)}),[u]),p=function(e){var t=oe((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),s(e.style,Hr),Wr().appendChild(e),function(){setTimeout((function(){var t=Wr();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),ie((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),f=function(e){var t=e.contextId,n=e.text,o=Vr("hidden-text",{separator:"-"}),i=oe((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:o}).contextId+"-"+e.uniqueId;var e}),[o,t]);return Object(r.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",Wr().appendChild(e),function(){var t=Wr();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:l}),m=Mr(t,a),b=ie((function(e){_o(c).dispatch(e)}),[]),g=oe((function(){return h({publishWhileDragging:pn,updateDroppableScroll:hn,updateDroppableIsEnabled:mn,updateDroppableIsCombineEnabled:bn,collectionStarting:fn},b)}),[b]),v=function(){var e=oe(qr,[]);return Object(r.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),y=oe((function(){return rr(v,g)}),[v,g]),E=oe((function(){return xr(s({scrollWindow:ir,scrollDroppable:y.scrollDroppable},h({move:gn},b)))}),[y.scrollDroppable,b]),w=function(e){var t=Object(r.useRef)({}),n=Object(r.useRef)(null),o=Object(r.useRef)(null),i=Object(r.useRef)(!1),a=ie((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=ie((function(t){var n=Fr(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=ie((function(e,t){n.current===e&&(n.current=t)}),[]),c=ie((function(){o.current||i.current&&(o.current=requestAnimationFrame((function(){o.current=null;var e=n.current;e&&s(e)})))}),[s]),u=ie((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Ir.draggableId)===e&&(n.current=e)}),[]);return Dr((function(){return i.current=!0,function(){i.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}}),[]),oe((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),O=oe((function(){return $n({announce:p,autoScroller:E,dimensionMarshal:y,focusMarshal:w,getResponders:d,styleMarshal:m})}),[p,E,y,w,d,m]);c.current=O;var S=ie((function(){var e=_o(c);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),C=ie((function(){var e=_o(c).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(oe((function(){return{isDragging:C,tryAbort:S}}),[C,S]));var k=ie((function(e){return or(_o(c).getState(),e)}),[]),x=ie((function(){return zt(_o(c).getState())}),[]),I=oe((function(){return{marshal:y,focus:w,contextId:t,canLift:k,isMovementAllowed:x,dragHandleUsageInstructionsId:f,registry:v}}),[t,y,f,w,k,x,v]);return Co({contextId:t,store:O,registry:v,customSensors:i,enableDefaultSensors:!1!==e.enableDefaultSensors}),Object(r.useEffect)((function(){return S}),[S]),o.a.createElement(Kr.Provider,{value:I},o.a.createElement(_,{context:Ur,store:O},e.children))}var xo=0;function Io(){xo=0,zr=0}function To(e){var t=oe((function(){return""+xo++}),[]),n=e.dragHandleUsageInstructions||Te;return o.a.createElement(Ce,null,(function(r){return o.a.createElement(ko,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Ao=function(e){return function(t){return e===t}},Po=Ao("scroll"),jo=Ao("auto"),Do=(Ao("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Ro=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Do(n,Po)||Do(n,jo)},No=function e(t){return null==t||t===document.body||t===document.documentElement?null:Ro(t)?t:e(t.parentElement)},Mo=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Bo=function(e){return{closestScrollable:No(e),isFixedOnPage:function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))}(e)}},Lo=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=be(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,s=le({top:r,right:a,bottom:i,left:o},n.border);return de({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=he(u,o),p=function(){if(!c)return null;var e=be(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:he(e,o),scroll:Mo(c),scrollSize:t,shouldClipSubject:l}}();return function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=Jn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:De,displacement:De}}}}(),u="vertical"===i?pt:ft;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:Ge({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:d,closest:p})},Fo={passive:!1},qo={passive:!0},Uo=function(e){return e.shouldPublishImmediately?Fo:qo};function Wo(e){var t=Object(r.useContext)(e);return t||Se(!1),t}var Ho=function(e){return e&&e.env.closestScrollable||null};function zo(){}var Go={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Vo=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?Go:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Tn.placeholder:null}};var Ko=o.a.memo((function(e){var t=Object(r.useRef)(null),n=ie((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),i=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=Object(r.useState)("open"===e.animate),u=c[0],d=c[1];Object(r.useEffect)((function(){return u?"open"!==i?(n(),d(!1),zo):t.current?zo:(t.current=setTimeout((function(){t.current=null,d(!1)})),n):zo}),[i,u,n]);var p=ie((function(e){"height"===e.propertyName&&(a(),"close"===i&&s())}),[i,s,a]),f=Vo({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return o.a.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":l,onTransitionEnd:p,ref:e.innerRef})})),Yo=o.a.createContext(null);var $o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return a(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(o.a.PureComponent),Jo=5e3,Zo=4500,Xo=function(e,t){return t?Tn.drop(t.duration):e?Tn.snap:Tn.fluid},Qo=function(e,t){return e?t?kn.drop:kn.combining:null};function ei(e){return"DRAGGING"===e.type?(r=(n=e).dimension.client,o=n.offset,i=n.combineWith,a=n.dropping,s=Boolean(i),l=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(n),c=Boolean(a),u=c?jn(o,s):Pn(o),{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Xo(l,a),transform:u,opacity:Qo(s,c),zIndex:c?Zo:Jo,pointerEvents:"none"}):{transform:Pn((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,n,r,o,i,a,s,l,c,u}function ti(e){var t=Vr("draggable"),n=e.descriptor,o=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=oe((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),u=ie((function(e){var t=i();return t||Se(!1),function(e,t,n){void 0===n&&(n=De);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=me(o,r),a=he(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,i]),d=oe((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),p=Object(r.useRef)(d),f=Object(r.useRef)(!0);Dr((function(){return o.draggable.register(p.current),function(){return o.draggable.unregister(p.current)}}),[o.draggable]),Dr((function(){if(f.current)f.current=!1;else{var e=p.current;p.current=d,o.draggable.update(d,e)}}),[d,o.draggable])}function ni(e,t,n){$r()}function ri(e){e.preventDefault()}var oi=function(e,t){return e===t},ii=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function ai(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var si={mapped:{type:"SECONDARY",offset:De,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ai(null)}};var li=Q((function(){var e,t,n,r=(e=Object(ge.a)((function(e,t){return{x:e,y:t}})),t=Object(ge.a)((function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Object(ge.a)((function(e,n,r,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,o,i,a,null)}}})),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=Wt(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==o.draggableId)return null;var p=o.isClone,f=r.dimensions.draggables[o.draggableId],h=d.result,m=h.mode,b=ii(h),g=function(e){return e.combine?e.combine.draggableId:null}(h),v={duration:r.dropDuration,curve:_n,moveTo:r.newHomeClientOffset,opacity:g?kn.drop:null,scale:g?xn.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:v,draggingOver:b,combineWith:g,mode:m,forceShouldAnimate:null,snapshot:t(m,p,b,g,v)}}}return null}),o=function(){var e=Object(ge.a)((function(e,t){return{x:e,y:t}})),t=Object(ge.a)(ai),n=Object(ge.a)((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(De,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=rt(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;var d=Be(a.displacedBy.point),p=e(d.x,d.y);return n(p,u,!0)}if(l)return r(u);var f=i.displacedBy.point,h=e(f.x,f.y);return n(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||si}}),{dropAnimationFinished:Cn},null,{context:Ur,pure:!0,areStatePropsEqual:oi})((function(e){var t=Object(r.useRef)(null),n=ie((function(e){t.current=e}),[]),o=ie((function(){return t.current}),[]),i=Wo(Kr),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=Wo(Yo),u=c.type,d=c.droppableId,p=oe((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,h=e.draggableId,m=e.isEnabled,b=e.shouldRespectForcePress,g=e.canDragInteractiveElements,v=e.isClone,y=e.mapped,E=e.dropAnimationFinished;ni(),Yr(),v||ti(oe((function(){return{descriptor:p,registry:l,getDraggableRef:o,canDragInteractiveElements:g,shouldRespectForcePress:b,isEnabled:m}}),[p,l,o,g,b,m]));var w=oe((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:ri}:null}),[a,s,h,m]),O=ie((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&E()}),[E,y]),S=oe((function(){var e=ei(y),t="DRAGGING"===y.type&&y.dropping?O:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:w}}),[a,w,h,y,O,n]),C=oe((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return f(S,y.snapshot,C)}));function ci(e){return Wo(Yo).isUsingCloneFor!==e.draggableId||e.isClone?o.a.createElement(li,e):null}function ui(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return o.a.createElement(ci,s({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var di=function(e,t){return e===t.droppable.type},pi=function(e,t){return t.draggables[e.draggable.id]};var fi={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Se(!1),document.body}},hi=Q((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=s({},e,{shouldAnimatePlaceholder:!1}),n=Object(ge.a)((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=Object(ge.a)((function(r,o,i,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!o)return t;if(!a)return e;var p={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(n,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(n.isDragging){var c=n.critical;if(!di(a,c))return t;var u=pi(c,n.dimensions),d=Wt(n.impact)===i;return r(i,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!di(a,p.critical))return t;var f=pi(p.critical,n.dimensions);return r(i,s,ii(p.result)===i,Wt(p.impact)===i,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!di(a,h.critical))return t;var m=Wt(h.impact)===i,b=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),g=h.critical.droppable.id===i;return m?b?e:t:g?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Ur,pure:!0,areStatePropsEqual:oi})((function(e){var t=Object(r.useContext)(Kr);t||Se(!1);var n=t.contextId,i=t.isMovementAllowed,a=Object(r.useRef)(null),s=Object(r.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,p=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,b=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,y=e.getContainerForClone,E=ie((function(){return a.current}),[]),w=ie((function(e){a.current=e}),[]),O=(ie((function(){return s.current}),[]),ie((function(e){s.current=e}),[]));$r();var S=ie((function(){i()&&v({maxScroll:Xn()})}),[i,v]);!function(e){var t=Object(r.useRef)(null),n=Wo(Kr),o=Vr("droppable"),i=n.registry,a=n.marshal,s=Zr(e),l=oe((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=Object(r.useRef)(l),u=oe((function(){return Object(ge.a)((function(e,n){t.current||Se(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),d=ie((function(){var e=t.current;return e&&e.env.closestScrollable?Mo(e.env.closestScrollable):De}),[]),p=ie((function(){var e=d();u(e.x,e.y)}),[d,u]),f=oe((function(){return ve(p)}),[p]),h=ie((function(){var e=t.current,n=Ho(e);e&&n||Se(!1),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),m=ie((function(e,r){t.current&&Se(!1);var o=s.current,i=o.getDroppableRef();i||Se(!1);var a=Bo(i),c={ref:i,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=Lo({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(Pr.contextId,n.contextId),d.addEventListener("scroll",h,Uo(c.scrollOptions))),u}),[n.contextId,l,h,s]),b=ie((function(){var e=t.current,n=Ho(e);return e&&n||Se(!1),Mo(n)}),[]),g=ie((function(){var e=t.current;e||Se(!1);var n=Ho(e);t.current=null,n&&(f.cancel(),n.removeAttribute(Pr.contextId),n.removeEventListener("scroll",h,Uo(e.scrollOptions)))}),[h,f]),v=ie((function(e){var n=t.current;n||Se(!1);var r=Ho(n);r||Se(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=oe((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:b,dragStopped:g,scroll:v}}),[g,m,b,v]),E=oe((function(){return{uniqueId:o,descriptor:l,callbacks:y}}),[y,l,o]);Dr((function(){return c.current=E.descriptor,i.droppable.register(E),function(){t.current&&g(),i.droppable.unregister(E)}}),[y,l,g,E,a,i.droppable]),Dr((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Dr((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:p,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:E});var C=o.a.createElement($o,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,i=e.animate;return o.a.createElement(Ko,{placeholder:r,onClose:t,innerRef:O,animate:i,contextId:n,onTransitionEnd:S})})),_=oe((function(){return{innerRef:w,placeholder:C,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,C,w]),k=g?g.dragging.draggableId:null,x=oe((function(){return{droppableId:c,type:u,isUsingCloneFor:k}}),[c,k,u]);return o.a.createElement(Yo.Provider,{value:x},l(_,b),function(){if(!g)return null;var e=g.dragging,t=g.render,n=o.a.createElement(ci,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return ne.a.createPortal(n,y())}())}));hi.defaultProps=fi},1445:function(e,t,n){"use strict";n.r(t),n.d(t,"ACTIONS",(function(){return J})),n.d(t,"EVENTS",(function(){return Z})),n.d(t,"LIFECYCLE",(function(){return X})),n.d(t,"STATUS",(function(){return Q}));var r=n(2),o=n.n(r),i=(n(3),n(45)),a=["innerHTML","ownerDocument","style","attributes","nodeValue"],s=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],l=["bigint","boolean","null","number","string","symbol","undefined"];function c(e){var t,n=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(n)?"HTMLElement":(t=n,s.includes(t)?n:void 0)}function u(e){return function(t){return c(t)===e}}function d(e){return function(t){return typeof t===e}}function p(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(p.array(e))return"Array";if(p.plainFunction(e))return"Function";var t=c(e);return t||"Object"}p.array=Array.isArray,p.arrayOf=function(e,t){return!(!p.array(e)&&!p.function(t))&&e.every((function(e){return t(e)}))},p.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===c(e)},p.asyncFunction=u("AsyncFunction"),p.bigint=d("bigint"),p.boolean=function(e){return!0===e||!1===e},p.date=u("Date"),p.defined=function(e){return!p.undefined(e)},p.domElement=function(e){return p.object(e)&&!p.plainObject(e)&&1===e.nodeType&&p.string(e.nodeName)&&a.every((function(t){return t in e}))},p.empty=function(e){return p.string(e)&&0===e.length||p.array(e)&&0===e.length||p.object(e)&&!p.map(e)&&!p.set(e)&&0===Object.keys(e).length||p.set(e)&&0===e.size||p.map(e)&&0===e.size},p.error=u("Error"),p.function=d("function"),p.generator=function(e){return p.iterable(e)&&p.function(e.next)&&p.function(e.throw)},p.generatorFunction=u("GeneratorFunction"),p.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},p.iterable=function(e){return!p.nullOrUndefined(e)&&p.function(e[Symbol.iterator])},p.map=u("Map"),p.nan=function(e){return Number.isNaN(e)},p.null=function(e){return null===e},p.nullOrUndefined=function(e){return p.null(e)||p.undefined(e)},p.number=function(e){return d("number")(e)&&!p.nan(e)},p.numericString=function(e){return p.string(e)&&e.length>0&&!Number.isNaN(Number(e))},p.object=function(e){return!p.nullOrUndefined(e)&&(p.function(e)||"object"==typeof e)},p.oneOf=function(e,t){return!!p.array(e)&&e.indexOf(t)>-1},p.plainFunction=u("Function"),p.plainObject=function(e){if("Object"!==c(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},p.primitive=function(e){return p.null(e)||(t=typeof e,l.includes(t));var t},p.promise=u("Promise"),p.propertyOf=function(e,t,n){if(!p.object(e)||!t)return!1;var r=e[t];return p.function(n)?n(r):p.defined(r)},p.regexp=u("RegExp"),p.set=u("Set"),p.string=d("string"),p.symbol=d("symbol"),p.undefined=d("undefined"),p.weakMap=u("WeakMap"),p.weakSet=u("WeakSet");var f=p;function h(e,t,n){var r=n.actual,o=n.key,i=n.previous,a=n.type,s=O(e,o),l=O(t,o),c=[s,l].every(f.number)&&("increased"===a?s<l:s>l);return f.undefined(r)||(c=c&&l===r),f.undefined(i)||(c=c&&s===i),c}function m(e,t,n){var r=n.key,o=n.type,a=n.value,s=O(e,r),l=O(t,r),c="added"===o?s:l,u="added"===o?l:s;return f.nullOrUndefined(a)?[s,l].every(f.array)?!u.every(E(c)):[s,l].every(f.plainObject)?function(e,t){return t.some((function(t){return e.indexOf(t)<0}))}(Object.keys(c),Object.keys(u)):![s,l].every((function(e){return f.primitive(e)&&f.defined(e)}))&&("added"===o?!f.defined(s)&&f.defined(l):f.defined(s)&&!f.defined(l)):f.defined(c)?!(!f.array(c)&&!f.plainObject(c))&&function(e,t,n){return!!w(e,t)&&([e,t].every(f.array)?!e.some(v(n))&&t.some(v(n)):[e,t].every(f.plainObject)?!Object.entries(e).some(g(n))&&Object.entries(t).some(g(n)):t===n)}(c,u,a):i(u,a)}function b(e,t,n){var r=(void 0===n?{}:n).key,o=O(e,r),i=O(t,r);if(!w(o,i))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return f.string(e)||f.array(e)||f.plainObject(e)}))}(o,i))throw new TypeError("Inputs don't have length");return[o,i].every(f.plainObject)&&(o=Object.keys(o),i=Object.keys(i)),[o,i]}function g(e){return function(t){var n=t[0],r=t[1];return f.array(e)?i(e,r)||e.some((function(e){return i(e,r)||f.array(r)&&E(r)(e)})):f.plainObject(e)&&e[n]?!!e[n]&&i(e[n],r):i(e,r)}}function v(e){return function(t){return f.array(e)?e.some((function(e){return i(e,t)||f.array(t)&&E(t)(e)})):i(e,t)}}function y(e,t){return f.array(e)?e.some((function(e){return i(e,t)})):i(e,t)}function E(e){return function(t){return!!e.find((function(e){return i(e,t)}))}}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(f.array)||e.every(f.number)||e.every(f.plainObject)||e.every(f.string)}function O(e,t){return f.plainObject(e)||f.array(e)?f.string(t)?t.split(".").reduce((function(e,t){return e&&e[t]}),e):f.number(t)?e[t]:e:e}function S(e,t){if([e,t].some(f.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((function(e){return f.plainObject(e)||f.array(e)})))throw new Error("Expected plain objects or array");var n=function(n,r,o){try{var a=O(e,n),s=O(t,n),l=f.defined(r),c=f.defined(o);if(l||c){var u=c?y(o,a):!y(r,a),d=y(r,s);return u&&d}return[a,s].every(f.array)||[a,s].every(f.plainObject)?!i(a,s):a!==s}catch(e){return!1}};return{added:function(n,r){try{return m(e,t,{key:n,type:"added",value:r})}catch(e){return!1}},changed:n,changedFrom:function(n,r,o){if(!f.defined(n))return!1;try{var i=O(e,n),a=O(t,n),s=f.defined(o);return y(r,i)&&(s?y(o,a):!s)}catch(e){return!1}},changedTo:function(e,t){return!!f.defined(e)&&n(e,t)},decreased:function(n,r,o){if(!f.defined(n))return!1;try{return h(e,t,{key:n,actual:r,previous:o,type:"decreased"})}catch(e){return!1}},emptied:function(n){try{var r=b(e,t,{key:n}),o=r[0],i=r[1];return!!o.length&&!i.length}catch(e){return!1}},filled:function(n){try{var r=b(e,t,{key:n}),o=r[0],i=r[1];return!o.length&&!!i.length}catch(e){return!1}},increased:function(n,r,o){if(!f.defined(n))return!1;try{return h(e,t,{key:n,actual:r,previous:o,type:"increased"})}catch(e){return!1}},removed:function(n,r){try{return m(e,t,{key:n,type:"removed",value:r})}catch(e){return!1}}}}var C=n(11),_=n.n(C),k=n(177),x=n.n(k),I=n(627),T=n.n(I),A=n(363),P=n.n(A),j=n(47),D=n(62),R=n.n(D),N=n(237);function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?K(e):t}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}var J={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Z={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found",ERROR:"error"},X={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Q={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"},ee=x.a.canUseDOM,te=void 0!==C.createPortal;function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e;return"undefined"==typeof window?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.indexOf(" OPR/")>=0?t="opera":void 0!==window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([0-9._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function re(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function oe(e){var t=[];return function e(n){if("string"==typeof n||"number"==typeof n)t.push(n);else if(Array.isArray(n))n.forEach((function(t){return e(t)}));else if(n&&n.props){var r=n.props.children;Array.isArray(r)?r.forEach((function(t){return e(t)})):e(r)}}(e),t.join(" ").trim()}function ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ae(e,t){return!(!f.plainObject(e)||!f.array(t))&&Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}function se(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function le(e){return e.disableBeacon||"center"===e.placement}function ce(){return!(-1!==["chrome","safari","firefox","opera"].indexOf(ne()))}function ue(e){var t=e.title,n=e.data,r=e.warn,o=void 0!==r&&r,i=e.debug,a=void 0!==i&&i,s=o?console.warn||console.error:console.log;a&&(t&&n?(console.groupCollapsed("%creact-joyride: ".concat(t),"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){f.plainObject(e)&&e.key?s.apply(console,[e.key,e.value]):s.apply(console,[e])})):s.apply(console,[n]),console.groupEnd()):console.error("Missing title or data props"))}var de={action:"",controlled:!1,index:0,lifecycle:X.INIT,size:0,status:Q.IDLE},pe=["action","index","lifecycle","status"];function fe(e){var t=new Map,n=new Map;return new(function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.continuous,i=void 0!==o&&o,a=r.stepIndex,s=r.steps,l=void 0===s?[]:s;M(this,e),F(this,"listener",void 0),F(this,"setSteps",(function(e){var r=t.getState(),o=r.size,i=r.status,a={size:e.length,status:i};n.set("steps",e),i===Q.WAITING&&!o&&e.length&&(a.status=Q.RUNNING),t.setState(a)})),F(this,"addListener",(function(e){t.listener=e})),F(this,"update",(function(e){if(!ae(e,pe))throw new Error("State is not valid. Valid keys: ".concat(pe.join(", ")));t.setState(W({},t.getNextState(W(W(W({},t.getState()),e),{},{action:e.action||J.UPDATE}),!0)))})),F(this,"start",(function(e){var n=t.getState(),r=n.index,o=n.size;t.setState(W(W({},t.getNextState({action:J.START,index:f.number(e)?e:r},!0)),{},{status:o?Q.RUNNING:Q.WAITING}))})),F(this,"stop",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),r=n.index,o=n.status;-1===[Q.FINISHED,Q.SKIPPED].indexOf(o)&&t.setState(W(W({},t.getNextState({action:J.STOP,index:r+(e?1:0)})),{},{status:Q.PAUSED}))})),F(this,"close",(function(){var e=t.getState(),n=e.index;e.status===Q.RUNNING&&t.setState(W({},t.getNextState({action:J.CLOSE,index:n+1})))})),F(this,"go",(function(e){var n=t.getState(),r=n.controlled,o=n.status;if(!r&&o===Q.RUNNING){var i=t.getSteps()[e];t.setState(W(W({},t.getNextState({action:J.GO,index:e})),{},{status:i?o:Q.FINISHED}))}})),F(this,"info",(function(){return t.getState()})),F(this,"next",(function(){var e=t.getState(),n=e.index;e.status===Q.RUNNING&&t.setState(t.getNextState({action:J.NEXT,index:n+1}))})),F(this,"open",(function(){t.getState().status===Q.RUNNING&&t.setState(W({},t.getNextState({action:J.UPDATE,lifecycle:X.TOOLTIP})))})),F(this,"prev",(function(){var e=t.getState(),n=e.index;e.status===Q.RUNNING&&t.setState(W({},t.getNextState({action:J.PREV,index:n-1})))})),F(this,"reset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),r=n.controlled;r||t.setState(W(W({},t.getNextState({action:J.RESET,index:0})),{},{status:e?Q.RUNNING:Q.READY}))})),F(this,"skip",(function(){t.getState().status===Q.RUNNING&&t.setState({action:J.SKIP,lifecycle:X.INIT,status:Q.SKIPPED})})),this.setState({action:J.INIT,controlled:f.number(a),continuous:i,index:f.number(a)?a:0,lifecycle:X.INIT,status:l.length?Q.READY:Q.IDLE},!0),this.setSteps(l)}return L(e,[{key:"setState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getState(),o=W(W({},r),e),i=o.action,a=o.index,s=o.lifecycle,l=o.size,c=o.status;t.set("action",i),t.set("index",a),t.set("lifecycle",s),t.set("size",l),t.set("status",c),n&&(t.set("controlled",e.controlled),t.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}},{key:"getState",value:function(){return t.size?{action:t.get("action")||"",controlled:t.get("controlled")||!1,index:parseInt(t.get("index"),10),lifecycle:t.get("lifecycle")||"",size:t.get("size")||0,status:t.get("status")||""}:W({},de)}},{key:"getNextState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getState(),r=n.action,o=n.controlled,i=n.index,a=n.size,s=n.status,l=f.number(e.index)?e.index:i,c=o&&!t?i:Math.min(Math.max(l,0),a);return{action:e.action||r,controlled:o,index:c,lifecycle:e.lifecycle||X.INIT,size:e.size||a,status:c===a?Q.FINISHED:e.status||s}}},{key:"hasUpdatedState",value:function(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}},{key:"getSteps",value:function(){var e=n.get("steps");return Array.isArray(e)?e:[]}},{key:"getHelpers",value:function(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}}]),e}())(e)}function he(){return document.scrollingElement||document.createElement("body")}function me(e){return e?e.getBoundingClientRect():{}}function be(e){return"string"==typeof e?document.querySelector(e):e}function ge(e){return e&&1===e.nodeType?getComputedStyle(e):{}}function ve(e,t,n){var r=P()(e);return r.isSameNode(he())?n?document:he():r.scrollHeight>r.offsetHeight||t?r:(r.style.overflow="initial",he())}function ye(e,t){return!!e&&!ve(e,t).isSameNode(he())}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed";if(!(e&&e instanceof HTMLElement))return!1;var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&(ge(e).position===t||Ee(e.parentNode,t))}function we(e){return e instanceof HTMLElement?e.offsetParent instanceof HTMLElement?we(e.offsetParent)+e.offsetTop:e.offsetTop:0}function Oe(e,t,n){if(!e)return 0;var r=P()(e),o=we(e);return ye(e,n)&&!function(e){return e.offsetParent!==document.body}(e)&&(o-=we(r)),Math.floor(o-t)}!function(e){function t(t,n,r,o,i,a){var s=o||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required ".concat(i," `").concat(l,"` was not specified in `").concat(s,"`.")):null;for(var c=arguments.length,u=new Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,s,i,l].concat(u))}var n=t.bind(null,!1);n.isRequired=t.bind(null,!0)}((function(e,t,n,r,i){var a=e[t],s=a;if(!o.a.isValidElement(a)&&Object(j.isValidElementType)(a)){var l={ref:function(){},step:{}};s=o.a.createElement(s,l)}if(f.string(a)||f.number(a)||!Object(j.isValidElementType)(a)||-1===[j.Element,j.ForwardRef].indexOf(Object(j.typeOf)(s)))return new Error("Invalid ".concat(r," `").concat(i,"` supplied to `").concat(n,"`. Expected a React class or forwardRef."))}));var Se={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",zIndex:100},Ce={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},_e={borderRadius:4,position:"absolute"};var ke={floaterProps:{options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},locale:{back:"Back",close:"Close",last:"Last",next:"Next",open:"Open the dialog",skip:"Skip"},step:{event:"click",placement:"bottom",offset:10}};function xe(e){var t=["beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent"];return Object.keys(e).filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}function Ie(e,t){if(!e)return null;var n=R.a.all([xe(t),ke.step,e],{isMergeableObject:f.plainObject}),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=R()(Se,e.options||{}),n=290;window.innerWidth>480&&(n=380),t.width&&(n=window.innerWidth<t.width?window.innerWidth-30:t.width);var r={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:t.zIndex},o={beacon:W(W({},Ce),{},{display:"inline-block",height:t.beaconSize,position:"relative",width:t.beaconSize,zIndex:t.zIndex}),beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:t.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(".concat(se(t.primaryColor).join(","),", 0.2)"),border:"2px solid ".concat(t.primaryColor),borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:t.backgroundColor,borderRadius:5,boxSizing:"border-box",color:t.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:n},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:W(W({},Ce),{},{backgroundColor:t.primaryColor,borderRadius:4,color:"#fff"}),buttonBack:W(W({},Ce),{},{color:t.primaryColor,marginLeft:"auto",marginRight:5}),buttonClose:W(W({},Ce),{},{color:t.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14}),buttonSkip:W(W({},Ce),{},{color:t.textColor,fontSize:14}),overlay:W(W({},r),{},{backgroundColor:t.overlayColor,mixBlendMode:"hard-light"}),overlayLegacy:W({},r),overlayLegacyCenter:W(W({},r),{},{backgroundColor:t.overlayColor}),spotlight:W(W({},_e),{},{backgroundColor:"gray"}),spotlightLegacy:W(W({},_e),{},{boxShadow:"0 0 0 9999px ".concat(t.overlayColor,", ").concat(t.spotlightShadow)}),floaterStyles:{arrow:{color:t.arrowColor},options:{zIndex:t.zIndex}},options:t};return R()(o,e)}(R()(t.styles||{},e.styles||{})),o=ye(be(e.target),n.disableScrollParentFix),i=R.a.all([t.floaterProps||{},ke.floaterProps,n.floaterProps||{}]);return i.offset=n.offset,i.styles=R()(i.styles||{},r.floaterStyles||{}),delete r.floaterStyles,i.offset+=t.spotlightPadding||e.spotlightPadding||0,e.placementBeacon&&(i.wrapperOptions.placement=e.placementBeacon),o&&(i.options.preventOverflow.boundariesElement="window"),W(W({},n),{},{locale:R.a.all([ke.locale,t.locale||{},n.locale||{}]),floaterProps:i,styles:r})}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f.plainObject(e)?!!e.target||(ue({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(ue({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f.array(e)?e.every((function(e){return Te(e,t)})):(ue({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var Pe=function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(M(this,e),F(this,"element",void 0),F(this,"options",void 0),F(this,"canBeTabbed",(function(e){var t=e.tabIndex;return(null===t||t<0)&&(t=void 0),!isNaN(t)&&n.canHaveFocus(e)})),F(this,"canHaveFocus",(function(e){var t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&n.isVisible(e)})),F(this,"findValidTabElements",(function(){return[].slice.call(n.element.querySelectorAll("*"),0).filter(n.canBeTabbed)})),F(this,"handleKeyDown",(function(e){var t=n.options.keyCode,r=void 0===t?9:t;e.keyCode===r&&n.interceptTab(e)})),F(this,"interceptTab",(function(e){e.preventDefault();var t=n.findValidTabElements(),r=e.shiftKey;if(t.length){var o=t.indexOf(document.activeElement);-1===o||!r&&o+1===t.length?o=0:r&&0===o?o=t.length-1:o+=r?-1:1,t[o].focus()}})),F(this,"isHidden",(function(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0,n=window.getComputedStyle(e);return!(!t||e.innerHTML)||(t&&"visible"!==n.getPropertyValue("overflow")||"none"===n.getPropertyValue("display"))})),F(this,"isVisible",(function(e){for(var t=e;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(n.isHidden(t))return!1;t=t.parentNode}return!0})),F(this,"removeScope",(function(){window.removeEventListener("keydown",n.handleKeyDown)})),F(this,"checkFocus",(function(e){document.activeElement!==e&&(e.focus(),window.requestAnimationFrame((function(){return n.checkFocus(e)})))})),F(this,"setFocus",(function(){var e=n.options.selector;if(e){var t=n.element.querySelector(e);t&&window.requestAnimationFrame((function(){return n.checkFocus(t)}))}})),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=r,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()},je=function(e){H(n,e);var t=$(n);function n(e){var r;if(M(this,n),F(K(r=t.call(this,e)),"setBeaconRef",(function(e){r.beacon=e})),!e.beaconComponent){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.id="joyride-beacon-animation",i.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),o.appendChild(i)}return r}return L(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.shouldFocus;setTimeout((function(){f.domElement(e.beacon)&&t&&e.beacon.focus()}),0)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("joyride-beacon-animation");e&&e.parentNode.removeChild(e)}},{key:"render",value:function(){var e,t=this.props,n=t.beaconComponent,r=t.locale,i=t.onClickOrHover,a=t.styles,s={"aria-label":r.open,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:r.open};if(n){var l=n;e=o.a.createElement(l,s)}else e=o.a.createElement("button",q({key:"JoyrideBeacon",className:"react-joyride__beacon",style:a.beacon,type:"button"},s),o.a.createElement("span",{style:a.beaconInner}),o.a.createElement("span",{style:a.beaconOuter}));return e}}]),n}(o.a.Component),De=function(e){var t=e.styles;return o.a.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight",style:t})},Re=function(e){H(n,e);var t=$(n);function n(){var e;M(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return F(K(e=t.call.apply(t,[this].concat(o))),"_isMounted",!1),F(K(e),"state",{mouseOverSpotlight:!1,isScrolling:!1,showSpotlight:!0}),F(K(e),"handleMouseMove",(function(t){var n=e.state.mouseOverSpotlight,r=e.spotlightStyles,o=r.height,i=r.left,a=r.position,s=r.top,l=r.width,c="fixed"===a?t.clientY:t.pageY,u="fixed"===a?t.clientX:t.pageX,d=u>=i&&u<=i+l&&(c>=s&&c<=s+o);d!==n&&e.updateState({mouseOverSpotlight:d})})),F(K(e),"handleScroll",(function(){var t=be(e.props.target);e.scrollParent!==document?(e.state.isScrolling||e.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout((function(){e.updateState({isScrolling:!1,showSpotlight:!0})}),50)):Ee(t,"sticky")&&e.updateState({})})),F(K(e),"handleResize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){e._isMounted&&e.forceUpdate()}),100)})),e}return L(n,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.debug,e.disableScrolling,e.disableScrollParentFix),n=be(e.target);this.scrollParent=ve(n,t,!0),this._isMounted=!0,window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.lifecycle,o=n.spotlightClicks,i=S(e,this.props).changed;i("lifecycle",X.TOOLTIP)&&(this.scrollParent.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout((function(){t.state.isScrolling||t.updateState({showSpotlight:!0})}),100)),(i("spotlightClicks")||i("disableOverlay")||i("lifecycle"))&&(o&&r===X.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==X.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),this.scrollParent.removeEventListener("scroll",this.handleScroll)}},{key:"updateState",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this.state,t=e.mouseOverSpotlight,n=e.showSpotlight,r=this.props,i=r.disableOverlay,a=r.disableOverlayClose,s=r.lifecycle,l=r.onClickOverlay,c=r.placement,u=r.styles;if(i||s!==X.TOOLTIP)return null;var d=u.overlay;ce()&&(d="center"===c?u.overlayLegacyCenter:u.overlayLegacy);var p,f,h,m=W({cursor:a?"default":"pointer",height:(p=document,f=p.body,h=p.documentElement,f&&h?Math.max(f.scrollHeight,f.offsetHeight,h.clientHeight,h.scrollHeight,h.offsetHeight):0),pointerEvents:t?"none":"auto"},d),b="center"!==c&&n&&o.a.createElement(De,{styles:this.spotlightStyles});if("safari"===ne()){m.mixBlendMode,m.zIndex;var g=V(m,["mixBlendMode","zIndex"]);b=o.a.createElement("div",{style:W({},g)},b),delete m.backgroundColor}return o.a.createElement("div",{className:"react-joyride__overlay",style:m,onClick:l},b)}},{key:"spotlightStyles",get:function(){var e=this.state.showSpotlight,t=this.props,n=t.disableScrollParentFix,r=t.spotlightClicks,o=t.spotlightPadding,i=t.styles,a=be(t.target),s=me(a),l=Ee(a),c=function(e,t,n){var r=me(e),o=ve(e,n),i=ye(e,n),a=0;o instanceof HTMLElement&&(a=o.scrollTop);var s=r.top+(i||Ee(e)?0:a);return Math.floor(s-t)}(a,o,n);return W(W({},ce()?i.spotlightLegacy:i.spotlight),{},{height:Math.round(s.height+2*o),left:Math.round(s.left-o),opacity:e?1:0,pointerEvents:r?"none":"auto",position:l?"fixed":"absolute",top:c,transition:"opacity 0.2s",width:Math.round(s.width+2*o)})}}]),n}(o.a.Component),Ne=function(e){var t=e.styles,n=V(e,["styles"]),r=t.color,i=t.height,a=t.width,s=V(t,["color","height","width"]);return o.a.createElement("button",q({style:s,type:"button"},n),o.a.createElement("svg",{width:"number"==typeof a?"".concat(a,"px"):a,height:"number"==typeof i?"".concat(i,"px"):i,viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},o.a.createElement("g",null,o.a.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))},Me=function(e){H(n,e);var t=$(n);function n(){return M(this,n),t.apply(this,arguments)}return L(n,[{key:"render",value:function(){var e=this.props,t=e.backProps,n=e.closeProps,r=e.continuous,i=e.index,a=e.isLastStep,s=e.primaryProps,l=e.size,c=e.skipProps,u=e.step,d=e.tooltipProps,p=u.content,f=u.hideBackButton,h=u.hideCloseButton,m=u.hideFooter,b=u.showProgress,g=u.showSkipButton,v=u.title,y=u.styles,E=u.locale,w=E.back,O=E.close,S=E.last,C=E.next,_=E.skip,k={primary:O};return r&&(k.primary=a?S:C,b&&(k.primary=o.a.createElement("span",null,k.primary," (",i+1,"/",l,")"))),g&&!a&&(k.skip=o.a.createElement("button",q({style:y.buttonSkip,type:"button","aria-live":"off"},c),_)),!f&&i>0&&(k.back=o.a.createElement("button",q({style:y.buttonBack,type:"button"},t),w)),k.close=!h&&o.a.createElement(Ne,q({styles:y.buttonClose},n)),o.a.createElement("div",q({key:"JoyrideTooltip",className:"react-joyride__tooltip",style:y.tooltip},d),o.a.createElement("div",{style:y.tooltipContainer},v&&o.a.createElement("h4",{style:y.tooltipTitle,"aria-label":v},v),o.a.createElement("div",{style:y.tooltipContent},p)),!m&&o.a.createElement("div",{style:y.tooltipFooter},o.a.createElement("div",{style:y.tooltipFooterSpacer},k.skip),k.back,o.a.createElement("button",q({style:y.buttonNext,type:"button"},s),k.primary)),k.close)}}]),n}(o.a.Component),Be=function(e){H(n,e);var t=$(n);function n(){var e;M(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return F(K(e=t.call.apply(t,[this].concat(o))),"handleClickBack",(function(t){t.preventDefault(),e.props.helpers.prev()})),F(K(e),"handleClickClose",(function(t){t.preventDefault(),e.props.helpers.close()})),F(K(e),"handleClickPrimary",(function(t){t.preventDefault();var n=e.props,r=n.continuous,o=n.helpers;r?o.next():o.close()})),F(K(e),"handleClickSkip",(function(t){t.preventDefault(),e.props.helpers.skip()})),F(K(e),"getElementsProps",(function(){var t=e.props,n=t.continuous,r=t.isLastStep,o=t.setTooltipRef,i=t.step,a=oe(i.locale.back),s=oe(i.locale.close),l=oe(i.locale.last),c=oe(i.locale.next),u=oe(i.locale.skip),d=n?c:s;return r&&(d=l),{backProps:{"aria-label":a,"data-action":"back",onClick:e.handleClickBack,role:"button",title:a},closeProps:{"aria-label":s,"data-action":"close",onClick:e.handleClickClose,role:"button",title:s},primaryProps:{"aria-label":d,"data-action":"primary",onClick:e.handleClickPrimary,role:"button",title:d},skipProps:{"aria-label":u,"data-action":"skip",onClick:e.handleClickSkip,role:"button",title:u},tooltipProps:{"aria-modal":!0,ref:o,role:"alertdialog"}}})),e}return L(n,[{key:"render",value:function(){var e,t=this.props,n=t.continuous,r=t.index,i=t.isLastStep,a=t.size,s=t.step,l=(s.beaconComponent,s.tooltipComponent),c=V(s,["beaconComponent","tooltipComponent"]);if(l){var u=W(W({},this.getElementsProps()),{},{continuous:n,index:r,isLastStep:i,size:a,step:c}),d=l;e=o.a.createElement(d,u)}else e=o.a.createElement(Me,q({},this.getElementsProps(),{continuous:n,index:r,isLastStep:i,size:a,step:s}));return e}}]),n}(o.a.Component),Le=function(e){H(n,e);var t=$(n);function n(e){var r;return M(this,n),r=t.call(this,e),ee?(r.node=document.createElement("div"),e.id&&(r.node.id=e.id),document.body.appendChild(r.node),r):Y(r)}return L(n,[{key:"componentDidMount",value:function(){ee&&(te||this.renderReact15())}},{key:"componentDidUpdate",value:function(){ee&&(te||this.renderReact15())}},{key:"componentWillUnmount",value:function(){ee&&this.node&&(te||_.a.unmountComponentAtNode(this.node),document.body.removeChild(this.node))}},{key:"renderReact15",value:function(){if(!ee)return null;var e=this.props.children;return _.a.unstable_renderSubtreeIntoContainer(this,e,this.node),null}},{key:"renderReact16",value:function(){if(!ee||!te)return null;var e=this.props.children;return _.a.createPortal(e,this.node)}},{key:"render",value:function(){return te?this.renderReact16():null}}]),n}(o.a.Component),Fe=function(e){H(n,e);var t=$(n);function n(){var e;M(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return F(K(e=t.call.apply(t,[this].concat(o))),"scope",{removeScope:function(){}}),F(K(e),"handleClickHoverBeacon",(function(t){var n=e.props,r=n.step,o=n.update;"mouseenter"===t.type&&"hover"!==r.event||o({lifecycle:X.TOOLTIP})})),F(K(e),"handleClickOverlay",(function(){var t=e.props,n=t.helpers;t.step.disableOverlayClose||n.close()})),F(K(e),"setTooltipRef",(function(t){e.tooltip=t})),F(K(e),"setPopper",(function(t,n){var r=e.props,o=r.action,i=r.setPopper,a=r.update;"wrapper"===n?e.beaconPopper=t:e.tooltipPopper=t,i(t,n),e.beaconPopper&&e.tooltipPopper&&a({action:o===J.CLOSE?J.CLOSE:o,lifecycle:X.READY})})),e}return L(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.debug,n=e.index;ue({title:"step:".concat(n),data:[{key:"props",value:this.props}],debug:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.action,r=t.callback,o=t.continuous,i=t.controlled,a=t.debug,s=t.index,l=t.lifecycle,c=t.size,u=t.status,d=t.step,p=t.update,f=S(e,this.props),h=f.changed,m=f.changedFrom,b={action:n,controlled:i,index:s,lifecycle:l,size:c,status:u},g=o&&n!==J.CLOSE&&(s>0||n===J.PREV),v=h("action")||h("index")||h("lifecycle")||h("status"),y=m("lifecycle",[X.TOOLTIP,X.INIT],X.INIT);if(h("action",[J.NEXT,J.PREV,J.SKIP,J.CLOSE])&&(y||i)&&r(W(W({},b),{},{index:e.index,lifecycle:X.COMPLETE,step:e.step,type:Z.STEP_AFTER})),v&&d){var E=be(d.target),w=!!E;w&&function(e){if(!e)return!1;for(var t=e;t&&t!==document.body;){if(t instanceof HTMLElement){var n=getComputedStyle(t),r=n.display,o=n.visibility;if("none"===r||"hidden"===o)return!1}t=t.parentNode}return!0}(E)?(m("status",Q.READY,Q.RUNNING)||m("lifecycle",X.INIT,X.READY))&&r(W(W({},b),{},{step:d,type:Z.STEP_BEFORE})):(console.warn(w?"Target not visible":"Target not mounted",d),r(W(W({},b),{},{type:Z.TARGET_NOT_FOUND,step:d})),i||p({index:s+(-1!==[J.PREV].indexOf(n)?-1:1)}))}m("lifecycle",X.INIT,X.READY)&&p({lifecycle:le(d)||g?X.TOOLTIP:X.BEACON}),h("index")&&ue({title:"step:".concat(l),data:[{key:"props",value:this.props}],debug:a}),h("lifecycle",X.BEACON)&&r(W(W({},b),{},{step:d,type:Z.BEACON})),h("lifecycle",X.TOOLTIP)&&(r(W(W({},b),{},{step:d,type:Z.TOOLTIP})),this.scope=new Pe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus()),m("lifecycle",[X.TOOLTIP,X.INIT],X.INIT)&&(this.scope.removeScope(),delete this.beaconPopper,delete this.tooltipPopper)}},{key:"componentWillUnmount",value:function(){this.scope.removeScope()}},{key:"render",value:function(){var e=this.props,t=e.continuous,n=e.debug,r=e.helpers,i=e.index,a=e.lifecycle,s=e.shouldScroll,l=e.size,c=e.step,u=be(c.target);return Te(c)&&f.domElement(u)?o.a.createElement("div",{key:"JoyrideStep-".concat(i),className:"react-joyride__step"},o.a.createElement(Le,{id:"react-joyride-portal"},o.a.createElement(Re,q({},c,{debug:n,lifecycle:a,onClickOverlay:this.handleClickOverlay}))),o.a.createElement(N.default,q({component:o.a.createElement(Be,{continuous:t,helpers:r,index:i,isLastStep:i+1===l,setTooltipRef:this.setTooltipRef,size:l,step:c}),debug:n,getPopper:this.setPopper,id:"react-joyride-step-".concat(i),isPositioned:c.isFixed||Ee(u),open:this.open,placement:c.placement,target:c.target},c.floaterProps),o.a.createElement(je,{beaconComponent:c.beaconComponent,locale:c.locale,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:s,styles:c.styles}))):null}},{key:"open",get:function(){var e=this.props,t=e.step,n=e.lifecycle;return!(!le(t)&&n!==X.TOOLTIP)}}]),n}(o.a.Component),qe=function(e){H(n,e);var t=$(n);function n(e){var r;return M(this,n),F(K(r=t.call(this,e)),"initStore",(function(){var e=r.props,t=e.debug,n=e.getHelpers,o=e.run,i=e.stepIndex;r.store=new fe(W(W({},r.props),{},{controlled:o&&f.number(i)})),r.helpers=r.store.getHelpers();var a=r.store.addListener;return ue({title:"init",data:[{key:"props",value:r.props},{key:"state",value:r.state}],debug:t}),a(r.syncState),n(r.helpers),r.store.getState()})),F(K(r),"callback",(function(e){var t=r.props.callback;f.function(t)&&t(e)})),F(K(r),"handleKeyboard",(function(e){var t=r.state,n=t.index,o=t.lifecycle,i=r.props.steps[n],a=window.Event?e.which:e.keyCode;o===X.TOOLTIP&&27===a&&i&&!i.disableCloseOnEsc&&r.store.close()})),F(K(r),"syncState",(function(e){r.setState(e)})),F(K(r),"setPopper",(function(e,t){"wrapper"===t?r.beaconPopper=e:r.tooltipPopper=e})),F(K(r),"shouldScroll",(function(e,t,n,r,o,i,a){return!e&&(0!==t||n||r===X.TOOLTIP)&&"center"!==o.placement&&(!o.isFixed||!Ee(i))&&a.lifecycle!==r&&-1!==[X.BEACON,X.TOOLTIP].indexOf(r)})),r.state=r.initStore(),r}return L(n,[{key:"componentDidMount",value:function(){if(ee){var e=this.props,t=e.disableCloseOnEsc,n=e.debug,r=e.run,o=e.steps,i=this.store.start;Ae(o,n)&&r&&i(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}}},{key:"componentDidUpdate",value:function(e,t){if(ee){var n=this.state,o=n.action,i=n.controlled,a=n.index,s=n.lifecycle,l=n.status,c=this.props,u=c.debug,d=c.run,p=c.stepIndex,h=c.steps,m=e.steps,b=e.stepIndex,g=this.store,v=g.setSteps,y=g.reset,E=g.start,w=g.stop,O=g.update,C=S(e,this.props).changed,_=S(t,this.state),k=_.changed,x=_.changedFrom,I=Ie(h[a],this.props),T=!function e(t,n){var o,i=Object(r.isValidElement)(t)||Object(r.isValidElement)(n),a=f.undefined(t)||f.undefined(n);if(re(t)!==re(n)||i||a)return!1;if(f.domElement(t))return t.isSameNode(n);if(f.number(t))return t===n;if(f.function(t))return t.toString()===n.toString();for(var s in t)if(ie(t,s)){if(void 0===t[s]||void 0===n[s])return!1;if(o=re(t[s]),-1!==["object","array"].indexOf(o)&&e(t[s],n[s]))continue;if("function"===o&&e(t[s],n[s]))continue;if(t[s]!==n[s])return!1}for(var l in n)if(ie(n,l)&&void 0===t[l])return!1;return!0}(m,h),A=f.number(p)&&C("stepIndex"),P=be(null==I?void 0:I.target);if(T&&(Ae(h,u)?v(h):console.warn("Steps are not valid",h)),C("run")&&(d?E(p):w()),A){var j=b<p?J.NEXT:J.PREV;o===J.STOP&&(j=J.START),-1===[Q.FINISHED,Q.SKIPPED].indexOf(l)&&O({action:o===J.CLOSE?J.CLOSE:j,index:p,lifecycle:X.INIT})}i||l!==Q.RUNNING||0!==a||P||(this.store.update({index:a+1}),this.callback(W(W({},this.state),{},{type:Z.TARGET_NOT_FOUND,step:I})));var D=W(W({},this.state),{},{index:a,step:I});if(k("action",[J.NEXT,J.PREV,J.SKIP,J.CLOSE])&&k("status",Q.PAUSED)){var R=Ie(h[t.index],this.props);this.callback(W(W({},D),{},{index:t.index,lifecycle:X.COMPLETE,step:R,type:Z.STEP_AFTER}))}if(k("status",[Q.FINISHED,Q.SKIPPED])){var N=Ie(h[t.index],this.props);i||this.callback(W(W({},D),{},{index:t.index,lifecycle:X.COMPLETE,step:N,type:Z.STEP_AFTER})),this.callback(W(W({},D),{},{type:Z.TOUR_END,step:N,index:t.index})),y()}else x("status",[Q.IDLE,Q.READY],Q.RUNNING)?this.callback(W(W({},D),{},{type:Z.TOUR_START})):(k("status")||k("action",J.RESET))&&this.callback(W(W({},D),{},{type:Z.TOUR_STATUS}));I&&(this.scrollToStep(t),"center"===I.placement&&l===Q.RUNNING&&s===X.INIT&&this.store.update({lifecycle:X.READY}))}}},{key:"componentWillUnmount",value:function(){this.props.disableCloseOnEsc||document.body.removeEventListener("keydown",this.handleKeyboard)}},{key:"scrollToStep",value:function(e){var t=this.state,n=t.index,r=t.lifecycle,o=t.status,i=this.props,a=i.debug,s=i.disableScrolling,l=i.disableScrollParentFix,c=i.scrollToFirstStep,u=i.scrollOffset,d=i.scrollDuration,p=Ie(i.steps[n],this.props);if(p){var f=be(p.target),h=this.shouldScroll(s,n,c,r,p,f,e);if(o===Q.RUNNING&&h){var m=ye(f,l),b=ve(f,l),g=Math.floor(Oe(f,u,l))||0;if(ue({title:"scrollToStep",data:[{key:"index",value:n},{key:"lifecycle",value:r},{key:"status",value:o}],debug:a}),r===X.BEACON&&this.beaconPopper){var v=this.beaconPopper,y=v.placement,E=v.popper;-1!==["bottom"].indexOf(y)||m||(g=Math.floor(E.top-u))}else if(r===X.TOOLTIP&&this.tooltipPopper){var w=this.tooltipPopper,O=w.flipped,S=w.placement,C=w.popper;-1===["top","right","left"].indexOf(S)||O||m?g-=p.spotlightPadding:g=Math.floor(C.top-u)}g=g>=0?g:0,o===Q.RUNNING&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he(),n=arguments.length>2?arguments[2]:void 0;new Promise((function(r,o){var i=t.scrollTop,a=e>i?e-i:i-e;T.a.top(t,e,{duration:a<100?50:n},(function(e){return e&&"Element already at target scroll position"!==e.message?o(e):r()}))}))}(g,b,d)}}}},{key:"render",value:function(){if(!ee)return null;var e,t=this.state,n=t.index,r=t.status,i=this.props,a=i.continuous,s=i.debug,l=i.disableScrolling,c=i.scrollToFirstStep,u=Ie(i.steps[n],this.props);return r===Q.RUNNING&&u&&(e=o.a.createElement(Fe,q({},this.state,{callback:this.callback,continuous:a,debug:s,setPopper:this.setPopper,helpers:this.helpers,shouldScroll:!l&&(0!==n||c),step:u,update:this.store.update}))),o.a.createElement("div",{className:"react-joyride"},e)}}]),n}(o.a.Component);F(qe,"defaultProps",{continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:function(){},hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]});t.default=qe},1448:function(e,t,n){"use strict";n.r(t),n.d(t,"Waypoint",(function(){return S}));var r=!("undefined"==typeof window||!window.document||!window.document.createElement);var o=void 0;function i(){return void 0===o&&(o=function(){if(!r)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(e){}return e}()),o}function a(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function s(e){this.target=e,this.events={}}s.prototype.getEventHandlers=function(e,t){var n,r=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[r]||(this.events[r]={handlers:[],handleEvent:void 0},this.events[r].nextHandlers=this.events[r].handlers),this.events[r]},s.prototype.handleEvent=function(e,t,n){var r=this.getEventHandlers(e,t);r.handlers=r.nextHandlers,r.handlers.forEach((function(e){e&&e(n)}))},s.prototype.add=function(e,t,n){var r=this,o=this.getEventHandlers(e,n);a(o),0===o.nextHandlers.length&&(o.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,o.handleEvent,n)),o.nextHandlers.push(t);var i=!0;return function(){if(i){i=!1,a(o);var s=o.nextHandlers.indexOf(t);o.nextHandlers.splice(s,1),0===o.nextHandlers.length&&(r.target&&r.target.removeEventListener(e,o.handleEvent,n),o.handleEvent=void 0)}}};function l(e,t,n,r){e.__consolidated_events_handlers__||(e.__consolidated_events_handlers__=new s(e));var o=function(e){if(e)return i()?e:!!e.capture}(r);return e.__consolidated_events_handlers__.add(t,n,o)}n(3);var c=n(2),u=n.n(c),d=n(47);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function g(e,t){var n,r=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"==typeof r)return r;var o=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"==typeof o?o*t:void 0}function v(e){return"string"==typeof e.type}var y;var E=[];function w(e){E.push(e),y||(y=setTimeout((function(){var e;for(y=null;e=E.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=E.indexOf(e);-1!==n&&(E.splice(n,1),!E.length&&y&&(clearTimeout(y),y=null))}}}var O={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=b(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).refElement=function(e){t._ref=e},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;i.getWindow()&&(this.cancelOnNextTick=w((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug,function(e,t){if(e&&!v(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=l(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=l(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;i.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=w((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){i.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var e=this.props,t=e.horizontal,n=e.scrollableAncestor;if(n)return function(e){return"window"===e?global.window:e}(n);for(var r=this._ref;r.parentNode;){if((r=r.parentNode)===document.body)return window;var o=window.getComputedStyle(r),i=(t?o.getPropertyValue("overflow-x"):o.getPropertyValue("overflow-y"))||o.getPropertyValue("overflow");if("auto"===i||"scroll"===i||"overlay"===i)return r}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop==0?"invisible":e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?"inside":e.viewportBottom<e.waypointTop?"below":e.waypointTop<e.viewportTop?"above":"invisible"}(t),r=this._previousPosition,o=this.props,i=(o.debug,o.onPositionChange),a=o.onEnter,s=o.onLeave,l=o.fireOnRapidScroll;if(this._previousPosition=n,r!==n){var c={currentPosition:n,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};i.call(this,c),"inside"===n?a.call(this,c):"inside"===r&&s.call(this,c),l&&("below"===r&&"above"===n||"above"===r&&"below"===n)&&(a.call(this,{currentPosition:"inside",previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),s.call(this,{currentPosition:n,previousPosition:"inside",event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,n=this.props,r=n.horizontal,o=(n.debug,this._ref.getBoundingClientRect()),i=o.left,a=o.top,s=o.right,l=o.bottom,c=r?i:a,u=r?s:l;this.scrollableAncestor===window?(e=r?window.innerWidth:window.innerHeight,t=0):(e=r?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=r?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var d=this.props,p=d.bottomOffset;return{waypointTop:c,waypointBottom:u,viewportTop:t+g(d.topOffset,e),viewportBottom:t+e-g(p,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?v(t)||Object(d.isForwardRef)(t)?u.a.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"==typeof t.ref?t.ref(n):t.ref.current=n)}}):u.a.cloneElement(t,{innerRef:this.refElement}):u.a.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&p(t.prototype,n),r&&p(t,r),i}(u.a.PureComponent);S.above="above",S.below="below",S.inside="inside",S.invisible="invisible",S.getWindow=function(){if("undefined"!=typeof window)return window},S.defaultProps=O,S.displayName="Waypoint"},15:function(e,t){e.exports=require("util")},150:function(e,t){e.exports=require("buffer")},158:function(e,t){e.exports=require("tls")},17:function(e,t){e.exports=require("crypto")},177:function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},18:function(e,t){e.exports=require("electron")},21:function(e,t){e.exports=require("path")},23:function(e,t){e.exports=require("fs")},231:function(e,t,n){"use strict";var r=n(2),o=n(1231);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=o(r.Component,r.isValidElement,i)},233:function(e,t,n){var r=n(1254),o=function(){return!this}();function i(e,t){this.name="AuthTokenExpiredError",this.message=e,this.expiry=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function a(e){this.name="AuthTokenInvalidError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function s(e,t){this.name="AuthTokenNotBeforeError",this.message=e,this.date=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(e){this.name="AuthTokenError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(e){this.name="AuthError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(e,t){this.name="SilentMiddlewareBlockedError",this.message=e,this.type=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(e){this.name="InvalidActionError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(e){this.name="InvalidArgumentsError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(e){this.name="InvalidOptionsError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(e){this.name="InvalidMessageError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(e,t){this.name="SocketProtocolError",this.message=e,this.code=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(e){this.name="ServerProtocolError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(e){this.name="HTTPServerError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function v(e){this.name="ResourceLimitError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(e){this.name="TimeoutError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function E(e,t){this.name="BadConnectionError",this.message=e,this.type=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function w(e){this.name="BrokerError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function O(e,t){this.name="ProcessExitError",this.message=e,this.code=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function S(e){this.name="UnknownError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}i.prototype=Object.create(Error.prototype),a.prototype=Object.create(Error.prototype),s.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),v.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),E.prototype=Object.create(Error.prototype),w.prototype=Object.create(Error.prototype),O.prototype=Object.create(Error.prototype),S.prototype=Object.create(Error.prototype),e.exports={AuthTokenExpiredError:i,AuthTokenInvalidError:a,AuthTokenNotBeforeError:s,AuthTokenError:l,AuthError:c,SilentMiddlewareBlockedError:u,InvalidActionError:d,InvalidArgumentsError:p,InvalidOptionsError:f,InvalidMessageError:h,SocketProtocolError:m,ServerProtocolError:b,HTTPServerError:g,ResourceLimitError:v,TimeoutError:y,BadConnectionError:E,BrokerError:w,ProcessExitError:O,UnknownError:S},e.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4e3:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out",4008:"Server rejected handshake from client",4009:"Server received a message before the client handshake"},e.exports.socketProtocolIgnoreStatuses={1e3:"Socket closed normally",1001:"Socket hung up"};var C={domain:1,domainEmitter:1,domainThrown:1};e.exports.dehydrateError=function(e,t){var n;if(e&&"object"==typeof e)for(var o in n={message:e.message},t&&(n.stack=e.stack),e)C[o]||(n[o]=e[o]);else n="function"==typeof e?"[function "+(e.name||"anonymous")+"]":e;return r(n)},e.exports.hydrateError=function(e){var t=null;if(null!=e)if("object"==typeof e)for(var n in t=new Error(e.message),e)e.hasOwnProperty(n)&&(t[n]=e[n]);else t=e;return t},e.exports.decycle=r},237:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=n(361),l=n.n(s),c="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,u=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(c&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var d=c&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),u))}};function p(e){return e&&"[object Function]"==={}.toString.call(e)}function f(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function h(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function m(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=f(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:m(h(e))}function b(e){return e&&e.referenceNode?e.referenceNode:e}var g=c&&!(!window.MSInputMethodContext||!document.documentMode),v=c&&/MSIE 10/.test(navigator.userAgent);function y(e){return 11===e?g:10===e?v:g||v}function E(e){if(!e)return document.documentElement;for(var t=y(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===f(n,"position")?E(n):n:e?e.ownerDocument.documentElement:document.documentElement}function w(e){return null!==e.parentNode?w(e.parentNode):e}function O(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,l=i.commonAncestorContainer;if(e!==l&&t!==l||r.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&E(a.firstElementChild)!==a?E(l):l;var c=w(e);return c.host?O(c.host,t):O(e,w(t).host)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[n]}return e[n]}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=S(t,"top"),o=S(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function _(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function k(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],y(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function x(e){var t=e.body,n=e.documentElement,r=y(10)&&getComputedStyle(n);return{height:k("Height",t,n,r),width:k("Width",t,n,r)}}var I=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function j(e){return P({},e,{right:e.left+e.width,bottom:e.top+e.height})}function D(e){var t={};try{if(y(10)){t=e.getBoundingClientRect();var n=S(e,"top"),r=S(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?x(e.ownerDocument):{},a=i.width||e.clientWidth||o.width,s=i.height||e.clientHeight||o.height,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var u=f(e);l-=_(u,"x"),c-=_(u,"y"),o.width-=l,o.height-=c}return j(o)}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(10),o="HTML"===t.nodeName,i=D(e),a=D(t),s=m(e),l=f(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=j({top:i.top-a.top-c,left:i.left-a.left-u,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var p=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);d.top-=c-p,d.bottom-=c-p,d.left-=u-h,d.right-=u-h,d.marginTop=p,d.marginLeft=h}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=C(d,t)),d}function N(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=R(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:S(n),s=t?0:S(n,"left"),l={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i};return j(l)}function M(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===f(e,"position"))return!0;var n=h(e);return!!n&&M(n)}function B(e){if(!e||!e.parentElement||y())return document.documentElement;for(var t=e.parentElement;t&&"none"===f(t,"transform");)t=t.parentElement;return t||document.documentElement}function L(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?B(e):O(e,b(t));if("viewport"===r)i=N(a,o);else{var s=void 0;"scrollParent"===r?"BODY"===(s=m(h(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=R(s,a,o);if("HTML"!==s.nodeName||M(a))i=l;else{var c=x(e.ownerDocument),u=c.height,d=c.width;i.top+=l.top-l.marginTop,i.bottom=u+l.top,i.left+=l.left-l.marginLeft,i.right=d+l.left}}var p="number"==typeof(n=n||0);return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function F(e){return e.width*e.height}function q(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=L(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return P({key:e},s[e],{area:F(s[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function U(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?B(t):O(t,b(n));return R(n,o,r)}function W(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function H(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function z(e,t,n){n=n.split("-")[0];var r=W(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[l]/2-r[l]/2,o[s]=n===s?t[s]-r[c]:t[H(s)],o}function G(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function V(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=G(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&p(n)&&(t.offsets.popper=j(t.offsets.popper),t.offsets.reference=j(t.offsets.reference),t=n(t,e))})),t}function K(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=U(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=q(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=z(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=V(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Y(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function $(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function J(){return this.state.isDestroyed=!0,Y(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[$("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Z(e){var t=e.ownerDocument;return t?t.defaultView:window}function X(e,t,n,r){n.updateBound=r,Z(e).addEventListener("resize",n.updateBound,{passive:!0});var o=m(e);return function e(t,n,r,o){var i="BODY"===t.nodeName,a=i?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),i||e(m(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Q(){this.state.eventsEnabled||(this.state=X(this.reference,this.options,this.state,this.scheduleUpdate))}function ee(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function te(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ne(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&te(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var re=c&&/Firefox/i.test(navigator.userAgent);function oe(e,t,n){var r=G(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var ie=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ae=ie.slice(3);function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ae.indexOf(e),r=ae.slice(n+1).concat(ae.slice(0,n));return t?r.reverse():r}var le="flip",ce="clockwise",ue="counterclockwise";function de(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(G(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return j(s)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){te(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var pe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:A({},l,i[l]),end:A({},l,i[l]+i[c]-a[c])};e.offsets.popper=P({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],l=void 0;return l=te(+n)?[+n,0]:de(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||E(e.instance.popper);e.instance.reference===n&&(n=E(n));var r=$("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var l=L(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),A({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),A({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=P({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!oe(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),p=l?"left":"top",h=l?"bottom":"right",m=W(r)[c];s[h]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(s[h]-m)),s[d]+m>a[h]&&(e.offsets.popper[d]+=s[d]+m-a[h]),e.offsets.popper=j(e.offsets.popper);var b=s[d]+s[c]/2-m/2,g=f(e.instance.popper),v=parseFloat(g["margin"+u]),y=parseFloat(g["border"+u+"Width"]),E=b-e.offsets.popper[d]-v-y;return E=Math.max(Math.min(a[c]-m,E),0),e.arrowElement=r,e.offsets.arrow=(A(n={},d,Math.round(E)),A(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Y(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=L(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=H(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case le:a=[r,o];break;case ce:a=se(r);break;case ue:a=se(r,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],o=H(r);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),h=d(c.right)>d(n.right),m=d(c.top)<d(n.top),b=d(c.bottom)>d(n.bottom),g="left"===r&&f||"right"===r&&h||"top"===r&&m||"bottom"===r&&b,v=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(v&&"start"===i&&f||v&&"end"===i&&h||!v&&"start"===i&&m||!v&&"end"===i&&b),E=!!t.flipVariationsByContent&&(v&&"start"===i&&h||v&&"end"===i&&f||!v&&"start"===i&&b||!v&&"end"===i&&m),w=y||E;(p||g||w)&&(e.flipped=!0,(p||g)&&(r=a[l+1]),w&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=P({},e.offsets.popper,z(e.instance.popper,e.offsets.reference,e.placement)),e=V(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=H(t),e.offsets.popper=j(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!oe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=G(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=G(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=E(e.instance.popper),l=D(s),c={position:o.position},u=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},l=i(o.width),c=i(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||l%2==c%2?i:a:s,f=t?i:s;return{left:p(l%2==1&&c%2==1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!re),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",f=$("transform"),h=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,h="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&f)c[f]="translate3d("+h+"px, "+m+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var b="bottom"===d?-1:1,g="right"===p?-1:1;c[d]=m*b,c[p]=h*g,c.willChange=d+", "+p}var v={"x-placement":e.placement};return e.attributes=P({},v,e.attributes),e.styles=P({},c,e.styles),e.arrowStyles=P({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return ne(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&ne(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=U(o,t,e,n.positionFixed),a=q(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),ne(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},fe=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};I(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=d(this.update.bind(this)),this.options=P({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(P({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=P({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return P({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&p(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return T(e,[{key:"update",value:function(){return K.call(this)}},{key:"destroy",value:function(){return J.call(this)}},{key:"enableEventListeners",value:function(){return Q.call(this)}},{key:"disableEventListeners",value:function(){return ee.call(this)}}]),e}();fe.Utils=("undefined"!=typeof window?window:global).PopperUtils,fe.placements=ie,fe.Defaults=pe;var he=fe,me=n(62),be=n.n(me),ge=n(56),ve=n.n(ge),ye=n(625),Ee=n.n(ye),we=n(11),Oe=n.n(we),Se=n(177);function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Re(e):t}var Me={flip:{padding:20},preventOverflow:{padding:10}},Be={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},Le=n.n(Se).a.canUseDOM,Fe=void 0!==Oe.a.createPortal;function qe(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Ue(e){var t=e.title,n=e.data,r=e.warn,o=void 0!==r&&r,i=e.debug,a=void 0!==i&&i,s=o?console.warn||console.error:console.log;a&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){ve.a.plainObject(e)&&e.key?s.apply(console,[e.key,e.value]):s.apply(console,[e])})):s.apply(console,[n]),console.groupEnd())}function We(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r)}function He(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}function ze(){}var Ge=function(e){function t(e){var n;return Ce(this,t),n=Ne(this,Pe(t).call(this,e)),Le?(n.node=document.createElement("div"),e.id&&(n.node.id=e.id),e.zIndex&&(n.node.style.zIndex=e.zIndex),document.body.appendChild(n.node),n):Ne(n)}return Ae(t,e),ke(t,[{key:"componentDidMount",value:function(){Le&&(Fe||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Le&&(Fe||this.renderPortal())}},{key:"componentWillUnmount",value:function(){Le&&this.node&&(Fe||Oe.a.unmountComponentAtNode(this.node),document.body.removeChild(this.node))}},{key:"renderPortal",value:function(){if(!Le)return null;var e=this.props,t=e.children,n=e.setRef;return Fe?Oe.a.createPortal(t,this.node):(n(Oe.a.unstable_renderSubtreeIntoContainer(this,t.length>1?o.a.createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,n=e.placement,r=e.target;return t||r||"center"===n?this.renderPortal():null}},{key:"render",value:function(){return Fe?this.renderReact16():null}}]),t}(o.a.Component);xe(Ge,"propTypes",{children:a.a.oneOfType([a.a.element,a.a.array]),hasChildren:a.a.bool,id:a.a.oneOfType([a.a.string,a.a.number]),placement:a.a.string,setRef:a.a.func.isRequired,target:a.a.oneOfType([a.a.object,a.a.string]),zIndex:a.a.number});var Ve=function(e){function t(){return Ce(this,t),Ne(this,Pe(t).apply(this,arguments))}return Ae(t,e),ke(t,[{key:"render",value:function(){var e,t=this.props,n=t.placement,r=t.setArrowRef,i=t.styles.arrow,a=i.color,s=i.display,l=i.length,c=i.margin,u=i.position,d=i.spread,p={display:s,position:u},f=d,h=l;return n.startsWith("top")?(e="0,0 ".concat(f/2,",").concat(h," ").concat(f,",0"),p.bottom=0,p.marginLeft=c,p.marginRight=c):n.startsWith("bottom")?(e="".concat(f,",").concat(h," ").concat(f/2,",0 0,").concat(h),p.top=0,p.marginLeft=c,p.marginRight=c):n.startsWith("left")?(h=d,e="0,0 ".concat(f=l,",").concat(h/2," 0,").concat(h),p.right=0,p.marginTop=c,p.marginBottom=c):n.startsWith("right")&&(h=d,e="".concat(f=l,",").concat(h," ").concat(f,",0 0,").concat(h/2),p.left=0,p.marginTop=c,p.marginBottom=c),o.a.createElement("div",{className:"__floater__arrow",style:this.parentStyle},o.a.createElement("span",{ref:r,style:p},o.a.createElement("svg",{width:f,height:h,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("polygon",{points:e,fill:a}))))}},{key:"parentStyle",get:function(){var e=this.props,t=e.placement,n=e.styles.arrow.length,r={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(r.bottom=0,r.left=0,r.right=0,r.height=n):t.startsWith("bottom")?(r.left=0,r.right=0,r.top=0,r.height=n):t.startsWith("left")?(r.right=0,r.top=0,r.bottom=0):t.startsWith("right")&&(r.left=0,r.top=0),r}}]),t}(o.a.Component);xe(Ve,"propTypes",{placement:a.a.string.isRequired,setArrowRef:a.a.func.isRequired,styles:a.a.object.isRequired});var Ke=function(e){var t=e.handleClick,n=e.styles,r=n.color,i=n.height,a=n.width,s=De(n,["color","height","width"]);return o.a.createElement("button",{"aria-label":"close",onClick:t,style:s,type:"button"},o.a.createElement("svg",{width:"".concat(a,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},o.a.createElement("g",null,o.a.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))};Ke.propTypes={handleClick:a.a.func.isRequired,styles:a.a.object.isRequired};var Ye=function(e){var t=e.content,n=e.footer,r=e.handleClick,i=e.open,a=e.positionWrapper,s=e.showCloseButton,l=e.title,c=e.styles,u={content:o.a.isValidElement(t)?t:o.a.createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(u.title=o.a.isValidElement(l)?l:o.a.createElement("div",{className:"__floater__title",style:c.title},l)),n&&(u.footer=o.a.isValidElement(n)?n:o.a.createElement("div",{className:"__floater__footer",style:c.footer},n)),!s&&!a||ve.a.boolean(i)||(u.close=o.a.createElement(Ke,{styles:c.close,handleClick:r})),o.a.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)};Ye.propTypes={content:a.a.node.isRequired,footer:a.a.node,handleClick:a.a.func.isRequired,open:a.a.bool,positionWrapper:a.a.bool.isRequired,showCloseButton:a.a.bool.isRequired,styles:a.a.object.isRequired,title:a.a.node};var $e=function(e){function t(){return Ce(this,t),Ne(this,Pe(t).apply(this,arguments))}return Ae(t,e),ke(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.handleClick,r=e.hideArrow,i=e.setFloaterRef,a=e.status,s={},l=["__floater"];return t?o.a.isValidElement(t)?s.content=o.a.cloneElement(t,{closeFn:n}):s.content=t({closeFn:n}):s.content=o.a.createElement(Ye,this.props),a===Be.OPEN&&l.push("__floater__open"),r||(s.arrow=o.a.createElement(Ve,this.props)),o.a.createElement("div",{ref:i,className:l.join(" "),style:this.style},o.a.createElement("div",{className:"__floater__body"},s.content,s.arrow))}},{key:"style",get:function(){var e=this.props,t=e.disableAnimation,n=e.component,r=e.placement,o=e.hideArrow,i=e.status,a=e.styles,s=a.arrow.length,l=a.floater,c=a.floaterCentered,u=a.floaterClosing,d=a.floaterOpening,p=a.floaterWithAnimation,f=a.floaterWithComponent,h={};return o||(r.startsWith("top")?h.padding="0 0 ".concat(s,"px"):r.startsWith("bottom")?h.padding="".concat(s,"px 0 0"):r.startsWith("left")?h.padding="0 ".concat(s,"px 0 0"):r.startsWith("right")&&(h.padding="0 0 0 ".concat(s,"px"))),-1!==[Be.OPENING,Be.OPEN].indexOf(i)&&(h=Te({},h,{},d)),i===Be.CLOSING&&(h=Te({},h,{},u)),i!==Be.OPEN||t||(h=Te({},h,{},p)),"center"===r&&(h=Te({},h,{},c)),n&&(h=Te({},h,{},f)),Te({},l,{},h)}}]),t}(o.a.Component);xe($e,"propTypes",{component:a.a.oneOfType([a.a.func,a.a.element]),content:a.a.node,disableAnimation:a.a.bool.isRequired,footer:a.a.node,handleClick:a.a.func.isRequired,hideArrow:a.a.bool.isRequired,open:a.a.bool,placement:a.a.string.isRequired,positionWrapper:a.a.bool.isRequired,setArrowRef:a.a.func.isRequired,setFloaterRef:a.a.func.isRequired,showCloseButton:a.a.bool,status:a.a.string.isRequired,styles:a.a.object.isRequired,title:a.a.node});var Je=function(e){function t(){return Ce(this,t),Ne(this,Pe(t).apply(this,arguments))}return Ae(t,e),ke(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.handleClick,i=t.handleMouseEnter,a=t.handleMouseLeave,s=t.setChildRef,l=t.setWrapperRef,c=t.style,u=t.styles;if(n)if(1===o.a.Children.count(n))if(o.a.isValidElement(n)){var d=ve.a.function(n.type)?"innerRef":"ref";e=o.a.cloneElement(o.a.Children.only(n),xe({},d,s))}else e=o.a.createElement("span",null,n);else e=n;return e?o.a.createElement("span",{ref:l,style:Te({},u,{},c),onClick:r,onMouseEnter:i,onMouseLeave:a},e):null}}]),t}(o.a.Component);xe(Je,"propTypes",{children:a.a.node,handleClick:a.a.func.isRequired,handleMouseEnter:a.a.func.isRequired,handleMouseLeave:a.a.func.isRequired,setChildRef:a.a.func.isRequired,setWrapperRef:a.a.func.isRequired,style:a.a.object,styles:a.a.object.isRequired});var Ze={zIndex:100};var Xe=["position","top","right","bottom","left"],Qe=function(e){function t(e){var n;return Ce(this,t),xe(Re(n=Ne(this,Pe(t).call(this,e))),"setArrowRef",(function(e){n.arrowRef=e})),xe(Re(n),"setChildRef",(function(e){n.childRef=e})),xe(Re(n),"setFloaterRef",(function(e){n.floaterRef||(n.floaterRef=e)})),xe(Re(n),"setWrapperRef",(function(e){n.wrapperRef=e})),xe(Re(n),"handleTransitionEnd",(function(){var e=n.state.status,t=n.props.callback;n.wrapperPopper&&n.wrapperPopper.instance.update(),n.setState({status:e===Be.OPENING?Be.OPEN:Be.IDLE},(function(){var e=n.state.status;t(e===Be.OPEN?"open":"close",n.props)}))})),xe(Re(n),"handleClick",(function(){var e=n.props,t=e.event,r=e.open;if(!ve.a.boolean(r)){var o=n.state,i=o.positionWrapper,a=o.status;("click"===n.event||"hover"===n.event&&i)&&(Ue({title:"click",data:[{event:t,status:a===Be.OPEN?"closing":"opening"}],debug:n.debug}),n.toggle())}})),xe(Re(n),"handleMouseEnter",(function(){var e=n.props,t=e.event,r=e.open;if(!ve.a.boolean(r)&&!qe()){var o=n.state.status;"hover"===n.event&&o===Be.IDLE&&(Ue({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:n.debug}),clearTimeout(n.eventDelayTimeout),n.toggle())}})),xe(Re(n),"handleMouseLeave",(function(){var e=n.props,t=e.event,r=e.eventDelay,o=e.open;if(!ve.a.boolean(o)&&!qe()){var i=n.state,a=i.status,s=i.positionWrapper;"hover"===n.event&&(Ue({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:n.debug}),r?-1===[Be.OPENING,Be.OPEN].indexOf(a)||s||n.eventDelayTimeout||(n.eventDelayTimeout=setTimeout((function(){delete n.eventDelayTimeout,n.toggle()}),1e3*r)):n.toggle(Be.IDLE))}})),n.state={currentPlacement:e.placement,positionWrapper:e.wrapperOptions.position&&!!e.target,status:Be.INIT,statusWrapper:Be.INIT},n._isMounted=!1,Le&&window.addEventListener("load",(function(){n.popper&&n.popper.instance.update(),n.wrapperPopper&&n.wrapperPopper.instance.update()})),n}return Ae(t,e),ke(t,[{key:"componentDidMount",value:function(){if(Le){var e=this.state.positionWrapper,t=this.props,n=t.children,r=t.open,o=t.target;this._isMounted=!0,Ue({title:"init",data:{hasChildren:!!n,hasTarget:!!o,isControlled:ve.a.boolean(r),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.initPopper(),!n&&o&&ve.a.boolean(r)}}},{key:"componentDidUpdate",value:function(e,t){if(Le){var n,r=this.props,o=r.autoOpen,i=r.open,a=r.target,s=r.wrapperOptions,l=Ee()(t,this.state),c=l.changedFrom,u=l.changedTo;if(e.open!==i)ve.a.boolean(i)&&(n=i?Be.OPENING:Be.CLOSING),this.toggle(n);e.wrapperOptions.position===s.position&&e.target===a||this.changeWrapperPosition(this.props),(u("status",Be.IDLE)&&i||c("status",Be.INIT,Be.IDLE)&&o)&&this.toggle(Be.OPEN),this.popper&&u("status",Be.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",Be.OPENING)||u("status",Be.CLOSING))&&function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];We(e,t,r=function(o){n(o),He(e,t,r)},o)}(this.floaterRef,"transitionend",this.handleTransitionEnd)}}},{key:"componentWillUnmount",value:function(){Le&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,n=this.state.positionWrapper,r=this.props,o=r.disableFlip,i=r.getPopper,a=r.hideArrow,s=r.offset,l=r.placement,c=r.wrapperOptions,u="top"===l||"bottom"===l?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===l)this.setState({status:Be.IDLE});else if(t&&this.floaterRef){var d=this.options,p=d.arrow,f=d.flip,h=d.offset,m=De(d,["arrow","flip","offset"]);new he(t,this.floaterRef,{placement:l,modifiers:Te({arrow:Te({enabled:!a,element:this.arrowRef},p),flip:Te({enabled:!o,behavior:u},f),offset:Te({offset:"0, ".concat(s,"px")},h)},m),onCreate:function(t){e.popper=t,i(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:Be.IDLE}),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)},onUpdate:function(t){e.popper=t;var n=e.state.currentPlacement;e._isMounted&&t.placement!==n&&e.setState({currentPlacement:t.placement})}})}if(n){var b=ve.a.undefined(c.offset)?0:c.offset;new he(this.target,this.wrapperRef,{placement:c.placement||l,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(b,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:Be.IDLE}),i(t,"wrapper"),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"changeWrapperPosition",value:function(e){var t=e.target,n=e.wrapperOptions;this.setState({positionWrapper:n.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===Be.OPEN?Be.CLOSING:Be.OPENING;ve.a.undefined(e)||(t=e),this.setState({status:t})}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,n=e.positionWrapper,r=e.status,i=this.props,a=i.children,s=i.component,l=i.content,c=i.disableAnimation,u=i.footer,d=i.hideArrow,p=i.id,f=i.open,h=i.showCloseButton,m=i.style,b=i.target,g=i.title,v=o.a.createElement(Je,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:m,styles:this.styles.wrapper},a),y={};return n?y.wrapperInPortal=v:y.wrapperAsChildren=v,o.a.createElement("span",null,o.a.createElement(Ge,{hasChildren:!!a,id:p,placement:t,setRef:this.setFloaterRef,target:b,zIndex:this.styles.options.zIndex},o.a.createElement($e,{component:s,content:l,disableAnimation:c,footer:u,handleClick:this.handleClick,hideArrow:d||"center"===t,open:f,placement:t,positionWrapper:n,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:h,status:r,styles:this.styles,title:g}),y.wrapperInPortal),y.wrapperAsChildren)}},{key:"debug",get:function(){return this.props.debug||!!global.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,n=e.event;return"hover"===n&&qe()&&!t?"click":n}},{key:"options",get:function(){var e=this.props.options;return be()(Me,e||{})}},{key:"styles",get:function(){var e,t=this,n=this.state,r=n.status,o=n.positionWrapper,i=n.statusWrapper,a=this.props.styles,s=be()(function(e){var t=be()(Ze,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(a),a);o&&(e=-1===[Be.IDLE].indexOf(r)||-1===[Be.IDLE].indexOf(i)?s.wrapperPosition:this.wrapperPopper.styles,s.wrapper=Te({},s.wrapper,{},e));if(this.target){var l=window.getComputedStyle(this.target);this.wrapperStyles?s.wrapper=Te({},s.wrapper,{},this.wrapperStyles):-1===["relative","static"].indexOf(l.position)&&(this.wrapperStyles={},o||(Xe.forEach((function(e){t.wrapperStyles[e]=l[e]})),s.wrapper=Te({},s.wrapper,{},this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return s}},{key:"target",get:function(){if(!Le)return null;var e=this.props.target;return e?ve.a.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}}]),t}(o.a.Component);xe(Qe,"propTypes",{autoOpen:a.a.bool,callback:a.a.func,children:a.a.node,component:l()(a.a.oneOfType([a.a.func,a.a.element]),(function(e){return!e.content})),content:l()(a.a.node,(function(e){return!e.component})),debug:a.a.bool,disableAnimation:a.a.bool,disableFlip:a.a.bool,disableHoverToClick:a.a.bool,event:a.a.oneOf(["hover","click"]),eventDelay:a.a.number,footer:a.a.node,getPopper:a.a.func,hideArrow:a.a.bool,id:a.a.oneOfType([a.a.string,a.a.number]),offset:a.a.number,open:a.a.bool,options:a.a.object,placement:a.a.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:a.a.bool,style:a.a.object,styles:a.a.object,target:a.a.oneOfType([a.a.object,a.a.string]),title:a.a.node,wrapperOptions:a.a.shape({offset:a.a.number,placement:a.a.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:a.a.bool})}),xe(Qe,"defaultProps",{autoOpen:!1,callback:ze,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:ze,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});t.default=Qe},277:function(e,t){e.exports=require("zlib")},321:function(e,t){e.exports=require("child_process")},322:function(e,t,n){var r;!function(o){var i=/^\s+/,a=/\s+$/,s=0,l=o.round,c=o.min,u=o.max,d=o.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,l=null,d=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,n=!1;if(A[e])e=A[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=H.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=H.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=H.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=H.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=H.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=H.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=H.hex8.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:F(t[4]),format:n?"name":"hex8"};if(t=H.hex6.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:n?"name":"hex"};if(t=H.hex4.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=H.hex3.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(f=e.r,h=e.g,m=e.b,t={r:255*D(f,255),g:255*D(h,255),b:255*D(m,255)},d=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(r=B(e.s),s=B(e.v),t=function(e,t,n){e=6*D(e,360),t=D(t,100),n=D(n,100);var r=o.floor(e),i=e-r,a=n*(1-t),s=n*(1-i*t),l=n*(1-(1-i)*t),c=r%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(e.h,r,s),d=!0,p="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(r=B(e.s),l=B(e.l),t=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=D(e,360),t=D(t,100),n=D(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,l),d=!0,p="hsl"),e.hasOwnProperty("a")&&(n=e.a));var f,h,m;return n=j(n),{ok:d,format:e.format||p,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function f(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,o,i=u(e,t,n),a=c(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,l:s}}function h(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,o,i=u(e,t,n),a=c(e,t,n),s=i,l=i-a;if(o=0===i?0:l/i,i==a)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,v:s}}function m(e,t,n,r){var o=[M(l(e).toString(16)),M(l(t).toString(16)),M(l(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function b(e,t,n,r){return[M(L(r)),M(l(e).toString(16)),M(l(t).toString(16)),M(l(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s-=t/100,n.s=R(n.s),p(n)}function v(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s+=t/100,n.s=R(n.s),p(n)}function y(e){return p(e).desaturate(100)}function E(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l+=t/100,n.l=R(n.l),p(n)}function w(e,t){t=0===t?0:t||10;var n=p(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),p(n)}function O(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l-=t/100,n.l=R(n.l),p(n)}function S(e,t){var n=p(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,p(n)}function C(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function _(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+120)%360,s:t.s,l:t.l}),p({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+90)%360,s:t.s,l:t.l}),p({h:(n+180)%360,s:t.s,l:t.l}),p({h:(n+270)%360,s:t.s,l:t.l})]}function x(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+72)%360,s:t.s,l:t.l}),p({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=p(e).toHsl(),o=360/n,i=[p(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(p(r));return i}function T(e,t){t=t||6;for(var n=p(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(p({h:r,s:o,v:i})),i=(i+s)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=j(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[M(l(e).toString(16)),M(l(t).toString(16)),M(l(n).toString(16)),M(L(r))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*D(this._r,255))+"%",g:l(100*D(this._g,255))+"%",b:l(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*D(this._r,255))+"%, "+l(100*D(this._g,255))+"%, "+l(100*D(this._b,255))+"%)":"rgba("+l(100*D(this._r,255))+"%, "+l(100*D(this._g,255))+"%, "+l(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+b(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=p(e);n="#"+b(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:B(e[r]));e=n}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:d(),g:d(),b:d()})},p.mix=function(e,t,n){n=0===n?0:n||50;var r=p(e).toRgb(),o=p(t).toRgb(),i=n/100;return p({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},p.readability=function(e,t){var n=p(e),r=p(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},p.isReadable=function(e,t,n){var r,o,i=p.readability(e,t);switch(o=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},p.mostReadable=function(e,t,n){var r,o,i,a,s=null,l=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=p.readability(e,t[c]))>l&&(l=r,s=p(t[c]));return p.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],n))};var A=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=p.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(A);function j(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function R(e){return c(1,u(0,e))}function N(e){return parseInt(e,16)}function M(e){return 1==e.length?"0"+e:""+e}function B(e){return e<=1&&(e=100*e+"%"),e}function L(e){return o.round(255*parseFloat(e)).toString(16)}function F(e){return N(e)/255}var q,U,W,H=(U="[\\s|\\(]+("+(q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",W="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+U),rgba:new RegExp("rgba"+W),hsl:new RegExp("hsl"+U),hsla:new RegExp("hsla"+W),hsv:new RegExp("hsv"+U),hsva:new RegExp("hsva"+W),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function z(e){return!!H.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}(Math)},323:function(e,t){e.exports=function(e){return Object.prototype.toString.call(e).slice(8,-1)}},324:function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},327:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,o=n(177);var i=((r=o)&&r.__esModule?r:{default:r}).default,a=i.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=i.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=i.canUseDOM?window.NodeList:{},t.canUseDOM=i.canUseDOM;t.default=a},361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){return"boolean"==typeof e?e:"function"==typeof e?e(t,n,r):!(!0!=!!e||!e)},o=function(e,t){return Object.hasOwnProperty.call(e,t)},i=function(e,t,n,r){return r?new Error(r):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+n+"`.")};t.default=function(e,t,n){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,n),function(a,s,l){for(var c=arguments.length,u=Array(3<c?c-3:0),d=3;d<c;d++)u[d-3]=arguments[d];return r(t,a,s,l)?o(a,s)?e.apply(void 0,[a,s,l].concat(u)):i(a,s,l,n):e.apply(void 0,[a,s,l].concat(u))}}},362:function(e,t,n){"use strict";(function(e){var r,o=n(626);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:e;var i=Object(o.a)(r);t.a=i}).call(this,n(181)(e))},363:function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var e=/(auto|scroll)/,t=function(e,n){return null===e.parentNode?n:t(e.parentNode,n.concat([e]))},n=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},r=function(t){return e.test(function(e){return n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=t(e.parentNode,[]),o=0;o<n.length;o+=1)if(r(n[o]))return n[o];return document.scrollingElement||document.documentElement}}})?r.apply(t,o):r)||(e.exports=i)},39:function(e,t){e.exports=require("url")},42:function(e,t){e.exports=require("assert")},48:function(e,t){e.exports=require("stream")},489:function(e,t){e.exports=require("worker_threads")},504:function(e,t){e.exports=require("string_decoder")},536:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=h(n(16)),i=n(24),a=n(27),s=n(74),l=n(7),c=n(20),u=h(n(5)),d=n(22),p=n(12),f=n(347);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=p.actions.card,{isSmallSelector:v,isMediumSelector:y}=p.selectors,{lightBackground:E}=p.lineColors;class w extends r.Component{constructor(e){super(e),b(this,"handleDragEnter",e=>{this.setState({dropDepth:this.state.dropDepth+1})}),b(this,"handleDragOver",e=>{e.preventDefault(),this.setState({inDropZone:!0})}),b(this,"handleDragLeave",e=>{let t=this.state.dropDepth;--t,this.setState({dropDepth:t}),t>0||this.setState({inDropZone:!1})}),b(this,"handleDrop",e=>{e.stopPropagation(),this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),n=JSON.parse(t);if(!n.cardId)return;const{beatId:r,lineId:o}=this.props;this.props.actions.reorderCardsWithinLine(r,o,[n.cardId])}),b(this,"saveCreate",()=>{const e=this.buildCard(this.titleInputRef.value);this.props.actions.addCard(Object.assign(e,this.state.templates?{templates:this.state.templates}:{})),this.setState({creating:!1,templates:[]}),this.props.onDone&&this.props.onDone()}),b(this,"createFromSmall",()=>{const e=this.buildCard("");this.props.actions.addCard(e)}),b(this,"handleFinishCreate",e=>{13===e.which&&this.saveCreate()}),b(this,"startCreating",()=>{this.setState({creating:!0})}),b(this,"handleCancelCreate",e=>{27===e.which&&this.setState({creating:!1})}),b(this,"handleBlur",()=>{if(""===this.titleInputRef.value)return this.setState({creating:!1}),!1;this.saveCreate(),this.setState({creating:!1})}),b(this,"onAddWithTemplateHover",()=>{this.setState({templateHover:!0})}),b(this,"onAddWithTemplateLeave",()=>{this.setState({templateHover:!1})}),b(this,"onAddWithDefaultHover",()=>{this.setState({defaultHover:!0})}),b(this,"onAddWithDefaultLeave",()=>{this.setState({defaultHover:!1})}),b(this,"showTemplatePicker",()=>{this.setState({showTemplatePicker:!0})}),b(this,"handleChooseTemplate",e=>{const t=this.state.templates.find(({id:t})=>t===e.id)?this.state.templates:[e,...this.state.templates];this.setState({templates:t,showTemplatePicker:!1,creating:!0})}),b(this,"closeTemplatePicker",()=>{this.setState({showTemplatePicker:!1})}),this.state={creating:!1,templateHover:!1,defaultHover:!1,showTemplatePicker:!1,templates:[],inDropZone:!1,dropDepth:0},this.titleInputRef=null}buildCard(e){const{beatId:t,lineId:n}=this.props;return{title:e,beatId:t,lineId:n,positionWithinLine:this.props.positionWithinLine||0}}renderBlank(){const{color:e,verticalInsertion:t,orientation:n,isSmall:o,isMedium:i}=this.props;if(o){const t={borderColor:e};return r.default.createElement("td",{onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},r.default.createElement("div",{className:(0,u.default)("blank-circle",{hover:this.state.inDropZone}),style:t,onClick:this.createFromSmall}))}const a={borderColor:e,color:e},s=this.state.templateHover?{background:E(e)}:{},d=this.state.defaultHover?{background:E(e)}:{},p=(0,u.default)((0,f.orientedClassName)("blank-card__body",n),{"vertical-blank-card__body":t});return r.default.createElement("div",{className:(0,u.default)(p,{hover:this.state.inDropZone,"medium-timeline":i}),style:a},r.default.createElement("div",{className:"template",onClick:this.showTemplatePicker,onMouseEnter:this.onAddWithTemplateHover,onMouseLeave:this.onAddWithTemplateLeave,style:s},(0,l.t)("Use Template")),r.default.createElement("div",{className:"non-template",onClick:this.startCreating,onMouseEnter:this.onAddWithDefaultHover,onMouseLeave:this.onAddWithDefaultLeave,style:d},r.default.createElement(c.Glyphicon,{glyph:"plus"})))}renderTemplatePicker(){return this.state.showTemplatePicker?r.default.createElement(d.TemplatePicker,{type:["scenes"],modal:!0,isOpen:this.state.showTemplatePicker,close:this.closeTemplatePicker,onChooseTemplate:this.handleChooseTemplate,showTemplateSaveButton:!1}):null}renderCreateNew(){const{color:e,isMedium:t}=this.props,n={borderColor:e},o=(0,u.default)("card__body",{"medium-timeline":t});return r.default.createElement("div",{className:o,style:n},r.default.createElement(c.FormGroup,null,r.default.createElement(c.ControlLabel,null,(0,l.t)("Scene Title")),r.default.createElement(c.FormControl,{type:"text",autoFocus:!0,inputRef:e=>{this.titleInputRef=e},bsSize:"small",onBlur:this.handleBlur,onKeyDown:this.handleCancelCreate,onKeyPress:this.handleFinishCreate})))}render(){window.SCROLLWITHKEYS=!this.state.creating;const{orientation:e,verticalInsertion:t,isSmall:n,isMedium:o}=this.props;let i=null;if(i=this.state.creating?this.renderCreateNew():this.renderBlank(),n)return i;const a="vertical"===e;return r.default.createElement(r.default.Fragment,null,t?i:r.default.createElement(s.Cell,null,r.default.createElement("div",{className:(0,u.default)("card__cell",{vertical:a,"medium-timeline":o}),onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},r.default.createElement("div",null,i))),this.renderTemplatePicker())}shouldComponentUpdate(e,t){return this.state.inDropZone!=t.inDropZone||(this.state.creating!=t.creating||(this.props.color!=e.color||(this.state.templateHover!==t.templateHover||(this.state.defaultHover!==t.defaultHover||this.state.showTemplatePicker!==t.showTemplatePicker))))}}w.propTypes={beatId:o.default.number,lineId:o.default.number,verticalInsertion:o.default.bool,color:o.default.string.isRequired,currentTimeline:o.default.oneOfType([o.default.string,o.default.number]),orientation:o.default.string,positionWithinLine:o.default.number,onDone:o.default.func,isSmall:o.default.bool,isMedium:o.default.bool,actions:o.default.object};var O=(0,i.connect)((function(e){return{currentTimeline:e.present.ui.currentTimeline,orientation:e.present.ui.orientation,isSmall:v(e.present),isMedium:y(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(g,e)}}))(w);t.default=O},537:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=m(n(16)),i=n(24),a=n(27),s=n(20),l=n(74),c=n(22),u=n(7),d=m(n(5)),p=n(85),f=m(n(237)),h=n(12);function m(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=h.actions.line,y=h.actions.ui,{card:{truncateTitle:E},orientedClassName:{orientedClassName:w}}=h.helpers,{lineIsExpandedSelector:O,isLargeSelector:S,isMediumSelector:C,isSmallSelector:_}=h.selectors;class k extends r.PureComponent{constructor(e){super(e),g(this,"deleteLine",e=>{e.stopPropagation(),this.props.actions.deleteLine(this.props.line.id)}),g(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),g(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0,hovering:!1})}),g(this,"editTitle",()=>{const e=this.titleInputRef;e&&this.finalizeEdit(e.value)}),g(this,"finalizeEdit",e=>{var t=this.props.line.id;this.props.actions.editLineTitle(t,e),this.setState({editing:!1,hovering:!1})}),g(this,"handleFinishEditingTitle",e=>{13===e.which&&this.editTitle()}),g(this,"handleBlur",()=>{""!==this.titleInputRef.value&&(this.editTitle(),this.setState({editing:!1,hovering:!1}))}),g(this,"handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify(this.props.line)),this.setState({dragging:!0})}),g(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),g(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),g(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),g(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),g(this,"handleDrop",e=>{e.stopPropagation(),this.setState({inDropZone:!1,dropDepth:0});var t=e.dataTransfer.getData("text/json"),n=JSON.parse(t);null!=n.id&&this.props.handleReorder(this.props.line.position,n.position)}),g(this,"handleEsc",e=>{27===e.which&&this.setState({editing:!1})}),g(this,"changeColor",e=>{e&&this.props.actions.editLineColor(this.props.line.id,e),this.setState({showColorPicker:!1})}),g(this,"openColorPicker",()=>{this.setState({showColorPicker:!0})}),g(this,"startEditing",()=>{this.setState({editing:!0})}),g(this,"startHovering",()=>{clearTimeout(this.hoverTimeout),this.setState({hovering:!0})}),g(this,"stopHovering",()=>{this.hoverTimeout=setTimeout(()=>this.setState({hovering:!1}),200)}),g(this,"toggleLine",()=>{this.props.lineIsExpanded?this.props.actions.collapseLine(this.props.line.id):this.props.actions.expandLine(this.props.line.id)}),g(this,"toggleExpanded",()=>{this.props.ui.timelineIsExpanded?this.props.uiActions.collapseTimeline():this.props.uiActions.expandTimeline()}),g(this,"renderHoverOptions",()=>{const{lineIsExpanded:e,ui:t,isSmall:n}=this.props;let o=null,i=null;if(o=e?r.default.createElement(p.FaCompressAlt,null):r.default.createElement(p.FaExpandAlt,null),i=t.timelineIsExpanded?r.default.createElement(p.FaCompressAlt,null):r.default.createElement(p.FaExpandAlt,null),"vertical"===t.orientation){let e=w("line-title__hover-options",t.orientation);return r.default.createElement("div",{className:(0,d.default)(e,{"small-timeline":n})},r.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.startEditing},r.default.createElement(s.Glyphicon,{glyph:"edit"})),r.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.openColorPicker},r.default.createElement(s.Glyphicon,{glyph:"tint"})),n?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.toggleLine},o),r.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.toggleExpanded},i," ",(0,u.t)("All"))),r.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.handleDelete},r.default.createElement(s.Glyphicon,{glyph:"trash"})))}return r.default.createElement("div",{className:"line-title__hover-options"},r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{bsSize:"small",onClick:this.startEditing},r.default.createElement(s.Glyphicon,{glyph:"edit"})),r.default.createElement(s.Button,{bsSize:"small",onClick:this.openColorPicker},r.default.createElement(s.Glyphicon,{glyph:"tint"})),n?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Button,{bsSize:"small",onClick:this.toggleLine},o),r.default.createElement(s.Button,{bsSize:"small",onClick:this.toggleExpanded},i," ",(0,u.t)("All"))),r.default.createElement(s.Button,{bsSize:"small",onClick:this.handleDelete},r.default.createElement(s.Glyphicon,{glyph:"trash"}))))}),this.state={hovering:!1,editing:""===e.line.title,dragging:!1,inDropZone:!1,dropDepth:0,showColorPicker:!1,deleting:!1},this.hoverTimeout=null,this.titleInputRef=null}renderEditInput(){return this.state.editing?r.default.createElement(c.InputModal,{isOpen:!0,type:"text",getValue:this.finalizeEdit,defaultValue:this.props.line.title,title:(0,u.t)("Edit {lineName}",{lineName:this.props.line.title||(0,u.t)("New Plotline")}),cancel:()=>this.setState({editing:!1,hovering:!1})}):null}renderDelete(){return this.state.deleting?r.default.createElement(c.DeleteConfirmModal,{name:this.props.line.title||(0,u.t)("New Plotline"),onDelete:this.deleteLine,onCancel:this.cancelDelete}):null}renderColorPicker(){if(this.state.showColorPicker){var e="colorPicker-"+this.props.line.id;return r.default.createElement(c.ColorPicker,{key:e,color:this.props.line.color,closeDialog:this.changeColor})}return null}renderTitle(){const{ui:e}=this.props;return this.state.editing?r.default.createElement(s.FormGroup,null,r.default.createElement(s.ControlLabel,{className:(0,d.default)({darkmode:e.darkMode})},(0,u.t)("Plotline name")),r.default.createElement(s.FormControl,{type:"text",defaultValue:this.props.line.title,inputRef:e=>{this.titleInputRef=e},autoFocus:!0,onKeyDown:this.handleEsc,onBlur:this.handleBlur,onKeyPress:this.handleFinishEditingTitle})):E(this.props.line.title,50)}renderSmall(){const{line:e,ui:t}=this.props,{hovering:n,inDropZone:o}=this.state,i="horizontal"==t.orientation,a={"rotate-45":!i,"row-header":i,dropping:o};let s="right";return"vertical"==t.orientation&&(s="bottom"),r.default.createElement("th",{className:(0,d.default)(a),onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderColorPicker(),this.renderDelete(),this.renderEditInput(),r.default.createElement("div",{draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onClick:n?this.stopHovering:this.startHovering},r.default.createElement(f.default,{component:this.renderHoverOptions,open:n,placement:s,hideArrow:!0,offset:i?0:1,styles:{wrapper:{cursor:"move"}}},r.default.createElement("span",null,E(e.title,50)))))}render(){const{ui:e,isSmall:t,isMedium:n}=this.props,{editing:o,hovering:i,inDropZone:a}=this.state;if(o&&(window.SCROLLWITHKEYS=!1),t)return this.renderSmall();let s=(0,d.default)(w("line-title__body",e.orientation),{"medium-timeline":n,hover:i,dropping:a}),c=(0,d.default)(w("line-title__cell",e.orientation),{"medium-timeline":n}),u="bottom";return"vertical"==e.orientation&&(u="right"),r.default.createElement(l.Cell,null,r.default.createElement("div",{className:c,onMouseEnter:this.startHovering,onMouseLeave:this.stopHovering,onDrop:this.handleDrop},this.renderDelete(),r.default.createElement(f.default,{component:this.renderHoverOptions,open:i,placement:u,hideArrow:!0,offset:0,style:{cursor:"move"}},r.default.createElement("div",{className:s,onClick:this.startEditing,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,draggable:!0},this.renderTitle()))),this.renderColorPicker())}}k.propTypes={line:o.default.object.isRequired,bookId:o.default.oneOfType([o.default.string,o.default.number]),handleReorder:o.default.func,ui:o.default.object.isRequired,isSmall:o.default.bool,isMedium:o.default.bool,isLarge:o.default.bool,lineIsExpanded:o.default.bool.isRequired,actions:o.default.object.isRequired,uiActions:o.default.object.isRequired};var x=(0,i.connect)((function(e,t){return{ui:e.present.ui,isSmall:_(e.present),isMedium:C(e.present),isLarge:S(e.present),lineIsExpanded:O(e.present)[t.line.id]}}),(function(e,t){return{actions:(0,a.bindActionCreators)(v,e),uiActions:(0,a.bindActionCreators)(y,e)}}))(k);t.default=x},538:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=m(n(16)),i=n(24),a=n(74),s=n(20),l=n(7),c=n(133),u=n(85),d=m(n(5)),p=n(12),f=m(n(1211)),h=n(27);function m(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{orientedClassName:{orientedClassName:v}}=p.helpers;class y extends r.PureComponent{constructor(e){super(e),g(this,"insert",()=>{const{beatToLeft:e,handleInsert:t}=this.props;t(e&&e.id),this.props.tour.run&&this.props.tourActions.tourNext("next")}),g(this,"insertChild",()=>{const{beatToLeft:e,handleInsertChild:t,bookId:n}=this.props;console.log(e&&e.id,"insert?"),t(e&&e.id,n)}),g(this,"lastTitleText",()=>{const{hierarchyLevelName:e}=this.props;return(0,l.t)("Add "+e)}),g(this,"titleText",()=>{const{hierarchyLevelName:e}=this.props;return(0,l.t)("Insert "+e)}),g(this,"lastChildText",()=>{const{hierarchyChildLevelName:e}=this.props;return(0,l.t)("Add "+e)}),g(this,"childTitleText",()=>{const{hierarchyChildLevelName:e}=this.props;return(0,l.t)("Insert "+e)}),g(this,"wrapperClass",()=>{const{showLine:e,orientation:t,beatToLeft:n,hovering:r}=this.props,{localHovering:o}=this.state;return(0,d.default)(v("insert-beat-wrapper",t),n&&r!==n.id&&!o&&"transparent",!n&&"transparent",{"insert-beat-spacer":e})}),g(this,"lastWrapperClass",()=>{const{showLine:e,orientation:t,isSmall:n,isMedium:r,isLarge:o}=this.props;return(0,d.default)(v("insert-beat-wrapper",t),"append-beat",{"insert-beat-spacer":e,"small-timeline":n,"medium-timeline":r,"large-timeline":o})}),g(this,"orientedClassSubIcon",()=>{const{isInBeatList:e,orientation:t}=this.props;return v(e?this.beatClassSubIcon():this.insertBeatClass(),t)}),g(this,"orientedClass",()=>{const{isInBeatList:e,orientation:t}=this.props;return v(e?this.beatClass():this.insertBeatClass(),t)}),g(this,"lastOrientedClass",()=>{const{orientation:e}=this.props;return v(this.lastBeatClass(),e)}),g(this,"insertBeatClass",()=>{const{isMedium:e}=this.props;return(0,d.default)("line-list__insert-beat",{"medium-timeline":e})}),g(this,"beatClassSubIcon",()=>{const{isMedium:e,isInBeatList:t,beatToLeft:n,hovering:r}=this.props,{localHovering:o}=this.state;return(0,d.default)("beat-list__insert",n&&r!==n.id&&!o&&"transparent",{"medium-timeline":t&&e})}),g(this,"wrapperClassSubIcon",()=>{const{showLine:e,orientation:t}=this.props;return(0,d.default)(v("insert-beat-wrapper",t),{"insert-beat-spacer":e})}),g(this,"lastBeatClass",()=>{const{isInBeatList:e,isMedium:t,isSmall:n}=this.props;return(0,d.default)("beat-list__insert","append-beat",{"medium-timeline":e&&t,"small-timeline":e&&n})}),g(this,"beatClass",()=>{const{isInBeatList:e,isMedium:t,hovering:n,beatToLeft:r}=this.props,{localHovering:o}=this.state;return(0,d.default)("beat-list__insert",r&&n!==r.id&&!o&&"transparent",{"medium-timeline":e&&t})}),this.state={hovering:this.props.hovering,localHovering:!1}}renderLine(){const{tableLength:e,orientation:t,color:n,isMedium:o}=this.props;return r.default.createElement(f.default,{tableLength:e,orientation:t,color:n,isMedium:o})}renderToggleCollapse(){const{handleInsertChild:e,toggleExpanded:t,expanded:n,tour:o,isFirst:i}=this.props;return!e&&t?r.default.createElement("div",{onClick:t,className:(0,d.default)(this.orientedClassSubIcon(),!1===n?"beat-list__insert--always-visible":{})},r.default.createElement("div",{className:this.wrapperClassSubIcon()},r.default.createElement("div",{onClick:()=>!i&&!0===n&&o.run&&this.props.tourActions.tourNext("next")},n?r.default.createElement(u.FaCompressAlt,null):r.default.createElement(u.FaExpandAlt,null)))):null}renderInsertChild(){const{handleInsertChild:e,isFirst:t,isSmall:n,atMaximumDepth:o,tour:i}=this.props;return o?null:e&&!t?r.default.createElement("div",{title:this.childTitleText(),className:this.orientedClassSubIcon(),onClick:this.insertChild},r.default.createElement(s.Button,{className:this.wrapperClassSubIcon(),bsSize:n?"small":void 0,block:!0},r.default.createElement(c.IoIosReturnRight,{size:25,style:{margin:"-1px -5px -6px -5px"},className:"acts-tour-step8"}))):null}renderInsertBeat(){const{isFirst:e,isSmall:t,hierarchyLevels:n,orientation:o,hierarchyLevelName:i}=this.props;let a=n.find(e=>e.name==i||null);const l=n.length-a.level>1;return r.default.createElement("div",{title:this.titleText(),className:this.orientedClass(),onClick:this.insert,style:"vertical"==o?l?null:{marginTop:"10px"}:null},r.default.createElement("div",{className:this.wrapperClass()},r.default.createElement(s.Button,{className:e?null:"acts-tour-step6",bsSize:t?"small":void 0,block:!0},r.default.createElement(s.Glyphicon,{glyph:"plus"}))))}renderLastInsertBeat(){const{isFirst:e,isSmall:t,orientation:n}=this.props;return r.default.createElement("div",{title:this.lastTitleText(),className:this.lastOrientedClass(),onClick:this.insert},r.default.createElement("div",{className:this.lastWrapperClass()},r.default.createElement(s.Glyphicon,{glyph:"plus"})))}render(){const{showLine:e,orientation:t,isSmall:n,isLast:o}=this.props;let i=null;if(i=o?this.renderLastInsertBeat():"vertical"===t?r.default.createElement("div",{className:"vertical-beat-list__insert",onMouseEnter:()=>this.setState({localHovering:!0}),onMouseLeave:()=>this.setState({localHovering:!1})},this.renderInsertBeat(),this.renderInsertChild()):r.default.createElement("div",{onMouseEnter:()=>this.setState({localHovering:!0}),onMouseLeave:()=>this.setState({localHovering:!1})},this.renderInsertBeat(),this.renderInsertChild()),n){const e="horizontal"==t,n={"rotate-45":e,"row-header":!e};return r.default.createElement("th",{className:(0,d.default)(n)},i)}return r.default.createElement(a.Cell,null,i,e?this.renderLine():null)}}g(y,"propTypes",{bookId:o.default.oneOfType([o.default.string,o.default.number]),orientation:o.default.string,isSmall:o.default.bool,isMedium:o.default.bool,isLarge:o.default.bool,handleInsert:o.default.func.isRequired,handleInsertChild:o.default.func,isInBeatList:o.default.bool.isRequired,actions:o.default.object.isRequired,hovering:o.default.number,tour:o.default.object.isRequired,tourActions:o.default.object.isRequired,beatToLeft:o.default.object,lineId:o.default.number,showLine:o.default.bool,color:o.default.string,isLast:o.default.bool,isFirst:o.default.bool,tableLength:o.default.number,expanded:o.default.bool,toggleExpanded:o.default.func,hierarchyChildLevelName:o.default.string,hierarchyLevelName:o.default.string,hierarchyLevels:o.default.array.isRequired,hierarchyLevel:o.default.object.isRequired,atMaximumDepth:o.default.bool});var E=(0,i.connect)((function(e,t){const n=t.beatToLeft&&t.beatToLeft.id;return{bookId:e.present.ui.currentTimeline,orientation:e.present.ui.orientation,isSmall:p.selectors.isSmallSelector(e.present),isMedium:p.selectors.isMediumSelector(e.present),isLarge:p.selectors.isLargeSelector(e.present),hierarchyLevels:p.selectors.sortedHierarchyLevels(e.present),hierarchyLevel:p.selectors.hierarchyLevelSelector(e.present,t.beatId),hierarchyLevelName:p.selectors.hierarchyLevelNameSelector(e.present,n),hierarchyChildLevelName:p.selectors.hierarchyChildLevelNameSelector(e.present,n),atMaximumDepth:p.selectors.atMaximumHierarchyDepthSelector(e.present,n),tour:p.selectors.tourSelector(e.present)}}),(function(e){return{actions:(0,h.bindActionCreators)(p.actions.beat,e),tourActions:(0,h.bindActionCreators)(p.actions.tour,e)}}))(y);t.default=E},539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=m(n(16)),i=n(24),a=n(27),s=n(7),l=n(20),c=n(85),u=n(133),d=n(74),p=m(n(5)),f=n(22),h=n(12);function m(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{card:{truncateTitle:v},beats:{editingBeatLabel:y,beatPositionTitle:E},orientedClassName:{orientedClassName:w},hierarchyLevels:{hierarchyToStyles:O}}=h.helpers;class S extends r.PureComponent{constructor(e){super(e),g(this,"deleteBeat",e=>{e.stopPropagation(),this.props.actions.deleteBeat(this.props.beat.id,this.props.ui.currentTimeline)}),g(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),g(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0,hovering:null})}),g(this,"handleAddBeat",e=>{this.props.actions.insertBeat(this.props.ui.currentTimeline,this.props.beat.id),!0===this.props.tour.run&&this.props.tourActions.tourNext("next")}),g(this,"handleAddChild",e=>{let t=this.props.isMedium?90:192,n=this.props.isMedium?85:111;this.props.actions.expandBeat(this.props.beat.id,this.props.ui.currentTimeline),this.props.actions.addBeat(this.props.ui.currentTimeline,this.props.beat.id),!0===this.props.tour.run&&this.props.tourActions.tourNext("next");let r=this.props.beats.children[this.props.beat.id],o=r.length,i=0;r.forEach(e=>{this.props.beats.children[e].length>0&&this.props.beats.index[e].expanded&&(i+=this.props.beats.children[e].length)});const a="vertical"===this.props.ui.orientation?this.props.ui.timelineScrollPosition.y+(o+i)*n:this.props.ui.timelineScrollPosition.x+(o+i)*t;this.props.scrollTo(a)}),g(this,"handleToggleExpanded",e=>{const{actions:{collapseBeat:t,expandBeat:n},beat:{id:r,expanded:o},ui:{currentTimeline:i},tour:a}=this.props;!0===o&&!0===a.run&&this.props.tourActions.tourNext("next"),o?t(r,i):n(r,i)}),g(this,"editTitle",()=>{const e=this.titleInputRef;e&&this.finalizeEdit(e.value)}),g(this,"finalizeEdit",e=>{const{beat:t,actions:n,ui:r}=this.props;n.editBeatTitle(t.id,r.currentTimeline,e||"auto"),this.setState({editing:!1,hovering:null})}),g(this,"handleFinishEditing",e=>{13===e.which&&this.editTitle()}),g(this,"handleBlur",()=>{this.editTitle()}),g(this,"handleEsc",e=>{27===e.which&&this.setState({editing:!1})}),g(this,"handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify(this.props.beat)),this.setState({dragging:!0})}),g(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),g(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),g(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),g(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),g(this,"handleDrop",e=>{e.stopPropagation(),this.setState({inDropZone:!1,dropDepth:0});var t=e.dataTransfer.getData("text/json"),n=JSON.parse(t);null!=n.id&&n.id!=this.props.beat.id&&this.props.handleReorder(this.props.beat.id,n.id)}),g(this,"startEditing",()=>{this.setState({editing:!0,hovering:null})}),g(this,"startHovering",()=>{this.props.onMouseEnter(),this.setState({hovering:this.props.onMouseEnter()})}),g(this,"stopHovering",()=>{this.props.onMouseLeave(),this.setState({hovering:null})});let t=""==e.beat.title;this.state={hovering:this.props.hovering,editing:t,dragging:!1,inDropZone:!1,dropDepth:0,deleting:!1},this.titleInputRef=null}renderDelete(){if(!this.state.deleting)return null;const{hierarchyLevel:e,beatTitle:t,hierarchyLevels:n}=this.props;let o=null;switch(n.length-n.findIndex(({name:t})=>t===e.name)){case 1:break;case 2:o=`Are you sure you want to delete all scene cards in "${t}".`;break;case 3:o=`Are you sure you want to delete all chapters and their scene cards in "${t}".`}return r.default.createElement(f.DeleteConfirmModal,{name:t,customText:o&&(0,s.t)(o),onDelete:this.deleteBeat,onCancel:this.cancelDelete})}renderEditInput(){return this.state.editing?r.default.createElement(f.InputModal,{isOpen:!0,type:"text",getValue:this.finalizeEdit,defaultValue:this.props.beat.title,title:(0,s.t)("Edit {beatName}",{beatName:this.props.beatTitle}),cancel:()=>this.setState({editing:!1,hovering:null})}):null}renderHorizontalHoverOptions(e){const{ui:t,isMedium:n,isSmall:o,beat:i,hierarchyLevel:a,hierarchyLevels:s,tour:u}=this.props,d=w("beat-list__item__hover-options",t.orientation),f=s.length-a.level>1;return r.default.createElement("div",{className:(0,p.default)(d,{"small-timeline":o}),style:e},r.default.createElement(l.ButtonGroup,null,n?null:r.default.createElement(l.Button,{bsSize:o?"small":void 0,onClick:this.startEditing},r.default.createElement(l.Glyphicon,{glyph:"edit"})),r.default.createElement(l.Button,{bsSize:o?"small":void 0,onClick:this.handleDelete},r.default.createElement(l.Glyphicon,{glyph:"trash"})),f?r.default.createElement(l.Button,{bsSize:o?"small":void 0,className:u.run?"acts-tour-step7":"",onClick:this.handleToggleExpanded},i.expanded?r.default.createElement(c.FaCompressAlt,null):r.default.createElement(c.FaExpandAlt,null)):null))}renderLowerHoverOptions(e){const{ui:t,isMedium:n,isSmall:o,isFirst:i,beatId:a,hierarchyLevel:s,hierarchyLevels:c,tour:d}=this.props,f=w("medium-lower-hover-options",t.orientation);e={visibility:"hidden"},this.state.hovering===a&&(e.visibility="visible");const h=c.length-s.level>1;"horizontal"!==this.props.ui.orientation||h||(e.marginTop="-14px");let m,b=r.default.createElement(l.Button,{className:!i&&d.run?"acts-tour-step6":null,bsSize:o?"small":void 0,block:!0,onClick:this.handleAddBeat,style:n?h?{marginTop:"0px"}:{marginTop:"19px"}:null},r.default.createElement(l.Glyphicon,{glyph:"plus"})),g=c.length-s.level>1&&r.default.createElement(l.Button,{className:"acts-tour-step8",bsSize:o?"small":void 0,block:!0,style:{marginTop:"0px"},onClick:this.handleAddChild},r.default.createElement(u.IoIosReturnRight,{size:25,style:{margin:"-1px -5px -6px -5px"}}));return m="vertical"===t.orientation?r.default.createElement("div",{className:(0,p.default)(f,{"small-timeline":o}),style:e},b,g):r.default.createElement(l.ButtonGroup,{className:(0,p.default)(f,{"small-timeline":o}),style:e},b,g),m}renderVerticalHoverOptions(e){const{ui:t,isSmall:n,isMedium:o,beat:i,hierarchyLevel:a,hierarchyLevels:s,tour:u}=this.props,d=w("beat-list__item__hover-options",t.orientation),f=s.length-a.level>1;return r.default.createElement("div",{className:(0,p.default)(d,{"small-timeline":n}),style:e},r.default.createElement(l.Button,{bsSize:n?"small":void 0,block:!0,onClick:this.startEditing,style:o?f?{marginTop:"0px"}:{marginTop:"19px"}:f?{marginTop:"5px"}:{marginTop:"24px"}},r.default.createElement(l.Glyphicon,{glyph:"edit"})),r.default.createElement(l.Button,{bsSize:n?"small":void 0,block:!0,onClick:this.handleDelete},r.default.createElement(l.Glyphicon,{glyph:"trash"})),f&&r.default.createElement(l.Button,{bsSize:n?"small":void 0,className:u.run?"acts-tour-step7":"",onClick:this.handleToggleExpanded},i.expanded?r.default.createElement(c.FaCompressAlt,null):r.default.createElement(c.FaExpandAlt,null)))}renderHoverOptions(){let e={};return this.props.isSmall?(e={display:"none"},this.state.hovering===this.props.beatId&&(e.display="block")):(e={visibility:"hidden"},this.state.hovering===this.props.beatId&&(e.visibility="visible")),"vertical"===this.props.ui.orientation?this.renderVerticalHoverOptions(e):this.renderHorizontalHoverOptions(e)}renderTitle(){const{beats:e,beat:t,beatTitle:n,hierarchyLevels:o,positionOffset:i,hierarchyEnabled:a,isSeries:s}=this.props;return this.state.editing?r.default.createElement(l.FormGroup,null,r.default.createElement(l.ControlLabel,null,y(e,t,o,i,a,s)),r.default.createElement(l.FormControl,{type:"text",defaultValue:t.title,inputRef:e=>{this.titleInputRef=e},autoFocus:!0,onKeyDown:this.handleEsc,onBlur:this.handleBlur,onKeyPress:this.handleFinishEditing})):r.default.createElement("span",null,v(n,50))}render(){window.SCROLLWITHKEYS=!this.state.editing;const{beats:e,hierarchyLevels:t,beat:n,ui:o,positionOffset:i,beatTitle:a,isSmall:s,isMedium:l,hierarchyEnabled:c,isSeries:u}=this.props,{hovering:f,inDropZone:h}=this.state,m=(0,p.default)(w("beat__body",o.orientation),{"medium-timeline":l,hover:f===this.props.beat.id||this.props.beat.id===Object.values(this.props.beats.index)[Object.values(this.props.beats.index).length-1].id,dropping:h}),b=(0,p.default)(w("beat__cell",o.orientation),{"medium-timeline":l});if(s){const s="horizontal"==o.orientation,l={"rotate-45":s,"row-header":!s,dropping:h};return r.default.createElement("th",{className:(0,p.default)(l),onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHoverOptions(),this.renderDelete(),this.renderEditInput(),r.default.createElement("div",{title:E(e,n,t,i,c,u),onClick:f?this.stopHovering:this.startHovering,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},r.default.createElement("span",null,v(a,50))))}return r.default.createElement(d.Cell,{className:"beat-table-cell"},r.default.createElement("div",{className:b,title:E(e,n,t,i,c,u),onMouseEnter:this.startHovering,onMouseLeave:this.stopHovering,onDrop:this.handleDrop},this.renderHoverOptions(),this.renderDelete(),r.default.createElement("div",{style:O(this.props.hierarchyLevel,o.timeline.size,this.props.beat.id===Object.values(this.props.beats.index)[Object.values(this.props.beats.index).length-1].id||this.state.hovering===this.props.beat.id||this.state.inDropZone),className:m,onClick:this.startEditing,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},this.renderTitle()),l&&this.renderLowerHoverOptions()))}}S.propTypes={beatId:o.default.number.isRequired,handleReorder:o.default.func.isRequired,actions:o.default.object.isRequired,beats:o.default.object.isRequired,hierarchyLevels:o.default.array.isRequired,beat:o.default.object.isRequired,isFirst:o.default.bool,hovering:o.default.number,onMouseEnter:o.default.func,onMouseLeave:o.default.func,scrollTo:o.default.func.isRequired,beatTitle:o.default.string.isRequired,positionOffset:o.default.number.isRequired,isSmall:o.default.bool.isRequired,isMedium:o.default.bool.isRequired,hierarchyLevel:o.default.object.isRequired,ui:o.default.object.isRequired,hierarchyEnabled:o.default.bool.isRequired,isSeries:o.default.bool.isRequired,tour:o.default.object.isRequired,tourActions:o.default.object.isRequired};var C=(0,i.connect)(e=>{const t=h.selectors.makeBeatSelector(),n=h.selectors.makeBeatTitleSelector();return function(e,r){return{beats:h.selectors.beatsByBookSelector(e.present),hierarchyLevels:h.selectors.sortedHierarchyLevels(e.present),beat:t(e.present,r.beatId),hierarchyLevel:h.selectors.hierarchyLevelSelector(e.present,r.beatId),ui:e.present.ui,beatTitle:n(e.present,r.beatId),positionOffset:h.selectors.positionOffsetSelector(e.present),isSmall:h.selectors.isSmallSelector(e.present),isMedium:h.selectors.isMediumSelector(e.present),hierarchyEnabled:h.selectors.beatHierarchyIsOn(e.present),isSeries:h.selectors.isSeriesSelector(e.present),tour:h.selectors.tourSelector(e.present)}}},(function(e){return{actions:(0,a.bindActionCreators)(h.actions.beat,e),tourActions:(0,a.bindActionCreators)(h.actions.tour,e)}}))(S);t.default=C},542:function(e,t,n){var r=n(323);e.exports=function(e){var t=r(e);return"Object"!==t&&"Array"!==t}},543:function(e,t){e.exports=function(){}},544:function(e,t){e.exports=function(e){return 0===Object.keys(e).length}},547:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPreviousAction=function(e){p=e},t.hasPreviousAction=function(){return!!p&&p.type!=s.ActionTypes.FILE_LOADED},t.getPreviousAction=function(){return p},t.createErrorReport=function(e,t){const n=function(e,t){const n=!!c.default.get("licenseKey");return`\n----------------------------------\nINFO\n----------------------------------\nDATE: ${(new Date).toString()}\nVERSION: ${d.getVersion()}\nUSER HAS LICENSE: ${n}\nPLATFORM: ${process.platform}\n----------------------------------\nERROR\n----------------------------------\nname: ${e.name}\nmessage: ${e.message}\nstack: ${e.stack}\ncomponentStack: ${t.componentStack}\n----------------------------------\nPREVIOUS ACTION\n----------------------------------\n${JSON.stringify(p)}\n  `}(e,t),s=i.default.join(d.getPath("documents"),`plottr_error_report_${Date.now()}.txt`);o.default.writeFile(s,n,(function(e){e?(a.default.warn(e),rollbar.warn(e)):function(e){try{new Notification((0,l.t)("Error Report created"),{body:(0,l.t)("Plottr created a file named {fileName} in your Documents folder",{fileName:i.default.basename(e)}),silent:!0})}catch(e){}r.shell.showItemInFolder(e)}(s)}))};var r=n(18),o=u(n(23)),i=u(n(21)),a=u(n(36)),s=n(12),l=n(7),c=u(n(115));function u(e){return e&&e.__esModule?e:{default:e}}const d=r.remote.app;let p=null},548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var r=n(27),o=(u(n(1247)),n(12)),i=u(n(1289)),a=u(n(1290)),s=u(n(1291)),l=u(n(1292)),c=u(n(559));function u(e){return e&&e.__esModule?e:{default:e}}const d=function(e){const t=(0,c.default)(o.rootReducer,{limit:10,ignoreInitialState:!0}),n=(0,r.applyMiddleware)(i.default,a.default,s.default,l.default);return(0,r.createStore)(t,e,n)}();t.store=d},549:function(e,t,n){e.exports=n(550)},550:function(e,t,n){var r=n(1249);t.stringify=function(e,t,n,o){if(arguments.length<4)try{return 1===arguments.length?JSON.stringify(e):JSON.stringify.apply(JSON,arguments)}catch(e){}var i=o||!1;"boolean"==typeof i&&(i={date:i,function:i,regex:i,undefined:i,error:i,symbol:i,map:i,set:i,nan:i,infinity:i});var a=r.decycle(e,i,t);return 1===arguments.length?JSON.stringify(a):JSON.stringify(a,Array.isArray(t)?t:null,n)},t.parse=function(e,t){var n,o=/"\$jsan"/.test(e);return n=1===arguments.length?JSON.parse(e):JSON.parse(e,t),o&&(n=r.retrocycle(n)),n}},551:function(e,t){e.exports=function(e,t){if("$"!==t)for(var n=function(e){var t,n=/(?:\.(\w+))|(?:\[(\d+)\])|(?:\["((?:[^\\"]|\\.)*)"\])/g,r=[];for(;t=n.exec(e);)r.push(t[1]||t[2]||t[3]);return r}(t),r=0;r<n.length;r++)t=n[r].toString().replace(/\\"/g,'"'),void 0===e[t]&&r!==n.length-1||(e=e[t]);return e}},552:function(e,t,n){var r=n(324),o=n(1252).SCChannel,i=(n(553).Response,n(1255).AuthEngine),a=n(1256),s=n(1257).SCTransport,l=n(71),c=n(1259),u=n(1261).Buffer,d=n(1264),p=n(233),f=p.InvalidArgumentsError,h=p.InvalidMessageError,m=p.InvalidActionError,b=p.SocketProtocolError,g=p.TimeoutError,v=p.BadConnectionError,y="undefined"!=typeof window,E=function(e){var t=this;r.call(this),this.id=null,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.clientId=e.clientId,this.connectTimeout=e.connectTimeout,this.ackTimeout=e.ackTimeout,this.channelPrefix=e.channelPrefix||null,this.disconnectOnUnload=null==e.disconnectOnUnload||e.disconnectOnUnload,this.authTokenName=e.authTokenName,this.pingTimeout=this.ackTimeout,this.pingTimeoutDisabled=!!e.pingTimeoutDisabled,this.active=!0,this._clientMap=e.clientMap||{};var n=Math.pow(2,31)-1,o=function(e){if(t[e]>n)throw new f("The "+e+" value provided exceeded the maximum amount allowed")};if(o("connectTimeout"),o("ackTimeout"),this._localEvents={connect:1,connectAbort:1,close:1,disconnect:1,message:1,error:1,raw:1,kickOut:1,subscribe:1,unsubscribe:1,subscribeStateChange:1,authStateChange:1,authenticate:1,deauthenticate:1,removeAuthToken:1,subscribeRequest:1},this.connectAttempts=0,this._emitBuffer=new c,this.channels={},this.options=e,this._cid=1,this.options.callIdGenerator=function(){return t._cid++},this.options.autoReconnect){null==this.options.autoReconnectOptions&&(this.options.autoReconnectOptions={});var s=this.options.autoReconnectOptions;null==s.initialDelay&&(s.initialDelay=1e4),null==s.randomness&&(s.randomness=1e4),null==s.multiplier&&(s.multiplier=1.5),null==s.maxDelay&&(s.maxDelay=6e4)}if(null==this.options.subscriptionRetryOptions&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new i,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=a,this.options.protocol){var u=new f('The "protocol" option does not affect socketcluster-client. If you want to utilize SSL/TLS - use "secure" option instead');this._onSCError(u)}this.options.path=this.options.path.replace(/\/$/,"")+"/",this.options.query=e.query||{},"string"==typeof this.options.query&&(this.options.query=l.parse(this.options.query)),this._channelEmitter=new r,this._unloadHandler=function(){t.disconnect()},y&&this.disconnectOnUnload&&global.addEventListener&&global.addEventListener("beforeunload",this._unloadHandler,!1),this._clientMap[this.clientId]=this,this.options.autoConnect&&this.connect()};E.prototype=Object.create(r.prototype),E.CONNECTING=E.prototype.CONNECTING=s.prototype.CONNECTING,E.OPEN=E.prototype.OPEN=s.prototype.OPEN,E.CLOSED=E.prototype.CLOSED=s.prototype.CLOSED,E.AUTHENTICATED=E.prototype.AUTHENTICATED="authenticated",E.UNAUTHENTICATED=E.prototype.UNAUTHENTICATED="unauthenticated",E.PENDING=E.prototype.PENDING="pending",E.ignoreStatuses=p.socketProtocolIgnoreStatuses,E.errorStatuses=p.socketProtocolErrorStatuses,E.prototype._privateEventHandlerMap={"#publish":function(e){var t=this._undecorateChannelName(e.channel);this.isSubscribed(t,!0)&&this._channelEmitter.emit(t,e.data)},"#kickOut":function(e){var t=this._undecorateChannelName(e.channel),n=this.channels[t];n&&(r.prototype.emit.call(this,"kickOut",e.message,t),n.emit("kickOut",e.message,t),this._triggerChannelUnsubscribe(n))},"#setAuthToken":function(e,t){var n=this;if(e){this.auth.saveToken(this.authTokenName,e.token,{},(function(r){r?(t.error(r),n._onSCError(r)):(n._changeToAuthenticatedState(e.token),t.end())}))}else t.error(new h("No token data provided by #setAuthToken event"))},"#removeAuthToken":function(e,t){var n=this;this.auth.removeToken(this.authTokenName,(function(e,o){e?(t.error(e),n._onSCError(e)):(r.prototype.emit.call(n,"removeAuthToken",o),n._changeToUnauthenticatedStateAndClearTokens(),t.end())}))},"#disconnect":function(e){this.transport.close(e.code,e.data)}},E.prototype.getState=function(){return this.state},E.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()},E.prototype.deauthenticate=function(e){var t=this;this.auth.removeToken(this.authTokenName,(function(n,o){n?t._onSCError(n):(r.prototype.emit.call(t,"removeAuthToken",o),t.state!==t.CLOSED&&t.emit("#removeAuthToken"),t._changeToUnauthenticatedStateAndClearTokens()),e&&e(n)}))},E.prototype.connect=E.prototype.open=function(){var e=this;if(this.active)this.state===this.CLOSED&&(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,r.prototype.emit.call(this,"connecting"),this.transport&&this.transport.off(),this.transport=new s(this.auth,this.codec,this.options),this.transport.on("open",(function(t){e.state=e.OPEN,e._onSCOpen(t)})),this.transport.on("error",(function(t){e._onSCError(t)})),this.transport.on("close",(function(t,n){e.state=e.CLOSED,e._onSCClose(t,n)})),this.transport.on("openAbort",(function(t,n){e.state=e.CLOSED,e._onSCClose(t,n,!0)})),this.transport.on("event",(function(t,n,r){e._onSCEvent(t,n,r)})));else{var t=new m("Cannot connect a destroyed client");this._onSCError(t)}},E.prototype.reconnect=function(e,t){this.disconnect(e,t),this.connect()},E.prototype.disconnect=function(e,t){if("number"!=typeof(e=e||1e3))throw new f("If specified, the code argument must be a number");this.state===this.OPEN||this.state===this.CONNECTING?this.transport.close(e,t):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))},E.prototype.destroy=function(e,t){y&&global.removeEventListener&&global.removeEventListener("beforeunload",this._unloadHandler,!1),this.active=!1,this.disconnect(e,t),delete this._clientMap[this.clientId]},E.prototype._changeToUnauthenticatedStateAndClearTokens=function(){if(this.authState!==this.UNAUTHENTICATED){var e=this.authState,t=this.signedAuthToken;this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null;var n={oldState:e,newState:this.authState};r.prototype.emit.call(this,"authStateChange",n),r.prototype.emit.call(this,"deauthenticate",t)}},E.prototype._changeToAuthenticatedState=function(e){if(this.signedAuthToken=e,this.authToken=this._extractAuthTokenData(e),this.authState!==this.AUTHENTICATED){var t=this.authState;this.authState=this.AUTHENTICATED;var n={oldState:t,newState:this.authState,signedAuthToken:e,authToken:this.authToken};this.preparingPendingSubscriptions||this.processPendingSubscriptions(),r.prototype.emit.call(this,"authStateChange",n)}r.prototype.emit.call(this,"authenticate",e)},E.prototype.decodeBase64=function(e){return u.from(e,"base64").toString("utf8")},E.prototype.encodeBase64=function(e){return u.from(e,"utf8").toString("base64")},E.prototype._extractAuthTokenData=function(e){var t=(e||"").split(".")[1];if(null!=t){var n=t;try{return n=this.decodeBase64(n),JSON.parse(n)}catch(e){return n}}return null},E.prototype.getAuthToken=function(){return this.authToken},E.prototype.getSignedAuthToken=function(){return this.signedAuthToken},E.prototype.authenticate=function(e,t){var n=this;this.emit("#authenticate",e,(function(r,o){o&&null!=o.isAuthenticated?o.authError&&(o.authError=p.hydrateError(o.authError)):o={isAuthenticated:n.authState,authError:null},r?("BadConnectionError"!==r.name&&"TimeoutError"!==r.name&&n._changeToUnauthenticatedStateAndClearTokens(),t&&t(r,o)):n.auth.saveToken(n.authTokenName,e,{},(function(r){r&&n._onSCError(r),o.isAuthenticated?n._changeToAuthenticatedState(e):n._changeToUnauthenticatedStateAndClearTokens(),t&&t(r,o)}))}))},E.prototype._tryReconnect=function(e){var t,n=this,r=this.connectAttempts++,o=this.options.autoReconnectOptions;if(null==e||r>0){var i=Math.round(o.initialDelay+(o.randomness||0)*Math.random());t=Math.round(i*Math.pow(o.multiplier,r))}else t=e;t>o.maxDelay&&(t=o.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=t,this._reconnectTimeoutRef=setTimeout((function(){n.connect()}),t)},E.prototype._onSCOpen=function(e){var t=this;this.preparingPendingSubscriptions=!0,e?(this.id=e.id,this.pingTimeout=e.pingTimeout,this.transport.pingTimeout=this.pingTimeout,e.isAuthenticated?this._changeToAuthenticatedState(e.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),r.prototype.emit.call(this,"connect",e,(function(){t.processPendingSubscriptions()})),this.state===this.OPEN&&this._flushEmitBuffer()},E.prototype._onSCError=function(e){var t=this;setTimeout((function(){if(t.listeners("error").length<1)throw e;r.prototype.emit.call(t,"error",e)}),0)},E.prototype._suspendSubscriptions=function(){var e,t;for(var n in this.channels)this.channels.hasOwnProperty(n)&&(t=(e=this.channels[n]).state===e.SUBSCRIBED||e.state===e.PENDING?e.PENDING:e.UNSUBSCRIBED,this._triggerChannelUnsubscribe(e,t))},E.prototype._abortAllPendingEventsDueToBadConnection=function(e){for(var t,n=this._emitBuffer.head;n;){t=n.next;var r=n.data;clearTimeout(r.timeout),delete r.timeout,n.detach(),n=t;var o=r.callback;if(o){delete r.callback;var i="Event '"+r.event+"' was aborted due to a bad connection",a=new v(i,e);o.call(r,a,r)}r.cid&&this.transport.cancelPendingResponse(r.cid)}},E.prototype._onSCClose=function(e,t,n){if(this.id=null,this.transport&&this.transport.off(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),this._abortAllPendingEventsDueToBadConnection(n?"connectAbort":"disconnect"),this.options.autoReconnect&&(4e3===e||4001===e||1005===e?this._tryReconnect(0):1e3!==e&&e<4500&&this._tryReconnect()),n?r.prototype.emit.call(this,"connectAbort",e,t):r.prototype.emit.call(this,"disconnect",e,t),r.prototype.emit.call(this,"close",e,t),!E.ignoreStatuses[e]){var o;o=t?"Socket connection closed with status code "+e+" and reason: "+t:"Socket connection closed with status code "+e;var i=new b(E.errorStatuses[e]||o,e);this._onSCError(i)}},E.prototype._onSCEvent=function(e,t,n){var o=this._privateEventHandlerMap[e];o?o.call(this,t,n):r.prototype.emit.call(this,e,t,(function(){n&&n.callback.apply(n,arguments)}))},E.prototype.decode=function(e){return this.transport.decode(e)},E.prototype.encode=function(e){return this.transport.encode(e)},E.prototype._flushEmitBuffer=function(){for(var e,t=this._emitBuffer.head;t;){e=t.next;var n=t.data;t.detach(),this.transport.emitObject(n),t=e}},E.prototype._handleEventAckTimeout=function(e,t){t&&t.detach(),delete e.timeout;var n=e.callback;if(n){delete e.callback;var r=new g("Event response for '"+e.event+"' timed out");n.call(e,r,e)}e.cid&&this.transport.cancelPendingResponse(e.cid)},E.prototype._emit=function(e,t,n){var r=this;this.state===this.CLOSED&&this.connect();var o={event:e,callback:n},i=new c.Item;this.options.cloneData?o.data=d(t):o.data=t,i.data=o,o.timeout=setTimeout((function(){r._handleEventAckTimeout(o,i)}),this.ackTimeout),this._emitBuffer.append(i),this.state===this.OPEN&&this._flushEmitBuffer()},E.prototype.send=function(e){this.transport.send(e)},E.prototype.emit=function(e,t,n){if(null==this._localEvents[e])this._emit(e,t,n);else if("error"===e)r.prototype.emit.call(this,e,t);else{var o=new m('The "'+e+'" event is reserved and cannot be emitted on a client socket');this._onSCError(o)}},E.prototype.publish=function(e,t,n){var r={channel:this._decorateChannelName(e),data:t};this.emit("#publish",r,n)},E.prototype._triggerChannelSubscribe=function(e,t){var n=e.name;if(e.state!==e.SUBSCRIBED){var o=e.state;e.state=e.SUBSCRIBED;var i={channel:n,oldState:o,newState:e.state,subscriptionOptions:t};e.emit("subscribeStateChange",i),e.emit("subscribe",n,t),r.prototype.emit.call(this,"subscribeStateChange",i),r.prototype.emit.call(this,"subscribe",n,t)}},E.prototype._triggerChannelSubscribeFail=function(e,t,n){var o=t.name,i=!t.waitForAuth||this.authState===this.AUTHENTICATED;t.state!==t.UNSUBSCRIBED&&i&&(t.state=t.UNSUBSCRIBED,t.emit("subscribeFail",e,o,n),r.prototype.emit.call(this,"subscribeFail",e,o,n))},E.prototype._cancelPendingSubscribeCallback=function(e){null!=e._pendingSubscriptionCid&&(this.transport.cancelPendingResponse(e._pendingSubscriptionCid),delete e._pendingSubscriptionCid)},E.prototype._decorateChannelName=function(e){return this.channelPrefix&&(e=this.channelPrefix+e),e},E.prototype._undecorateChannelName=function(e){return this.channelPrefix&&0===e.indexOf(this.channelPrefix)?e.replace(this.channelPrefix,""):e},E.prototype._trySubscribe=function(e){var t=this,n=!e.waitForAuth||this.authState===this.AUTHENTICATED;if(this.state===this.OPEN&&!this.preparingPendingSubscriptions&&null==e._pendingSubscriptionCid&&n){var o={noTimeout:!0},i={channel:this._decorateChannelName(e.name)};e.waitForAuth&&(o.waitForAuth=!0,i.waitForAuth=o.waitForAuth),e.data&&(i.data=e.data),e.batch&&(o.batch=!0,i.batch=!0),e._pendingSubscriptionCid=this.transport.emit("#subscribe",i,o,(function(n){delete e._pendingSubscriptionCid,n?t._triggerChannelSubscribeFail(n,e,i):t._triggerChannelSubscribe(e,i)})),r.prototype.emit.call(this,"subscribeRequest",e.name,i)}},E.prototype.subscribe=function(e,t){var n=this.channels[e];return n?t&&n.setOptions(t):(n=new o(e,this,t),this.channels[e]=n),n.state===n.UNSUBSCRIBED&&(n.state=n.PENDING,this._trySubscribe(n)),n},E.prototype._triggerChannelUnsubscribe=function(e,t){var n=e.name,o=e.state;if(e.state=t||e.UNSUBSCRIBED,this._cancelPendingSubscribeCallback(e),o===e.SUBSCRIBED){var i={channel:n,oldState:o,newState:e.state};e.emit("subscribeStateChange",i),e.emit("unsubscribe",n),r.prototype.emit.call(this,"subscribeStateChange",i),r.prototype.emit.call(this,"unsubscribe",n)}},E.prototype._tryUnsubscribe=function(e){if(this.state===this.OPEN){var t={noTimeout:!0};e.batch&&(t.batch=!0),this._cancelPendingSubscribeCallback(e);var n=this._decorateChannelName(e.name);this.transport.emit("#unsubscribe",n,t)}},E.prototype.unsubscribe=function(e){var t=this.channels[e];t&&t.state!==t.UNSUBSCRIBED&&(this._triggerChannelUnsubscribe(t),this._tryUnsubscribe(t))},E.prototype.channel=function(e,t){var n=this.channels[e];return n||(n=new o(e,this,t),this.channels[e]=n),n},E.prototype.destroyChannel=function(e){var t=this.channels[e];t&&(t.unwatch(),t.unsubscribe(),delete this.channels[e])},E.prototype.subscriptions=function(e){var t,n=[];for(var r in this.channels)this.channels.hasOwnProperty(r)&&(t=this.channels[r],(e?t&&(t.state===t.SUBSCRIBED||t.state===t.PENDING):t&&t.state===t.SUBSCRIBED)&&n.push(r));return n},E.prototype.isSubscribed=function(e,t){var n=this.channels[e];return t?!!n&&(n.state===n.SUBSCRIBED||n.state===n.PENDING):!!n&&n.state===n.SUBSCRIBED},E.prototype.processPendingSubscriptions=function(){var e=this;this.preparingPendingSubscriptions=!1;var t=[];for(var n in this.channels)if(this.channels.hasOwnProperty(n)){var r=this.channels[n];r.state===r.PENDING&&t.push(r)}t.sort((function(e,t){var n=e.priority||0,r=t.priority||0;return n>r?-1:n<r?1:0})),t.forEach((function(t){e._trySubscribe(t)}))},E.prototype.watch=function(e,t){if("function"!=typeof t)throw new f("No handler function was provided");this._channelEmitter.on(e,t)},E.prototype.unwatch=function(e,t){t?this._channelEmitter.removeListener(e,t):this._channelEmitter.removeAllListeners(e)},E.prototype.watchers=function(e){return this._channelEmitter.listeners(e)},e.exports=E},553:function(e,t,n){var r=n(233),o=r.InvalidActionError,i=function(e,t){this.socket=e,this.id=t,this.sent=!1};i.prototype._respond=function(e){if(this.sent)throw new o("Response "+this.id+" has already been sent");this.sent=!0,this.socket.send(this.socket.encode(e))},i.prototype.end=function(e){if(this.id){var t={rid:this.id};void 0!==e&&(t.data=e),this._respond(t)}},i.prototype.error=function(e,t){if(this.id){var n=r.dehydrateError(e),o={rid:this.id,error:n};void 0!==t&&(o.data=t),this._respond(o)}},i.prototype.callback=function(e,t){e?this.error(e,t):this.end(t)},e.exports.Response=i},554:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},555:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},556:function(e,t,n){var r=n(529);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},557:function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},558:function(e,t,n){var r=n(119),o=n(57);e.exports=function(e){return o(e)&&r(e)}},559:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return o.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return o.ActionCreators}}),Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return i.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return i.isHistory}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return i.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return i.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return i.combineFilters}}),Object.defineProperty(t,"groupByActionTypes",{enumerable:!0,get:function(){return i.groupByActionTypes}}),Object.defineProperty(t,"newHistory",{enumerable:!0,get:function(){return i.newHistory}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var r,o=n(560),i=n(561),a=(r=n(1293))&&r.__esModule?r:{default:r}},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectType=function(e){return Object.prototype.toString.call(e).slice(8,-1)};var r=function(e){return function(n){return t.getObjectType(n)===e}},o=function(e){return function(t){return typeof t===e}},i=function(e){switch(e){case null:return"null";case!0:case!1:return"boolean"}switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"bigint":return"bigint";case"symbol":return"symbol"}if(i.array(e))return"Array";if(i.function(e))return"Function";var n=t.getObjectType(e);return n||"Object"};i.array=Array.isArray,i.arrayOf=function(e,t){return!(!i.array(e)&&!i.function(t))&&e.every((function(e){return t(e)}))},i.asyncFunction=r("AsyncFunction"),i.boolean=function(e){return!0===e||!1===e},i.date=r("Date"),i.defined=function(e){return!i.undefined(e)},i.domElement=function(e){return i.object(e)&&!i.plainObject(e)&&1===e.nodeType&&i.string(e.nodeName)&&["innerHTML","ownerDocument","style","attributes","nodeValue"].every((function(t){return t in e}))},i.empty=function(e){return i.string(e)&&0===e.length||i.array(e)&&0===e.length||i.object(e)&&!i.map(e)&&!i.set(e)&&0===Object.keys(e).length||i.set(e)&&0===e.size||i.map(e)&&0===e.size},i.error=r("Error"),i.function=r("Function"),i.generator=function(e){return i.iterable(e)&&i.function(e.next)&&i.function(e.throw)},i.generatorFunction=r("GeneratorFunction"),i.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},i.iterable=function(e){return!i.nullOrUndefined(e)&&i.function(e[Symbol.iterator])},i.map=r("Map"),i.nan=function(e){return Number.isNaN(e)},i.null=function(e){return null===e},i.nullOrUndefined=function(e){return i.null(e)||i.undefined(e)},i.number=function(e){return o("number")(e)&&!i.nan(e)},i.numericString=function(e){return i.string(e)&&e.length>0&&!Number.isNaN(Number(e))},i.object=function(e){return!i.nullOrUndefined(e)&&(i.function(e)||"object"==typeof e)},i.oneOf=function(e,t){return!!i.array(e)&&e.indexOf(t)>-1},i.plainObject=function(e){if("Object"!==t.getObjectType(e))return!1;var n=Object.getPrototypeOf(e);return null===n||n===Object.getPrototypeOf({})},i.promise=r("Promise"),i.propertyOf=function(e,t,n){if(!i.object(e)||!t)return!1;var r=e[t];return i.function(n)?n(r):i.defined(r)},i.regexp=r("RegExp"),i.set=r("Set"),i.string=o("string"),i.symbol=o("symbol"),i.undefined=o("undefined"),i.weakMap=r("WeakMap"),i.weakSet=r("WeakSet"),t.default=i},560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionCreators=t.ActionTypes=void 0;var r={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionTypes=r;var o={undo:function(){return{type:r.UNDO}},redo:function(){return{type:r.REDO}},jumpToFuture:function(e){return{type:r.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:r.JUMP_TO_PAST,index:e}},jump:function(e){return{type:r.JUMP,index:e}},clearHistory:function(){return{type:r.CLEAR_HISTORY}}};t.ActionCreators=o},561:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=r,t.isHistory=function(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)},t.includeAction=function(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0}},t.excludeAction=function(e){var t=r(e);return function(e){return t.indexOf(e.type)<0}},t.combineFilters=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return function(n,r,o){return e(n,r,o)&&t(n,r,o)}}),(function(){return!0}))},t.groupByActionTypes=function(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}},t.newHistory=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:t,future:n,group:r,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}},562:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.focusIsEditable=function(){return"INPUT"==document.activeElement.tagName||!(!document.activeElement.dataset.slateEditor||"true"!=document.activeElement.dataset.slateEditor)}},564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var r=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function i(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&i(e,!n)}e.exports=t.default},565:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"==typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t=n}return s=t||s},t.validateElement=c,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=c(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.setAttribute("aria-hidden","true")}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=c(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.removeAttribute("aria-hidden")}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,o=n(1301),i=(r=o)&&r.__esModule?r:{default:r},a=n(327);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},566:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},62:function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t){try{return t in e}catch(e){return!1}}function c(e,t,n){var r={};return n.isMergeableObject(e)&&s(e).forEach((function(t){r[t]=i(e[t],n)})),s(t).forEach((function(o){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(l(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"==typeof n?n:u}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}function u(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):c(e,t,n):i(t,n)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var d=u;e.exports=d},625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1208),o=n(1209);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return"number"==typeof e}))}t.default=function(e,t){if(!e||!t)throw new Error("Missing required parameters");return{changed:function(n){var i=o.get(e,n),a=o.get(t,n);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(Array.isArray)}(i,a)||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){if(!e)return!1;var t=Object.getPrototypeOf(e);return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&(null===t||t===Object.getPrototypeOf({}))}))}(i,a)?!!r.diff(i,a):i!==a},changedFrom:function(n,r,i){if(void 0===n)throw new Error("Key parameter is required");var a=void 0!==r&&void 0!==i,s=o.get(e,n),l=o.get(t,n),c=Array.isArray(r)?r.indexOf(s)>=0:s===r,u=Array.isArray(i)?i.indexOf(l)>=0:l===i;return c&&(a?u:!a)},changedTo:function(n,r){if(void 0===n)throw new Error("Key parameter is required");var i=o.get(e,n),a=o.get(t,n),s=Array.isArray(r)?r.indexOf(i)<0:i!==r,l=Array.isArray(r)?r.indexOf(a)>=0:a===r;return s&&l},increased:function(n){if(void 0===n)throw new Error("Key parameter is required");return i(o.get(e,n),o.get(t,n))&&o.get(e,n)<o.get(t,n)},decreased:function(n){if(void 0===n)throw new Error("Key parameter is required");return i(o.get(e,n),o.get(t,n))&&o.get(e,n)>o.get(t,n)}}}},626:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},627:function(e,t){var n=new Error("Element already at target scroll position"),r=new Error("Scroll cancelled"),o=Math.min,i=Date.now;function a(e){return function(t,a,c,u){"function"==typeof(c=c||{})&&(u=c,c={}),"function"!=typeof u&&(u=l);var d=i(),p=t[e],f=c.ease||s,h=isNaN(c.duration)?350:+c.duration,m=!1;return p===a?u(n,t[e]):requestAnimationFrame((function n(s){if(m)return u(r,t[e]);var l=i(),c=o(1,(l-d)/h),b=f(c);t[e]=b*(a-p)+p,c<1?requestAnimationFrame(n):requestAnimationFrame((function(){u(null,t[e])}))})),function(){m=!0}}}function s(e){return.5*(1-Math.cos(Math.PI*e))}function l(){}e.exports={left:a("scrollLeft"),top:a("scrollTop")}},628:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},629:function(e,t,n){"use strict";(function(e){var t=A(n(23)),r=A(n(21)),o=A(n(2)),i=n(11),a=n(24),s=n(7),l=A(n(651)),c=n(548),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=T();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(18)),d=n(12),p=A(n(68)),f=n(325),h=A(n(326)),m=A(n(563)),b=A(n(36)),g=A(n(1296)),v=A(n(46)),y=A(n(500)),E=n(559),w=n(22),O=n(328),S=n(1304),C=n(232),_=n(329),k=n(562),x=n(1305),I=A(n(293));function T(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return T=function(){return e},e}function A(e){return e&&e.__esModule?e:{default:e}}const{app:P,dialog:j}=u.remote,D=u.remote.getCurrentWindow();(0,s.setupI18n)(v.default,{electron:u.default}),n(567).config({path:r.default.resolve(e,"..",".env")});const R=(0,h.default)("app.html");process.on("uncaughtException",e=>{b.default.error(e),R.error(e)}),(0,f.ensureBackupTodayPath)(),g.default.setAppElement("#react-root");const N=document.getElementById("react-root");function M(e,n,r){(0,m.default)(),D.setTitle((0,O.displayFileName)(e)),D.setRepresentedFilename(e);const{darkMode:s,beatHierarchy:u}=n;try{const n=JSON.parse(t.default.readFileSync(e,"utf-8"));(0,f.saveBackup)(e,n,t=>{t?(b.default.warn("[file open backup]",t),R.error({message:"BACKUP failed"}),R.warn(t,{fileName:e})):b.default.info("[file open backup]","success",e)}),(0,d.migrateIfNeeded)(P.getVersion(),n,e,null,(t,n,f)=>{t&&(R.error(t),b.default.error(t)),c.store.dispatch(d.actions.ui.loadFile(e,n,f,f.file.version)),p.default.projectEventStats("open_file",{online:navigator.onLine,version:f.file.version,number_open:r},f),f.ui&&f.ui.darkMode!==s&&c.store.dispatch(d.actions.ui.setDarkMode(s)),s&&(window.document.body.className="darkmode");const h=(0,x.dispatchingToStore)(c.store.dispatch);(0,x.makeFlagConsistent)(f,u,d.featureFlags.BEAT_HIERARCHY_FLAG,h(d.actions.featureFlags.setBeatHierarchy),h(d.actions.featureFlags.unsetBeatHierarchy)),f&&f.tour&&f.tour.showTour&&c.store.dispatch(d.actions.ui.changeOrientation("horizontal")),(0,i.render)(o.default.createElement(a.Provider,{store:c.store},o.default.createElement(l.default,{showTour:f&&f.tour&&f.tour.showTour})),N)})}catch(e){b.default.error(e),R.error(e)}}window.specialDelivery=e=>{c.store.dispatch(e)},u.ipcRenderer.on("state-saved",e=>{}),u.ipcRenderer.send("pls-fetch-state",D.id),u.ipcRenderer.on("state-fetched",(e,t,n,r)=>{M(t,n,r)}),u.ipcRenderer.on("reload-from-file",(e,t,n,r)=>{M(t,n,r)}),u.ipcRenderer.on("set-dark-mode",(e,t)=>{c.store.dispatch(d.actions.ui.setDarkMode(t)),window.document.body.className=t?"darkmode":""}),u.ipcRenderer.on("set-beat-hierarchy",e=>{c.store.dispatch(d.actions.featureFlags.setBeatHierarchy())}),u.ipcRenderer.on("unset-beat-hierarchy",e=>{c.store.dispatch(d.actions.featureFlags.unsetBeatHierarchy())}),u.ipcRenderer.on("save-custom-template",(e,t)=>{const n=c.store.getState();(0,S.addNewCustomTemplate)(n.present,t)}),u.ipcRenderer.on("export-file-from-menu",(e,{type:t})=>{const n=c.store.getState(),{ui:r,series:{name:o},books:i}=n.present,a=r.currentTimeline,l="series"==a?o+" "+(0,s.t)("(Series View)"):i[""+a].title;(0,y.default)(l,n.present,t,I.default[t],(e,t)=>{if(e)return b.default.error(e),void j.showErrorBox((0,s.t)("Error"),(0,s.t)("There was an error doing that. Try again"))})}),u.ipcRenderer.on("save",()=>{const{present:e}=c.store.getState();(0,C.saveFile)(e.file.fileName,e)}),u.ipcRenderer.on("save-as",()=>{const{present:e}=c.store.getState(),t=r.default.basename(e.file.fileName).replace(".pltr",""),n=j.showSaveDialogSync(D,{filters:[{name:"Plottr file",extensions:["pltr"]}],title:(0,s.t)("Where would you like to save this copy?"),defaultPath:t});if(n){let t=n.includes(".pltr")?n:n+".pltr";(0,C.saveFile)(t,e),u.ipcRenderer.send("pls-open-window",t,!0)}}),u.ipcRenderer.on("move-from-temp",()=>{const{present:e}=c.store.getState(),t=j.showSaveDialogSync(D,{filters:[{name:"Plottr file",extensions:["pltr"]}],title:(0,s.t)("Where would you like to save this file?")});t&&(c.store.dispatch(d.actions.ui.editFileName(t)),(0,_.removeFromTempFiles)(e.file.fileName),(0,O.editKnownFilePath)(e.file.fileName,t),D.setRepresentedFilename(t),D.setTitle((0,O.displayFileName)(t)),u.ipcRenderer.send("pls-tell-dashboard-to-reload-recents"))}),u.ipcRenderer.on("undo",e=>{if((0,k.focusIsEditable)()){D.webContents.undo();const e=w.editorRegistry.getEditor(document.activeElement);null!=e&&e.undo()}else c.store.dispatch(E.ActionCreators.undo())}),u.ipcRenderer.on("redo",e=>{if((0,k.focusIsEditable)()){D.webContents.redo();const e=w.editorRegistry.getEditor(document.activeElement);null!=e&&e.redo()}else c.store.dispatch(E.ActionCreators.redo())}),u.ipcRenderer.on("acts-tour-start",e=>{D.close();const{present:t}=c.store.getState(),n=t.file.fileName;c.store.dispatch(d.actions.tour.setTourFeature({name:"acts",id:1,endStep:8})),u.ipcRenderer.send("pls-open-window",n,!0)}),window.onerror=function(e,t,n,r,o){b.default.error(o),R.error(o)},window.SCROLLWITHKEYS=!0,document.addEventListener("keydown",e=>{if(window.SCROLLWITHKEYS){const t=document.querySelector(".sticky-table");if(t)if("ArrowUp"===e.key){let n=300;(e.metaKey||e.ctrlKey||e.altKey)&&(n=800),t.scrollTop-=n}else if("ArrowRight"===e.key){let n=400;(e.metaKey||e.ctrlKey||e.altKey)&&(n=800),t.scrollLeft+=n}else if("ArrowDown"===e.key){let n=300;(e.metaKey||e.ctrlKey||e.altKey)&&(n=800),t.scrollTop+=n}else if("ArrowLeft"===e.key){let n=400;(e.metaKey||e.ctrlKey||e.altKey)&&(n=800),t.scrollLeft-=n}}}),window.logger=function(e){process.env.LOGGER=e.toString()}}).call(this,"/")},651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(18),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),i=h(n(16)),a=h(n(652)),s=h(n(1185)),l=h(n(1245)),c=n(22),u=n(547),d=n(232),p=n(548),f=n(562);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=!1,v=!1;class y extends o.Component{constructor(...e){super(...e),b(this,"state",{showTemplateCreate:!1,type:null,showAskToSave:!1,blockClosing:!0,showTour:this.props.showTour}),b(this,"askToSave",e=>{if(this.state.blockClosing){if((0,f.focusIsEditable)(),!(0,u.hasPreviousAction)())return this.setState({blockClosing:!1}),this.closeOrRefresh(v);e.returnValue="nope",this.setState({showAskToSave:!0})}}),b(this,"dontSaveAndClose",()=>{this.setState({showAskToSave:!1,blockClosing:!1}),this.closeOrRefresh(!0)}),b(this,"saveAndClose",()=>{this.setState({showAskToSave:!1,blockClosing:!1});const{present:e}=p.store.getState();(0,d.saveFile)(e.file.fileName,e),this.closeOrRefresh(!0)}),b(this,"closeOrRefresh",e=>{g?location.reload():e&&window.close()})}componentDidMount(){r.ipcRenderer.on("save-as-template-start",(e,t)=>{this.setState({showTemplateCreate:!0,type:t})}),r.ipcRenderer.on("reload",()=>{g=!0,this.askToSave({})}),r.ipcRenderer.on("wants-to-close",()=>{v=!0,this.askToSave({})}),r.ipcRenderer.on("reload",()=>{g=!0,this.askToSave({})}),window.addEventListener("beforeunload",this.askToSave)}componentWillUnmount(){r.ipcRenderer.removeAllListeners("save-as-template-start"),r.ipcRenderer.removeAllListeners("reload"),r.ipcRenderer.removeAllListeners("wants-to-close"),window.removeEventListener("beforeunload",this.askToSave)}renderTemplateCreate(){return this.state.showTemplateCreate?o.default.createElement(c.TemplateCreate,{type:this.state.type,close:()=>this.setState({showTemplateCreate:!1})}):null}renderAskToSave(){return this.state.showAskToSave?o.default.createElement(c.AskToSaveModal,{dontSave:this.dontSaveAndClose,save:this.saveAndClose,cancel:()=>this.setState({showAskToSave:!1})}):null}renderGuidedTour(){let e=p.store.getState().present.tour.feature.name;return console.log(e,"feature"),e&&p.store.getState().present.featureFlags.BEAT_HIERARCHY&&e?o.default.createElement(l.default,null):null}render(){return o.default.createElement(c.ErrorBoundary,null,o.default.createElement(c.ErrorBoundary,null,o.default.createElement(a.default,null)),o.default.createElement("main",{className:"project-main tour-end"},o.default.createElement(s.default,null)),this.renderTemplateCreate(),this.renderAskToSave(),this.state.showTour&&this.renderGuidedTour())}}t.default=y,y.propTypes={showTour:i.default.bool}},652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=m(n(16)),i=n(27),a=n(24),s=n(20),l=m(n(726)),c=n(7),u=n(18),d=n(22),p=m(n(46)),f=n(12),h=n(85);function m(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}const g=p.default.get("trialMode");class v extends r.Component{constructor(...e){var t,n,r;super(...e),r=e=>{this.props.actions.changeCurrentView(e)},(n="handleSelect")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}renderTrialLinks(){return g?r.default.createElement(s.Navbar.Form,{pullRight:!0,style:{marginRight:"15px"}},r.default.createElement(s.Button,{bsStyle:"link",onClick:()=>u.ipcRenderer.send("open-buy-window")},r.default.createElement(h.FaKey,null)," ",(0,c.t)("Get a License"))):null}render(){const{ui:e}=this.props;return r.default.createElement(s.Navbar,{className:"project-nav",fluid:!0,inverse:e.darkMode},r.default.createElement(s.Nav,{onSelect:this.handleSelect,activeKey:e.currentView,bsStyle:"pills"},r.default.createElement(l.default,null),r.default.createElement(s.NavItem,{eventKey:"project"},(0,c.t)("Project")),r.default.createElement(s.NavItem,{eventKey:"timeline"},(0,c.t)("Timeline")),r.default.createElement(s.NavItem,{eventKey:"outline"},(0,c.t)("Outline")),r.default.createElement(s.NavItem,{eventKey:"notes"},(0,c.t)("Notes")),r.default.createElement(s.NavItem,{eventKey:"characters"},(0,c.t)("Characters")),r.default.createElement(s.NavItem,{eventKey:"places"},(0,c.t)("Places")),r.default.createElement(s.NavItem,{eventKey:"tags"},(0,c.t)("Tags")),null),r.default.createElement(d.Beamer,{inNavigation:!0}),this.renderTrialLinks())}}v.propTypes={ui:o.default.object.isRequired,actions:o.default.object.isRequired};var y=(0,a.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{actions:(0,i.bindActionCreators)(f.actions.ui,e)}}))(v);t.default=y},70:function(e,t){e.exports=require("http")},71:function(e,t){e.exports=require("querystring")},726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2)),i=(r=n(16))&&r.__esModule?r:{default:r},a=n(24),s=n(27),l=n(20),c=n(7),u=n(12);function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{books:{isSeries:f}}=u.helpers,h=u.actions.ui,m=["notes","characters","places","tags"];class b extends o.Component{constructor(...e){super(...e),p(this,"isDisabled",()=>m.includes(this.props.ui.currentView)),p(this,"bookTitle",e=>e.title||(0,c.t)("Untitled"))}handleChange(e){this.props.actions.changeCurrentTimeline(e),"story"==this.props.ui.currentView&&this.props.actions.changeCurrentView("timeline")}renderBookList(){const{books:e}=this.props;return e.allIds.map(t=>{const n=e[t]||e[""+t];return o.default.createElement(l.MenuItem,{key:t,onSelect:()=>this.handleChange(t)},this.bookTitle(n))})}render(){const{ui:e,books:t,series:n}=this.props,r=""==n.name?(0,c.t)("Series View"):`${n.name} (${(0,c.t)("Series View")})`;let i=r;return f(e.currentTimeline)||(i=this.bookTitle(t[e.currentTimeline])),o.default.createElement(l.NavDropdown,{id:"book_chooser",title:i,disabled:this.isDisabled(),style:{margin:"0 16px 0 8px"}},o.default.createElement(l.MenuItem,{onSelect:()=>this.handleChange("series")},r),o.default.createElement(l.MenuItem,{divider:!0}),this.renderBookList())}}p(b,"propTypes",{ui:i.default.object.isRequired,books:i.default.object.isRequired,series:i.default.object.isRequired,actions:i.default.object.isRequired});var g=(0,a.connect)((function(e){return{ui:e.present.ui,books:e.present.books,series:e.present.series}}),(function(e){return{actions:(0,s.bindActionCreators)(h,e)}}))(b);t.default=g},90:function(e,t){e.exports=require("net")},91:function(e,t){e.exports=require("https")}});
//# sourceMappingURL=https://raw.githubusercontent.com/Plotinator/pltr_sourcemaps/main/2021.5.3/app.map