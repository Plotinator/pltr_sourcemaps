!function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],a[o]&&p.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={2:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([398,1,0]),r()}([,,,,function(e,t,r){"use strict";r.d(t,"xb",(function(){return n})),r.d(t,"yb",(function(){return a})),r.d(t,"Cb",(function(){return i})),r.d(t,"K",(function(){return o})),r.d(t,"M",(function(){return s})),r.d(t,"J",(function(){return c})),r.d(t,"bc",(function(){return l})),r.d(t,"gc",(function(){return u})),r.d(t,"fc",(function(){return d})),r.d(t,"ic",(function(){return p})),r.d(t,"ec",(function(){return f})),r.d(t,"hc",(function(){return h})),r.d(t,"Ab",(function(){return m})),r.d(t,"S",(function(){return g})),r.d(t,"zb",(function(){return b})),r.d(t,"dc",(function(){return v})),r.d(t,"Bb",(function(){return y})),r.d(t,"wb",(function(){return _})),r.d(t,"R",(function(){return E})),r.d(t,"jc",(function(){return w})),r.d(t,"O",(function(){return O})),r.d(t,"cc",(function(){return x})),r.d(t,"q",(function(){return C})),r.d(t,"pb",(function(){return k})),r.d(t,"Zb",(function(){return I})),r.d(t,"bb",(function(){return j})),r.d(t,"H",(function(){return S})),r.d(t,"a",(function(){return T})),r.d(t,"eb",(function(){return A})),r.d(t,"Ub",(function(){return N})),r.d(t,"T",(function(){return D})),r.d(t,"G",(function(){return P})),r.d(t,"c",(function(){return R})),r.d(t,"e",(function(){return M})),r.d(t,"hb",(function(){return F})),r.d(t,"gb",(function(){return L})),r.d(t,"V",(function(){return B})),r.d(t,"L",(function(){return q})),r.d(t,"N",(function(){return H})),r.d(t,"I",(function(){return z})),r.d(t,"Xb",(function(){return U})),r.d(t,"Wb",(function(){return W})),r.d(t,"y",(function(){return G})),r.d(t,"A",(function(){return V})),r.d(t,"C",(function(){return K})),r.d(t,"Ib",(function(){return $})),r.d(t,"Mb",(function(){return Y})),r.d(t,"Pb",(function(){return J})),r.d(t,"k",(function(){return X})),r.d(t,"m",(function(){return Z})),r.d(t,"lb",(function(){return Q})),r.d(t,"kb",(function(){return ee})),r.d(t,"Yb",(function(){return te})),r.d(t,"Y",(function(){return re})),r.d(t,"ub",(function(){return ne})),r.d(t,"P",(function(){return ae})),r.d(t,"s",(function(){return ie})),r.d(t,"t",(function(){return oe})),r.d(t,"sb",(function(){return se})),r.d(t,"rb",(function(){return ce})),r.d(t,"ac",(function(){return le})),r.d(t,"cb",(function(){return ue})),r.d(t,"vb",(function(){return de})),r.d(t,"Q",(function(){return pe})),r.d(t,"o",(function(){return fe})),r.d(t,"nb",(function(){return he})),r.d(t,"ab",(function(){return me})),r.d(t,"F",(function(){return ge})),r.d(t,"x",(function(){return be})),r.d(t,"Sb",(function(){return ve})),r.d(t,"Fb",(function(){return ye})),r.d(t,"u",(function(){return _e})),r.d(t,"i",(function(){return Ee})),r.d(t,"tb",(function(){return we})),r.d(t,"db",(function(){return Oe})),r.d(t,"f",(function(){return xe})),r.d(t,"h",(function(){return Ce})),r.d(t,"ib",(function(){return ke})),r.d(t,"W",(function(){return Ie})),r.d(t,"D",(function(){return je})),r.d(t,"v",(function(){return Se})),r.d(t,"Qb",(function(){return Te})),r.d(t,"Db",(function(){return Ae})),r.d(t,"n",(function(){return Ne})),r.d(t,"mb",(function(){return De})),r.d(t,"Z",(function(){return Pe})),r.d(t,"z",(function(){return Re})),r.d(t,"B",(function(){return Me})),r.d(t,"E",(function(){return Fe})),r.d(t,"w",(function(){return Le})),r.d(t,"Jb",(function(){return Be})),r.d(t,"Nb",(function(){return qe})),r.d(t,"Rb",(function(){return He})),r.d(t,"Eb",(function(){return ze})),r.d(t,"g",(function(){return Ue})),r.d(t,"p",(function(){return We})),r.d(t,"d",(function(){return Ge})),r.d(t,"l",(function(){return Ve})),r.d(t,"r",(function(){return Ke})),r.d(t,"Hb",(function(){return $e})),r.d(t,"Lb",(function(){return Ye})),r.d(t,"Gb",(function(){return Je})),r.d(t,"Kb",(function(){return Xe})),r.d(t,"Ob",(function(){return Ze})),r.d(t,"jb",(function(){return Qe})),r.d(t,"ob",(function(){return et})),r.d(t,"j",(function(){return tt})),r.d(t,"Tb",(function(){return rt})),r.d(t,"X",(function(){return nt})),r.d(t,"qb",(function(){return at})),r.d(t,"b",(function(){return it})),r.d(t,"fb",(function(){return ot})),r.d(t,"U",(function(){return st})),r.d(t,"Vb",(function(){return ct}));const n="FILE_LOADED",a="FILE_SAVED",i="NEW_FILE",o="CHANGE_CURRENT_VIEW",s="CHANGE_ORIENTATION",c="CHANGE_CURRENT_TIMELINE",l="RESET",u="SET_DARK_MODE",d="SET_CHARACTER_SORT",p="SET_PLACE_SORT",f="SET_CHARACTER_FILTER",h="SET_PLACE_FILTER",m="INCREASE_ZOOM",g="DECREASE_ZOOM",b="FIT_ZOOM",v="RESET_ZOOM",y="NAVIGATE_TO_BOOK_TIMELINE",_="EXPAND_TIMELINE",E="COLLAPSE_TIMELINE",w="SET_TIMELINE_FILTER",O="CLEAR_TEMPLATE_FROM_TIMELINE",x="RESET_TIMELINE",C="ADD_SCENE",k="EDIT_SCENE_TITLE",I="REORDER_SCENES",j="DELETE_SCENE",S="AUTO_SORT_CHAPTER",T="ADD_BEAT",A="EDIT_BEAT_TITLE",N="REORDER_BEATS",D="DELETE_BEAT",P="AUTO_SORT_BEAT",R="ADD_CARD",M="ADD_CARD_IN_CHAPTER",F="EDIT_CARD_DETAILS",L="EDIT_CARD_COORDINATES",B="DELETE_CARD",q="CHANGE_STORYLINE",H="CHANGE_SCENE",z="CHANGE_BOOK",U="REORDER_CARDS_WITHIN_LINE",W="REORDER_CARDS_IN_CHAPTER",G="ATTACH_CHARACTER_TO_CARD",V="ATTACH_PLACE_TO_CARD",K="ATTACH_TAG_TO_CARD",$="REMOVE_CHARACTER_FROM_CARD",Y="REMOVE_PLACE_FROM_CARD",J="REMOVE_TAG_FROM_CARD",X="ADD_STORYLINE",Z="ADD_LINES_FROM_TEMPLATE",Q="EDIT_STORYLINE_TITLE",ee="EDIT_STORYLINE_COLOR",te="REORDER_STORYLINES",re="DELETE_STORYLINE",ne="EXPAND_LINE",ae="COLLAPSE_LINE",ie="ADD_SERIES_LINE",oe="ADD_SERIES_LINES_FROM_TEMPLATE",se="EDIT_SERIES_LINE_TITLE",ce="EDIT_SERIES_LINE_COLOR",le="REORDER_SERIES_LINES",ue="DELETE_SERIES_LINE",de="EXPAND_SERIES_LINE",pe="COLLAPSE_SERIES_LINE",fe="ADD_PLACE",he="EDIT_PLACE",me="DELETE_PLACE",ge="ATTACH_TAG_TO_PLACE",be="ATTACH_BOOK_TO_PLACE",ve="REMOVE_TAG_FROM_PLACE",ye="REMOVE_BOOK_FROM_PLACE",_e="ADD_TAG",Ee="ADD_CREATED_TAG",we="EDIT_TAG",Oe="DELETE_TAG",xe="ADD_CHARACTER",Ce="ADD_CHARACTER_WITH_TEMPLATE",ke="EDIT_CHARACTER",Ie="DELETE_CHARACTER",je="ATTACH_TAG_TO_CHARACTER",Se="ATTACH_BOOK_TO_CHARACTER",Te="REMOVE_TAG_FROM_CHARACTER",Ae="REMOVE_BOOK_FROM_CHARACTER",Ne="ADD_NOTE",De="EDIT_NOTE",Pe="DELETE_NOTE",Re="ATTACH_CHARACTER_TO_NOTE",Me="ATTACH_PLACE_TO_NOTE",Fe="ATTACH_TAG_TO_NOTE",Le="ATTACH_BOOK_TO_NOTE",Be="REMOVE_CHARACTER_FROM_NOTE",qe="REMOVE_PLACE_FROM_NOTE",He="REMOVE_TAG_FROM_NOTE",ze="REMOVE_BOOK_FROM_NOTE",Ue="ADD_CHARACTER_ATTRIBUTE",We="ADD_PLACES_ATTRIBUTE",Ge="ADD_CARDS_ATTRIBUTE",Ve="ADD_LINES_ATTRIBUTE",Ke="ADD_SCENES_ATTRIBUTE",$e="REMOVE_CHARACTER_ATTRIBUTE",Ye="REMOVE_PLACES_ATTRIBUTE",Je="REMOVE_CARDS_ATTRIBUTE",Xe="REMOVE_LINES_ATTRIBUTE",Ze="REMOVE_SCENES_ATTRIBUTE",Qe="EDIT_CHARACTER_ATTRIBUTE",et="EDIT_PLACES_ATTRIBUTE",tt="ADD_IMAGE",rt="RENAME_IMAGE",nt="DELETE_IMAGE",at="EDIT_SERIES",it="ADD_BOOK",ot="EDIT_BOOK",st="DELETE_BOOK",ct="REORDER_BOOKS"},function(e,t,r){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}function a(e){var t,r;return!1!==n(e)&&("function"==typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}var i,o,s,c="undefined"!=typeof Symbol,l="undefined"!=typeof Map,u="undefined"!=typeof Set,d=c?Symbol("immer-nothing"):((i={})["immer-nothing"]=!0,i),p=c?Symbol("immer-draftable"):"__$immer_draftable",f=c?Symbol("immer-state"):"__$immer_state",h=c?Symbol.iterator:"@@iterator",m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function g(e,t){function r(){this.constructor=e}m(e,t),e.prototype=(r.prototype=t.prototype,new r)}function b(e){return!!e&&!!e[f]}function v(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[p]||!!e.constructor[p]||C(e)||k(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(o||(o={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(s||(s={}));var y="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function _(e,t){E(e)===o.Object?y(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function E(e){if(e||A(),e[f])switch(e[f].type){case s.ES5Object:case s.ProxyObject:return o.Object;case s.ES5Array:case s.ProxyArray:return o.Array;case s.Map:return o.Map;case s.Set:return o.Set}return Array.isArray(e)?o.Array:C(e)?o.Map:k(e)?o.Set:o.Object}function w(e,t){return E(e)===o.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return E(e)===o.Map?e.get(t):e[t]}function x(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function C(e){return l&&e instanceof Map}function k(e){return u&&e instanceof Set}function I(e){return e.copy||e.base}function j(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return y(e).forEach((function(n){if(n!==f){var a=Object.getOwnPropertyDescriptor(e,n),i=a.value;if(a.get){if(!t)throw new Error("Immer drafts cannot have computed properties");i=a.get.call(e)}a.enumerable?r[n]=i:Object.defineProperty(r,n,{value:i,writable:!0,configurable:!0})}})),r}function S(e,t){if(v(e)&&!b(e)&&!Object.isFrozen(e)){var r=E(e);r===o.Set?e.add=e.clear=e.delete=T:r===o.Map&&(e.set=e.clear=e.delete=T),Object.freeze(e),t&&_(e,(function(e,t){return S(t,!0)}))}}function T(){throw new Error("This object has been frozen and should not be mutated")}function A(){throw new Error("Illegal state, please file a bug")}var N=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(D),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function D(e){var t=e[f];t.type===s.ProxyObject||t.type===s.ProxyArray?t.revoke():t.revoked=!0}function P(e,t,r){var n=r.drafts[0],a=void 0!==t&&t!==n;if(e.willFinalize(r,t,a),a){if(n[f].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");v(t)&&(t=R(e,t,r),r.parent||F(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[f].base}))}else t=R(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==d?t:void 0}function R(e,t,r,n){var a=t[f];if(!a)return Object.isFrozen(t)?t:M(e,t,r);if(a.scope!==r)return t;if(!a.modified)return F(e,a.base,!0),a.base;if(!a.finalized){if(a.finalized=!0,M(e,a.draft,r,n),e.onDelete&&a.type!==s.Set)if(e.useProxies){_(a.assigned,(function(t,r){r||e.onDelete(a,t)}))}else{var i=a.base,o=a.copy;_(i,(function(t){w(o,t)||e.onDelete(a,t)}))}e.onCopy&&e.onCopy(a),e.autoFreeze&&r.canAutoFreeze&&S(a.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case s.ProxyObject:case s.ES5Object:case s.Map:return function(e,t,r,n){var a=e.base,i=e.copy;_(e.assigned,(function(e,o){var s=O(a,e),c=O(i,e),l=o?w(a,e)?"replace":"add":"remove";if(s!==c||"replace"!==l){var u=t.concat(e);r.push("remove"===l?{op:l,path:u}:{op:l,path:u,value:c}),n.push("add"===l?{op:"remove",path:u}:"remove"===l?{op:"add",path:u,value:s}:{op:"replace",path:u,value:s})}}))}(e,t,r,n);case s.ES5Array:case s.ProxyArray:return function(e,t,r,n){var a,i,o=e.base,s=e.assigned,c=e.copy;c||A();c.length<o.length&&(o=(a=[c,o])[0],c=a[1],r=(i=[n,r])[0],n=i[1]);var l=c.length-o.length,u=0;for(;o[u]===c[u]&&u<o.length;)++u;var d=o.length;for(;d>u&&o[d-1]===c[d+l-1];)--d;for(var p=u;p<d;++p)if(s[p]&&c[p]!==o[p]){var f=t.concat([p]);r.push({op:"replace",path:f,value:c[p]}),n.push({op:"replace",path:f,value:o[p]})}var h=r.length;for(p=d+l-1;p>=d;--p){f=t.concat([p]);r[h+p-d]={op:"add",path:f,value:c[p]},n.push({op:"remove",path:f})}}(e,t,r,n);case s.Set:(function(e,t,r,n){var a=e.base,i=e.copy,o=0;a.forEach((function(e){if(!i.has(e)){var a=t.concat([o]);r.push({op:"remove",path:a,value:e}),n.unshift({op:"add",path:a,value:e})}o++})),o=0,i.forEach((function(e){if(!a.has(e)){var i=t.concat([o]);r.push({op:"add",path:i,value:e}),n.unshift({op:"remove",path:i,value:e})}o++}))})(e,t,r,n)}}(a,n,r.patches,r.inversePatches)}return a.copy}function M(e,t,r,n){var a=t[f];return a&&(a.type!==s.ES5Object&&a.type!==s.ES5Array||(a.copy=j(a.draft,!0)),t=a.copy),_(t,(function(i,s){return function e(t,r,n,a,i,s,c,l){if(c===i)throw Error("Immer forbids circular references");var u=!!a&&i===n,d=k(i);if(b(c)){var p=l&&u&&!d&&!w(a.assigned,s)?l.concat(s):void 0;c=R(t,c,r,p),function(e,t,r){switch(E(e)){case o.Map:e.set(t,r);break;case o.Set:e.delete(t),e.add(r);break;default:e[t]=r}}(i,s,c),b(c)&&(r.canAutoFreeze=!1)}else{if(u&&x(c,O(a.base,s)))return;v(c)&&(_(c,(function(i,o){return e(t,r,n,a,c,i,o,l)})),r.parent||F(t,c))}u&&t.onAssign&&!d&&t.onAssign(a,s,c)}(e,r,t,a,t,i,s,n)})),t}function F(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!b(t)&&S(t,r)}var L={get:function(e,t){if(t===f)return e;var r=e.drafts;if(!e.modified&&w(r,t))return r[t];var n=I(e)[t];if(e.finalized||!v(n))return n;if(e.modified){if(n!==q(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in I(e)},ownKeys:function(e){return Reflect.ownKeys(I(e))},set:function(e,t,r){if(!e.modified){var n=q(e.base,t);if(r?x(n,r)||r===e.drafts[t]:x(n,r)&&t in e.base)return!0;z(e),H(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==q(e.base,t)||t in e.base?(e.assigned[t]=!1,z(e),H(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=I(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==s.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},B={};function q(e,t){var r=e[f],n=Reflect.getOwnPropertyDescriptor(r?I(r):e,t);return n&&n.value}function H(e){if(!e.modified){if(e.modified=!0,e.type===s.ProxyObject||e.type===s.ProxyArray){var t=e.copy=j(e.base);_(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&H(e.parent)}}function z(e){e.copy||(e.copy=j(e.base))}function U(e,t,r){e.drafts.forEach((function(e){e[f].finalizing=!0})),r?b(t)&&t[f].scope===e&&X(e.drafts):(e.patches&&function e(t){if(!t||"object"!=typeof t)return;var r=t[f];if(!r)return;var n=r.base,a=r.draft,i=r.assigned,o=r.type;if(o===s.ES5Object)_(a,(function(t){t!==f&&(void 0!==n[t]||w(n,t)?i[t]||e(a[t]):(i[t]=!0,V(r)))})),_(n,(function(e){void 0!==a[e]||w(a,e)||(i[e]=!1,V(r))}));else if(o===s.ES5Array){if(Q(r)&&(V(r),i.length=!0),a.length<n.length)for(var c=a.length;c<n.length;c++)i[c]=!1;else for(c=n.length;c<a.length;c++)i[c]=!0;var l=Math.min(a.length,n.length);for(c=0;c<l;c++)void 0===i[c]&&e(a[c])}}(e.drafts[0]),X(e.drafts))}function W(e,t){var r=Array.isArray(e),n=$(e);_(n,(function(t){!function(e,t,r){var n=Y[t];n?n.enumerable=r:Y[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){J(e);var r=G(I(e),t);if(e.finalizing)return r;if(r===G(e.base,t)&&v(r))return K(e),e.copy[t]=e.scope.immer.createProxy(r,e);return r}(this[f],t)},set:function(e){!function(e,t,r){if(J(e),e.assigned[t]=!0,!e.modified){if(x(r,G(I(e),t)))return;V(e),K(e)}e.copy[t]=r}(this[f],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var a,i,o,c={type:r?s.ES5Array:s.ES5Object,scope:t?t.scope:N.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return a=n,i=f,o=c,Object.defineProperty(a,i,{value:o,enumerable:!1,writable:!0}),n}function G(e,t){var r=e[f];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function V(e){e.modified||(e.modified=!0,e.parent&&V(e.parent))}function K(e){e.copy||(e.copy=$(e.base))}function $(e){var t=e&&e[f];if(t){t.finalizing=!0;var r=j(t.draft,!0);return t.finalizing=!1,r}return j(e)}_(L,(function(e,t){B[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),B.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return L.deleteProperty.call(this,e[0],t)},B.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return L.set.call(this,e[0],t,r,e[0])};var Y={};function J(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(I(e)))}function X(e){for(var t=e.length-1;t>=0;t--){var r=e[t][f];if(!r.modified)switch(r.type){case s.ES5Array:Q(r)&&V(r);break;case s.ES5Object:Z(r)&&V(r)}}}function Z(e){for(var t=e.base,r=e.draft,n=Object.keys(r),a=n.length-1;a>=0;a--){var i=n[a],o=t[i];if(void 0===o&&!w(t,i))return!0;var s=r[i],c=s&&s[f];if(c?c.base!==o:!x(s,o))return!0}return n.length!==Object.keys(t).length}function Q(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var ee=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[f]={type:s.Map,parent:t,scope:t?t.scope:N.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}g(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return I(this[f]).size},enumerable:!0,configurable:!0}),r.has=function(e){return I(this[f]).has(e)},r.set=function(e,t){var r=this[f];return J(r),I(r).get(e)!==t&&(te(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[f];return J(t),te(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[f];return J(e),te(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;I(this[f]).forEach((function(n,a,i){e.call(t,r.get(a),a,r)}))},r.get=function(e){var t=this[f];J(t);var r=I(t).get(e);if(t.finalized||!v(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return te(t),t.copy.set(e,n),n},r.keys=function(){return I(this[f]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[h]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[h]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[h]=function(){return this.entries()},t}(Map);function te(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var re=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[f]={type:s.Set,parent:t,scope:t?t.scope:N.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}g(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return I(this[f]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[f];return J(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[f];return J(t),t.copy?t.copy.add(e):t.base.has(e)||(ne(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[f];return J(t),ne(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[f];return J(e),ne(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[f];return J(e),ne(e),e.copy.values()},r.entries=function(){var e=this[f];return J(e),ne(e),e.copy.entries()},r.keys=function(){return this.values()},r[h]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function ne(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(v(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function ae(e,t){return t.forEach((function(t){var r=t.path,n=t.op;r.length||A();for(var a=e,i=0;i<r.length-1;i++)if(!(a=O(a,r[i]))||"object"!=typeof a)throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var s=E(a),c=ie(t.value),l=r[r.length-1];switch(n){case"replace":switch(s){case o.Map:return a.set(l,c);case o.Set:throw new Error('Sets cannot have "replace" patches.');default:return a[l]=c}case"add":switch(s){case o.Array:return a.splice(l,0,c);case o.Map:return a.set(l,c);case o.Set:return a.add(c);default:return a[l]=c}case"remove":switch(s){case o.Array:return a.splice(l,1);case o.Map:return a.delete(l);case o.Set:return a.delete(t.value);default:return delete a[l]}default:throw new Error("Unsupported patch operation: "+n)}})),e}function ie(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ie);if(C(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],ie(e[1])]})));if(k(e))return new Set(Array.from(e).map(ie));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=ie(e[r]);return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function oe(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}var se={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:"undefined"==typeof process&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},ce=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,_(se,(function(r,n){var a,i;t[r]=null!=(i=null===(a=e)||void 0===a?void 0:a[r])?i:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,a=this;if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var o=this;return function(e){var r=arguments,n=this;void 0===e&&(e=i);for(var a=[],s=1;s<arguments.length;s++)a[s-1]=r[s];return o.produce(e,(function(e){return t.call.apply(t,oe([n,e],a))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(v(e)){var s=N.enter(this),c=this.createProxy(e,void 0),l=!0;try{n=t(c),l=!1}finally{l?s.revoke():s.leave()}return"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return s.usePatches(r),P(a,e,s)}),(function(e){throw s.revoke(),e})):(s.usePatches(r),P(this,n,s))}if((n=t(e))!==d)return void 0===n&&(n=e),F(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,a,i=this;return"function"==typeof e?function(t){for(var r=arguments,n=[],a=1;a<arguments.length;a++)n[a-1]=r[a];return i.produceWithPatches(t,(function(t){return e.apply(void 0,oe([t],n))}))}:(r&&A(),[this.produce(e,t,(function(e,t){n=e,a=t})),n,a])},e.prototype.createDraft=function(e){if(!v(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=N.enter(this),r=this.createProxy(e,void 0);return r[f].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[f];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),P(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return b(e)?ae(e,t):this.produce(e,(function(e){return ae(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=C(e)?function(e,t){return new ee(e,t)}(e,t):k(e)?function(e,t){return new re(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?s.ProxyArray:s.ProxyObject,scope:t?t.scope:N.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},a=n,i=L;r&&(a=[n],i=B);var o=Proxy.revocable(a,i),c=o.revoke,l=o.proxy;return n.draft=l,n.revoke=c,l}(e,t):W(e,t);return(t?t.scope:N.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||U(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?H(e):V(e)},e}()),le=ce.produce,ue=(ce.produceWithPatches.bind(ce),ce.setAutoFreeze.bind(ce),ce.setUseProxies.bind(ce),ce.applyPatches.bind(ce),ce.createDraft.bind(ce)),de=ce.finishDraft.bind(ce);var pe=r(373);function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return Me})),r.d(t,"b",(function(){return Fe})),r.d(t,"c",(function(){return Be})),r.d(t,"d",(function(){return ze})),r.d(t,"e",(function(){return Ue})),r.d(t,"f",(function(){return Ye})),r.d(t,"g",(function(){return Qe})),r.d(t,"h",(function(){return ct})),r.d(t,"i",(function(){return we}));var he=new WeakMap,me=new WeakMap,ge=new WeakMap,be=new WeakMap,ve=new WeakMap,ye=new WeakMap;function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var we=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of Me.pathRefs(e))We.transform(r,t);for(var n of Me.pointRefs(e))Ke.transform(n,t);for(var a of Me.rangeRefs(e))Je.transform(a,t);var i=new Set,o=[],s=e=>{if(e){var t=e.join(",");i.has(t)||(i.add(t),o.push(e))}},c=he.get(e)||[],l=Oe(t);for(var u of c){s(Ue.transform(u,t))}for(var d of l)s(d);he.set(e,o),Me.transform(e,t),e.operations.push(t),Me.normalize(e),"set_selection"===t.type&&(e.marks=null),me.get(e)||(me.set(e,!0),Promise.resolve().then(()=>{me.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(Ye.isExpanded(n))ct.setNodes(e,{[t]:r},{match:Qe.isText,split:!0});else{var a=Ee({},Me.marks(e)||{},{[t]:r});e.marks=a,e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&Ye.isCollapsed(r)&&ct.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&Ye.isCollapsed(r)&&ct.delete(e,{unit:t})},deleteFragment:()=>{var{selection:t}=e;t&&Ye.isExpanded(t)&&ct.delete(e)},insertBreak:()=>{ct.splitNodes(e,{always:!0})},insertFragment:t=>{ct.insertFragment(e,t)},insertNode:t=>{ct.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(Ye.isCollapsed(r)){var a=Me.above(e,{match:t=>Me.isInline(e,t),mode:"highest"});if(a){var[,i]=a;if(Me.isEnd(e,r.anchor,i)){var o=Me.after(e,i);ct.setSelection(e,{anchor:o,focus:o})}}}if(n){var s=Ee({text:t},n);ct.insertNodes(e,s)}else ct.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!Qe.isText(r))if(Fe.isElement(r)&&0===r.children.length){ct.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var a=!Me.isEditor(r)&&(Fe.isElement(r)&&(e.isInline(r)||0===r.children.length||Qe.isText(r.children[0])||e.isInline(r.children[0]))),i=0,o=0;o<r.children.length;o++,i++){var s=r.children[o],c=r.children[o-1],l=o===r.children.length-1;if((Qe.isText(s)||Fe.isElement(s)&&e.isInline(s))!==a)ct.removeNodes(e,{at:n.concat(i),voids:!0}),i--;else if(Fe.isElement(s)){if(e.isInline(s))if(null!=c&&Qe.isText(c)){if(l){ct.insertNodes(e,{text:""},{at:n.concat(i+1),voids:!0}),i++}}else{ct.insertNodes(e,{text:""},{at:n.concat(i),voids:!0}),i++}}else null!=c&&Qe.isText(c)&&(Qe.equals(s,c,{loose:!0})?(ct.mergeNodes(e,{at:n.concat(i),voids:!0}),i--):""===c.text?(ct.removeNodes(e,{at:n.concat(i-1),voids:!0}),i--):l&&""===s.text&&(ct.removeNodes(e,{at:n.concat(i),voids:!0}),i--))}},removeMark:t=>{var{selection:r}=e;if(r)if(Ye.isExpanded(r))ct.unsetNodes(e,t,{match:Qe.isText,split:!0});else{var n=Ee({},Me.marks(e)||{});delete n[t],e.marks=n,e.onChange()}}};return e},Oe=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return Ue.levels(t);case"insert_node":var{node:r,path:n}=e;return[...Ue.levels(n),...Qe.isText(r)?[]:Array.from(Be.nodes(r),e=>{var[,t]=e;return n.concat(t)})];case"merge_node":var{path:a}=e;return[...Ue.ancestors(a),Ue.previous(a)];case"move_node":var{path:i,newPath:o}=e;if(Ue.equals(i,o))return[];var s=[],c=[];for(var l of Ue.ancestors(i)){var u=Ue.transform(l,e);s.push(u)}for(var d of Ue.ancestors(o)){var p=Ue.transform(d,e);c.push(p)}return[...s,...c];case"remove_node":var{path:f}=e;return[...Ue.ancestors(f)];case"split_node":var{path:h}=e;return[...Ue.levels(h),Ue.next(h)];default:return[]}};function xe(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ce=/\s/,ke=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ie=/['\u2018\u2019]/,je=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(Te(n)){var a=Ae(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=a?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(De(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!Ne(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},Se=(e,t)=>{if(Ce.test(e))return!1;if(Ie.test(e)){var r=t.charAt(0),n=je(r);r=t.slice(0,n);var a=t.slice(n);if(Se(r,a))return!0}return!ke.test(e)},Te=e=>55296<=e&&e<=57343,Ae=(e,t,r)=>{if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},Ne=e=>e<=65039&&e>=65024,De=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e;function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Me={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:a=e.selection,match:i}=t;if(a){var o=Me.path(e,a),s="lowest"===n;for(var[c,l]of Me.levels(e,{at:o,voids:r,match:i,reverse:s}))if(!Qe.isText(c)&&!Ue.equals(o,l))return[c,l]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={anchor:Me.point(e,t,{edge:"end"}),focus:Me.end(e,[])},{distance:i=1}=n,o=0;for(var s of Me.positions(e,Re({},n,{at:a}))){if(o>i)break;0!==o&&(r=s),o++}return r},before(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={anchor:Me.start(e,[]),focus:Me.point(e,t,{edge:"start"})},{distance:i=1}=n,o=0;for(var s of Me.positions(e,Re({},n,{at:a,reverse:!0}))){if(o>i)break;0!==o&&(r=s),o++}return r},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[Me.start(e,t),Me.end(e,t)],end:(e,t)=>Me.point(e,t,{edge:"end"}),first(e,t){var r=Me.path(e,t,{edge:"start"});return Me.node(e,r)},fragment(e,t){var r=Me.range(e,t);return Be.fragment(e,r)},hasBlocks:(e,t)=>t.children.some(t=>Me.isBlock(e,t)),hasInlines:(e,t)=>t.children.some(t=>Qe.isText(t)||Me.isInline(e,t)),hasTexts:(e,t)=>t.children.every(e=>Qe.isText(e)),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>Fe.isElement(t)&&!e.isInline(t),isEditor:e=>a(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||a(e.marks))&&(null===e.selection||Ye.isRange(e.selection))&&Be.isNodeList(e.children)&&ze.isOperationList(e.operations),isEnd(e,t,r){var n=Me.end(e,r);return Ve.equals(t,n)},isEdge:(e,t,r)=>Me.isStart(e,t,r)||Me.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&Qe.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:(e,t)=>Fe.isElement(t)&&e.isInline(t),isNormalizing(e){var t=ge.get(e);return void 0===t||t},isStart(e,t,r){if(0!==t.offset)return!1;var n=Me.start(e,r);return Ve.equals(t,n)},isVoid:(e,t)=>Fe.isElement(t)&&e.isVoid(t),last(e,t){var r=Me.path(e,t,{edge:"end"});return Me.node(e,r)},leaf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Me.path(e,t,r);return[Be.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:a=!1}=t,{match:i}=t;if(null==i&&(i=()=>!0),r){var o=[],s=Me.path(e,r);for(var[c,l]of Be.levels(e,s))if(i(c)&&(o.push([c,l]),!a&&Me.isVoid(e,c)))break;n&&o.reverse(),yield*o}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(Ye.isExpanded(r)){var[n]=Me.nodes(e,{match:Qe.isText});if(n){var[a]=n;return xe(a,["text"])}return{}}var{anchor:i}=r,{path:o}=i,[s]=Me.leaf(e,o);if(0===i.offset){var c=Me.previous(e,{at:o,match:Qe.isText}),l=Me.above(e,{match:t=>Me.isBlock(e,t)});if(c&&l){var[u,d]=c,[,p]=l;Ue.isAncestor(p,d)&&(s=u)}}return xe(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:a,at:i=e.selection}=t;if(i){var[,o]=Me.last(e,i),[,s]=Me.last(e,[]),c=[o,s];if(Ue.isPath(i)&&0===i.length)throw new Error("Cannot get the next node from the root node!");if(null==a)if(Ue.isPath(i)){var[l]=Me.parent(e,i);a=e=>l.children.includes(e)}else a=()=>!0;var[,u]=Me.nodes(e,{at:c,match:a,mode:r,voids:n});return u}},node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Me.path(e,t,r);return[Be.get(e,n),n]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:a=!1,reverse:i=!1,voids:o=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var c,l;if(Le.isSpan(r))c=r[0],l=r[1];else{var u=Me.path(e,r,{edge:"start"}),d=Me.path(e,r,{edge:"end"});c=i?d:u,l=i?u:d}var p,f=Be.nodes(e,{reverse:i,from:c,to:l,pass:t=>{var[r]=t;return!o&&Me.isVoid(e,r)}}),h=[];for(var[m,g]of f){var b=p&&0===Ue.compare(g,p[1]);if("highest"!==n||!b)if(s(m))if("lowest"===n&&b)p=[m,g];else{var v="lowest"===n?p:[m,g];v&&(a?h.push(v):yield v),p=[m,g]}else if(a&&!b&&Qe.isText(m))return}"lowest"===n&&p&&(a?h.push(p):yield p),a&&(yield*h)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1}=t,n=e=>he.get(e)||[];if(Me.isNormalizing(e)){if(r){var a=Array.from(Be.nodes(e),e=>{var[,t]=e;return t});he.set(e,a)}0!==n(e).length&&Me.withoutNormalizing(e,()=>{for(var t=42*n(e).length,r=0;0!==n(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var a=n(e).pop(),i=Me.node(e,a);e.normalizeNode(i),r++}})}},parent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Me.path(e,t,r),a=Ue.parent(n);return Me.node(e,a)},path(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:a}=r;if(Ue.isPath(t))if("start"===a){var[,i]=Be.first(e,t);t=i}else if("end"===a){var[,o]=Be.last(e,t);t=o}return Ye.isRange(t)&&(t="start"===a?Ye.start(t):"end"===a?Ye.end(t):Ue.common(t.anchor.path,t.focus.path)),Ve.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,a={current:t,affinity:n,unref(){var{current:t}=a;return Me.pathRefs(e).delete(a),a.current=null,t}};return Me.pathRefs(e).add(a),a},pathRefs(e){var t=be.get(e);return t||(t=new Set,be.set(e,t)),t},point(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(Ue.isPath(t)){var a;if("end"===n){var[,i]=Be.last(e,t);a=i}else{var[,o]=Be.first(e,t);a=o}var s=Be.get(e,a);if(!Qe.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:a,offset:"end"===n?s.text.length:0}}if(Ye.isRange(t)){var[c,l]=Ye.edges(t);return"start"===n?c:l}return t},pointRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,a={current:t,affinity:n,unref(){var{current:t}=a;return Me.pointRefs(e).delete(a),a.current=null,t}};return Me.pointRefs(e).add(a),a},pointRefs(e){var t=ve.get(e);return t||(t=new Set,ve.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:a=!1}=t;if(r){var i=Me.range(e,r),[o,s]=Ye.edges(i),c=a?s:o,l="",u=0,d=0,p=null,f=!1,h=()=>{null==p&&(p="character"===n?je(l):"word"===n?(e=>{for(var t,r=0,n=0,a=!1;t=e.charAt(n);){var i=je(t);t=e.slice(n,n+i);var o=e.slice(n+i);if(Se(t,o))a=!0,r+=i;else{if(a)break;r+=i}n+=i}return r})(l):"line"===n||"block"===n?l.length:1,l=l.slice(p)),d=a?d-p:d+p,p=(u-=p)>=0?null:0-u};for(var[m,g]of Me.nodes(e,{at:r,reverse:a})){if(Fe.isElement(m)){if(e.isVoid(m)){yield Me.start(e,g);continue}if(e.isInline(m))continue;if(Me.hasInlines(e,m)){var b=Ue.isAncestor(g,s.path)?s:Me.end(e,g),v=Ue.isAncestor(g,o.path)?o:Me.start(e,g),y=Me.string(e,{anchor:v,focus:b});l=a?Object(pe.reverse)(y):y,f=!0}}if(Qe.isText(m)){var _=Ue.equals(g,c.path);for(u=m.text.length,d=a?u:0,_&&(u=a?c.offset:u-c.offset,d=c.offset),(_||f||"offset"===n)&&(yield{path:g,offset:d});""!==l&&(h(),u>=0);)yield{path:g,offset:d};f=!1}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:a,at:i=e.selection}=t;if(i){var[,o]=Me.first(e,i),[,s]=Me.first(e,[]),c=[o,s];if(Ue.isPath(i)&&0===i.length)throw new Error("Cannot get the previous node from the root node!");if(null==a)if(Ue.isPath(i)){var[l]=Me.parent(e,i);a=e=>l.children.includes(e)}else a=()=>!0;var[,u]=Me.nodes(e,{reverse:!0,at:c,match:a,mode:r,voids:n});return u}},range:(e,t,r)=>Ye.isRange(t)&&!r?t:{anchor:Me.start(e,t),focus:Me.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,a={current:t,affinity:n,unref(){var{current:t}=a;return Me.rangeRefs(e).delete(a),a.current=null,t}};return Me.rangeRefs(e).add(a),a},rangeRefs(e){var t=ye.get(e);return t||(t=new Set,ye.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>Me.point(e,t,{edge:"start"}),string(e,t){var r=Me.range(e,t),[n,a]=Ye.edges(r),i="";for(var[o,s]of Me.nodes(e,{at:r,match:Qe.isText})){var c=o.text;Ue.equals(s,a.path)&&(c=c.slice(0,a.offset)),Ue.equals(s,n.path)&&(c=c.slice(n.offset)),i+=c}return i},transform(e,t){e.children=ue(e.children);var r=e.selection&&ue(e.selection);switch(t.type){case"insert_node":var{path:n,node:a}=t,i=Be.parent(e,n),o=n[n.length-1];if(i.children.splice(o,0,a),r)for(var[s,c]of Ye.points(r))r[c]=Ve.transform(s,t);break;case"insert_text":var{path:l,offset:u,text:d}=t,p=Be.leaf(e,l),f=p.text.slice(0,u),h=p.text.slice(u);if(p.text=f+d+h,r)for(var[m,g]of Ye.points(r))r[g]=Ve.transform(m,t);break;case"merge_node":var{path:v}=t,y=Be.get(e,v),_=Ue.previous(v),E=Be.get(e,_),w=Be.parent(e,v),O=v[v.length-1];if(Qe.isText(y)&&Qe.isText(E))E.text+=y.text;else{if(Qe.isText(y)||Qe.isText(E))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(v,"] to nodes of different interaces: ").concat(y," ").concat(E));E.children.push(...y.children)}if(w.children.splice(O,1),r)for(var[x,C]of Ye.points(r))r[C]=Ve.transform(x,t);break;case"move_node":var{path:k,newPath:I}=t;if(Ue.isAncestor(k,I))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(I,"] because the destination is inside itself."));var j=Be.get(e,k),S=Be.parent(e,k),T=k[k.length-1];S.children.splice(T,1);var A=Ue.transform(k,t),N=Be.get(e,Ue.parent(A)),D=A[A.length-1];if(N.children.splice(D,0,j),r)for(var[P,R]of Ye.points(r))r[R]=Ve.transform(P,t);break;case"remove_node":var{path:M}=t,F=M[M.length-1];if(Be.parent(e,M).children.splice(F,1),r)for(var[L,B]of Ye.points(r)){var q=Ve.transform(L,t);if(null!=r&&null!=q)r[B]=q;else{var H=void 0,z=void 0;for(var[U,W]of Be.texts(e)){if(-1!==Ue.compare(W,M)){z=[U,W];break}H=[U,W]}H?(L.path=H[1],L.offset=H[0].text.length):z?(L.path=z[1],L.offset=0):r=null}}break;case"remove_text":var{path:G,offset:V,text:K}=t,$=Be.leaf(e,G),Y=$.text.slice(0,V),J=$.text.slice(V+K.length);if($.text=Y+J,r)for(var[X,Z]of Ye.points(r))r[Z]=Ve.transform(X,t);break;case"set_node":var{path:Q,newProperties:ee}=t;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var te=Be.get(e,Q);for(var re in ee){if("children"===re||"text"===re)throw new Error('Cannot set the "'.concat(re,'" property of nodes!'));var ne=ee[re];null==ne?delete te[re]:te[re]=ne}break;case"set_selection":var{newProperties:ae}=t;if(null==ae)r=ae;else if(null==r){if(!Ye.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ae)," when there is no current selection."));r=ae}else Object.assign(r,ae);break;case"split_node":var{path:ie,position:oe,properties:se}=t;if(0===ie.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ie,"] because the root node cannot be split."));var ce,le=Be.get(e,ie),pe=Be.parent(e,ie),fe=ie[ie.length-1];if(Qe.isText(le)){var he=le.text.slice(0,oe),me=le.text.slice(oe);le.text=he,ce=Re({},le,{},se,{text:me})}else{var ge=le.children.slice(0,oe),be=le.children.slice(oe);le.children=ge,ce=Re({},le,{},se,{children:be})}if(pe.children.splice(fe+1,0,ce),r)for(var[ve,ye]of Ye.points(r))r[ye]=Ve.transform(ve,t)}e.children=de(e.children),e.selection=r?b(r)?de(r):r:null},unhangRange(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[a,i]=Ye.edges(t);if(0!==a.offset||0!==i.offset||Ye.isCollapsed(t))return t;var o=Me.above(e,{at:i,match:t=>Me.isBlock(e,t)}),s=o?o[1]:[],c={anchor:Me.start(e,[]),focus:i},l=!0;for(var[u,d]of Me.nodes(e,{at:c,match:Qe.isText,reverse:!0,voids:n}))if(l)l=!1;else if(""!==u.text||Ue.isBefore(d,s)){i={path:d,offset:u.text.length};break}return{anchor:a,focus:i}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Me.above(e,Re({},t,{match:t=>Me.isVoid(e,t)}))},withoutNormalizing(e,t){var r=Me.isNormalizing(e);ge.set(e,!1),t(),ge.set(e,r),Me.normalize(e)}},Fe={isElement:e=>a(e)&&Be.isNodeList(e.children)&&!Me.isEditor(e),isElementList:e=>Array.isArray(e)&&(0===e.length||Fe.isElement(e[0])),matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},Le={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(Ue.isPath)},Be={ancestor(e,t){var r=Be.get(e,t);if(Qe.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of Ue.ancestors(t,r)){var a=[Be.ancestor(e,n),n];yield a}},child(e,t){if(Qe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,a=Be.ancestor(e,t),{children:i}=a,o=n?i.length-1:0;n?o>=0:o<i.length;){var s=Be.child(a,o),c=t.concat(o);yield[s,c],o=n?o-1:o+1}},common(e,t,r){var n=Ue.common(t,r);return[Be.get(e,n),n]},descendant(e,t){var r=Be.get(e,t);if(Me.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Be.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Be.nodes(e,t))Fe.isElement(r)&&(yield[r,n])},first(e,t){for(var r=t.slice(),n=Be.get(e,r);n&&!Qe.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(Qe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return le(e,e=>{var[r,n]=Ye.edges(t),a=Be.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!Ye.includes(t,r)}});for(var[,i]of a){if(!Ye.includes(t,i)){var o=Be.parent(e,i),s=i[i.length-1];o.children.splice(s,1)}if(Ue.equals(i,n.path)){var c=Be.leaf(e,i);c.text=c.text.slice(0,n.offset)}if(Ue.equals(i,r.path)){var l=Be.leaf(e,i);l.text=l.text.slice(r.offset)}}delete e.selection}).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(Qe.isText(r)||!r.children[a])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[a]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(Qe.isText(r)||!r.children[a])return!1;r=r.children[a]}return!0},isNode:e=>Qe.isText(e)||Fe.isElement(e)||Me.isEditor(e),isNodeList:e=>Array.isArray(e)&&(0===e.length||Be.isNode(e[0])),last(e,t){for(var r=t.slice(),n=Be.get(e,r);n&&!Qe.isText(n)&&0!==n.children.length;){var a=n.children.length-1;n=n.children[a],r.push(a)}return[n,r]},leaf(e,t){var r=Be.get(e,t);if(!Qe.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of Ue.levels(t,r)){var a=Be.get(e,n);yield[a,n]}},matches:(e,t)=>Fe.isElement(e)&&Fe.matches(e,t)||Qe.isText(e)&&Qe.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:a=[],to:i}=t,o=new Set,s=[],c=e;!(i&&(n?Ue.isBefore(s,i):Ue.isAfter(s,i)));)if(o.has(c)||(yield[c,s]),o.has(c)||Qe.isText(c)||0===c.children.length||null!=r&&!1!==r([c,s])){if(0===s.length)break;if(!n){var l=Ue.next(s);if(Be.has(e,l)){s=l,c=Be.get(e,s);continue}}if(n&&0!==s[s.length-1])s=Ue.previous(s),c=Be.get(e,s);else s=Ue.parent(s),c=Be.get(e,s),o.add(c)}else{o.add(c);var u=n?c.children.length-1:0;Ue.isAncestor(s,a)&&(u=a[s.length]),s=s.concat(u),c=Be.get(e,s)}},parent(e,t){var r=Ue.parent(t),n=Be.get(e,r);if(Qe.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>Qe.isText(e)?e.text:e.children.map(Be.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Be.nodes(e,t))Qe.isText(r)&&(yield[r,n])}};function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ze={isNodeOperation:e=>ze.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!a(e))return!1;switch(e.type){case"insert_node":return Ue.isPath(e.path)&&Be.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Ue.isPath(e.path);case"merge_node":return"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&Ue.isPath(e.path)&&a(e.properties);case"move_node":return Ue.isPath(e.path)&&Ue.isPath(e.newPath);case"remove_node":return Ue.isPath(e.path)&&Be.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Ue.isPath(e.path);case"set_node":return Ue.isPath(e.path)&&a(e.properties)&&a(e.newProperties);case"set_selection":return null===e.properties&&Ye.isRange(e.newProperties)||null===e.newProperties&&Ye.isRange(e.properties)||a(e.properties)&&a(e.newProperties);case"split_node":return Ue.isPath(e.path)&&"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&a(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&(0===e.length||ze.isOperation(e[0])),isSelectionOperation:e=>ze.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>ze.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return He({},e,{type:"remove_node"});case"insert_text":return He({},e,{type:"remove_text"});case"merge_node":return He({},e,{type:"split_node",path:Ue.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;return Ue.equals(t,r)?e:He({},e,{path:Ue.transform(r,e),newPath:Ue.transform(Ue.next(r),e)});case"remove_node":return He({},e,{type:"insert_node"});case"remove_text":return He({},e,{type:"insert_text"});case"set_node":var{properties:n,newProperties:a}=e;return He({},e,{properties:a,newProperties:n});case"set_selection":var{properties:i,newProperties:o}=e;return He({},e,null==i?{properties:o,newProperties:null}:null==o?{properties:null,newProperties:i}:{properties:o,newProperties:i});case"split_node":return He({},e,{type:"merge_node",path:Ue.next(e.path)})}}},Ue={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=Ue.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var a=e[n];if(a!==t[n])break;r.push(a)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),i=e[r],o=t[r];return Ue.equals(n,a)&&i>o},endsAt(e,t){var r=e.length,n=e.slice(0,r),a=t.slice(0,r);return Ue.equals(n,a)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),i=e[r],o=t[r];return Ue.equals(n,a)&&i<o},equals:(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),isAfter:(e,t)=>1===Ue.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===Ue.compare(e,t),isBefore:(e,t)=>-1===Ue.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===Ue.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===Ue.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===Ue.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===Ue.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&Ue.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!Ue.isAncestor(t,e)&&!Ue.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return le(e,n=>{var{affinity:a="forward"}=r;if(0!==e.length)switch(t.type){case"insert_node":var{path:i}=t;(Ue.equals(i,n)||Ue.endsBefore(i,n)||Ue.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var{path:o}=t;if(Ue.equals(o,n)||Ue.isAncestor(o,n))return null;Ue.endsBefore(o,n)&&(n[o.length-1]-=1);break;case"merge_node":var{path:s,position:c}=t;Ue.equals(s,n)||Ue.endsBefore(s,n)?n[s.length-1]-=1:Ue.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=c);break;case"split_node":var{path:l,position:u}=t;if(Ue.equals(l,n)){if("forward"===a)n[n.length-1]+=1;else if("backward"!==a)return null}else Ue.endsBefore(l,n)?n[l.length-1]+=1:Ue.isAncestor(l,n)&&e[l.length]>=u&&(n[l.length-1]+=1,n[l.length]-=u);break;case"move_node":var{path:d,newPath:p}=t;if(Ue.equals(d,p))return;if(Ue.isAncestor(d,n)||Ue.equals(d,n)){var f=p.slice();if(Ue.endsBefore(d,p)&&d.length<p.length)f[Math.min(p.length,d.length)-1]-=1;return f.concat(n.slice(d.length))}Ue.endsBefore(p,n)||Ue.equals(p,n)||Ue.isAncestor(p,n)?(Ue.endsBefore(d,n)&&(n[d.length-1]-=1),n[p.length-1]+=1):Ue.endsBefore(d,n)&&(Ue.equals(p,n)&&(n[p.length-1]+=1),n[d.length-1]-=1)}})}},We={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var a=Ue.transform(r,t,{affinity:n});e.current=a,null==a&&e.unref()}}};function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ve={compare(e,t){var r=Ue.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===Ve.compare(e,t),isBefore:(e,t)=>-1===Ve.compare(e,t),equals:(e,t)=>e.offset===t.offset&&Ue.equals(e.path,t.path),isPoint:e=>a(e)&&"number"==typeof e.offset&&Ue.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return le(e,e=>{var{affinity:n="forward"}=r,{path:a,offset:i}=e;switch(t.type){case"insert_node":case"move_node":e.path=Ue.transform(a,t,r);break;case"insert_text":Ue.equals(t.path,a)&&t.offset<=i&&(e.offset+=t.text.length);break;case"merge_node":Ue.equals(t.path,a)&&(e.offset+=t.position),e.path=Ue.transform(a,t,r);break;case"remove_text":Ue.equals(t.path,a)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(Ue.equals(t.path,a)||Ue.isAncestor(t.path,a))return null;e.path=Ue.transform(a,t,r);break;case"split_node":if(Ue.equals(t.path,a)){if(t.position===i&&null==n)return null;(t.position<i||t.position===i&&"forward"===n)&&(e.offset-=t.position,e.path=Ue.transform(a,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{affinity:"forward"})))}else e.path=Ue.transform(a,t,r)}})}},Ke={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var a=Ve.transform(r,t,{affinity:n});e.current=a,null==a&&e.unref()}}};function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ye={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:a}=e;return Ye.isBackward(e)===r?[n,a]:[a,n]},end(e){var[,t]=Ye.edges(e);return t},equals:(e,t)=>Ve.equals(e.anchor,t.anchor)&&Ve.equals(e.focus,t.focus),includes(e,t){if(Ye.isRange(t)){if(Ye.includes(e,t.anchor)||Ye.includes(e,t.focus))return!0;var[r,n]=Ye.edges(e),[a,i]=Ye.edges(t);return Ve.isBefore(r,a)&&Ve.isAfter(n,i)}var[o,s]=Ye.edges(e),c=!1,l=!1;return Ve.isPoint(t)?(c=Ve.compare(t,o)>=0,l=Ve.compare(t,s)<=0):(c=Ue.compare(t,o.path)>=0,l=Ue.compare(t,s.path)<=0),c&&l},intersection(e,t){var r=xe(e,["anchor","focus"]),[n,a]=Ye.edges(e),[i,o]=Ye.edges(t),s=Ve.isBefore(n,i)?i:n,c=Ve.isBefore(a,o)?a:o;return Ve.isBefore(c,s)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:s,focus:c},r)},isBackward(e){var{anchor:t,focus:r}=e;return Ve.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return Ve.equals(t,r)},isExpanded:e=>!Ye.isCollapsed(e),isForward:e=>!Ye.isBackward(e),isRange:e=>a(e)&&Ve.isPoint(e.anchor)&&Ve.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Ye.edges(e);return t},transform(e,t,r){var n,a,{affinity:i="inward"}=r;return"inward"===i?Ye.isForward(e)?(n="forward",a="backward"):(n="backward",a="forward"):"outward"===i?Ye.isForward(e)?(n="backward",a="forward"):(n="forward",a="backward"):(n=i,a=i),le(e,e=>{var r=Ve.transform(e.anchor,t,{affinity:n}),i=Ve.transform(e.focus,t,{affinity:a});if(!r||!i)return null;e.anchor=r,e.focus=i})}},Je={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var a=Ye.transform(r,t,{affinity:n});e.current=a,null==a&&e.unref()}}};function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qe={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;for(var a in e)if((!n||"text"!==a)&&e[a]!==t[a])return!1;for(var i in t)if((!n||"text"!==i)&&e[i]!==t[i])return!1;return!0},isText:e=>a(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&(0===e.length||Qe.isText(e[0])),matches(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations(e,t){var r=[Ze({},e)];for(var n of t){var a=xe(n,["anchor","focus"]),[i,o]=Ye.edges(n),s=[],c=0;for(var l of r){var{length:u}=l.text,d=c;if(c+=u,i.offset<=d&&o.offset>=d+u)Object.assign(l,a),s.push(l);else if(i.offset>d+u||o.offset<d||o.offset===d&&0!==d)s.push(l);else{var p=l,f=void 0,h=void 0;if(o.offset<d+u){var m=o.offset-d;h=Ze({},p,{text:p.text.slice(m)}),p=Ze({},p,{text:p.text.slice(0,m)})}if(i.offset>d){var g=i.offset-d;f=Ze({},p,{text:p.text.slice(0,g)}),p=Ze({},p,{text:p.text.slice(g)})}Object.assign(p,a),f&&s.push(f),s.push(p),h&&s.push(h)}}r=s}return r}};function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var at={insertNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Me.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:a=!1,mode:i="lowest"}=r,{at:o,match:s,select:c}=r;if(Be.isNode(t)&&(t=[t]),0!==t.length){var[l]=t;if(o||(o=e.selection?e.selection:e.children.length>0?Me.end(e,[]):[0],c=!0),null==c&&(c=!1),Ye.isRange(o))if(n||(o=Me.unhangRange(e,o)),Ye.isCollapsed(o))o=o.anchor;else{var[,u]=Ye.edges(o),d=Me.pointRef(e,u);ct.delete(e,{at:o}),o=d.unref()}if(Ve.isPoint(o)){null==s&&(s=Qe.isText(l)?e=>Qe.isText(e):e.isInline(l)?t=>Qe.isText(t)||Me.isInline(e,t):t=>Me.isBlock(e,t));var[p]=Me.nodes(e,{at:o.path,match:s,mode:i,voids:a});if(!p)return;var[,f]=p,h=Me.pathRef(e,f),m=Me.isEnd(e,o,f);ct.splitNodes(e,{at:o,match:s,mode:i,voids:a});var g=h.unref();o=m?Ue.next(g):g}var b=Ue.parent(o),v=o[o.length-1];if(a||!Me.void(e,{at:b})){for(var y of t){var _=b.concat(v);v++,e.apply({type:"insert_node",path:_,node:y})}if(c){var E=Me.end(e,o);E&&ct.select(e,E)}}}})},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Me.withoutNormalizing(e,()=>{var{at:r=e.selection,mode:n="lowest",voids:a=!1}=t,{match:i}=t;if(null==i&&(i=Ue.isPath(r)?ot(e,r):t=>Me.isBlock(e,t)),r){var o=Me.nodes(e,{at:r,match:i,mode:n,voids:a}),s=Array.from(o,t=>{var[,r]=t;return Me.pathRef(e,r)});for(var c of s){var l=c.unref();if(l.length<2)throw new Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var[u,d]=Me.node(e,Ue.parent(l)),p=l[l.length-1],{length:f}=u.children;if(1===f){var h=Ue.next(d);ct.moveNodes(e,{at:l,to:h,voids:a}),ct.removeNodes(e,{at:d,voids:a})}else if(0===p)ct.moveNodes(e,{at:l,to:d,voids:a});else if(p===f-1){var m=Ue.next(d);ct.moveNodes(e,{at:l,to:m,voids:a})}else{var g=Ue.next(l),b=Ue.next(d);ct.splitNodes(e,{at:g,voids:a}),ct.moveNodes(e,{at:l,to:b,voids:a})}}}})},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Me.withoutNormalizing(e,()=>{var{match:r,at:n=e.selection}=t,{hanging:a=!1,voids:i=!1,mode:o="lowest"}=t;if(n){if(null==r)if(Ue.isPath(n)){var[s]=Me.parent(e,n);r=e=>s.children.includes(e)}else r=t=>Me.isBlock(e,t);if(!a&&Ye.isRange(n)&&(n=Me.unhangRange(e,n)),Ye.isRange(n))if(Ye.isCollapsed(n))n=n.anchor;else{var[,c]=Ye.edges(n),l=Me.pointRef(e,c);ct.delete(e,{at:n}),n=l.unref(),null==t.at&&ct.select(e,n)}var[u]=Me.nodes(e,{at:n,match:r,voids:i,mode:o}),d=Me.previous(e,{at:n,match:r,voids:i,mode:o});if(u&&d){var[p,f]=u,[h,m]=d;if(0!==f.length&&0!==m.length){var g,b,v=Ue.next(m),y=Ue.common(f,m),_=Ue.isSibling(f,m),E=Array.from(Me.levels(e,{at:f}),e=>{var[t]=e;return t}).slice(y.length).slice(0,-1),w=Me.above(e,{at:f,mode:"highest",match:e=>E.includes(e)&&Fe.isElement(e)&&1===e.children.length}),O=w&&Me.pathRef(e,w[1]);if(Qe.isText(p)&&Qe.isText(h)){var x=xe(p,["text"]);b=h.text.length,g=x}else{if(!Fe.isElement(p)||!Fe.isElement(h))throw new Error("Cannot merge the node at path [".concat(f,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(p)," ").concat(JSON.stringify(h)));x=xe(p,["children"]);b=h.children.length,g=x}_||ct.moveNodes(e,{at:f,to:v,voids:i}),O&&ct.removeNodes(e,{at:O.current,voids:i}),Fe.isElement(h)&&Me.isEmpty(e,h)||Qe.isText(h)&&""===h.text?ct.removeNodes(e,{at:m,voids:i}):e.apply({type:"merge_node",path:v,position:b,target:null,properties:g}),O&&O.unref()}}}})},moveNodes(e,t){Me.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:a="lowest",voids:i=!1}=t,{match:o}=t;if(n){null==o&&(o=Ue.isPath(n)?ot(e,n):t=>Me.isBlock(e,t));var s=Me.pathRef(e,r),c=Me.nodes(e,{at:n,match:o,mode:a,voids:i}),l=Array.from(c,t=>{var[,r]=t;return Me.pathRef(e,r)});for(var u of l){var d=u.unref(),p=s.current;0!==d.length&&e.apply({type:"move_node",path:d,newPath:p})}s.unref()}})},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Me.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:n=!1,mode:a="lowest"}=t,{at:i=e.selection,match:o}=t;if(i){null==o&&(o=Ue.isPath(i)?ot(e,i):t=>Me.isBlock(e,t)),!r&&Ye.isRange(i)&&(i=Me.unhangRange(e,i));var s=Me.nodes(e,{at:i,match:o,mode:a,voids:n}),c=Array.from(s,t=>{var[,r]=t;return Me.pathRef(e,r)});for(var l of c){var u=l.unref();if(u){var[d]=Me.node(e,u);e.apply({type:"remove_node",path:u,node:d})}}}})},setNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Me.withoutNormalizing(e,()=>{var{match:n,at:a=e.selection}=r,{hanging:i=!1,mode:o="lowest",split:s=!1,voids:c=!1}=r;if(a){if(null==n&&(n=Ue.isPath(a)?ot(e,a):t=>Me.isBlock(e,t)),!i&&Ye.isRange(a)&&(a=Me.unhangRange(e,a)),s&&Ye.isRange(a)){var l=Me.rangeRef(e,a,{affinity:"inward"}),[u,d]=Ye.edges(a),p="lowest"===o?"lowest":"highest";ct.splitNodes(e,{at:d,match:n,mode:p,voids:c}),ct.splitNodes(e,{at:u,match:n,mode:p,voids:c}),a=l.unref(),null==r.at&&ct.select(e,a)}for(var[f,h]of Me.nodes(e,{at:a,match:n,mode:o,voids:c})){var m={},g={};if(0!==h.length){for(var b in t)"children"!==b&&"text"!==b&&t[b]!==f[b]&&(m[b]=f[b],g[b]=t[b]);0!==Object.keys(g).length&&e.apply({type:"set_node",path:h,properties:m,newProperties:g})}}}})},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Me.withoutNormalizing(e,()=>{var{mode:r="lowest",voids:n=!1}=t,{match:a,at:i=e.selection,height:o=0,always:s=!1}=t;if(null==a&&(a=t=>Me.isBlock(e,t)),Ye.isRange(i)&&(i=it(e,i)),Ue.isPath(i)){var c=i,l=Me.point(e,c),[u]=Me.parent(e,c);a=e=>e===u,o=l.path.length-c.length+1,i=l,s=!0}if(i){var d=Me.pointRef(e,i,{affinity:"backward"}),[p]=Me.nodes(e,{at:i,match:a,mode:r,voids:n});if(p){var f=Me.void(e,{at:i,mode:"highest"});if(!n&&f){var[h,m]=f;if(Fe.isElement(h)&&e.isInline(h)){var g=Me.after(e,m);if(!g){var b=Ue.next(m);ct.insertNodes(e,{text:""},{at:b,voids:n}),g=Me.point(e,b)}i=g,s=!0}o=i.path.length-m.length+1,s=!0}var v=Me.pointRef(e,i),y=i.path.length-o,[,_]=p,E=i.path.slice(0,y),w=0===o?i.offset:i.path[y]+0,O=null;for(var[x,C]of Me.levels(e,{at:E,reverse:!0,voids:n})){var k=!1;if(C.length<_.length||0===C.length||!n&&Me.isVoid(e,x))break;var I=d.current,j=Me.isEnd(e,I,C);if(s||!d||!Me.isEdge(e,I,C)){k=!0;var S=xe(x,["text","children"]);e.apply({type:"split_node",path:C,position:w,target:O,properties:S})}O=w,w=C[C.length-1]+(k||j?1:0)}if(null==t.at){var T=v.current||Me.end(e,[]);ct.select(e,T)}d.unref(),v.unref()}}})},unsetNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var a of t)n[a]=null;ct.setNodes(e,n,r)},unwrapNodes(e,t){Me.withoutNormalizing(e,()=>{var{mode:r="lowest",split:n=!1,voids:a=!1}=t,{at:i=e.selection,match:o}=t;if(i){null==o&&(o=Ue.isPath(i)?ot(e,i):t=>Me.isBlock(e,t)),Ue.isPath(i)&&(i=Me.range(e,i));var s=Ye.isRange(i)?Me.rangeRef(e,i):null,c=Me.nodes(e,{at:i,match:o,mode:r,voids:a}),l=Array.from(c,t=>{var[,r]=t;return Me.pathRef(e,r)}),u=function(t){var r=t.unref(),[i]=Me.node(e,r),o=Me.range(e,r);n&&s&&(o=Ye.intersection(s.current,o)),ct.liftNodes(e,{at:o,match:e=>i.children.includes(e),voids:a})};for(var d of l)u(d);s&&s.unref()}})},wrapNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Me.withoutNormalizing(e,()=>{var{mode:n="lowest",split:a=!1,voids:i=!1}=r,{match:o,at:s=e.selection}=r;if(s){if(null==o&&(o=Ue.isPath(s)?ot(e,s):e.isInline(t)?t=>Me.isInline(e,t)||Qe.isText(t):t=>Me.isBlock(e,t)),a&&Ye.isRange(s)){var[c,l]=Ye.edges(s),u=Me.rangeRef(e,s,{affinity:"inward"});ct.splitNodes(e,{at:l,match:o,voids:i}),ct.splitNodes(e,{at:c,match:o,voids:i}),s=u.unref(),null==r.at&&ct.select(e,s)}var d=Array.from(Me.nodes(e,{at:s,match:e.isInline(t)?t=>Me.isBlock(e,t):e=>Me.isEditor(e),mode:"highest",voids:i}));for(var[,p]of d){var f=Ye.isRange(s)?Ye.intersection(s,Me.range(e,p)):s;if(f){var h=Array.from(Me.nodes(e,{at:f,match:o,mode:n,voids:i}));h.length>0&&function(){var[r]=h,n=h[h.length-1],[,a]=r,[,o]=n,s=Ue.equals(a,o)?Ue.parent(a):Ue.common(a,o),c=Me.range(e,a,o),[l]=Me.node(e,s),u=s.length+1,d=Ue.next(o.slice(0,u)),p=nt({},t,{children:[]});ct.insertNodes(e,p,{at:d,voids:i}),ct.moveNodes(e,{at:c,match:e=>l.children.includes(e),to:d.concat(0),voids:i})}()}}}})}},it=(e,t)=>{if(Ye.isCollapsed(t))return t.anchor;var[,r]=Ye.edges(t),n=Me.pointRef(e,r);return ct.delete(e,{at:t}),n.unref()},ot=(e,t)=>{var[r]=Me.node(e,t);return e=>e===r};function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ct=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform(e,t){e.children=ue(e.children);var r=e.selection&&ue(e.selection);switch(t.type){case"insert_node":var{path:n,node:a}=t,i=Be.parent(e,n),o=n[n.length-1];if(i.children.splice(o,0,a),r)for(var[s,c]of Ye.points(r))r[c]=Ve.transform(s,t);break;case"insert_text":var{path:l,offset:u,text:d}=t,p=Be.leaf(e,l),f=p.text.slice(0,u),h=p.text.slice(u);if(p.text=f+d+h,r)for(var[m,g]of Ye.points(r))r[g]=Ve.transform(m,t);break;case"merge_node":var{path:v}=t,y=Be.get(e,v),_=Ue.previous(v),E=Be.get(e,_),w=Be.parent(e,v),O=v[v.length-1];if(Qe.isText(y)&&Qe.isText(E))E.text+=y.text;else{if(Qe.isText(y)||Qe.isText(E))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(v,"] to nodes of different interaces: ").concat(y," ").concat(E));E.children.push(...y.children)}if(w.children.splice(O,1),r)for(var[x,C]of Ye.points(r))r[C]=Ve.transform(x,t);break;case"move_node":var{path:k,newPath:I}=t;if(Ue.isAncestor(k,I))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(I,"] because the destination is inside itself."));var j=Be.get(e,k),S=Be.parent(e,k),T=k[k.length-1];S.children.splice(T,1);var A=Ue.transform(k,t),N=Be.get(e,Ue.parent(A)),D=A[A.length-1];if(N.children.splice(D,0,j),r)for(var[P,R]of Ye.points(r))r[R]=Ve.transform(P,t);break;case"remove_node":var{path:M}=t,F=M[M.length-1];if(Be.parent(e,M).children.splice(F,1),r)for(var[L,B]of Ye.points(r)){var q=Ve.transform(L,t);if(null!=r&&null!=q)r[B]=q;else{var H=void 0,z=void 0;for(var[U,W]of Be.texts(e)){if(-1!==Ue.compare(W,M)){z=[U,W];break}H=[U,W]}H?(L.path=H[1],L.offset=H[0].text.length):z?(L.path=z[1],L.offset=0):r=null}}break;case"remove_text":var{path:G,offset:V,text:K}=t,$=Be.leaf(e,G),Y=$.text.slice(0,V),J=$.text.slice(V+K.length);if($.text=Y+J,r)for(var[X,Z]of Ye.points(r))r[Z]=Ve.transform(X,t);break;case"set_node":var{path:Q,newProperties:ee}=t;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var te=Be.get(e,Q);for(var re in ee){if("children"===re||"text"===re)throw new Error('Cannot set the "'.concat(re,'" property of nodes!'));var ne=ee[re];null==ne?delete te[re]:te[re]=ne}break;case"set_selection":var{newProperties:ae}=t;if(null==ae)r=ae;else if(null==r){if(!Ye.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ae)," when there is no current selection."));r=ae}else Object.assign(r,ae);break;case"split_node":var{path:ie,position:oe,properties:se}=t;if(0===ie.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ie,"] because the root node cannot be split."));var ce,le=Be.get(e,ie),pe=Be.parent(e,ie),fe=ie[ie.length-1];if(Qe.isText(le)){var he=le.text.slice(0,oe),me=le.text.slice(oe);le.text=he,ce=tt({},le,{},se,{text:me})}else{var ge=le.children.slice(0,oe),be=le.children.slice(oe);le.children=ge,ce=tt({},le,{},se,{children:be})}if(pe.children.splice(fe+1,0,ce),r)for(var[ve,ye]of Ye.points(r))r[ye]=Ve.transform(ve,t)}e.children=de(e.children),e.selection=r?b(r)?de(r):r:null}},{},at,{},{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)ct.select(e,n.anchor);else if("focus"===r)ct.select(e,n.focus);else if("start"===r){var[a]=Ye.edges(n);ct.select(e,a)}else if("end"===r){var[,i]=Ye.edges(n);ct.select(e,i)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:a="character",reverse:i=!1}=t,{edge:o=null}=t;if(r){"start"===o&&(o=Ye.isBackward(r)?"focus":"anchor"),"end"===o&&(o=Ye.isBackward(r)?"anchor":"focus");var{anchor:s,focus:c}=r,l={distance:n,unit:a},u={};if(null==o||"anchor"===o){var d=i?Me.before(e,s,l):Me.after(e,s,l);d&&(u.anchor=d)}if(null==o||"focus"===o){var p=i?Me.before(e,c,l):Me.after(e,c,l);p&&(u.focus=p)}ct.setSelection(e,u)}},select(e,t){var{selection:r}=e;if(t=Me.range(e,t),r)ct.setSelection(e,t);else{if(!Ye.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t,r){var{selection:n}=e,{edge:a="both"}=r;if(n){"start"===a&&(a=Ye.isBackward(n)?"focus":"anchor"),"end"===a&&(a=Ye.isBackward(n)?"anchor":"focus");var{anchor:i,focus:o}=n,s="anchor"===a?i:o,c=Object.assign(s,t);"anchor"===a?ct.setSelection(e,{anchor:c}):ct.setSelection(e,{focus:c})}},setSelection(e,t){var{selection:r}=e,n={},a={};if(r){for(var i in t)("anchor"===i&&null!=t.anchor&&!Ve.equals(t.anchor,r.anchor)||"focus"===i&&null!=t.focus&&!Ve.equals(t.focus,r.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==r[i])&&(n[i]=r[i],a[i]=t[i]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}}},{},{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Me.withoutNormalizing(e,()=>{var{reverse:r=!1,unit:n="character",distance:a=1,voids:i=!1}=t,{at:o=e.selection,hanging:s=!1}=t;if(o){if(Ye.isRange(o)&&Ye.isCollapsed(o)&&(o=o.anchor),Ve.isPoint(o)){var c=Me.void(e,{at:o,mode:"highest"});if(!i&&c){var[,l]=c;o=l}else{var u={unit:n,distance:a};o={anchor:o,focus:r?Me.before(e,o,u)||Me.start(e,[]):Me.after(e,o,u)||Me.end(e,[])},s=!0}}if(Ue.isPath(o))ct.removeNodes(e,{at:o,voids:i});else if(!Ye.isCollapsed(o)){s||(o=Me.unhangRange(e,o,{voids:i}));var[d,p]=Ye.edges(o),f=Me.above(e,{match:t=>Me.isBlock(e,t),at:d,voids:i}),h=Me.above(e,{match:t=>Me.isBlock(e,t),at:p,voids:i}),m=f&&h&&!Ue.equals(f[1],h[1]),g=Ue.equals(d.path,p.path),b=i?null:Me.void(e,{at:d,mode:"highest"}),v=i?null:Me.void(e,{at:p,mode:"highest"});if(b){var y=Me.before(e,d);y&&f&&Ue.isAncestor(f[1],y.path)&&(d=y)}if(v){var _=Me.after(e,p);_&&h&&Ue.isAncestor(h[1],_.path)&&(p=_)}var E,w=[];for(var O of Me.nodes(e,{at:o,voids:i})){var[x,C]=O;E&&0===Ue.compare(C,E)||(!i&&Me.isVoid(e,x)||!Ue.isCommon(C,d.path)&&!Ue.isCommon(C,p.path))&&(w.push(O),E=C)}var k=Array.from(w,t=>{var[,r]=t;return Me.pathRef(e,r)}),I=Me.pointRef(e,d),j=Me.pointRef(e,p);if(!g&&!b){var S=I.current,[T]=Me.leaf(e,S),{path:A}=S,{offset:N}=d,D=T.text.slice(N);e.apply({type:"remove_text",path:A,offset:N,text:D})}for(var P of k){var R=P.unref();ct.removeNodes(e,{at:R,voids:i})}if(!v){var M=j.current,[F]=Me.leaf(e,M),{path:L}=M,B=g?d.offset:0,q=F.text.slice(B,p.offset);e.apply({type:"remove_text",path:L,offset:B,text:q})}!g&&m&&j.current&&I.current&&ct.mergeNodes(e,{at:j.current,hanging:!0,voids:i});var H=j.unref()||I.unref();null==t.at&&H&&ct.select(e,H)}}})},insertFragment(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Me.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:a=!1}=r,{at:i=e.selection}=r;if(t.length&&i){if(Ye.isRange(i))if(n||(i=Me.unhangRange(e,i)),Ye.isCollapsed(i))i=i.anchor;else{var[,o]=Ye.edges(i);if(!a&&Me.void(e,{at:o}))return;var s=Me.pointRef(e,o);ct.delete(e,{at:i}),i=s.unref()}else Ue.isPath(i)&&(i=Me.start(e,i));if(a||!Me.void(e,{at:i})){var c=Me.above(e,{at:i,match:t=>Me.isInline(e,t),mode:"highest",voids:a});if(c){var[,l]=c;if(Me.isEnd(e,i,l))i=Me.after(e,l);else if(Me.isStart(e,i,l)){i=Me.before(e,l)}}var u=Me.above(e,{match:t=>Me.isBlock(e,t),at:i,voids:a}),[,d]=u,p=Me.isStart(e,i,d),f=Me.isEnd(e,i,d),h=!p||p&&f,m=!f,[,g]=Be.first({children:t},[]),[,b]=Be.last({children:t},[]),v=[],y=t=>{var[r,n]=t;return!(h&&Ue.isAncestor(n,g)&&Fe.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(m&&Ue.isAncestor(n,b)&&Fe.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))};for(var _ of Be.nodes({children:t},{pass:y}))_[1].length>0&&y(_)&&v.push(_);var E=[],w=[],O=[],x=!0,C=!1;for(var[k]of v)Fe.isElement(k)&&!e.isInline(k)?(x=!1,C=!0,w.push(k)):x?E.push(k):O.push(k);var[I]=Me.nodes(e,{at:i,match:t=>Qe.isText(t)||Me.isInline(e,t),mode:"highest",voids:a}),[,j]=I,S=Me.isStart(e,i,j),T=Me.isEnd(e,i,j),A=Me.pathRef(e,f?Ue.next(d):d),N=Me.pathRef(e,T?Ue.next(j):j);ct.splitNodes(e,{at:i,match:t=>C?Me.isBlock(e,t):Qe.isText(t)||Me.isInline(e,t),mode:C?"lowest":"highest",voids:a});var D=Me.pathRef(e,!S||S&&T?Ue.next(j):j);if(ct.insertNodes(e,E,{at:D.current,match:t=>Qe.isText(t)||Me.isInline(e,t),mode:"highest",voids:a}),ct.insertNodes(e,w,{at:A.current,match:t=>Me.isBlock(e,t),mode:"lowest",voids:a}),ct.insertNodes(e,O,{at:N.current,match:t=>Qe.isText(t)||Me.isInline(e,t),mode:"highest",voids:a}),!r.at){var P;P=O.length>0?Ue.previous(N.current):w.length>0?Ue.previous(A.current):Ue.previous(D.current);var R=Me.end(e,P);ct.select(e,R)}D.unref(),A.unref(),N.unref()}}})},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Me.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:a=e.selection}=r;if(a){if(Ue.isPath(a)&&(a=Me.range(e,a)),Ye.isRange(a))if(Ye.isCollapsed(a))a=a.anchor;else{var i=Ye.end(a);if(!n&&Me.void(e,{at:i}))return;var o=Me.pointRef(e,i);ct.delete(e,{at:a,voids:n}),a=o.unref(),ct.setSelection(e,{anchor:a,focus:a})}if(n||!Me.void(e,{at:a})){var{path:s,offset:c}=a;e.apply({type:"insert_text",path:s,offset:c,text:t})}}})}})},,,,,,,function(e,t){e.exports=require("electron")},,,function(e,t){const r=[{type:"paragraph",children:[{text:""}]}],n={id:1,name:"",description:"",notes:r,color:null,cards:[],noteIds:[],templates:[],tags:[],categoryId:null,imageId:null,bookIds:[]},a={id:1,name:"",description:"",notes:r,color:null,cards:[],noteIds:[],templates:[],tags:[],imageId:null,bookIds:[]},i={id:1,lineId:null,chapterId:null,beatId:null,seriesLineId:null,bookId:null,positionWithinLine:0,positionInChapter:0,title:"",description:r,tags:[],characters:[],places:[],templates:[],imageId:null,fromTemplateId:null},o={id:1,title:"",content:r,tags:[],characters:[],places:[],lastEdited:null,templates:[],imageId:null,bookIds:[]};e.exports={image:{id:1,name:"",path:"",data:""},note:o,customAttributes:{characters:[],places:[],cards:[],scenes:[],lines:[]},attribute:{name:"",type:"text"},seriesLine:{id:1,color:"#6cace4",title:"",position:0,expanded:null},line:{id:1,bookId:1,color:"#6cace4",title:"",position:0,characterId:null,expanded:null,fromTemplateId:null},card:i,tag:{id:1,title:"",color:null},place:a,character:n,categories:{characters:[],places:[],notes:[],tags:[]},category:{id:"",name:"",position:0},file:{fileName:"",loaded:!1,dirty:!1,version:""},ui:{currentView:"timeline",currentTimeline:1,timelineIsExpanded:!0,orientation:"horizontal",darkMode:!1,characterSort:"name~asc",characterFilter:null,placeSort:"name~asc",placeFilter:null,noteSort:"title~asc",noteFilter:null,zoomState:null,zoomIndex:4,timelineFilter:null},chapter:{id:1,bookId:1,position:0,title:"auto",time:0,templates:[],autoOutlineSort:!0,fromTemplateId:null},beat:{id:1,position:0,title:"auto",time:0,templates:[],autoOutlineSort:!0},book:{id:1,title:"",premise:"",genre:"",theme:"",templates:[],timelineTemplates:[],imageId:null},series:{name:"",premise:"",genre:"",theme:"",templates:[]},RCE_INITIAL_VALUE:r}},,function(e,t,r){"use strict";function n(e){return e.length?Math.max(...e)+1:1}function a(e){return e.reduce((e,t)=>Math.max(t.id,e),0)+1}function i(e){return Object.keys(e).reduce((e,t)=>Math.max(t,e),0)+1}r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return i}))},function(e,t,r){var n=r(514);e.exports=function(e){return n(e,5)}},,function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"i",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return d})),r.d(t,"g",(function(){return p}));var n=r(21);const a=e=>e.ui.currentTimeline,i=e=>e.ui.timelineIsExpanded,o=e=>e.ui.characterFilter,s=e=>e.ui.characterSort,c=e=>e.ui.placeFilter,l=e=>e.ui.placeSort,u=e=>e.ui.timelineFilter,d=Object(n.a)(a,e=>"series"==e),p=Object(n.a)(u,e=>null==e||!e.tag.length&&!e.character.length&&!e.place.length)},function(e,t,r){"use strict";function n(e,t){return e===t}function a(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,a=0;a<n;a++)if(!e(t[a],r[a]))return!1;return!0}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}r.d(t,"a",(function(){return o}));var o=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var o=0,s=n.pop(),c=i(n),l=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(r)),u=e((function(){for(var e=[],t=c.length,r=0;r<t;r++)e.push(c[r].apply(null,arguments));return l.apply(null,e)}));return u.resultFunc=s,u.dependencies=c,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=null,i=null;return function(){return a(t,r,arguments)||(i=e.apply(null,arguments)),r=arguments,i}}))},,function(e,t){e.exports=require("path")},,,function(e,t,r){const n=r(3),{series:a,book:i,chapter:o,beat:s,ui:c,file:l,line:u,customAttributes:d,seriesLine:p,categories:f}=r(15),{app:h,remote:m}=r(12);let g=h;m&&(g=m.app),n.setup({translations:r(130),locale:g.getLocale()||"en"});const b=a,v={allIds:[1],1:i},y=[Object.assign({},s,{title:n("Beat 1")})],_=[o],E=c,w=l,O=[Object.assign({},u,{title:n("Main Plot")})],x=[Object.assign({},p,{title:n("Main Plot")})],C=d,k=[{id:1,name:n("Main"),position:0},{id:2,name:n("Supporting"),position:1},{id:3,name:n("Other"),position:2}],I=Object.assign({},f,{characters:k});e.exports={newFileSeries:b,newFileBooks:v,newFileBeats:y,newFileChapters:_,newFileUI:E,newFileFile:w,newFileCharacters:[],newFileCategories:I,newFilePlaces:[],newFileTags:[],newFileCards:[],newFileLines:O,newFileSeriesLines:x,newFileCustomAttributes:C,newFileNotes:[],newFileImages:{}}},,,function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";function n(e,t,r){const n=[...r],[a]=n.splice(t,1);return n.splice(e,0,a),n}function a(e,t,r){const n=[...r];let a=t;e<t&&(a=0==t?0:t-1);const[i]=n.splice(e,1);return n.splice(a,0,i),n}function i(e){return e.reduce((e,t)=>Math.max(t.position,e),-1)+1}function o(e){return e.filter(e=>null!=e).map((e,t)=>(e.position=t,e))}function s(e,t){return e.filter(e=>e&&e.bookId==t).reduce((e,t)=>Math.max(t.position,e),-1)+1}r.d(t,"e",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return s}))},,,function(e,t){e.exports=require("util")},,function(e,t,r){"use strict";r.r(t),r.d(t,"changeCurrentView",(function(){return a})),r.d(t,"changeOrientation",(function(){return i})),r.d(t,"loadFile",(function(){return o})),r.d(t,"newFile",(function(){return s})),r.d(t,"fileSaved",(function(){return c})),r.d(t,"setDarkMode",(function(){return l})),r.d(t,"setCharacterSort",(function(){return u})),r.d(t,"setPlaceSort",(function(){return d})),r.d(t,"setNoteSort",(function(){return p})),r.d(t,"setCharacterFilter",(function(){return f})),r.d(t,"setPlaceFilter",(function(){return h})),r.d(t,"setNoteFilter",(function(){return m})),r.d(t,"setTimelineFilter",(function(){return g})),r.d(t,"increaseZoom",(function(){return b})),r.d(t,"decreaseZoom",(function(){return v})),r.d(t,"fitZoom",(function(){return y})),r.d(t,"resetZoom",(function(){return _})),r.d(t,"changeCurrentTimeline",(function(){return E})),r.d(t,"navigateToBookTimeline",(function(){return w})),r.d(t,"expandTimeline",(function(){return O})),r.d(t,"collapseTimeline",(function(){return x})),r.d(t,"clearTemplateFromTimeline",(function(){return C})),r.d(t,"resetTimeline",(function(){return k}));var n=r(4);function a(e){return{type:n.K,view:e}}function i(e){return{type:n.M,orientation:e}}function o(e,t,r){return{type:n.xb,data:r,fileName:e,dirty:t}}function s(e){return{type:n.Cb,fileName:e}}function c(){return{type:n.yb,dirty:!1}}function l(e){return{type:n.gc,on:e}}function u(e,t){return{type:n.fc,attr:e,direction:t}}function d(e,t){return{type:n.ic,attr:e,direction:t}}function p(e,t){return{type:SET_NOTE_SORT,attr:e,direction:t}}function f(e){return{type:n.ec,filter:e}}function h(e){return{type:n.hc,filter:e}}function m(e){return{type:SET_NOTE_FILTER,filter:e}}function g(e){return{type:n.jc,filter:e}}function b(){return{type:n.Ab}}function v(){return{type:n.S}}function y(){return{type:n.zb}}function _(){return{type:n.dc}}function E(e){return{type:n.J,id:e}}function w(e){return{type:n.Bb,bookId:e}}function O(){return{type:n.wb}}function x(){return{type:n.R}}function C(e,t){return{type:n.O,bookId:e,templateId:t}}function k(e){return{type:n.cc,bookId:e}}},function(e,t,r){var n,a,i;a=[t,r(0),r(59)],void 0===(i="function"==typeof(n=function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o(){var e=u(["\n  position: relative;\n  overflow: auto;\n  height: 100%;\n  box-sizing: border-box;\n\n\n  & ",":not(:last-child) "," {\n    border-bottom: ",";\n  }\n\n  & ",":nth-child(",") "," {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0px;\n    z-index: ",";\n  }\n  & ",":nth-last-child(-n+",") "," {\n    position: -webkit-sticky;\n    position: sticky;\n    bottom: 0px;\n    z-index: ",";\n    border-top: ",";\n  }\n  & "," ",":nth-child(-n+",") {\n    position: -webkit-sticky;\n    position: sticky;\n    left: 0px;\n    z-index: ",";\n    border-right: ",";\n  }\n  & "," ",":nth-last-child(-n+",") {\n    position: -webkit-sticky;\n    position: sticky;\n    right: 0px;\n    z-index: ",";\n    border-left: ",";\n  }\n\n  & ",":nth-child(-n+",") ",":nth-child(-n+",") {\n    z-index: ",";\n  }\n  & ",":nth-child(-n+",") ",":nth-last-child(-n+",") {\n    z-index: ",";\n  }\n  & ",":nth-last-child(-n+",") ",":nth-child(-n+",") {\n    z-index: ",";\n  }\n  & ",":nth-last-child(-n+",") ",":nth-last-child(-n+",") {\n    z-index: ",";\n  }\n"]);return o=function(){return e},e}function s(){var e=u(["\n  display: table-row;\n"]);return s=function(){return e},e}function c(){var e=u(["\n  display: table-cell;\n  box-sizing: border-box;\n  padding: 0.5rem 0.75rem;\n  background-color: #fff;\n"]);return c=function(){return e},e}function l(){var e=u(["\n  white-space: nowrap;\n  display: table;\n  box-sizing: border-box;\n"]);return l=function(){return e},e}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.StickyTable=function(e){var r=e.leftStickyColumnCount,n=void 0===r?1:r,o=e.stickyHeaderCount,s=void 0===o?1:o,c=e.wrapperRef,l=e.children,u=i(e,["leftStickyColumnCount","stickyHeaderCount","wrapperRef","children"]);return t.default.createElement(m,a({ref:c,leftStickyColumnCount:n,stickyHeaderCount:s},u),t.default.createElement(p,null,l))},e.Cell=e.Row=e.Table=void 0,t=n(t),r=n(r);var d=function(e){return"".concat(void 0===e.borderWidth?"2px":e.borderWidth||"0px"," solid ").concat(e.borderColor||"#e5e5e5")},p=(0,r.default)("div").attrs({className:"sticky-table-table"})(l());e.Table=p,p.displayName="Table";var f=(0,r.default)("div").attrs({className:"sticky-table-cell"})(c());e.Cell=f,f.displayName="Cell";var h=(0,r.default)("div").attrs({className:"sticky-table-row"})(s());e.Row=h,h.displayName="Row";var m=(0,r.default)("div").attrs({className:"sticky-table"})(o(),h,f,d,h,(function(e){return"-n+".concat(e.stickyHeaderCount)}),f,(function(e){return e.headerZ||2}),h,(function(e){return e.stickyFooterCount}),f,(function(e){return e.footerZ||2}),d,h,f,(function(e){return e.leftStickyColumnCount}),(function(e){return e.leftColumnZ||2}),d,h,f,(function(e){return e.rightStickyColumnCount}),(function(e){return e.rightColumnZ||2}),d,h,(function(e){return e.stickyHeaderCount}),f,(function(e){return e.leftStickyColumnCount}),(function(e){return Math.max(e.headerZ||2,e.leftColumnZ||2)+1}),h,(function(e){return e.stickyHeaderCount}),f,(function(e){return e.rightStickyColumnCount}),(function(e){return Math.max(e.headerZ||2,e.rightColumnZ||2)+1}),h,(function(e){return e.stickyFooterCount}),f,(function(e){return e.leftStickyColumnCount}),(function(e){return Math.max(e.footerZ||2,e.leftColumnZ||2)+1}),h,(function(e){return e.stickyFooterCount}),f,(function(e){return e.rightStickyColumnCount}),(function(e){return Math.max(e.footerZ||2,e.rightColumnZ||2)+1}));m.displayName="Wrapper"})?n.apply(t,a):n)||(e.exports=i)},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";var n=r(24),a=r.n(n),i=r(21),o=r(20);var s=r(48),c=r(17);r.d(t,"c",(function(){return d})),r.d(t,"e",(function(){return f})),r.d(t,"d",(function(){return m})),r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return b}));const l=e=>e.chapters,u=(e,t)=>t,d=Object(i.a)(l,e=>Object(c.b)(e)),p=Object(i.a)(l,o.c,e=>e.beats,(e,t,r)=>"series"==t?r:e.filter(e=>e.bookId==t)),f=Object(i.a)(p,e=>a()(e,"position")),h=Object(i.a)(f,e=>Object(s.a)(e)),m=Object(i.a)(h,e=>e?-1:0),g=()=>Object(i.a)(p,u,(e,t)=>e.find(e=>e.id==t)),b=()=>Object(i.a)(o.d,p,u,m,(e,t,r,n)=>{const a=t.find(e=>e.id==r);return a?Object(s.c)(a,n,e):""})},function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}t.a=function(e,t){var r;void 0===t&&(t=n);var a,i=[],o=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return o&&r===this&&t(n,i)||(a=e.apply(this,n),o=!0,r=this,i=n),a}}},,function(e,t,r){"use strict";var n=r(24),a=r.n(n),i=r(21),o=r(20);var s=r(17);r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return d})),r.d(t,"a",(function(){return p}));const c=e=>e.lines,l=Object(i.a)(c,e=>Object(s.b)(e)),u=Object(i.a)(c,o.c,e=>e.seriesLines,(e,t,r)=>"series"==t?r:e.filter(e=>e&&e.bookId==t)),d=Object(i.a)(u,e=>a()(e,"position")),p=Object(i.a)(u,o.i,(e,t)=>e.reduce((e,r)=>(null==r.expanded?e[r.id]=t:e[r.id]=r.expanded,e),{}))},,function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return l}));var n=r(55),a=r.n(n),i=r(24),o=r.n(i);function s(e,t,r,n){if(e){const e=n?"seriesLineId":"lineId",i=a()(t,"positionWithinLine"),o=r.map(e=>e.id);return Object.keys(i).flatMap(t=>i[t].sort((t,r)=>o.indexOf(t[e])-o.indexOf(r[e])))}return o()(t,"positionInChapter")}function c(e,t,r,n){return e.reduce((e,a)=>(e[a.id]=function(e,t,r,n){return e.reduce((e,a)=>{if(function(e,t){return!!t&&e.id!=t}(a,n))return e;const i=r[`${a.id}-${t}`];return i?e.concat(i):e},[])}(t,a.id,r,n),e),{})}function l(e,t){return e.length<t?e:e.substr(0,t)+"..."}},function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o}));const n=[.1,.25,.5,.75,1,1.5,2,3],a=4,i=null,o="fit"},,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"e",(function(){return u}));var n=r(3),a=r.n(n),i=r(15);function o(e){return e[0].title==a()("Prologue")}function s(e,t,r){return r?"auto"==e.title?a()("Beat {number}",{number:e.position+t+1}):e.title:"auto"==e.title?a()("Chapter {number}",{number:e.position+t+1}):e.title}function c(e,t,r){return r?a()("Beat {number} title",{number:e.position+t+1}):a()("Chapter {number} title",{number:e.position+t+1})}function l(e,t,r){return r?a()("Beat {number}",{number:e.position+t+1}):a()("Chapter {number}",{number:e.position+t+1})}function u(e,t,r,n){var a=Object.assign({},i.chapter,{id:r,bookId:n});return t.splice(e,0,a),t}},,,,function(e,t,r){var n=r(94),a=r(239),i=r(352),o=r(170),s=r(811),c=r(131),l=r(353),u=r(132),d=r(813),p=r(814),f=r(815),h=r(816),m=r(73),g=Array.isArray,b=m({elements:[],colorTable:[],fontTable:[],__constructor:function(e){this.params=this.params||{},"function"==typeof this._getDefaultParams&&Object.assign(this.params,this._getDefaultParams()),Object.assign(this.params,e),this.elements=[],this.colorTable=[],this.fontTable=[]},cascadeFormats:function(e,t,r={}){if(!g(t))throw new Error("Formats must be an array!");return r.reverseCascade&&(t=t.reverse()),t.filter(e=>!!e).map(e=>e instanceof c?e:new c(e)).reduce((e,t)=>t.formatText(e,this,r),e)},_getDefaultParams:function(){return{marginLeft:1800,marginRight:1800,marginBottom:1440,marginTop:1440,language:b.Language.ENG_US,landscape:!0}},addTable:function(e){this.elements.push(e)},addTextGroup:function(e,t){if(this._groupIndex(e)<0){var r=new b.GroupElement(e,t);this.elements.push(r)}},addElement:function(e,t,r){if(void 0===r&&"object"==typeof t&&(r=t,t=void 0),null==e)throw new Error("Element not defined");g(e)?e=new d(e,r):"object"!=typeof e&&(e=new p(e,r)),void 0!==t&&this._groupIndex(t)>=0?this.elements[this._groupIndex(t)].addElement(e):this.elements.push(e)},writeText:function(e,t,r){var n=new b.TextElement(e,t);this.addElement(n,r)},addCommand:function(e,t,r){if(!e)throw new Error("Command not defined");void 0===r&&"object"==typeof t&&(r=t,t=void 0),r&&"object"==typeof r&&(r instanceof c&&r.updateTables(this.colorTable,this.fontTable),e+=new b.Entities(r).compile());var n={text:e,noEscape:!0};return this.addElement(n)},addPage:function(e){this.addCommand("\\page",e)},addLine:function(e){this.addCommand("\\line",e)},addTab:function(e){this.addCommand("\\tab",e)},addSection:function(e,t){this.addCommand("\\sect",t,e)},addStyles:function(e,t){if(!e)throw new Error("Entities not defined");e&&e instanceof c&&e.updateTables(this.colorTable,this.fontTable);var r=new b.Entities(e).compile();r&&this.addCommand(r,t)},_groupIndex:function(e){return this.elements.forEach((function(t,r){if(t instanceof b.GroupElement&&t.name===e)return r})),-1},getRTFCodeRoot:function(e){return g(e)?e.map(this.getRTFCodeRoot,this).join("\n"):e instanceof b.Element?e.getRTFCode(this):b.Utils.getRTFSafeText(e)},createDocument:function(){var e="{\\rtf1\\ansi\\deff0\n";e+=new b.Entities(this.params).compile()+"\n";var t=this.getRTFCodeRoot(this.elements);return e+=b.Utils.createColorTable(this.colorTable)+"\n",e+=b.Utils.createFontTable(this.fontTable)+"\n",e+=t+"\n}"}},{Utils:n,Fonts:a,Colors:i,RGB:o,Language:s,Format:c,Entities:l,Element:u,ContainerElement:d,TextElement:p,TableElement:f,GroupElement:h}),v=!0;"object"==typeof e.exports&&(e.exports=b,v=!1),"object"==typeof modules&&(modules.define("jsrtf",(function(e){e(b)})),v=!1),v&&(("undefined"!=typeof window?window:global).jsrtf=b)},function(e,t,r){"use strict";var n=r(86);const a=new(r.n(n).a)({name:"license_info"});t.a=a},,function(e,t,r){var n=r(155),a=r(229),i=Object.prototype.hasOwnProperty,o=a((function(e,t,r){i.call(e,r)?e[r].push(t):n(e,r,[t])}));e.exports=o},function(e,t){function r(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return o[e];var r,i=String(e);return(r=n[i.toLowerCase()])?r:(r=a[i.toLowerCase()])||(1===i.length?i.charCodeAt(0):void 0)}r.isEventKey=function(e,t){if(e&&"object"==typeof e){var r=e.which||e.keyCode||e.charCode;if(null==r)return!1;if("string"==typeof t){var i;if(i=n[t.toLowerCase()])return i===r;if(i=a[t.toLowerCase()])return i===r}else if("number"==typeof t)return t===r;return!1}};var n=(t=e.exports=r).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var o=t.names=t.title={};for(i in n)o[n[i]]=i;for(var s in a)n[s]=a[s]},function(e,t){e.exports=require("assert")},,function(e,t,r){"use strict";r.r(t);var n=r(250),a=r.n(n),i=r(380),o=r.n(i),s=r(0),c=r.n(s),l={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},u=r(96),d=r(39);r(2);var p=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return p.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function h(e){return Object.prototype.toString.call(e).slice(8,-1)}function m(e){return"Object"===h(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function g(e){return"Array"===h(e)}function b(e){return"Symbol"===h(e)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function y(e,t,r,n){var a=n.propertyIsEnumerable(t)?"enumerable":"nonenumerable";"enumerable"===a&&(e[t]=r),"nonenumerable"===a&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}function _(e,t,r){if(!m(t))return r&&g(r)&&r.forEach((function(r){t=r(e,t)})),t;var n={};m(e)&&(n=v(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)).reduce((function(r,n){var a=e[n];return(!b(n)&&!Object.getOwnPropertyNames(t).includes(n)||b(n)&&!Object.getOwnPropertySymbols(t).includes(n))&&y(r,n,a,e),r}),{}));return v(Object.getOwnPropertyNames(t),Object.getOwnPropertySymbols(t)).reduce((function(n,a){var i=t[a],o=m(e)?e[a]:void 0;return r&&g(r)&&r.forEach((function(e){i=e(o,i)})),void 0!==o&&m(i)&&(i=_(o,i,r)),y(n,a,i,t),n}),n)}var E=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=null,a=e;return m(e)&&e.extensions&&1===Object.keys(e).length&&(a={},n=e.extensions),t.reduce((function(e,t){return _(e,t,n)}),a)};r.d(t,"createGlobalStyle",(function(){return lt})),r.d(t,"css",(function(){return ke})),r.d(t,"isStyledComponent",(function(){return P})),r.d(t,"keyframes",(function(){return dt})),r.d(t,"ServerStyleSheet",(function(){return et})),r.d(t,"StyleSheetConsumer",(function(){return rt})),r.d(t,"StyleSheetContext",(function(){return tt})),r.d(t,"StyleSheetManager",(function(){return nt})),r.d(t,"ThemeConsumer",(function(){return Ze})),r.d(t,"ThemeContext",(function(){return Xe})),r.d(t,"ThemeProvider",(function(){return Qe})),r.d(t,"withTheme",(function(){return pt})),r.d(t,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",(function(){return ft}));var w=function(e,t){for(var r=[e[0]],n=0,a=t.length;n<a;n+=1)r.push(t[n],e[n+1]);return r},O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},j=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},S=function(e){return"object"===(void 0===e?"undefined":O(e))&&e.constructor===Object},T=Object.freeze([]),A=Object.freeze({});function N(e){return"function"==typeof e}function D(e){return e.displayName||e.name||"Component"}function P(e){return e&&"string"==typeof e.styledComponentId}var R="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",M="undefined"!=typeof window&&"HTMLElement"in window,F="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||"undefined"!=typeof process&&(process.env.REACT_APP_SC_DISABLE_SPEEDY||process.env.SC_DISABLE_SPEEDY)||!1,L={};var B=function(e){function t(r){x(this,t);for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o=j(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+r+" for more information."+(a.length>0?" Additional arguments: "+a.join(", "):"")));return j(o)}return I(t,e),t}(Error),q=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,H=function(e){var t=""+(e||""),r=[];return t.replace(q,(function(e,t,n){return r.push({componentId:t,matchIndex:n}),e})),r.map((function(e,n){var a=e.componentId,i=e.matchIndex,o=r[n+1];return{componentId:a,cssFromDOM:o?t.slice(i,o.matchIndex):t.slice(i)}}))},z=/^\s*\/\/.*$/gm,U=new a.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),W=new a.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),G=[],V=function(e){if(-2===e){var t=G;return G=[],t}},K=o()((function(e){G.push(e)})),$=void 0,Y=void 0,J=void 0,X=function(e,t,r){return t>0&&-1!==r.slice(0,t).indexOf(Y)&&r.slice(t-Y.length,t)!==Y?"."+$:e};W.use([function(e,t,r){2===e&&r.length&&r[0].lastIndexOf(Y)>0&&(r[0]=r[0].replace(J,X))},K,V]),U.use([K,V]);function Z(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",a=e.join("").replace(z,""),i=t&&r?r+" "+t+" { "+a+" }":a;return $=n,Y=t,J=new RegExp("\\"+Y+"\\b","g"),W(r||!t?"":t,i)}var Q=function(){return r.nc},ee=function(e,t,r){r&&((e[t]||(e[t]=Object.create(null)))[r]=!0)},te=function(e,t){e[t]=Object.create(null)},re=function(e){return function(t,r){return void 0!==e[t]&&e[t][r]}},ne=function(e){var t="";for(var r in e)t+=Object.keys(e[r]).join(" ")+" ";return t.trim()},ae=function(e){if(e.sheet)return e.sheet;for(var t=e.ownerDocument.styleSheets.length,r=0;r<t;r+=1){var n=e.ownerDocument.styleSheets[r];if(n.ownerNode===e)return n}throw new B(10)},ie=function(e,t,r){if(!t)return!1;var n=e.cssRules.length;try{e.insertRule(t,r<=n?r:n)}catch(e){return!1}return!0},oe=function(e){return"\n/* sc-component-id: "+e+" */\n"},se=function(e,t){for(var r=0,n=0;n<=t;n+=1)r+=e[n];return r},ce=function(e,t){return function(r){var n=Q();return"<style "+[n&&'nonce="'+n+'"',R+'="'+ne(t)+'"','data-styled-version="4.4.1"',r].filter(Boolean).join(" ")+">"+e()+"</style>"}},le=function(e,t){return function(){var r,n=((r={})[R]=ne(t),r["data-styled-version"]="4.4.1",r),a=Q();return a&&(n.nonce=a),c.a.createElement("style",k({},n,{dangerouslySetInnerHTML:{__html:e()}}))}},ue=function(e){return function(){return Object.keys(e)}},de=function(e,t){return e.createTextNode(oe(t))},pe=function e(t,r){var n=void 0===t?Object.create(null):t,a=void 0===r?Object.create(null):r,i=function(e){var t=a[e];return void 0!==t?t:a[e]=[""]},o=function(){var e="";for(var t in a){var r=a[t][0];r&&(e+=oe(t)+r)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var r in e)t[r]=k({},e[r]);return t}(n),r=Object.create(null);for(var i in a)r[i]=[a[i][0]];return e(t,r)},css:o,getIds:ue(a),hasNameForId:re(n),insertMarker:i,insertRules:function(e,t,r){i(e)[0]+=t.join(" "),ee(n,e,r)},removeRules:function(e){var t=a[e];void 0!==t&&(t[0]="",te(n,e))},sealed:!1,styleTag:null,toElement:le(o,n),toHTML:ce(o,n)}},fe=function(e,t,r,n,a){if(M&&!r){var i=function(e,t,r){var n=document;e?n=e.ownerDocument:t&&(n=t.ownerDocument);var a=n.createElement("style");a.setAttribute(R,""),a.setAttribute("data-styled-version","4.4.1");var i=Q();if(i&&a.setAttribute("nonce",i),a.appendChild(n.createTextNode("")),e&&!t)e.appendChild(a);else{if(!t||!e||!t.parentNode)throw new B(6);t.parentNode.insertBefore(a,r?t:t.nextSibling)}return a}(e,t,n);return F?function(e,t){var r=Object.create(null),n=Object.create(null),a=void 0!==t,i=!1,o=function(t){var a=n[t];return void 0!==a?a:(n[t]=de(e.ownerDocument,t),e.appendChild(n[t]),r[t]=Object.create(null),n[t])},s=function(){var e="";for(var t in n)e+=n[t].data;return e};return{clone:function(){throw new B(5)},css:s,getIds:ue(n),hasNameForId:re(r),insertMarker:o,insertRules:function(e,n,s){for(var c=o(e),l=[],u=n.length,d=0;d<u;d+=1){var p=n[d],f=a;if(f&&-1!==p.indexOf("@import"))l.push(p);else{f=!1;var h=d===u-1?"":" ";c.appendData(""+p+h)}}ee(r,e,s),a&&l.length>0&&(i=!0,t().insertRules(e+"-import",l))},removeRules:function(o){var s=n[o];if(void 0!==s){var c=de(e.ownerDocument,o);e.replaceChild(c,s),n[o]=c,te(r,o),a&&i&&t().removeRules(o+"-import")}},sealed:!1,styleTag:e,toElement:le(s,r),toHTML:ce(s,r)}}(i,a):function(e,t){var r=Object.create(null),n=Object.create(null),a=[],i=void 0!==t,o=!1,s=function(e){var t=n[e];return void 0!==t?t:(n[e]=a.length,a.push(0),te(r,e),n[e])},c=function(){var t=ae(e).cssRules,r="";for(var i in n){r+=oe(i);for(var o=n[i],s=se(a,o),c=s-a[o];c<s;c+=1){var l=t[c];void 0!==l&&(r+=l.cssText)}}return r};return{clone:function(){throw new B(5)},css:c,getIds:ue(n),hasNameForId:re(r),insertMarker:s,insertRules:function(n,c,l){for(var u=s(n),d=ae(e),p=se(a,u),f=0,h=[],m=c.length,g=0;g<m;g+=1){var b=c[g],v=i;v&&-1!==b.indexOf("@import")?h.push(b):ie(d,b,p+f)&&(v=!1,f+=1)}i&&h.length>0&&(o=!0,t().insertRules(n+"-import",h)),a[u]+=f,ee(r,n,l)},removeRules:function(s){var c=n[s];if(void 0!==c&&!1!==e.isConnected){var l=a[c];!function(e,t,r){for(var n=t-r,a=t;a>n;a-=1)e.deleteRule(a)}(ae(e),se(a,c)-1,l),a[c]=0,te(r,s),i&&o&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:le(c,r),toHTML:ce(c,r)}}(i,a)}return pe()},he=/\s+/,me=void 0;me=M?F?40:1e3:-1;var ge=0,be=void 0,ve=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M?document.head:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];x(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var r=t.tags[0];return t.importRuleTag=fe(t.target,r?r.styleTag:null,t.forceServer,!0)},ge+=1,this.id=ge,this.forceServer=n,this.target=n?null:r,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!M||this.forceServer)return this;var e=[],t=[],r=!1,n=document.querySelectorAll("style["+R+'][data-styled-version="4.4.1"]'),a=n.length;if(!a)return this;for(var i=0;i<a;i+=1){var o=n[i];r||(r=!!o.getAttribute("data-styled-streamed"));for(var s,c=(o.getAttribute(R)||"").trim().split(he),l=c.length,u=0;u<l;u+=1)s=c[u],this.rehydratedNames[s]=!0;t.push.apply(t,H(o.textContent)),e.push(o)}var d=t.length;if(!d)return this;var p=this.makeTag(null);!function(e,t,r){for(var n=0,a=r.length;n<a;n+=1){var i=r[n],o=i.componentId,s=i.cssFromDOM,c=U("",s);e.insertRules(o,c)}for(var l=0,u=t.length;l<u;l+=1){var d=t[l];d.parentNode&&d.parentNode.removeChild(d)}}(p,e,t),this.capacity=Math.max(1,me-d),this.tags.push(p);for(var f=0;f<d;f+=1)this.tagMap[t[f].componentId]=p;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];be=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map((function(e){for(var r=e.getIds(),n=e.clone(),a=0;a<r.length;a+=1)t.tagMap[r[a]]=n;return n})),t.rehydratedNames=k({},this.rehydratedNames),t.deferred=k({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach((function(e){e.sealed=!0}))},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return fe(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var r=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=me,r=this.makeTag(r),this.tags.push(r)),this.tagMap[e]=r},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var r=this.tagMap[e];return void 0!==r&&r.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var r=this.clones,n=0;n<r.length;n+=1)r[n].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,r){for(var n=this.clones,a=0;a<n.length;a+=1)n[a].inject(e,t,r);var i=this.getTagForId(e);if(void 0!==this.deferred[e]){var o=this.deferred[e].concat(t);i.insertRules(e,o,r),this.deferred[e]=void 0}else i.insertRules(e,t,r)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var r=this.clones,n=0;n<r.length;n+=1)r[n].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map((function(e){return e.toHTML()})).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map((function(t,r){var n="sc-"+e+"-"+r;return Object(s.cloneElement)(t.toElement(),{key:n})}))},C(e,null,[{key:"master",get:function(){return be||(be=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),ye=function(){function e(t,r){var n=this;x(this,e),this.inject=function(e){e.hasNameForId(n.id,n.name)||e.inject(n.id,n.rules,n.name)},this.toString=function(){throw new B(12,String(n.name))},this.name=t,this.rules=r,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),_e=/([A-Z])/g,Ee=/^ms-/;function we(e){return e.replace(_e,"-$1").toLowerCase().replace(Ee,"-ms-")}var Oe=function(e){return null==e||!1===e||""===e},xe=function e(t,r){var n=[];return Object.keys(t).forEach((function(r){if(!Oe(t[r])){if(S(t[r]))return n.push.apply(n,e(t[r],r)),n;if(N(t[r]))return n.push(we(r)+":",t[r],";"),n;n.push(we(r)+": "+(a=r,null==(i=t[r])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||a in l?String(i).trim():i+"px")+";")}var a,i;return n})),r?[r+" {"].concat(n,["}"]):n};function Ce(e,t,r){if(Array.isArray(e)){for(var n,a=[],i=0,o=e.length;i<o;i+=1)null!==(n=Ce(e[i],t,r))&&(Array.isArray(n)?a.push.apply(a,n):a.push(n));return a}return Oe(e)?null:P(e)?"."+e.styledComponentId:N(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:Ce(e(t),t,r):e instanceof ye?r?(e.inject(r),e.getName()):e:S(e)?xe(e):e.toString();var s}function ke(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return N(e)||S(e)?Ce(w(T,[e].concat(r))):Ce(w(e,r))}function Ie(e){for(var t,r=0|e.length,n=0|r,a=0;r>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(t>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(a)))+((1540483477*(n>>>16)&65535)<<16)}return((n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16))^n>>>15)>>>0}var je=function(e){return String.fromCharCode(e+(e>25?39:97))};function Se(e){var t="",r=void 0;for(r=e;r>52;r=Math.floor(r/52))t=je(r%52)+t;return je(r%52)+t}function Te(e,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(Array.isArray(n)&&!Te(n,t))return!1;if(N(n)&&!P(n))return!1}return!t.some((function(e){return N(e)||function(e){for(var t in e)if(N(e[t]))return!0;return!1}(e)}))}var Ae,Ne=function(e){return Se(Ie(e))},De=function(){function e(t,r,n){x(this,e),this.rules=t,this.isStatic=Te(t,r),this.componentId=n,ve.master.hasId(n)||ve.master.deferredInject(n,[])}return e.prototype.generateAndInjectStyles=function(e,t){var r=this.isStatic,n=this.componentId,a=this.lastClassName;if(M&&r&&"string"==typeof a&&t.hasNameForId(n,a))return a;var i=Ce(this.rules,e,t),o=Ne(this.componentId+i.join(""));return t.hasNameForId(n,o)||t.inject(this.componentId,Z(i,"."+o,void 0,n),o),this.lastClassName=o,o},e.generateName=function(e){return Ne(e)},e}(),Pe=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,n=!!r&&e.theme===r.theme,a=e.theme&&!n?e.theme:t||r.theme;return a},Re=/[[\].#*$><+~=|^:(),"'`-]+/g,Me=/(^-|-$)/g;function Fe(e){return e.replace(Re,"-").replace(Me,"")}function Le(e){return"string"==typeof e&&!0}var Be={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},qe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},He=((Ae={})[u.ForwardRef]={$$typeof:!0,render:!0},Ae),ze=Object.defineProperty,Ue=Object.getOwnPropertyNames,We=Object.getOwnPropertySymbols,Ge=void 0===We?function(){return[]}:We,Ve=Object.getOwnPropertyDescriptor,Ke=Object.getPrototypeOf,$e=Object.prototype,Ye=Array.prototype;function Je(e,t,r){if("string"!=typeof t){var n=Ke(t);n&&n!==$e&&Je(e,n,r);for(var a=Ye.concat(Ue(t),Ge(t)),i=He[e.$$typeof]||Be,o=He[t.$$typeof]||Be,s=a.length,c=void 0,l=void 0;s--;)if(l=a[s],!(qe[l]||r&&r[l]||o&&o[l]||i&&i[l])&&(c=Ve(t,l)))try{ze(e,l,c)}catch(e){}return e}return e}var Xe=Object(s.createContext)(),Ze=Xe.Consumer,Qe=function(e){function t(r){x(this,t);var n=j(this,e.call(this,r));return n.getContext=Object(d.a)(n.getContext.bind(n)),n.renderInner=n.renderInner.bind(n),n}return I(t,e),t.prototype.render=function(){return this.props.children?c.a.createElement(Xe.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return c.a.createElement(Xe.Provider,{value:t},this.props.children)},t.prototype.getTheme=function(e,t){if(N(e))return e(t);if(null===e||Array.isArray(e)||"object"!==(void 0===e?"undefined":O(e)))throw new B(8);return k({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)},t}(s.Component),et=function(){function e(){x(this,e),this.masterSheet=ve.master,this.instance=this.masterSheet.clone(),this.sealed=!1}return e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new B(2);return c.a.createElement(nt,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new B(3)},e}(),tt=Object(s.createContext)(),rt=tt.Consumer,nt=function(e){function t(r){x(this,t);var n=j(this,e.call(this,r));return n.getContext=Object(d.a)(n.getContext),n}return I(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new ve(t);throw new B(4)},t.prototype.render=function(){var e=this.props,t=e.children,r=e.sheet,n=e.target;return c.a.createElement(tt.Provider,{value:this.getContext(r,n)},t)},t}(s.Component),at={};var it=function(e){function t(){x(this,t);var r=j(this,e.call(this));return r.attrs={},r.renderOuter=r.renderOuter.bind(r),r.renderInner=r.renderInner.bind(r),r}return I(t,e),t.prototype.render=function(){return c.a.createElement(rt,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():c.a.createElement(Ze,null,this.renderInner)},t.prototype.renderInner=function(e){var t=this.props.forwardedComponent,r=t.componentStyle,n=t.defaultProps,a=(t.displayName,t.foldedComponentIds),i=t.styledComponentId,o=t.target,c=void 0;c=r.isStatic?this.generateAndInjectStyles(A,this.props):this.generateAndInjectStyles(Pe(this.props,e,n)||A,this.props);var l=this.props.as||this.attrs.as||o,u=Le(l),d={},p=k({},this.props,this.attrs),h=void 0;for(h in p)"forwardedComponent"!==h&&"as"!==h&&("forwardedRef"===h?d.ref=p[h]:"forwardedAs"===h?d.as=p[h]:u&&!f(h)||(d[h]=p[h]));return this.props.style&&this.attrs.style&&(d.style=k({},this.attrs.style,this.props.style)),d.className=Array.prototype.concat(a,i,c!==i?c:null,this.props.className,this.attrs.className).filter(Boolean).join(" "),Object(s.createElement)(l,d)},t.prototype.buildExecutionContext=function(e,t,r){var n=this,a=k({},t,{theme:e});return r.length?(this.attrs={},r.forEach((function(e){var t,r=e,i=!1,o=void 0,s=void 0;for(s in N(r)&&(r=r(a),i=!0),r)o=r[s],i||!N(o)||(t=o)&&t.prototype&&t.prototype.isReactComponent||P(o)||(o=o(a)),n.attrs[s]=o,a[s]=o})),a):a},t.prototype.generateAndInjectStyles=function(e,t){var r=t.forwardedComponent,n=r.attrs,a=r.componentStyle;r.warnTooManyClasses;return a.isStatic&&!n.length?a.generateAndInjectStyles(A,this.styleSheet):a.generateAndInjectStyles(this.buildExecutionContext(e,t,n),this.styleSheet)},t}(s.Component);function ot(e,t,r){var n=P(e),a=!Le(e),i=t.displayName,o=void 0===i?function(e){return Le(e)?"styled."+e:"Styled("+D(e)+")"}(e):i,s=t.componentId,l=void 0===s?function(e,t,r){var n="string"!=typeof t?"sc":Fe(t),a=(at[n]||0)+1;at[n]=a;var i=n+"-"+e.generateName(n+a);return r?r+"-"+i:i}(De,t.displayName,t.parentComponentId):s,u=t.ParentComponent,d=void 0===u?it:u,p=t.attrs,f=void 0===p?T:p,h=t.displayName&&t.componentId?Fe(t.displayName)+"-"+t.componentId:t.componentId||l,m=n&&e.attrs?Array.prototype.concat(e.attrs,f).filter(Boolean):f,g=new De(n?e.componentStyle.rules.concat(r):r,m,h),b=void 0,v=function(e,t){return c.a.createElement(d,k({},e,{forwardedComponent:b,forwardedRef:t}))};return v.displayName=o,(b=c.a.forwardRef(v)).displayName=o,b.attrs=m,b.componentStyle=g,b.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):T,b.styledComponentId=h,b.target=n?e.target:e,b.withComponent=function(e){var n=t.componentId,a=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["componentId"]),i=n&&n+"-"+(Le(e)?e:Fe(D(e)));return ot(e,k({},a,{attrs:m,componentId:i,ParentComponent:d}),r)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=n?E(e.defaultProps,t):t}}),b.toString=function(){return"."+b.styledComponentId},a&&Je(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}var st=function(e){return function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;if(!Object(u.isValidElementType)(r))throw new B(1,String(r));var a=function(){return t(r,n,ke.apply(void 0,arguments))};return a.withConfig=function(a){return e(t,r,k({},n,a))},a.attrs=function(a){return e(t,r,k({},n,{attrs:Array.prototype.concat(n.attrs,a).filter(Boolean)}))},a}(ot,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){st[e]=st(e)}));var ct=function(){function e(t,r){x(this,e),this.rules=t,this.componentId=r,this.isStatic=Te(t,T),ve.master.hasId(r)||ve.master.deferredInject(r,[])}return e.prototype.createStyles=function(e,t){var r=Z(Ce(this.rules,e,t),"");t.inject(this.componentId,r)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)},e}();function lt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=ke.apply(void 0,[e].concat(r)),i="sc-global-"+Ie(JSON.stringify(a)),o=new ct(a,i),s=function(e){function t(r){x(this,t);var n=j(this,e.call(this,r)),a=n.constructor,i=a.globalStyle,o=a.styledComponentId;return M&&(window.scCGSHMRCache[o]=(window.scCGSHMRCache[o]||0)+1),n.state={globalStyle:i,styledComponentId:o},n}return I(t,e),t.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},t.prototype.render=function(){var e=this;return c.a.createElement(rt,null,(function(t){e.styleSheet=t||ve.master;var r=e.state.globalStyle;return r.isStatic?(r.renderStyles(L,e.styleSheet),null):c.a.createElement(Ze,null,(function(t){var n=e.constructor.defaultProps,a=k({},e.props);return void 0!==t&&(a.theme=Pe(e.props,t,n)),r.renderStyles(a,e.styleSheet),null}))}))},t}(c.a.Component);return s.globalStyle=o,s.styledComponentId=i,s}M&&(window.scCGSHMRCache={});var ut=function(e){return e.replace(/\s|\\n/g,"")};function dt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=ke.apply(void 0,[e].concat(r)),i=Se(Ie(ut(JSON.stringify(a))));return new ye(i,Z(a,i,"@keyframes"))}var pt=function(e){var t=c.a.forwardRef((function(t,r){return c.a.createElement(Ze,null,(function(n){var a=e.defaultProps,i=Pe(t,n,a);return c.a.createElement(e,k({},t,{theme:i,ref:r}))}))}));return Je(t,e),t.displayName="WithTheme("+D(e)+")",t},ft={StyleSheet:ve};t.default=st},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectType=function(e){return Object.prototype.toString.call(e).slice(8,-1)};var n=function(e){return function(r){return t.getObjectType(r)===e}},a=function(e){return function(t){return typeof t===e}},i=function(e){switch(e){case null:return"null";case!0:case!1:return"boolean"}switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"bigint":return"bigint";case"symbol":return"symbol"}if(i.array(e))return"Array";if(i.function(e))return"Function";var r=t.getObjectType(e);return r||"Object"};i.array=Array.isArray,i.arrayOf=function(e,t){return!(!i.array(e)&&!i.function(t))&&e.every((function(e){return t(e)}))},i.asyncFunction=n("AsyncFunction"),i.boolean=function(e){return!0===e||!1===e},i.date=n("Date"),i.defined=function(e){return!i.undefined(e)},i.domElement=function(e){return i.object(e)&&!i.plainObject(e)&&1===e.nodeType&&i.string(e.nodeName)&&["innerHTML","ownerDocument","style","attributes","nodeValue"].every((function(t){return t in e}))},i.empty=function(e){return i.string(e)&&0===e.length||i.array(e)&&0===e.length||i.object(e)&&!i.map(e)&&!i.set(e)&&0===Object.keys(e).length||i.set(e)&&0===e.size||i.map(e)&&0===e.size},i.error=n("Error"),i.function=n("Function"),i.generator=function(e){return i.iterable(e)&&i.function(e.next)&&i.function(e.throw)},i.generatorFunction=n("GeneratorFunction"),i.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},i.iterable=function(e){return!i.nullOrUndefined(e)&&i.function(e[Symbol.iterator])},i.map=n("Map"),i.nan=function(e){return Number.isNaN(e)},i.null=function(e){return null===e},i.nullOrUndefined=function(e){return i.null(e)||i.undefined(e)},i.number=function(e){return a("number")(e)&&!i.nan(e)},i.numericString=function(e){return i.string(e)&&e.length>0&&!Number.isNaN(Number(e))},i.object=function(e){return!i.nullOrUndefined(e)&&(i.function(e)||"object"==typeof e)},i.oneOf=function(e,t){return!!i.array(e)&&e.indexOf(t)>-1},i.plainObject=function(e){if("Object"!==t.getObjectType(e))return!1;var r=Object.getPrototypeOf(e);return null===r||r===Object.getPrototypeOf({})},i.promise=n("Promise"),i.propertyOf=function(e,t,r){if(!i.object(e)||!t)return!1;var n=e[t];return i.function(r)?r(n):i.defined(n)},i.regexp=n("RegExp"),i.set=n("Set"),i.string=a("string"),i.symbol=a("symbol"),i.undefined=a("undefined"),i.weakMap=n("WeakMap"),i.weakSet=n("WeakSet"),t.default=i},,,function(e,t){e.exports=require("url")},function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return d}));var n=r(24),a=r.n(n),i=r(21),o=r(20),s=r(17);const c=e=>e.cards,l=Object(i.a)(c,e=>Object(s.b)(e)),u=Object(i.a)(c,o.d,(e,t)=>t?e.reduce(p("seriesLineId","beatId"),{}):e.reduce(p("lineId","chapterId"),{})),d=Object(i.a)(c,o.h,o.g,(e,t,r)=>e.reduce((e,n)=>(e[n.id]=function(e,t,r){return!!r||Object.keys(t).some(r=>t[r].some(t=>"tag"==r?e.tags.includes(t):"character"==r?e.characters.includes(t):"place"==r&&e.places.includes(t)))}(n,t,r),e),{}));function p(e,t){return(r,n)=>{const i=r[`${n[e]}-${n[t]}`];if(i&&i.length){const o=[...i,n],s=a()(o,"positionWithinLine");r[`${n[e]}-${n[t]}`]=s}else r[`${n[e]}-${n[t]}`]=[n];return r}}},function(e,t,r){"use strict";function n(e){switch(e){case 0:return"#6cace4";case 1:return"#78be20";case 2:return"#e5554f";case 3:return"#ff7f32";case 4:return"#ffc72c";default:return"#0b1117"}}r.d(t,"a",(function(){return n}))},,,,,,,,function(e,t,r){
/*!
 * node-inherit
 * Copyright(c) 2011 Dmitry Filatov <dfilatov@yandex-team.ru>
 * MIT Licensed
 */
e.exports=r(810)},,,,function(e,t){e.exports=require("os")},function(e,t){e.exports=require("http")},,function(e,t){e.exports=require("stream")},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=null;return t.forEach((function(e){if(null==a){var t=e.apply(void 0,r);null!=t&&(a=t)}})),a}return(0,i.default)(n)};var n,a=r(105),i=(n=a)&&n.__esModule?n:{default:n};e.exports=t.default},,,function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u}));var n=r(137),a=r.n(n),i=r(53),o=r(12);o.remote.screen;let s,c;function l(e,t){c=e,s=t}const u=new class{constructor(){this.queue=[],this.superProps={platform:process.platform}}defaultEventStats(e,t={},r){if(!i.a.get("payment_id"))return;let n=0,a=0,o=0;r.cards.forEach(e=>{n+=e.tags.length,a+=e.characters.length,o+=e.places.length});let s=r.cards.length,c={...t,numOfCards:s,numOfCharacters:r.characters.length,numOfChapters:r.chapters.length,numOfLines:r.lines.length,numOfBooks:r.books.allIds.length,zoomLevel:r.ui.zoomIndex,numOfCharCategories:r.categories.characters.length,avgTagsOnCards:n/s,avgCharsOnCards:a/s,avgPlsOnCards:o/s};this.push(e,c)}push(e,t={}){if(!i.a.get("payment_id"))return;let r={...t,online:navigator.onLine,days_left_of_trial:s,trial_mode:c};this.queue.push({title:e,attributes:r}),navigator.onLine&&this.flush()}flush(){event;do{let t=this.queue.shift();if(t){var e=Object.assign({},t.attributes,this.superProps);a.a.track(t.title,e)}}while(this.queue.length>0)}};window.addEventListener("online",u.flush.bind(u))},,function(e,t,r){var n=r(264)("wks"),a=r(266),i=r(98).Symbol,o="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("https")},,,function(e,t,r){var n=r(170),a=r(239);r(73);String.prototype.replaceAll=function(e,t,r){var n=this.toString(),a=-1;if("string"==typeof e){if(!0!==r)return this.split(e).join(t);for(e.toLowerCase();-1!==(a=n.toLowerCase().indexOf(e,a>=0?a+t.length:0));)n=n.substring(0,a).concat(t).concat(n.substring(a+e.length))}return n},e.exports={dpi:300,twipsPerMM:56.6925562674,mm2twips:function(e){return Math.round(this.twipsPerMM*e)},isIndex:function(e){return!isNaN(e)&&e>=0},makeRtfCmd:function(e,t,r,n){e&&String(e).match(/\\\w+$/)&&t&&!String(t).match(/^\\/)&&(e+=" ");var a=[e,t,r].join("");return n&&!a.match(/^\{.*\}$/)&&(a="{"+a+"}"),a},getRTFSafeText:function(e){if("object"==typeof e&&e.hasOwnProperty("text")&&e.noEscape)return e.text;if("object"==typeof e)throw new Error("Expecting text, not object");return String(e).replaceAll("\\","\\\\").replaceAll("{","\\{").replaceAll("}","\\}").replaceAll("\n\r"," \\line ").replaceAll("\n"," \\line ").replaceAll("\r"," \\line ")},createColorTable:function(e){var t,r="";for(r+="{\\colortbl;\n",t=0;t<e.length;t++){var n=e[t];r+="\\red"+n.red+"\\green"+n.green+"\\blue"+n.blue+";\n"}return r+="}"},createFontTable:function(e){var t,r="";if(r+="{\\fonttbl;\n",0===e.length)r+="{\\f0 "+a.ARIAL+"}\n";else for(t=0;t<e.length;t++)r+="{\\f"+t+" "+e[t]+"}\n";return r+="}"},getColorPosition:function(e,t){var r=-1;return Array.isArray(e)&&t&&t instanceof n&&e.map((function(e,n){e.red===t.red&&e.green===t.green&&e.blue===t.blue&&(r=n)})),r}}},,,,,,,,,,,,,,,,function(e,t,r){var n=r(155),a=r(229)((function(e,t,r){n(e,r,t)}));e.exports=a},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),a={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)o["f"+s]=111+s;function c(e,t,r){!t||"byKey"in t||(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return l(e,t)})),a=function(e){return n.some((function(t){return u(t,e)}))};return null==r?a:a(r)}function l(e,t){var r=t&&t.byKey,n={},i=(e=e.replace("++","+add")).split("+"),o=i.length;for(var s in a)n[a[s]]=!1;var c=!0,l=!1,u=void 0;try{for(var f,h=i[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var m=f.value,g=m.endsWith("?")&&m.length>1;g&&(m=m.slice(0,-1));var b=p(m),v=a[b];1!==o&&v||(r?n.key=b:n.which=d(m)),v&&(n[v]=!g||null)}}catch(e){l=!0,u=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw u}}return n}function u(e,t){for(var r in e){var n=e[r],a=void 0;if(null!=n&&((null!=(a="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&a!==n))return!1}return!0}function d(e){return e=p(e),o[e]||e.toUpperCase().charCodeAt(0)}function p(e){return e=e.toLowerCase(),e=i[e]||e}t.default=c,t.isHotkey=c,t.isCodeHotkey=function(e,t){return c(e,t)},t.isKeyHotkey=function(e,t){return c(e,{byKey:!0},t)},t.parseHotkey=l,t.compareHotkey=u,t.toKeyCode=d,t.toKeyName=p},,,,,function(e,t){e.exports=require("net")},function(e,t){e.exports=require("punycode")},,,,,,,,,,function(e,t,r){r(170),r(239),r(352);var n=r(94),a=r(353);var i=r(73)({__constructor:function(e){Object.assign(this,i.defaultOptions,e)},updateTables:function(e){var t=e.colorTable,r=e.fontTable;this.fontPos=r.indexOf(this.font),this.fontPos<0&&void 0!==this.font&&this.font&&(this.fontPos=r.length,r.push(this.font)),[{obj:this,key:"color"},{obj:this,key:"bgColor"},{obj:this,key:"borderColor"},{obj:this,key:"cellBgColor"},{obj:this.border,key:"color"},{obj:this.borderLeft,key:"color"},{obj:this.borderRight,key:"color"},{obj:this.borderTop,key:"color"},{obj:this.borderBottom,key:"color"},{obj:this.cellBorder,key:"color"},{obj:this.cellBorderLeft,key:"color"},{obj:this.cellBorderRight,key:"color"},{obj:this.cellBorderTop,key:"color"},{obj:this.cellBorderBottom,key:"color"},{obj:this.rowBorderLeft,key:"color"},{obj:this.rowBorderRight,key:"color"},{obj:this.rowBorderTop,key:"color"},{obj:this.rowBorderBottom,key:"color"},{obj:this.rowBorderHorizontal,key:"color"},{obj:this.rowBorderVertical,key:"color"}].map(e=>{var r=e.obj,a=e.key;if(r&&"object"==typeof r&&r[a]){var i=a+"Pos";r[i]=n.getColorPosition(t,r[a]),r[i]<0&&r[a]&&(r[i]=t.length,t.push(r[a]))}})},formatText:function(e,t,r){r=r||{},this.updateTables(t);var i=this instanceof a?this:new a(this),o=i.compile(r);r.noEscape||"string"!=typeof e||(e=n.getRTFSafeText(e)),e=n.makeRtfCmd(o,e);var s=i.applyWrappers(e,r);return r.wrapInCurles&&!s.match(/^\{.*\}$/)&&(s="{"+s+"}"),s}},{defaultOptions:{}});e.exports=i},function(e,t,r){var n=r(131),a=r(73)({__constructor:function(e){!e||"object"!=typeof e||e instanceof n||(e=new n(e)),e&&void 0!==e||(e=new n),this.format=e},getRTFCode:function(e){return""}});e.exports=a},,,function(e,t){e.exports=function(e){if("string"!=typeof e)return!1;var t=e.match(r);if(!t)return!1;var i=t[1];if(!i)return!1;if(n.test(i)||a.test(i))return!0;return!1};var r=/^(?:\w+:)?\/\/(\S+)$/,n=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,a=/^[^\s\.]+\.\S{2,}$/},function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return u}));var n=r(178);let a=["Andale Mono","Arial","Arial Black","Brush Script MT","Comic Sans MS","Courier New","Forum","Georgia","Impact","Times New Roman","Trebuchet MS","Verdana"],i=["Arial","Arial Black","Calibri","Cambria","Comic Sans MS","Courier New","Forum","Impact","Segoe Script","Tahoma","Times New Roman","Trebuchet MS","Verdana"],o=["Forum","IBM Plex Serif","Lato","Yellowtail"],s=["Forum"];function c(){return n.is.macos?a:n.is.windows?i:o}function l(){return s}function u(e){s.includes(e)||(s.unshift(e),s.length>3&&s.pop())}},function(e,t,r){"use strict";var n,a={DEBUG:!1,LIB_VERSION:"2.38.0"};if("undefined"==typeof window){var i={hostname:""};n={navigator:{userAgent:""},document:{location:i,referrer:""},screen:{width:0,height:0},location:i}}else n=window;var o,s,c,l,u,d,p,f,h,m,g,b=Array.prototype,v=Function.prototype,y=Object.prototype,_=b.slice,E=y.toString,w=y.hasOwnProperty,O=n.console,x=n.navigator,C=n.document,k=n.opera,I=n.screen,j=x.userAgent,S=v.bind,T=b.forEach,A=b.indexOf,N=b.map,D=Array.isArray,P={},R={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},M={log:function(){if(a.DEBUG&&!R.isUndefined(O)&&O)try{O.log.apply(O,arguments)}catch(e){R.each(arguments,(function(e){O.log(e)}))}},error:function(){if(a.DEBUG&&!R.isUndefined(O)&&O){var e=["Mixpanel error:"].concat(R.toArray(arguments));try{O.error.apply(O,e)}catch(t){R.each(e,(function(e){O.error(e)}))}}},critical:function(){if(!R.isUndefined(O)&&O){var e=["Mixpanel error:"].concat(R.toArray(arguments));try{O.error.apply(O,e)}catch(t){R.each(e,(function(e){O.error(e)}))}}}},F=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(M,arguments)}},L=function(e){return{log:F(M.log,e),error:F(M.error,e),critical:F(M.critical,e)}};R.bind=function(e,t){var r,n;if(S&&e.bind===S)return S.apply(e,_.call(arguments,1));if(!R.isFunction(e))throw new TypeError;return r=_.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(_.call(arguments)));var a={};a.prototype=e.prototype;var i=new a;a.prototype=null;var o=e.apply(i,r.concat(_.call(arguments)));return Object(o)===o?o:i}},R.bind_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=R.bind(e[t],e))},R.each=function(e,t,r){if(null!=e)if(T&&e.forEach===T)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,a=e.length;n<a;n++)if(n in e&&t.call(r,e[n],n,e)===P)return}else for(var i in e)if(w.call(e,i)&&t.call(r,e[i],i,e)===P)return},R.escapeHTML=function(e){var t=e;return t&&R.isString(t)&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),t},R.extend=function(e){return R.each(_.call(arguments,1),(function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])})),e},R.isArray=D||function(e){return"[object Array]"===E.call(e)},R.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},R.isArguments=function(e){return!(!e||!w.call(e,"callee"))},R.toArray=function(e){return e?e.toArray?e.toArray():R.isArray(e)||R.isArguments(e)?_.call(e):R.values(e):[]},R.map=function(e,t){if(N&&e.map===N)return e.map(t);var r=[];return R.each(e,(function(e){r.push(t(e))})),r},R.keys=function(e){var t=[];return null===e||R.each(e,(function(e,r){t[t.length]=r})),t},R.values=function(e){var t=[];return null===e||R.each(e,(function(e){t[t.length]=e})),t},R.identity=function(e){return e},R.include=function(e,t){var r=!1;return null===e?r:A&&e.indexOf===A?-1!=e.indexOf(t):(R.each(e,(function(e){if(r||(r=e===t))return P})),r)},R.includes=function(e,t){return-1!==e.indexOf(t)},R.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},R.isObject=function(e){return e===Object(e)&&!R.isArray(e)},R.isEmptyObject=function(e){if(R.isObject(e)){for(var t in e)if(w.call(e,t))return!1;return!0}return!1},R.isUndefined=function(e){return void 0===e},R.isString=function(e){return"[object String]"==E.call(e)},R.isDate=function(e){return"[object Date]"==E.call(e)},R.isNumber=function(e){return"[object Number]"==E.call(e)},R.isElement=function(e){return!(!e||1!==e.nodeType)},R.encodeDates=function(e){return R.each(e,(function(t,r){R.isDate(t)?e[r]=R.formatDate(t):R.isObject(t)&&(e[r]=R.encodeDates(t))})),e},R.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},R.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},R.safewrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){M.critical("Implementation error. Please turn on debug and contact support@mixpanel.com."),a.DEBUG&&M.critical(e)}}},R.safewrap_class=function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=R.safewrap(e.prototype[t[r]])},R.safewrap_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=R.safewrap(e[t]))},R.strip_empty_properties=function(e){var t={};return R.each(e,(function(e,r){R.isString(e)&&e.length>0&&(t[r]=e)})),t},R.truncate=function(e,t){var r;return"string"==typeof e?r=e.slice(0,t):R.isArray(e)?(r=[],R.each(e,(function(e){r.push(R.truncate(e,t))}))):R.isObject(e)?(r={},R.each(e,(function(e,n){r[n]=R.truncate(e,t)}))):r=e,r},R.JSONEncode=function(e){var t=function(e){var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,(function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'},r=function(e,n){var a="",i=0,o="",s="",c=0,l=a,u=[],d=n[e];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(e)),typeof d){case"string":return t(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(a+="    ",u=[],"[object Array]"===E.apply(d)){for(c=d.length,i=0;i<c;i+=1)u[i]=r(i,d)||"null";return s=0===u.length?"[]":a?"[\n"+a+u.join(",\n"+a)+"\n"+l+"]":"["+u.join(",")+"]",a=l,s}for(o in d)w.call(d,o)&&(s=r(o,d))&&u.push(t(o)+(a?": ":":")+s);return s=0===u.length?"{}":a?"{"+u.join(",")+l+"}":"{"+u.join(",")+"}",a=l,s}};return r("",{"":e})},R.JSONDecode=(u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},d=function(e){var t=new SyntaxError(e);throw t.at=o,t.text=c,t},p=function(e){return e&&e!==s&&d("Expected '"+e+"' instead of '"+s+"'"),s=c.charAt(o),o+=1,s},f=function(){var e,t="";for("-"===s&&(t="-",p("-"));s>="0"&&s<="9";)t+=s,p();if("."===s)for(t+=".";p()&&s>="0"&&s<="9";)t+=s;if("e"===s||"E"===s)for(t+=s,p(),"-"!==s&&"+"!==s||(t+=s,p());s>="0"&&s<="9";)t+=s,p();if(e=+t,isFinite(e))return e;d("Bad number")},h=function(){var e,t,r,n="";if('"'===s)for(;p();){if('"'===s)return p(),n;if("\\"===s)if(p(),"u"===s){for(r=0,t=0;t<4&&(e=parseInt(p(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof u[s])break;n+=u[s]}else n+=s}d("Bad string")},m=function(){for(;s&&s<=" ";)p()},l=function(){switch(m(),s){case"{":return function(){var e,t={};if("{"===s){if(p("{"),m(),"}"===s)return p("}"),t;for(;s;){if(e=h(),m(),p(":"),Object.hasOwnProperty.call(t,e)&&d('Duplicate key "'+e+'"'),t[e]=l(),m(),"}"===s)return p("}"),t;p(","),m()}}d("Bad object")}();case"[":return function(){var e=[];if("["===s){if(p("["),m(),"]"===s)return p("]"),e;for(;s;){if(e.push(l()),m(),"]"===s)return p("]"),e;p(","),m()}}d("Bad array")}();case'"':return h();case"-":return f();default:return s>="0"&&s<="9"?f():function(){switch(s){case"t":return p("t"),p("r"),p("u"),p("e"),!0;case"f":return p("f"),p("a"),p("l"),p("s"),p("e"),!1;case"n":return p("n"),p("u"),p("l"),p("l"),null}d('Unexpected "'+s+'"')}()}},function(e){var t;return c=e,o=0,s=" ",t=l(),m(),s&&d("Syntax error"),t}),R.base64Encode=function(e){var t,r,n,a,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,c=0,l="",u=[];if(!e)return e;e=R.utf8Encode(e);do{t=(i=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,r=i>>12&63,n=i>>6&63,a=63&i,u[c++]=o.charAt(t)+o.charAt(r)+o.charAt(n)+o.charAt(a)}while(s<e.length);switch(l=u.join(""),e.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l},R.utf8Encode=function(e){var t,r,n,a,i="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,a=0;a<n;a++){var o=e.charCodeAt(a),s=null;o<128?r++:s=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),null!==s&&(r>t&&(i+=e.substring(t,r)),i+=s,t=r=a+1)}return r>t&&(i+=e.substring(t,e.length)),i},R.UUID=(g=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)},function(){var e=(I.height*I.width).toString(16);return g()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var e,t,r=j,n=[],a=0;function i(e,t){var r,a=0;for(r=0;r<t.length;r++)a|=n[r]<<8*r;return e^a}for(e=0;e<r.length;e++)t=r.charCodeAt(e),n.unshift(255&t),n.length>=4&&(a=i(a,n),n=[]);return n.length>0&&(a=i(a,n)),a.toString(16)}()+"-"+e+"-"+g()}),R.isBlockedUA=function(e){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(e)},R.HTTPBuildQuery=function(e,t){var r,n,a=[];return R.isUndefined(t)&&(t="&"),R.each(e,(function(e,t){r=encodeURIComponent(e.toString()),n=encodeURIComponent(t),a[a.length]=n+"="+r})),a.join(t)},R.getQueryParam=function(e,t){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);if(null===r||r&&"string"!=typeof r[1]&&r[1].length)return"";var n=r[1];try{n=decodeURIComponent(n)}catch(e){M.error("Skipping decoding for malformed query param: "+n)}return n.replace(/\+/g," ")},R.getHashParam=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},R.cookie={get:function(e){for(var t=e+"=",r=C.cookie.split(";"),n=0;n<r.length;n++){for(var a=r[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return decodeURIComponent(a.substring(t.length,a.length))}return null},parse:function(e){var t;try{t=R.JSONDecode(R.cookie.get(e))||{}}catch(e){}return t},set_seconds:function(e,t,r,n,a,i,o){var s="",c="",l="";if(o)s="; domain="+o;else if(n){var u=V(C.location.hostname);s=u?"; domain=."+u:""}if(r){var d=new Date;d.setTime(d.getTime()+1e3*r),c="; expires="+d.toGMTString()}i&&(a=!0,l="; SameSite=None"),a&&(l+="; secure"),C.cookie=e+"="+encodeURIComponent(t)+c+"; path=/"+s+l},set:function(e,t,r,n,a,i,o){var s="",c="",l="";if(o)s="; domain="+o;else if(n){var u=V(C.location.hostname);s=u?"; domain=."+u:""}if(r){var d=new Date;d.setTime(d.getTime()+24*r*60*60*1e3),c="; expires="+d.toGMTString()}i&&(a=!0,l="; SameSite=None"),a&&(l+="; secure");var p=e+"="+encodeURIComponent(t)+c+"; path=/"+s+l;return C.cookie=p,p},remove:function(e,t,r){R.cookie.set(e,"",-1,t,!1,!1,r)}};var B=null,q=function(e,t){if(null!==B&&!t)return B;var r=!0;try{e=e||window.localStorage;var n="__mplss_"+z(8);e.setItem(n,"xyz"),"xyz"!==e.getItem(n)&&(r=!1),e.removeItem(n)}catch(e){r=!1}return B=r,r};R.localStorage={is_supported:function(e){var t=q(null,e);return t||M.error("localStorage unsupported; falling back to cookie store"),t},error:function(e){M.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(e){R.localStorage.error(e)}return null},parse:function(e){try{return R.JSONDecode(R.localStorage.get(e))||{}}catch(e){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(e){R.localStorage.error(e)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(e){R.localStorage.error(e)}}},R.register_event=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,r,n,a,i){if(t)if(t.addEventListener&&!a)t.addEventListener(r,n,!!i);else{var o="on"+r,s=t[o];t[o]=function(t,r,n){return function(a){if(a=a||e(window.event)){var i,o,s=!0;return R.isFunction(n)&&(i=n(a)),o=r.call(t,a),!1!==i&&!1!==o||(s=!1),s}}}(t,n,s)}else M.error("No valid element provided to register_event")}}();var H=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');R.dom_query=function(){function e(e){return e.all?e.all:e.getElementsByTagName("*")}var t=/[\t\r\n]/g;function r(e,r){var n=" "+r+" ";return(" "+e.className+" ").replace(t," ").indexOf(n)>=0}function n(t){if(!C.getElementsByTagName)return[];var n,a,i,o,s,c,l,u,d,p,f=t.split(" "),h=[C];for(c=0;c<f.length;c++)if((n=f[c].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")>-1){i=(a=n.split("#"))[0];var m=a[1],g=C.getElementById(m);if(!g||i&&g.nodeName.toLowerCase()!=i)return[];h=[g]}else if(n.indexOf(".")>-1){i=(a=n.split("."))[0];var b=a[1];for(i||(i="*"),o=[],s=0,l=0;l<h.length;l++)for(d="*"==i?e(h[l]):h[l].getElementsByTagName(i),u=0;u<d.length;u++)o[s++]=d[u];for(h=[],p=0,l=0;l<o.length;l++)o[l].className&&R.isString(o[l].className)&&r(o[l],b)&&(h[p++]=o[l])}else{var v=n.match(H);if(v){i=v[1];var y,_=v[2],E=v[3],w=v[4];for(i||(i="*"),o=[],s=0,l=0;l<h.length;l++)for(d="*"==i?e(h[l]):h[l].getElementsByTagName(i),u=0;u<d.length;u++)o[s++]=d[u];switch(h=[],p=0,E){case"=":y=function(e){return e.getAttribute(_)==w};break;case"~":y=function(e){return e.getAttribute(_).match(new RegExp("\\b"+w+"\\b"))};break;case"|":y=function(e){return e.getAttribute(_).match(new RegExp("^"+w+"-?"))};break;case"^":y=function(e){return 0===e.getAttribute(_).indexOf(w)};break;case"$":y=function(e){return e.getAttribute(_).lastIndexOf(w)==e.getAttribute(_).length-w.length};break;case"*":y=function(e){return e.getAttribute(_).indexOf(w)>-1};break;default:y=function(e){return e.getAttribute(_)}}for(h=[],p=0,l=0;l<o.length;l++)y(o[l])&&(h[p++]=o[l])}else{for(i=n,o=[],s=0,l=0;l<h.length;l++)for(d=h[l].getElementsByTagName(i),u=0;u<d.length;u++)o[s++]=d[u];h=o}}return h}return function(e){return R.isElement(e)?[e]:R.isObject(e)&&!R.isUndefined(e.length)?e:n.call(this,e)}}(),R.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),t="",r={};return R.each(e,(function(e){(t=R.getQueryParam(C.URL,e)).length&&(r[e]=t)})),r},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var t=R.info.searchEngine(e),r="yahoo"!=t?"q":"p",n={};if(null!==t){n.$search_engine=t;var a=R.getQueryParam(e,r);a.length&&(n.mp_keyword=a)}return n},browser:function(e,t,r){return t=t||"",r||R.includes(e," OPR/")?R.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":R.includes(e,"IEMobile")||R.includes(e,"WPDesktop")?"Internet Explorer Mobile":R.includes(e,"SamsungBrowser/")?"Samsung Internet":R.includes(e,"Edge")||R.includes(e,"Edg/")?"Microsoft Edge":R.includes(e,"FBIOS")?"Facebook Mobile":R.includes(e,"Chrome")?"Chrome":R.includes(e,"CriOS")?"Chrome iOS":R.includes(e,"UCWEB")||R.includes(e,"UCBrowser")?"UC Browser":R.includes(e,"FxiOS")?"Firefox iOS":R.includes(t,"Apple")?R.includes(e,"Mobile")?"Mobile Safari":"Safari":R.includes(e,"Android")?"Android Mobile":R.includes(e,"Konqueror")?"Konqueror":R.includes(e,"Firefox")?"Firefox":R.includes(e,"MSIE")||R.includes(e,"Trident/")?"Internet Explorer":R.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,r){var n={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[R.info.browser(e,t,r)];if(void 0===n)return null;var a=e.match(n);return a?parseFloat(a[a.length-2]):null},os:function(){var e=j;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return R.extend(R.strip_empty_properties({$os:R.info.os(),$browser:R.info.browser(j,x.vendor,k),$referrer:C.referrer,$referring_domain:R.info.referringDomain(C.referrer),$device:R.info.device(j)}),{$current_url:n.location.href,$browser_version:R.info.browserVersion(j,x.vendor,k),$screen_height:I.height,$screen_width:I.width,mp_lib:"web",$lib_version:a.LIB_VERSION,$insert_id:z(),time:R.timestamp()/1e3})},people_properties:function(){return R.extend(R.strip_empty_properties({$os:R.info.os(),$browser:R.info.browser(j,x.vendor,k)}),{$browser_version:R.info.browserVersion(j,x.vendor,k)})},pageviewInfo:function(e){return R.strip_empty_properties({mp_page:e,mp_referrer:C.referrer,mp_browser:R.info.browser(j,x.vendor,k),mp_platform:R.info.os()})}};var z=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},U=R.safewrap((function(e,t,r){e+=t;for(var n=5381,a=0;a<e.length;a++)n=(n<<5)+n+e.charCodeAt(a),n&=n;return(n>>>0)%100<r})),W=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,G=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,V=function(e){var t=G,r=e.split("."),n=r[r.length-1];(n.length>4||"com"===n||"org"===n)&&(t=W);var a=e.match(t);return a?a[0]:""},K=null,$=null;function Y(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}}function J(e){return e&&1===e.nodeType}function X(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Z(e){return e&&3===e.nodeType}function Q(e){for(var t=e;t.parentNode&&!X(t,"body");t=t.parentNode){var r=Y(t).split(" ");if(R.includes(r,"mp-sensitive")||R.includes(r,"mp-no-track"))return!1}if(R.includes(Y(e).split(" "),"mp-include"))return!0;if(X(e,"input")||X(e,"select")||X(e,"textarea")||"true"===e.getAttribute("contenteditable"))return!1;var n=e.type||"";if("string"==typeof n)switch(n.toLowerCase()){case"hidden":case"password":return!1}var a=e.name||e.id||"";if("string"==typeof a){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(a.replace(/[^a-zA-Z0-9]/g,"")))return!1}return!0}function ee(e){if(null===e||R.isUndefined(e))return!1;if("string"==typeof e){e=R.trim(e);if(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e||"").replace(/[- ]/g,"")))return!1;if(/(^\d{3}-?\d{2}-?\d{4}$)/.test(e))return!1}return!0}"undefined"!=typeof JSON&&(K=JSON.stringify,$=JSON.parse),K=K||R.JSONEncode,$=$||R.JSONDecode,R.toArray=R.toArray,R.isObject=R.isObject,R.JSONEncode=R.JSONEncode,R.JSONDecode=R.JSONDecode,R.isBlockedUA=R.isBlockedUA,R.isEmptyObject=R.isEmptyObject,R.info=R.info,R.info.device=R.info.device,R.info.browser=R.info.browser,R.info.browserVersion=R.info.browserVersion,R.info.properties=R.info.properties;var te={_initializedTokens:[],_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;do{e=e.previousSibling}while(e&&!J(e));return e},_loadScript:function(e,t){var r=document.createElement("script");r.type="text/javascript",r.src=e,r.onload=t;var n=document.getElementsByTagName("script");n.length>0?n[0].parentNode.insertBefore(r,n[0]):document.body.appendChild(r)},_getPropertiesFromElement:function(e){var t={classes:Y(e).split(" "),tag_name:e.tagName.toLowerCase()};Q(e)&&R.each(e.attributes,(function(e){ee(e.value)&&(t["attr__"+e.name]=e.value)}));for(var r=1,n=1,a=e;a=this._previousElementSibling(a);)r++,a.tagName===e.tagName&&n++;return t.nth_child=r,t.nth_of_type=n,t},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1,$host:window.location.host,$pathname:window.location.pathname}},_extractCustomPropertyValue:function(e){var t=[];return R.each(document.querySelectorAll(e.css_selector),(function(e){var r;["input","select"].indexOf(e.tagName.toLowerCase())>-1?r=e.value:e.textContent&&(r=e.textContent),ee(r)&&t.push(r)})),t.join(", ")},_getCustomProperties:function(e){var t={};return R.each(this._customProperties,(function(r){R.each(r.event_selectors,(function(n){var a=document.querySelectorAll(n);R.each(a,(function(n){R.includes(e,n)&&Q(n)&&(t[r.name]=this._extractCustomPropertyValue(r))}),this)}),this)}),this),t},_getEventTarget:function(e){return void 0===e.target?e.srcElement:e.target},_trackEvent:function(e,t){var r,n,a=this._getEventTarget(e);if(Z(a)&&(a=a.parentNode),function(e,t){if(!e||X(e,"html")||!J(e))return!1;switch(e.tagName.toLowerCase()){case"html":return!1;case"form":return"submit"===t.type;case"input":return-1===["button","submit"].indexOf(e.getAttribute("type"))?"change"===t.type:"click"===t.type;case"select":case"textarea":return"change"===t.type;default:return"click"===t.type}}(a,e)){for(var i=[a],o=a;o.parentNode&&!X(o,"body");)i.push(o.parentNode),o=o.parentNode;var s,c,l=[],u=!1;if(R.each(i,(function(e){var t=Q(e);"a"===e.tagName.toLowerCase()&&(s=e.getAttribute("href"),s=t&&ee(s)&&s);var r=Y(e).split(" ");R.includes(r,"mp-no-track")&&(u=!0),l.push(this._getPropertiesFromElement(e))}),this),u)return!1;var d=(n="",Q(r=a)&&r.childNodes&&r.childNodes.length&&R.each(r.childNodes,(function(e){Z(e)&&e.textContent&&(n+=R.trim(e.textContent).split(/(\s+)/).filter(ee).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))})),R.trim(n));d&&d.length&&(c=d);var p=R.extend(this._getDefaultProperties(e.type),{$elements:l,$el_attr__href:s,$el_text:c},this._getCustomProperties(i));return t.track("$web_event",p),!0}},_navigate:function(e){window.location.href=e},_addDomEventHandlers:function(e){var t=R.bind((function(t){t=t||window.event,this._trackEvent(t,e)}),this);R.register_event(document,"submit",t,!1,!0),R.register_event(document,"change",t,!1,!0),R.register_event(document,"click",t,!1,!0)},_customProperties:{},init:function(e){if(document&&document.body){var t=e.get_config("token");if(this._initializedTokens.indexOf(t)>-1)console.log('autotrack already initialized for token "'+t+'"');else if(this._initializedTokens.push(t),!this._maybeLoadEditor(e)){var r=R.bind((function(t){t&&t.config&&!0===t.config.enable_collect_everything?(t.custom_properties&&(this._customProperties=t.custom_properties),e.track("$web_event",R.extend({$title:document.title},this._getDefaultProperties("pageview"))),this._addDomEventHandlers(e)):e.__autotrack_enabled=!1}),this);e._send_request(e.get_config("api_host")+"/decide/",{verbose:!0,version:"1",lib:"web",token:t},{method:"GET",transport:"XHR"},e._prepare_callback(r))}}else{console.log("document not ready yet, trying again in 500 milliseconds...");var n=this;setTimeout((function(){n.init(e)}),500)}},_editorParamsFromHash:function(e,t){var r;try{var n=R.getHashParam(t,"state");n=JSON.parse(decodeURIComponent(n));var a=R.getHashParam(t,"expires_in");r={accessToken:R.getHashParam(t,"access_token"),accessTokenExpiresAt:(new Date).getTime()+1e3*Number(a),bookmarkletMode:!!n.bookmarkletMode,projectId:n.projectId,projectOwnerId:n.projectOwnerId,projectToken:n.token,readOnly:n.readOnly,userFlags:n.userFlags,userId:n.userId},window.sessionStorage.setItem("editorParams",JSON.stringify(r)),n.desiredHash?window.location.hash=n.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(e){console.error("Unable to parse data from hash",e)}return r},_maybeLoadEditor:function(e){try{var t=!1;if(R.getHashParam(window.location.hash,"state")){var r=R.getHashParam(window.location.hash,"state");t="mpeditor"===(r=JSON.parse(decodeURIComponent(r))).action}var n,a=!!window.sessionStorage.getItem("_mpcehash");return t?n=this._editorParamsFromHash(e,window.location.hash):a?(n=this._editorParamsFromHash(e,window.sessionStorage.getItem("_mpcehash")),window.sessionStorage.removeItem("_mpcehash")):n=JSON.parse(window.sessionStorage.getItem("editorParams")||"{}"),!(!n.projectToken||e.get_config("token")!==n.projectToken)&&(this._loadEditor(e,n),!0)}catch(e){return!1}},_loadEditor:function(e,t){if(!window._mpEditorLoaded){window._mpEditorLoaded=!0;var r=e.get_config("app_host")+"/js-bundle/reports/collect-everything/editor.js?_ts="+(new Date).getTime();return this._loadScript(r,(function(){window.mp_load_editor(t)})),!0}return!1},enabledForProject:function(e,t,r){t=R.isUndefined(t)?10:t,r=R.isUndefined(r)?10:r;for(var n=0,a=0;a<e.length;a++)n+=e.charCodeAt(a);return n%t<r},isBrowserSupported:function(){return R.isFunction(document.querySelectorAll)}};R.bind_instance_methods(te),R.safewrap_instance_methods(te);var re=function(){};re.prototype.create_properties=function(){},re.prototype.event_handler=function(){},re.prototype.after_track_handler=function(){},re.prototype.init=function(e){return this.mp=e,this},re.prototype.track=function(e,t,r,n){var a=this,i=R.dom_query(e);if(0!==i.length)return R.each(i,(function(e){R.register_event(e,this.override_event,(function(e){var i={},o=a.create_properties(r,this),s=a.mp.get_config("track_links_timeout");a.event_handler(e,this,i),window.setTimeout(a.track_callback(n,o,i,!0),s),a.mp.track(t,o,a.track_callback(n,o,i))}))}),this),!0;M.error("The DOM query ("+e+") returned 0 elements")},re.prototype.track_callback=function(e,t,r,n){n=n||!1;var a=this;return function(){r.callback_fired||(r.callback_fired=!0,e&&!1===e(n,t)||a.after_track_handler(t,r,n))}},re.prototype.create_properties=function(e,t){return"function"==typeof e?e(t):R.extend({},e)};var ne=function(){this.override_event="click"};R.inherit(ne,re),ne.prototype.create_properties=function(e,t){var r=ne.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r},ne.prototype.event_handler=function(e,t,r){r.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,r.href=t.href,r.new_tab||e.preventDefault()},ne.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout((function(){window.location=t.href}),0)};var ae=function(){this.override_event="submit"};R.inherit(ae,re),ae.prototype.event_handler=function(e,t,r){r.element=t,e.preventDefault()},ae.prototype.after_track_handler=function(e,t){setTimeout((function(){t.element.submit()}),0)};var ie=L("lock"),oe=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3};oe.prototype.withLock=function(e,t,r){r||"function"==typeof t||(r=t,t=null);var n=r||(new Date).getTime()+"|"+Math.random(),a=(new Date).getTime(),i=this.storageKey,o=this.pollIntervalMS,s=this.timeoutMS,c=this.storage,l=i+":X",u=i+":Y",d=i+":Z",p=function(e){t&&t(e)},f=function(e){if((new Date).getTime()-a>s)return ie.error("Timeout waiting for mutex on "+i+"; clearing lock. ["+n+"]"),c.removeItem(d),c.removeItem(u),void g();setTimeout((function(){try{e()}catch(e){p(e)}}),o*(Math.random()+.1))},h=function(e,t){e()?t():f((function(){h(e,t)}))},m=function(){var e=c.getItem(u);if(e&&e!==n)return!1;if(c.setItem(u,n),c.getItem(u)===n)return!0;if(!q(c,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},g=function(){c.setItem(l,n),h(m,(function(){c.getItem(l)!==n?f((function(){c.getItem(u)===n?h((function(){return!c.getItem(d)}),b):g()})):b()}))},b=function(){c.setItem(d,"1");try{e()}finally{c.removeItem(d),c.getItem(u)===n&&c.removeItem(u),c.getItem(l)===n&&c.removeItem(l)}};try{if(!q(c,!0))throw new Error("localStorage support check failed");g()}catch(e){p(e)}};var se=L("batch"),ce=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.lock=new oe(e,{storage:this.storage}),this.pid=t.pid||null,this.memQueue=[]};ce.prototype.enqueue=function(e,t,r){var n={id:z(),flushAfter:(new Date).getTime()+2*t,payload:e};this.lock.withLock(R.bind((function(){var t;try{var a=this.readFromStorage();a.push(n),(t=this.saveToStorage(a))&&this.memQueue.push(n)}catch(r){se.error("Error enqueueing item",e),t=!1}r&&r(t)}),this),(function(e){se.error("Error acquiring storage lock",e),r&&r(!1)}),this.pid)},ce.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);if(t.length<e){var r=this.readFromStorage();if(r.length){var n={};R.each(t,(function(e){n[e.id]=!0}));for(var a=0;a<r.length;a++){var i=r[a];if((new Date).getTime()>i.flushAfter&&!n[i.id]&&(t.push(i),t.length>=e))break}}}return t};var le=function(e,t){var r=[];return R.each(e,(function(e){e.id&&!t[e.id]&&r.push(e)})),r};ce.prototype.removeItemsByID=function(e,t){var r={};R.each(e,(function(e){r[e]=!0})),this.memQueue=le(this.memQueue,r),this.lock.withLock(R.bind((function(){var n;try{var a=this.readFromStorage();a=le(a,r),n=this.saveToStorage(a)}catch(t){se.error("Error removing items",e),n=!1}t&&t(n)}),this),(function(e){se.error("Error acquiring storage lock",e),t&&t(!1)}),this.pid)},ce.prototype.readFromStorage=function(){var e;try{(e=this.storage.getItem(this.storageKey))&&(e=$(e),R.isArray(e)||(se.error("Invalid storage entry:",e),e=null))}catch(t){se.error("Error retrieving queue",t),e=null}return e||[]},ce.prototype.saveToStorage=function(e){try{return this.storage.setItem(this.storageKey,K(e)),!0}catch(e){return se.error("Error saving queue",e),!1}},ce.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var ue=L("batch"),de=function(e,t,r){this.queue=new ce(e,{storage:r.storage}),this.endpoint=t,this.libConfig=r.libConfig,this.sendRequest=r.sendRequestFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!1};de.prototype.enqueue=function(e,t){this.queue.enqueue(e,this.flushInterval,t)},de.prototype.start=function(){this.stopped=!1,this.flush()},de.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},de.prototype.clear=function(){this.queue.clear()},de.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size},de.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)},de.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(R.bind(this.flush,this),this.flushInterval))},de.prototype.flush=function(e){try{if(this.requestInProgress)return void ue.log("Flush: Request already in progress");e=e||{};var t=this.batchSize,r=this.queue.fillBatch(t);if(r.length<1)return void this.resetFlush();this.requestInProgress=!0;var n=this.libConfig.batch_request_timeout_ms,a=(new Date).getTime(),i=R.map(r,(function(e){return e.payload})),o=R.bind((function(e){this.requestInProgress=!1;try{var i=!1;if(R.isObject(e)&&"timeout"===e.error&&(new Date).getTime()-a>=n)ue.error("Network timeout; retrying"),this.flush();else if(R.isObject(e)&&e.xhr_req&&(e.xhr_req.status>=500||e.xhr_req.status<=0)){var o=2*this.flushInterval,s=e.xhr_req.responseHeaders;if(s){var c=s["Retry-After"];c&&(o=1e3*parseInt(c,10)||o)}o=Math.min(6e5,o),ue.error("Error; retry in "+o+" ms"),this.scheduleFlush(o)}else if(R.isObject(e)&&e.xhr_req&&413===e.xhr_req.status)if(r.length>1){var l=Math.max(1,Math.floor(t/2));this.batchSize=Math.min(this.batchSize,l,r.length-1),ue.error("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else ue.error("Single-event request too large; dropping",r),this.resetBatchSize(),i=!0;else i=!0;i&&this.queue.removeItemsByID(R.map(r,(function(e){return e.id})),R.bind(this.flush,this))}catch(e){ue.error("Error handling API response",e),this.resetFlush()}}),this),s={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:n};e.sendBeacon&&(s.transport="sendBeacon"),ue.log("MIXPANEL REQUEST:",this.endpoint,i),this.sendRequest(this.endpoint,i,s,o)}catch(e){ue.error("Error flushing request queue",e),this.resetFlush()}};function pe(e,t){Oe(!0,e,t)}function fe(e,t){Oe(!1,e,t)}function he(e,t){return"1"===we(e,t)}function me(e,t){return!!function(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||n,r=t.navigator||{},a=!1;return R.each([r.doNotTrack,r.msDoNotTrack,t.doNotTrack],(function(e){R.includes([!0,1,"1","yes"],e)&&(a=!0)})),a}(t)||"0"===we(e,t)}function ge(e){return xe(e,(function(e){return this.get_config(e)}))}function be(e){return xe(e,(function(e){return this._get_config(e)}))}function ve(e){return xe(e,(function(e){return this._get_config(e)}))}function ye(e,t){_e(t=t||{}).remove(Ee(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function _e(e){return"localStorage"===(e=e||{}).persistenceType?R.localStorage:R.cookie}function Ee(e,t){return((t=t||{}).persistencePrefix||"__mp_opt_in_out_")+e}function we(e,t){return _e(t).get(Ee(e,t))}function Oe(e,t,r){R.isString(t)&&t.length?(_e(r=r||{}).set(Ee(t,r),e?1:0,R.isNumber(r.cookieExpiration)?r.cookieExpiration:null,!!r.crossSubdomainCookie,!!r.secureCookie,!!r.crossSiteCookie,r.cookieDomain),r.track&&e&&r.track(r.trackEventName||"$opt_in",r.trackProperties,{send_immediately:!0})):console.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function xe(e,t){return function(){var r=!1;try{var n=t.call(this,"token"),a=t.call(this,"ignore_dnt"),i=t.call(this,"opt_out_tracking_persistence_type"),o=t.call(this,"opt_out_tracking_cookie_prefix"),s=t.call(this,"window");n&&(r=me(n,{ignoreDnt:a,persistenceType:i,persistencePrefix:o,window:s}))}catch(e){console.error("Unexpected error when checking tracking opt-out status: "+e)}if(!r)return e.apply(this,arguments);var c=arguments[arguments.length-1];"function"==typeof c&&c(0)}}var Ce={set_action:function(e,t){var r={},n={};return R.isObject(e)?R.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=e)}),this):n[e]=t,r.$set=n,r},unset_action:function(e){var t={},r=[];return R.isArray(e)||(e=[e]),R.each(e,(function(e){this._is_reserved_property(e)||r.push(e)}),this),t.$unset=r,t},set_once_action:function(e,t){var r={},n={};return R.isObject(e)?R.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=e)}),this):n[e]=t,r.$set_once=n,r},union_action:function(e,t){var r={},n={};return R.isObject(e)?R.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=R.isArray(e)?e:[e])}),this):n[e]=R.isArray(t)?t:[t],r.$union=n,r},append_action:function(e,t){var r={},n={};return R.isObject(e)?R.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=e)}),this):n[e]=t,r.$append=n,r},remove_action:function(e,t){var r={},n={};return R.isObject(e)?R.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=e)}),this):n[e]=t,r.$remove=n,r},delete_action:function(){var e={$delete:""};return e}},ke=function(){};R.extend(ke.prototype,Ce),ke.prototype._init=function(e,t,r){this._mixpanel=e,this._group_key=t,this._group_id=r},ke.prototype.set=ve((function(e,t,r){var n=this.set_action(e,t);return R.isObject(e)&&(r=t),this._send_request(n,r)})),ke.prototype.set_once=ve((function(e,t,r){var n=this.set_once_action(e,t);return R.isObject(e)&&(r=t),this._send_request(n,r)})),ke.prototype.unset=ve((function(e,t){var r=this.unset_action(e);return this._send_request(r,t)})),ke.prototype.union=ve((function(e,t,r){R.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)})),ke.prototype.delete=ve((function(e){var t=this.delete_action();return this._send_request(t,e)})),ke.prototype.remove=ve((function(e,t,r){var n=this.remove_action(e,t);return this._send_request(n,r)})),ke.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var r=R.encodeDates(e);return this._mixpanel._track_or_batch({truncated_data:R.truncate(r,255),endpoint:this._get_config("api_host")+"/groups/",batcher:this._mixpanel.request_batchers.groups},t)},ke.prototype._is_reserved_property=function(e){return"$group_key"===e||"$group_id"===e},ke.prototype._get_config=function(e){return this._mixpanel.get_config(e)},ke.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id},ke.prototype.remove=ke.prototype.remove,ke.prototype.set=ke.prototype.set,ke.prototype.set_once=ke.prototype.set_once,ke.prototype.union=ke.prototype.union,ke.prototype.unset=ke.prototype.unset,ke.prototype.toString=ke.prototype.toString;var Ie=["__mps","__mpso","__mpus","__mpa","__mpap","__mpr","__mpu","$people_distinct_id","__alias","__cmpns","__timers"],je=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(M.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),"localStorage"===t&&R.localStorage.is_supported()?this.storage=R.localStorage:this.storage=R.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};je.prototype.properties=function(){var e={};return R.each(this.props,(function(t,r){R.include(Ie,r)||(e[r]=t)})),e},je.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=R.extend({},e))}},je.prototype.upgrade=function(e){var t,r,n=e.upgrade;n&&(t="mp_super_properties","string"==typeof n&&(t=n),r=this.storage.parse(t),this.storage.remove(t),this.storage.remove(t,!0),r&&(this.props=R.extend(this.props,r.all,r.events))),e.cookie_name||"mixpanel"===e.name||(t="mp_"+e.token+"_"+e.name,(r=this.storage.parse(t))&&(this.storage.remove(t),this.storage.remove(t,!0),this.register_once(r))),this.storage===R.localStorage&&(r=R.cookie.parse(this.name),R.cookie.remove(this.name),R.cookie.remove(this.name,!0),r&&this.register_once(r))},je.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,R.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain))},je.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)},je.prototype.clear=function(){this.remove(),this.props={}},je.prototype.register_once=function(e,t,r){return!!R.isObject(e)&&(void 0===t&&(t="None"),this.expire_days=void 0===r?this.default_expiry:r,R.each(e,(function(e,r){this.props.hasOwnProperty(r)&&this.props[r]!==t||(this.props[r]=e)}),this),this.save(),!0)},je.prototype.register=function(e,t){return!!R.isObject(e)&&(this.expire_days=void 0===t?this.default_expiry:t,R.extend(this.props,e),this.save(),!0)},je.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())},je.prototype._expire_notification_campaigns=R.safewrap((function(){var e=this.props.__cmpns,t=a.DEBUG?6e4:36e5;if(e){for(var r in e)1*new Date-e[r]>t&&delete e[r];R.isEmptyObject(e)&&delete this.props.__cmpns}})),je.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(R.info.campaignParams()),this.campaign_params_saved=!0)},je.prototype.update_search_keyword=function(e){this.register(R.info.searchInfo(e))},je.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:R.info.referringDomain(e)||"$direct"},"")},je.prototype.get_referrer_info=function(){return R.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},je.prototype.safe_merge=function(e){return R.each(this.props,(function(t,r){r in e||(e[r]=t)})),e},je.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},je.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()},je.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())},je.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())},je.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},je.prototype.get_cross_subdomain=function(){return this.cross_subdomain},je.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},je.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],a=this._get_or_create_queue("$set"),i=this._get_or_create_queue("$set_once"),o=this._get_or_create_queue("$unset"),s=this._get_or_create_queue("$add"),c=this._get_or_create_queue("$union"),l=this._get_or_create_queue("$remove",[]),u=this._get_or_create_queue("$append",[]);"__mps"===r?(R.extend(a,n),this._pop_from_people_queue("$add",n),this._pop_from_people_queue("$union",n),this._pop_from_people_queue("$unset",n)):"__mpso"===r?(R.each(n,(function(e,t){t in i||(i[t]=e)})),this._pop_from_people_queue("$unset",n)):"__mpus"===r?R.each(n,(function(e){R.each([a,i,s,c],(function(t){e in t&&delete t[e]})),R.each(u,(function(t){e in t&&delete t[e]})),o[e]=!0})):"__mpa"===r?(R.each(n,(function(e,t){t in a?a[t]+=e:(t in s||(s[t]=0),s[t]+=e)}),this),this._pop_from_people_queue("$unset",n)):"__mpu"===r?(R.each(n,(function(e,t){R.isArray(e)&&(t in c||(c[t]=[]),c[t]=c[t].concat(e))})),this._pop_from_people_queue("$unset",n)):"__mpr"===r?(l.push(n),this._pop_from_people_queue("$append",n)):"__mpap"===r&&(u.push(n),this._pop_from_people_queue("$unset",n)),M.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),M.log(t),this.save()},je.prototype._pop_from_people_queue=function(e,t){var r=this._get_queue(e);R.isUndefined(r)||(R.each(t,(function(t,n){"$append"===e||"$remove"===e?R.each(r,(function(e){e[n]===t&&delete e[n]})):delete r[n]}),this),this.save())},je.prototype._get_queue_key=function(e){return"$set"===e?"__mps":"$set_once"===e?"__mpso":"$unset"===e?"__mpus":"$add"===e?"__mpa":"$append"===e?"__mpap":"$remove"===e?"__mpr":"$union"===e?"__mpu":void M.error("Invalid queue:",e)},je.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]},je.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=R.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)},je.prototype.set_event_timer=function(e,t){var r=this.props.__timers||{};r[e]=t,this.props.__timers=r,this.save()},je.prototype.remove_event_timer=function(e){var t=(this.props.__timers||{})[e];return R.isUndefined(t)||(delete this.props.__timers[e],this.save()),t};var Se="in",Te="not in",Ae="-",Ne="*",De="/",Pe="%",Re="==",Me="!=",Fe=">",Le="<",Be=">=",qe="<=",He="defined",ze="not defined";function Ue(e){if(null===e)return null;switch(typeof e){case"object":return R.isDate(e)&&e.getTime()>=0?e.getTime():null;case"boolean":return Number(e);case"number":return e;case"string":return e=Number(e),isNaN(e)?0:e}return null}function We(e){if(null===e)return!1;switch(typeof e){case"boolean":return e;case"number":return 0!==e;case"string":return e.length>0;case"object":return!!(R.isArray(e)&&e.length>0)||(!!(R.isDate(e)&&e.getTime()>0)||!(!R.isObject(e)||R.isEmptyObject(e)))}return!1}function Ge(e,t){if(!e.operator||-1===[Re,Me].indexOf(e.operator)||!e.children||2!==e.children.length)throw"Invalid equality operator "+e;var r=function(e,t){if(null===e&&e===t)return!0;if(typeof e==typeof t)switch(typeof e){case"number":case"string":case"boolean":return e===t;case"object":if(R.isArray(e)&&R.isArray(t))return function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(e,t);if(R.isDate(e)&&R.isDate(t))return e.getTime()===t.getTime();if(R.isObject(e)&&R.isObject(t))return JSON.stringify(e)===JSON.stringify(t)}return!1}($e(e.children[0],t),$e(e.children[1],t));switch(e.operator){case Re:return r;case Me:return!r}}function Ve(e,t){if(!e.operator)throw"Invalid operator: operator key missing "+e;switch(e.operator){case"and":return function(e,t){if(!e.operator||"and"!==e.operator||!e.children||2!==e.children.length)throw"Invalid operator: AND "+e;return We($e(e.children[0],t))&&We($e(e.children[1],t))}(e,t);case"or":return function(e,t){if(!e.operator||"or"!==e.operator||!e.children||2!==e.children.length)throw"Invalid operator: OR "+e;return We($e(e.children[0],t))||We($e(e.children[1],t))}(e,t);case Se:case Te:return function(e,t){if(!e.operator||-1===[Se,Te].indexOf(e.operator)||!e.children||2!==e.children.length)throw"Invalid operator: IN/NOT IN "+e;var r=$e(e.children[0],t),n=$e(e.children[1],t);if(!R.isArray(n)&&!R.isString(n))throw"Invalid operand for operator IN: invalid type"+n;var a=n.indexOf(r)>-1;return e.operator===Te?!a:a}(e,t);case"+":return function(e,t){if(!e.operator||"+"!==e.operator||!e.children||e.children.length<2)throw"Invalid operator: PLUS "+e;var r=$e(e.children[0],t),n=$e(e.children[1],t);return"number"==typeof r&&"number"==typeof n||"string"==typeof r&&"string"==typeof n?r+n:null}(e,t);case Ae:case Ne:case De:case Pe:return function(e,t){if(!e.operator||-1===[Ae,Ne,De,Pe].indexOf(e.operator)||!e.children||e.children.length<2)throw"Invalid arithmetic operator "+e;var r=$e(e.children[0],t),n=$e(e.children[1],t);if("number"==typeof r&&"number"==typeof n)switch(e.operator){case Ae:return r-n;case Ne:return r*n;case De:return 0!==n?r/n:null;case Pe:return 0===n?null:0===r?0:r<0&&n>0||r>0&&n<0?-(Math.floor(r/n)*n-r):r%n;default:throw"Unknown operator: "+e.operator}return null}(e,t);case Re:case Me:return Ge(e,t);case Fe:case Le:case Be:case qe:return function(e,t){if(!e.operator||-1===[Fe,Be,Le,qe].indexOf(e.operator)||!e.children||2!==e.children.length)throw"Invalid comparison operator "+e;var r=$e(e.children[0],t),n=$e(e.children[1],t);if(typeof r==typeof n)if("number"==typeof n||R.isDate(n))switch(r=Ue(r),n=Ue(n),e.operator){case Fe:return r>n;case Be:return r>=n;case Le:return r<n;case qe:return r<=n}else if("string"==typeof n){var a=r.localeCompare(n);switch(e.operator){case Fe:return a>0;case Be:return a>=0;case Le:return a<0;case qe:return a<=0}}return null}(e,t);case"boolean":return function(e,t){if(!e.operator||"boolean"!==e.operator||!e.children||1!==e.children.length)throw"Invalid cast operator: boolean "+e;return We($e(e.children[0],t))}(e,t);case"datetime":return function(e,t){if(!e.operator||"datetime"!==e.operator||!e.children||1!==e.children.length)throw"Invalid cast operator: datetime "+e;var r=$e(e.children[0],t);if(null===r)return null;switch(typeof r){case"number":case"string":var n=new Date(r);return isNaN(n.getTime())?null:n;case"object":if(R.isDate(r))return r}return null}(e,t);case"list":return function(e,t){if(!e.operator||"list"!==e.operator||!e.children||1!==e.children.length)throw"Invalid cast operator: list "+e;var r=$e(e.children[0],t);return null===r?null:R.isArray(r)?r:null}(e,t);case"number":return function(e,t){if(!e.operator||"number"!==e.operator||!e.children||1!==e.children.length)throw"Invalid cast operator: number "+e;return Ue($e(e.children[0],t))}(e,t);case"string":return function(e,t){if(!e.operator||"string"!==e.operator||!e.children||1!==e.children.length)throw"Invalid cast operator: string "+e;var r=$e(e.children[0],t);switch(typeof r){case"object":return R.isDate(r)?r.toJSON():JSON.stringify(r)}return String(r)}(e,t);case He:case ze:return function(e,t){if(!e.operator||-1===[He,ze].indexOf(e.operator)||!e.children||1!==e.children.length)throw"Invalid defined/not defined operator: "+e;var r=null!==$e(e.children[0],t);return e.operator===ze?!r:r}(e,t);case"not":return function(e,t){if(!e.operator||"not"!==e.operator||!e.children||1!==e.children.length)throw"Invalid not operator: "+e;var r=$e(e.children[0],t);return null===r||("boolean"==typeof r?!r:null)}(e,t)}}function Ke(e,t){if(!e.property||!e.value)throw"Invalid operand: missing required keys "+e;switch(e.property){case"event":return void 0!==t[e.value]?t[e.value]:null;case"literal":return"now"===e.value?new Date:"object"==typeof e.value?function(e){var t=e.window;if(!t||!t.unit||!t.value)throw"Invalid window: missing required keys "+JSON.stringify(e);var r=new Date;switch(t.unit){case"hour":r.setTime(r.getTime()+-1*t.value*60*60*1e3);break;case"day":r.setTime(r.getTime()+-1*t.value*24*60*60*1e3);break;case"week":r.setTime(r.getTime()+-1*t.value*7*24*60*60*1e3);break;case"month":r.setTime(r.getTime()+-1*t.value*30*24*60*60*1e3);break;default:throw"Invalid unit: "+t.unit}return r}(e.value):e.value;default:throw"Invalid operand: Invalid property type "+e.property}}function $e(e,t){return e.property?Ke(e,t):e.operator?Ve(e,t):void 0}var Ye=function(e,t){R.bind_instance_methods(this),this.mixpanel=t,this.persistence=this.mixpanel.persistence,this.resource_protocol=this.mixpanel.get_config("inapp_protocol"),this.cdn_host=this.mixpanel.get_config("cdn"),this.campaign_id=R.escapeHTML(e.id),this.message_id=R.escapeHTML(e.message_id),this.body=(R.escapeHTML(e.body)||"").replace(/\n/g,"<br/>"),this.cta=R.escapeHTML(e.cta)||"Close",this.notif_type=R.escapeHTML(e.type)||"takeover",this.style=R.escapeHTML(e.style)||"light",this.title=R.escapeHTML(e.title)||"",this.video_width=Ye.VIDEO_WIDTH,this.video_height=Ye.VIDEO_HEIGHT,this.display_triggers=e.display_triggers||[],this.dest_url=e.cta_url||null,this.image_url=e.image_url||null,this.thumb_image_url=e.thumb_image_url||null,this.video_url=e.video_url||null,this.thumb_image_url&&0===this.thumb_image_url.indexOf("//")&&(this.thumb_image_url=this.thumb_image_url.replace("//",this.resource_protocol)),this.clickthrough=!0,this.dest_url||(this.dest_url="#dismiss",this.clickthrough=!1),this.mini="mini"===this.notif_type,this.mini||(this.notif_type="takeover"),this.notif_width=this.mini?Ye.NOTIF_WIDTH_MINI:Ye.NOTIF_WIDTH,this._set_client_config(),this.imgs_to_preload=this._init_image_html(),this._init_video()};Ye.ANIM_TIME=200,Ye.MARKUP_PREFIX="mixpanel-notification",Ye.BG_OPACITY=.6,Ye.NOTIF_TOP=25,Ye.NOTIF_START_TOP=200,Ye.NOTIF_WIDTH=388,Ye.NOTIF_WIDTH_MINI=420,Ye.NOTIF_HEIGHT_MINI=85,Ye.THUMB_BORDER_SIZE=5,Ye.THUMB_IMG_SIZE=60,Ye.THUMB_OFFSET=Math.round(Ye.THUMB_IMG_SIZE/2),Ye.VIDEO_WIDTH=595,Ye.VIDEO_HEIGHT=334,Ye.prototype.show=function(){var e=this;this._set_client_config(),this.body_el?(this._init_styles(),this._init_notification_el(),this._preload_images(this._attach_and_animate)):setTimeout((function(){e.show()}),300)},Ye.prototype.dismiss=R.safewrap((function(){this.marked_as_shown||this._mark_delivery({invisible:!0});var e,t,r,n=this.showing_video?this._get_el("video"):this._get_notification_display_el();this.use_transitions?(this._remove_class("bg","visible"),this._add_class(n,"exiting"),setTimeout(this._remove_notification_el,Ye.ANIM_TIME)):(this.mini?(e="right",t=20,r=-100):(e="top",t=Ye.NOTIF_TOP,r=Ye.NOTIF_START_TOP+Ye.NOTIF_TOP),this._animate_els([{el:this._get_el("bg"),attr:"opacity",start:Ye.BG_OPACITY,goal:0},{el:n,attr:"opacity",start:1,goal:0},{el:n,attr:e,start:t,goal:r}],Ye.ANIM_TIME,this._remove_notification_el))})),Ye.prototype._add_class=R.safewrap((function(e,t){t=Ye.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className?~(" "+e.className+" ").indexOf(" "+t+" ")||(e.className+=" "+t):e.className=t})),Ye.prototype._remove_class=R.safewrap((function(e,t){t=Ye.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className&&(e.className=(" "+e.className+" ").replace(" "+t+" ","").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))})),Ye.prototype._animate_els=R.safewrap((function(e,t,r,n){var a,i,o,s=this,c=!1,l=1*new Date;for(o=l-(n=n||l),a=0;a<e.length;a++)if(void 0===(i=e[a]).val&&(i.val=i.start),i.val!==i.goal){c=!0;var u=i.goal-i.start,d=i.goal>=i.start?1:-1;i.val=i.start+u*o/t,"opacity"!==i.attr&&(i.val=Math.round(i.val)),(d>0&&i.val>=i.goal||d<0&&i.val<=i.goal)&&(i.val=i.goal)}if(c){for(a=0;a<e.length;a++)if((i=e[a]).el){var p="opacity"===i.attr?"":"px";i.el.style[i.attr]=String(i.val)+p}setTimeout((function(){s._animate_els(e,t,r,n)}),10)}else r&&r()})),Ye.prototype._attach_and_animate=R.safewrap((function(){var e=this;if(!this.shown&&!this._get_shown_campaigns()[this.campaign_id]){this.shown=!0,this.body_el.appendChild(this.notification_el),setTimeout((function(){var t,r,n,a=e._get_notification_display_el();e.use_transitions?(e.mini||e._add_class("bg","visible"),e._add_class(a,"visible"),e._mark_as_shown()):(e.mini?(t="right",r=-100,n=20):(t="top",r=Ye.NOTIF_START_TOP+Ye.NOTIF_TOP,n=Ye.NOTIF_TOP),e._animate_els([{el:e._get_el("bg"),attr:"opacity",start:0,goal:Ye.BG_OPACITY},{el:a,attr:"opacity",start:0,goal:1},{el:a,attr:t,start:r,goal:n}],Ye.ANIM_TIME,e._mark_as_shown))}),100),R.register_event(e._get_el("cancel"),"click",(function(t){t.preventDefault(),e.dismiss()}));var t=e._get_el("button")||e._get_el("mini-content");R.register_event(t,"click",(function(t){if(t.preventDefault(),e.show_video)e._track_event("$campaign_open",{$resource_type:"video"}),e._switch_to_video();else if(e.dismiss(),e.clickthrough){var r=null;e.mixpanel.get_config("inapp_link_new_window")?window.open(e.dest_url):r=function(){window.location.href=e.dest_url},e._track_event("$campaign_open",{$resource_type:"link"},r)}}))}})),Ye.prototype._get_el=function(e){return document.getElementById(Ye.MARKUP_PREFIX+"-"+e)},Ye.prototype._get_notification_display_el=function(){return this._get_el(this.notif_type)},Ye.prototype._get_shown_campaigns=function(){return this.persistence.props.__cmpns||(this.persistence.props.__cmpns={})},Ye.prototype._matches_event_data=R.safewrap((function(e){for(var t=e.event||"",r=0;r<this.display_triggers.length;r++){var n=this.display_triggers[r];if("$any_event"===(n.event||"")||t===n.event){if(!n.selector||R.isEmptyObject(n.selector))return!0;if($e(n.selector,e.properties))return!0}}return!1})),Ye.prototype._browser_lte=function(e,t){return this.browser_versions[e]&&this.browser_versions[e]<=t},Ye.prototype._init_image_html=function(){var e=[];return this.mini?(this.thumb_image_url=this.thumb_image_url||this.cdn_host+"/site_media/images/icons/notifications/mini-news-dark.png",e.push(this.thumb_image_url)):(this.image_url?(e.push(this.image_url),this.img_html='<img id="img" src="'+this.image_url+'"/>'):this.img_html="",this.thumb_image_url?(e.push(this.thumb_image_url),this.thumb_img_html='<div id="thumbborder-wrapper"><div id="thumbborder"></div></div><img id="thumbnail" src="'+this.thumb_image_url+'" width="'+Ye.THUMB_IMG_SIZE+'" height="'+Ye.THUMB_IMG_SIZE+'"/><div id="thumbspacer"></div>'):this.thumb_img_html=""),e},Ye.prototype._init_notification_el=function(){var e="",t="",r="",n='<div id="cancel"><div id="cancel-icon"></div></div>';if(this.notification_el=document.createElement("div"),this.notification_el.id=Ye.MARKUP_PREFIX+"-wrapper",this.mini)e='<div id="mini"><div id="mainbox">'+n+'<div id="mini-content"><div id="mini-icon"><div id="mini-icon-img"></div></div><div id="body"><div id="body-text"><div>'+this.body+'</div></div></div></div></div><div id="mini-border"></div></div>';else{var a=this.clickthrough||this.show_video?"":'<div id="button-close"></div>',i=this.show_video?'<div id="button-play"></div>':"";this._browser_lte("ie",7)&&(a="",i=""),e='<div id="takeover">'+this.thumb_img_html+'<div id="mainbox">'+n+'<div id="content">'+this.img_html+'<div id="title">'+this.title+'</div><div id="body">'+this.body+'</div><div id="tagline"><a href="http://mixpanel.com?from=inapp" target="_blank">POWERED BY MIXPANEL</a></div></div><div id="button">'+a+'<a id="button-link" href="'+this.dest_url+'">'+this.cta+"</a>"+i+"</div></div></div>"}this.youtube_video?(t=this.resource_protocol+"www.youtube.com/embed/"+this.youtube_video+"?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080",this.yt_custom&&(t+="&enablejsapi=1&html5=1&controls=0",r='<div id="video-controls"><div id="video-progress" class="video-progress-el"><div id="video-progress-total" class="video-progress-el"></div><div id="video-elapsed" class="video-progress-el"></div></div><div id="video-time" class="video-progress-el"></div></div>')):this.vimeo_video&&(t=this.resource_protocol+"player.vimeo.com/video/"+this.vimeo_video+"?autoplay=1&title=0&byline=0&portrait=0"),this.show_video&&(this.video_iframe='<iframe id="'+Ye.MARKUP_PREFIX+'-video-frame" width="'+this.video_width+'" height="'+this.video_height+'"  src="'+t+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"></iframe>',r='<div id="video-'+(this.flip_animate?"":"no")+'flip"><div id="video"><div id="video-holder"></div>'+r+"</div></div>");var o=r+e;this.flip_animate&&(o=(this.mini?e:"")+'<div id="flipcontainer"><div id="flipper">'+(this.mini?r:o)+"</div></div>"),this.notification_el.innerHTML=('<div id="overlay" class="'+this.notif_type+'"><div id="campaignid-'+this.campaign_id+'"><div id="bgwrapper"><div id="bg"></div>'+o+"</div></div></div>").replace(/class="/g,'class="'+Ye.MARKUP_PREFIX+"-").replace(/id="/g,'id="'+Ye.MARKUP_PREFIX+"-")},Ye.prototype._init_styles=function(){"dark"===this.style?this.style_vals={bg:"#1d1f25",bg_actions:"#282b32",bg_hover:"#3a4147",bg_light:"#4a5157",border_gray:"#32353c",cancel_opacity:"0.4",mini_hover:"#2a3137",text_title:"#fff",text_main:"#9498a3",text_tagline:"#464851",text_hover:"#ddd"}:this.style_vals={bg:"#fff",bg_actions:"#e7eaee",bg_hover:"#eceff3",bg_light:"#f5f5f5",border_gray:"#e4ecf2",cancel_opacity:"1.0",mini_hover:"#fafafa",text_title:"#5c6578",text_main:"#8b949b",text_tagline:"#ced9e6",text_hover:"#7c8598"};var e="0px 0px 35px 0px rgba(45, 49, 56, 0.7)",t=e,r=e,n=Ye.THUMB_IMG_SIZE+2*Ye.THUMB_BORDER_SIZE,a=Ye.ANIM_TIME/1e3+"s";this.mini&&(e="none");var i={};i["@media only screen and (max-width: "+(Ye.NOTIF_WIDTH_MINI+20-1)+"px)"]={"#overlay":{display:"none"}};var o={".flipped":{transform:"rotateY(180deg)"},"#overlay":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto","text-align":"center","z-index":"10000","font-family":'"Helvetica", "Arial", sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"#overlay.mini":{height:"0",overflow:"visible"},"#overlay a":{width:"initial",padding:"0","text-decoration":"none","text-transform":"none",color:"inherit"},"#bgwrapper":{position:"relative",width:"100%",height:"100%"},"#bg":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","min-width":4*this.doc_width+"px","min-height":4*this.doc_height+"px","background-color":"black",opacity:"0.0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)",filter:"alpha(opacity=60)",transition:"opacity "+a},"#bg.visible":{opacity:Ye.BG_OPACITY},".mini #bg":{width:"0",height:"0","min-width":"0"},"#flipcontainer":{perspective:"1000px",position:"absolute",width:"100%"},"#flipper":{position:"relative","transform-style":"preserve-3d",transition:"0.3s"},"#takeover":{position:"absolute",left:"50%",width:Ye.NOTIF_WIDTH+"px","margin-left":Math.round(-Ye.NOTIF_WIDTH/2)+"px","backface-visibility":"hidden",transform:"rotateY(0deg)",opacity:"0.0",top:Ye.NOTIF_START_TOP+"px",transition:"opacity "+a+", top "+a},"#takeover.visible":{opacity:"1.0",top:Ye.NOTIF_TOP+"px"},"#takeover.exiting":{opacity:"0.0",top:Ye.NOTIF_START_TOP+"px"},"#thumbspacer":{height:Ye.THUMB_OFFSET+"px"},"#thumbborder-wrapper":{position:"absolute",top:-Ye.THUMB_BORDER_SIZE+"px",left:Ye.NOTIF_WIDTH/2-Ye.THUMB_OFFSET-Ye.THUMB_BORDER_SIZE+"px",width:n+"px",height:n/2+"px",overflow:"hidden"},"#thumbborder":{position:"absolute",width:n+"px",height:n+"px","border-radius":n+"px","background-color":this.style_vals.bg_actions,opacity:"0.5"},"#thumbnail":{position:"absolute",top:"0px",left:Ye.NOTIF_WIDTH/2-Ye.THUMB_OFFSET+"px",width:Ye.THUMB_IMG_SIZE+"px",height:Ye.THUMB_IMG_SIZE+"px",overflow:"hidden","z-index":"100","border-radius":Ye.THUMB_IMG_SIZE+"px"},"#mini":{position:"absolute",right:"20px",top:Ye.NOTIF_TOP+"px",width:this.notif_width+"px",height:2*Ye.NOTIF_HEIGHT_MINI+"px","margin-top":20-Ye.NOTIF_HEIGHT_MINI+"px","backface-visibility":"hidden",opacity:"0.0",transform:"rotateX(90deg)",transition:"opacity 0.3s, transform 0.3s, right 0.3s"},"#mini.visible":{opacity:"1.0",transform:"rotateX(0deg)"},"#mini.exiting":{opacity:"0.0",right:"-150px"},"#mainbox":{"border-radius":"4px","box-shadow":e,"text-align":"center","background-color":this.style_vals.bg,"font-size":"14px",color:this.style_vals.text_main},"#mini #mainbox":{height:Ye.NOTIF_HEIGHT_MINI+"px","margin-top":Ye.NOTIF_HEIGHT_MINI+"px","border-radius":"3px",transition:"background-color "+a},"#mini-border":{height:Ye.NOTIF_HEIGHT_MINI+6+"px",width:Ye.NOTIF_WIDTH_MINI+6+"px",position:"absolute",top:"-3px",left:"-3px","margin-top":Ye.NOTIF_HEIGHT_MINI+"px","border-radius":"6px",opacity:"0.25","background-color":"#fff","z-index":"-1","box-shadow":r},"#mini-icon":{position:"relative",display:"inline-block",width:"75px",height:Ye.NOTIF_HEIGHT_MINI+"px","border-radius":"3px 0 0 3px","background-color":this.style_vals.bg_actions,background:"linear-gradient(135deg, "+this.style_vals.bg_light+" 0%, "+this.style_vals.bg_actions+" 100%)",transition:"background-color "+a},"#mini:hover #mini-icon":{"background-color":this.style_vals.mini_hover},"#mini:hover #mainbox":{"background-color":this.style_vals.mini_hover},"#mini-icon-img":{position:"absolute","background-image":"url("+this.thumb_image_url+")",width:"48px",height:"48px",top:"20px",left:"12px"},"#content":{padding:"30px 20px 0px 20px"},"#mini-content":{"text-align":"left",height:Ye.NOTIF_HEIGHT_MINI+"px",cursor:"pointer"},"#img":{width:"328px","margin-top":"30px","border-radius":"5px"},"#title":{"max-height":"600px",overflow:"hidden","word-wrap":"break-word",padding:"25px 0px 20px 0px","font-size":"19px","font-weight":"bold",color:this.style_vals.text_title},"#body":{"max-height":"600px","margin-bottom":"25px",overflow:"hidden","word-wrap":"break-word","line-height":"21px","font-size":"15px","font-weight":"normal","text-align":"left"},"#mini #body":{display:"inline-block","max-width":"250px",margin:"0 0 0 30px",height:Ye.NOTIF_HEIGHT_MINI+"px","font-size":"16px","letter-spacing":"0.8px",color:this.style_vals.text_title},"#mini #body-text":{display:"table",height:Ye.NOTIF_HEIGHT_MINI+"px"},"#mini #body-text div":{display:"table-cell","vertical-align":"middle"},"#tagline":{"margin-bottom":"15px","font-size":"10px","font-weight":"600","letter-spacing":"0.8px",color:"#ccd7e0","text-align":"left"},"#tagline a":{color:this.style_vals.text_tagline,transition:"color "+a},"#tagline a:hover":{color:this.style_vals.text_hover},"#cancel":{position:"absolute",right:"0",width:"8px",height:"8px",padding:"10px","border-radius":"20px",margin:"12px 12px 0 0","box-sizing":"content-box",cursor:"pointer",transition:"background-color "+a},"#mini #cancel":{margin:"7px 7px 0 0"},"#cancel-icon":{width:"8px",height:"8px",overflow:"hidden","background-image":"url("+this.cdn_host+"/site_media/images/icons/notifications/cancel-x.png)",opacity:this.style_vals.cancel_opacity},"#cancel:hover":{"background-color":this.style_vals.bg_hover},"#button":{display:"block",height:"60px","line-height":"60px","text-align":"center","background-color":this.style_vals.bg_actions,"border-radius":"0 0 4px 4px",overflow:"hidden",cursor:"pointer",transition:"background-color "+a},"#button-close":{display:"inline-block",width:"9px",height:"60px","margin-right":"8px","vertical-align":"top","background-image":"url("+this.cdn_host+"/site_media/images/icons/notifications/close-x-"+this.style+".png)","background-repeat":"no-repeat","background-position":"0px 25px"},"#button-play":{display:"inline-block",width:"30px",height:"60px","margin-left":"15px","background-image":"url("+this.cdn_host+"/site_media/images/icons/notifications/play-"+this.style+"-small.png)","background-repeat":"no-repeat","background-position":"0px 15px"},"a#button-link":{display:"inline-block","vertical-align":"top","text-align":"center","font-size":"17px","font-weight":"bold",overflow:"hidden","word-wrap":"break-word",color:this.style_vals.text_title,transition:"color "+a},"#button:hover":{"background-color":this.style_vals.bg_hover,color:this.style_vals.text_hover},"#button:hover a":{color:this.style_vals.text_hover},"#video-noflip":{position:"relative",top:2*-this.video_height+"px"},"#video-flip":{"backface-visibility":"hidden",transform:"rotateY(180deg)"},"#video":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",top:Ye.NOTIF_TOP+"px","margin-top":"100px",left:"50%","margin-left":Math.round(-this.video_width/2)+"px",overflow:"hidden","border-radius":"5px","box-shadow":t,transform:"translateZ(1px)",transition:"opacity "+a+", top "+a},"#video.exiting":{opacity:"0.0",top:this.video_height+"px"},"#video-holder":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",overflow:"hidden","border-radius":"5px"},"#video-frame":{"margin-left":"-1px",width:this.video_width+"px"},"#video-controls":{opacity:"0",transition:"opacity 0.5s"},"#video:hover #video-controls":{opacity:"1.0"},"#video .video-progress-el":{position:"absolute",bottom:"0",height:"25px","border-radius":"0 0 0 5px"},"#video-progress":{width:"90%"},"#video-progress-total":{width:"100%","background-color":this.style_vals.bg,opacity:"0.7"},"#video-elapsed":{width:"0","background-color":"#6cb6f5",opacity:"0.9"},"#video #video-time":{width:"10%",right:"0","font-size":"11px","line-height":"25px",color:this.style_vals.text_main,"background-color":"#666","border-radius":"0 0 5px 0"}};this._browser_lte("ie",8)&&R.extend(o,{"* html #overlay":{position:"absolute"},"* html #bg":{position:"absolute"},"html, body":{height:"100%"}}),this._browser_lte("ie",7)&&R.extend(o,{"#mini #body":{display:"inline",zoom:"1",border:"1px solid "+this.style_vals.bg_hover},"#mini #body-text":{padding:"20px"},"#mini #mini-icon":{display:"none"}});var s=["backface-visibility","border-radius","box-shadow","opacity","perspective","transform","transform-style","transition"],c=["khtml","moz","ms","o","webkit"];for(var l in o)for(var u=0;u<s.length;u++){var d=s[u];if(d in o[l])for(var p=o[l][d],f=0;f<c.length;f++)o[l]["-"+c[f]+"-"+d]=p}var h,m,g,b,v;h=i,g=(m=function(e){var t="";for(var r in e){t+="\n"+r.replace(/#/g,"#"+Ye.MARKUP_PREFIX+"-").replace(/\./g,"."+Ye.MARKUP_PREFIX+"-")+" {";var n=e[r];for(var a in n)t+=a+":"+n[a]+";";t+="}"}return t})(o)+function(e){var t="";for(var r in e)t+="\n"+r+" {"+m(e[r])+"\n}";return t}(h),b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,v=document.createElement("style"),b.appendChild(v),v.setAttribute("type","text/css"),v.styleSheet?v.styleSheet.cssText=g:v.textContent=g},Ye.prototype._init_video=R.safewrap((function(){if(this.video_url){var e=this;e.yt_custom="postMessage"in window,e.dest_url=e.video_url;var t=e.video_url.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/ ]{11})/i),r=e.video_url.match(/vimeo\.com\/.*?(\d+)/i);if(t){if(e.show_video=!0,e.youtube_video=t[1],e.yt_custom){window.onYouTubeIframeAPIReady=function(){e._get_el("video-frame")&&e._yt_video_ready()};var n=document.createElement("script");n.src=e.resource_protocol+"www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a)}}else r&&(e.show_video=!0,e.vimeo_video=r[1]);(e._browser_lte("ie",7)||e._browser_lte("firefox",3))&&(e.show_video=!1,e.clickthrough=!0)}})),Ye.prototype._mark_as_shown=R.safewrap((function(){var e=this;R.register_event(e._get_el("bg"),"click",(function(){e.dismiss()}));var t=function(e,t){var r={};return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,null):e.currentStyle&&(r=e.currentStyle),r[t]};if(this.campaign_id){var r=this._get_el("overlay");r&&"hidden"!==t(r,"visibility")&&"none"!==t(r,"display")&&this._mark_delivery()}})),Ye.prototype._mark_delivery=R.safewrap((function(e){this.marked_as_shown||(this.marked_as_shown=!0,this.campaign_id&&(this._get_shown_campaigns()[this.campaign_id]=1*new Date,this.persistence.save()),this._track_event("$campaign_delivery",e),this.mixpanel.people.append({$campaigns:this.campaign_id,$notifications:{campaign_id:this.campaign_id,message_id:this.message_id,type:"web",time:new Date}}))})),Ye.prototype._preload_images=function(e){var t=this;if(0!==this.imgs_to_preload.length){for(var r=0,n=[],a=function(){++r===t.imgs_to_preload.length&&e&&(e(),e=null)},i=0;i<this.imgs_to_preload.length;i++){var o=new Image;o.onload=a,o.src=this.imgs_to_preload[i],o.complete&&a(),n.push(o)}this._browser_lte("ie",7)&&setTimeout((function(){var t=!0;for(i=0;i<n.length;i++)n[i].complete||(t=!1);t&&e&&(e(),e=null)}),500)}else e()},Ye.prototype._remove_notification_el=R.safewrap((function(){window.clearInterval(this._video_progress_checker),this.notification_el.style.visibility="hidden",this.body_el.removeChild(this.notification_el)})),Ye.prototype._set_client_config=function(){var e=function(e){var t=navigator.userAgent.match(e);return t&&t[1]};this.browser_versions={},this.browser_versions.chrome=e(/Chrome\/(\d+)/),this.browser_versions.firefox=e(/Firefox\/(\d+)/),this.browser_versions.ie=e(/MSIE (\d+).+/),!this.browser_versions.ie&&!window.ActiveXObject&&"ActiveXObject"in window&&(this.browser_versions.ie=11),this.body_el=document.body||document.getElementsByTagName("body")[0],this.body_el&&(this.doc_width=Math.max(this.body_el.scrollWidth,document.documentElement.scrollWidth,this.body_el.offsetWidth,document.documentElement.offsetWidth,this.body_el.clientWidth,document.documentElement.clientWidth),this.doc_height=Math.max(this.body_el.scrollHeight,document.documentElement.scrollHeight,this.body_el.offsetHeight,document.documentElement.offsetHeight,this.body_el.clientHeight,document.documentElement.clientHeight));var t=this.browser_versions.ie,r=document.createElement("div").style,n=function(e){if(e in r)return!0;if(!t)for(var n=["O"+(e=e[0].toUpperCase()+e.slice(1)),"Webkit"+e,"Moz"+e],a=0;a<n.length;a++)if(n[a]in r)return!0;return!1};this.use_transitions=this.body_el&&n("transition")&&n("transform"),this.flip_animate=(this.browser_versions.chrome>=33||this.browser_versions.firefox>=15)&&this.body_el&&n("backfaceVisibility")&&n("perspective")&&n("transform")},Ye.prototype._switch_to_video=R.safewrap((function(){var e=this,t=[{el:e._get_notification_display_el(),attr:"opacity",start:1,goal:0},{el:e._get_notification_display_el(),attr:"top",start:Ye.NOTIF_TOP,goal:-500},{el:e._get_el("video-noflip"),attr:"opacity",start:0,goal:1},{el:e._get_el("video-noflip"),attr:"top",start:2*-e.video_height,goal:0}];if(e.mini){var r=e._get_el("bg"),n=e._get_el("overlay");r.style.width="100%",r.style.height="100%",n.style.width="100%",e._add_class(e._get_notification_display_el(),"exiting"),e._add_class(r,"visible"),t.push({el:e._get_el("bg"),attr:"opacity",start:0,goal:Ye.BG_OPACITY})}e._get_el("video-holder").innerHTML=e.video_iframe;var a=function(){window.YT&&window.YT.loaded&&e._yt_video_ready(),e.showing_video=!0,e._get_notification_display_el().style.visibility="hidden"};e.flip_animate?(e._add_class("flipper","flipped"),setTimeout(a,Ye.ANIM_TIME)):e._animate_els(t,Ye.ANIM_TIME,a)})),Ye.prototype._track_event=function(e,t,r){this.campaign_id?(t=t||{},t=R.extend(t,{campaign_id:this.campaign_id,message_id:this.message_id,message_type:"web_inapp",message_subtype:this.notif_type}),this.mixpanel.track(e,t,r)):r&&r.call()},Ye.prototype._yt_video_ready=R.safewrap((function(){var e=this;if(!e.video_inited){e.video_inited=!0;var t=e._get_el("video-elapsed"),r=e._get_el("video-time"),n=e._get_el("video-progress");new window.YT.Player(Ye.MARKUP_PREFIX+"-video-frame",{events:{onReady:function(a){var i=a.target,o=i.getDuration(),s=function(e){return("00"+e).slice(-2)},c=function(e){var t=Math.round(o-e),n=Math.floor(t/60),a=Math.floor(n/60);t-=60*n,n-=60*a,r.innerHTML="-"+(a?a+":":"")+s(n)+":"+s(t)};c(0),e._video_progress_checker=window.setInterval((function(){var e=i.getCurrentTime();t.style.width=e/o*100+"%",c(e)}),250),R.register_event(n,"click",(function(e){var t=Math.max(0,e.pageX-n.getBoundingClientRect().left);i.seekTo(o*t/n.clientWidth,!0)}))}}})}}));var Je,Xe,Ze=function(){};R.extend(Ze.prototype,Ce),Ze.prototype._init=function(e){this._mixpanel=e},Ze.prototype.set=be((function(e,t,r){var n=this.set_action(e,t);return R.isObject(e)&&(r=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),n.$set=R.extend({},R.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),n.$set),this._send_request(n,r)})),Ze.prototype.set_once=be((function(e,t,r){var n=this.set_once_action(e,t);return R.isObject(e)&&(r=t),this._send_request(n,r)})),Ze.prototype.unset=be((function(e,t){var r=this.unset_action(e);return this._send_request(r,t)})),Ze.prototype.increment=be((function(e,t,r){var n={},a={};return R.isObject(e)?(R.each(e,(function(e,t){if(!this._is_reserved_property(t)){if(isNaN(parseFloat(e)))return void M.error("Invalid increment value passed to mixpanel.people.increment - must be a number");a[t]=e}}),this),r=t):(R.isUndefined(t)&&(t=1),a[e]=t),n.$add=a,this._send_request(n,r)})),Ze.prototype.append=be((function(e,t,r){R.isObject(e)&&(r=t);var n=this.append_action(e,t);return this._send_request(n,r)})),Ze.prototype.remove=be((function(e,t,r){R.isObject(e)&&(r=t);var n=this.remove_action(e,t);return this._send_request(n,r)})),Ze.prototype.union=be((function(e,t,r){R.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)})),Ze.prototype.track_charge=be((function(e,t,r){if(R.isNumber(e)||(e=parseFloat(e),!isNaN(e)))return this.append("$transactions",R.extend({$amount:e},t),r);M.error("Invalid value passed to mixpanel.people.track_charge - must be a number")})),Ze.prototype.clear_charges=function(e){return this.set("$transactions",[],e)},Ze.prototype.delete_user=function(){if(this._identify_called()){var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)}M.error("mixpanel.people.delete_user() requires you to call identify() first")},Ze.prototype.toString=function(){return this._mixpanel.toString()+".people"},Ze.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var r=this._mixpanel.get_property("$device_id"),n=this._mixpanel.get_property("$user_id"),a=this._mixpanel.get_property("$had_persisted_distinct_id");r&&(e.$device_id=r),n&&(e.$user_id=n),a&&(e.$had_persisted_distinct_id=a);var i=R.encodeDates(e),o=R.truncate(i,255);return this._identify_called()?this._mixpanel._track_or_batch({truncated_data:o,endpoint:this._get_config("api_host")+"/engage/",batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),R.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),o)},Ze.prototype._get_config=function(e){return this._mixpanel.get_config(e)},Ze.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},Ze.prototype._enqueue=function(e){"$set"in e?this._mixpanel.persistence._add_to_people_queue("$set",e):"$set_once"in e?this._mixpanel.persistence._add_to_people_queue("$set_once",e):"$unset"in e?this._mixpanel.persistence._add_to_people_queue("$unset",e):"$add"in e?this._mixpanel.persistence._add_to_people_queue("$add",e):"$append"in e?this._mixpanel.persistence._add_to_people_queue("$append",e):"$remove"in e?this._mixpanel.persistence._add_to_people_queue("$remove",e):"$union"in e?this._mixpanel.persistence._add_to_people_queue("$union",e):M.error("Invalid call to _enqueue():",e)},Ze.prototype._flush_one_queue=function(e,t,r,n){var a=this,i=R.extend({},this._mixpanel.persistence._get_queue(e)),o=i;R.isUndefined(i)||!R.isObject(i)||R.isEmptyObject(i)||(a._mixpanel.persistence._pop_from_people_queue(e,i),n&&(o=n(i)),t.call(a,o,(function(t,n){0===t&&a._mixpanel.persistence._add_to_people_queue(e,i),R.isUndefined(r)||r(t,n)})))},Ze.prototype._flush=function(e,t,r,n,a,i,o){var s=this,c=this._mixpanel.persistence._get_queue("$append"),l=this._mixpanel.persistence._get_queue("$remove");if(this._flush_one_queue("$set",this.set,e),this._flush_one_queue("$set_once",this.set_once,n),this._flush_one_queue("$unset",this.unset,i,(function(e){return R.keys(e)})),this._flush_one_queue("$add",this.increment,t),this._flush_one_queue("$union",this.union,a),!R.isUndefined(c)&&R.isArray(c)&&c.length){for(var u,d=function(e,t){0===e&&s._mixpanel.persistence._add_to_people_queue("$append",u),R.isUndefined(r)||r(e,t)},p=c.length-1;p>=0;p--)u=c.pop(),R.isEmptyObject(u)||s.append(u,d);s._mixpanel.persistence.save()}if(!R.isUndefined(l)&&R.isArray(l)&&l.length){for(var f,h=function(e,t){0===e&&s._mixpanel.persistence._add_to_people_queue("$remove",f),R.isUndefined(o)||o(e,t)},m=l.length-1;m>=0;m--)f=l.pop(),R.isEmptyObject(f)||s.remove(f,h);s._mixpanel.persistence.save()}},Ze.prototype._is_reserved_property=function(e){return"$distinct_id"===e||"$token"===e||"$device_id"===e||"$user_id"===e||"$had_persisted_distinct_id"===e},Ze.prototype.set=Ze.prototype.set,Ze.prototype.set_once=Ze.prototype.set_once,Ze.prototype.unset=Ze.prototype.unset,Ze.prototype.increment=Ze.prototype.increment,Ze.prototype.append=Ze.prototype.append,Ze.prototype.remove=Ze.prototype.remove,Ze.prototype.union=Ze.prototype.union,Ze.prototype.track_charge=Ze.prototype.track_charge,Ze.prototype.clear_charges=Ze.prototype.clear_charges,Ze.prototype.delete_user=Ze.prototype.delete_user,Ze.prototype.toString=Ze.prototype.toString;var Qe=n.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,et=!Qe&&-1===j.indexOf("MSIE")&&-1===j.indexOf("Mozilla"),tt=null;x.sendBeacon&&(tt=function(){return x.sendBeacon.apply(x,arguments)});var rt={api_host:"https://api-js.mixpanel.com",api_method:"POST",api_transport:"XHR",app_host:"https://mixpanel.com",autotrack:!0,cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,ignore_dnt:!1,batch_requests:!1,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4},nt=!1,at=function(){},it=function(e,t,r){var n,i="mixpanel"===r?Xe:Xe[r];if(i&&0===Je)n=i;else{if(i&&!R.isArray(i))return void M.error("You have already initialized "+r);n=new at}if(n._cached_groups={},n._user_decide_check_complete=!1,n._events_tracked_before_user_decide_check_complete=[],n._init(e,t,r),n.people=new Ze,n.people._init(n),a.DEBUG=a.DEBUG||n.get_config("debug"),n.__autotrack_enabled=n.get_config("autotrack"),n.get_config("autotrack")){te.enabledForProject(n.get_config("token"),100,100)?te.isBrowserSupported()?te.init(n):(n.__autotrack_enabled=!1,M.log("Disabling Automatic Event Collection because this browser is not supported")):(n.__autotrack_enabled=!1,M.log("Not in active bucket: disabling Automatic Event Collection."))}return!R.isUndefined(i)&&R.isArray(i)&&(n._execute_array.call(n.people,i.people),n._execute_array(i)),n},ot=function(e){var t=R.JSONEncode(e);return{data:R.base64Encode(t)}};at.prototype.init=function(e,t,r){if(R.isUndefined(r))M.error("You must name your new library: init(token, config, name)");else{if("mixpanel"!==r){var n=it(e,t,r);return Xe[r]=n,n._loaded(),n}M.error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet")}},at.prototype._init=function(e,t,r){this.__loaded=!0,this.config={},this._triggered_notifs=[];var a={};"batch_requests"in(t||{})||!U(e,"batch",10)||(a.batch_requests=!0),this.set_config(R.extend({},rt,a,t,{name:r,token:e,callback_fn:("mixpanel"===r?r:"mixpanel."+r)+"._jsc"})),this._jsc=function(){},this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests&&(R.localStorage.is_supported(!0)&&Qe?(this.start_batch_requests(),tt&&n.addEventListener&&n.addEventListener("unload",R.bind((function(){this.request_batchers.events.flush({sendBeacon:!0})}),this))):(this._batch_requests=!1,M.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"))),this.persistence=this.cookie=new je(this.config),this._gdpr_init();var i=R.UUID();this.get_distinct_id()||this.register_once({distinct_id:i,$device_id:i},"")},at.prototype._loaded=function(){this.get_config("loaded")(this),this._set_default_superprops()},at.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(C.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(C.referrer)},at.prototype._dom_loaded=function(){R.each(this.__dom_loaded_queue,(function(e){this._track_dom.apply(this,e)}),this),this.has_opted_out_tracking()||R.each(this.__request_queue,(function(e){this._send_request.apply(this,e)}),this),delete this.__dom_loaded_queue,delete this.__request_queue},at.prototype._track_dom=function(e,t){if(this.get_config("img"))return M.error("You can't use DOM tracking functions with img = true."),!1;if(!nt)return this.__dom_loaded_queue.push([e,t]),!1;var r=(new e).init(this);return r.track.apply(r,t)},at.prototype._prepare_callback=function(e,t){if(R.isUndefined(e))return null;if(Qe){return function(r){e(r,t)}}var r=this._jsc,n=""+Math.floor(1e8*Math.random()),a=this.get_config("callback_fn")+"["+n+"]";return r[n]=function(a){delete r[n],e(a,t)},a},at.prototype._send_request=function(e,t,r,n){var a=!0;if(et)return this.__request_queue.push(arguments),a;var i={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},o=null;n||!R.isFunction(r)&&"string"!=typeof r||(n=r,r=null),r=R.extend(i,r||{}),Qe||(r.method="GET");var s="POST"===r.method,c=tt&&s&&"sendbeacon"===r.transport.toLowerCase(),l=r.verbose;if(t.verbose&&(l=!0),this.get_config("test")&&(t.test=1),l&&(t.verbose=1),this.get_config("img")&&(t.img=1),Qe||(n?t.callback=n:(l||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=(new Date).getTime().toString(),s&&(o="data="+t.data,delete t.data),e+="?"+R.HTTPBuildQuery(t),"img"in t){var u=C.createElement("img");u.src=e,C.body.appendChild(u)}else if(c)try{a=tt(e,o)}catch(e){M.error(e),a=!1}else if(Qe)try{var d=new XMLHttpRequest;d.open(r.method,e,!0);var p=this.get_config("xhr_headers");if(s&&(p["Content-Type"]="application/x-www-form-urlencoded"),R.each(p,(function(e,t){d.setRequestHeader(t,e)})),r.timeout_ms&&void 0!==d.timeout){d.timeout=r.timeout_ms;var f=(new Date).getTime()}d.withCredentials=!0,d.onreadystatechange=function(){var e;if(4===d.readyState)if(200===d.status){if(n)if(l){var t;try{t=R.JSONDecode(d.responseText)}catch(e){if(M.error(e),!r.ignore_json_errors)return;t=d.responseText}n(t)}else n(Number(d.responseText))}else e=d.timeout&&!d.status&&(new Date).getTime()-f>=d.timeout?"timeout":"Bad HTTP status: "+d.status+" "+d.statusText,M.error(e),n&&n(l?{status:0,error:e,xhr_req:d}:0)},d.send(o)}catch(e){M.error(e),a=!1}else{var h=C.createElement("script");h.type="text/javascript",h.async=!0,h.defer=!0,h.src=e;var m=C.getElementsByTagName("script")[0];m.parentNode.insertBefore(h,m)}return a},at.prototype._execute_array=function(e){var t,r=[],n=[],a=[];R.each(e,(function(e){e&&(t=e[0],R.isArray(t)?a.push(e):"function"==typeof e?e.call(this):R.isArray(e)&&"alias"===t?r.push(e):R.isArray(e)&&-1!==t.indexOf("track")&&"function"==typeof this[t]?a.push(e):n.push(e))}),this);var i=function(e,t){R.each(e,(function(e){if(R.isArray(e[0])){var r=t;R.each(e,(function(e){r=r[e[0]].apply(r,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};i(r,this),i(n,this),i(a,this)},at.prototype.start_batch_requests=function(){var e=this.get_config("token");if(!this.request_batchers.events){var t={libConfig:this.config,sendRequestFunc:R.bind((function(e,t,r,n){this._send_request(this.get_config("api_host")+e,ot(t),r,this._prepare_callback(n,t))}),this)};this.request_batchers={events:new de("__mpq_"+e+"_ev","/track/",t),people:new de("__mpq_"+e+"_pp","/engage/",t),groups:new de("__mpq_"+e+"_gr","/groups/",t)}}R.each(this.request_batchers,(function(e){e.start()}))},at.prototype.stop_batch_requests=function(){this._batch_requests=!1,R.each(this.request_batchers,(function(e){e.stop(),e.clear()}))},at.prototype.push=function(e){this._execute_array([e])},at.prototype.disable=function(e){void 0===e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)},at.prototype._track_or_batch=function(e,t){var r=e.truncated_data,n=e.endpoint,a=e.batcher,i=e.should_send_immediately,o=e.send_request_options||{};t=t||function(){};var s=!0,c=R.bind((function(){return M.log("MIXPANEL REQUEST:"),M.log(r),this._send_request(n,ot(r),o,this._prepare_callback(t,r))}),this);return this._batch_requests&&!i?a.enqueue(r,(function(e){e?t(1,r):c()})):s=c(),s&&r},at.prototype.track=ge((function(e,t,r,n){n||"function"!=typeof r||(n=r,r=null);var a=(r=r||{}).transport;a&&(r.transport=a);var i=r.send_immediately;if("function"!=typeof n&&(n=function(){}),R.isUndefined(e))M.error("No event name provided to mixpanel.track");else{if(!this._event_is_disabled(e)){(t=t||{}).token=this.get_config("token");var o=this.persistence.remove_event_timer(e);if(!R.isUndefined(o)){var s=(new Date).getTime()-o;t.$duration=parseFloat((s/1e3).toFixed(3))}this._set_default_superprops(),t=R.extend({},R.info.properties(),this.persistence.properties(),t);var c=this.get_config("property_blacklist");R.isArray(c)?R.each(c,(function(e){delete t[e]})):M.error("Invalid value for property_blacklist config: "+c);var l={event:e,properties:t},u=this._track_or_batch({truncated_data:R.truncate(l,255),endpoint:this.get_config("api_host")+"/track/",batcher:this.request_batchers.events,should_send_immediately:i,send_request_options:r},n);return this._check_and_handle_triggered_notifications(l),u}n(0)}})),at.prototype.set_group=ge((function(e,t,r){R.isArray(t)||(t=[t]);var n={};return n[e]=t,this.register(n),this.people.set(e,t,r)})),at.prototype.add_group=ge((function(e,t,r){var n=this.get_property(e);if(void 0===n){var a={};a[e]=[t],this.register(a)}else-1===n.indexOf(t)&&(n.push(t),this.register(a));return this.people.union(e,t,r)})),at.prototype.remove_group=ge((function(e,t,r){var n=this.get_property(e);if(void 0!==n){var a=n.indexOf(t);a>-1&&(n.splice(a,1),this.register({group_key:n})),0===n.length&&this.unregister(e)}return this.people.remove(e,t,r)})),at.prototype.track_with_groups=ge((function(e,t,r,n){var a=R.extend({},t||{});return R.each(r,(function(e,t){null!=e&&(a[t]=e)})),this.track(e,a,n)})),at.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)},at.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]},at.prototype.get_group=function(e,t){var r=this._create_map_key(e,t),n=this._cached_groups[r];return void 0!==n&&n._group_key===e&&n._group_id===t||((n=new ke)._init(this,e,t),this._cached_groups[r]=n),n},at.prototype.track_pageview=function(e){R.isUndefined(e)&&(e=C.location.href),this.track("mp_page_view",R.info.pageviewInfo(e))},at.prototype.track_links=function(){return this._track_dom.call(this,ne,arguments)},at.prototype.track_forms=function(){return this._track_dom.call(this,ae,arguments)},at.prototype.time_event=function(e){R.isUndefined(e)?M.error("No event name provided to mixpanel.time_event"):this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime())},at.prototype.register=function(e,t){this.persistence.register(e,t)},at.prototype.register_once=function(e,t,r){this.persistence.register_once(e,t,r)},at.prototype.unregister=function(e){this.persistence.unregister(e)},at.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)},at.prototype.identify=function(e,t,r,n,a,i,o,s){var c=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var l=c;this.register_once({$had_persisted_distinct_id:!0,$device_id:l},"")}e!==c&&e!==this.get_property("__alias")&&(this.unregister("__alias"),this.register({distinct_id:e})),this._check_and_handle_notifications(this.get_distinct_id()),this._flags.identify_called=!0,this.people._flush(t,r,n,a,i,o,s),e!==c&&this.track("$identify",{distinct_id:e,$anon_distinct_id:c})},at.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=R.UUID();this.register_once({distinct_id:e,$device_id:e},"")},at.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},at.prototype.alias=function(e,t){if(e===this.get_property("$people_distinct_id"))return M.critical("Attempting to create alias for existing People user - aborting."),-2;var r=this;return R.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single("__alias",e),this.track("$create_alias",{alias:e,distinct_id:t},(function(){r.identify(e)}))):(M.error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},at.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)},at.prototype.set_config=function(e){R.isObject(e)&&(R.extend(this.config,e),e.batch_size&&R.each(this.request_batchers,(function(e){e.resetBatchSize()})),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),a.DEBUG=a.DEBUG||this.get_config("debug"))},at.prototype.get_config=function(e){return this.config[e]},at.prototype.get_property=function(e){return this.persistence.props[e]},at.prototype.toString=function(){var e=this.get_config("name");return"mixpanel"!==e&&(e="mixpanel."+e),e},at.prototype._event_is_disabled=function(e){return R.isBlockedUA(j)||this._flags.disable_all_events||R.include(this.__disabled_events,e)},at.prototype._check_and_handle_triggered_notifications=ge((function(e){if(this._user_decide_check_complete)for(var t=this._triggered_notifs,r=0;r<t.length;r++){if(new Ye(t[r],this)._matches_event_data(e))return void this._show_notification(t[r])}else this._events_tracked_before_user_decide_check_complete.push(e)})),at.prototype._check_and_handle_notifications=ge((function(e){if(e&&!this._flags.identify_called&&!this.get_config("disable_notifications")){M.log("MIXPANEL NOTIFICATION CHECK");var t={verbose:!0,version:"3",lib:"web",token:this.get_config("token"),distinct_id:e};this._send_request(this.get_config("api_host")+"/decide/",t,{method:"GET",transport:"XHR"},this._prepare_callback(R.bind((function(e){if(e.notifications&&e.notifications.length>0){this._triggered_notifs=[];var t=[];R.each(e.notifications,(function(e){(e.display_triggers&&e.display_triggers.length>0?this._triggered_notifs:t).push(e)}),this),t.length>0&&this._show_notification.call(this,t[0])}this._handle_user_decide_check_complete()}),this)))}})),at.prototype._handle_user_decide_check_complete=function(){this._user_decide_check_complete=!0;for(var e=this._events_tracked_before_user_decide_check_complete;e.length>0;){var t=e.shift();this._check_and_handle_triggered_notifications(t)}},at.prototype._show_notification=function(e){new Ye(e,this).show()},at.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_tracking_persistence_type")&&R.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_tracking()||!this.get_config("opt_out_tracking_by_default")&&!R.cookie.get("mp_optout")||(R.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},at.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else{if(!e||!e.enable_persistence)return;t=!1}this.get_config("disable_persistence")||this.persistence.disabled===t||this.persistence.set_disabled(t),t&&R.each(this.request_batchers,(function(e){e.clear()}))},at.prototype._gdpr_call_func=function(e,t){return t=R.extend({track:R.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),R.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})},at.prototype.opt_in_tracking=function(e){e=R.extend({enable_persistence:!0},e),this._gdpr_call_func(pe,e),this._gdpr_update_persistence(e)},at.prototype.opt_out_tracking=function(e){(e=R.extend({clear_persistence:!0,delete_user:!0},e)).delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(fe,e),this._gdpr_update_persistence(e)},at.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(he,e)},at.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(me,e)},at.prototype.clear_opt_in_out_tracking=function(e){e=R.extend({enable_persistence:!0},e),this._gdpr_call_func(ye,e),this._gdpr_update_persistence(e)},at.prototype.init=at.prototype.init,at.prototype.reset=at.prototype.reset,at.prototype.disable=at.prototype.disable,at.prototype.time_event=at.prototype.time_event,at.prototype.track=at.prototype.track,at.prototype.track_links=at.prototype.track_links,at.prototype.track_forms=at.prototype.track_forms,at.prototype.track_pageview=at.prototype.track_pageview,at.prototype.register=at.prototype.register,at.prototype.register_once=at.prototype.register_once,at.prototype.unregister=at.prototype.unregister,at.prototype.identify=at.prototype.identify,at.prototype.alias=at.prototype.alias,at.prototype.name_tag=at.prototype.name_tag,at.prototype.set_config=at.prototype.set_config,at.prototype.get_config=at.prototype.get_config,at.prototype.get_property=at.prototype.get_property,at.prototype.get_distinct_id=at.prototype.get_distinct_id,at.prototype.toString=at.prototype.toString,at.prototype._check_and_handle_notifications=at.prototype._check_and_handle_notifications,at.prototype._handle_user_decide_check_complete=at.prototype._handle_user_decide_check_complete,at.prototype._show_notification=at.prototype._show_notification,at.prototype.opt_out_tracking=at.prototype.opt_out_tracking,at.prototype.opt_in_tracking=at.prototype.opt_in_tracking,at.prototype.has_opted_out_tracking=at.prototype.has_opted_out_tracking,at.prototype.has_opted_in_tracking=at.prototype.has_opted_in_tracking,at.prototype.clear_opt_in_out_tracking=at.prototype.clear_opt_in_out_tracking,at.prototype.get_group=at.prototype.get_group,at.prototype.set_group=at.prototype.set_group,at.prototype.add_group=at.prototype.add_group,at.prototype.remove_group=at.prototype.remove_group,at.prototype.track_with_groups=at.prototype.track_with_groups,at.prototype.stop_batch_requests=at.prototype.stop_batch_requests,je.prototype.properties=je.prototype.properties,je.prototype.update_search_keyword=je.prototype.update_search_keyword,je.prototype.update_referrer_info=je.prototype.update_referrer_info,je.prototype.get_cross_subdomain=je.prototype.get_cross_subdomain,je.prototype.clear=je.prototype.clear,R.safewrap_class(at,["identify","_check_and_handle_notifications","_show_notification"]);var st={},ct=function(){Xe.init=function(e,t,r){if(r)return Xe[r]||(Xe[r]=st[r]=it(e,t,r),Xe[r]._loaded()),Xe[r];var a=Xe;st.mixpanel?a=st.mixpanel:e&&((a=it(e,t,"mixpanel"))._loaded(),st.mixpanel=a),Xe=a,1===Je&&(n.mixpanel=Xe),R.each(st,(function(e,t){"mixpanel"!==t&&(Xe[t]=e)})),Xe._=R}};var lt=(Je=0,Xe=new at,ct(),Xe.init(),function(){function e(){e.done||(e.done=!0,nt=!0,et=!1,R.each(st,(function(e){e._dom_loaded()})))}if(C.addEventListener)"complete"===C.readyState?e():C.addEventListener("DOMContentLoaded",e,!1);else if(C.attachEvent){C.attachEvent("onreadystatechange",e);var t=!1;try{t=null===n.frameElement}catch(e){}C.documentElement.doScroll&&t&&function t(){try{C.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}e()}()}R.register_event(n,"load",e,!0)}(),Xe);e.exports=lt},function(e,t,r){var n=r(229)((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return a.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return a.ActionCreators}}),Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return i.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return i.isHistory}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return i.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return i.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return i.combineFilters}}),Object.defineProperty(t,"groupByActionTypes",{enumerable:!0,get:function(){return i.groupByActionTypes}}),Object.defineProperty(t,"newHistory",{enumerable:!0,get:function(){return i.newHistory}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var n,a=r(348),i=r(349),o=(n=r(804))&&n.__esModule?n:{default:n}},,,,,,,,,,,,,,,,function(e,t,r){var n=r(285);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(202),a=r(155);e.exports=function(e,t,r,i){var o=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=i?i(r[l],e[l],l,r,e):void 0;void 0===u&&(u=e[l]),o?a(r,l,u):n(r,l,u)}return r}},,,,,,function(e,t){e.exports=require("querystring")},,,,,,,function(e,t,r){"use strict";var n=r(0),a=r(783);if(void 0===n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new n.Component).updater;e.exports=a(n.Component,n.isValidElement,i)},function(e,t){e.exports=function(e,t,r){this.red=e,this.green=t,this.blue=r}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n,a,i){var o=n||"<<anonymous>>",s=i||r;if(null==t[r])return new Error("The "+a+" `"+s+"` is required to make `"+o+"` accessible for users of assistive technologies such as screen readers.");for(var c=arguments.length,l=Array(c>5?c-5:0),u=5;u<c;u++)l[u-5]=arguments[u];return e.apply(void 0,[t,r,n,a,i].concat(l))}},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function e(t,r,i){void 0===i&&(i=[]);var s=t.displayName||t.name||"Component",c=a.isReactComponent(t),l=Object.keys(r),u=l.map(a.defaultKey);!c&&i.length&&invariant(!1);var d=function(e){var i,s;function d(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).handlers=Object.create(null),l.forEach((function(e){var n=r[e];t.handlers[n]=function(r){if(t.props[n]){var a;t._notifying=!0;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];(a=t.props)[n].apply(a,[r].concat(o)),t._notifying=!1}t._values[e]=r,t.unmounted||t.forceUpdate()}})),c&&(t.attachRef=function(e){t.inner=e}),t}s=e,(i=d).prototype=Object.create(s.prototype),i.prototype.constructor=i,i.__proto__=s;var p=d.prototype;return p.shouldComponentUpdate=function(){return!this._notifying},p.componentWillMount=function(){var e=this,t=this.props;this._values=Object.create(null),l.forEach((function(r){e._values[r]=t[a.defaultKey(r)]}))},p.componentWillReceiveProps=function(e){var t=this,r=this.props;l.forEach((function(n){!a.isProp(e,n)&&a.isProp(r,n)&&(t._values[n]=e[a.defaultKey(n)])}))},p.componentWillUnmount=function(){this.unmounted=!0},p.getControlledInstance=function(){return this.inner},p.render=function(){var e=this,r=o({},this.props);u.forEach((function(e){delete r[e]}));var a={};return l.forEach((function(t){var r=e.props[t];a[t]=void 0!==r?r:e._values[t]})),n.default.createElement(t,o({},r,a,this.handlers,{ref:this.attachRef}))},d}(n.default.Component);return d.displayName="Uncontrolled("+s+")",d.propTypes=a.uncontrolledPropTypes(r,s),i.forEach((function(e){d.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}})),d.ControlledComponent=t,d.deferControlTo=function(t,n,a){return void 0===n&&(n={}),e(t,o({},r,n),a)},d};var n=i(r(0)),a=(i(r(133)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(437)));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}e.exports=t.default},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(12),a=r(53);const i=r(148),o=n.remote.app;function s(e){let t=process.env.ROLLBAR_ACCESS_TOKEN||"",r=o.getVersion();return new i({accessToken:t,handleUncaughtExceptions:!0,handleUnhandledRejections:!0,ignoredMessages:[],transform:function(e){e.request.url=c(e.request.url,r),e.body.trace.frames=e.body.trace.frames.map(e=>(e.filename=c(e.filename,r),e))},payload:{environment:"production",version:r,os:process.platform,context:e,client:{javascript:{source_map_enabled:!0,code_version:r,guess_uncaught_frames:!0}},person:{id:a.a.get("payment_id"),email:a.a.get("customer_email")},server:{root:`https://raw.githubusercontent.com/Plotinator/pltr_sourcemaps/main/${r}/`}}})}function c(e,t){const r=`https://raw.githubusercontent.com/Plotinator/pltr_sourcemaps/main/${t}`;return e.includes("app.html")||e.includes("app.bundle.js")?`${r}/app.bundle.js`:e.includes("dashboard.html")||e.includes("dashboard.bundle.js")?`${r}/bashboard.bundle.js`:e.includes("expired.html")||e.includes("expired.bundle.js")?`${r}/expired.bundle.js`:e.includes("verify.html")||e.includes("verify.bundle.js")?`${r}/verify.bundle.js`:`${r}/commons.bundle.js`}},,,,function(e,t,r){var n=r(350),a=r(808),i=r(351),o=r(809);e.exports={xml2js:n,xml2json:a,js2xml:i,json2xml:o}},function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===a}(e)}(e)};var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function o(e,t,r){return e.concat(t).map((function(e){return i(e,r)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function c(e,t){try{return t in e}catch(e){return!1}}function l(e,t,r){var n={};return r.isMergeableObject(e)&&s(e).forEach((function(t){n[t]=i(e[t],r)})),s(t).forEach((function(a){(function(e,t){return c(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(c(e,a)&&r.isMergeableObject(t[a])?n[a]=function(e,t){if(!t.customMerge)return u;var r=t.customMerge(e);return"function"==typeof r?r:u}(a,r)(e[a],t[a],r):n[a]=i(t[a],r))})),n}function u(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||o,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=i;var a=Array.isArray(t);return a===Array.isArray(e)?a?r.arrayMerge(e,t,r):l(e,t,r):i(t,r)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return u(e,r,t)}),{})};var d=u;e.exports=d},function(e,t,r){var n=r(167),a=r(230),i=r(781),o=r(293);e.exports=function(e,t){if(null==e)return{};var r=n(o(e),(function(e){return[e]}));return t=a(t),i(e,r,(function(e,r){return t(e,r[0])}))}},,,,,,,,,function(e,t){e.exports={}},,,,,,,,,,,,function(e,t,r){var n=r(155),a=r(151),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];i.call(e,t)&&a(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},,,,,,,,function(e,t,r){var n=r(295);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},,,function(e,t){e.exports=require("buffer")},,,,,,,,function(e,t){e.exports=require("tls")},,,,,,,,function(e,t,r){var n=r(718),a=r(719),i=r(230),o=r(58);e.exports=function(e,t){return function(r,s){var c=o(r)?n:a,l=t?t():{};return c(r,e,i(s,2),l)}}},,,,,,,function(e,t){e.exports=function(e){return Object.prototype.toString.call(e).slice(8,-1)}},function(e,t,r){var n=r(238).isArray;e.exports={copyOptions:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){"spaces"in e&&("number"==typeof e.spaces||"string"==typeof e.spaces)||(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||n(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},function(e,t){e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},function(e,t){e.exports={ARIAL:"Arial",COMIC_SANS:"Comic Sans MS",GEORGIA:"Georgia",IMPACT:"Impact",TAHOMA:"Tahoma",HELVETICA:"Helvetica",VERDANA:"Verdana",COURIER_NEW:"Courier New",PALATINO:"Palatino Linotype",TIMES_NEW_ROMAN:"Times New Roman"}},,,,function(e,t,r){"use strict";t.__esModule=!0;var n=l(r(83)),a=l(r(2)),i=l(r(0)),o=l(r(8)),s=l(r(272)),c=l(r(101));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r,a));return i.addEventListeners=function(){var e=i.props.event,t=(0,c.default)(i);i.documentMouseCaptureListener=(0,s.default)(t,e,i.handleMouseCapture,!0),i.documentMouseListener=(0,s.default)(t,e,i.handleMouse),i.documentKeyupListener=(0,s.default)(t,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(e){i.preventMouseRootClose=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||!function(e){return 0===e.button}(e)||(0,n.default)(o.default.findDOMNode(i),e.target)},i.handleMouse=function(e){!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(e)},i.handleKeyUp=function(e){27===e.keyCode&&i.props.onRootClose&&i.props.onRootClose(e)},i.preventMouseRootClose=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(i.default.Component);u.displayName="RootCloseWrapper",u.propTypes={onRootClose:a.default.func,children:a.default.element,disabled:a.default.bool,event:a.default.oneOf(["click","mousedown"])},u.defaultProps={event:"click"},t.default=u,e.exports=t.default},,,,,function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=u(r(2)),i=u(r(28)),o=u(r(0)),s=u(r(298)),c=u(r(707)),l=u(r(243));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r,n));return a.handleHidden=function(){var e;(a.setState({exited:!0}),a.props.onExited)&&(e=a.props).onExited.apply(e,arguments)},a.state={exited:!r.show},a.onHiddenListener=a.handleHidden.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,r=e.containerPadding,n=e.target,a=e.placement,i=e.shouldUpdatePosition,u=e.rootClose,d=e.children,p=e.transition,f=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(f.show||p&&!this.state.exited))return null;var h=d;if(h=o.default.createElement(c.default,{container:t,containerPadding:r,target:n,placement:a,shouldUpdatePosition:i},h),p){var m=f.onExit,g=f.onExiting,b=f.onEnter,v=f.onEntering,y=f.onEntered;h=o.default.createElement(p,{in:f.show,appear:!0,onExit:m,onExiting:g,onExited:this.onHiddenListener,onEnter:b,onEntering:v,onEntered:y},h)}return u&&(h=o.default.createElement(l.default,{onRootClose:f.onHide},h)),o.default.createElement(s.default,{container:t},h)},t}(o.default.Component);d.propTypes=n({},s.default.propTypes,c.default.propTypes,{show:a.default.bool,rootClose:a.default.bool,onHide:function(e){var t=a.default.func;e.rootClose&&(t=t.isRequired);for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return t.apply(void 0,[e].concat(n))},transition:i.default,onEnter:a.default.func,onEntering:a.default.func,onEntered:a.default.func,onExit:a.default.func,onExiting:a.default.func,onExited:a.default.func}),t.default=d,e.exports=t.default},function(e,t,r){e.exports=r(763)},function(e,t,r){e.exports=function e(t){"use strict";var r=/^\0+/g,n=/[\0\r\f]/g,a=/: */g,i=/zoo|gra/,o=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,c=/ +\s*(?![^(]*[)])/g,l=/ *[\0] */g,u=/,\r+?/g,d=/([\t\r\n ])*\f?&/g,p=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,f=/\W+/g,h=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,g=/:(read-only)/g,b=/\s+(?=[{\];=:>])/g,v=/([[}=:>])\s+/g,y=/(\{[^{]+?);(?=\})/g,_=/\s{2,}/g,E=/([^\(])(:+) */g,w=/[svh]\w+-[tblr]{2}/,O=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,C=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,j=/([^-])(image-set\()/,S="-webkit-",T="-moz-",A="-ms-",N=59,D=125,P=123,R=40,M=41,F=10,L=13,B=32,q=45,H=42,z=44,U=58,W=47,G=1,V=1,K=0,$=1,Y=1,J=1,X=0,Z=0,Q=0,ee=[],te=[],re=0,ne=null,ae=0,ie=1,oe="",se="",ce="";function le(e,t,a,i,o){for(var s,c,u=0,d=0,p=0,f=0,b=0,v=0,y=0,_=0,w=0,x=0,C=0,k=0,I=0,j=0,T=0,A=0,X=0,te=0,ne=0,de=a.length,be=de-1,ve="",ye="",_e="",Ee="",we="",Oe="";T<de;){if(y=a.charCodeAt(T),T===be&&d+f+p+u!==0&&(0!==d&&(y=d===W?F:W),f=p=u=0,de++,be++),d+f+p+u===0){if(T===be&&(A>0&&(ye=ye.replace(n,"")),ye.trim().length>0)){switch(y){case B:case 9:case N:case L:case F:break;default:ye+=a.charAt(T)}y=N}if(1===X)switch(y){case P:case D:case N:case 34:case 39:case R:case M:case z:X=0;case 9:case L:case F:case B:break;default:for(X=0,ne=T,b=y,T--,y=N;ne<de;)switch(a.charCodeAt(ne++)){case F:case L:case N:++T,y=b,ne=de;break;case U:A>0&&(++T,y=b);case P:ne=de}}switch(y){case P:for(b=(ye=ye.trim()).charCodeAt(0),C=1,ne=++T;T<de;){switch(y=a.charCodeAt(T)){case P:C++;break;case D:C--;break;case W:switch(v=a.charCodeAt(T+1)){case H:case W:T=ge(v,T,be,a)}break;case 91:y++;case R:y++;case 34:case 39:for(;T++<be&&a.charCodeAt(T)!==y;);}if(0===C)break;T++}switch(_e=a.substring(ne,T),0===b&&(b=(ye=ye.replace(r,"").trim()).charCodeAt(0)),b){case 64:switch(A>0&&(ye=ye.replace(n,"")),v=ye.charCodeAt(1)){case 100:case 109:case 115:case q:s=t;break;default:s=ee}if(ne=(_e=le(t,s,_e,v,o+1)).length,Q>0&&0===ne&&(ne=ye.length),re>0&&(c=me(3,_e,s=ue(ee,ye,te),t,V,G,ne,v,o,i),ye=s.join(""),void 0!==c&&0===(ne=(_e=c.trim()).length)&&(v=0,_e="")),ne>0)switch(v){case 115:ye=ye.replace(O,he);case 100:case 109:case q:_e=ye+"{"+_e+"}";break;case 107:_e=(ye=ye.replace(h,"$1 $2"+(ie>0?oe:"")))+"{"+_e+"}",_e=1===Y||2===Y&&fe("@"+_e,3)?"@"+S+_e+"@"+_e:"@"+_e;break;default:_e=ye+_e,112===i&&(Ee+=_e,_e="")}else _e="";break;default:_e=le(t,ue(t,ye,te),_e,i,o+1)}we+=_e,k=0,X=0,j=0,A=0,te=0,I=0,ye="",_e="",y=a.charCodeAt(++T);break;case D:case N:if((ne=(ye=(A>0?ye.replace(n,""):ye).trim()).length)>1)switch(0===j&&((b=ye.charCodeAt(0))===q||b>96&&b<123)&&(ne=(ye=ye.replace(" ",":")).length),re>0&&void 0!==(c=me(1,ye,t,e,V,G,Ee.length,i,o,i))&&0===(ne=(ye=c.trim()).length)&&(ye="\0\0"),b=ye.charCodeAt(0),v=ye.charCodeAt(1),b){case 0:break;case 64:if(105===v||99===v){Oe+=ye+a.charAt(T);break}default:if(ye.charCodeAt(ne-1)===U)break;Ee+=pe(ye,b,v,ye.charCodeAt(2))}k=0,X=0,j=0,A=0,te=0,ye="",y=a.charCodeAt(++T)}}switch(y){case L:case F:if(d+f+p+u+Z===0)switch(x){case M:case 39:case 34:case 64:case 126:case 62:case H:case 43:case W:case q:case U:case z:case N:case P:case D:break;default:j>0&&(X=1)}d===W?d=0:$+k===0&&107!==i&&ye.length>0&&(A=1,ye+="\0"),re*ae>0&&me(0,ye,t,e,V,G,Ee.length,i,o,i),G=1,V++;break;case N:case D:if(d+f+p+u===0){G++;break}default:switch(G++,ve=a.charAt(T),y){case 9:case B:if(f+u+d===0)switch(_){case z:case U:case 9:case B:ve="";break;default:y!==B&&(ve=" ")}break;case 0:ve="\\0";break;case 12:ve="\\f";break;case 11:ve="\\v";break;case 38:f+d+u===0&&$>0&&(te=1,A=1,ve="\f"+ve);break;case 108:if(f+d+u+K===0&&j>0)switch(T-j){case 2:112===_&&a.charCodeAt(T-3)===U&&(K=_);case 8:111===w&&(K=w)}break;case U:f+d+u===0&&(j=T);break;case z:d+p+f+u===0&&(A=1,ve+="\r");break;case 34:case 39:0===d&&(f=f===y?0:0===f?y:f);break;case 91:f+d+p===0&&u++;break;case 93:f+d+p===0&&u--;break;case M:f+d+u===0&&p--;break;case R:if(f+d+u===0){if(0===k)switch(2*_+3*w){case 533:break;default:C=0,k=1}p++}break;case 64:d+p+f+u+j+I===0&&(I=1);break;case H:case W:if(f+u+p>0)break;switch(d){case 0:switch(2*y+3*a.charCodeAt(T+1)){case 235:d=W;break;case 220:ne=T,d=H}break;case H:y===W&&_===H&&ne+2!==T&&(33===a.charCodeAt(ne+2)&&(Ee+=a.substring(ne,T+1)),ve="",d=0)}}if(0===d){if($+f+u+I===0&&107!==i&&y!==N)switch(y){case z:case 126:case 62:case 43:case M:case R:if(0===k){switch(_){case 9:case B:case F:case L:ve+="\0";break;default:ve="\0"+ve+(y===z?"":"\0")}A=1}else switch(y){case R:j+7===T&&108===_&&(j=0),k=++C;break;case M:0==(k=--C)&&(A=1,ve+="\0")}break;case 9:case B:switch(_){case 0:case P:case D:case N:case z:case 12:case 9:case B:case F:case L:break;default:0===k&&(A=1,ve+="\0")}}ye+=ve,y!==B&&9!==y&&(x=y)}}w=_,_=y,T++}if(ne=Ee.length,Q>0&&0===ne&&0===we.length&&0===t[0].length==0&&(109!==i||1===t.length&&($>0?se:ce)===t[0])&&(ne=t.join(",").length+2),ne>0){if(s=0===$&&107!==i?function(e){for(var t,r,a=0,i=e.length,o=Array(i);a<i;++a){for(var s=e[a].split(l),c="",u=0,d=0,p=0,f=0,h=s.length;u<h;++u)if(!(0===(d=(r=s[u]).length)&&h>1)){if(p=c.charCodeAt(c.length-1),f=r.charCodeAt(0),t="",0!==u)switch(p){case H:case 126:case 62:case 43:case B:case R:break;default:t=" "}switch(f){case 38:r=t+se;case 126:case 62:case 43:case B:case M:case R:break;case 91:r=t+r+se;break;case U:switch(2*r.charCodeAt(1)+3*r.charCodeAt(2)){case 530:if(J>0){r=t+r.substring(8,d-1);break}default:(u<1||s[u-1].length<1)&&(r=t+se+r)}break;case z:t="";default:r=d>1&&r.indexOf(":")>0?t+r.replace(E,"$1"+se+"$2"):t+r+se}c+=r}o[a]=c.replace(n,"").trim()}return o}(t):t,re>0&&void 0!==(c=me(2,Ee,s,e,V,G,ne,i,o,i))&&0===(Ee=c).length)return Oe+Ee+we;if(Ee=s.join(",")+"{"+Ee+"}",Y*K!=0){switch(2!==Y||fe(Ee,2)||(K=0),K){case 111:Ee=Ee.replace(g,":-moz-$1")+Ee;break;case 112:Ee=Ee.replace(m,"::"+S+"input-$1")+Ee.replace(m,"::-moz-$1")+Ee.replace(m,":-ms-input-$1")+Ee}K=0}}return Oe+Ee+we}function ue(e,t,r){var n=t.trim().split(u),a=n,i=n.length,o=e.length;switch(o){case 0:case 1:for(var s=0,c=0===o?"":e[0]+" ";s<i;++s)a[s]=de(c,a[s],r,o).trim();break;default:s=0;var l=0;for(a=[];s<i;++s)for(var d=0;d<o;++d)a[l++]=de(e[d]+" ",n[s],r,o).trim()}return a}function de(e,t,r,n){var a=t,i=a.charCodeAt(0);switch(i<33&&(i=(a=a.trim()).charCodeAt(0)),i){case 38:switch($+n){case 0:case 1:if(0===e.trim().length)break;default:return a.replace(d,"$1"+e.trim())}break;case U:switch(a.charCodeAt(1)){case 103:if(J>0&&$>0)return a.replace(p,"$1").replace(d,"$1"+ce);break;default:return e.trim()+a.replace(d,"$1"+e.trim())}default:if(r*$>0&&a.indexOf("\f")>0)return a.replace(d,(e.charCodeAt(0)===U?"":"$1")+e.trim())}return e+a}function pe(e,t,r,n){var l,u=0,d=e+";",p=2*t+3*r+4*n;if(944===p)return function(e){var t=e.length,r=e.indexOf(":",9)+1,n=e.substring(0,r).trim(),a=e.substring(r,t-1).trim();switch(e.charCodeAt(9)*ie){case 0:break;case q:if(110!==e.charCodeAt(10))break;default:var i=a.split((a="",s)),o=0;for(r=0,t=i.length;o<t;r=0,++o){for(var l=i[o],u=l.split(c);l=u[r];){var d=l.charCodeAt(0);if(1===ie&&(d>64&&d<90||d>96&&d<123||95===d||d===q&&l.charCodeAt(1)!==q))switch(isNaN(parseFloat(l))+(-1!==l.indexOf("("))){case 1:switch(l){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:l+=oe}}u[r++]=l}a+=(0===o?"":",")+u.join(" ")}}return a=n+a+";",1===Y||2===Y&&fe(a,1)?S+a+a:a}(d);if(0===Y||2===Y&&!fe(d,1))return d;switch(p){case 1015:return 97===d.charCodeAt(10)?S+d+d:d;case 951:return 116===d.charCodeAt(3)?S+d+d:d;case 963:return 110===d.charCodeAt(5)?S+d+d:d;case 1009:if(100!==d.charCodeAt(4))break;case 969:case 942:return S+d+d;case 978:return S+d+T+d+d;case 1019:case 983:return S+d+T+d+A+d+d;case 883:return d.charCodeAt(8)===q?S+d+d:d.indexOf("image-set(",11)>0?d.replace(j,"$1"+S+"$2")+d:d;case 932:if(d.charCodeAt(4)===q)switch(d.charCodeAt(5)){case 103:return S+"box-"+d.replace("-grow","")+S+d+A+d.replace("grow","positive")+d;case 115:return S+d+A+d.replace("shrink","negative")+d;case 98:return S+d+A+d.replace("basis","preferred-size")+d}return S+d+A+d+d;case 964:return S+d+A+"flex-"+d+d;case 1023:if(99!==d.charCodeAt(8))break;return l=d.substring(d.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),S+"box-pack"+l+S+d+A+"flex-pack"+l+d;case 1005:return i.test(d)?d.replace(a,":"+S)+d.replace(a,":"+T)+d:d;case 1e3:switch(u=(l=d.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(u)){case 226:l=d.replace(w,"tb");break;case 232:l=d.replace(w,"tb-rl");break;case 220:l=d.replace(w,"lr");break;default:return d}return S+d+A+l+d;case 1017:if(-1===d.indexOf("sticky",9))return d;case 975:switch(u=(d=e).length-10,p=(l=(33===d.charCodeAt(u)?d.substring(0,u):d).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(l.charCodeAt(8)<111)break;case 115:d=d.replace(l,S+l)+";"+d;break;case 207:case 102:d=d.replace(l,S+(p>102?"inline-":"")+"box")+";"+d.replace(l,S+l)+";"+d.replace(l,A+l+"box")+";"+d}return d+";";case 938:if(d.charCodeAt(5)===q)switch(d.charCodeAt(6)){case 105:return l=d.replace("-items",""),S+d+S+"box-"+l+A+"flex-"+l+d;case 115:return S+d+A+"flex-item-"+d.replace(C,"")+d;default:return S+d+A+"flex-line-pack"+d.replace("align-content","").replace(C,"")+d}break;case 973:case 989:if(d.charCodeAt(3)!==q||122===d.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?pe(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):d.replace(l,S+l)+d.replace(l,T+l.replace("fill-",""))+d;break;case 962:if(d=S+d+(102===d.charCodeAt(5)?A+d:"")+d,r+n===211&&105===d.charCodeAt(13)&&d.indexOf("transform",10)>0)return d.substring(0,d.indexOf(";",27)+1).replace(o,"$1"+S+"$2")+d}return d}function fe(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10),a=e.substring(r+1,e.length-1);return ne(2!==t?n:n.replace(k,"$1"),a,t)}function he(e,t){var r=pe(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(x," or ($1)").substring(4):"("+t+")"}function me(e,t,r,n,a,i,o,s,c,l){for(var u,d=0,p=t;d<re;++d)switch(u=te[d].call(ve,e,p,r,n,a,i,o,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=u}if(p!==t)return p}function ge(e,t,r,n){for(var a=t+1;a<r;++a)switch(n.charCodeAt(a)){case W:if(e===H&&n.charCodeAt(a-1)===H&&t+2!==a)return a+1;break;case F:if(e===W)return a+1}return a}function be(e){for(var t in e){var r=e[t];switch(t){case"keyframe":ie=0|r;break;case"global":J=0|r;break;case"cascade":$=0|r;break;case"compress":X=0|r;break;case"semicolon":Z=0|r;break;case"preserve":Q=0|r;break;case"prefix":ne=null,r?"function"!=typeof r?Y=1:(Y=2,ne=r):Y=0}}return be}function ve(t,r){if(void 0!==this&&this.constructor===ve)return e(t);var a=t,i=a.charCodeAt(0);i<33&&(i=(a=a.trim()).charCodeAt(0)),ie>0&&(oe=a.replace(f,91===i?"":"-")),i=1,1===$?ce=a:se=a;var o,s=[ce];re>0&&void 0!==(o=me(-1,r,s,s,V,G,0,0,0,0))&&"string"==typeof o&&(r=o);var c=le(ee,s,r,0,0);return re>0&&void 0!==(o=me(-2,c,s,s,V,G,c.length,0,0,0))&&"string"!=typeof(c=o)&&(i=0),oe="",ce="",se="",K=0,V=1,G=1,X*i==0?c:c.replace(n,"").replace(b,"").replace(v,"$1").replace(y,"$1").replace(_," ")}return ve.use=function e(t){switch(t){case void 0:case null:re=te.length=0;break;default:if("function"==typeof t)te[re++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else ae=0|!!t}return e},ve.set=be,void 0!==t&&be(t),ve}(null)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r,n){return"boolean"==typeof e?e:"function"==typeof e?e(t,r,n):!(!0!=!!e||!e)},a=function(e,t){return Object.hasOwnProperty.call(e,t)},i=function(e,t,r,n){return n?new Error(n):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+r+"`.")};t.default=function(e,t,r){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,r),function(o,s,c){for(var l=arguments.length,u=Array(3<l?l-3:0),d=3;d<l;d++)u[d-3]=arguments[d];return n(t,o,s,c)?a(o,s)?e.apply(void 0,[o,s,c].concat(u)):i(o,s,c,r):e.apply(void 0,[o,s,c].concat(u))}}},,,,,,,,,,,,,,,,,,,,function(e,t,r){var n=r(141).f,a=r(143),i=r(89)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},,,,,,,,,,,,,,,,,function(e,t,r){var n=r(286),a=r(550),i=r(103);e.exports=function(e){return i(e)?n(e,!0):a(e)}},,function(e,t,r){var n=r(209),a=r(183),i=r(208),o=r(289),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,i(e)),e=a(e);return t}:o;e.exports=s},,,function(e,t,r){var n=r(292),a=r(290),i=r(288);e.exports=function(e){return n(e,i,a)}},,,,,,,,,,,,,function(e,t){e.exports=require("zlib")},,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n;n=t,function(){function e(e){return e}function t(e){return!1}function r(){}function a(){}r.prototype={chain:function(t,r){var n=this[t];if(!n)throw new Error("unknown hook "+t);this[t]=n===e?r:function(e){var t=Array.prototype.slice.call(arguments,0);return t[0]=n.apply(null,t),r.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},n.HookCollection=r,a.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},n.Converter=function(){var e,t,n,i,o=this.hooks=new r;function s(e){return e=(e=(e=(e=(e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,c)).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,c)).replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,c)).replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,c)).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,c)}function c(e,t){var r=t;return r=(r=r.replace(/^\n+/,"")).replace(/\n+$/g,""),r="\n\n~K"+(n.push(r)-1)+"K\n\n"}o.addNoop("plainLinkText"),o.addNoop("preConversion"),o.addNoop("postNormalization"),o.addNoop("preBlockGamut"),o.addNoop("postBlockGamut"),o.addNoop("preSpanGamut"),o.addNoop("postSpanGamut"),o.addNoop("postConversion"),this.makeHtml=function(r){if(e)throw new Error("Recursive call to converter.makeHtml");return e=new a,t=new a,n=[],i=0,r=(r=w(r="\n\n"+(r=(r=(r=(r=(r=o.preConversion(r)).replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"))+"\n\n")).replace(/^[ \t]+$/gm,""),r=(r=(r=function(e){return e=e.replace(/~E(\d+)E/g,(function(e,t){var r=parseInt(t);return String.fromCharCode(r)}))}(r=u(r=function(r){return r=r.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,(function(r,n,a,i,o,s){return n=n.toLowerCase(),e.set(n,y(a)),o?i:(s&&t.set(n,s.replace(/"/g,"&quot;")),"")}))}(r=s(r=o.postNormalization(r)))))).replace(/~D/g,"$$")).replace(/~T/g,"~"),r=o.postConversion(r),n=t=e=null,r};var l=function(e){return u(e)};function u(e,t){return e=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,(function(e,t){var r=t;return function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.push(e)-1)+"K\n\n"}("<blockquote>\n"+(r=(r=(r=u(r=(r=(r=r.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""))).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var r=t;return r=(r=r.replace(/^  /gm,"~0")).replace(/~0/g,"")})))+"\n</blockquote>")}))}(e=function(e){return e=(e=(e+="~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,(function(e,t,r){var n=t,a=r;return"\n\n"+(n="<pre><code>"+(n=(n=(n=w(n=v(E(n)))).replace(/^\n+/g,"")).replace(/\n+$/g,""))+"\n</code></pre>")+"\n\n"+a}))).replace(/~0/,"")}(e=m(e=(e=(e=(e=function(e){return e=(e=(e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,(function(e,t){return"<h1>"+d(t)+"</h1>\n\n"}))).replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,(function(e,t){return"<h2>"+d(t)+"</h2>\n\n"}))).replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,(function(e,t,r){var n=t.length;return"<h"+n+">"+d(r)+"</h"+n+">\n\n"}))}(e=o.preBlockGamut(e,l))).replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,"<hr />\n")).replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,"<hr />\n")).replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,"<hr />\n")))),e=function(e,t){for(var r=(e=(e=e.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),a=[],i=/~K(\d+)K/,o=r.length,s=0;s<o;s++){var c=r[s];i.test(c)?a.push(c):/\S/.test(c)&&(c=(c=d(c)).replace(/^([ \t]*)/g,"<p>"),c+="</p>",a.push(c))}if(!t){o=a.length;for(s=0;s<o;s++)for(var l=!0;l;)l=!1,a[s]=a[s].replace(/~K(\d+)K/g,(function(e,t){return l=!0,n[t]}))}return a.join("\n\n")}(e=s(e=o.postBlockGamut(e,l)),t)}function d(e){return e=(e=function(e){return e=(e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4")).replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}(e=y(e=(e=function(e){e=e.replace(/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\])])(?=$|\W)/gi,_);return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,(function(e,t){return'<a href="'+t+'">'+o.plainLinkText(t)+"</a>"}))}(e=function(e){return e=(e=(e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p)).replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p)).replace(/(\[([^\[\]]+)\])()()()()()/g,p)}(e=function(e){return e=(e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,h)).replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,h)}(e=function(e){return e=(e=e.replace(/\\(\\)/g,C)).replace(/\\([`*_{}\[\]()>#+-.!])/g,C)}(e=function(e){return e=e.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi,(function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=x(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")}))}(e=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,t,r,n,a){var i=n;return t+"<code>"+(i=(i=v(i=(i=i.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""))).replace(/:\/\//g,"~P"))+"</code>"}))}(e=o.preSpanGamut(e)))))))).replace(/~P/g,"://")))).replace(/  +\n/g," <br>\n"),e=o.postSpanGamut(e)}function p(r,n,a,i,o,s,c,l){null==l&&(l="");var u=n,d=a.replace(/:\/\//g,"~P"),p=i.toLowerCase(),h=o,m=l;if(""==h)if(""==p&&(p=d.toLowerCase().replace(/ ?\n/g," ")),h="#"+p,null!=e.get(p))h=e.get(p),null!=t.get(p)&&(m=t.get(p));else{if(!(u.search(/\(\s*\)$/m)>-1))return u;h=""}var g='<a href="'+(h=x(h=function(e){if(!e)return"";var t=e.length;return e.replace(O,(function(r,n){return"~D"==r?"%24":":"!=r||n!=t-1&&!/[0-9\/]/.test(e.charAt(n+1))?"%"+r.charCodeAt(0).toString(16):":"}))}(h),"*_"))+'"';return""!=m&&(g+=' title="'+(m=x(m=f(m),"*_"))+'"'),g+=">"+d+"</a>"}function f(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function h(r,n,a,i,o,s,c,l){var u=n,d=a,p=i.toLowerCase(),h=o,m=l;if(m||(m=""),""==h){if(""==p&&(p=d.toLowerCase().replace(/ ?\n/g," ")),h="#"+p,null==e.get(p))return u;h=e.get(p),null!=t.get(p)&&(m=t.get(p))}d=x(f(d),"*_[]()");var g='<img src="'+(h=x(h,"*_"))+'" alt="'+d+'"';return g+=' title="'+(m=x(m=f(m),"*_"))+'"',g+=" />"}function m(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return i?e=e.replace(t,(function(e,t,r){var n=t,a=r.search(/[*+-]/g)>-1?"ul":"ol",i=b(n,a);return i="<"+a+">"+(i=i.replace(/\s+$/,""))+"</"+a+">\n"})):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,(function(e,t,r,n){var a=t,i=r,o=n.search(/[*+-]/g)>-1?"ul":"ol",s=b(i,o);return s=a+"<"+o+">\n"+s+"</"+o+">\n"}))),e=e.replace(/~0/,"")}var g={ol:"\\d+[.]",ul:"[*+-]"};function b(e,t){i++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var r=g[t],n=new RegExp("(^[ \\t]*)("+r+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+r+")[ \\t]+))","gm"),a=!1;return e=(e=e.replace(n,(function(e,t,r,n){var i=n,o=/\n\n$/.test(i),s=o||i.search(/\n{2,}/)>-1;return i=s||a?u(E(i),!0):d(i=(i=m(E(i))).replace(/\n$/,"")),a=o,"<li>"+i+"</li>\n"}))).replace(/~0/g,""),i--,e}function v(e){return e=x(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),"*_{}[]\\",!1)}function y(e){return e=(e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function _(e,t,r,n){if(t)return e;if(")"!==n.charAt(n.length-1))return"<"+r+n+">";for(var a=n.match(/[()]/g),i=0,o=0;o<a.length;o++)"("===a[o]?i<=0?i=1:i++:i--;var s="";if(i<0){var c=new RegExp("\\){1,"+-i+"}$");n=n.replace(c,(function(e){return s=e,""}))}return"<"+r+n+">"+s}function E(e){return e=(e=e.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")}function w(e){if(!/\t/.test(e))return e;var t,r=["    ","   ","  "," "],n=0;return e.replace(/[\n\t]/g,(function(e,a){return"\n"===e?(n=a+1,e):(t=(a-n)%4,n=a+1,r[t])}))}var O=/(?:["'*()[\]:]|~D)/g;function x(e,t,r){var n="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";r&&(n="\\\\"+n);var a=new RegExp(n,"g");return e=e.replace(a,C)}function C(e,t){return"~E"+t.charCodeAt(0)+"E"}}}()},function(e,t,r){"use strict";var n=r(42);t.__esModule=!0,t.default=function(e){var t=(0,o.default)(e),r=(0,i.default)(t),n=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,a.default)(n,e))return s;void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect());return s={top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}};var a=n(r(83)),i=n(r(160)),o=n(r(95));e.exports=t.default},function(e,t,r){"use strict";var n=r(42);t.__esModule=!0,t.default=function(e,t){var r=(0,a.default)(e);if(void 0===t)return r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:e.scrollTop;r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,t):e.scrollTop=t};var a=n(r(160));e.exports=t.default},,,,,,,,,function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,r){var n=r(768);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},function(e,t){e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},function(e,t,r){var n=r(236);e.exports=function(e){var t=n(e);return"Object"!==t&&"Array"!==t}},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e){return 0===Object.keys(e).length}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(347);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,i=void 0===r?500:r,o=t.context,s=void 0===o?window:o,c=t.offset,l=void 0===c?0:c,u=t.ease,d=void 0===u?"easeInOutCubic":u,p=t.callback;if("object"===("undefined"==typeof window?"undefined":n(window))){var f=s.scrollTop||window.pageYOffset,h=(0,a.calcEndPoint)(e,s,l),m=performance.now(),g=window.requestAnimationFrame,b=function t(){var r=performance.now()-m,n=(0,a.setPosition)(f,h,r,i,d);s!==window?s.scrollTop=n:window.scroll(0,n),r>i?"function"==typeof p&&p(e):g(t)};b()}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.easeFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},a=t.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};t.setPosition=function(e,t,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"easeInOutCubic";return r>a?t:e+(t-e)*n[i](r/a)},t.calcEndPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a(e))return parseInt(e)+r;var n=t===window?window.pageYOffset:t.scrollTop-t.getBoundingClientRect().top,i="html"===e.nodeName.toLowerCase()?-n:e.getBoundingClientRect().top+n;return i+r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionCreators=t.ActionTypes=void 0;var n={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionTypes=n;var a={undo:function(){return{type:n.UNDO}},redo:function(){return{type:n.REDO}},jumpToFuture:function(e){return{type:n.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:n.JUMP_TO_PAST,index:e}},jump:function(e){return{type:n.JUMP,index:e}},clearHistory:function(){return{type:n.CLEAR_HISTORY}}};t.ActionCreators=a},function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=n,t.isHistory=function(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)},t.includeAction=function(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0}},t.excludeAction=function(e){var t=n(e);return function(e){return t.indexOf(e.type)<0}},t.combineFilters=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}),(function(){return!0}))},t.groupByActionTypes=function(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}},t.newHistory=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:t,future:r,group:n,_latestUnfiltered:t,index:e.length,limit:e.length+r.length+1}}},function(e,t,r){var n,a,i=r(806),o=r(237),s=r(238).isArray;function c(e){var t=Number(e);if(!isNaN(t))return t;var r=e.toLowerCase();return"true"===r||"false"!==r&&e}function l(e,t){var r;if(n.compact){if(!a[n[e+"Key"]]&&(s(n.alwaysArray)?-1!==n.alwaysArray.indexOf(n[e+"Key"]):n.alwaysArray)&&(a[n[e+"Key"]]=[]),a[n[e+"Key"]]&&!s(a[n[e+"Key"]])&&(a[n[e+"Key"]]=[a[n[e+"Key"]]]),e+"Fn"in n&&"string"==typeof t&&(t=n[e+"Fn"](t,a)),"instruction"===e&&("instructionFn"in n||"instructionNameFn"in n))for(r in t)if(t.hasOwnProperty(r))if("instructionFn"in n)t[r]=n.instructionFn(t[r],r,a);else{var i=t[r];delete t[r],t[n.instructionNameFn(r,i,a)]=i}s(a[n[e+"Key"]])?a[n[e+"Key"]].push(t):a[n[e+"Key"]]=t}else{a[n.elementsKey]||(a[n.elementsKey]=[]);var o={};if(o[n.typeKey]=e,"instruction"===e){for(r in t)if(t.hasOwnProperty(r))break;o[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(r,t,a):r,n.instructionHasAttributes?(o[n.attributesKey]=t[r][n.attributesKey],"instructionFn"in n&&(o[n.attributesKey]=n.instructionFn(o[n.attributesKey],r,a))):("instructionFn"in n&&(t[r]=n.instructionFn(t[r],r,a)),o[n.instructionKey]=t[r])}else e+"Fn"in n&&(t=n[e+"Fn"](t,a)),o[n[e+"Key"]]=t;n.addParent&&(o[n.parentKey]=a),a[n.elementsKey].push(o)}}function u(e){var t;if("attributesFn"in n&&e&&(e=n.attributesFn(e,a)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(n.trim&&(e[t]=e[t].trim()),n.nativeTypeAttributes&&(e[t]=c(e[t])),"attributeValueFn"in n&&(e[t]=n.attributeValueFn(e[t],t,a)),"attributeNameFn"in n)){var r=e[t];delete e[t],e[n.attributeNameFn(t,e[t],a)]=r}return e}function d(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||n.instructionHasAttributes)){for(var r,i=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(r=i.exec(e.body));)t[r[1]]=r[2]||r[3]||r[4];t=u(t)}if("xml"===e.name.toLowerCase()){if(n.ignoreDeclaration)return;a[n.declarationKey]={},Object.keys(t).length&&(a[n.declarationKey][n.attributesKey]=t),n.addParent&&(a[n.declarationKey][n.parentKey]=a)}else{if(n.ignoreInstruction)return;n.trim&&(e.body=e.body.trim());var o={};n.instructionHasAttributes&&Object.keys(t).length?(o[e.name]={},o[e.name][n.attributesKey]=t):o[e.name]=e.body,l("instruction",o)}}function p(e,t){var r;if("object"==typeof e&&(t=e.attributes,e=e.name),t=u(t),"elementNameFn"in n&&(e=n.elementNameFn(e,a)),n.compact){var i;if(r={},!n.ignoreAttributes&&t&&Object.keys(t).length)for(i in r[n.attributesKey]={},t)t.hasOwnProperty(i)&&(r[n.attributesKey][i]=t[i]);e in a||(s(n.alwaysArray)?-1===n.alwaysArray.indexOf(e):!n.alwaysArray)||(a[e]=[]),a[e]&&!s(a[e])&&(a[e]=[a[e]]),s(a[e])?a[e].push(r):a[e]=r}else a[n.elementsKey]||(a[n.elementsKey]=[]),(r={})[n.typeKey]="element",r[n.nameKey]=e,!n.ignoreAttributes&&t&&Object.keys(t).length&&(r[n.attributesKey]=t),n.alwaysChildren&&(r[n.elementsKey]=[]),a[n.elementsKey].push(r);r[n.parentKey]=a,a=r}function f(e){n.ignoreText||(e.trim()||n.captureSpacesBetweenElements)&&(n.trim&&(e=e.trim()),n.nativeType&&(e=c(e)),n.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",e))}function h(e){n.ignoreComment||(n.trim&&(e=e.trim()),l("comment",e))}function m(e){var t=a[n.parentKey];n.addParent||delete a[n.parentKey],a=t}function g(e){n.ignoreCdata||(n.trim&&(e=e.trim()),l("cdata",e))}function b(e){n.ignoreDoctype||(e=e.replace(/^ /,""),n.trim&&(e=e.trim()),l("doctype",e))}function v(e){e.note=e}e.exports=function(e,t){var r=i.parser(!0,{}),s={};if(a=s,n=function(e){return n=o.copyOptions(e),o.ensureFlagExists("ignoreDeclaration",n),o.ensureFlagExists("ignoreInstruction",n),o.ensureFlagExists("ignoreAttributes",n),o.ensureFlagExists("ignoreText",n),o.ensureFlagExists("ignoreComment",n),o.ensureFlagExists("ignoreCdata",n),o.ensureFlagExists("ignoreDoctype",n),o.ensureFlagExists("compact",n),o.ensureFlagExists("alwaysChildren",n),o.ensureFlagExists("addParent",n),o.ensureFlagExists("trim",n),o.ensureFlagExists("nativeType",n),o.ensureFlagExists("nativeTypeAttributes",n),o.ensureFlagExists("sanitize",n),o.ensureFlagExists("instructionHasAttributes",n),o.ensureFlagExists("captureSpacesBetweenElements",n),o.ensureAlwaysArrayExists(n),o.ensureKeyExists("declaration",n),o.ensureKeyExists("instruction",n),o.ensureKeyExists("attributes",n),o.ensureKeyExists("text",n),o.ensureKeyExists("comment",n),o.ensureKeyExists("cdata",n),o.ensureKeyExists("doctype",n),o.ensureKeyExists("type",n),o.ensureKeyExists("name",n),o.ensureKeyExists("elements",n),o.ensureKeyExists("parent",n),o.checkFnExists("doctype",n),o.checkFnExists("instruction",n),o.checkFnExists("cdata",n),o.checkFnExists("comment",n),o.checkFnExists("text",n),o.checkFnExists("instructionName",n),o.checkFnExists("elementName",n),o.checkFnExists("attributeName",n),o.checkFnExists("attributeValue",n),o.checkFnExists("attributes",n),n}(t),r.opt={strictEntities:!0},r.onopentag=p,r.ontext=f,r.oncomment=h,r.onclosetag=m,r.onerror=v,r.oncdata=g,r.ondoctype=b,r.onprocessinginstruction=d,r.write(e).close(),s[n.elementsKey]){var c=s[n.elementsKey];delete s[n.elementsKey],s[n.elementsKey]=c,delete s.text}return s}},function(e,t,r){var n,a,i=r(237),o=r(238).isArray;function s(e,t,r){return(!r&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function c(e,t,r){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,a,n));var i,o,c,l,u=[];for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&void 0!==e[i]&&(l=t.noQuotesForNativeAttributes&&"string"!=typeof e[i]?"":'"',o=(o=""+e[i]).replace(/"/g,"&quot;"),c="attributeNameFn"in t?t.attributeNameFn(i,o,a,n):i,u.push(t.spaces&&t.indentAttributes?s(t,r+1,!1):" "),u.push(c+"="+l+("attributeValueFn"in t?t.attributeValueFn(o,i,a,n):o)+l));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&u.push(s(t,r,!1)),u.join("")}function l(e,t,r){return n=e,a="xml",t.ignoreDeclaration?"":"<?xml"+c(e[t.attributesKey],t,r)+"?>"}function u(e,t,r){if(t.ignoreInstruction)return"";var i;for(i in e)if(e.hasOwnProperty(i))break;var o="instructionNameFn"in t?t.instructionNameFn(i,e[i],a,n):i;if("object"==typeof e[i])return n=e,a=o,"<?"+o+c(e[i][t.attributesKey],t,r)+"?>";var s=e[i]?e[i]:"";return"instructionFn"in t&&(s=t.instructionFn(s,i,a,n)),"<?"+o+(s?" "+s:"")+"?>"}function d(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,a,n):e)+"--\x3e"}function p(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,a,n):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,a,n):e)+">"}function h(e,t){return t.ignoreText?"":(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,a,n):e)}function m(e,t,r,i){return e.reduce((function(e,o){var l=s(t,r,i&&!e);switch(o.type){case"element":return e+l+function(e,t,r){n=e,a=e.name;var i=[],o="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;i.push("<"+o),e[t.attributesKey]&&i.push(c(e[t.attributesKey],t,r));var s=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"];return s||(s="fullTagEmptyElementFn"in t?t.fullTagEmptyElementFn(e.name,e):t.fullTagEmptyElement),s?(i.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(i.push(m(e[t.elementsKey],t,r+1)),n=e,a=e.name),i.push(t.spaces&&function(e,t){var r;if(e.elements&&e.elements.length)for(r=0;r<e.elements.length;++r)switch(e.elements[r][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":default:return!0}return!1}(e,t)?"\n"+Array(r+1).join(t.spaces):""),i.push("</"+o+">")):i.push("/>"),i.join("")}(o,t,r);case"comment":return e+l+d(o[t.commentKey],t);case"doctype":return e+l+f(o[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?l:"")+p(o[t.cdataKey],t);case"text":return e+(t.indentText?l:"")+h(o[t.textKey],t);case"instruction":var g={};return g[o[t.nameKey]]=o[t.attributesKey]?o:o[t.instructionKey],e+(t.indentInstruction?l:"")+u(g,t,r)}}),"")}function g(e,t,r){var n;for(n in e)if(e.hasOwnProperty(n))switch(n){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||r)return!0;break;case t.cdataKey:if(t.indentCdata||r)return!0;break;case t.instructionKey:if(t.indentInstruction||r)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function b(e,t,r,i,o){n=e,a=t;var l="elementNameFn"in r?r.elementNameFn(t,e):t;if(null==e||""===e)return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(t,e)||r.fullTagEmptyElement?"<"+l+"></"+l+">":"<"+l+"/>";var u=[];if(t){if(u.push("<"+l),"object"!=typeof e)return u.push(">"+h(e,r)+"</"+l+">"),u.join("");e[r.attributesKey]&&u.push(c(e[r.attributesKey],r,i));var d=g(e,r,!0)||e[r.attributesKey]&&"preserve"===e[r.attributesKey]["xml:space"];if(d||(d="fullTagEmptyElementFn"in r?r.fullTagEmptyElementFn(t,e):r.fullTagEmptyElement),!d)return u.push("/>"),u.join("");u.push(">")}return u.push(v(e,r,i+1,!1)),n=e,a=t,t&&u.push((o?s(r,i,!1):"")+"</"+l+">"),u.join("")}function v(e,t,r,n){var a,i,c,m=[];for(i in e)if(e.hasOwnProperty(i))for(c=o(e[i])?e[i]:[e[i]],a=0;a<c.length;++a){switch(i){case t.declarationKey:m.push(l(c[a],t,r));break;case t.instructionKey:m.push((t.indentInstruction?s(t,r,n):"")+u(c[a],t,r));break;case t.attributesKey:case t.parentKey:break;case t.textKey:m.push((t.indentText?s(t,r,n):"")+h(c[a],t));break;case t.cdataKey:m.push((t.indentCdata?s(t,r,n):"")+p(c[a],t));break;case t.doctypeKey:m.push(s(t,r,n)+f(c[a],t));break;case t.commentKey:m.push(s(t,r,n)+d(c[a],t));break;default:m.push(s(t,r,n)+b(c[a],i,t,r,g(c[a],t)))}n=n&&!m.length}return m.join("")}e.exports=function(e,t){t=function(e){var t=i.copyOptions(e);return i.ensureFlagExists("ignoreDeclaration",t),i.ensureFlagExists("ignoreInstruction",t),i.ensureFlagExists("ignoreAttributes",t),i.ensureFlagExists("ignoreText",t),i.ensureFlagExists("ignoreComment",t),i.ensureFlagExists("ignoreCdata",t),i.ensureFlagExists("ignoreDoctype",t),i.ensureFlagExists("compact",t),i.ensureFlagExists("indentText",t),i.ensureFlagExists("indentCdata",t),i.ensureFlagExists("indentAttributes",t),i.ensureFlagExists("indentInstruction",t),i.ensureFlagExists("fullTagEmptyElement",t),i.ensureFlagExists("noQuotesForNativeAttributes",t),i.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),i.ensureKeyExists("declaration",t),i.ensureKeyExists("instruction",t),i.ensureKeyExists("attributes",t),i.ensureKeyExists("text",t),i.ensureKeyExists("comment",t),i.ensureKeyExists("cdata",t),i.ensureKeyExists("doctype",t),i.ensureKeyExists("type",t),i.ensureKeyExists("name",t),i.ensureKeyExists("elements",t),i.checkFnExists("doctype",t),i.checkFnExists("instruction",t),i.checkFnExists("cdata",t),i.checkFnExists("comment",t),i.checkFnExists("text",t),i.checkFnExists("instructionName",t),i.checkFnExists("elementName",t),i.checkFnExists("attributeName",t),i.checkFnExists("attributeValue",t),i.checkFnExists("attributes",t),i.checkFnExists("fullTagEmptyElement",t),t}(t);var r=[];return n=e,a="_root_",t.compact?r.push(v(e,t,0,!0)):(e[t.declarationKey]&&r.push(l(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&r.push(m(e[t.elementsKey],t,0,!r.length))),r.join("")}},function(e,t,r){var n=r(170);e.exports={BLACK:new n(0,0,0),WHITE:new n(255,255,255),RED:new n(255,0,0),BLUE:new n(0,0,255),LIME:new n(191,255,0),YELLOW:new n(255,255,0),MAROON:new n(128,0,0),GREEN:new n(0,255,0),GRAY:new n(80,80,80),ORANGE:new n(255,127,0)}},function(e,t,r){var n=r(812),a=r(94),i=Array.isArray;function o(e,t,r){if(!Array.isArray(r))return 0;var n=r.length,a=e=>e<0?n:e;return a(r.indexOf(e))-a(r.indexOf(t))}function s(e,t){return o(e,t,n.entitiesFirst)-o(e,t,n.oprionsLast)}var c=r(73)({__constructor:function(e){Object.assign(this,e)},_notEmptyKey:function(e){return n.entities[e]&&void 0!==this[e]&&null!==this[e]&&!1!==this[e]},testFilter:function(e,t,r){if(!t)return!0;var n=e.filter;return n?(i(n)||(n=[n]),i(t)||(t=[t]),t.some(e=>n.includes(e))):!r},compile:function(e){var t=(e=e||{}).filter||this.filter,r=e.strictFilter||this.strictFilter;return Object.keys(this).filter(this._notEmptyKey,this).sort(s).map(e=>{var t=n.entities[e];return!0===t&&(t=e),t="string"==typeof t?{key:e,name:t,prefix:"\\"}:Object.assign({prefix:"\\",key:e},t)},this).filter(e=>!e.wrap).filter(e=>this.testFilter(e,t,r)).filter(e=>"function"!=typeof e.test||e.test.call(this,this[e.key]),this).map(e=>{var t=!0===this[e.key]?"":this[e.key];"function"==typeof e.value?t=e.value.call(this,this[e.key]):"object"==typeof e.value&&e.value[this[e.key]]&&(t=e.value[this[e.key]]);var r=[e.prefix,e.name,t].join("");return a.makeRtfCmd(r,"",e.postfix)},this).join("")},applyWrappers:function(e,t){var r=(t=t||{}).filter||this.filter,i=t.strictFilter||this.strictFilter;return Object.keys(this).filter(e=>"object"==typeof n.entities[e]&&n.entities[e].wrap).sort(s).reverse().map(e=>{var t=n.entities[e];return t=Object.assign({key:e,prefix:"\\"+t.name,postfix:"\\"+t.name+"0"},t)},this).filter(e=>this.testFilter(e,r,i)).filter(t=>"function"!=typeof t.test||t.test.call(this,e),this).reduce((e,t,r)=>a.makeRtfCmd(t.prefix,e,t.postfix),e)}});e.exports=c},,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(440)},,function(e,t){function r(e,t,r){var n,a,i,o,s;function c(){var l=Date.now()-o;l<t&&l>=0?n=setTimeout(c,t-l):(n=null,r||(s=e.apply(i,a),i=a=null))}null==t&&(t=100);var l=function(){i=this,a=arguments,o=Date.now();var l=r&&!n;return n||(n=setTimeout(c,t)),l&&(s=e.apply(i,a),i=a=null),s};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(s=e.apply(i,a),i=a=null,clearTimeout(n),n=null)},l}r.debounce=r,e.exports=r},function(e,t,r){"use strict";e.exports=function(e){if(e=String(e||""),a.test(e))return"rtl";if(i.test(e))return"ltr";return"neutral"};var n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",a=new RegExp("^[^"+n+"]*[֑-߿יִ-﷽ﹰ-ﻼ]"),i=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+n+"]")},function(e,t,r){(function(e){var n;/*! https://mths.be/esrever v0.2.0 by @mathias */!function(a){var i=t,o=(e&&e.exports,"object"==typeof global&&global);o.global!==o&&o.window;var s=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,l=function(e){for(var t="",r=(e=e.replace(s,(function(e,t,r){return l(r)+t})).replace(c,"$2$1")).length;r--;)t+=e.charAt(r);return t},u={version:"0.2.0",reverse:l};void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n)}()}).call(this,r(76)(e))},function(e,t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"changeHeightWidth",value:function(e,t,r,n){return r>n&&(e=Math.round(e*n/r),r=n),e>t&&(r=Math.round(r*t/e),e=t),{height:e,width:r}}},{key:"resizeAndRotateImage",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"jpeg",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=a/100,s=document.createElement("canvas"),c=e.width,l=e.height,u=this.changeHeightWidth(l,r,c,t);!i||90!==i&&270!==i?(s.width=u.width,s.height=u.height):(s.width=u.height,s.height=u.width),c=u.width,l=u.height;var d=s.getContext("2d");return i&&(d.rotate(i*Math.PI/180),90===i?d.translate(0,-s.width):180===i?d.translate(-s.width,-s.height):270===i?d.translate(-s.height,0):0!==i&&360!==i||d.translate(0,0)),d.drawImage(e,0,0,c,l),s.toDataURL("image/".concat(n),o)}},{key:"b64toBlob",value:function(e,t){t=t||"image/jpeg";for(var r=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg);base64,/,"")),n=[],a=0;a<r.length;a+=512){for(var i=r.slice(a,a+512),o=new Array(i.length),s=0;s<i.length;s++)o[s]=i.charCodeAt(s);var c=new Uint8Array(o);n.push(c)}return new Blob(n,{type:t})}},{key:"createResizedImage",value:function(t,r,n,a,i,o,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",l=null,u=new FileReader;t?(u.readAsDataURL(t),u.onload=function(){var t=new Image;t.src=u.result,t.onload=function(){var u=e.resizeAndRotateImage(t,r,n,a,i,o);l=e.b64toBlob(u,"image/".concat(a)),s("blob"===c?l:u)}},u.onerror=function(e){s(e)}):s("File Not Found")}}],null&&n(t.prototype,null),r&&n(t,r),e}();t.default={imageFileResizer:function(e,t,r,n,i,o,s,c){return a.createResizedImage(e,t,r,n,i,o,s,c)}}}])},function(e){e.exports=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga"]},function(e,t,r){e.exports=r(760)},function(e,t,r){var n=r(767);e.exports=function(e){return e&&e.length?n(e):[]}},function(e,t,r){var n=r(774),a=r(336),i=r(337),o=r(775),s=i((function(e,t){return o(e)?n(e,a(t,1,o,!0)):[]}));e.exports=s},function(e,t){function r(e,t,r){return function(n){var a=Math.floor(n/e);return a+" "+(t+(a>1?"s":""))+" "+r}}var n=[{threshold:1,handler:function(){return"just now"}},{threshold:60,handler:r(1,"second","ago")},{threshold:3600,handler:r(60,"minute","ago")},{threshold:86400,handler:r(3600,"hour","ago")},{threshold:172800,handler:function(){return"yesterday"}},{threshold:604800,handler:r(86400,"day","ago")},{threshold:2592e3,handler:r(604800,"week","ago")},{threshold:31536e3,handler:r(2592e3,"month","ago")},{threshold:1/0,handler:r(31536e3,"year","ago")}],a={format:function(e){for(var t=((new Date).getTime()-e.getTime())/1e3,r=0;r<n.length;r++)if(t<n[r].threshold)return n[r].handler(t);throw new Error("exhausted all formatter options, none found")}};e.exports=a},function(e,t,r){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,a,i,o,s,c,l,u,d){switch(r){case 1:if(0===u&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===l)return n+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(a[0]+n),"";default:return n+(0===d?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t,r){for(var n=!0;n;){var a=e,i=t,o=r;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=i,r=o,n=!0,s=l=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=o(r(776)),l=r(0),u=o(l);t.default=function(e){return function(t){function r(){s(this,r),i(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),a(r,[{key:"shouldComponentUpdate",value:function(e,t){return(0,c.default)(this,e,t)}},{key:"render",value:function(){return u.default.createElement(e,n({},this.props,this.state))}}]),r}(l.Component)},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(778),a=r(779);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return"number"==typeof e}))}t.default=function(e,t){if(!e||!t)throw new Error("Missing required parameters");return{changed:function(r){var i=a.get(e,r),o=a.get(t,r);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(Array.isArray)}(i,o)||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){if(!e)return!1;var t=Object.getPrototypeOf(e);return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&(null===t||t===Object.getPrototypeOf({}))}))}(i,o)?!!n.diff(i,o):i!==o},changedFrom:function(r,n,i){if(void 0===r)throw new Error("Key parameter is required");var o=void 0!==n&&void 0!==i,s=a.get(e,r),c=a.get(t,r),l=Array.isArray(n)?n.indexOf(s)>=0:s===n,u=Array.isArray(i)?i.indexOf(c)>=0:c===i;return l&&(o?u:!o)},changedTo:function(r,n){if(void 0===r)throw new Error("Key parameter is required");var i=a.get(e,r),o=a.get(t,r),s=Array.isArray(n)?n.indexOf(i)<0:i!==n,c=Array.isArray(n)?n.indexOf(o)>=0:o===n;return s&&c},increased:function(r){if(void 0===r)throw new Error("Key parameter is required");return i(a.get(e,r),a.get(t,r))&&a.get(e,r)<a.get(t,r)},decreased:function(r){if(void 0===r)throw new Error("Key parameter is required");return i(a.get(e,r),a.get(t,r))&&a.get(e,r)>a.get(t,r)}}}},function(e,t,r){"use strict";e.exports=r(780)},function(e,t,r){var n;"undefined"!=typeof self&&self,e.exports=(n=r(0),function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=60)}([function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t,r){return e||console.error("theme has not been set"),c(e)(t,r)};var a=r(64),i=function(e){return e&&e.__esModule?e:{default:e}}(r(65)),o=r(66),s=function(e){var t=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base02,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}}(e);return{"app-container":{fontFamily:i.default.globalFontFamily,cursor:i.default.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:i.default.ellipsisFontSize,lineHeight:i.default.ellipsisLineHeight,cursor:i.default.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:i.default.braceCursor,fontWeight:i.default.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:i.default.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,r){return{style:n({paddingTop:i.default.keyValPaddingTop,paddingRight:i.default.keyValPaddingRight,paddingBottom:i.default.keyValPaddingBottom,borderLeft:i.default.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:r.paddingLeft-1+"px",borderLeft:i.default.keyValBorderHover+" "+t.objectBorder}},r)}},"object-key-val-no-border":{padding:i.default.keyValPadding},"pushed-content":{marginLeft:i.default.pushedContentMarginLeft},variableValue:function(e,t){return{style:n({display:"inline-block",paddingRight:i.default.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:i.default.keyLetterSpacing,fontStyle:i.default.keyFontStyle,verticalAlign:i.default.keyVerticalAlign,opacity:i.default.keyOpacity,":hover":{opacity:i.default.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:i.default.keyLetterSpacing,fontStyle:i.default.keyFontStyle,verticalAlign:i.default.keyVerticalAlign,opacity:i.default.keyOpacity,":hover":{opacity:i.default.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:i.default.objectSizeBorderRadius,fontStyle:i.default.objectSizeFontStyle,margin:i.default.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:i.default.dataTypeFontSize,marginRight:i.default.dataTypeMarginRight,opacity:i.default.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:i.default.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontSize:i.default.nanFontSize,fontWeight:i.default.nanFontWeight,backgroundColor:t.dataTypes.background,padding:i.default.nanPadding,borderRadius:i.default.nanBorderRadius},null:{display:"inline-block",color:t.dataTypes.null,fontSize:i.default.nullFontSize,fontWeight:i.default.nullFontWeight,backgroundColor:t.dataTypes.background,padding:i.default.nullPadding,borderRadius:i.default.nullBorderRadius},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:i.default.undefinedFontSize,padding:i.default.undefinedPadding,borderRadius:i.default.undefinedBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:i.default.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:i.default.iconFontSize,marginRight:i.default.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:i.default.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:i.default.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:i.default.metaDataPadding},"icon-container":{display:"inline-block",width:i.default.iconContainerWidth},tooltip:{padding:i.default.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:i.default.iconCursor,fontSize:i.default.iconFontSize,marginRight:i.default.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:i.default.iconCursor,fontSize:i.default.iconFontSize,marginRight:i.default.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:i.default.iconCursor,fontSize:i.default.iconFontSize,marginRight:i.default.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:i.default.iconCursor,color:t.editVariable.checkIcon,fontSize:i.default.iconFontSize,paddingRight:i.default.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:i.default.iconCursor,color:t.editVariable.cancelIcon,fontSize:i.default.iconFontSize,paddingRight:i.default.iconPaddingRight},"edit-input":{display:"inline-block",minHeight:i.default.editInputHeight,minWidth:i.default.editInputMinWidth,borderRadius:i.default.editInputBorderRadius,backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:i.default.editInputPadding,marginRight:i.default.editInputMarginRight,fontFamily:i.default.editInputFontFamily},"detected-row":{paddingTop:i.default.detectedRowPaddingTop},"key-modal-request":{position:i.default.addKeyCoverPosition,top:i.default.addKeyCoverPositionPx,left:i.default.addKeyCoverPositionPx,right:i.default.addKeyCoverPositionPx,bottom:i.default.addKeyCoverPositionPx,backgroundColor:i.default.addKeyCoverBackground},"key-modal":{width:i.default.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:i.default.addKeyModalMargin,marginRight:i.default.addKeyModalMargin,padding:i.default.addKeyModalPadding,borderRadius:i.default.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:i.default.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:i.default.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:i.default.ellipsisFontSize,lineHeight:i.default.ellipsisLineHeight,cursor:i.default.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:i.default.iconFontSize,transform:"rotate(45deg)"}}},c=function(e){var t=a.rjv_default;return!1!==e&&"none"!==e||(t=a.rjv_grey),(0,o.createStyling)(s,{defaultBase16:t})(e)}},function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(32)("wks"),a=r(23),i=r(5).Symbol,o="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},function(e,t,r){"use strict";function n(e){var t=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),t}Object.defineProperty(t,"__esModule",{value:!0}),t.toType=n,t.isTheme=function(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===n(e)){for(var r=0;r<t.length;r++)if(!(t[r]in e))return!1;return!0}return!1}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(0)),l=n(r(1)),u=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=(e.rjvId,e.type_name),r=e.displayDataTypes,n=e.theme;return r?c.default.createElement("span",o({className:"data-type-label"},(0,l.default)(n,"data-type-label")),t):null}}]),t}(c.default.PureComponent);t.default=u},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(9),a=r(22);e.exports=r(10)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(16),a=r(44),i=r(29),o=Object.defineProperty;t.f=r(10)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(49),a=r(28);e.exports=function(e){return n(a(e))}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(161),c=function(e){return e&&e.__esModule?e:{default:e}}(r(14)),l=r(4),u=new(function(e){function t(){var e,r,s;a(this,t);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return r=s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),s.objects={},s.set=function(e,t,r,n){void 0===s.objects[e]&&(s.objects[e]={}),void 0===s.objects[e][t]&&(s.objects[e][t]={}),s.objects[e][t][r]=n},s.get=function(e,t,r,n){return void 0===s.objects[e]||void 0===s.objects[e][t]||null==s.objects[e][t][r]?n:s.objects[e][t][r]},s.handleAction=function(e){var t=e.rjvId,r=e.data;switch(e.name){case"RESET":s.emit("reset-"+t);break;case"VARIABLE_UPDATED":e.data.updated_src=s.updateSrc(t,r),s.set(t,"action","variable-update",o({},r,{type:"variable-edited"})),s.emit("variable-update-"+t);break;case"VARIABLE_REMOVED":e.data.updated_src=s.updateSrc(t,r),s.set(t,"action","variable-update",o({},r,{type:"variable-removed"})),s.emit("variable-update-"+t);break;case"VARIABLE_ADDED":e.data.updated_src=s.updateSrc(t,r),s.set(t,"action","variable-update",o({},r,{type:"variable-added"})),s.emit("variable-update-"+t);break;case"ADD_VARIABLE_KEY_REQUEST":s.set(t,"action","new-key-request",r),s.emit("add-key-request-"+t)}},s.updateSrc=function(e,t){var r=t.name,a=t.namespace,i=t.new_value,o=(t.existing_value,t.variable_removed);a.shift();var c=s.get(e,"global","src"),u=s.deepCopy(c,[].concat(n(a))),d=u,p=!0,f=!1,h=void 0;try{for(var m,g=a[Symbol.iterator]();!(p=(m=g.next()).done);p=!0)d=d[m.value]}catch(e){f=!0,h=e}finally{try{!p&&g.return&&g.return()}finally{if(f)throw h}}return o?"array"==(0,l.toType)(d)?d.splice(r,1):delete d[r]:null!==r?d[r]=i:u=i,s.set(e,"global","src",u),u},s.deepCopy=function(e,t){var r=(0,l.toType)(e),a=void 0,i=t.shift();return"array"==r?a=[].concat(n(e)):"object"==r&&(a=o({},e)),void 0!==i&&(a[i]=s.deepCopy(e[i],t)),a},i(s,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(s.EventEmitter));c.default.register(u.handleAction.bind(u)),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new(r(162).Dispatcher);t.default=n},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e||(e={}),{style:c({verticalAlign:"middle"},e,{color:e.color?e.color:d,height:"1em",width:"1em"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckCircle=t.Edit=t.Add=t.AddCircle=t.RemoveCircle=t.Clippy=t.ArrowDown=t.ArrowRight=t.SquarePlus=t.SquareMinus=t.CirclePlus=t.CircleMinus=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),d="#000000";t.CircleMinus=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",c({},s(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),u.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),t}(u.default.PureComponent),t.CirclePlus=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",c({},s(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),u.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),t}(u.default.PureComponent),t.SquareMinus=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]),a=s(t).style;return u.default.createElement("span",r,u.default.createElement("svg",{fill:a.color,width:a.height,height:a.width,style:a,viewBox:"0 0 1792 1792"},u.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(u.default.PureComponent),t.SquarePlus=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]),a=s(t).style;return u.default.createElement("span",r,u.default.createElement("svg",{fill:a.color,width:a.height,height:a.width,style:a,viewBox:"0 0 1792 1792"},u.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(u.default.PureComponent),t.ArrowRight=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",{style:c({},s(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},u.default.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),t}(u.default.PureComponent),t.ArrowDown=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",{style:c({},s(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},u.default.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),t}(u.default.PureComponent),t.Clippy=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",c({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),u.default.createElement("g",null,u.default.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),t}(u.default.PureComponent),t.RemoveCircle=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",c({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),u.default.createElement("g",null,u.default.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(u.default.PureComponent),t.AddCircle=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",c({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),u.default.createElement("g",null,u.default.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(u.default.PureComponent),t.Add=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",c({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),u.default.createElement("g",null,u.default.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),t}(u.default.PureComponent),t.Edit=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",c({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),u.default.createElement("g",null,u.default.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),t}(u.default.PureComponent),t.CheckCircle=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return u.default.createElement("span",r,u.default.createElement("svg",c({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),u.default.createElement("g",null,u.default.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(u.default.PureComponent)},function(e,t,r){var n=r(17);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,r){var n=r(48),a=r(33);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t){e.exports=!0},function(e,t,r){var n=r(5),a=r(2),i=r(71),o=r(8),s=r(7),c=function(e,t,r){var l,u,d,p=e&c.F,f=e&c.G,h=e&c.S,m=e&c.P,g=e&c.B,b=e&c.W,v=f?a:a[t]||(a[t]={}),y=v.prototype,_=f?n:h?n[t]:(n[t]||{}).prototype;for(l in f&&(r=t),r)(u=!p&&_&&void 0!==_[l])&&s(v,l)||(d=u?_[l]:r[l],v[l]=f&&"function"!=typeof _[l]?r[l]:g&&u?i(d,n):b&&_[l]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((v.virtual||(v.virtual={}))[l]=d,e&c.R&&y&&!y[l]&&o(y,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(0)),c=r(41),l=r(4),u=r(42),d=n(r(171)),p=n(r(56)),f=n(r(57)),h=n(r(58)),m=n(r(13)),g=r(59),b=n(r(1)),v=function(e){function t(e){a(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));y.call(r);var n=t.getState(e);return r.state=i({},n,{prevProps:{}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getBraceStart",value:function(e,t){var r=this,n=this.props,a=n.src,o=n.theme,c=n.iconStyle;if("array_group"===n.parent_type)return s.default.createElement("span",null,s.default.createElement("span",(0,b.default)(o,"brace"),"array"===e?"[":"{"),t?this.getObjectMetaData(a):null);var l=t?g.ExpandedIcon:g.CollapsedIcon;return s.default.createElement("span",null,s.default.createElement("span",i({onClick:function(e){r.toggleCollapsed()}},(0,b.default)(o,"brace-row")),s.default.createElement("div",i({className:"icon-container"},(0,b.default)(o,"icon-container")),s.default.createElement(l,{theme:o,iconStyle:c})),s.default.createElement(h.default,this.props),s.default.createElement("span",(0,b.default)(o,"brace"),"array"===e?"[":"{")),t?this.getObjectMetaData(a):null)}},{key:"render",value:function(){var e=this.props,t=e.depth,r=e.src,n=(e.namespace,e.name,e.type,e.parent_type),a=e.theme,o=e.jsvRoot,c=e.iconStyle,l=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),u=this.state,d=u.object_type,p=u.expanded,f={};return o||"array_group"===n?"array_group"===n&&(f.borderLeft=0,f.display="inline"):f.paddingLeft=5*this.props.indentWidth,s.default.createElement("div",i({className:"object-key-val"},(0,b.default)(a,o?"jsv-root":"objectKeyVal",f)),this.getBraceStart(d,p),p?this.getObjectContent(t,r,i({theme:a,iconStyle:c},l)):this.getEllipsis(),s.default.createElement("span",{className:"brace-row"},s.default.createElement("span",{style:i({},(0,b.default)(a,"brace").style,{paddingLeft:p?"3px":"0px"})},"array"===d?"]":"}"),p?null:this.getObjectMetaData(r)))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var n=r.prevProps;if(e.src!==n.src||e.collapsed!==n.collapsed||e.name!==n.name||e.namespace!==n.namespace||e.rjvId!==n.rjvId){var a=t.getState(e);return i({},a,{prevProps:e})}return null}}]),t}(s.default.PureComponent);v.getState=function(e){var t=Object.keys(e.src).length,r=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:(0,l.toType)(e.src),namespace:e.namespace}))&&0!==t;return{expanded:m.default.get(e.rjvId,e.namespace,"expanded",r),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t}};var y=function(){var e=this;this.toggleCollapsed=function(){e.setState({expanded:!e.state.expanded},(function(){m.default.set(e.props.rjvId,e.props.namespace,"expanded",e.state.expanded)}))},this.getObjectContent=function(t,r,n){return s.default.createElement("div",{className:"pushed-content object-container"},s.default.createElement("div",i({className:"object-content"},(0,b.default)(e.props.theme,"pushed-content")),e.renderObjectContents(r,n)))},this.getEllipsis=function(){return 0===e.state.size?null:s.default.createElement("div",i({},(0,b.default)(e.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:e.toggleCollapsed}),"...")},this.getObjectMetaData=function(t){var r=e.props,n=(r.rjvId,r.theme,e.state.size);return s.default.createElement(p.default,i({size:n},e.props))},this.renderObjectContents=function(t,r){var n=e.props,a=n.depth,o=n.parent_type,c=n.index_offset,l=n.groupArraysAfterLength,p=n.namespace,h=e.state.object_type,m=(r.theme,[]),g=void 0,b=Object.keys(t||{});return e.props.sortKeys&&(b=b.sort()),b.forEach((function(n){if(g=new _(n,t[n]),"array_group"===o&&c&&(g.name=parseInt(g.name)+c),t.hasOwnProperty(n))if("object"===g.type)m.push(s.default.createElement(u.JsonObject,i({key:g.name,depth:a+1,name:g.name,src:g.value,namespace:p.concat(g.name),parent_type:h},r)));else if("array"===g.type){var b=u.JsonObject;l&&g.value.length>l&&(b=f.default),m.push(s.default.createElement(b,i({key:g.name,depth:a+1,name:g.name,src:g.value,namespace:p.concat(g.name),type:"array",parent_type:h},r)))}else m.push(s.default.createElement(d.default,i({key:g.name+"_"+p,variable:g,singleIndent:5,namespace:p,type:e.props.type},r)))})),m}},_=function e(t,r){a(this,e),this.name=t,this.value=r,this.type=(0,l.toType)(r)};(0,c.polyfill)(v),t.default=v},function(e,t,r){"use strict";var n=r(70)(!0);r(43)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(17);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(32)("keys"),a=r(23);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t,r){var n=r(2),a=r(5),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(20)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(9).f,a=r(7),i=r(3)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(28);e.exports=function(e){return Object(n(e))}},function(e,t,r){r(80);for(var n=r(5),a=r(8),i=r(18),o=r(3)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=n[l],d=u&&u.prototype;d&&!d[o]&&a(d,o,l),i[l]=i.Array}},function(e,t,r){t.f=r(3)},function(e,t,r){var n=r(5),a=r(2),i=r(20),o=r(37),s=r(9).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t,r){return Math.min(Math.max(e,t),r)}},function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function a(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function i(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,o=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==o||null!==s){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=a),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;u.call(this,e,t,n)}}return e}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"polyfill",(function(){return o})),n.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(63);Object.defineProperty(t,"JsonBoolean",{enumerable:!0,get:function(){return n(a).default}});var i=r(158);Object.defineProperty(t,"JsonDate",{enumerable:!0,get:function(){return n(i).default}});var o=r(159);Object.defineProperty(t,"JsonFloat",{enumerable:!0,get:function(){return n(o).default}});var s=r(160);Object.defineProperty(t,"JsonFunction",{enumerable:!0,get:function(){return n(s).default}});var c=r(165);Object.defineProperty(t,"JsonNan",{enumerable:!0,get:function(){return n(c).default}});var l=r(166);Object.defineProperty(t,"JsonNull",{enumerable:!0,get:function(){return n(l).default}});var u=r(167);Object.defineProperty(t,"JsonInteger",{enumerable:!0,get:function(){return n(u).default}});var d=r(25);Object.defineProperty(t,"JsonObject",{enumerable:!0,get:function(){return n(d).default}});var p=r(168);Object.defineProperty(t,"JsonRegexp",{enumerable:!0,get:function(){return n(p).default}});var f=r(169);Object.defineProperty(t,"JsonString",{enumerable:!0,get:function(){return n(f).default}});var h=r(170);Object.defineProperty(t,"JsonUndefined",{enumerable:!0,get:function(){return n(h).default}})},function(e,t,r){"use strict";var n=r(20),a=r(21),i=r(46),o=r(8),s=r(18),c=r(73),l=r(34),u=r(79),d=r(3)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,h,m,g,b){c(r,t,h);var v,y,_,E=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",O="values"==m,x=!1,C=e.prototype,k=C[d]||C["@@iterator"]||m&&C[m],I=k||E(m),j=m?O?E("entries"):I:void 0,S="Array"==t&&C.entries||k;if(S&&(_=u(S.call(new e)))!==Object.prototype&&_.next&&(l(_,w,!0),n||"function"==typeof _[d]||o(_,d,f)),O&&k&&"values"!==k.name&&(x=!0,I=function(){return k.call(this)}),n&&!b||!p&&!x&&C[d]||o(C,d,I),s[t]=I,s[w]=f,m)if(v={values:O?I:E("values"),keys:g?I:E("keys"),entries:j},b)for(y in v)y in C||i(C,y,v[y]);else a(a.P+a.F*(p||x),t,v);return v}},function(e,t,r){e.exports=!r(10)&&!r(11)((function(){return 7!=Object.defineProperty(r(45)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(17),a=r(5).document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,r){e.exports=r(8)},function(e,t,r){var n=r(16),a=r(74),i=r(33),o=r(31)("IE_PROTO"),s=function(){},c=function(){var e,t=r(45)("iframe"),n=i.length;for(t.style.display="none",r(78).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[i[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=c(),void 0===t?r:a(r,t)}},function(e,t,r){var n=r(7),a=r(12),i=r(75)(!1),o=r(31)("IE_PROTO");e.exports=function(e,t){var r,s=a(e),c=0,l=[];for(r in s)r!=o&&n(s,r)&&l.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~i(l,r)||l.push(r));return l}},function(e,t,r){var n=r(30);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(48),a=r(33).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){var n=r(30),a=r(3)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.default=function(e){var t=void 0;switch((0,n.toType)(e)){case"undefined":t="undefined";break;case"nan":t="NaN";break;case"string":t=e;break;case"date":case"function":case"regexp":t=e.toString();break;default:try{t=JSON.stringify(e,null,"  ")}catch(e){t=""}}return t}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=n(r(0)),s=r(4),c=(n(r(54)),r(15)),l=n(r(1)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.copiedTimer=null,r.handleCopy=function(){var e=document.createElement("textarea"),t=r.props,n=t.clickCallback,a=t.src,i=t.namespace;e.innerHTML=JSON.stringify(r.clipboardValue(a),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),r.copiedTimer=setTimeout((function(){r.setState({copied:!1})}),5500),r.setState({copied:!0},(function(){"function"==typeof n&&n({src:a,namespace:i,name:i[i.length-1]})}))},r.getClippyIcon=function(){var e=r.props.theme;return r.state.copied?o.default.createElement("span",null,o.default.createElement(c.Clippy,a({className:"copy-icon"},(0,l.default)(e,"copy-icon"))),o.default.createElement("span",(0,l.default)(e,"copy-icon-copied"),"✔")):o.default.createElement(c.Clippy,a({className:"copy-icon"},(0,l.default)(e,"copy-icon")))},r.clipboardValue=function(e){switch((0,s.toType)(e)){case"function":case"regexp":return e.toString();default:return e}},r.state={copied:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),r=e.hidden,n=(0,l.default)(t,"copy-to-clipboard").style,i="inline";return r&&(i="none"),o.default.createElement("span",{className:"copy-to-clipboard-container"},o.default.createElement("span",{style:a({},n,{display:i}),onClick:this.handleCopy},this.getClippyIcon()))}}]),t}(o.default.PureComponent);t.default=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=n(r(0)),l=n(r(14)),u=n(r(55)),d=r(4),p=r(15),f=n(r(1)),h=function(e){function t(){var e,r,n;i(this,t);for(var h=arguments.length,m=Array(h),g=0;g<h;g++)m[g]=arguments[g];return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(m))),n.getObjectSize=function(){var e=n.props,t=e.size,r=e.theme;if(e.displayObjectSize)return c.default.createElement("span",s({className:"object-size"},(0,f.default)(r,"object-size")),t," item",1===t?"":"s")},n.getAddAttribute=function(){var e=n.props,t=e.theme,r=e.namespace,i=e.name,o=e.src,u=e.rjvId,h=e.depth;return c.default.createElement("span",{className:"click-to-add",style:{verticalAlign:"top"}},c.default.createElement(p.AddCircle,s({className:"click-to-add-icon"},(0,f.default)(t,"addVarIcon"),{onClick:function(){var e={name:h>0?i:null,namespace:r.splice(0,r.length-1),existing_value:o,variable_removed:!1,key_name:null};"object"===(0,d.toType)(o)?l.default.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:u,data:e}):l.default.dispatch({name:"VARIABLE_ADDED",rjvId:u,data:s({},e,{new_value:[].concat(a(o),[null])})})}})))},n.getRemoveObject=function(){var e=n.props,t=e.theme,r=(e.hover,e.namespace),a=e.name,i=e.src,o=e.rjvId;if(1!==r.length)return c.default.createElement("span",{className:"click-to-remove"},c.default.createElement(p.RemoveCircle,s({className:"click-to-remove-icon"},(0,f.default)(t,"removeVarIcon"),{onClick:function(){l.default.dispatch({name:"VARIABLE_REMOVED",rjvId:o,data:{name:a,namespace:r.splice(0,r.length-1),existing_value:i,variable_removed:!0}})}})))},n.render=function(){var e=n.props,t=e.theme,r=e.onDelete,a=e.onAdd,i=e.enableClipboard,o=e.src,l=e.namespace;return c.default.createElement("div",s({},(0,f.default)(t,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),n.getObjectSize(),i?c.default.createElement(u.default,s({clickCallback:i},{src:o,theme:t,namespace:l})):null,!1!==a?n.getAddAttribute():null,!1!==r?n.getRemoveObject():null)},o(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(c.default.PureComponent);t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=n(r(0)),s=n(r(1)),c=n(r(56)),l=n(r(58)),u=n(r(25)),d=r(59),p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.toggleCollapsed=function(e){var t=[];for(var n in r.state.expanded)t.push(r.state.expanded[n]);t[e]=!t[e],r.setState({expanded:t})},r.state={expanded:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getExpandedIcon",value:function(e){var t=this.props,r=t.theme,n=t.iconStyle;return this.state.expanded[e]?o.default.createElement(d.ExpandedIcon,{theme:r,iconStyle:n}):o.default.createElement(d.CollapsedIcon,{theme:r,iconStyle:n})}},{key:"render",value:function(){var e=this,t=this.props,r=t.src,n=t.groupArraysAfterLength,i=(t.depth,t.name),d=t.theme,p=t.jsvRoot,f=t.namespace,h=(t.parent_type,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),m=0,g=5*this.props.indentWidth;p||(m=5*this.props.indentWidth);var b=n,v=Math.ceil(r.length/b);return o.default.createElement("div",a({className:"object-key-val"},(0,s.default)(d,p?"jsv-root":"objectKeyVal",{paddingLeft:m})),o.default.createElement(l.default,this.props),o.default.createElement("span",null,o.default.createElement(c.default,a({size:r.length},this.props))),[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(Array(v))).map((function(t,n){return o.default.createElement("div",a({key:n,className:"object-key-val array-group"},(0,s.default)(d,"objectKeyVal",{marginLeft:6,paddingLeft:g})),o.default.createElement("span",(0,s.default)(d,"brace-row"),o.default.createElement("div",a({className:"icon-container"},(0,s.default)(d,"icon-container"),{onClick:function(t){e.toggleCollapsed(n)}}),e.getExpandedIcon(n)),e.state.expanded[n]?o.default.createElement(u.default,a({key:i+n,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:b,index_offset:n*b,src:r.slice(n*b,n*b+b),namespace:f,type:"array",parent_type:"array_group",theme:d},h)):o.default.createElement("span",a({},(0,s.default)(d,"brace"),{onClick:function(t){e.toggleCollapsed(n)},className:"array-group-brace"}),"[",o.default.createElement("div",a({},(0,s.default)(d,"array-group-meta-data"),{className:"array-group-meta-data"}),o.default.createElement("span",a({className:"object-size"},(0,s.default)(d,"object-size")),n*b," - ",n*b+b>r.length?r.length:n*b+b)),"]")))})))}}]),t}(o.default.PureComponent);t.default=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){var t=e.parent_type,r=e.namespace,n=e.theme,s=e.jsvRoot,c=e.name,l=e.name?e.name:"";return!s||!1!==c&&null!==c?"array"==t?i.default.createElement("span",a({},(0,o.default)(n,"array-key"),{key:r}),i.default.createElement("span",{className:"array-key"},l),i.default.createElement("span",(0,o.default)(n,"colon"),":")):i.default.createElement("span",a({},(0,o.default)(n,"object-name"),{key:r}),i.default.createElement("span",{className:"object-key"},i.default.createElement("span",{style:{verticalAlign:"top"}},'"'),i.default.createElement("span",null,l),i.default.createElement("span",{style:{verticalAlign:"top"}},'"')),i.default.createElement("span",(0,o.default)(n,"colon"),":")):i.default.createElement("span",null)};var i=n(r(0)),o=n(r(1))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.ExpandedIcon=function(e){var t=e.theme;switch(e.iconStyle){case"triangle":return i.default.createElement(s.ArrowDown,a({},(0,o.default)(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return i.default.createElement(s.SquareMinus,a({},(0,o.default)(t,"expanded-icon"),{className:"expanded-icon"}));default:return i.default.createElement(s.CircleMinus,a({},(0,o.default)(t,"expanded-icon"),{className:"expanded-icon"}))}},t.CollapsedIcon=function(e){var t=e.theme;switch(e.iconStyle){case"triangle":return i.default.createElement(s.ArrowRight,a({},(0,o.default)(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return i.default.createElement(s.SquarePlus,a({},(0,o.default)(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return i.default.createElement(s.CirclePlus,a({},(0,o.default)(t,"collapsed-icon"),{className:"collapsed-icon"}))}};var i=n(r(0)),o=n(r(1)),s=r(15)},function(e,t,r){e.exports=r(61)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=n(r(0)),s=r(41),c=n(r(62)),l=n(r(177)),u=n(r(179)),d=r(4),p=n(r(13)),f=n(r(1));r(180);var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.rjvId=Date.now().toString(),r.getListeners=function(){return{reset:r.resetState,"variable-update":r.updateSrc,"add-key-request":r.addKeyRequest}},r.updateSrc=function(){var e=p.default.get(r.rjvId,"action","variable-update"),t=e.name,n=e.namespace,a=e.new_value,i=e.existing_value,o=(e.variable_removed,e.updated_src),s=e.type,c=r.props,l=c.onEdit,u=c.onDelete,d=c.onAdd,f=void 0,h={existing_src:r.state.src,new_value:a,updated_src:o,name:t,namespace:n,existing_value:i};switch(s){case"variable-added":f=d(h);break;case"variable-edited":f=l(h);break;case"variable-removed":f=u(h)}!1!==f?(p.default.set(r.rjvId,"global","src",o),r.setState({src:o})):r.setState({validationFailure:!0})},r.addKeyRequest=function(){r.setState({addKeyRequest:!0})},r.resetState=function(){r.setState({validationFailure:!1,addKeyRequest:!1})},r.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:t.defaultProps.src,name:t.defaultProps.name,theme:t.defaultProps.theme,validationMessage:t.defaultProps.validationMessage,prevSrc:t.defaultProps.src,prevName:t.defaultProps.name,prevTheme:t.defaultProps.theme},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){p.default.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)p.default.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&p.default.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)p.default.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,r=e.validationMessage,n=e.addKeyRequest,i=e.theme,s=e.src,p=e.name,h=this.props,m=h.style,g=h.defaultValue;return o.default.createElement("div",{className:"react-json-view",style:a({},(0,f.default)(i,"app-container").style,m)},o.default.createElement(u.default,{message:r,active:t,theme:i,rjvId:this.rjvId}),o.default.createElement(c.default,a({},this.props,{src:s,name:p,theme:i,type:(0,d.toType)(s),rjvId:this.rjvId})),o.default.createElement(l.default,{active:n,theme:i,rjvId:this.rjvId,defaultValue:g}))}}],[{key:"getDerivedStateFromProps",value:function(e,r){if(e.src!==r.prevSrc||e.name!==r.prevName||e.theme!==r.prevTheme){var n={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return t.validateState(n)}return null}}]),t}(o.default.PureComponent);h.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null},h.validateState=function(e){var t={};return"object"!==(0,d.toType)(e.theme)||(0,d.isTheme)(e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.theme="rjv-default"),"object"!==(0,d.toType)(e.src)&&"array"!==(0,d.toType)(e.src)&&(console.error("react-json-view error:","src property must be a valid json object"),t.name="ERROR",t.src={message:"src property must be a valid json object"}),a({},e,t)},(0,s.polyfill)(h),t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=n(r(0)),c=n(r(25)),l=n(r(57)),u=function(e){function t(){var e,r,n;a(this,t);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),n.render=function(){var e=n.props,t=[e.name],r=c.default;return e.groupArraysAfterLength&&e.src.length>e.groupArraysAfterLength&&(r=l.default),s.default.createElement("div",{className:"pretty-json-container object-container"},s.default.createElement("div",{className:"object-content"},s.default.createElement(r,o({namespace:t,depth:0,jsvRoot:!0},e))))},i(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(s.default.PureComponent);t.default=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(0)),l=n(r(6)),u=n(r(1)),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,u.default)(e.theme,"boolean"),c.default.createElement(l.default,o({type_name:"bool"},e)),e.value?"true":"false")}}]),t}(c.default.PureComponent);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rjv_default={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},t.rjv_grey={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputHeight:"25px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var a=n(r(67)),i=n(r(94)),o=n(r(99)),s=n(r(107)),c=n(r(111)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(112)),u=n(r(150)),d=n(r(151)),p=n(r(156)),f=r(157),h=l.default,m=(0,s.default)(h),g=function(e){return e<.25?1:e<.5?.9-e:1.1-e},b=(0,p.default)(d.default,f.rgb2yuv,(function(e){var t=(0,o.default)(e,3),r=t[0],n=t[1],a=t[2];return[g(r),n,a]}),f.yuv2rgb,u.default),v=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,i.default)({},t.style||{},e.style||{})}}},y=function(e,t){var r=(0,s.default)(t);for(var n in e)-1===r.indexOf(n)&&r.push(n);return r.reduce((function(r,n){return r[n]=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var r=void 0===e?"undefined":(0,a.default)(e),n=void 0===t?"undefined":(0,a.default)(t);switch(r){case"string":switch(n){case"string":return[t,e].filter(Boolean).join(" ");case"object":return v({className:e,style:t});case"function":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return v({className:e})(t.apply(void 0,[r].concat(a)))}}case"object":switch(n){case"string":return v({className:t,style:e});case"object":return(0,i.default)({},t,e);case"function":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return v({style:e})(t.apply(void 0,[r].concat(a)))}}case"function":switch(n){case"string":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return e.apply(void 0,[v(r)({className:t})].concat(a))};case"object":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return e.apply(void 0,[v(r)({style:t})].concat(a))};case"function":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return e.apply(void 0,[t.apply(void 0,[r].concat(a))].concat(a))}}}}(e[n],t[n]),r}),{})},_=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];if(null===t)return e;Array.isArray(t)||(t=[t]);var c=t.map((function(t){return e[t]})).filter(Boolean),l=c.reduce((function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,a.default)(t))?e.style=(0,i.default)({},e.style,t):"function"==typeof t&&(e=(0,i.default)({},e,t.apply(void 0,[e].concat(n)))),e}),{className:"",style:{}});return l.className||delete l.className,0===(0,s.default)(l.style).length&&delete l.style,l},E=t.invertTheme=function(e){return(0,s.default)(e).reduce((function(t,r){return t[r]=/^base/.test(r)?b(e[r]):"scheme"===r?e[r]+":inverted":e[r],t}),{})},w=(t.createStyling=(0,c.default)((function(e){for(var t=arguments.length,r=Array(t>3?t-3:0),n=3;n<t;n++)r[n-3]=arguments[n];var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=a.defaultBase16,u=void 0===l?h:l,d=a.base16Themes,p=void 0===d?null:d,f=w(o,p);f&&(o=(0,i.default)({},f,o));var g=m.reduce((function(e,t){return e[t]=o[t]||u[t],e}),{}),b=(0,s.default)(o).reduce((function(e,t){return-1===m.indexOf(t)?(e[t]=o[t],e):e}),{}),v=e(g),E=y(b,v);return(0,c.default)(_,2).apply(void 0,[E].concat(r))}),3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var r=e.split(":"),n=(0,o.default)(r,2),a=n[0],i=n[1];e=(t||{})[a]||l[a],"inverted"===i&&(e=E(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(r(68)),i=n(r(83)),o="function"==typeof i.default&&"symbol"==typeof a.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};t.default="function"==typeof i.default&&"symbol"===o(a.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,r){e.exports={default:r(69),__esModule:!0}},function(e,t,r){r(26),r(36),e.exports=r(37).f("iterator")},function(e,t,r){var n=r(27),a=r(28);e.exports=function(e){return function(t,r){var i,o,s=String(a(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}}},function(e,t,r){var n=r(72);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";var n=r(47),a=r(22),i=r(34),o={};r(8)(o,r(3)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(9),a=r(16),i=r(19);e.exports=r(10)?Object.defineProperties:function(e,t){a(e);for(var r,o=i(t),s=o.length,c=0;s>c;)n.f(e,r=o[c++],t[r]);return e}},function(e,t,r){var n=r(12),a=r(76),i=r(77);e.exports=function(e){return function(t,r,o){var s,c=n(t),l=a(c.length),u=i(o,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var n=r(27),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){var n=r(27),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):i(e,t)}},function(e,t,r){var n=r(5).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(7),a=r(35),i=r(31)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){"use strict";var n=r(81),a=r(82),i=r(18),o=r(12);e.exports=r(43)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){e.exports={default:r(84),__esModule:!0}},function(e,t,r){r(85),r(91),r(92),r(93),e.exports=r(2).Symbol},function(e,t,r){"use strict";var n=r(5),a=r(7),i=r(10),o=r(21),s=r(46),c=r(86).KEY,l=r(11),u=r(32),d=r(34),p=r(23),f=r(3),h=r(37),m=r(38),g=r(87),b=r(88),v=r(16),y=r(17),_=r(12),E=r(29),w=r(22),O=r(47),x=r(89),C=r(90),k=r(9),I=r(19),j=C.f,S=k.f,T=x.f,A=n.Symbol,N=n.JSON,D=N&&N.stringify,P=f("_hidden"),R=f("toPrimitive"),M={}.propertyIsEnumerable,F=u("symbol-registry"),L=u("symbols"),B=u("op-symbols"),q=Object.prototype,H="function"==typeof A,z=n.QObject,U=!z||!z.prototype||!z.prototype.findChild,W=i&&l((function(){return 7!=O(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=j(q,t);n&&delete q[t],S(e,t,r),n&&e!==q&&S(q,t,n)}:S,G=function(e){var t=L[e]=O(A.prototype);return t._k=e,t},V=H&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},K=function(e,t,r){return e===q&&K(B,t,r),v(e),t=E(t,!0),v(r),a(L,t)?(r.enumerable?(a(e,P)&&e[P][t]&&(e[P][t]=!1),r=O(r,{enumerable:w(0,!1)})):(a(e,P)||S(e,P,w(1,{})),e[P][t]=!0),W(e,t,r)):S(e,t,r)},$=function(e,t){v(e);for(var r,n=g(t=_(t)),a=0,i=n.length;i>a;)K(e,r=n[a++],t[r]);return e},Y=function(e){var t=M.call(this,e=E(e,!0));return!(this===q&&a(L,e)&&!a(B,e))&&(!(t||!a(this,e)||!a(L,e)||a(this,P)&&this[P][e])||t)},J=function(e,t){if(e=_(e),t=E(t,!0),e!==q||!a(L,t)||a(B,t)){var r=j(e,t);return!r||!a(L,t)||a(e,P)&&e[P][t]||(r.enumerable=!0),r}},X=function(e){for(var t,r=T(_(e)),n=[],i=0;r.length>i;)a(L,t=r[i++])||t==P||t==c||n.push(t);return n},Z=function(e){for(var t,r=e===q,n=T(r?B:_(e)),i=[],o=0;n.length>o;)!a(L,t=n[o++])||r&&!a(q,t)||i.push(L[t]);return i};H||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===q&&t.call(B,r),a(this,P)&&a(this[P],e)&&(this[P][e]=!1),W(this,e,w(1,r))};return i&&U&&W(q,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),C.f=J,k.f=K,r(50).f=x.f=X,r(24).f=Y,r(39).f=Z,i&&!r(20)&&s(q,"propertyIsEnumerable",Y,!0),h.f=function(e){return G(f(e))}),o(o.G+o.W+o.F*!H,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)f(Q[ee++]);for(var te=I(f.store),re=0;te.length>re;)m(te[re++]);o(o.S+o.F*!H,"Symbol",{for:function(e){return a(F,e+="")?F[e]:F[e]=A(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!H,"Object",{create:function(e,t){return void 0===t?O(e):$(O(e),t)},defineProperty:K,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),N&&o(o.S+o.F*(!H||l((function(){var e=A();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(y(t)||void 0!==e)&&!V(e))return b(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!V(t))return t}),n[1]=t,D.apply(N,n)}}),A.prototype[R]||r(8)(A.prototype,R,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,r){var n=r(23)("meta"),a=r(17),i=r(7),o=r(9).f,s=0,c=Object.isExtensible||function(){return!0},l=!r(11)((function(){return c(Object.preventExtensions({}))})),u=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!i(e,n)&&u(e),e}}},function(e,t,r){var n=r(19),a=r(39),i=r(24);e.exports=function(e){var t=n(e),r=a.f;if(r)for(var o,s=r(e),c=i.f,l=0;s.length>l;)c.call(e,o=s[l++])&&t.push(o);return t}},function(e,t,r){var n=r(30);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(12),a=r(50).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(n(e))}},function(e,t,r){var n=r(24),a=r(22),i=r(12),o=r(29),s=r(7),c=r(44),l=Object.getOwnPropertyDescriptor;t.f=r(10)?l:function(e,t){if(e=i(e),t=o(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return a(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,r){r(38)("asyncIterator")},function(e,t,r){r(38)("observable")},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(95));t.default=n.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){e.exports={default:r(96),__esModule:!0}},function(e,t,r){r(97),e.exports=r(2).Object.assign},function(e,t,r){var n=r(21);n(n.S+n.F,"Object",{assign:r(98)})},function(e,t,r){"use strict";var n=r(19),a=r(39),i=r(24),o=r(35),s=r(49),c=Object.assign;e.exports=!c||r(11)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||Object.keys(c({},t)).join("")!=n}))?function(e,t){for(var r=o(e),c=arguments.length,l=1,u=a.f,d=i.f;c>l;)for(var p,f=s(arguments[l++]),h=u?n(f).concat(u(f)):n(f),m=h.length,g=0;m>g;)d.call(f,p=h[g++])&&(r[p]=f[p]);return r}:c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(r(100)),i=n(r(103));t.default=function(e,t){if(Array.isArray(e))return e;if((0,a.default)(Object(e)))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,c=(0,i.default)(e);!(n=(s=c.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){e.exports={default:r(101),__esModule:!0}},function(e,t,r){r(36),r(26),e.exports=r(102)},function(e,t,r){var n=r(51),a=r(3)("iterator"),i=r(18);e.exports=r(2).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){e.exports={default:r(104),__esModule:!0}},function(e,t,r){r(36),r(26),e.exports=r(105)},function(e,t,r){var n=r(16),a=r(106);e.exports=r(2).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){var n=r(51),a=r(3)("iterator"),i=r(18);e.exports=r(2).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){e.exports={default:r(108),__esModule:!0}},function(e,t,r){r(109),e.exports=r(2).Object.keys},function(e,t,r){var n=r(35),a=r(19);r(110)("keys",(function(){return function(e){return a(n(e))}}))},function(e,t,r){var n=r(21),a=r(2),i=r(11);e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*i((function(){r(1)})),"Object",o)}},function(e,t,r){(function(t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}(e,a,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function a(e){return e!=e}function i(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}function o(e,t){for(var r=-1,n=e.length,a=0,i=[];++r<n;){var o=e[r];o!==t&&o!==T||(e[r]=T,i[a++]=r)}return i}function s(e){return C(e)?me(e):{}}function c(e){return!(!C(e)||function(e){return!!ue&&ue in e}(e))&&(function(e){var t=C(e)?fe.call(e):"";return t==G||t==V}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?he:ee).test(function(e){if(null!=e){try{return de.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function l(e,t,r,n){for(var a=-1,i=e.length,o=r.length,s=-1,c=t.length,l=ge(i-o,0),u=Array(c+l),d=!n;++s<c;)u[s]=t[s];for(;++a<o;)(d||a<i)&&(u[r[a]]=e[a]);for(;l--;)u[s++]=e[a++];return u}function u(e,t,r,n){for(var a=-1,i=e.length,o=-1,s=r.length,c=-1,l=t.length,u=ge(i-s,0),d=Array(u+l),p=!n;++a<u;)d[a]=e[a];for(var f=a;++c<l;)d[f+c]=t[c];for(;++o<s;)(p||a<i)&&(d[f+r[o]]=e[a++]);return d}function d(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=s(e.prototype),n=e.apply(r,t);return C(n)?n:r}}function p(e,t,n){var a=d(e);return function i(){for(var s=arguments.length,c=Array(s),l=s,u=b(i);l--;)c[l]=arguments[l];var d=s<3&&c[0]!==u&&c[s-1]!==u?[]:o(c,u);return(s-=d.length)<n?m(e,t,f,i.placeholder,void 0,c,d,void 0,void 0,n-s):r(this&&this!==oe&&this instanceof i?a:e,this,c)}}function f(e,t,r,n,a,s,c,p,h,g){var v=t&L,y=t&A,_=t&N,E=t&(P|R),O=t&B,x=_?void 0:d(e);return function C(){for(var k=arguments.length,I=Array(k),j=k;j--;)I[j]=arguments[j];if(E)var S=b(C),T=i(I,S);if(n&&(I=l(I,n,a,E)),s&&(I=u(I,s,c,E)),k-=T,E&&k<g){var A=o(I,S);return m(e,t,f,C.placeholder,r,I,A,p,h,g-k)}var N=y?r:this,D=_?N[e]:e;return k=I.length,p?I=w(I,p):O&&k>1&&I.reverse(),v&&h<k&&(I.length=h),this&&this!==oe&&this instanceof C&&(D=x||d(D)),D.apply(N,I)}}function h(e,t,n,a){var i=t&A,o=d(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=a.length,d=Array(u+c),p=this&&this!==oe&&this instanceof t?o:e;++l<u;)d[l]=a[l];for(;c--;)d[l++]=arguments[++s];return r(p,i?n:this,d)}}function m(e,t,r,n,a,i,o,s,c,l){var u=t&P;t|=u?M:F,(t&=~(u?F:M))&D||(t&=~(A|N));var d=r(e,t,a,u?i:void 0,u?o:void 0,u?void 0:i,u?void 0:o,s,c,l);return d.placeholder=n,ye(d,e,t)}function g(e,t,r,n,a,i,o,s){var c=t&N;if(!c&&"function"!=typeof e)throw new TypeError(S);var l=n?n.length:0;if(l||(t&=~(M|F),n=a=void 0),o=void 0===o?o:ge(I(o),0),s=void 0===s?s:I(s),l-=a?a.length:0,t&F){var u=n,m=a;n=a=void 0}var g=[e,t,r,n,a,u,m,i,o,s];if(e=g[0],t=g[1],r=g[2],n=g[3],a=g[4],!(s=g[9]=null==g[9]?c?0:e.length:ge(g[9]-l,0))&&t&(P|R)&&(t&=~(P|R)),t&&t!=A)b=t==P||t==R?p(e,t,s):t!=M&&t!=(A|M)||a.length?f.apply(void 0,g):h(e,t,r,n);else var b=function(e,t,r){var n=t&A,a=d(e);return function t(){return(this&&this!==oe&&this instanceof t?a:e).apply(n?r:this,arguments)}}(e,t,r);return ye(b,e,t)}function b(e){return e.placeholder}function v(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return c(r)?r:void 0}function y(e){var t=e.match(J);return t?t[1].split(X):[]}function _(e,t){var r=t.length,n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}function E(e,t){return!!(t=null==t?H:t)&&("number"==typeof e||re.test(e))&&e>-1&&e%1==0&&e<t}function w(e,t){for(var r=e.length,n=be(t.length,r),a=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e);n--;){var i=t[n];e[n]=E(i,r)?a[i]:void 0}return e}function O(e,t){return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(W,(function(r){var a="_."+r[0];t&r[1]&&!n(e,a)&&e.push(a)})),e.sort()}function x(e,t,r){var n=g(e,P,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return n.placeholder=x.placeholder,n}function C(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function k(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&fe.call(e)==K}(e))return U;if(C(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=C(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace($,"");var r=Q.test(e);return r||te.test(e)?ne(e.slice(2),r?2:8):Z.test(e)?U:+e}(e))===q||e===-q?(e<0?-1:1)*z:e==e?e:0:0===e?e:0}function I(e){var t=k(e),r=t%1;return t==t?r?t-r:t:0}function j(e){return function(){return e}}var S="Expected a function",T="__lodash_placeholder__",A=1,N=2,D=4,P=8,R=16,M=32,F=64,L=128,B=512,q=1/0,H=9007199254740991,z=17976931348623157e292,U=NaN,W=[["ary",L],["bind",A],["bindKey",N],["curry",P],["curryRight",R],["flip",B],["partial",M],["partialRight",F],["rearg",256]],G="[object Function]",V="[object GeneratorFunction]",K="[object Symbol]",$=/^\s+|\s+$/g,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,Z=/^[-+]0x[0-9a-f]+$/i,Q=/^0b[01]+$/i,ee=/^\[object .+?Constructor\]$/,te=/^0o[0-7]+$/i,re=/^(?:0|[1-9]\d*)$/,ne=parseInt,ae="object"==typeof t&&t&&t.Object===Object&&t,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=ae||ie||Function("return this")(),se=Function.prototype,ce=Object.prototype,le=oe["__core-js_shared__"],ue=function(){var e=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),de=se.toString,pe=ce.hasOwnProperty,fe=ce.toString,he=RegExp("^"+de.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=Object.create,ge=Math.max,be=Math.min,ve=function(){var e=v(Object,"defineProperty"),t=v.name;return t&&t.length>2?e:void 0}(),ye=ve?function(e,t,r){var n=t+"";return ve(e,"toString",{configurable:!0,enumerable:!1,value:j(_(n,O(y(n),r)))})}:function(e){return e};x.placeholder={},e.exports=x}).call(t,r(52))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var a=r(113);t.threezerotwofour=n(a);var i=r(114);t.apathy=n(i);var o=r(115);t.ashes=n(o);var s=r(116);t.atelierDune=n(s);var c=r(117);t.atelierForest=n(c);var l=r(118);t.atelierHeath=n(l);var u=r(119);t.atelierLakeside=n(u);var d=r(120);t.atelierSeaside=n(d);var p=r(121);t.bespin=n(p);var f=r(122);t.brewer=n(f);var h=r(123);t.bright=n(h);var m=r(124);t.chalk=n(m);var g=r(125);t.codeschool=n(g);var b=r(126);t.colors=n(b);var v=r(127);t.default=n(v);var y=r(128);t.eighties=n(y);var _=r(129);t.embers=n(_);var E=r(130);t.flat=n(E);var w=r(131);t.google=n(w);var O=r(132);t.grayscale=n(O);var x=r(133);t.greenscreen=n(x);var C=r(134);t.harmonic=n(C);var k=r(135);t.hopscotch=n(k);var I=r(136);t.isotope=n(I);var j=r(137);t.marrakesh=n(j);var S=r(138);t.mocha=n(S);var T=r(139);t.monokai=n(T);var A=r(140);t.ocean=n(A);var N=r(141);t.paraiso=n(N);var D=r(142);t.pop=n(D);var P=r(143);t.railscasts=n(P);var R=r(144);t.shapeshifter=n(R);var M=r(145);t.solarized=n(M);var F=r(146);t.summerfruit=n(F);var L=r(147);t.tomorrow=n(L);var B=r(148);t.tube=n(B);var q=r(149);t.twilight=n(q)},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timothée poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},function(e,t,r){function n(e){var t=Math.round(a(e,0,255)).toString(16);return 1==t.length?"0"+t:t}var a=r(40);e.exports=function(e){var t=4===e.length?n(255*e[3]):"";return"#"+n(e[0])+n(e[1])+n(e[2])+t}},function(e,t,r){function n(e){for(var t in c)if(0===e.indexOf(t))return c[t](e)}var a=r(152),i=r(153),o=r(154),s=r(155),c={"#":i,hsl:function(e){var t=a(e),r=s(t);return 4===t.length&&r.push(t[3]),r},rgb:o};n.rgb=o,n.hsl=a,n.hex=i,e.exports=n},function(e,t,r){function n(e,t){switch(e=parseFloat(e),t){case 0:return i(e,0,360);case 1:case 2:return i(e,0,100);case 3:return i(e,0,1)}}var a=r(53),i=r(40);e.exports=function(e){return a(e).map(n)}},function(e,t){e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",r=1;r<e.length;r++){var n=e.charAt(r);t+=n+n}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var r=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(r)}return t}},function(e,t,r){function n(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*i(parseInt(e,10),0,100)/100):i(parseInt(e,10),0,255):i(parseFloat(e),0,1)}var a=r(53),i=r(40);e.exports=function(e){return a(e).map(n)}},function(e,t){e.exports=function(e){var t,r,n,a,i,o=e[0]/360,s=e[1]/100,c=e[2]/100;if(0==s)return[i=255*c,i,i];t=2*c-(r=c<.5?c*(1+s):c+s-c*s),a=[0,0,0];for(var l=0;l<3;l++)(n=o+1/3*-(l-1))<0&&n++,n>1&&n--,i=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,a[l]=255*i;return a}},function(e,t,r){(function(t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function a(e){return y(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?h.call(e):"";return t==s||t==c}(e)}(e)}(e)&&f.call(e,"callee")&&(!g.call(e,"callee")||h.call(e)==o)}(e)||!!(b&&e&&e[b])}var i=9007199254740991,o="[object Arguments]",s="[object Function]",c="[object GeneratorFunction]",l="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,d=l||u||Function("return this")(),p=Object.prototype,f=p.hasOwnProperty,h=p.toString,m=d.Symbol,g=p.propertyIsEnumerable,b=m?m.isConcatSpreadable:void 0,v=Math.max,y=Array.isArray,_=function(e,t){return t=v(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=v(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=o,r(e,this,s)}}((function(e){for(var t=(e=function e(t,r,i,o,s){var c=-1,l=t.length;for(i||(i=a),s||(s=[]);++c<l;){var u=t[c];r>0&&i(u)?r>1?e(u,r-1,i,o,s):n(s,u):o||(s[s.length]=u)}return s}(e,1)).length,r=t;r--;)if("function"!=typeof e[r])throw new TypeError("Expected a function");return function(){for(var r=0,n=t?e[r].apply(this,arguments):arguments[0];++r<t;)n=e[r].call(this,n);return n}}));e.exports=_}).call(t,r(52))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=function(e){var t,r,n,a=e[0],i=e[1],o=e[2];return t=1*a+0*i+1.13983*o,r=1*a+-.39465*i+-.5806*o,n=1*a+2.02311*i+0*o,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},t.rgb2yuv=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[.299*t+.587*r+.114*n,-.14713*t+-.28886*r+.436*n,.615*t+-.51499*r+-.10001*n]}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(0)),l=n(r(6)),u=n(r(1)),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,u.default)(e.theme,"date"),c.default.createElement(l.default,o({type_name:"date"},e)),c.default.createElement("span",o({className:"date-value"},(0,u.default)(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),t}(c.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(0)),l=n(r(6)),u=n(r(1)),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,u.default)(e.theme,"float"),c.default.createElement(l.default,o({type_name:"float"},e)),this.props.value)}}]),t}(c.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=n(r(0)),s=n(r(6)),c=n(r(1)),l=n(r(13)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d.call(r),r.state={collapsed:l.default.get(e.rjvId,e.namespace,"collapsed",!0)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return o.default.createElement("div",(0,c.default)(e.theme,"function"),o.default.createElement(s.default,a({type_name:"function"},e)),o.default.createElement("span",a({},(0,c.default)(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),t}(o.default.PureComponent),d=function(){var e=this;this.toggleCollapsed=function(){e.setState({collapsed:!e.state.collapsed},(function(){l.default.set(e.props.rjvId,e.props.namespace,"collapsed",e.state.collapsed)}))},this.getFunctionDisplay=function(t){var r=e.props;return t?o.default.createElement("span",null,e.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),o.default.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},o.default.createElement("span",null,"{"),o.default.createElement("span",(0,c.default)(r.theme,"ellipsis"),"..."),o.default.createElement("span",null,"}"))):e.props.value.toString().slice(9,-1)}};t.default=u},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(a(r))for(s=Array.prototype.slice.call(arguments,1),o=(l=r.slice()).length,c=0;c<o;c++)l[c].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),a||(a=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var a=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){e.exports.Dispatcher=r(163)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(164),a=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||n(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||n(!1);for(var t=0;t<e.length;t++){var r=e[t];this._isPending[r]?this._isHandled[r]||n(!1):(this._callbacks[r]||n(!1),this._invokeCallback(r))}},e.prototype.dispatch=function(e){this._isDispatching&&n(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=a},function(e,t,r){"use strict";var n=function(e){};e.exports=function(e,t,r,a,i,o,s,c){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,a,i,o,s,c],d=0;(l=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(0)),c=n(r(1)),l=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){return s.default.createElement("div",(0,c.default)(this.props.theme,"nan"),"NaN")}}]),t}(s.default.PureComponent);t.default=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(0)),c=n(r(1)),l=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){return s.default.createElement("div",(0,c.default)(this.props.theme,"null"),"NULL")}}]),t}(s.default.PureComponent);t.default=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(0)),l=n(r(6)),u=n(r(1)),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,u.default)(e.theme,"integer"),c.default.createElement(l.default,o({type_name:"int"},e)),this.props.value)}}]),t}(c.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(0)),l=n(r(6)),u=n(r(1)),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,u.default)(e.theme,"regexp"),c.default.createElement(l.default,o({type_name:"regexp"},e)),this.props.value.toString())}}]),t}(c.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=n(r(0)),s=n(r(6)),c=r(4),l=n(r(1)),u=n(r(13)),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){u.default.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.state={collapsed:u.default.get(e.rjvId,e.namespace,"collapsed",!0)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=(this.state.collapsed,this.props),t=e.collapseStringsAfterLength,r=e.theme,n=e.value,i={style:{cursor:"default"}};return"integer"===(0,c.toType)(t)&&n.length>t&&(i.style.cursor="pointer",this.state.collapsed&&(n=o.default.createElement("span",null,n.substring(0,t),o.default.createElement("span",(0,l.default)(r,"ellipsis")," ...")))),o.default.createElement("div",(0,l.default)(r,"string"),o.default.createElement(s.default,a({type_name:"string"},e)),o.default.createElement("span",a({className:"string-value"},i,{onClick:this.toggleCollapsed}),'"',n,'"'))}}]),t}(o.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(0)),c=n(r(1)),l=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){return s.default.createElement("div",(0,c.default)(this.props.theme,"undefined"),"undefined")}}]),t}(s.default.PureComponent);t.default=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=n(r(0)),s=n(r(172)),c=n((r(4),r(14))),l=n(r(176)),u=n(r(54)),d=n(r(55)),p=r(42),f=r(15),h=n(r(1)),m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g.call(r),r.state={editMode:!1,editValue:"",renameKey:!1,parsedInput:{type:!1,value:null}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.variable,n=(t.src,t.singleIndent),i=t.type,s=t.theme,c=t.namespace,l=t.indentWidth,u=t.enableClipboard,p=t.onEdit,f=t.onDelete,m=t.onSelect,g=(t.rjvId,this.state.editMode);return o.default.createElement("div",a({},(0,h.default)(s,"objectKeyVal",{paddingLeft:l*n}),{className:"variable-row",key:r.name}),"array"==i?o.default.createElement("span",a({},(0,h.default)(s,"array-key"),{key:r.name+"_"+c}),r.name,o.default.createElement("div",(0,h.default)(s,"colon"),":")):o.default.createElement("span",null,o.default.createElement("span",a({},(0,h.default)(s,"object-name"),{className:"object-key",key:r.name+"_"+c}),o.default.createElement("span",{style:{verticalAlign:"top"}},'"'),o.default.createElement("span",{style:{display:"inline-block"}},r.name),o.default.createElement("span",{style:{verticalAlign:"top"}},'"')),o.default.createElement("span",(0,h.default)(s,"colon"),":")),o.default.createElement("div",a({className:"variable-value",onClick:!1===m&&!1===p?null:function(t){var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(c));(t.ctrlKey||t.metaKey)&&!1!==p?e.prepopInput(r):!1!==m&&(n.shift(),m(a({},r,{namespace:n})))}},(0,h.default)(s,"variableValue",{cursor:!1===m?"default":"pointer"})),this.getValue(r,g)),u?o.default.createElement(d.default,a({hidden:g,src:r.value,clickCallback:u},{theme:s,namespace:c})):null,!1!==p&&0==g?this.getEditIcon():null,!1!==f&&0==g?this.getRemoveIcon():null)}}]),t}(o.default.PureComponent),g=function(){var e=this;this.getEditIcon=function(){var t=e.props,r=t.variable,n=t.theme;return o.default.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top"}},o.default.createElement(f.Edit,a({className:"click-to-edit-icon"},(0,h.default)(n,"editVarIcon"),{onClick:function(){e.prepopInput(r)}})))},this.prepopInput=function(t){if(!1!==e.props.onEdit){var r=(0,u.default)(t.value),n=(0,l.default)(r);e.setState({editMode:!0,editValue:r,parsedInput:{type:n.type,value:n.value}})}},this.getRemoveIcon=function(){var t=e.props,r=t.variable,n=t.namespace,i=t.theme,s=t.rjvId;return o.default.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top"}},o.default.createElement(f.RemoveCircle,a({className:"click-to-remove-icon"},(0,h.default)(i,"removeVarIcon"),{onClick:function(){c.default.dispatch({name:"VARIABLE_REMOVED",rjvId:s,data:{name:r.name,namespace:n,existing_value:r.value,variable_removed:!0}})}})))},this.getValue=function(t,r){var n=!r&&t.type,i=e.props;switch(n){case!1:return e.getEditInput();case"string":return o.default.createElement(p.JsonString,a({value:t.value},i));case"integer":return o.default.createElement(p.JsonInteger,a({value:t.value},i));case"float":return o.default.createElement(p.JsonFloat,a({value:t.value},i));case"boolean":return o.default.createElement(p.JsonBoolean,a({value:t.value},i));case"function":return o.default.createElement(p.JsonFunction,a({value:t.value},i));case"null":return o.default.createElement(p.JsonNull,i);case"nan":return o.default.createElement(p.JsonNan,i);case"undefined":return o.default.createElement(p.JsonUndefined,i);case"date":return o.default.createElement(p.JsonDate,a({value:t.value},i));case"regexp":return o.default.createElement(p.JsonRegexp,a({value:t.value},i));default:return o.default.createElement("div",{className:"object-value"},JSON.stringify(t.value))}},this.getEditInput=function(){var t=e.props.theme,r=e.state.editValue;return o.default.createElement("div",null,o.default.createElement(s.default,a({type:"text",inputRef:function(e){return e&&e.focus()},value:r,className:"variable-editor",onChange:function(t){var r=t.target.value,n=(0,l.default)(r);e.setState({editValue:r,parsedInput:{type:n.type,value:n.value}})},onKeyDown:function(t){switch(t.key){case"Escape":e.setState({editMode:!1,editValue:""});break;case"Enter":(t.ctrlKey||t.metaKey)&&e.submitEdit(!0)}t.stopPropagation()},placeholder:"update this value"},(0,h.default)(t,"edit-input"))),o.default.createElement("div",(0,h.default)(t,"edit-icon-container"),o.default.createElement(f.RemoveCircle,a({className:"edit-cancel"},(0,h.default)(t,"cancel-icon"),{onClick:function(){e.setState({editMode:!1,editValue:""})}})),o.default.createElement(f.CheckCircle,a({className:"edit-check string-value"},(0,h.default)(t,"check-icon"),{onClick:function(){e.submitEdit()}})),o.default.createElement("div",null,e.showDetected())))},this.submitEdit=function(t){var r=e.props,n=r.variable,a=r.namespace,i=r.rjvId,o=e.state,s=o.editValue,l=o.parsedInput,u=s;t&&l.type&&(u=l.value),e.setState({editMode:!1}),c.default.dispatch({name:"VARIABLE_UPDATED",rjvId:i,data:{name:n.name,namespace:a,existing_value:n.value,new_value:u,variable_removed:!1}})},this.showDetected=function(){var t=e.props,r=t.theme,n=(t.variable,t.namespace,t.rjvId,e.state.parsedInput),i=(n.type,n.value,e.getDetectedInput());if(i)return o.default.createElement("div",null,o.default.createElement("div",(0,h.default)(r,"detected-row"),i,o.default.createElement(f.CheckCircle,{className:"edit-check detected",style:a({verticalAlign:"top",paddingLeft:"3px"},(0,h.default)(r,"check-icon").style),onClick:function(){e.submitEdit(!0)}})))},this.getDetectedInput=function(){var t=e.state.parsedInput,r=t.type,n=t.value,i=e.props,s=i.theme;if(!1!==r)switch(r.toLowerCase()){case"object":return o.default.createElement("span",null,o.default.createElement("span",{style:a({},(0,h.default)(s,"brace").style,{cursor:"default"})},"{"),o.default.createElement("span",{style:a({},(0,h.default)(s,"ellipsis").style,{cursor:"default"})},"..."),o.default.createElement("span",{style:a({},(0,h.default)(s,"brace").style,{cursor:"default"})},"}"));case"array":return o.default.createElement("span",null,o.default.createElement("span",{style:a({},(0,h.default)(s,"brace").style,{cursor:"default"})},"["),o.default.createElement("span",{style:a({},(0,h.default)(s,"ellipsis").style,{cursor:"default"})},"..."),o.default.createElement("span",{style:a({},(0,h.default)(s,"brace").style,{cursor:"default"})},"]"));case"string":return o.default.createElement(p.JsonString,a({value:n},i));case"integer":return o.default.createElement(p.JsonInteger,a({value:n},i));case"float":return o.default.createElement(p.JsonFloat,a({value:n},i));case"boolean":return o.default.createElement(p.JsonBoolean,a({value:n},i));case"function":return o.default.createElement(p.JsonFunction,a({value:n},i));case"null":return o.default.createElement(p.JsonNull,i);case"nan":return o.default.createElement(p.JsonNan,i);case"undefined":return o.default.createElement(p.JsonUndefined,i);case"date":return o.default.createElement(p.JsonDate,a({value:new Date(n)},i))}}};t.default=m},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,n,a){void 0===r&&(r=!1),void 0===n&&(n=null),void 0===a&&(a=null),null===m.parentNode&&document.body.appendChild(m);var o=i(e,t,r);if(null===o)return null;var s=o.paddingSize,c=o.borderSize,l=o.boxSizing,u=o.sizingStyle;Object.keys(u).forEach((function(e){m.style[e]=u[e]})),g(m),m.value=e.value||e.placeholder||"x";var d=-1/0,p=1/0,f=m.scrollHeight;"border-box"===l?f+=c:"content-box"===l&&(f-=s),m.value="x";var h=m.scrollHeight-s;return null===n&&null===a||(null!==n&&(d=h*n,"border-box"===l&&(d=d+s+c),f=Math.max(d,f)),null!==a&&(p=h*a,"border-box"===l&&(p=p+s+c),f=Math.min(p,f))),{height:f,minHeight:d,maxHeight:p,rowCount:Math.floor(f/h)}}function i(e,t,r){if(void 0===r&&(r=!1),r&&h[t])return h[t];var n=window.getComputedStyle(e);if(null===n)return null;var a=f.reduce((function(e,t){return e[t]=n.getPropertyValue(t),e}),{}),i=a["box-sizing"];if(""===i)return null;d&&"border-box"===i&&(a.width=parseFloat(a.width)+parseFloat(n["border-right-width"])+parseFloat(n["border-left-width"])+parseFloat(n["padding-right"])+parseFloat(n["padding-left"])+"px");var o={sizingStyle:a,paddingSize:parseFloat(a["padding-bottom"])+parseFloat(a["padding-top"]),borderSize:parseFloat(a["border-bottom-width"])+parseFloat(a["border-top-width"]),boxSizing:i};return r&&(h[t]=o),o}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),s=r.n(o),c=r(173),l=r.n(c),u=(Object.setPrototypeOf,"object"==typeof Reflect&&Reflect.construct,"undefined"!=typeof window&&"undefined"!=typeof document),d=!!u&&!!document.documentElement.currentStyle,p={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},f=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],h={},m=u&&document.createElement("textarea"),g=function(e){Object.keys(p).forEach((function(t){e.style.setProperty(t,p[t],"important")}))};u&&g(m);var b=function(e){return void 0===e&&(e=0),function(){return++e}}(),v=function(){},y=u&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],_=y[0],E=y[1],w=function(e){function t(t){var r;return(r=e.call(this,t)||this)._resizeLock=!1,r._onRootDOMNode=function(e){r._rootDOMNode=e,r.props.inputRef(e)},r._onChange=function(e){r._controlled||r._resizeComponent(),r.props.onChange(e)},r._resizeComponent=function(e){if(void 0===e&&(e=v),void 0!==r._rootDOMNode){var t=a(r._rootDOMNode,r._uid,r.props.useCacheForDOMMeasurements,r.props.minRows,r.props.maxRows);if(null!==t){var n=t.height,i=t.minHeight,o=t.maxHeight,s=t.rowCount;r.rowCount=s,r.state.height===n&&r.state.minHeight===i&&r.state.maxHeight===o?e():r.setState({height:n,minHeight:i,maxHeight:o},e)}else e()}else e()},r.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},r._uid=b(),r._controlled="string"==typeof t.value,r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var r=t.prototype;return r.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=n({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),s.a.createElement("textarea",n({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},r.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent((function(){return e._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener)},r.componentDidUpdate=function(e,t){var r=this;e!==this.props&&(this._clearNextFrame(),this._onNextFrameActionId=_((function(){return r._resizeComponent()}))),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},r.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),function(e){delete h[e]}(this._uid)},r._clearNextFrame=function(){E(this._onNextFrameActionId)},t}(s.a.Component);w.propTypes={inputRef:l.a.func,maxRows:l.a.number,minRows:l.a.number,onChange:l.a.func,onHeightChange:l.a.func,useCacheForDOMMeasurements:l.a.bool,value:l.a.string},w.defaultProps={inputRef:v,onChange:v,onHeightChange:v,useCacheForDOMMeasurements:!1},t.default=w},function(e,t,r){e.exports=r(174)()},function(e,t,r){"use strict";function n(){}var a=r(175);e.exports=function(){function e(e,t,r,n,i,o){if(o!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";function n(e,t){return{type:e,value:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return n("array",JSON.parse(e));if("{"===e[0])return n("object",JSON.parse(e));if(e.match(/\-?\d+\.\d+/)&&e.match(/\-?\d+\.\d+/)[0]===e)return n("float",parseFloat(e));if(e.match(/\-?\d+/)&&e.match(/\-?\d+/)[0]===e)return n("integer",parseInt(e))}catch(e){}switch(e=e.toLowerCase()){case"undefined":return n("undefined",void 0);case"nan":return n("nan",NaN);case"null":return n("null",null);case"true":return n("boolean",!0);case"false":return n("boolean",!1);default:if(e=Date.parse(e))return n("date",new Date(e))}return n(!1,null)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(0)),l=n(r(14)),u=n(r(13)),d=n(r(178)),p=(n(r(1)),function(e){function t(){var e,r,n;a(this,t);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.isValid=function(e){var t=n.props.rjvId,r=u.default.get(t,"action","new-key-request");return""!=e&&-1===Object.keys(r.existing_value).indexOf(e)},n.submit=function(e){var t=n.props.rjvId,r=u.default.get(t,"action","new-key-request");r.new_value=o({},r.existing_value),r.new_value[e]=n.props.defaultValue,l.default.dispatch({name:"VARIABLE_ADDED",rjvId:t,data:r})},i(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.active,r=e.theme,n=e.rjvId;return t?c.default.createElement(d.default,{rjvId:n,theme:r,isValid:this.isValid,submit:this.submit}):null}}]),t}(c.default.PureComponent));t.default=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=n(r(0)),s=n(r(14)),c=r(15),l=n(r(1)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.closeModal=function(){s.default.dispatch({rjvId:r.props.rjvId,name:"RESET"})},r.submit=function(){r.props.submit(r.state.input)},r.state={input:e.input?e.input:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.theme,n=t.rjvId,i=t.isValid,u=this.state.input,d=i(u);return o.default.createElement("div",a({className:"key-modal-request"},(0,l.default)(r,"key-modal-request"),{onClick:this.closeModal}),o.default.createElement("div",a({},(0,l.default)(r,"key-modal"),{onClick:function(e){e.stopPropagation()}}),o.default.createElement("div",(0,l.default)(r,"key-modal-label"),"Key Name:"),o.default.createElement("div",{style:{position:"relative"}},o.default.createElement("input",a({},(0,l.default)(r,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:u,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){d&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),d?o.default.createElement(c.CheckCircle,a({},(0,l.default)(r,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),o.default.createElement("span",(0,l.default)(r,"key-modal-cancel"),o.default.createElement(c.Add,a({},(0,l.default)(r,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){s.default.dispatch({rjvId:n,name:"RESET"})}})))))}}]),t}(o.default.PureComponent);t.default=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(0)),l=n(r(14)),u=(n(r(13)),r(15)),d=n(r(1)),p=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.message,r=e.active,n=e.theme,a=e.rjvId;return r?c.default.createElement("div",o({className:"validation-failure"},(0,d.default)(n,"validation-failure"),{onClick:function(){l.default.dispatch({rjvId:a,name:"RESET"})}}),c.default.createElement("span",(0,d.default)(n,"validation-failure-label"),t),c.default.createElement(u.Add,(0,d.default)(n,"validation-failure-clear"))):null}}]),t}(c.default.PureComponent);t.default=p},function(e,t,r){var n=r(181);"string"==typeof n&&(n=[[e.i,n,""]]);var a={transform:void 0};r(183)(n,a),n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(182)(!1)).push([e.i,".react-json-view .copy-to-clipboard-container{vertical-align:top;display:none}.react-json-view .click-to-add,.react-json-view .click-to-edit,.react-json-view .click-to-remove{display:none}.react-json-view .object-content .variable-row:hover .click-to-edit,.react-json-view .object-content .variable-row:hover .click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-add,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.copy-to-clipboard-container,.react-json-view .variable-row:hover .copy-to-clipboard-container{display:inline-block}",""])},function(e,t){function r(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n);return[r].concat(n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}))).concat([a]).join("\n")}return[r].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=r(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(n[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=h[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(u(n.parts[i],t))}else{var o=[];for(i=0;i<n.parts.length;i++)o.push(u(n.parts[i],t));h[n.id]={id:n.id,refs:1,parts:o}}}}function a(e,t){for(var r=[],n={},a=0;a<e.length;a++){var i=e[a],o=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};n[o]?n[o].parts.push(s):r.push(n[o]={id:o,parts:[s]})}return r}function i(e,t){var r=g(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=y[y.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),i(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),i(e,t),t}function l(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function u(e,t){var r,n,a,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var l=v++;r=b||(b=s(t)),n=d.bind(null,r,l,!1),a=d.bind(null,r,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=c(t),n=f.bind(null,r,t),a=function(){o(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(t),n=p.bind(null,r),a=function(){o(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}function d(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=E(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function p(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function f(e,t,r){var n=r.css,a=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||i)&&(n=_(n)),a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),g=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e.call(this,r)),t[r]}}((function(e){return document.querySelector(e)})),b=null,v=0,y=[],_=r(184);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=a(e,t);return n(r,t),function(e){for(var i=[],o=0;o<r.length;o++){var s=r[o];(c=h[s.id]).refs--,i.push(c)}for(e&&n(a(e,t),t),o=0;o<i.length;o++){var c;if(0===(c=i[o]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete h[c.id]}}}};var E=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(a=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}}]))},function(e,t,r){var n=r(0),a=r(169),i=r(2),o=r(786),s=n.createElement,c=r(788),l=r(792),u=r(793),d=r(343),p=r(795),f=r(342);e.exports=a({propTypes:{data:i.any.isRequired,search:i.oneOfType([i.func,i.bool]),searchOptions:i.shape({debounceTime:i.number}),onClick:i.func,validateQuery:i.func,isExpanded:i.func,filterOptions:i.shape({cacheResults:i.bool,ignoreCase:i.bool}),query:i.string,verboseShowOriginal:i.bool},getDefaultProps:function(){return{data:null,search:l,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:f,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,r=""!==t.query&&e.validateQuery(t.query),n=r?t.filterer(t.query):e.data,a=r&&d(n);return s("div",{className:"json-inspector "+e.className},this.renderToolbar(),a?s("div",{className:"json-inspector__not-found"},"Nothing found"):s(c,{data:n,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:r?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return s("div",{className:"json-inspector__toolbar"},s(e,{onChange:o(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions),"string"==typeof e.query&&e.query!==this.state.query&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:u(e,t)})},getOriginal:function(e){return p(this.props.data,e)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(346)),a=r(347),i=s(r(799)),o=s(r(800));function s(e){return e&&e.__esModule?e:{default:e}}t.default={to:n.default,calcEndPoint:a.calcEndPoint,anchorScroll:i.default,observe:o.default},e.exports=t.default},function(e,t,r){var n,a,i;a=[],void 0===(i="function"==typeof(n=function(){var e=/(auto|scroll)/,t=function(e,r){return null===e.parentNode?r:t(e.parentNode,r.concat([e]))},r=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},n=function(t){return e.test(function(e){return r(e,"overflow")+r(e,"overflow-y")+r(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var r=t(e.parentNode,[]),a=0;a<r.length;a+=1)if(n(r[a]))return r[a];return document.scrollingElement||document.documentElement}}})?n.apply(t,a):n)||(e.exports=i)},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),u=Object.prototype.toString,d=Math.max,p=Math.min,f=function(){return l.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=a.test(e);return s||i.test(e)?o(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n,a,i,o,s,c,l=0,u=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=n,i=a;return n=a=void 0,l=t,o=e.apply(i,r)}function y(e){return l=e,s=setTimeout(E,t),u?v(e):o}function _(e){var r=e-c;return void 0===c||r>=t||r<0||g&&e-l>=i}function E(){var e=f();if(_(e))return w(e);s=setTimeout(E,function(e){var r=t-(e-c);return g?p(r,i-(e-l)):r}(e))}function w(e){return s=void 0,b&&n?v(e):(n=a=void 0,o)}function O(){var e=f(),r=_(e);if(n=arguments,a=this,c=e,r){if(void 0===s)return y(c);if(g)return s=setTimeout(E,t),v(c)}return void 0===s&&(s=setTimeout(E,t)),o}return t=m(t)||0,h(r)&&(u=!!r.leading,i=(g="maxWait"in r)?d(m(r.maxWait)||0,t):i,b="trailing"in r?!!r.trailing:b),O.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=c=a=s=void 0},O.flush=function(){return void 0===s?o:w(f())},O}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(137),a=r.n(n),i=r(53);function o(){i.a.get("payment_id")&&(a.a.init("507cb4c0ee35b3bde61db304462e9351"),a.a.identify(i.a.get("payment_id").toString()))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(55),a=r.n(n),i=r(110),o=r.n(i),s=r(18),c=r.n(s),l=r(179),u=r.n(l),d=r(29),p=r.n(d),f=r(3),h=r.n(f),m=r(17),g=r(15),b=r(30),v=r(65);function y(e,t,r){const n=p.a.readFileSync(e,"utf-8"),i=c()(r),s=JSON.parse(u.a.xml2json(n,{compact:!0,spaces:2}));let l=1;t||(l=function(e){const t=Object(m.c)(e.allIds),r=Object.assign({},g.book,{id:t});return e.allIds.push(t),e[`${t}`]=r,t}(i.books));const d=function(e,t,r){const n=t.GContainer.GString.find(e=>"title"==e._attributes.name);if(n){let t=n._attributes.value;e[`${r}`].title=t}const a=t.GContainer.GString.find(e=>"genre"==e._attributes.name);a&&(e[`${r}`].genre=a._attributes.value);const i=t.GContainer.GString.find(e=>"targetReader"==e._attributes.name);i&&(e[`${r}`].theme=i._attributes.value.replace(/\n/g," "));const o=t.GContainer.GContainer.find(e=>"storyLine"==e._attributes.name);if(o&&o.GString){const t=o.GString.find(e=>"sentence"==e._attributes.name);t&&(e[`${r}`].premise=t._attributes.value)}return n._attributes.value}(i.books,s,l);return function(e,t,r,n,a){const i=t.GContainer.GContainer.find(e=>"storyLine"==e._attributes.name);if(i&&i.GString){let t=i.GString.find(e=>"sentence"==e._attributes.name);t&&_(e.notes,{title:a?h()("One Sentence Summary"):`[${r}] ${h()("One Sentence Summary")}`,bookIds:[n],content:w([t._attributes.value])}),t=i.GString.find(e=>"paragraph"==e._attributes.name),t&&_(e.notes,{title:a?h()("One Paragraph Summary"):`[${r}] ${h()("One Paragraph Summary")}`,bookIds:[n],content:w([t._attributes.value])})}}(i,s,d,l,t),function(e,t,r,n,a){let i=t.GContainer.GContainer.find(e=>"shortSynopsis"==e._attributes.name);if(i&&i.GString){let t=i.GString.map(e=>e._attributes.value);t&&t.length&&_(e.notes,{title:a?h()("Short Synopsis"):`[${r}] ${h()("Short Synopsis")}`,bookIds:[n],content:w(t)})}if(i=t.GContainer.GContainer.find(e=>"longSynopsis"==e._attributes.name),i&&i.GString){let t=i.GString.map(e=>e._attributes.value);t&&t.length&&_(e.notes,{title:a?h()("Long Synopsis"):`[${r}] ${h()("Long Synopsis")}`,bookIds:[n],content:w(t)})}}(i,s,d,l,t),function(e,t,r){const n=t.GContainer.GContainer.find(e=>"characterInfoList"==e._attributes.name);if(n&&n.GContainer&&n.GContainer.length){let t=[];n.GContainer.forEach(n=>{if(n.GString&&n.GString.length){let a=n.GString.reduce((e,r)=>{const n=x[r._attributes.name]||"notes",a=r._attributes.value;if("name"==n)e.name=a;else{if(["paragraph","synopsis"].includes(r._attributes.name)){const t=a.replace(/\n\n/g,"\n").replace(/\t/g,"").split("\n");e[n]=w(t)}else e[n]=a.replace(/\n/g," ");t.push(n)}return e},{});a.bookIds=[r],function(e,t){const r=Object(m.b)(e),n=Object.assign({},g.character,{id:r,...t});e.push(n)}(e.characters,a)}}),function(e,t){const r=o()(e.customAttributes.characters,"name"),n=C.reduce((e,n)=>{if(t.includes(n)){let t="text";["One-Paragraph Summary","Character Synopsis"].includes(n)&&(t="paragraph"),r[n]||e.push({name:n,type:t})}return e},[]);e.customAttributes.characters=[...e.customAttributes.characters,...n]}(e,t)}}(i,s,l),function(e,t,r){const n=t.GContainer.GContainer.find(e=>"sceneList"==e._attributes.name);if(n&&n.GContainer&&n.GContainer.length){const t=E(e.lines,{position:0,title:h()("Main Plot")},r),i=a()(n.GContainer,e=>{const t=e.GInteger.find(e=>"chapter"==e._attributes.name);return t?t._attributes.value:"1"}),o=Object.keys(i),s=o.reduce((e,t)=>(e[t]=a()(i[t],e=>{const t=e.GInteger.find(e=>"povName"==e._attributes.name);return t?t._attributes.value:""}),e),{}),c=o.reduce((t,n)=>(t[n]=function(e,t,r){const n=Object(m.b)(e),a=Object(b.c)(e,r),i=Object.assign({},g.chapter,{id:n,position:a,bookId:r,...t});return e.push(i),n}(e.chapters,{position:Number(n)-1},r),t),{});let l={},u={},d={},p=1;n.GContainer.forEach(n=>{let a,o=null,f="",b="",y=0,_={};function w(e){const t=e._attributes.name,r=e._attributes.value;if("chapter"==t)o=r;else if("povName"==t)r&&(f=r);else if("wordCountExpected"==t)r&&(y=r);else if(r)if("sentence"==t)b=r;else{let e=[];const n=k[t];e.push(function(e,t){return{children:[{text:e,[t]:!0}]}}(`${n}:`,"bold")),r.split("\n").forEach(t=>e.push(O(t))),_[t]=e}}n.GString.forEach(w),n.GInteger.forEach(w),b&&y?a=O(`${b} (${h()("{wordCount,number} words",{wordCount:y})})`):b&&(a=O(b));const x=I.reduce((e,t)=>_[t]?[...e,..._[t]]:e,[]);let C,j;a&&x.unshift(a),f&&(C=e.characters.find(e=>e.name==f),C&&(C.categoryId=1,d[f]?j=d[f]:(j=E(e.lines,{position:p,title:f,color:Object(v.a)(p)},r),p++,d[f]=j)));const S=j||t;let T=0;if(C&&s[o][f]){s[o][f].length>1&&(T=u[o][f]?u[o][f].length:0)}else{i[o].length>1&&(T=l[o]?l[o].length:0)}let A=b.length>30?`${b.substr(0,30)}...`:b;const N={chapterId:c[o],lineId:S,description:x,positionWithinLine:T,title:b?A:h()("Scene {num}",{num:T+1}),characters:C?[C.id]:[]};!function(e,t){const r=Object(m.b)(e),n=Object.assign({},g.card,{id:r,...t});e.push(n)}(e.cards,N),l[o]=l[o]?[...l[o],N]:[N],C&&(u[o]?u[o][f]?u[o][f]=[...u[o][f],N]:u[o][f]=[N]:u[o]={[f]:[N]})})}}(i,s,l),i}function _(e,t){const r=Object(m.b)(e),n=Object.assign({},g.note,{id:r,...t});e.push(n)}function E(e,t,r){const n=Object(m.b)(e),a=Object(b.c)(e,r),i=Object.assign({},g.line,{id:n,position:a,bookId:r,...t});return e.push(i),n}function w(e){return e.map(O)}function O(e){return{children:[{text:e}]}}const x={name:"name",sentence:"One-Sentence Summary",ambition:"Ambition",goal:"Goal",values:"Values",conflict:"Conflict",epiphany:"Epiphany",paragraph:"One-Paragraph Summary",othersSee:"How others see character",birthDate:"Date of Birth",age:"Age",height:"Height",weight:"Weight",ethnicity:"Ethnic Heritage",hairColor:"Hair Color",eyeColor:"Eye Color",physicalDescription:"Physical Description",dressStyle:"Style of Dressing",personality:"Personality Type",senseHumor:"Sense of Humor",religion:"Religion",politics:"Political Party",hobbies:"Hobbies",music:"Favorite Music",books:"Favorite Books",movies:"Favorite Movies",colors:"Favorite Colors",purseWallet:"Contents of purse or wallet",homeDescription:"Description of home",education:"Educational Background",work:"Work Experience",family:"Family",bestFriend:"Best Friend",maleFriends:"Male Friends",femaleFriends:"Female Friends",enemies:"Enemies",bestMemory:"Best childhood memory",worstMemory:"Worst childhood memory",characterization:"One-line characterization",strongTrait:"Strongest character trait",weakTrait:"Weakest character trait",paradox:"Character's Paradox",hope:"Greatest Hope",fear:"Deepest Fear",philosophy:"Philosophy of Life",seesSelf:"How character sees self",change:"How character will change",synopsis:"Character Synopsis"},C=["One-Sentence Summary","Ambition","Goal","Values","Conflict","Epiphany","One-Paragraph Summary","Date of Birth","Age","Height","Weight","Ethnic Heritage","Hair Color","Eye Color","Physical Description","Style of Dressing","Personality Type","Sense of Humor","Religion","Political Party","Hobbies","Favorite Music","Favorite Books","Favorite Movies","Favorite Colors","Contents of purse or wallet","Description of home","Educational Background","Work Experience","Family","Best Friend","Male Friends","Female Friends","Enemies","Best childhood memory","Worst childhood memory","One-line characterization","Strongest character trait","Weakest character trait","Character's Paradox","Greatest Hope","Deepest Fear","Philosophy of Life","How character sees self","How others see character","How character will change","Character Synopsis"],k={paragraph:"Scene Notes",date:"Date",location:"Location"},I=["location","paragraph"]},,,function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"addCard",(function(){return lr})),r.d(n,"addNewCardInChapter",(function(){return ur})),r.d(n,"editCard",(function(){return dr})),r.d(n,"editCardCoordinates",(function(){return pr})),r.d(n,"changeLine",(function(){return fr})),r.d(n,"changeScene",(function(){return hr})),r.d(n,"changeBook",(function(){return mr})),r.d(n,"reorderCardsWithinLine",(function(){return gr})),r.d(n,"reorderCardsInChapter",(function(){return br})),r.d(n,"deleteCard",(function(){return vr})),r.d(n,"addCharacter",(function(){return yr})),r.d(n,"addPlace",(function(){return _r})),r.d(n,"addTag",(function(){return Er})),r.d(n,"removeCharacter",(function(){return wr})),r.d(n,"removePlace",(function(){return Or})),r.d(n,"removeTag",(function(){return xr}));var a={};r.r(a),r.d(a,"addScene",(function(){return kr})),r.d(a,"editSceneTitle",(function(){return Ir})),r.d(a,"reorderScenes",(function(){return jr})),r.d(a,"deleteScene",(function(){return Sr})),r.d(a,"autoSortChapter",(function(){return Tr}));var i={};r.r(i),r.d(i,"addBeat",(function(){return Ar})),r.d(i,"editBeatTitle",(function(){return Nr})),r.d(i,"reorderBeats",(function(){return Dr})),r.d(i,"deleteBeat",(function(){return Pr})),r.d(i,"autoSortBeat",(function(){return Rr}));var o={};r.r(o),r.d(o,"addImage",(function(){return li})),r.d(o,"renameImage",(function(){return ui})),r.d(o,"deleteImage",(function(){return di}));var s={};r.r(s),r.d(s,"addTag",(function(){return Fo})),r.d(s,"addCreatedTag",(function(){return Lo})),r.d(s,"editTag",(function(){return Bo})),r.d(s,"deleteTag",(function(){return qo}));var c={};r.r(c),r.d(c,"addCharacter",(function(){return Hs})),r.d(c,"addCharacterWithTemplate",(function(){return zs})),r.d(c,"editCharacter",(function(){return Us})),r.d(c,"deleteCharacter",(function(){return Ws})),r.d(c,"addTag",(function(){return Gs})),r.d(c,"removeTag",(function(){return Vs})),r.d(c,"addBook",(function(){return Ks})),r.d(c,"removeBook",(function(){return $s}));var l={};r.r(l),r.d(l,"addCharacterAttr",(function(){return Ys})),r.d(l,"removeCharacterAttr",(function(){return Js})),r.d(l,"editCharacterAttr",(function(){return Xs})),r.d(l,"addPlaceAttr",(function(){return Zs})),r.d(l,"removePlaceAttr",(function(){return Qs})),r.d(l,"editPlaceAttr",(function(){return ec})),r.d(l,"addCardAttr",(function(){return tc})),r.d(l,"removeCardAttr",(function(){return rc})),r.d(l,"addLineAttr",(function(){return nc})),r.d(l,"removeLineAttr",(function(){return ac})),r.d(l,"addSceneAttr",(function(){return ic})),r.d(l,"removeSceneAttr",(function(){return oc}));var u={};r.r(u),r.d(u,"addPlace",(function(){return Lc})),r.d(u,"editPlace",(function(){return Bc})),r.d(u,"deletePlace",(function(){return qc})),r.d(u,"addTag",(function(){return Hc})),r.d(u,"removeTag",(function(){return zc})),r.d(u,"addBook",(function(){return Uc})),r.d(u,"removeBook",(function(){return Wc}));var d={};r.r(d),r.d(d,"addNote",(function(){return rl})),r.d(d,"editNote",(function(){return nl})),r.d(d,"deleteNote",(function(){return al})),r.d(d,"addCharacter",(function(){return il})),r.d(d,"addPlace",(function(){return ol})),r.d(d,"addTag",(function(){return sl})),r.d(d,"addBook",(function(){return cl})),r.d(d,"removeCharacter",(function(){return ll})),r.d(d,"removePlace",(function(){return ul})),r.d(d,"removeTag",(function(){return dl})),r.d(d,"removeBook",(function(){return pl}));var p={};r.r(p),r.d(p,"addLine",(function(){return Hd})),r.d(p,"addLinesFromTemplate",(function(){return zd})),r.d(p,"editLineTitle",(function(){return Ud})),r.d(p,"editLineColor",(function(){return Wd})),r.d(p,"reorderLines",(function(){return Gd})),r.d(p,"deleteLine",(function(){return Vd})),r.d(p,"expandLine",(function(){return Kd})),r.d(p,"collapseLine",(function(){return $d}));var f={};r.r(f),r.d(f,"addLine",(function(){return Yd})),r.d(f,"addLinesFromTemplate",(function(){return Jd})),r.d(f,"editLineTitle",(function(){return Xd})),r.d(f,"editLineColor",(function(){return Zd})),r.d(f,"reorderLines",(function(){return Qd})),r.d(f,"deleteLine",(function(){return ep})),r.d(f,"expandLine",(function(){return tp})),r.d(f,"collapseLine",(function(){return rp}));var h={};r.r(h),r.d(h,"editSeries",(function(){return Fp}));var m={};r.r(m),r.d(m,"addBook",(function(){return Hp})),r.d(m,"editBook",(function(){return zp})),r.d(m,"deleteBook",(function(){return Up})),r.d(m,"reorderBooks",(function(){return Wp}));var g=r(12),b=r(0),v=r.n(b),y=r(1),_=r.n(y),E=r(10),w=r(11),O=r(35),x=r(370),C=r(27),k=r(9),I=r(13),j=r(14),S=r(19),T=r(6),A=r.n(T),N=r(2),D=r.n(N),P=r(84),R=r.n(P),M=r(85),F=r(7),L=r(22),B={active:D.a.bool,disabled:D.a.bool,divider:R()(D.a.bool,(function(e){var t=e.divider,r=e.children;return t&&r?new Error("Children will not be rendered for dividers"):null})),eventKey:D.a.any,header:D.a.bool,href:D.a.string,onClick:D.a.func,onSelect:D.a.func},q=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleClick=n.handleClick.bind(Object(S.a)(Object(S.a)(n))),n}Object(j.a)(t,e);var r=t.prototype;return r.handleClick=function(e){var t=this.props,r=t.href,n=t.disabled,a=t.onSelect,i=t.eventKey;r&&!n||e.preventDefault(),n||a&&a(i,e)},r.render=function(){var e=this.props,t=e.active,r=e.disabled,n=e.divider,a=e.header,i=e.onClick,o=e.className,s=e.style,c=Object(I.a)(e,["active","disabled","divider","header","onClick","className","style"]),l=Object(F.g)(c,["eventKey","onSelect"]),u=l[0],d=l[1];return n?(d.children=void 0,v.a.createElement("li",Object(k.a)({},d,{role:"separator",className:A()(o,"divider"),style:s}))):a?v.a.createElement("li",Object(k.a)({},d,{role:"heading",className:A()(o,Object(F.e)(u,"header")),style:s})):v.a.createElement("li",{role:"presentation",className:A()(o,{active:t,disabled:r}),style:s},v.a.createElement(M.a,Object(k.a)({},d,{role:"menuitem",tabIndex:"-1",onClick:Object(L.a)(i,this.handleClick)})))},t}(v.a.Component);q.propTypes=B,q.defaultProps={divider:!1,disabled:!1,header:!1};var H=Object(F.a)("dropdown",q),z=r(242),U=r.n(z),W=r(83),G=r.n(W),V=r(56),K=r.n(V),$=r(8),Y=r.n($),J=r(28),X=r.n(J),Z=r(173),Q=r.n(Z),ee=r(174),te=r.n(ee),re=(r(100),r(114)),ne={vertical:D.a.bool,justified:D.a.bool,block:R()(D.a.bool,(function(e){var t=e.block,r=e.vertical;return t&&!r?new Error("`block` requires `vertical` to be set to have any effect"):null}))},ae=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e,t=this.props,r=t.block,n=t.justified,a=t.vertical,i=t.className,o=Object(I.a)(t,["block","justified","vertical","className"]),s=Object(F.f)(o),c=s[0],l=s[1],u=Object(k.a)({},Object(F.d)(c),((e={})[Object(F.e)(c)]=!a,e[Object(F.e)(c,"vertical")]=a,e[Object(F.e)(c,"justified")]=n,e[Object(F.e)(re.a.defaultProps,"block")]=r,e));return v.a.createElement("div",Object(k.a)({},l,{className:A()(i,u)}))},t}(v.a.Component);ae.propTypes=ne,ae.defaultProps={block:!1,justified:!1,vertical:!1};var ie=Object(F.a)("btn-group",ae),oe=r(369),se=r.n(oe),ce=r(243),le=r.n(ce),ue=r(49),de={open:D.a.bool,pullRight:D.a.bool,onClose:D.a.func,labelledBy:D.a.oneOfType([D.a.string,D.a.number]),onSelect:D.a.func,rootCloseEvent:D.a.oneOf(["click","mousedown"])},pe=function(e){function t(t){var r;return(r=e.call(this,t)||this).handleRootClose=r.handleRootClose.bind(Object(S.a)(Object(S.a)(r))),r.handleKeyDown=r.handleKeyDown.bind(Object(S.a)(Object(S.a)(r))),r}Object(j.a)(t,e);var r=t.prototype;return r.getFocusableMenuItems=function(){var e=Y.a.findDOMNode(this);return e?se()(e.querySelectorAll('[tabIndex="-1"]')):[]},r.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=e.indexOf(document.activeElement);return{items:e,activeIndex:t}},r.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,r=e.activeIndex;0!==t.length&&t[r===t.length-1?0:r+1].focus()},r.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,r=e.activeIndex;0!==t.length&&t[0===r?t.length-1:r-1].focus()},r.handleKeyDown=function(e){switch(e.keyCode){case K.a.codes.down:this.focusNext(),e.preventDefault();break;case K.a.codes.up:this.focusPrevious(),e.preventDefault();break;case K.a.codes.esc:case K.a.codes.tab:this.props.onClose(e,{source:"keydown"})}},r.handleRootClose=function(e){this.props.onClose(e,{source:"rootClose"})},r.render=function(){var e,t=this,r=this.props,n=r.open,a=r.pullRight,i=r.labelledBy,o=r.onSelect,s=r.className,c=r.rootCloseEvent,l=r.children,u=Object(I.a)(r,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),d=Object(F.g)(u,["onClose"]),p=d[0],f=d[1],h=Object(k.a)({},Object(F.d)(p),((e={})[Object(F.e)(p,"right")]=a,e));return v.a.createElement(le.a,{disabled:!n,onRootClose:this.handleRootClose,event:c},v.a.createElement("ul",Object(k.a)({},f,{role:"menu",className:A()(s,h),"aria-labelledby":i}),ue.a.map(l,(function(e){return v.a.cloneElement(e,{onKeyDown:Object(L.a)(e.props.onKeyDown,t.handleKeyDown),onSelect:Object(L.a)(e.props.onSelect,o)})}))))},t}(v.a.Component);pe.propTypes=de,pe.defaultProps={bsRole:"menu",pullRight:!1};var fe=Object(F.a)("dropdown-menu",pe),he={noCaret:D.a.bool,open:D.a.bool,title:D.a.string,useAnchor:D.a.bool},me=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.noCaret,r=e.open,n=e.useAnchor,a=e.bsClass,i=e.className,o=e.children,s=Object(I.a)(e,["noCaret","open","useAnchor","bsClass","className","children"]);delete s.bsRole;var c=n?M.a:re.a,l=!t;return v.a.createElement(c,Object(k.a)({},s,{role:"button",className:A()(i,a),"aria-haspopup":!0,"aria-expanded":r}),o||s.title,l&&" ",l&&v.a.createElement("span",{className:"caret"}))},t}(v.a.Component);me.propTypes=he,me.defaultProps={open:!1,useAnchor:!1,bsRole:"toggle"};var ge=Object(F.a)("dropdown-toggle",me),be=r(105),ve=r.n(be);D.a.oneOfType([D.a.string,D.a.number]);var ye=ge.defaultProps.bsRole,_e=fe.defaultProps.bsRole,Ee={dropup:D.a.bool,id:Q()(D.a.oneOfType([D.a.string,D.a.number])),componentClass:X.a,children:R()(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ve()((function(e,r,n){var a;return t.every((function(t){return!!ue.a.some(e.children,(function(e){return e.props.bsRole===t}))||(a=t,!1)})),a?new Error("(children) "+n+" - Missing a required child with bsRole: "+a+". "+n+" must have at least one child of each of the following bsRoles: "+t.join(", ")):null}))}(ye,_e),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ve()((function(e,r,n){var a;return t.every((function(t){return!(ue.a.filter(e.children,(function(e){return e.props.bsRole===t})).length>1)||(a=t,!1)})),a?new Error("(children) "+n+" - Duplicate children detected of bsRole: "+a+". Only one child each allowed with the following bsRoles: "+t.join(", ")):null}))}(_e)),disabled:D.a.bool,pullRight:D.a.bool,open:D.a.bool,defaultOpen:D.a.bool,onToggle:D.a.func,onSelect:D.a.func,role:D.a.string,rootCloseEvent:D.a.oneOf(["click","mousedown"]),onMouseEnter:D.a.func,onMouseLeave:D.a.func},we={componentClass:ie},Oe=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleClick=n.handleClick.bind(Object(S.a)(Object(S.a)(n))),n.handleKeyDown=n.handleKeyDown.bind(Object(S.a)(Object(S.a)(n))),n.handleClose=n.handleClose.bind(Object(S.a)(Object(S.a)(n))),n._focusInDropdown=!1,n.lastOpenEventType=null,n}Object(j.a)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.focusNextOnOpen()},r.componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=G()(Y.a.findDOMNode(this.menu),U()(document)))},r.componentDidUpdate=function(e){var t=this.props.open,r=e.open;t&&!r&&this.focusNextOnOpen(),!t&&r&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},r.focus=function(){var e=Y.a.findDOMNode(this.toggle);e&&e.focus&&e.focus()},r.focusNextOnOpen=function(){var e=this.menu;e&&e.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||e.focusNext())},r.handleClick=function(e){this.props.disabled||this.toggleOpen(e,{source:"click"})},r.handleClose=function(e,t){this.props.open&&this.toggleOpen(e,t)},r.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case K.a.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(e,{source:"keydown"}),e.preventDefault();break;case K.a.codes.esc:case K.a.codes.tab:this.handleClose(e,{source:"keydown"})}},r.toggleOpen=function(e,t){var r=!this.props.open;r&&(this.lastOpenEventType=t.source),this.props.onToggle&&this.props.onToggle(r,e,t)},r.renderMenu=function(e,t){var r=this,n=t.id,a=t.onSelect,i=t.rootCloseEvent,o=Object(I.a)(t,["id","onSelect","rootCloseEvent"]),s=function(e){r.menu=e};return"string"==typeof e.ref||(s=Object(L.a)(e.ref,s)),Object(b.cloneElement)(e,Object(k.a)({},o,{ref:s,labelledBy:n,bsClass:Object(F.e)(o,"menu"),onClose:Object(L.a)(e.props.onClose,this.handleClose),onSelect:Object(L.a)(e.props.onSelect,a,(function(e,t){return r.handleClose(t,{source:"select"})})),rootCloseEvent:i}))},r.renderToggle=function(e,t){var r=this,n=function(e){r.toggle=e};return"string"==typeof e.ref||(n=Object(L.a)(e.ref,n)),Object(b.cloneElement)(e,Object(k.a)({},t,{ref:n,bsClass:Object(F.e)(t,"toggle"),onClick:Object(L.a)(e.props.onClick,this.handleClick),onKeyDown:Object(L.a)(e.props.onKeyDown,this.handleKeyDown)}))},r.render=function(){var e,t=this,r=this.props,n=r.componentClass,a=r.id,i=r.dropup,o=r.disabled,s=r.pullRight,c=r.open,l=r.onSelect,u=r.role,d=r.bsClass,p=r.className,f=r.rootCloseEvent,h=r.children,m=Object(I.a)(r,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete m.onToggle;var g=((e={})[d]=!0,e.open=c,e.disabled=o,e);return i&&(g[d]=!1,g.dropup=!0),v.a.createElement(n,Object(k.a)({},m,{className:A()(p,g)}),ue.a.map(h,(function(e){switch(e.props.bsRole){case ye:return t.renderToggle(e,{id:a,disabled:o,open:c,role:u,bsClass:d});case _e:return t.renderMenu(e,{id:a,open:c,pullRight:s,bsClass:d,onSelect:l,rootCloseEvent:f});default:return e}})))},t}(v.a.Component);Oe.propTypes=Ee,Oe.defaultProps=we,Object(F.a)("dropdown",Oe);var xe=te()(Oe,{open:"onToggle"});xe.Toggle=ge,xe.Menu=fe;var Ce=xe,ke=r(109),Ie=Object(k.a)({},Ce.propTypes,{title:D.a.node.isRequired,noCaret:D.a.bool,active:D.a.bool,activeKey:D.a.any,activeHref:D.a.string,children:D.a.node}),je=function(e){function t(){return e.apply(this,arguments)||this}Object(j.a)(t,e);var r=t.prototype;return r.isActive=function(e,t,r){var n=this,a=e.props;return!!(a.active||null!=t&&a.eventKey===t||r&&a.href===r)||(!!ue.a.some(a.children,(function(e){return n.isActive(e,t,r)}))||a.active)},r.render=function(){var e=this,t=this.props,r=t.title,n=t.activeKey,a=t.activeHref,i=t.className,o=t.style,s=t.children,c=Object(I.a)(t,["title","activeKey","activeHref","className","style","children"]),l=this.isActive(this,n,a);delete c.active,delete c.eventKey;var u=Object(ke.a)(c,Ce.ControlledComponent),d=u[0],p=u[1];return v.a.createElement(Ce,Object(k.a)({},d,{componentClass:"li",className:A()(i,{active:l}),style:o}),v.a.createElement(Ce.Toggle,Object(k.a)({},p,{useAnchor:!0}),r),v.a.createElement(Ce.Menu,null,ue.a.map(s,(function(t){return v.a.cloneElement(t,{active:e.isActive(t,n,a)})}))))},t}(v.a.Component);je.propTypes=Ie;var Se=je,Te=r(3),Ae=r.n(Te);function Ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const De=["notes","characters","places","tags"];class Pe extends b.Component{constructor(...e){super(...e),Ne(this,"isDisabled",()=>De.includes(this.props.ui.currentView)),Ne(this,"bookTitle",e=>e.title||Ae()("Untitled"))}handleChange(e){this.props.actions.changeCurrentTimeline(e),"story"==this.props.ui.currentView&&this.props.actions.changeCurrentView("timeline")}renderBookList(){const{books:e}=this.props;return e.allIds.map(t=>{const r=e[t]||e[`${t}`];return v.a.createElement(H,{key:t,onSelect:()=>this.handleChange(t)},this.bookTitle(r))})}render(){const{ui:e,books:t,series:r}=this.props,n=""==r.name?Ae()("Series View"):`${r.name} (${Ae()("Series View")})`;let a=n;return"series"!=e.currentTimeline&&(a=this.bookTitle(t[e.currentTimeline])),v.a.createElement(Se,{id:"book_chooser",title:a,disabled:this.isDisabled()},v.a.createElement(H,{onSelect:()=>this.handleChange("series")},n),v.a.createElement(H,{divider:!0}),this.renderBookList())}}Ne(Pe,"propTypes",{ui:_.a.object.isRequired,books:_.a.object.isRequired,series:_.a.object.isRequired,actions:_.a.object.isRequired});var Re=Object(w.connect)((function(e){return{ui:e.present.ui,books:e.present.books,series:e.present.series}}),(function(e){return{actions:Object(E.bindActionCreators)(O,e)}}))(Pe);function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fe extends b.Component{constructor(...e){super(...e),Me(this,"state",{checking:!1,available:!1,finishedChecking:!1,downloadInProgress:!1,percentDownloaded:0,finishedDownloading:!1,info:null}),Me(this,"goToChangelog",()=>{g.shell.openExternal("https://getplottr.com/changelog")}),Me(this,"startDownload",()=>{g.ipcRenderer.send("updater-doTheThing"),this.setState({downloadInProgress:!0})}),Me(this,"quitToInstall",()=>{g.ipcRenderer.send("updater-ZhuLi-doTheThing")})}componentDidMount(){g.ipcRenderer.on("updater-error",e=>{this.setState({checking:!1,finishedChecking:!0,available:!1}),setTimeout(()=>this.setState({finishedChecking:!1}),1e4)}),g.ipcRenderer.on("updater-checking",e=>{this.setState({checking:!0}),setTimeout(()=>this.setState({checking:!1}),5e3)}),g.ipcRenderer.on("updater-update-available",(e,t)=>{this.setState({checking:!1,available:!0,info:t})}),g.ipcRenderer.on("updater-update-not-available",e=>{this.setState({checking:!1,finishedChecking:!0,available:!1}),setTimeout(()=>this.setState({finishedChecking:!1}),1e4)}),g.ipcRenderer.on("updater-downloaded",(e,t)=>{this.setState({finishedDownloading:!0,percentDownloaded:100})}),g.ipcRenderer.on("updater-download-progress",(e,{progress:t})=>{this.setState({downloadInProgress:!0,percentDownloaded:Math.floor(t.percent)})})}renderLoadingDots(){return this.state.checking?v.a.createElement("span",{className:"loading-dots"},v.a.createElement("span",{className:"one"},"."),v.a.createElement("span",{className:"two"},"."),v.a.createElement("span",{className:"three"},".")):null}renderText(){const{checking:e,available:t,finishedChecking:r,downloadInProgress:n,percentDownloaded:a,finishedDownloading:i,info:o}=this.state,s=o&&o.version?o.version:"";let c="";return e&&(c=Ae()("Checking for updates")),r&&!t&&(c=Ae()("No updates available")),t&&(c=Ae()("Update Available ({version}): Download Now!",{version:`v${s}`})),n&&(c=Ae()("Downloading {version} ({percent}%)",{version:`v${s}`,percent:a})),i&&(c=Ae()("Download Complete: Click to Install ({version})",{version:`v${s}`})),c?v.a.createElement("span",null,c,this.renderLoadingDots()):null}render(){const e=this.renderText();if(!e)return null;const{available:t,finishedDownloading:r}=this.state;return t||r?v.a.createElement("button",{onClick:r?this.quitToInstall:this.startDownload,className:"btn-default update-notifier"},e):v.a.createElement("div",{className:"update-notifier btn-default"},e)}}var Le=r(53);var Be=function(e){Object(b.useEffect)(()=>{if(window.Beamer){const e={callback:t,onclick:r};Le.a.get("payment_id")&&(e.user_email=Le.a.get("customer_email"),e.user_id=Le.a.get("payment_id")),window.Beamer.update(e),window.Beamer.init()}},[]);const t=e=>{},r=(e,t)=>(g.shell.openExternal(e),!1);return window.Beamer?v.a.createElement("ul",{className:"nav navbar-nav navbar-right",style:{marginRight:"2px"}},v.a.createElement("li",null,v.a.createElement("a",{id:"beamer-bell",href:"#"},v.a.createElement(C.m,null)))):null};var qe="true"===process.env.TRIALMODE;class He extends b.Component{constructor(e){var t,r,n;super(e),n=()=>{this.setState({showHistory:!this.state.showHistory})},(r="toggleShowHistory")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.state={showHistory:!1,isDev:!1}}renderTrialLinks(){return qe?v.a.createElement("ul",{className:"nav navbar-nav navbar-right",style:{marginRight:"15px"}},v.a.createElement("li",null,v.a.createElement("a",{href:"#",style:{color:"hsl(210, 83%, 53%)"},onClick:()=>g.ipcRenderer.send("open-buy-window")},v.a.createElement(x.a,{glyph:"shopping-cart"})," ",Ae()("Buy Full Version"))),v.a.createElement("li",null,v.a.createElement("a",{href:"#",style:{color:"hsl(210, 83%, 53%)"},onClick:()=>g.ipcRenderer.send("verify-from-expired")},v.a.createElement(C.h,null)," ",Ae()("Activate License")))):null}render(){let e=A()("navbar","navbar-default","navbar-fixed-top",{"navbar-inverse":this.props.ui.darkMode});return v.a.createElement("nav",{className:e,role:"navigation"},v.a.createElement("div",{className:"collapse navbar-collapse"},v.a.createElement("div",{className:"navbar-header"},v.a.createElement("button",{type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#navbar-collapse-1"},v.a.createElement("span",{className:"sr-only"},Ae()("Toggle navigation")),v.a.createElement("span",{className:"icon-bar"}),v.a.createElement("span",{className:"icon-bar"}),v.a.createElement("span",{className:"icon-bar"}))),v.a.createElement("ul",{className:"nav navbar-nav",style:{marginLeft:"15px",marginRight:"10px"}},v.a.createElement(Re,null)),v.a.createElement("ul",{className:"nav navbar-nav"},v.a.createElement("li",{className:this.isActive("story")},v.a.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("story")},Ae()("Project"))),v.a.createElement("li",{className:this.isActive("timeline")},v.a.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("timeline")},Ae()("Timeline"))),v.a.createElement("li",{className:this.isActive("outline")},v.a.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("outline")},Ae()("Outline"))),v.a.createElement("li",{className:this.isActive("notes")},v.a.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("notes")},Ae()("Notes"))),v.a.createElement("li",{className:this.isActive("characters")},v.a.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("characters")},Ae()("Characters"))),v.a.createElement("li",{className:this.isActive("places")},v.a.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("places")},Ae()("Places"))),v.a.createElement("li",{className:this.isActive("tags")},v.a.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("tags")},Ae()("Tags"))),this.state.isDev?v.a.createElement("li",{className:this.isActive("analyzer")},v.a.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("analyzer")},"Analyzer",v.a.createElement("sup",null,"(DEV)"))):null),this.renderTrialLinks(),v.a.createElement(Be,null)),qe?null:v.a.createElement(Fe,null))}isActive(e){if(e===this.props.ui.currentView)return"active"}}He.propTypes={ui:_.a.object.isRequired,actions:_.a.object.isRequired};var ze=Object(w.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(O,e)}}))(He),Ue=r(175),We=r(46),Ge=r.n(We);const Ve=Object(Ue.a)("ErrorBoundary");class Ke extends b.Component{constructor(...e){var t,r,n;super(...e),n={hasError:!1},(r="state")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){Ge.a.error(e,t),Ve.error(e,t)}render(){return this.state.hasError?v.a.createElement("div",{className:"text-center"},v.a.createElement("h1",null,Ae()("Something went wrong.")),v.a.createElement("p",{style:{fontSize:"20px"}},Ae()("Try that again, but if it keeps happening, use the help menu to create an error report and report the problem."))):this.props.children}}var $e={id:Q()(D.a.oneOfType([D.a.string,D.a.number])),placement:D.a.oneOf(["top","right","bottom","left"]),positionTop:D.a.oneOfType([D.a.number,D.a.string]),positionLeft:D.a.oneOfType([D.a.number,D.a.string]),arrowOffsetTop:D.a.oneOfType([D.a.number,D.a.string]),arrowOffsetLeft:D.a.oneOfType([D.a.number,D.a.string]),title:D.a.node},Ye=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e,t=this.props,r=t.placement,n=t.positionTop,a=t.positionLeft,i=t.arrowOffsetTop,o=t.arrowOffsetLeft,s=t.title,c=t.className,l=t.style,u=t.children,d=Object(I.a)(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"]),p=Object(F.f)(d),f=p[0],h=p[1],m=Object(k.a)({},Object(F.d)(f),((e={})[r]=!0,e)),g=Object(k.a)({display:"block",top:n,left:a},l),b={top:i,left:o};return v.a.createElement("div",Object(k.a)({},h,{role:"tooltip",className:A()(c,m),style:g}),v.a.createElement("div",{className:"arrow",style:b}),s&&v.a.createElement("h3",{className:Object(F.e)(f,"title")},s),v.a.createElement("div",{className:Object(F.e)(f,"content")},u))},t}(v.a.Component);Ye.propTypes=$e,Ye.defaultProps={placement:"right"};var Je=Object(F.a)("popover",Ye),Xe=r(108),Ze=r.n(Xe),Qe=r(25),et=r(177),tt={onDismiss:D.a.func,closeLabel:D.a.string},rt=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e,t=this.props,r=t.onDismiss,n=t.closeLabel,a=t.className,i=t.children,o=Object(I.a)(t,["onDismiss","closeLabel","className","children"]),s=Object(F.f)(o),c=s[0],l=s[1],u=!!r,d=Object(k.a)({},Object(F.d)(c),((e={})[Object(F.e)(c,"dismissable")]=u,e));return v.a.createElement("div",Object(k.a)({},l,{role:"alert",className:A()(a,d)}),u&&v.a.createElement(et.a,{onClick:r,label:n}),i)},t}(v.a.Component);rt.propTypes=tt,rt.defaultProps={closeLabel:"Close alert"};var nt=Object(F.c)(Ze()(Qe.d),Qe.d.INFO,Object(F.a)("alert",rt)),at={fluid:D.a.bool,componentClass:X.a},it=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.fluid,r=e.componentClass,n=e.className,a=Object(I.a)(e,["fluid","componentClass","className"]),i=Object(F.f)(a),o=i[0],s=i[1],c=Object(F.e)(o,t&&"fluid");return v.a.createElement(r,Object(k.a)({},s,{className:A()(n,c)}))},t}(v.a.Component);it.propTypes=at,it.defaultProps={componentClass:"div",fluid:!1};var ot=Object(F.a)("container",it),st={$bs_navbar:D.a.shape({bsClass:D.a.string})},ct=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.children,n=Object(I.a)(e,["className","children"]),a=this.context.$bs_navbar||{bsClass:"navbar"},i=Object(F.e)(a,"brand");return v.a.isValidElement(r)?v.a.cloneElement(r,{className:A()(r.props.className,t,i)}):v.a.createElement("span",Object(k.a)({},n,{className:A()(t,i)}),r)},t}(v.a.Component);ct.contextTypes=st;var lt,ut=ct,dt=r(249),pt=r.n(dt),ft=r(106),ht=r.n(ft),mt=r(68),gt=r.n(mt);function bt(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}var vt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function yt(e){e.offsetHeight}var _t=((lt={})[mt.EXITED]="collapse",lt[mt.EXITING]="collapsing",lt[mt.ENTERING]="collapsing",lt[mt.ENTERED]="collapse in",lt),Et={in:D.a.bool,mountOnEnter:D.a.bool,unmountOnExit:D.a.bool,appear:D.a.bool,timeout:D.a.number,onEnter:D.a.func,onEntering:D.a.func,onEntered:D.a.func,onExit:D.a.func,onExiting:D.a.func,onExited:D.a.func,dimension:D.a.oneOfType([D.a.oneOf(["height","width"]),D.a.func]),getDimensionValue:D.a.func,role:D.a.string},wt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var r=t["offset"+bt(e)],n=vt[e];return r+pt()(ht()(t,n[0]),10)+pt()(ht()(t,n[1]),10)}},Ot=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(e){e.style[t.getDimension()]="0"},t.handleEntering=function(e){var r=t.getDimension();e.style[r]=t._getScrollDimensionValue(e,r)},t.handleEntered=function(e){e.style[t.getDimension()]=null},t.handleExit=function(e){var r=t.getDimension();e.style[r]=t.props.getDimensionValue(r,e)+"px",yt(e)},t.handleExiting=function(e){e.style[t.getDimension()]="0"},t}Object(j.a)(t,e);var r=t.prototype;return r.getDimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},r._getScrollDimensionValue=function(e,t){return e["scroll"+bt(t)]+"px"},r.render=function(){var e=this,t=this.props,r=t.onEnter,n=t.onEntering,a=t.onEntered,i=t.onExit,o=t.onExiting,s=t.className,c=t.children,l=Object(I.a)(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete l.dimension,delete l.getDimensionValue;var u=Object(L.a)(this.handleEnter,r),d=Object(L.a)(this.handleEntering,n),p=Object(L.a)(this.handleEntered,a),f=Object(L.a)(this.handleExit,i),h=Object(L.a)(this.handleExiting,o);return v.a.createElement(gt.a,Object(k.a)({},l,{"aria-expanded":l.role?l.in:null,onEnter:u,onEntering:d,onEntered:p,onExit:f,onExiting:h}),(function(t,r){return v.a.cloneElement(c,Object(k.a)({},r,{className:A()(s,c.props.className,_t[t],"width"===e.getDimension()&&"width")}))}))},t}(v.a.Component);Ot.propTypes=Et,Ot.defaultProps=wt;var xt=Ot,Ct={$bs_navbar:D.a.shape({bsClass:D.a.string,expanded:D.a.bool})},kt=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,r=Object(I.a)(e,["children"]),n=this.context.$bs_navbar||{bsClass:"navbar"},a=Object(F.e)(n,"collapse");return v.a.createElement(xt,Object(k.a)({in:n.expanded},r),v.a.createElement("div",{className:a},t))},t}(v.a.Component);kt.contextTypes=Ct;var It=kt,jt={$bs_navbar:D.a.shape({bsClass:D.a.string})},St=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=Object(I.a)(e,["className"]),n=this.context.$bs_navbar||{bsClass:"navbar"},a=Object(F.e)(n,"header");return v.a.createElement("div",Object(k.a)({},r,{className:A()(t,a)}))},t}(v.a.Component);St.contextTypes=jt;var Tt=St,At={onClick:D.a.func,children:D.a.node},Nt={$bs_navbar:D.a.shape({bsClass:D.a.string,expanded:D.a.bool,onToggle:D.a.func.isRequired})},Dt=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,r=e.className,n=e.children,a=Object(I.a)(e,["onClick","className","children"]),i=this.context.$bs_navbar||{bsClass:"navbar"},o=Object(k.a)({type:"button"},a,{onClick:Object(L.a)(t,i.onToggle),className:A()(r,Object(F.e)(i,"toggle"),!i.expanded&&"collapsed")});return n?v.a.createElement("button",o,n):v.a.createElement("button",o,v.a.createElement("span",{className:"sr-only"},"Toggle navigation"),v.a.createElement("span",{className:"icon-bar"}),v.a.createElement("span",{className:"icon-bar"}),v.a.createElement("span",{className:"icon-bar"}))},t}(v.a.Component);Dt.propTypes=At,Dt.contextTypes=Nt;var Pt=Dt,Rt={fixedTop:D.a.bool,fixedBottom:D.a.bool,staticTop:D.a.bool,inverse:D.a.bool,fluid:D.a.bool,componentClass:X.a,onToggle:D.a.func,onSelect:D.a.func,collapseOnSelect:D.a.bool,expanded:D.a.bool,role:D.a.string},Mt={$bs_navbar:D.a.shape({bsClass:D.a.string,expanded:D.a.bool,onToggle:D.a.func.isRequired,onSelect:D.a.func})},Ft=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleToggle=n.handleToggle.bind(Object(S.a)(Object(S.a)(n))),n.handleCollapse=n.handleCollapse.bind(Object(S.a)(Object(S.a)(n))),n}Object(j.a)(t,e);var r=t.prototype;return r.getChildContext=function(){var e=this.props,t=e.bsClass,r=e.expanded,n=e.onSelect,a=e.collapseOnSelect;return{$bs_navbar:{bsClass:t,expanded:r,onToggle:this.handleToggle,onSelect:Object(L.a)(n,a?this.handleCollapse:null)}}},r.handleCollapse=function(){var e=this.props,t=e.onToggle;e.expanded&&t(!1)},r.handleToggle=function(){var e=this.props;(0,e.onToggle)(!e.expanded)},r.render=function(){var e,t=this.props,r=t.componentClass,n=t.fixedTop,a=t.fixedBottom,i=t.staticTop,o=t.inverse,s=t.fluid,c=t.className,l=t.children,u=Object(I.a)(t,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),d=Object(F.g)(u,["expanded","onToggle","onSelect","collapseOnSelect"]),p=d[0],f=d[1];void 0===f.role&&"nav"!==r&&(f.role="navigation"),o&&(p.bsStyle=Qe.e.INVERSE);var h=Object(k.a)({},Object(F.d)(p),((e={})[Object(F.e)(p,"fixed-top")]=n,e[Object(F.e)(p,"fixed-bottom")]=a,e[Object(F.e)(p,"static-top")]=i,e));return v.a.createElement(r,Object(k.a)({},f,{className:A()(c,h)}),v.a.createElement(ot,{fluid:s},l))},t}(v.a.Component);Ft.propTypes=Rt,Ft.defaultProps={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},Ft.childContextTypes=Mt,Object(F.a)("navbar",Ft);var Lt=te()(Ft,{expanded:"onToggle"});function Bt(e,t,r){var n=function(e,r){var n=e.componentClass,a=e.className,i=e.pullRight,o=e.pullLeft,s=Object(I.a)(e,["componentClass","className","pullRight","pullLeft"]),c=r.$bs_navbar,l=void 0===c?{bsClass:"navbar"}:c;return v.a.createElement(n,Object(k.a)({},s,{className:A()(a,Object(F.e)(l,t),i&&Object(F.e)(l,"right"),o&&Object(F.e)(l,"left"))}))};return n.displayName=r,n.propTypes={componentClass:X.a,pullRight:D.a.bool,pullLeft:D.a.bool},n.defaultProps={componentClass:e,pullRight:!1,pullLeft:!1},n.contextTypes={$bs_navbar:D.a.shape({bsClass:D.a.string})},n}Lt.Brand=ut,Lt.Header=Tt,Lt.Toggle=Pt,Lt.Collapse=It,Lt.Form=Bt("div","form","NavbarForm"),Lt.Text=Bt("p","text","NavbarText"),Lt.Link=Bt("a","link","NavbarLink");var qt=Object(F.c)([Qe.e.DEFAULT,Qe.e.INVERSE],Qe.e.DEFAULT,Lt),Ht={activeKey:D.a.any,activeHref:D.a.string,stacked:D.a.bool,justified:R()(D.a.bool,(function(e){var t=e.justified,r=e.navbar;return t&&r?Error("justified navbar `Nav`s are not supported"):null})),onSelect:D.a.func,role:D.a.string,navbar:D.a.bool,pullRight:D.a.bool,pullLeft:D.a.bool},zt={$bs_navbar:D.a.shape({bsClass:D.a.string,onSelect:D.a.func}),$bs_tabContainer:D.a.shape({activeKey:D.a.any,onSelect:D.a.func.isRequired,getTabId:D.a.func.isRequired,getPaneId:D.a.func.isRequired})},Ut=function(e){function t(){return e.apply(this,arguments)||this}Object(j.a)(t,e);var r=t.prototype;return r.componentDidUpdate=function(){var e=this;if(this._needsRefocus){this._needsRefocus=!1;var t=this.props.children,r=this.getActiveProps(),n=r.activeKey,a=r.activeHref,i=ue.a.find(t,(function(t){return e.isActive(t,n,a)})),o=ue.a.toArray(t).indexOf(i),s=Y.a.findDOMNode(this).children,c=s&&s[o];c&&c.firstChild&&c.firstChild.focus()}},r.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e||this.props},r.getNextActiveChild=function(e){var t=this,r=this.props.children,n=r.filter((function(e){return null!=e.props.eventKey&&!e.props.disabled})),a=this.getActiveProps(),i=a.activeKey,o=a.activeHref,s=ue.a.find(r,(function(e){return t.isActive(e,i,o)})),c=n.indexOf(s);if(-1===c)return n[0];var l=c+e,u=n.length;return l>=u?l=0:l<0&&(l=u-1),n[l]},r.getTabProps=function(e,t,r,n,a){var i=this;if(!t&&"tablist"!==r)return null;var o=e.props,s=o.id,c=o["aria-controls"],l=o.eventKey,u=o.role,d=o.onKeyDown,p=o.tabIndex;return t&&(s=t.getTabId(l),c=t.getPaneId(l)),"tablist"===r&&(u=u||"tab",d=Object(L.a)((function(e){return i.handleTabKeyDown(a,e)}),d),p=n?p:-1),{id:s,role:u,onKeyDown:d,"aria-controls":c,tabIndex:p}},r.handleTabKeyDown=function(e,t){var r;switch(t.keyCode){case K.a.codes.left:case K.a.codes.up:r=this.getNextActiveChild(-1);break;case K.a.codes.right:case K.a.codes.down:r=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&r&&null!=r.props.eventKey&&e(r.props.eventKey),this._needsRefocus=!0},r.isActive=function(e,t,r){var n=e.props;return!!(n.active||null!=t&&n.eventKey===t||r&&n.href===r)||n.active},r.render=function(){var e,t=this,r=this.props,n=r.stacked,a=r.justified,i=r.onSelect,o=r.role,s=r.navbar,c=r.pullRight,l=r.pullLeft,u=r.className,d=r.children,p=Object(I.a)(r,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),f=this.context.$bs_tabContainer,h=o||(f?"tablist":null),m=this.getActiveProps(),g=m.activeKey,y=m.activeHref;delete p.activeKey,delete p.activeHref;var _,E,w=Object(F.f)(p),O=w[0],x=w[1],C=Object(k.a)({},Object(F.d)(O),((e={})[Object(F.e)(O,"stacked")]=n,e[Object(F.e)(O,"justified")]=a,e)),j=null!=s?s:this.context.$bs_navbar;if(j){var S=this.context.$bs_navbar||{bsClass:"navbar"};C[Object(F.e)(S,"nav")]=!0,E=Object(F.e)(S,"right"),_=Object(F.e)(S,"left")}else E="pull-right",_="pull-left";return C[E]=c,C[_]=l,v.a.createElement("ul",Object(k.a)({},x,{role:h,className:A()(u,C)}),ue.a.map(d,(function(e){var r=t.isActive(e,g,y),n=Object(L.a)(e.props.onSelect,i,j&&j.onSelect,f&&f.onSelect);return Object(b.cloneElement)(e,Object(k.a)({},t.getTabProps(e,f,h,r,n),{active:r,activeKey:g,activeHref:y,onSelect:n}))})))},t}(v.a.Component);Ut.propTypes=Ht,Ut.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},Ut.contextTypes=zt;var Wt=Object(F.a)("nav",Object(F.c)(["tabs","pills"],Ut)),Gt={active:D.a.bool,disabled:D.a.bool,role:D.a.string,href:D.a.string,onClick:D.a.func,onSelect:D.a.func,eventKey:D.a.any},Vt=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleClick=n.handleClick.bind(Object(S.a)(Object(S.a)(n))),n}Object(j.a)(t,e);var r=t.prototype;return r.handleClick=function(e){this.props.disabled?e.preventDefault():this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},r.render=function(){var e=this.props,t=e.active,r=e.disabled,n=e.onClick,a=e.className,i=e.style,o=Object(I.a)(e,["active","disabled","onClick","className","style"]);return delete o.onSelect,delete o.eventKey,delete o.activeKey,delete o.activeHref,o.role?"tab"===o.role&&(o["aria-selected"]=t):"#"===o.href&&(o.role="button"),v.a.createElement("li",{role:"presentation",className:A()(a,{active:t,disabled:r}),style:i},v.a.createElement(M.a,Object(k.a)({},o,{disabled:r,onClick:Object(L.a)(n,this.handleClick)})))},t}(v.a.Component);Vt.propTypes=Gt,Vt.defaultProps={active:!1,disabled:!1};var Kt=Vt,$t=r(376),Yt=r.n($t),Jt=r(248),Xt=r.n(Jt),Zt=r(116),Qt=Object(k.a)({},Xt.a.propTypes,{show:D.a.bool,rootClose:D.a.bool,onHide:D.a.func,animation:D.a.oneOfType([D.a.bool,X.a]),onEnter:D.a.func,onEntering:D.a.func,onEntered:D.a.func,onExit:D.a.func,onExiting:D.a.func,onExited:D.a.func,placement:D.a.oneOf(["top","right","bottom","left"])}),er={animation:Zt.a,rootClose:!1,show:!1,placement:"right"},tr=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e,t=this.props,r=t.animation,n=t.children,a=Object(I.a)(t,["animation","children"]),i=!0===r?Zt.a:r||null;return e=i?n:Object(b.cloneElement)(n,{className:A()(n.props.className,"in")}),v.a.createElement(Xt.a,Object(k.a)({},a,{transition:i}),e)},t}(v.a.Component);tr.propTypes=Qt,tr.defaultProps=er;var rr=tr;function nr(e,t){return Yt()(t)?t.indexOf(e)>=0:e===t}var ar=D.a.oneOf(["click","hover","focus"]),ir=Object(k.a)({},rr.propTypes,{trigger:D.a.oneOfType([ar,D.a.arrayOf(ar)]),delay:D.a.number,delayShow:D.a.number,delayHide:D.a.number,defaultOverlayShown:D.a.bool,overlay:D.a.node.isRequired,onBlur:D.a.func,onClick:D.a.func,onFocus:D.a.func,onMouseOut:D.a.func,onMouseOver:D.a.func,target:D.a.oneOf([null]),onHide:D.a.oneOf([null]),show:D.a.oneOf([null])}),or=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleToggle=n.handleToggle.bind(Object(S.a)(Object(S.a)(n))),n.handleDelayedShow=n.handleDelayedShow.bind(Object(S.a)(Object(S.a)(n))),n.handleDelayedHide=n.handleDelayedHide.bind(Object(S.a)(Object(S.a)(n))),n.handleHide=n.handleHide.bind(Object(S.a)(Object(S.a)(n))),n.handleMouseOver=function(e){return n.handleMouseOverOut(n.handleDelayedShow,e,"fromElement")},n.handleMouseOut=function(e){return n.handleMouseOverOut(n.handleDelayedHide,e,"toElement")},n._mountNode=null,n.state={show:t.defaultOverlayShown},n}Object(j.a)(t,e);var r=t.prototype;return r.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},r.componentDidUpdate=function(){this.renderOverlay()},r.componentWillUnmount=function(){Y.a.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},r.handleDelayedHide=function(){var e=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var t=null!=this.props.delayHide?this.props.delayHide:this.props.delay;t?this._hoverHideDelay=setTimeout((function(){e._hoverHideDelay=null,e.hide()}),t):this.hide()}},r.handleDelayedShow=function(){var e=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var t=null!=this.props.delayShow?this.props.delayShow:this.props.delay;t?this._hoverShowDelay=setTimeout((function(){e._hoverShowDelay=null,e.show()}),t):this.show()}},r.handleHide=function(){this.hide()},r.handleMouseOverOut=function(e,t,r){var n=t.currentTarget,a=t.relatedTarget||t.nativeEvent[r];a&&a===n||G()(n,a)||e(t)},r.handleToggle=function(){this.state.show?this.hide():this.show()},r.hide=function(){this.setState({show:!1})},r.makeOverlay=function(e,t){return v.a.createElement(rr,Object(k.a)({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},r.show=function(){this.setState({show:!0})},r.renderOverlay=function(){Y.a.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},r.render=function(){var e=this.props,t=e.trigger,r=e.overlay,n=e.children,a=e.onBlur,i=e.onClick,o=e.onFocus,s=e.onMouseOut,c=e.onMouseOver,l=Object(I.a)(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete l.delay,delete l.delayShow,delete l.delayHide,delete l.defaultOverlayShown;var u=v.a.Children.only(n),d=u.props,p={};return this.state.show&&(p["aria-describedby"]=r.props.id),p.onClick=Object(L.a)(d.onClick,i),nr("click",t)&&(p.onClick=Object(L.a)(p.onClick,this.handleToggle)),nr("hover",t)&&(p.onMouseOver=Object(L.a)(d.onMouseOver,c,this.handleMouseOver),p.onMouseOut=Object(L.a)(d.onMouseOut,s,this.handleMouseOut)),nr("focus",t)&&(p.onFocus=Object(L.a)(d.onFocus,o,this.handleDelayedShow),p.onBlur=Object(L.a)(d.onBlur,a,this.handleDelayedHide)),this._overlay=this.makeOverlay(r,l),Object(b.cloneElement)(u,p)},t}(v.a.Component);or.propTypes=ir,or.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]};var sr=or,cr=r(4);function lr(e){return{type:cr.c,card:e}}function ur(e,t){return{type:cr.e,newCard:e,reorderIds:t}}function dr(e,t,r){return{type:cr.hb,id:e,title:t,description:r}}function pr(e,t,r,n){return{type:cr.gb,id:e,lineId:t,chapterId:r,bookId:n}}function fr(e,t,r){return{type:cr.L,id:e,lineId:t,bookId:r}}function hr(e,t,r){return{type:cr.N,id:e,chapterId:t,bookId:r}}function mr(e,t){return{type:cr.I,id:e,bookId:t}}function gr(e,t,r,n){return{type:cr.Xb,chapterId:e,lineId:t,isSeries:r,ids:n}}function br(e,t,r,n,a,i){return{type:cr.Wb,chapterId:e,lineId:t,isSeries:r,newOrderInChapter:n,newOrderWithinLine:a,newIdInChapter:i}}function vr(e){return{type:cr.V,id:e}}function yr(e,t){return{type:cr.y,id:e,characterId:t}}function _r(e,t){return{type:cr.A,id:e,placeId:t}}function Er(e,t){return{type:cr.C,id:e,tagId:t}}function wr(e,t){return{type:cr.Ib,id:e,characterId:t}}function Or(e,t){return{type:cr.Mb,id:e,placeId:t}}function xr(e,t){return{type:cr.Pb,id:e,tagId:t}}var Cr=r(15);function kr(e){return{type:cr.q,title:Cr.chapter.title,bookId:e}}function Ir(e,t){return{type:cr.pb,id:e,title:t}}function jr(e,t){return{type:cr.Zb,chapters:e,bookId:t}}function Sr(e,t){return{type:cr.bb,id:e,bookId:t}}function Tr(e){return{type:cr.H,id:e}}function Ar(){return{type:cr.a,title:Cr.beat.title}}function Nr(e,t){return{type:cr.eb,id:e,title:t}}function Dr(e){return{type:cr.Ub,beats:e}}function Pr(e){return{type:cr.T,id:e}}function Rr(e){return{type:cr.G,id:e}}var Mr=!("undefined"==typeof window||!window.document||!window.document.createElement);var Fr=void 0;function Lr(){return void 0===Fr&&(Fr=function(){if(!Mr)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};window.addEventListener("testPassiveEventSupport",r,t),window.removeEventListener("testPassiveEventSupport",r,t)}catch(e){}return e}()),Fr}function Br(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function qr(e){this.target=e,this.events={}}qr.prototype.getEventHandlers=function(e,t){var r,n=String(e)+" "+String((r=t)?!0===r?100:(r.capture<<0)+(r.passive<<1)+(r.once<<2):0);return this.events[n]||(this.events[n]={handlers:[],handleEvent:void 0},this.events[n].nextHandlers=this.events[n].handlers),this.events[n]},qr.prototype.handleEvent=function(e,t,r){var n=this.getEventHandlers(e,t);n.handlers=n.nextHandlers,n.handlers.forEach((function(e){e&&e(r)}))},qr.prototype.add=function(e,t,r){var n=this,a=this.getEventHandlers(e,r);Br(a),0===a.nextHandlers.length&&(a.handleEvent=this.handleEvent.bind(this,e,r),this.target.addEventListener(e,a.handleEvent,r)),a.nextHandlers.push(t);var i=!0;return function(){if(i){i=!1,Br(a);var o=a.nextHandlers.indexOf(t);a.nextHandlers.splice(o,1),0===a.nextHandlers.length&&(n.target&&n.target.removeEventListener(e,a.handleEvent,r),a.handleEvent=void 0)}}};function Hr(e,t,r,n){e.__consolidated_events_handlers__||(e.__consolidated_events_handlers__=new qr(e));var a=function(e){if(e)return Lr()?e:!!e.capture}(n);return e.__consolidated_events_handlers__.add(t,r,a)}var zr=r(96);function Ur(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kr(e,t){var r,n=(r=e,!isNaN(parseFloat(r))&&isFinite(r)?parseFloat(r):"px"===r.slice(-2)?parseFloat(r.slice(0,-2)):void 0);if("number"==typeof n)return n;var a=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"==typeof a?a*t:void 0}function $r(e){return"string"==typeof e.type}var Yr;var Jr=[];function Xr(e){Jr.push(e),Yr||(Yr=setTimeout((function(){var e;for(Yr=null;e=Jr.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var r=Jr.indexOf(e);-1!==r&&(Jr.splice(r,1),!Jr.length&&Yr&&(clearTimeout(Yr),Yr=null))}}}var Zr={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},Qr=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Vr(this,Wr(t).call(this,e))).refElement=function(e){r._ref=e},r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){var e=this;t.getWindow()&&(this.cancelOnNextTick=Xr((function(){e.cancelOnNextTick=null;var t=e.props,r=t.children;t.debug,function(e,t){if(e&&!$r(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(r,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=Hr(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=Hr(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;t.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=Xr((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){t.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var e=this.props,t=e.horizontal,r=e.scrollableAncestor;if(r)return function(e){return"window"===e?global.window:e}(r);for(var n=this._ref;n.parentNode;){if((n=n.parentNode)===document.body)return window;var a=window.getComputedStyle(n),i=(t?a.getPropertyValue("overflow-x"):a.getPropertyValue("overflow-y"))||a.getPropertyValue("overflow");if("auto"===i||"scroll"===i)return n}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),r=function(e){return e.viewportBottom-e.viewportTop==0?"invisible":e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?"inside":e.viewportBottom<e.waypointTop?"below":e.waypointTop<e.viewportTop?"above":"invisible"}(t),n=this._previousPosition,a=this.props,i=(a.debug,a.onPositionChange),o=a.onEnter,s=a.onLeave,c=a.fireOnRapidScroll;if(this._previousPosition=r,n!==r){var l={currentPosition:r,previousPosition:n,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};i.call(this,l),"inside"===r?o.call(this,l):"inside"===n&&s.call(this,l),c&&("below"===n&&"above"===r||"above"===n&&"below"===r)&&(o.call(this,{currentPosition:"inside",previousPosition:n,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),s.call(this,{currentPosition:r,previousPosition:"inside",event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,r=this.props,n=r.horizontal,a=(r.debug,this._ref.getBoundingClientRect()),i=a.left,o=a.top,s=a.right,c=a.bottom,l=n?i:o,u=n?s:c;this.scrollableAncestor===window?(e=n?window.innerWidth:window.innerHeight,t=0):(e=n?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=n?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var d=this.props,p=d.bottomOffset;return{waypointTop:l,waypointBottom:u,viewportTop:t+Kr(d.topOffset,e),viewportBottom:t+e-Kr(p,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?$r(t)||Object(zr.isForwardRef)(t)?v.a.cloneElement(t,{ref:function(r){e.refElement(r),t.ref&&("function"==typeof t.ref?t.ref(r):t.ref.current=r)}}):v.a.cloneElement(t,{innerRef:this.refElement}):v.a.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&Ur(r.prototype,n),a&&Ur(r,a),t}(v.a.PureComponent);Qr.above="above",Qr.below="below",Qr.inside="inside",Qr.invisible="invisible",Qr.getWindow=function(){if("undefined"!=typeof window)return window},Qr.defaultProps=Zr,Qr.displayName="Waypoint";var en=r(855),tn=r(858),rn=r(854),nn=function(e){function t(){return e.apply(this,arguments)||this}Object(j.a)(t,e);var r=t.prototype;return r.hasContent=function(e){var t=!1;return v.a.Children.forEach(e,(function(e){t||(e||0===e)&&(t=!0)})),t},r.render=function(){var e=this.props,t=e.className,r=e.children,n=Object(I.a)(e,["className","children"]),a=Object(F.f)(n),i=a[0],o=a[1],s=Object(k.a)({},Object(F.d)(i),{hidden:!this.hasContent(r)});return v.a.createElement("span",Object(k.a)({},o,{className:A()(t,s)}),r)},t}(v.a.Component),an=Object(F.a)("label",Object(F.c)(Ze()(Qe.d).concat([Qe.e.DEFAULT,Qe.e.PRIMARY]),Qe.e.DEFAULT,nn));const on=e=>{const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,t.fillStyle};class sn extends b.Component{render(){const{tag:e}=this.props;let t={backgroundColor:"white",color:"#16222d",border:"1px solid #16222d"};if(e.color){const[r,n]=(e=>{let t;t="#"==e[0]?e.replace("#",""):on(e).replace("#","");const[r,n,a]=[0,2,4].map(e=>parseInt(t.substr(e,2),16)),i=(299*r+587*n+114*a)/1e3;return[i>=180,i]})(e.color);r?t.backgroundColor=e.color:t={backgroundColor:e.color},n<200&&(t.border="none")}return v.a.createElement(an,{bsStyle:"info",style:t},e.title)}}sn.propTypes={tag:_.a.object.isRequired};var cn=sn,ln=r(115),un=r.n(ln),dn=r(5),pn=r(371),fn=r.n(pn);function hn(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function mn(e,t){return(!t||"hidden"!==e)&&("visible"!==e&&"clip"!==e)}function gn(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return mn(r.overflowY,t)||mn(r.overflowX,t)||function(e){var t=function(e){return e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView.frameElement:null}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function bn(e,t,r,n,a,i,o,s){return i<e&&o>t||i>e&&o<t?0:i<=e&&s<=r||o>=t&&s>=r?i-e-n:o>t&&s<r||i<e&&s>r?o-t+a:0}var vn=function(e,t){var r=t.scrollMode,n=t.block,a=t.inline,i=t.boundary,o=t.skipOverflowHiddenElements,s="function"==typeof i?i:function(e){return e!==i};if(!hn(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],u=e;hn(u)&&s(u);){if((u=u.parentNode)===c){l.push(u);break}u===document.body&&gn(u)&&!gn(document.documentElement)||gn(u,o)&&l.push(u)}for(var d=window.visualViewport?visualViewport.width:innerWidth,p=window.visualViewport?visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),g=m.height,b=m.width,v=m.top,y=m.right,_=m.bottom,E=m.left,w="start"===n||"nearest"===n?v:"end"===n?_:v+g/2,O="center"===a?E+b/2:"end"===a?y:E,x=[],C=0;C<l.length;C++){var k=l[C],I=k.getBoundingClientRect(),j=I.height,S=I.width,T=I.top,A=I.right,N=I.bottom,D=I.left;if("if-needed"===r&&v>=0&&E>=0&&_<=p&&y<=d&&v>=T&&_<=N&&E>=D&&y<=A)return x;var P=getComputedStyle(k),R=parseInt(P.borderLeftWidth,10),M=parseInt(P.borderTopWidth,10),F=parseInt(P.borderRightWidth,10),L=parseInt(P.borderBottomWidth,10),B=0,q=0,H="offsetWidth"in k?k.offsetWidth-k.clientWidth-R-F:0,z="offsetHeight"in k?k.offsetHeight-k.clientHeight-M-L:0;if(c===k)B="start"===n?w:"end"===n?w-p:"nearest"===n?bn(h,h+p,p,M,L,h+w,h+w+g,g):w-p/2,q="start"===a?O:"center"===a?O-d/2:"end"===a?O-d:bn(f,f+d,d,R,F,f+O,f+O+b,b),B=Math.max(0,B+h),q=Math.max(0,q+f);else{B="start"===n?w-T-M:"end"===n?w-N+L+z:"nearest"===n?bn(T,N,j,M,L+z,w,w+g,g):w-(T+j/2)+z/2,q="start"===a?O-D-R:"center"===a?O-(D+S/2)+H/2:"end"===a?O-A+F+H:bn(D,A,S,R,F+H,O,O+b,b);var U=k.scrollLeft,W=k.scrollTop;w+=W-(B=Math.max(0,Math.min(W+B,k.scrollHeight-j+z))),O+=U-(q=Math.max(0,Math.min(U+q,k.scrollWidth-S+H)))}x.push({el:k,top:B,left:q})}return x};function yn(e){return e===Object(e)&&0!==Object.keys(e).length}var _n=function(e,t){var r=!e.ownerDocument.documentElement.contains(e);if(yn(t)&&"function"==typeof t.behavior)return t.behavior(r?[]:vn(e,t));if(!r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:yn(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,a=e.top,i=e.left;n.scroll&&r?n.scroll({top:a,left:i,behavior:t}):(n.scrollTop=a,n.scrollLeft=i)}))}(vn(e,n),n.behavior)}},En=r(372),wn=r.n(En);const On=e=>{const{isLast:t,leaf:r,parent:n,text:a}=e,i=Vn(),o=Ea.findPath(i,a),s=dn.e.parent(o);return i.isVoid(n)?v.a.createElement(Cn,{length:dn.c.string(n).length}):""!==r.text||n.children[n.children.length-1]!==a||i.isInline(n)||""!==dn.a.string(i,s)?""===r.text?v.a.createElement(Cn,null):t&&"\n"===r.text.slice(-1)?v.a.createElement(xn,{isTrailing:!0,text:r.text}):v.a.createElement(xn,{text:r.text}):v.a.createElement(Cn,{isLineBreak:!0})},xn=e=>{const{text:t,isTrailing:r=!1}=e;return v.a.createElement("span",{"data-slate-string":!0},t,r?"\n":null)},Cn=e=>{const{length:t=0,isLineBreak:r=!1}=e;return v.a.createElement("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},"\ufeff",r?v.a.createElement("br",null):null)};var kn=new WeakMap,In=new WeakMap,jn=new WeakMap,Sn=new WeakMap,Tn=new WeakMap,An=new WeakMap,Nn=new WeakMap,Dn=new WeakMap,Pn=new WeakMap,Rn=new WeakMap,Mn=Symbol("placeholder");const Fn=v.a.memo(e=>{const{leaf:t,isLast:r,text:n,parent:a,renderLeaf:i=(e=>v.a.createElement(Ln,Object.assign({},e)))}=e;let o=v.a.createElement(On,{isLast:r,leaf:t,parent:a,text:n});t[Mn]&&(o=v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",verticalAlign:"text-top",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"}},t.placeholder),o));return i({attributes:{"data-slate-leaf":!0},children:o,leaf:t,text:n})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&dn.g.matches(t.leaf,e.leaf)),Ln=e=>{const{attributes:t,children:r}=e;return v.a.createElement("span",Object.assign({},t),r)};var Bn="undefined"!=typeof window?b.useLayoutEffect:b.useEffect;const qn=v.a.memo(e=>{const{decorations:t,isLast:r,parent:n,renderLeaf:a,text:i}=e,o=Vn(),s=Object(b.useRef)(null),c=dn.g.decorations(i,t),l=Ea.findKey(o,i),u=[];for(let e=0;e<c.length;e++){const t=c[e];u.push(v.a.createElement(Fn,{isLast:r&&e===c.length-1,key:`${l.id}-${e}`,leaf:t,text:i,parent:n,renderLeaf:a}))}return Bn(()=>{s.current?(Tn.set(l,s.current),An.set(i,s.current),Sn.set(s.current,i)):(Tn.delete(l),An.delete(i))}),v.a.createElement("span",{"data-slate-node":"text",ref:s},u)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text);var Hn=Object(b.createContext)(!1);const zn=v.a.memo(e=>{const{decorate:t,decorations:r,element:n,renderElement:a=(e=>v.a.createElement(Un,Object.assign({},e))),renderLeaf:i,selection:o}=e,s=Object(b.useRef)(null),c=Vn(),l=na(),u=c.isInline(n),d=Ea.findKey(c,n);let p=v.a.createElement(Kn,{decorate:t,decorations:r,node:n,renderElement:a,renderLeaf:i,selection:o});const f={"data-slate-node":"element",ref:s};if(u&&(f["data-slate-inline"]=!0),!u&&dn.a.hasInlines(c,n)){const e=dn.c.string(n),t=wn()(e);"rtl"===t&&(f.dir=t)}if(dn.a.isVoid(c,n)){f["data-slate-void"]=!0,!l&&u&&(f.contentEditable=!1);const e=u?"span":"div",[[t]]=dn.c.texts(n);p=l?null:v.a.createElement(e,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},v.a.createElement(qn,{decorations:[],isLast:!1,parent:n,text:t})),kn.set(t,0),In.set(t,n)}return Bn(()=>{s.current?(Tn.set(d,s.current),An.set(n,s.current),Sn.set(s.current,n)):(Tn.delete(d),An.delete(n))}),v.a.createElement(Hn.Provider,{value:!!o},a({attributes:f,children:p,element:n}))},(e,t)=>e.decorate===t.decorate&&e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&Wn(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&dn.f.equals(e.selection,t.selection))),Un=e=>{const{attributes:t,children:r,element:n}=e,a=Vn().isInline(n)?"span":"div";return v.a.createElement(a,Object.assign({},t,{style:{position:"relative"}}),r)},Wn=(e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const n=e[r],a=t[r];if(!dn.f.equals(n,a))return!1}return!0},Gn=Object(b.createContext)(null),Vn=()=>{const e=Object(b.useContext)(Gn);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},Kn=e=>{const{decorate:t,decorations:r,node:n,renderElement:a,renderLeaf:i,selection:o}=e,s=Vn(),c=Ea.findPath(s,n),l=[],u=dn.b.isElement(n)&&!s.isInline(n)&&dn.a.hasInlines(s,n);for(let e=0;e<n.children.length;e++){const d=c.concat(e),p=n.children[e],f=Ea.findKey(s,p),h=dn.a.range(s,d),m=o&&dn.f.intersection(h,o),g=t([p,d]);for(const e of r){const t=dn.f.intersection(e,h);t&&g.push(t)}dn.b.isElement(p)?l.push(v.a.createElement(zn,{decorate:t,decorations:g,element:p,key:f.id,renderElement:a,renderLeaf:i,selection:m})):l.push(v.a.createElement(qn,{decorations:g,key:f.id,isLast:u&&e===n.children.length-1,parent:n,renderLeaf:i,text:p})),kn.set(p,e),In.set(p,n)}return v.a.createElement(v.a.Fragment,null,l)};"undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream;var $n="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),Yn="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Jn="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Xn={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},Zn={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Qn={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ea=e=>{var t=Xn[e],r=Zn[e],n=Qn[e],a=t&&Object(ln.isKeyHotkey)(t),i=r&&Object(ln.isKeyHotkey)(r),o=n&&Object(ln.isKeyHotkey)(n);return e=>!(!a||!a(e))||(!!($n&&i&&i(e))||!($n||!o||!o(e)))},ta={isBold:ea("bold"),isCompose:ea("compose"),isMoveBackward:ea("moveBackward"),isMoveForward:ea("moveForward"),isDeleteBackward:ea("deleteBackward"),isDeleteForward:ea("deleteForward"),isDeleteLineBackward:ea("deleteLineBackward"),isDeleteLineForward:ea("deleteLineForward"),isDeleteWordBackward:ea("deleteWordBackward"),isDeleteWordForward:ea("deleteWordForward"),isExtendBackward:ea("extendBackward"),isExtendForward:ea("extendForward"),isExtendLineBackward:ea("extendLineBackward"),isExtendLineForward:ea("extendLineForward"),isItalic:ea("italic"),isMoveLineBackward:ea("moveLineBackward"),isMoveLineForward:ea("moveLineForward"),isMoveWordBackward:ea("moveWordBackward"),isMoveWordForward:ea("moveWordForward"),isRedo:ea("redo"),isSplitBlock:ea("splitBlock"),isTransposeCharacter:ea("transposeCharacter"),isUndo:ea("undo")},ra=Object(b.createContext)(!1),na=()=>Object(b.useContext)(ra);const aa=Object(b.createContext)(null),ia=()=>{const e=Object(b.useContext)(aa);if(!e)throw new Error("The `useSlate` hook must be used inside the <SlateProvider> component's context.");const[t]=e;return t};var oa=e=>sa(e)&&1===e.nodeType,sa=e=>e instanceof Node,ca=e=>sa(e)&&3===e.nodeType,la=(e,t,r)=>{for(var n,{childNodes:a}=e,i=a[t],o=t,s=!1,c=!1;(sa(n=i)&&8===n.nodeType||oa(i)&&0===i.childNodes.length||oa(i)&&"false"===i.getAttribute("contenteditable"))&&(!s||!c);)o>=a.length?(s=!0,o=t-1,r="backward"):o<0?(c=!0,o=t+1,r="forward"):(i=a[o],o+="forward"===r?1:-1);return i};const ua=e=>{const{autoFocus:t,decorate:r=da,onDOMBeforeInput:n,placeholder:a,readOnly:i=!1,renderElement:o,renderLeaf:s,style:c={},as:l="div",...u}=e,d=ia(),p=Object(b.useRef)(null);Dn.set(d,i);const f=Object(b.useMemo)(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]);Bn(()=>{p.current?(jn.set(d,p.current),An.set(d,p.current),Sn.set(p.current,d)):An.delete(d)}),Bn(()=>(window.document.addEventListener("selectionchange",m),()=>{window.document.removeEventListener("selectionchange",m)}),[]),Bn(()=>(p.current&&p.current.addEventListener("beforeinput",h),()=>{p.current&&p.current.removeEventListener("beforeinput",h)}),[]),Bn(()=>{const{selection:e}=d,t=window.getSelection();if(f.isComposing||!t||!Ea.isFocused(d))return;const r="None"!==t.type;if(!e&&!r)return;const n=e&&Ea.toDOMRange(d,e);if(r&&n&&pa(t.getRangeAt(0),n))return;const a=Ea.toDOMNode(d,d);if(f.isUpdatingSelection=!0,t.removeAllRanges(),n){t.addRange(n);const e=n.startContainer.parentElement;_n(e,{scrollMode:"if-needed"})}setTimeout(()=>{n&&Yn&&a.focus(),f.isUpdatingSelection=!1})}),Object(b.useEffect)(()=>{p.current&&t&&p.current.focus()},[t]);const h=Object(b.useCallback)(e=>{if(!i&&ha(d,e.target)&&!ga(e,n)){const{selection:t}=d,{inputType:r}=e,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;if(e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){const[r]=e.getTargetRanges();if(r){const e=Ea.toSlateRange(d,r);t&&dn.f.equals(t,e)||dn.h.select(d,e)}}if(t&&dn.f.isExpanded(t)&&r.startsWith("delete"))return void dn.a.deleteFragment(d);switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":dn.a.deleteFragment(d);break;case"deleteContent":case"deleteContentForward":dn.a.deleteForward(d);break;case"deleteContentBackward":dn.a.deleteBackward(d);break;case"deleteEntireSoftLine":dn.a.deleteBackward(d,{unit:"line"}),dn.a.deleteForward(d,{unit:"line"});break;case"deleteHardLineBackward":dn.a.deleteBackward(d,{unit:"block"});break;case"deleteSoftLineBackward":dn.a.deleteBackward(d,{unit:"line"});break;case"deleteHardLineForward":dn.a.deleteForward(d,{unit:"block"});break;case"deleteSoftLineForward":dn.a.deleteForward(d,{unit:"line"});break;case"deleteWordBackward":dn.a.deleteBackward(d,{unit:"word"});break;case"deleteWordForward":dn.a.deleteForward(d,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":dn.a.insertBreak(d);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":n instanceof DataTransfer?Ea.insertData(d,n):"string"==typeof n&&dn.a.insertText(d,n)}}},[]),m=Object(b.useCallback)(fn()(()=>{if(!i&&!f.isComposing&&!f.isUpdatingSelection){const{activeElement:e}=window.document,t=Ea.toDOMNode(d,d),r=window.getSelection(),n=r&&r.rangeCount>0&&r.getRangeAt(0);if(e===t?(f.latestElement=e,Pn.set(d,!0)):Pn.delete(d),n&&ha(d,n.startContainer)&&ha(d,n.endContainer)){const e=Ea.toSlateRange(d,n);dn.h.select(d,e)}else dn.h.deselect(d)}},100),[]),g=r([d,[]]);if(a&&1===d.children.length&&1===Array.from(dn.c.texts(d)).length&&""===dn.c.string(d)){const e=dn.a.start(d,[]);g.push({[Mn]:!0,placeholder:a,anchor:e,focus:e})}return v.a.createElement(ra.Provider,{value:i},v.a.createElement(l,Object.assign({"data-gramm":!1,role:i?void 0:"textbox"},u,{spellCheck:Yn?void 0:u.spellCheck,autoCorrect:Yn?void 0:u.autoCorrect,autoCapitalize:Yn?void 0:u.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!i||void 0,suppressContentEditableWarning:!0,ref:p,style:{outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word",...c},onBeforeInput:Object(b.useCallback)(e=>{if(Yn&&!i){e.preventDefault();const t=e.data;dn.a.insertText(d,t)}},[i]),onBlur:Object(b.useCallback)(e=>{if(i||f.isUpdatingSelection||!ha(d,e.target)||ma(e,u.onBlur))return;if(f.latestElement===window.document.activeElement)return;const{relatedTarget:t}=e;if(!(t===Ea.toDOMNode(d,d)||oa(t)&&t.hasAttribute("data-slate-spacer"))){if(null!=t&&sa(t)&&Ea.hasDOMNode(d,t)){const e=Ea.toSlateNode(d,t);if(dn.b.isElement(e)&&!d.isVoid(e))return}Pn.delete(d)}},[i,u.onBlur]),onClick:Object(b.useCallback)(e=>{if(!i&&fa(d,e.target)&&!ma(e,u.onClick)&&sa(e.target)){const t=Ea.toSlateNode(d,e.target),r=Ea.findPath(d,t),n=dn.a.start(d,r);if(dn.a.void(d,{at:n})){const e=dn.a.range(d,n);dn.h.select(d,e)}}},[i,u.onClick]),onCompositionEnd:Object(b.useCallback)(e=>{ha(d,e.target)&&!ma(e,u.onCompositionEnd)&&(f.isComposing=!1,Jn||Yn||!e.data||dn.a.insertText(d,e.data))},[u.onCompositionEnd]),onCompositionStart:Object(b.useCallback)(e=>{ha(d,e.target)&&!ma(e,u.onCompositionStart)&&(f.isComposing=!0)},[u.onCompositionStart]),onCopy:Object(b.useCallback)(e=>{ha(d,e.target)&&!ma(e,u.onCopy)&&(e.preventDefault(),ba(e.clipboardData,d))},[u.onCopy]),onCut:Object(b.useCallback)(e=>{if(!i&&ha(d,e.target)&&!ma(e,u.onCut)){e.preventDefault(),ba(e.clipboardData,d);const{selection:t}=d;t&&dn.f.isExpanded(t)&&dn.a.deleteFragment(d)}},[i,u.onCut]),onDragOver:Object(b.useCallback)(e=>{if(fa(d,e.target)&&!ma(e,u.onDragOver)){const t=Ea.toSlateNode(d,e.target);dn.a.isVoid(d,t)&&e.preventDefault()}},[u.onDragOver]),onDragStart:Object(b.useCallback)(e=>{if(fa(d,e.target)&&!ma(e,u.onDragStart)){const t=Ea.toSlateNode(d,e.target),r=Ea.findPath(d,t);if(dn.a.void(d,{at:r})){const e=dn.a.range(d,r);dn.h.select(d,e)}ba(e.dataTransfer,d)}},[u.onDragStart]),onDrop:Object(b.useCallback)(e=>{if(fa(d,e.target)&&!i&&!ma(e,u.onDrop)&&(Yn||!Jn&&e.dataTransfer.files.length>0)){e.preventDefault();const t=Ea.findEventRange(d,e),r=e.dataTransfer;dn.h.select(d,t),Ea.insertData(d,r)}},[i,u.onDrop]),onFocus:Object(b.useCallback)(e=>{if(!i&&!f.isUpdatingSelection&&ha(d,e.target)&&!ma(e,u.onFocus)){const t=Ea.toDOMNode(d,d);if(f.latestElement=window.document.activeElement,Yn&&e.target!==t)return void t.focus();Pn.set(d,!0)}},[i,u.onFocus]),onKeyDown:Object(b.useCallback)(e=>{if(!i&&ha(d,e.target)&&!ma(e,u.onKeyDown)){const{nativeEvent:t}=e,{selection:r}=d;if(ta.isRedo(t))return e.preventDefault(),void(d.redo&&d.redo());if(ta.isUndo(t))return e.preventDefault(),void(d.undo&&d.undo());if(ta.isMoveLineBackward(t))return e.preventDefault(),void dn.h.move(d,{unit:"line",reverse:!0});if(ta.isMoveLineForward(t))return e.preventDefault(),void dn.h.move(d,{unit:"line"});if(ta.isExtendLineBackward(t))return e.preventDefault(),void dn.h.move(d,{unit:"line",edge:"focus",reverse:!0});if(ta.isExtendLineForward(t))return e.preventDefault(),void dn.h.move(d,{unit:"line",edge:"focus"});if(ta.isMoveBackward(t))return e.preventDefault(),void(r&&dn.f.isCollapsed(r)?dn.h.move(d,{reverse:!0}):dn.h.collapse(d,{edge:"start"}));if(ta.isMoveForward(t))return e.preventDefault(),void(r&&dn.f.isCollapsed(r)?dn.h.move(d):dn.h.collapse(d,{edge:"end"}));if(ta.isMoveWordBackward(t))return e.preventDefault(),void dn.h.move(d,{unit:"word",reverse:!0});if(ta.isMoveWordForward(t))return e.preventDefault(),void dn.h.move(d,{unit:"word"});if(Yn){if(ta.isBold(t)||ta.isItalic(t)||ta.isTransposeCharacter(t))return void e.preventDefault();if(ta.isSplitBlock(t))return e.preventDefault(),void dn.a.insertBreak(d);if(ta.isDeleteBackward(t))return e.preventDefault(),void(r&&dn.f.isExpanded(r)?dn.a.deleteFragment(d):dn.a.deleteBackward(d));if(ta.isDeleteForward(t))return e.preventDefault(),void(r&&dn.f.isExpanded(r)?dn.a.deleteFragment(d):dn.a.deleteForward(d));if(ta.isDeleteLineBackward(t))return e.preventDefault(),void(r&&dn.f.isExpanded(r)?dn.a.deleteFragment(d):dn.a.deleteBackward(d,{unit:"line"}));if(ta.isDeleteLineForward(t))return e.preventDefault(),void(r&&dn.f.isExpanded(r)?dn.a.deleteFragment(d):dn.a.deleteForward(d,{unit:"line"}));if(ta.isDeleteWordBackward(t))return e.preventDefault(),void(r&&dn.f.isExpanded(r)?dn.a.deleteFragment(d):dn.a.deleteBackward(d,{unit:"word"}));if(ta.isDeleteWordForward(t))return e.preventDefault(),void(r&&dn.f.isExpanded(r)?dn.a.deleteFragment(d):dn.a.deleteForward(d,{unit:"word"}))}}},[i,u.onKeyDown]),onPaste:Object(b.useCallback)(e=>{Yn&&!i&&ha(d,e.target)&&!ma(e,u.onPaste)&&(e.preventDefault(),Ea.insertData(d,e.clipboardData))},[i,u.onPaste])}),v.a.createElement(Kn,{decorate:r,decorations:g,node:d,renderElement:o,renderLeaf:s,selection:d.selection})))},da=()=>[],pa=(e,t)=>e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset||e.startContainer===t.endContainer&&e.startOffset===t.endOffset&&e.endContainer===t.startContainer&&e.endOffset===t.startOffset,fa=(e,t)=>sa(t)&&Ea.hasDOMNode(e,t),ha=(e,t)=>sa(t)&&Ea.hasDOMNode(e,t,{editable:!0}),ma=(e,t)=>!!t&&(t(e),e.isDefaultPrevented()||e.isPropagationStopped()),ga=(e,t)=>!!t&&(t(e),e.defaultPrevented),ba=(e,t)=>{const{selection:r}=t;if(!r)return;const[n,a]=dn.f.edges(r),i=dn.a.void(t,{at:n.path}),o=dn.a.void(t,{at:a.path});if(dn.f.isCollapsed(r)&&!i)return;const s=Ea.toDOMRange(t,r);let c=s.cloneContents(),l=c.childNodes[0];if(c.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(l=e)}),o){const[e]=o,r=s.cloneRange(),n=Ea.toDOMNode(t,e);r.setEndAfter(n),c=r.cloneContents()}if(i&&(l=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{const t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),ca(l)){const e=document.createElement("span");e.style.whiteSpace="pre",e.appendChild(l),c.appendChild(e),l=e}const u=dn.c.fragment(t,r),d=JSON.stringify(u),p=window.btoa(encodeURIComponent(d));l.setAttribute("data-slate-fragment",p),e.setData("application/x-slate-fragment",p);const f=document.createElement("div");f.appendChild(c),e.setData("text/html",f.innerHTML),e.setData("text/plain",va(f))},va=e=>{let t="";if(ca(e)&&e.nodeValue)return e.nodeValue;if(oa(e)){for(const r of Array.from(e.childNodes))t+=va(r);const r=getComputedStyle(e).getPropertyValue("display");"block"!==r&&"list"!==r&&"BR"!==e.tagName||(t+="\n")}return t};var ya=0;class _a{constructor(){this.id="".concat(ya++)}}var Ea={findKey(e,t){var r=Nn.get(t);return r||(r=new _a,Nn.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var a=In.get(n);if(null==a){if(dn.a.isEditor(n))return r;break}var i=kn.get(n);if(null==i)break;r.unshift(i),n=a}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:e=>!!Pn.get(e),isReadOnly:e=>!!Dn.get(e),blur(e){var t=Ea.toDOMNode(e,e);Pn.set(e,!1),window.document.activeElement===t&&t.blur()},focus(e){var t=Ea.toDOMNode(e,e);Pn.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,r=window.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&dn.h.deselect(e)},hasDOMNode(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:a=!1}=n,i=Ea.toDOMNode(e,e);try{r=oa(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&(r.closest("[data-slate-editor]")===i&&(!a||i.isContentEditable))},insertData(e,t){e.insertData(t)},toDOMNode(e,t){var r=dn.a.isEditor(t)?jn.get(e):Tn.get(Ea.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint(e,t){var r,[n]=dn.a.node(e,t.path),a=Ea.toDOMNode(e,n);dn.a.void(e,{at:t})&&(t={path:t.path,offset:0});var i=Array.from(a.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),o=0;for(var s of i){var c=s.childNodes[0];if(null!=c&&null!=c.textContent){var{length:l}=c.textContent,u=s.getAttribute("data-slate-length"),d=o+(null==u?l:parseInt(u,10));if(t.offset<=d){r=[c,Math.min(l,Math.max(0,t.offset-o))];break}o=d}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange(e,t){var{anchor:r,focus:n}=t,a=Ea.toDOMPoint(e,r),i=dn.f.isCollapsed(t)?a:Ea.toDOMPoint(e,n),o=window.document.createRange(),s=dn.f.isBackward(t)?i:a,c=dn.f.isBackward(t)?a:i;return o.setStart(s[0],s[1]),o.setEnd(c[0],c[1]),o},toSlateNode(e,t){var r=oa(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?Sn.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:a}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i,o=Ea.toSlateNode(e,t.target),s=Ea.findPath(e,o);if(dn.a.isVoid(e,o)){var c=a.getBoundingClientRect(),l=e.isInline(o)?r-c.left<c.left+c.width-r:n-c.top<c.top+c.height-n,u=dn.a.point(e,s,{edge:l?"start":"end"}),d=l?dn.a.before(e,u):dn.a.after(e,u);if(d)return dn.a.range(e,d)}var{document:p}=window;if(p.caretRangeFromPoint)i=p.caretRangeFromPoint(r,n);else{var f=p.caretPositionFromPoint(r,n);f&&((i=p.createRange()).setStart(f.offsetNode,f.offset),i.setEnd(f.offsetNode,f.offset))}if(!i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return Ea.toSlateRange(e,i)},toSlatePoint(e,t){var[r,n]=(e=>{var[t,r]=e;if(oa(t)&&t.childNodes.length){var n=r===t.childNodes.length,a=n?"backward":"forward";for(t=la(t,n?r-1:r,a);oa(t)&&t.childNodes.length;){var i=n?t.childNodes.length-1:0;t=la(t,i,a)}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),a=r.parentNode,i=null,o=0;if(a){var s=a.closest('[data-slate-void="true"]'),c=a.closest("[data-slate-leaf]"),l=null;if(c){i=c.closest('[data-slate-node="text"]');var u=window.document.createRange();u.setStart(i,0),u.setEnd(r,n);var d=u.cloneContents();[...d.querySelectorAll("[data-slate-zero-width]"),...d.querySelectorAll("[contenteditable=false]")].forEach(e=>{e.parentNode.removeChild(e)}),o=d.textContent.length,l=i}else s&&(i=(c=s.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),o=(l=c).textContent.length);l&&o===l.textContent.length&&a.hasAttribute("data-slate-zero-width")&&o--}if(!i)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var p=Ea.toSlateNode(e,i);return{path:Ea.findPath(e,p),offset:o}},toSlateRange(e,t){var r,n,a,i,o;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(r=t.anchorNode,n=t.anchorOffset,a=t.focusNode,i=t.focusOffset,o=t.isCollapsed):(r=t.startContainer,n=t.startOffset,a=t.endContainer,i=t.endOffset,o=t.collapsed)),null==r||null==a||null==n||null==i)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var s=Ea.toSlatePoint(e,[r,n]);return{anchor:s,focus:o?s:Ea.toSlatePoint(e,[a,i])}}},wa=Object(b.createContext)(!1);const Oa=e=>{const{editor:t,children:r,onChange:n,value:a,...i}=e,[o,s]=Object(b.useState)(0),c=Object(b.useMemo)(()=>(t.children=a,Object.assign(t,i),[t]),[o,a,...Object.values(i)]),l=Object(b.useCallback)(()=>{n(t.children),s(o+1)},[o,n]);return Rn.set(t,l),v.a.createElement(aa.Provider,{value:c},v.a.createElement(Gn.Provider,{value:t},v.a.createElement(wa.Provider,{value:Ea.isFocused(t)},r)))};var xa=e=>{var t=e,{apply:r,onChange:n}=t;return t.apply=e=>{var n=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var[a,i]of dn.a.levels(t,{at:e.path})){var o=Ea.findKey(t,a);n.push([i,o])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var[s,c]of dn.a.levels(t,{at:dn.e.parent(e.path)})){var l=Ea.findKey(t,s);n.push([c,l])}}for(var[u,d]of(r(e),n)){var[p]=dn.a.node(t,u);Nn.set(p,d)}},t.insertData=e=>{var r=e.getData("application/x-slate-fragment");if(r){var n=decodeURIComponent(window.atob(r)),a=JSON.parse(n);dn.h.insertFragment(t,a)}else{var i=e.getData("text/plain");if(i){var o=i.split("\n"),s=!1;for(var c of o)s&&dn.h.splitNodes(t),dn.h.insertText(t,c),s=!0}}},t.onChange=()=>{Y.a.unstable_batchedUpdates(()=>{var e=Rn.get(t);e&&e(),n()})},t};
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function Ca(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}var ka,Ia,ja,Sa={isHistory(e){return!1!==Ca(t=e)&&"function"==typeof(r=t.constructor)&&!1!==Ca(n=r.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||dn.d.isOperationList(e.redos[0]))&&(0===e.undos.length||dn.d.isOperationList(e.undos[0]));var t,r,n}},Ta=(new WeakMap,new WeakMap),Aa=new WeakMap,Na={isHistoryEditor:e=>dn.a.isEditor(e)&&Sa.isHistory(e.history),isMerging:e=>Aa.get(e),isSaving:e=>Ta.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var r=Na.isMerging(e);Aa.set(e,!1),t(),Aa.set(e,r)},withoutSaving(e,t){var r=Na.isSaving(e);Ta.set(e,!1),t(),Ta.set(e,r)}},Da=(e,t)=>"set_selection"===e.type||(!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!dn.e.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!dn.e.equals(e.path,t.path))),Pa=(e,t)=>"set_selection"!==e.type||null!=e.newProperties,Ra=(e,t)=>!(!t||"set_selection"!==e.type||"set_selection"!==t.type),Ma=e=>"set_selection"!==e.type;class Fa extends b.Component{render(){return v.a.createElement(rn.a,null,this.props.children)}}ka=Fa,Ia="propTypes",ja={children:_.a.oneOfType([_.a.array,_.a.object])},Ia in ka?Object.defineProperty(ka,Ia,{value:ja,enumerable:!0,configurable:!0,writable:!0}):ka[Ia]=ja;const La=({mark:e,icon:t})=>{const r=ia();return v.a.createElement(re.a,{bsStyle:Ba(r,e)?"primary":"default",onMouseDown:t=>{t.preventDefault(),qa(r,e)}},t)},Ba=(e,t)=>{const r=dn.a.marks(e);return!!r&&!0===r[t]},qa=(e,t)=>{Ba(e,t)?dn.a.removeMark(e,t):dn.a.addMark(e,t,!0)};var Ha=r(18),za=r.n(Ha);const Ua=["numbered-list","bulleted-list"];function Wa(e){let t=e;return e&&e.length&&"string"!=typeof e||(t=za()(Cr.RCE_INITIAL_VALUE)),"string"==typeof e&&(t[0].children[0].text=e),t}dn.a.previousSibling=(e,t)=>{if(null==t)return;const r=t[t.length-1];if(0===r)return;const n=[...t.slice(0,t.length-1),r-1];return dn.a.node(e,n)},dn.a.nextSibling=(e,t)=>{if(null==t)return;const r=t[t.length-1],n=[...t.slice(0,t.lenght-1),r+1];try{return dn.a.node(e,n)}catch(e){return null}},dn.a.isInList=(e,t)=>{try{const[r,n]=dn.a.parent(e,t);return!!Ua.includes(r.type)||dn.a.isInList(e,n)}catch(e){return!1}};var Ga=({format:e,icon:t})=>{const r=ia();return v.a.createElement(re.a,{bsStyle:((e,t)=>{const[r]=dn.a.nodes(e,{match:e=>e.type===t});return!!r})(r,e)?"primary":"default",onMouseDown:t=>{t.preventDefault(),((e,t)=>{const r=dn.a.isInList(e,e.selection);if(dn.h.unwrapNodes(e,{match:e=>Ua.includes(e.type),split:!0}),dn.h.setNodes(e,{type:"paragraph"}),!r){const r={type:t,children:[]};dn.h.wrapNodes(e,r);const n=[...dn.a.nodes(e,{match:e=>"paragraph"===e.type})];for(const[,t]of n)dn.h.setNodes(e,{type:"list-item",at:t});const[,a]=dn.a.parent(e,n[0][1]),i=dn.a.nextSibling(e,a);null!=i&&i[0].type===t&&dn.h.mergeNodes(e,{at:i[1]});const o=dn.a.previousSibling(e,a);null!=o&&o[0].type===t&&dn.h.mergeNodes(e,{at:a})}})(r,e)}},t)},Va=r(135),Ka=r.n(Va),$a=r(252),Ya=r(851),Ja=r(856);function Xa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Za extends b.Component{constructor(...e){super(...e),Xa(this,"handleOK",()=>{this.props.getValue(Object($.findDOMNode)(this.refs.input).value)}),Xa(this,"handleChange",e=>{}),Xa(this,"handleEnter",e=>{e.stopPropagation(),13===e.which&&this.handleOK()}),Xa(this,"handleEsc",e=>{27===e.which&&this.props.cancel()})}render(){return v.a.createElement($a.a,{show:this.props.isOpen,onHide:this.props.cancel,dialogClassName:"center-modal-vertically"},v.a.createElement($a.a.Header,{closeButton:!0},this.props.title),v.a.createElement($a.a.Body,null,v.a.createElement(Ya.a,{horizontal:!0},v.a.createElement(en.a,null,v.a.createElement(Ja.a,{sm:8},v.a.createElement(tn.a,{type:this.props.type,ref:"input",autoFocus:!0,defaultValue:"",onChange:this.handleChange,onKeyUp:this.handleEnter})),v.a.createElement(Ja.a,{sm:1}),v.a.createElement(Ja.a,{sm:1,style:{marginRight:"4px"}},v.a.createElement(re.a,{bsStyle:"primary",onClick:this.handleOK},Ae()("OK"))),v.a.createElement(Ja.a,{sm:1},v.a.createElement(re.a,{onClick:this.props.cancel},Ae()("Cancel")))))))}}Xa(Za,"propTypes",{isOpen:_.a.bool.isRequired,type:_.a.string.isRequired,cancel:_.a.func.isRequired,getValue:_.a.func.isRequired,title:_.a.string});const Qa=e=>{const[t]=dn.a.nodes(e,{match:e=>"link"===e.type});return!!t},ei=e=>{dn.h.unwrapNodes(e,{match:e=>"link"===e.type})},ti=(e,t)=>{Qa(e)&&ei(e);const{selection:r}=e,n=r&&dn.f.isCollapsed(r),a={type:"link",url:t,children:n?[{text:t}]:[]};n?dn.h.insertNodes(e,a):(dn.h.wrapNodes(e,a,{split:!0}),dn.h.collapse(e,{edge:"end"}))};var ri=r(374),ni=r.n(ri),ai=r(375);const ii=r(300).defaults({encoding:null});function oi(e,t){ni.a.imageFileResizer(e,700,500,"JPEG",50,0,t,"base64")}function si(e){if(!e)return!1;if(!Ka()(e))return!1;const t=new URL(e).pathname.split(".").pop();return ai.includes(t)}function ci(e,t){ii(e,(e,r,n)=>{if(!e&&200==r.statusCode){const e="data:"+r.headers["content-type"]+";base64,"+Buffer.from(n).toString("base64");t(e)}})}function li(e){const t=Object.assign({},Cr.image,e);return{type:cr.j,image:t}}function ui(e,t){return{type:cr.Tb,id:e,name:t}}function di(e){return{type:cr.X,id:e}}var pi=r(54),fi=r.n(pi),hi={componentClass:X.a},mi=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,r=e.className,n=Object(I.a)(e,["componentClass","className"]),a=Object(F.f)(n),i=a[0],o=a[1],s=Object(F.d)(i);return v.a.createElement(t,Object(k.a)({},o,{className:A()(r,s)}))},t}(v.a.Component);mi.propTypes=hi,mi.defaultProps={componentClass:"div"};var gi=Object(F.a)("row",mi),bi=r(857),vi=r(31);const yi=e=>v.a.createElement(C.o,{className:"fa-spinner",style:e.style||{}}),_i=e=>{let t={fontSize:e.size||"2.5em"};return v.a.createElement("div",{className:"fun-spinner"},v.a.createElement(yi,{style:t}),v.a.createElement("div",null,Ae()("Once You Plot, the Fun Don't Stop")))};var Ei=r(32);function wi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Oi={content:{top:"70px"}};class xi extends b.Component{constructor(...e){super(...e),wi(this,"state",{}),wi(this,"handleDragOver",e=>{e.preventDefault(),this.setState({inDropZone:!0})}),wi(this,"handleDrop",e=>{e.stopPropagation(),e.preventDefault(),this.setState({inDropZone:!1});const{files:t}=e.dataTransfer;if(t&&t.length>0)for(const e of t)oi(e,t=>{this.props.actions.addImage({data:t,name:e.name,path:e.path}),this.setState({tabId:"1",justAddedImage:!0})})}),wi(this,"getFromURL",e=>{const t=e.target.value;si(t)&&(this.setState({loading:!0}),ci(t,e=>{this.props.actions.addImage({data:e,name:t,path:t}),setTimeout(()=>{this.setState({tabId:"1",justAddedImage:!0,loading:!1})},500)}))}),wi(this,"renameFile",()=>{let e=Object($.findDOMNode)(this.refs.fileName).value;this.props.actions.renameImage(this.state.selectedId,e),this.setState({editing:!1})}),wi(this,"deleteImage",()=>{this.state.deleting&&(this.props.actions.deleteImage(this.state.selectedId),this.setState({deleting:!1,selectedId:null}))}),wi(this,"close",()=>{this.setState({open:!1}),this.props.modalOnly&&this.props.close()}),wi(this,"chooseImage",()=>{const{chooseImage:e,images:t}=this.props,{selectedId:r}=this.state;e(r,t[r].data),this.close()}),wi(this,"chooseNoImage",()=>{this.props.chooseImage(-1),this.state.open&&this.close(),this.setState({selectedId:null})}),wi(this,"uploadNewFile",e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];oi(t,e=>{this.props.actions.addImage({data:e,name:t.name,path:t.path}),this.setState({tabId:"1"})})}})}static getDerivedStateFromProps(e,t){const r=Object.keys(e.images).sort().reverse();let n=null;return t.justAddedImage&&(n=r[0]),{tabId:t.tabId||"1",selectedId:n||t.selectedId||e.selectedId,open:e.modalOnly||t.open||!1,editing:t.editing||!1,inDropZone:t.inDropZone||!1,sortedIds:r,justAddedImage:!1,loading:t.loading||!1,deleting:t.deleting||null}}renderDelete(){if(!this.state.deleting)return null;const e=Ae()("Do you want to remove this image? It will NOT be deleted from your computer");return v.a.createElement(Ei.a,{customText:e,onDelete:this.deleteImage,onCancel:()=>this.setState({deleting:!1})})}renderUpload(){return v.a.createElement(gi,null,v.a.createElement(Ja.a,{xs:12},v.a.createElement("div",{className:A()("image-picker__dropzone",{dropping:this.state.inDropZone}),onDrop:this.handleDrop,onDragOver:this.handleDragOver},v.a.createElement("h2",null,Ae()("Drop a File Here")),v.a.createElement("p",null,Ae()("or")),v.a.createElement(bi.a,{htmlFor:"fileUpload"},v.a.createElement("div",{className:"btn image-picker__upload-button"},v.a.createElement(x.a,{glyph:"upload"})," ",Ae()("Select a File"))),v.a.createElement(tn.a,{id:"fileUpload",type:"file",onChange:this.uploadNewFile}))))}renderURL(){return v.a.createElement(gi,null,v.a.createElement(Ja.a,{xs:12},v.a.createElement("div",{className:"image-picker__url-wrapper"},v.a.createElement(en.a,{bsSize:"large"},v.a.createElement(bi.a,null,v.a.createElement("h6",null,Ae()("Enter the URL of the link:"))),v.a.createElement(tn.a,{placeholder:Ae()("URL"),type:"text",onChange:this.getFromURL})),this.state.loading?v.a.createElement(yi,null):null)))}renderGallery(){return v.a.createElement(gi,null,v.a.createElement(Ja.a,{xs:9},v.a.createElement("div",{className:"image-picker__images-container"},this.renderImages())),v.a.createElement(Ja.a,{xs:3},this.renderSidebar()))}renderTab(){switch(this.state.tabId){case"1":return this.renderGallery();case"2":return this.renderUpload();case"3":return this.renderURL()}}render(){const{darkMode:e,selectedId:t,iconOnly:r,modalOnly:n,deleteButton:a}=this.props;if(this.state.open)return e&&(Oi.content.backgroundColor="#666"),v.a.createElement(fi.a,{isOpen:!0,onRequestClose:this.close,style:Oi},v.a.createElement("div",{className:A()("image-picker__wrapper",{darkmode:e})},v.a.createElement("div",{className:"image-picker__header"},v.a.createElement("div",{className:"pull-right"},v.a.createElement(re.a,{bsStyle:"success",onClick:this.chooseImage,disabled:!this.state.selectedId},Ae()("Choose")),v.a.createElement(re.a,{onClick:this.close,style:{marginLeft:"12px"}},Ae()("Cancel"))),v.a.createElement(Wt,{bsStyle:"tabs",activeKey:this.state.tabId,onSelect:e=>this.setState({tabId:e})},v.a.createElement(Kt,{eventKey:"1"},v.a.createElement("span",{className:"image-picker__title"},Ae()("Image Gallery"))),v.a.createElement(Kt,{eventKey:"2"},v.a.createElement("span",{className:"image-picker__title"},Ae()("Upload Files"))),v.a.createElement(Kt,{eventKey:"3"},v.a.createElement("span",{className:"image-picker__title"},Ae()("Insert from URL"))))),v.a.createElement("div",{className:"image-picker__body"},v.a.createElement(ot,{fluid:!0},this.renderTab()))));{let e=r?null:` ${Ae()("Choose an image")}`,n=v.a.createElement(re.a,{title:Ae()("Choose an image"),onClick:()=>this.setState({open:!0})},v.a.createElement(x.a,{glyph:"picture"}),e);if(t&&-1!=t&&a){let e=r?null:` ${Ae()("Remove")}`;return v.a.createElement(ie,null,n,v.a.createElement(re.a,{bsStyle:"warning",title:Ae()("Remove image"),onClick:this.chooseNoImage},v.a.createElement(x.a,{glyph:"ban-circle"}),e))}return n}}renderName(e){return this.state.editing?v.a.createElement(en.a,null,v.a.createElement(tn.a,{type:"text",defaultValue:e,ref:"fileName"}),v.a.createElement(re.a,{onClick:this.renameFile},Ae()("Rename"))):v.a.createElement("p",null,e)}renderToolbar(){return this.state.editing?null:v.a.createElement(rn.a,{className:"card-dialog__button-bar"},v.a.createElement(re.a,{onClick:()=>this.setState({editing:!0})},Ae()("Rename")),v.a.createElement(re.a,{bsStyle:"danger",onClick:()=>this.setState({deleting:!0})},Ae()("Delete")))}renderImages(){const{images:e}=this.props,{sortedIds:t}=this.state;return t.map(t=>{const r=this.state.selectedId==t,n=A()("image-picker__image-wrapper",{selected:r});return v.a.createElement("div",{key:e[t].name,className:n,onClick:()=>this.setState({selectedId:r?null:t})},v.a.createElement(vi.a,{imageId:t,shape:"square",size:"large"}))})}renderSidebar(){const{images:e}=this.props,{selectedId:t}=this.state,r=e[t];let n=null;return r&&(n=v.a.createElement("div",null,v.a.createElement("h6",null,Ae()("Image Details")),v.a.createElement(vi.a,{imageId:t,responsive:!0}),v.a.createElement("div",{className:"image-picker__sidebar-tools"},this.renderDelete(),this.renderName(r.name),this.renderToolbar()))),v.a.createElement("div",{className:"image-picker__sidebar"},n)}}xi.propTypes={chooseImage:_.a.func.isRequired,selectedId:_.a.oneOfType([_.a.string,_.a.number]),darkMode:_.a.bool,iconOnly:_.a.bool,modalOnly:_.a.bool,deleteButton:_.a.bool,close:_.a.func};var Ci=Object(w.connect)((function(e){return{images:e.present.images}}),(function(e){return{actions:Object(E.bindActionCreators)(o,e)}}))(xi);const ki=()=>{const e=ia(),[t,r]=Object(b.useState)(!1),[n,a]=Object(b.useState)();return v.a.createElement(re.a,{bsStyle:Ii(e)?"primary":"default",onMouseDown:t=>{t.preventDefault(),a(e.selection),r(!0)}},v.a.createElement(C.f,null),t?v.a.createElement(Ci,{modalOnly:!0,chooseImage:(t,a)=>{n&&e.apply({type:"set_selection",properties:{anchor:n.anchor,focus:n.focus},newProperties:{anchor:n.anchor,focus:n.focus}}),a&&ji(e,a),r(!1)},close:()=>r(!1)}):null)},Ii=e=>{const[t]=dn.a.nodes(e,{match:e=>"image-link"===e.type||"image-data"===e.type});return!!t},ji=(e,t)=>{const r={type:"image-data",data:t,children:[{text:""}]};dn.h.insertNodes(e,r)},Si=e=>{const t=ia();return v.a.createElement(re.a,{bsStyle:Ti(t)?"primary":"default",onMouseDown:r=>{r.preventDefault(),Ti(t)?dn.a.removeMark(t,"color"):e.toggle()}},v.a.createElement(x.a,{glyph:"text-color"}))},Ti=e=>{const[t]=dn.a.nodes(e,{match:e=>e.color});return!!t};var Ai=Object(k.a)({},Ce.propTypes,{bsStyle:D.a.string,bsSize:D.a.string,title:D.a.node.isRequired,noCaret:D.a.bool,children:D.a.node}),Ni=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,r=e.bsStyle,n=e.title,a=e.children,i=Object(I.a)(e,["bsSize","bsStyle","title","children"]),o=Object(ke.a)(i,Ce.ControlledComponent),s=o[0],c=o[1];return v.a.createElement(Ce,Object(k.a)({},s,{bsSize:t,bsStyle:r}),v.a.createElement(Ce.Toggle,Object(k.a)({},c,{bsSize:t,bsStyle:r}),n),v.a.createElement(Ce.Menu,null,a))},t}(v.a.Component);Ni.propTypes=Ai;var Di=Ni;const Pi=e=>{const t=ia(),[r,n]=Object(b.useState)(Ri(t));Object(b.useEffect)(()=>{n(Ri(t))},[t.selection]);const a=(e,t)=>v.a.createElement(H,{key:`${e}-${t}`,eventKey:e,style:{fontFamily:e},active:r==e},e);return v.a.createElement(Di,{title:r,onSelect:r=>{n(r),Mi(t,r),e.addRecent(r)},id:"font-dropdown",rootCloseEvent:"click"},(()=>{let t=e.recentFonts.map(e=>a(e,"recents"));return t.length&&t.push(v.a.createElement(H,{divider:!0,key:"divider"})),t=[...t,...e.fonts.map(e=>a(e,""))],t})())},Ri=e=>{const[t]=dn.a.nodes(e,{match:e=>e.font});return t?t[0].font:"Forum"},Mi=(e,t)=>{dn.a.addMark(e,"font",t)},{jsx:Fi}=r(850);r(701).getSanitizingConverter(),new(r(703));function Li(e){if(3===e.nodeType)return"\n"==e.textContent||"\n\n"==e.textContent||"\n\n\n"==e.textContent?null:e.textContent.replace(/[\n]/g," ");if(1!==e.nodeType)return null;const t=Array.from(e.childNodes).map(Li).flat();switch(e.nodeName){case"BODY":return Fi("fragment",{},t);case"BR":return Fi("element",{type:"paragraph"},[{text:""}]);case"BLOCKQUOTE":return Fi("element",{type:"block-quote"},t);case"P":return Fi("element",{type:"paragraph"},t);case"H1":return Fi("element",{type:"heading-one"},t);case"H3":case"H4":case"H5":case"H6":case"H2":return Fi("element",{type:"heading-two"},t);case"UL":return Fi("element",{type:"bulleted-list"},t);case"LI":return Fi("element",{type:"list-item"},t);case"OL":return Fi("element",{type:"numbered-list"},t);case"EM":case"I":return Fi("text",{italic:!0,text:e.textContent});case"STRONG":return Fi("text",{bold:!0,text:e.textContent});case"U":return Fi("text",{underline:!0,text:e.textContent});case"DEL":return Fi("text",{strike:!0,text:e.textContent});case"IMG":let r=t&&t.length?t:[{text:""}];return Fi("element",{type:"image-link",url:e.getAttribute("src")},r);case"A":return Fi("element",{type:"link",url:e.getAttribute("href")},t);default:return e.textContent}}const Bi=e=>{const{insertData:t}=e;return e.insertData=r=>{const n=r.getData("text/html");n?dn.h.insertNodes(e,function(e){const t=Li((new DOMParser).parseFromString(e,"text/html").body);return t.length||t.push({type:"paragraph",children:[{text:""}]}),t}(n)):t(r)},e};const qi=["MistyRose","LightPink","Pink","Hotpink","DeepPink","MediumVioletRed","PaleVioletRed","Red","Crimson","Maroon","DarkRed","Brown","Firebrick","IndianRed","LightCoral","Salmon","Tomato","Coral","DarkSalmon","LightSalmon","PeachPuff"],Hi=["OrangeRed","DarkOrange","Orange","DarkGoldenrod","Goldenrod","Khaki","PaleGoldenrod","LightGoldenrodYellow","SandyBrown","NavajoWhite","Moccasin","LemonChiffon","LightYellow","Yellow","Gold"],zi=["GreenYellow","Chartreuse","LawnGreen","Lime","LimeGreen","MediumSeaGreen","SeaGreen","DarkGreen","Green","ForestGreen","OliveDrab","DarkOliveGreen","Olive","YellowGreen","LightGreen","PaleGreen","SpringGreen","MediumSpringGreen","MintCream","Aquamarine","MediumAquaMarine","DarkSeaGreen","Honeydew","DarkCyan","Teal","LightSeaGreen"],Ui=["DarkCyan","DarkTurquoise","MediumTurquoise","Turquoise","Cyan","Aqua","LightCyan","Azure","AliceBlue","SkyBlue","LightSkyBlue","DeepSkyBlue","DodgerBlue","Blue","MediumBlue","DarkBlue","Navy","MidnightBlue","RoyalBlue","CornflowerBlue","SteelBlue","DarkSlateGray","CadetBlue","LightBlue","PaleTurquoise","PowderBlue","LightSteelBlue","Lavender","MediumSlateBlue","SlateBlue"],Wi=["BlueViolet","DarkViolet","DarkOrchid","MediumOrchid","Orchid","Violet","Fuchsia","Magenta","DarkMagenta","Purple","RebeccaPurple","Indigo","MediumPurple","Plum","Thistle"],Gi=["Gainsboro","LightGray","Silver","DarkGray","Gray","DimGray","LightSlateGray","SlateGray","Black"],Vi=["GhostWhite","AntiqueWhite","Beige","Bisque","BlanchedAlmond","Ivory","Linen","OldLace","PapayaWhip","Seashell","Snow","LavenderBlush","White","WhiteSmoke"],Ki=["Brown","Chocolate","Peru","RosyBrown","SaddleBrown","DarkGoldenrod","Wheat"],$i=["#6cace4","#78be20","#e5554f","#ff7f32","#ffc72c","#0b1117"];function Yi(e){const t=Object(b.useRef)(null),[r,n]=Object(b.useState)({});Object(b.useEffect)(()=>{const t=Object($.findDOMNode)(e.el.current);n(t.getBoundingClientRect())},[e.el]),Object(b.useEffect)(()=>(document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)),[]);const a=r=>{t.current&&!t.current.contains(r.target)&&e.close()},i=t=>v.a.createElement(re.a,{title:t,onClick:()=>e.chooseColor(t),style:{backgroundColor:t}});return v.a.createElement("div",{className:"mini-color-picker",style:r.x?{left:r.x+80,top:r.y+33}:{},ref:t},v.a.createElement("p",null,Ae()("Default Colors")),v.a.createElement("div",{className:"color-picker__box"},$i.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},i(e)))),v.a.createElement("p",null,Ae()("Reds")),v.a.createElement("div",{className:"color-picker__box"},qi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},i(e)))),v.a.createElement("p",null,Ae()("Oranges")),v.a.createElement("div",{className:"color-picker__box"},Hi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},i(e)))),v.a.createElement("p",null,Ae()("Greens")),v.a.createElement("div",{className:"color-picker__box"},zi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},i(e)))),v.a.createElement("p",null,Ae()("Blues")),v.a.createElement("div",{className:"color-picker__box"},Ui.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},i(e)))),v.a.createElement("p",null,Ae()("Purples")),v.a.createElement("div",{className:"color-picker__box"},Wi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},i(e)))),v.a.createElement("p",null,Ae()("Grays")),v.a.createElement("div",{className:"color-picker__box"},Gi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},i(e)))),v.a.createElement("p",null,Ae()("Whites")),v.a.createElement("div",{className:"color-picker__box"},Vi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},i(e)))),v.a.createElement("p",null,Ae()("Browns")),v.a.createElement("div",{className:"color-picker__box"},Ki.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},i(e)))))}var Ji=e=>{const{normalizeNode:t}=e;return e.normalizeNode=r=>{const[n,a]=r;if(dn.b.isElement(n)&&"paragraph"===n.type)for(const[t,r]of dn.c.children(e,a))dn.b.isElement(t)&&"paragraph"==t.type&&dn.h.unwrapNodes(e,{at:r});t(r)},e};var Xi=v.a.memo(({attributes:e,children:t,leaf:r})=>{if(r.bold&&(t=v.a.createElement("strong",null,t)),r.italic&&(t=v.a.createElement("em",null,t)),r.underline&&(t=v.a.createElement("u",null,t)),r.strike&&(t=v.a.createElement("del",null,t)),r.color){const t={color:r.color};e.style=e.style?{...e.style,...t}:t}if(r.font){const t={fontFamily:`${r.font}, Forum, sans-serif`};e.style=e.style?{...e.style,...t}:t}return v.a.createElement("span",e,t)});var Zi=v.a.memo(({attributes:e,children:t,element:r})=>{const n=Object(b.useContext)(Hn),a=Object(b.useContext)(wa);switch(r.type){case"block-quote":return v.a.createElement("blockquote",e,t);case"bulleted-list":return v.a.createElement("ul",e,t);case"heading-one":return v.a.createElement("h1",e,t);case"heading-two":return v.a.createElement("h2",e,t);case"heading-three":return v.a.createElement("h3",e,t);case"heading-four":return v.a.createElement("h4",e,t);case"heading-five":return v.a.createElement("h5",e,t);case"heading-six":return v.a.createElement("h6",e,t);case"list-item":return v.a.createElement("li",e,t);case"numbered-list":return v.a.createElement("ol",e,t);case"link":return v.a.createElement("a",Object.assign({},e,{title:r.url,href:"#",onClick:()=>{return e=r.url,void g.shell.openExternal(e);var e}}),t);case"image-link":return v.a.createElement("div",e,v.a.createElement("div",{contentEditable:!1},v.a.createElement("img",{src:r.url,className:A()("slate-editor__image-link",{selected:n&&a})})),t);case"image-data":return v.a.createElement("div",e,v.a.createElement("div",{contentEditable:!1},v.a.createElement("img",{src:r.data,className:A()("slate-editor__image-link",{selected:n&&a})})),t);default:return v.a.createElement("p",e,t)}});const Qi={"mod+b":"bold","mod+i":"italic","mod+u":"underline"},eo=e=>{const t=Object(b.useMemo)(()=>function(e){const{insertBreak:t,deleteBackward:r,deleteFragment:n,deleteForward:a}=e;return e.deleteForward=(...t)=>{const[r,n]=dn.a.node(e,e.selection);if(null==r.text||r.text.length>0)return void a(...t);let i;try{i=dn.a.parent(e,e.selection)}catch(e){}if(null==i)return void a(...t);const[,o]=i;let s;try{s=dn.a.nextSibling(e,o)}catch(e){}if(null==s)return void a(...t);const[c]=s;if(!Ua.includes(c.type))return void a(...t);const l=c.type;a(...t),dn.h.wrapNodes(e,{type:l});try{s=dn.a.nextSibling(e,e.selection)}catch(e){}null!=s&&s[0].type==l&&dn.h.mergeNodes(e,{at:s[1]})},e.deleteFragment=()=>{n(),dn.a.isInList(e,e.selection)?dn.h.setNodes(e,{type:"list-item"}):dn.h.setNodes(e,{type:"paragraph"})},e.insertBreak=()=>{let r;try{r=dn.a.parent(e,e.selection)}catch(e){}if(null==r)return void t();const[n,a]=r;if("list-item"!==n.type)return void t();const[i]=dn.a.node(e,e.selection);i.text.length>0?t():(dn.h.setNodes(e,{type:"paragraph",at:a}),dn.a.isInList(e,e.selection)&&dn.h.liftNodes(e,{at:a}))},e.deleteBackward=t=>{let n;try{n=dn.a.parent(e,e.selection)}catch(e){}if(null==n)return void r(t);const[a,i]=n;if("list-item"!==a.type)return void r(t);const[o]=dn.a.node(e,e.selection);o.text.length>0?r(t):(dn.h.setNodes(e,{type:"paragraph",at:i}),dn.h.liftNodes(e,{at:i}))},e}(Ji(Bi((e=>{const{insertData:t,isVoid:r}=e;return e.isVoid=e=>"image-link"===e.type||"image-data"===e.type||r(e),e.insertData=r=>{const n=r.getData("text/plain"),{files:a}=r;if(a&&a.length>0)for(const t of a){const[r]=t.type.split("/");"image"===r&&oi(t,r=>{window.specialDelivery(li({data:r,name:t.name,path:t.path})),ji(e,r)})}else si(n)?ci(n,t=>{window.specialDelivery(li({data:t,name:n,path:n})),ji(e,t)}):t(r)},e})((e=>{const{insertData:t,insertText:r,isInline:n}=e;return e.isInline=e=>"link"===e.type||n(e),e.insertText=t=>{t&&Ka()(t)?ti(e,t):r(t)},e.insertData=r=>{const n=r.getData("text/plain");n&&Ka()(n)?ti(e,n):t(r)},e})((e=>{var t=e,{apply:r}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:r}=e;if(r.length>0){var n=r[r.length-1];Na.withoutSaving(t,()=>{dn.a.withoutNormalizing(t,()=>{for(var e of n)t.apply(e)})}),e.redos.pop(),e.undos.push(n)}},t.undo=()=>{var{history:e}=t,{undos:r}=e;if(r.length>0){var n=r[r.length-1];Na.withoutSaving(t,()=>{dn.a.withoutNormalizing(t,()=>{var e=n.map(dn.d.inverse).reverse();for(var r of e)r===e[e.length-1]&&"set_selection"===r.type&&null==r.newProperties||t.apply(r)})}),e.redos.push(n),e.undos.pop()}},t.apply=e=>{var{operations:n,history:a}=t,{undos:i}=a,o=i[i.length-1],s=o&&o[o.length-1],c=Ra(e,s),l=Na.isSaving(t),u=Na.isMerging(t);if(null==l&&(l=Pa(e)),l){if(null==u&&(u=null!=o&&(0!==n.length||(Da(e,s)||c))),o&&u)c&&o.pop(),o.push(e);else{var d=[e];i.push(d)}for(;i.length>100;)i.shift();Ma(e)&&(a.redos=[])}r(e)},t})(xa(Object(dn.i)()))))))),[]),r=Object(b.useCallback)(e=>v.a.createElement(Xi,e),[]),n=Object(b.useCallback)(e=>v.a.createElement(Zi,e),[]),[a,i]=Object(b.useState)(null),[o,s]=Object(b.useState)(Math.random().toString(16)),c=Object(b.useRef)(null),[l,u]=Object(b.useState)(!1);if(Object(b.useEffect)(()=>{a||i(Wa(e.text))},[e.text]),!a)return null;const d={autoFocus:e.autoFocus};return v.a.createElement(Oa,{editor:t,value:a,onChange:t=>{a!==t&&(i(t),e.onChange(t))},key:o},v.a.createElement("div",{className:A()("slate-editor__wrapper",e.className)},v.a.createElement("div",{className:A()("slate-editor__toolbar-wrapper",{darkmode:e.darkMode}),ref:c},v.a.createElement(Fa,{wrapperRef:c},v.a.createElement(ie,null,v.a.createElement(Pi,{fonts:e.fonts,recentFonts:e.recentFonts,addRecent:e.addRecent}),v.a.createElement(La,{mark:"bold",icon:v.a.createElement(C.a,null)}),v.a.createElement(La,{mark:"italic",icon:v.a.createElement(C.g,null)}),v.a.createElement(La,{mark:"underline",icon:v.a.createElement(C.q,null)}),v.a.createElement(La,{mark:"strike",icon:v.a.createElement(C.p,null)}),v.a.createElement(Si,{toggle:()=>u(!l)}),v.a.createElement(Ga,{format:"heading-one",icon:Ae()("Title")}),v.a.createElement(Ga,{format:"heading-two",icon:Ae()("Subtitle")}),v.a.createElement(Ga,{format:"block-quote",icon:v.a.createElement(C.l,null)}),v.a.createElement(Ga,{format:"numbered-list",icon:v.a.createElement(C.j,null)}),v.a.createElement(Ga,{format:"bulleted-list",icon:v.a.createElement(C.k,null)}),v.a.createElement(ki,null)),v.a.createElement(rr,{show:l,placement:"bottom",container:()=>Object($.findDOMNode)(c.current)},v.a.createElement(Yi,{chooseColor:e=>{((e,t)=>{dn.a.addMark(e,"color",t)})(t,e),u(!1)},el:c,close:()=>u(!1)})))),v.a.createElement("div",{className:A()("slate-editor__editor",{darkmode:e.darkMode})},v.a.createElement(ua,Object.assign({spellCheck:!0},d,{renderLeaf:r,renderElement:n,placeholder:Ae()("Enter some text..."),onKeyDown:e=>{for(const r in Qi)if(un()(r,e)){e.preventDefault(),qa(t,Qi[r])}}})))))};eo.propTypes={text:_.a.any,onChange:_.a.func,autoFocus:_.a.bool,darkMode:_.a.bool};var to=eo;const ro=e=>{const t=Object(b.useMemo)(()=>xa(Object(dn.i)()),[]),r=Object(b.useCallback)(e=>v.a.createElement(Xi,e),[]),n=Object(b.useCallback)(e=>v.a.createElement(Zi,e),[]),a=Wa(e.text),[i,o]=Object(b.useState)(Math.random().toString(16));return a&&a.length?1==a.length&&""==a[0].children[0].text?v.a.createElement("span",null):v.a.createElement(Oa,{editor:t,value:a,key:i},v.a.createElement("div",{className:A()("slate-editor__wrapper",e.className,{readonly:!0})},v.a.createElement("div",{className:A()("slate-editor__editor",{readonly:!0})},v.a.createElement(ua,{readOnly:!0,renderLeaf:r,renderElement:n})))):v.a.createElement("span",null)};ro.propTypes={text:_.a.any,className:_.a.string};var no=ro,ao=r(136);const io=e=>{let t=null;return t=e.editable?v.a.createElement(to,{className:e.className,onChange:e.onChange,autoFocus:e.autofocus,text:e.description,darkMode:e.darkMode,fonts:Object(ao.b)(),recentFonts:Object(ao.c)(),addRecent:ao.a}):v.a.createElement(no,{text:e.description,className:e.className}),v.a.createElement(Ke,null,t)};io.propTypes={description:_.a.any,onChange:_.a.func,editable:_.a.bool,autofocus:_.a.bool,className:_.a.string,darkMode:_.a.bool.isRequired};var oo=io,so=r(20);function co(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class lo extends b.Component{constructor(e){super(e),co(this,"saveEdit",()=>{var e=Object($.findDOMNode)(this.refs.titleInput).value||this.props.card.title;this.props.actions.editCard(this.props.card.id,e,this.state.description),this.setState({editing:!1})}),co(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),co(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),co(this,"handleDragStart",e=>{this.setState({dragging:!0,editing:!1});const{card:t,index:r,isSeries:n}=this.props,a=n?t.seriesLineId:t.lineId;e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify({cardId:t.id,lineId:a,index:r}))}),co(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),co(this,"editOnClick",()=>{this.state.editing||this.setState({editing:!0})}),co(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),co(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),co(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),co(this,"handleDrop",e=>{if(e.stopPropagation(),e.preventDefault(),this.state.dragging)return;this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.reorder({current:this.props.card,currentIndex:this.props.index,dropped:r})}),this.state={editing:!1,description:e.card.description,dragging:!1,inDropZone:!1,dropDepth:0}}componentWillUnmount(){this.state.editing&&this.saveEdit()}renderDropZone(){if(this.state.inDropZone)return v.a.createElement("div",{className:"outline__card-drop"},v.a.createElement(C.b,null))}renderTitle(){const{title:e}=this.props.card;return this.state.editing?v.a.createElement(en.a,null,v.a.createElement(tn.a,{onKeyPress:this.handleEnter,onKeyDown:this.handleEsc,type:"text",autoFocus:!0,ref:"titleInput",defaultValue:e})):null}renderDescription(){const{description:e}=this.props.card;return v.a.createElement("div",{className:"outline__description__editing"},v.a.createElement(oo,{className:"outline__description",onChange:e=>this.setState({description:e}),description:e,editable:this.state.editing,darkMode:this.props.ui.darkMode}),this.state.editing&&v.a.createElement(rn.a,{className:"card-dialog__button-bar"},v.a.createElement(re.a,{onClick:()=>this.setState({editing:!1})},Ae()("Cancel")),v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveEdit},Ae()("Save"))))}renderTags(){return this.props.card.tags.map(e=>{var t=this.props.tags.find(t=>t.id==e);return t?v.a.createElement(cn,{tag:t,key:`outline-taglabel-${e}`}):null})}renderChipCloud(e,t){if(!e.length)return null;const r=e.map((e,r)=>{const n=t.find(t=>t.id==e);if(!n)return null;const a=`${r}-${e}`;return v.a.createElement("div",{key:a,className:"chip"},v.a.createElement(vi.a,{size:"xs",shape:"circle",imageId:n.imageId}),v.a.createElement("span",null,n.name))});return v.a.createElement("div",{className:"chip-cloud"},r)}renderCharacters(){const{card:e,characters:t}=this.props;return this.renderChipCloud(e.characters,t)}renderPlaces(){const{card:e,places:t}=this.props;return this.renderChipCloud(e.places,t)}renderDivider(){const{card:e}=this.props;return e.tags.length||e.characters.length||e.places.length?v.a.createElement("div",{className:"divider"}):null}render(){const{line:e,ui:t,card:r}=this.props,n={color:e.color};return v.a.createElement("div",{className:"outline__card-wrapper",onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderDropZone(),v.a.createElement("div",{className:A()("outline__card",{darkmode:t.darkMode})},v.a.createElement("div",{style:n,className:"outline__card__line-title"},e.title),v.a.createElement("div",{className:A()("outline__card__grip",{editing:this.state.editing,dragging:this.state.dragging}),draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},v.a.createElement(C.e,null),this.state.editing?null:v.a.createElement("h6",null,r.title)),v.a.createElement("div",{className:A()("outline__card__inner",{editing:this.state.editing}),onClick:this.editOnClick},this.renderTitle(),this.renderDescription(),v.a.createElement(x.a,{glyph:"pencil"})),this.renderDivider(),v.a.createElement("div",{className:"outline__card__label-list"},this.renderTags()),this.renderCharacters(),this.renderPlaces()))}}lo.propTypes={card:_.a.object.isRequired,index:_.a.number.isRequired,reorder:_.a.func.isRequired,line:_.a.object.isRequired,tags:_.a.array.isRequired,characters:_.a.array.isRequired,places:_.a.array.isRequired,ui:_.a.object.isRequired,actions:_.a.object.isRequired,images:_.a.object,isSeries:_.a.bool.isRequired};var uo=Object(w.connect)((function(e,t){let r=null,n=Object(so.d)(e.present);return r=n?e.present.seriesLines.find(e=>e.id===t.card.seriesLineId):e.present.lines.find(e=>e.id==t.card.lineId),{line:r,tags:e.present.tags,characters:e.present.characters,places:e.present.places,ui:e.present.ui,isSeries:n}}),(function(e){return{actions:Object(E.bindActionCreators)(n,e)}}))(lo),po=r(48),fo=r(30),ho=r(43),mo=r(41),go=r(38);function bo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class vo extends b.Component{constructor(...e){super(...e),bo(this,"state",{sortedCards:[]}),bo(this,"autoSortChapter",()=>{const{chapterActions:e,beatActions:t,chapter:r,isSeries:n}=this.props;n?t.autoSortBeat(r.id):e.autoSortChapter(r.id)}),bo(this,"reorderCards",({current:e,currentIndex:t,dropped:r})=>{const{sortedCards:n}=this.state,{isSeries:a,chapter:i,actions:o}=this.props,s=n.map(e=>e.id),c=a?e.seriesLineId:e.lineId;let l=[],u=null;if(s.includes(r.cardId)){if(l=Object(fo.a)(r.index,t,s),r.lineId==c){const t=n.filter(e=>a?e.seriesLineId==c:e.lineId==c).map(e=>e.id),i=n.find(e=>e.id==r.cardId).positionWithinLine;u=Object(fo.a)(i,e.positionWithinLine,t)}o.reorderCardsInChapter(i.id,c,a,l,u)}else if(r.lineId==c){let t=n.filter(e=>a?e.seriesLineId==c:e.lineId==c).map(e=>e.id);t.splice(e.positionWithinLine,0,r.cardId),o.reorderCardsWithinLine(i.id,c,a,t)}else l=s,l.splice(t,0,r.cardId),o.reorderCardsInChapter(i.id,c,a,l,null,r.cardId)})}static getDerivedStateFromProps(e,t){const{chapter:r,cards:n,lines:a,isSeries:i}=e;return{sortedCards:Object(ho.b)(r.autoOutlineSort,n,a,i)}}renderManualSort(){return this.props.chapter.autoOutlineSort?null:v.a.createElement("small",{className:"outline__chapter-manual-sort",onClick:this.autoSortChapter},Ae()("Manually Sorted")," ",v.a.createElement(x.a,{glyph:"remove-sign"}))}renderCards(){return this.state.sortedCards.map((e,t)=>v.a.createElement(uo,{key:e.id,card:e,index:t,reorder:this.reorderCards}))}render(){const{chapter:e,ui:t,waypoint:r,cards:n,activeFilter:a,positionOffset:i,isSeries:o}=this.props;if(a&&!n.length)return null;const s=A()("outline__scene-title",{darkmode:t.darkMode});return v.a.createElement(Qr,{onEnter:()=>r(e.id),scrollableAncestor:window,topOffset:"60%",bottomOffset:"60%"},v.a.createElement("div",null,v.a.createElement("h3",{id:`chapter-${e.id}`,className:s},Object(po.c)(e,i,o),this.renderManualSort()),this.renderCards()))}}vo.propTypes={chapter:_.a.object.isRequired,cards:_.a.array.isRequired,waypoint:_.a.func.isRequired,activeFilter:_.a.bool.isRequired,ui:_.a.object.isRequired,lines:_.a.array.isRequired,isSeries:_.a.bool.isRequired,positionOffset:_.a.number.isRequired};var yo=Object(w.connect)((function(e){return{ui:e.present.ui,lines:Object(mo.d)(e.present),isSeries:Object(so.d)(e.present),positionOffset:Object(go.d)(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(n,e),chapterActions:Object(E.bindActionCreators)(a,e),beatActions:Object(E.bindActionCreators)(i,e)}}))(vo),_o=r(110),Eo=r.n(_o);function wo(e){const{chapter:t,idx:r,cards:n,linesById:a,sortedLines:i,isSeries:o,positionOffset:s}=e,[c,l]=Object(b.useState)([]),[u,d]=Object(b.useState)(!1),[p,f]=Object(b.useState)(0);Object(b.useEffect)(()=>{l(Object(ho.b)(t.autoOutlineSort,n,i,o))},[t,n]);const h=(r,n)=>{const a=c.map(e=>e.id);if(!a.includes(r)){let i=c.filter(e=>o?e.seriesLineId==n:e.lineId==n).map(e=>e.id);i.push(r),t.autoOutlineSort?e.reorderCardsWithinLine(t.id,n,o,i):(a.push(r),e.reorderCardsInChapter(t.id,n,o,a,i,r))}};return v.a.createElement("div",{className:A()("outline__minimap__chapter-title",{dropping:u}),onDragEnter:e=>{f(p+1)},onDragOver:e=>{e.preventDefault(),d(!0)},onDragLeave:e=>{let t=p;--t,f(t),t>0||d(!1)},onDrop:e=>{e.stopPropagation(),e.preventDefault(),f(0),d(!1);const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&h(r.cardId,r.lineId)}},v.a.createElement("span",null,v.a.createElement("span",{className:"accented-text"},`${r+1}.  `),v.a.createElement("span",null,Object(po.c)(t,s,o))),v.a.createElement("div",{className:"outline__minimap__dots"},c.map(e=>{let t=(e=>{let t=e.lineId;return o&&(t=e.seriesLineId),a[t]})(e);if(!t)return null;let r={backgroundColor:t.color};return v.a.createElement("div",{key:`dot-${t.id}-${e.id}`,title:t.title,style:r,className:"outline__minimap__card-dot"})})))}wo.propTypes={chapter:_.a.object.isRequired,idx:_.a.number.isRequired,cards:_.a.array.isRequired,sortedLines:_.a.array.isRequired,linesById:_.a.object.isRequired,isSeries:_.a.bool.isRequired,positionOffset:_.a.number.isRequired,reorderCardsWithinLine:_.a.func.isRequired,reorderCardsInChapter:_.a.func.isRequired};var Oo=wo;class xo extends b.Component{constructor(e){super(e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"selectNav",e=>{const t=document.querySelector(`#chapter-${e}`);if(t.scrollIntoViewIfNeeded(),e!=this.firstChapterKey){const e=document.querySelector(".outline__container"),r=t.getBoundingClientRect().y;e.scrollBy(0,r-115)}}),this.state={mouseOver:!1,firstRender:!0},this.firstChapterKey=e.chapters.length?e.chapters[0].id:0}componentDidMount(){setTimeout(()=>this.setState({firstRender:!1}),300)}componentWillReceiveProps(e){e.ui.currentTimeline!=this.props.ui.currentTimeline&&(this.setState({firstRender:!0}),setTimeout(()=>this.setState({firstRender:!1}),500))}renderChapters(){const{lines:e,chapters:t,activeFilter:r,isSeries:n,cardMapping:a,positionOffset:i,actions:o}=this.props,s=Eo()(e,"id");return t.map((t,c)=>{if(this.state.firstRender&&c>20)return null;const l=a[t.id];return r&&!l.length?null:v.a.createElement(Kt,{ref:`chapter-${t.id}`,key:`minimap-chapter-${t.id}`,eventKey:t.id},v.a.createElement(Oo,{chapter:t,idx:c+i,cards:l,linesById:s,isSeries:n,sortedLines:e,positionOffset:i,reorderCardsWithinLine:o.reorderCardsWithinLine,reorderCardsInChapter:o.reorderCardsInChapter}))})}render(){return v.a.createElement(Wt,{className:A()("outline__minimap",{darkmode:this.props.ui.darkMode}),activeKey:this.props.active,onSelect:this.selectNav,onMouseEnter:()=>this.setState({mouseOver:!0}),onMouseLeave:()=>this.setState({mouseOver:!1})},this.renderChapters())}componentDidUpdate(){if(!this.state.mouseOver){const t=this.props.chapters.find(e=>e.id===this.props.active);let r="";t&&(r=`chapter-${t.id}`);var e=Object($.findDOMNode)(this.refs[r]);e&&e.scrollIntoViewIfNeeded()}}shouldComponentUpdate(e,t){return t.mouseOver==this.state.mouseOver}}xo.propTypes={active:_.a.number.isRequired,cardMapping:_.a.object.isRequired,activeFilter:_.a.bool.isRequired,chapters:_.a.array.isRequired,lines:_.a.array.isRequired,ui:_.a.object.isRequired,isSeries:_.a.bool.isRequired,positionOffset:_.a.number.isRequired};var Co=Object(w.connect)((function(e){return{chapters:Object(go.e)(e.present),lines:Object(mo.d)(e.present),ui:e.present.ui,isSeries:Object(so.d)(e.present),positionOffset:Object(go.d)(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(n,e)}}))(xo),ko=r(64),Io=r(23),jo=r.n(Io),So=r(87);const To=g.remote.getCurrentWindow(),Ao=g.remote.dialog;var No=function(e){const t=()=>{n("word")},r=()=>{n("scrivener")},n=t=>{let r=Ae()("Where would you like to save the export?");const n=jo.a.basename(e.fileName).replace(".pltr","");let a=[];switch(t){case"word":a=[{name:Ae()("MS Word"),extensions:["docx"]}];break;case"scrivener":a=[{name:Ae()("Scrivener Project"),extensions:["scriv"]}]}const i=Ao.showSaveDialogSync(To,{title:r,filters:a,defaultPath:n});if(i){const r={fileName:i,bookId:e.bookId};switch(So.a.push("Export",{export_type:t}),t){case"word":g.ipcRenderer.send("export",r,To.id);break;case"scrivener":g.ipcRenderer.sendTo(To.webContents.id,"export-scrivener",i)}}};return v.a.createElement(Kt,null,v.a.createElement("span",{className:"subnav__container__label"},Ae()("Export"),": "),v.a.createElement(sr,{trigger:"click",rootClose:!0,placement:"bottom",overlay:v.a.createElement(Je,{id:"export-popover"},v.a.createElement("ul",{className:"export-list"},v.a.createElement("li",{onClick:t},Ae()("MS Word")),v.a.createElement("li",{onClick:r},Ae()("Scrivener"))))},v.a.createElement(re.a,{bsSize:"small"},v.a.createElement(x.a,{glyph:"export"}))))};function Do(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Po extends b.Component{constructor(e){super(e),Do(this,"setActive",e=>{this.setState({active:e})}),Do(this,"filterItem",e=>{this.state.currentLine===e?this.setState({currentLine:null}):this.setState({currentLine:e})}),Do(this,"removeFilter",()=>{this.setState({currentLine:null})}),this.state={active:0,currentLine:null,firstRender:!0}}componentDidMount(){setTimeout(()=>this.setState({firstRender:!1}),500)}componentWillReceiveProps(e){e.ui.currentTimeline!=this.props.ui.currentTimeline&&(this.setState({firstRender:!0}),setTimeout(()=>this.setState({firstRender:!1}),500))}renderFilterList(){var e=this.props.lines.map(e=>this.renderFilterItem(e));return v.a.createElement("ul",{className:"filter-list__list"},e)}renderFilterItem(e){var t=v.a.createElement("span",{className:"filter-list__placeholder"});return this.state.currentLine===e.id&&(t=v.a.createElement(x.a,{glyph:"eye-open"})),v.a.createElement("li",{key:e.id,onMouseDown:()=>this.filterItem(e.id)},t," ",e.title)}renderSubNav(){const{ui:e,file:t}=this.props;let r=v.a.createElement(Je,{id:"filter"},v.a.createElement("div",{className:"filter-list"},this.renderFilterList())),n=v.a.createElement(nt,{onClick:this.removeFilter,bsStyle:"warning"},v.a.createElement(x.a,{glyph:"remove-sign"}),"  ",Ae()("Outline is filtered"));return null==this.state.currentLine&&(n=v.a.createElement("span",null)),v.a.createElement(qt,{className:A()("subnav__container",{darkmode:e.darkMode})},v.a.createElement(Wt,{bsStyle:"pills"},v.a.createElement(Kt,null,v.a.createElement(sr,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:r},v.a.createElement(re.a,{bsSize:"small"},v.a.createElement(x.a,{glyph:"filter"}),Ae()("Filter by Plotline"))),n)),v.a.createElement(Wt,{pullRight:!0},v.a.createElement(No,{fileName:t.fileName,bookId:e.currentTimeline})))}renderChapters(e){return this.props.chapters.map((t,r)=>this.state.firstRender&&r>2?null:v.a.createElement(Ke,{key:t.id},v.a.createElement(yo,{chapter:t,cards:e[t.id],waypoint:this.setActive,activeFilter:!!this.state.currentLine})))}renderBody(){const{chapters:e,lines:t,card2Dmap:r}=this.props,n=Object(ho.a)(e,t,r,this.state.currentLine);return v.a.createElement("div",{className:"outline__container"},v.a.createElement("div",{className:"outline__minimap__placeholder"},"Fish are friends, not food"),v.a.createElement(Ke,null,v.a.createElement(Co,{active:this.state.active,cardMapping:n,activeFilter:!!this.state.currentLine})),v.a.createElement("div",{className:"outline__scenes-container"},this.renderChapters(n)))}render(){return v.a.createElement("div",{className:"container-with-sub-nav"},this.renderSubNav(),this.renderBody())}}Po.propTypes={chapters:_.a.array.isRequired,lines:_.a.array.isRequired,card2Dmap:_.a.object.isRequired,file:_.a.object.isRequired,ui:_.a.object.isRequired,isSeries:_.a.bool};var Ro=Object(w.connect)((function(e){return{chapters:Object(go.e)(e.present),lines:Object(mo.d)(e.present),card2Dmap:Object(ko.a)(e.present),file:e.present.file,ui:e.present.ui,isSeries:Object(so.d)(e.present)}}),(function(e){return{}}))(Po);class Mo extends b.Component{render(){return v.a.createElement(Ke,null,v.a.createElement(Ro,null))}}function Fo(){return{type:cr.u}}function Lo(e){return{type:cr.i,attributes:e}}function Bo(e,t,r){return{type:cr.tb,id:e,title:t,color:r}}function qo(e){return{type:cr.db,id:e}}function Ho(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const zo={content:{top:"70px"}};class Uo extends b.Component{constructor(e){super(e),Ho(this,"closeDialog",e=>{this.props.closeDialog(e)}),Ho(this,"showColor",()=>{var e=Object($.findDOMNode)(this.refs.hexRef).value,t=/#?([0123456789abcdef]{6})/.exec(e);t?this.setState({color:`#${t[1]}`}):this.setState({color:e})}),this.state={color:this.props.color}}componentDidMount(){window.SCROLLWITHKEYS=!1}componentWillUnmount(){window.SCROLLWITHKEYS=!0}render(){let e="color-picker__wrapper";return 1==this.props.darkMode&&(e+=" darkmode",zo.content.backgroundColor="#666"),v.a.createElement(fi.a,{isOpen:!0,onRequestClose:()=>this.closeDialog(this.props.color),style:zo},v.a.createElement("div",{className:e},v.a.createElement("h2",{className:"color-picker__title"},Ae()("Pick a color")),v.a.createElement("div",{className:"color-picker__input-box form-horizontal"},v.a.createElement(gi,null,v.a.createElement(Ja.a,{xs:5},v.a.createElement("h5",{style:{marginTop:"26px"},className:"secondary-text"},Ae()("Click on a color below or type it in"))),v.a.createElement(Ja.a,{xs:2},v.a.createElement("p",{style:{textAlign:"right",marginTop:"32px"}},Ae()("Current Color"),": ")),v.a.createElement(Ja.a,{xs:1},v.a.createElement("div",{title:this.state.color,style:{backgroundColor:this.state.color,marginTop:"16px"},className:"color-picker__show-color"})),v.a.createElement(Ja.a,{xs:2},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("hex code or name")),v.a.createElement(tn.a,{type:"text",ref:"hexRef",placeholder:"e.g. #ffffff",defaultValue:this.state.color,onKeyDown:e=>{27===e.which&&this.closeDialog(this.state.color)},onKeyPress:e=>{13===e.which&&this.closeDialog(this.state.color)},onChange:this.showColor}))),v.a.createElement(Ja.a,{xs:2},v.a.createElement("div",{style:{marginTop:"26px"}},v.a.createElement(re.a,{bsStyle:"success",onClick:()=>this.closeDialog(this.state.color)},Ae()("Choose")))))),v.a.createElement("div",null,this.renderColors())))}renderColors(){return v.a.createElement("div",{className:"color-picker__box-wrapper"},v.a.createElement("p",null,Ae()("Default Colors")),v.a.createElement("div",{className:"color-picker__box"},$i.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),v.a.createElement("p",null,Ae()("Reds")),v.a.createElement("div",{className:"color-picker__box"},qi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),v.a.createElement("p",null,Ae()("Oranges")),v.a.createElement("div",{className:"color-picker__box"},Hi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),v.a.createElement("p",null,Ae()("Greens")),v.a.createElement("div",{className:"color-picker__box"},zi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),v.a.createElement("p",null,Ae()("Blues")),v.a.createElement("div",{className:"color-picker__box"},Ui.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),v.a.createElement("p",null,Ae()("Purples")),v.a.createElement("div",{className:"color-picker__box"},Wi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),v.a.createElement("p",null,Ae()("Grays")),v.a.createElement("div",{className:"color-picker__box"},Gi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),v.a.createElement("p",null,Ae()("Whites")),v.a.createElement("div",{className:"color-picker__box"},Vi.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),v.a.createElement("p",null,Ae()("Browns")),v.a.createElement("div",{className:"color-picker__box"},Ki.map(e=>v.a.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))))}renderColor(e){return v.a.createElement(re.a,{title:e,onClick:()=>this.closeDialog(e),style:{backgroundColor:e}})}}Uo.propTypes={closeDialog:_.a.func.isRequired,color:_.a.string,darkMode:_.a.bool};var Wo=Uo;function Go(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Vo extends b.Component{constructor(e){super(e),Go(this,"deleteTag",e=>{e.stopPropagation(),this.props.actions.deleteTag(this.props.tag.id)}),Go(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),Go(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),Go(this,"handleCancel",()=>{this.setState({editing:!1}),this.props.new&&this.props.doneCreating()}),Go(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),Go(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),Go(this,"startEditing",()=>{this.setState({editing:!0})}),Go(this,"startHovering",()=>{this.setState({hovering:!0})}),Go(this,"stopHovering",()=>{this.setState({hovering:!1})}),Go(this,"saveEdit",()=>{let{title:e,id:t,color:r}=this.props.tag;var n=Object($.findDOMNode)(this.refs.titleInput).value||e;this.props.new?(this.props.actions.addCreatedTag({title:n,color:this.state.color}),this.props.doneCreating()):this.props.actions.editTag(t,n,r),this.setState({editing:!1})}),Go(this,"changeColor",e=>{if(this.props.new)this.setState({color:e});else{let{id:t,title:r}=this.props.tag;this.props.actions.editTag(t,r,e)}this.setState({showColorPicker:!1})}),this.state={editing:""===e.tag.title,showColorPicker:!1,hovering:!1,color:null,deleting:!1}}componentWillUnmount(){this.state.editing&&!this.props.new&&this.saveEdit()}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.tag.title,onDelete:this.deleteTag,onCancel:this.cancelDelete}):null}renderColorPicker(){if(this.state.showColorPicker){var e="colorPicker-"+this.props.tag.id;return v.a.createElement(Wo,{key:e,darkMode:this.props.ui.darkMode,color:this.props.tag.color||this.state.color,closeDialog:this.changeColor})}return null}renderEditing(){const{tag:e}=this.props;return v.a.createElement("div",{onKeyDown:this.handleEsc},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Tag Name")),v.a.createElement(tn.a,{type:"text",ref:"titleInput",autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.title})),this.renderColorPicker(),v.a.createElement(rn.a,{className:"tag-list__tag__button-bar"},v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveEdit},Ae()("Save")),v.a.createElement(re.a,{onClick:this.handleCancel},Ae()("Cancel"))))}renderHoverOptions(){const{color:e}=this.props.tag;var t={visibility:"hidden"};return this.state.hovering&&(t.visibility="visible"),v.a.createElement("div",{className:"tag-list__tag__hover-options",style:t},v.a.createElement(ie,null,this.props.new?null:v.a.createElement(re.a,{title:Ae()("Edit"),onClick:this.startEditing},v.a.createElement(x.a,{glyph:"edit"})),v.a.createElement(re.a,{title:Ae()("Choose color"),onClick:()=>this.setState({showColorPicker:!0})},v.a.createElement(x.a,{glyph:"tint"})),e||this.state.color?v.a.createElement(re.a,{bsStyle:"warning",title:Ae()("No color"),onClick:()=>this.changeColor(null)},v.a.createElement(x.a,{glyph:"ban-circle"})):null,this.props.new?null:v.a.createElement(re.a,{bsStyle:"danger",title:Ae()("Delete"),onClick:this.handleDelete},v.a.createElement(x.a,{glyph:"trash"}))))}renderTag(){return v.a.createElement("div",{className:"tag-list__tag-normal",onClick:this.startEditing},v.a.createElement("h6",null,this.props.tag.title))}render(){let e=null;this.state.editing?(window.SCROLLWITHKEYS=!1,e=this.renderEditing()):(window.SCROLLWITHKEYS=!0,e=this.renderTag());const{tag:t,ui:r}=this.props;let n={};return t.color&&(n={border:`2px solid ${t.color}`}),this.state.color&&(n={border:`2px solid ${this.state.color}`}),v.a.createElement("div",{className:"tag-list__tag-wrapper",onMouseOver:this.startHovering,onMouseLeave:this.stopHovering},this.renderDelete(),this.renderColorPicker(),this.renderHoverOptions(),v.a.createElement("div",{className:A()("tag-list__tag",{darkmode:r.darkMode,editing:this.state.editing}),style:n},e))}}Vo.propTypes={tag:_.a.object.isRequired,new:_.a.bool,doneCreating:_.a.func,actions:_.a.object.isRequired,ui:_.a.object.isRequired};var Ko=Object(w.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(s,e)}}))(Vo),$o=r(24),Yo=r.n($o),Jo=r(21);const Xo=Object(Jo.a)(e=>e.tags,e=>Yo()(e,["title","id"]));function Zo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Qo extends b.Component{constructor(...e){super(...e),Zo(this,"state",{appending:!1}),Zo(this,"appendBlankTag",()=>{this.setState({appending:!0})}),Zo(this,"doneCreating",()=>{this.setState({appending:!1})})}renderTags(){let e=this.props.tags.map(e=>v.a.createElement(Ko,{key:e.id,tag:e}));return this.state.appending&&e.push(v.a.createElement(Ko,{key:"appended",new:!0,tag:Cr.tag,doneCreating:this.doneCreating})),e}renderSubNav(){const{ui:e}=this.props;return v.a.createElement(qt,{className:A()("subnav__container",{darkmode:e.darkMode})},v.a.createElement(Wt,{bsStyle:"pills"},v.a.createElement(Kt,null,v.a.createElement(re.a,{bsSize:"small",onClick:this.appendBlankTag},v.a.createElement(x.a,{glyph:"plus"})," ",Ae()("New")))))}render(){const{ui:e}=this.props;return v.a.createElement("div",{className:"tag-list__container container-with-sub-nav"},this.renderSubNav(),v.a.createElement("h1",{className:A()("secondary-text",{darkmode:e.darkMode})},Ae()("Tags")),v.a.createElement("div",{className:"tag-list__wrapper"},v.a.createElement("div",{className:"tag-list__tags"},this.renderTags(),v.a.createElement("div",{className:"tag-list__tag-wrapper"},this.state.appending?null:v.a.createElement("div",{className:A()("tag-list__new",{darkmode:e.darkMode}),onClick:this.appendBlankTag},v.a.createElement(x.a,{glyph:"plus"}))))))}}Qo.propTypes={tags:_.a.array.isRequired,actions:_.a.object.isRequired,ui:_.a.object.isRequired};var es=Object(w.connect)((function(e){return{tags:Xo(e.present),ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(s,e)}}))(Qo);class ts extends b.Component{render(){return v.a.createElement(Ke,null,v.a.createElement(es,null))}}var rs=r(377),ns=r.n(rs);function as(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class is extends b.Component{constructor(...e){super(...e),as(this,"filterItem",e=>{var t=this.props.filteredItems;if(t.includes(e)){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}else t.push(e);this.props.updateItems(t)}),as(this,"filterList",e=>{var t=this.props.filteredItems;t=t.length?[]:e.map(e=>e.id),this.props.updateItems(t)})}isChecked(e){return this.props.filteredItems.includes(e)}renderFilterList(e,t){var r=e.map(e=>this.renderFilterItem(e,t));return v.a.createElement("ul",{className:"filter-list__list"},r)}renderFilterItem(e,t){if(!e)return null;var r="unchecked";return this.isChecked(e.id)&&(r="eye-open"),v.a.createElement("li",{key:e.id,onMouseDown:()=>this.filterItem(e.id)},v.a.createElement(x.a,{glyph:r})," ",e[t])}render(){const{title:e,items:t,displayAttribute:r}=this.props;return v.a.createElement("div",null,v.a.createElement("p",{onClick:()=>this.filterList(t)},v.a.createElement("em",null,e)),this.renderFilterList(t,r))}}is.propTypes={items:_.a.array.isRequired,title:_.a.string.isRequired,displayAttribute:_.a.string.isRequired,updateItems:_.a.func.isRequired,filteredItems:_.a.array};class os extends b.Component{constructor(...e){super(...e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"updateItems",e=>{this.props.updateItems("tag",e)})}render(){return v.a.createElement(is,{items:this.props.tags,title:Ae()("Tags"),displayAttribute:"title",updateItems:this.updateItems,filteredItems:this.props.filteredItems})}}os.propTypes={tags:_.a.array.isRequired,updateItems:_.a.func.isRequired,filteredItems:_.a.array};var ss=Object(w.connect)((function(e){return{tags:Xo(e.present)}}),(function(e){return{}}))(os);class cs extends b.Component{constructor(...e){super(...e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"updateItems",e=>{this.props.updateItems("book",e)})}render(){let e=this.props.books.allIds.map(e=>{let t={...this.props.books[e.toString()]};return t.title=t.title||Ae()("Untitled"),t}),t=[{id:"series",title:Ae()("Series")},...e];return v.a.createElement(is,{items:t,title:Ae()("Books"),displayAttribute:"title",updateItems:this.updateItems,filteredItems:this.props.filteredItems})}}cs.propTypes={books:_.a.object.isRequired,updateItems:_.a.func.isRequired,filteredItems:_.a.array};var ls=Object(w.connect)((function(e){return{books:e.present.books}}),(function(e){return{}}))(cs);const us=Object(Jo.a)(e=>e.categories.characters,e=>Yo()(e,"position"));class ds extends b.Component{constructor(...e){super(...e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"updateItems",e=>{this.props.updateItems("category",e)})}render(){return v.a.createElement(is,{items:this.props.categories,title:Ae()("Categories"),displayAttribute:"name",updateItems:this.updateItems,filteredItems:this.props.filteredItems})}}ds.propTypes={categories:_.a.array.isRequired,updateItems:_.a.func.isRequired,filteredItems:_.a.array};var ps=Object(w.connect)((function(e){return{categories:us(e.present)}}),(function(e){return{}}))(ds);function fs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class hs extends b.Component{constructor(e){super(e),fs(this,"updateFilter",(e,t)=>{let r=this.state.filteredItems;r[e]=t,this.props.update(r),this.setState({filteredItems:r})}),fs(this,"renderList",e=>{const{name:t,type:r}=e;return"text"!=r?null:v.a.createElement("div",{key:t},v.a.createElement("p",{onClick:()=>this.filterList(e.name)},v.a.createElement("em",null,t)),this.renderFilterList(this.values(e.name),e))}),this.state={filteredItems:{}}}static getDerivedStateFromProps(e,t){let r={tag:[],book:[],category:[]};return t.filteredItems&&(r=Object.assign({},r,t.filteredItems,e.filteredItems)),r=e.customAttributes.reduce((e,t)=>("text"==t.type&&(e[t.name]=r[t.name]||[]),e),r),{filteredItems:r}}filterItem(e,t){var r=this.state.filteredItems;if(r[t]){if(r[t].includes(e)){var n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1)}else r[t].push(e);this.props.update(r),this.setState({filteredItems:r})}}filterList(e){var t=this.state.filteredItems;t[e]&&(t[e].length>0?t[e]=[]:t[e]=this.values(e),this.props.update(t),this.setState({filteredItems:t}))}isChecked(e,t){return!!this.state.filteredItems[t]&&(!!this.state.filteredItems[t].length&&-1!==this.state.filteredItems[t].indexOf(e))}values(e){let t=this.props.items.map(t=>t[e]);return ns()(t.filter(e=>e&&""!=e))}renderFilterList(e,t){var r=e.map(e=>this.renderFilterItem(e,t));return v.a.createElement("ul",{key:`${t.name}-${r}`,className:"filter-list__list"},r,this.renderBlank(t))}renderFilterItem(e,t){var r="unchecked";return this.isChecked(e,t.name)&&(r="eye-open"),v.a.createElement("li",{key:`${e}-${t.name}`,onMouseDown:()=>this.filterItem(e,t.name)},v.a.createElement(x.a,{glyph:r})," ",e.substr(0,18))}renderBlank(e){var t="unchecked";return this.isChecked("",e.name)&&(t="eye-open"),v.a.createElement("li",{onMouseDown:()=>this.filterItem("",e.name)},v.a.createElement(x.a,{glyph:t})," ",v.a.createElement("em",{className:"secondary-text"},"[",Ae()("blank"),"]"))}render(){const e=this.props.customAttributes.map(this.renderList);return v.a.createElement("div",{className:"filter-list flex"},v.a.createElement(ls,{updateItems:this.updateFilter,filteredItems:[...this.state.filteredItems.book]}),this.props.showCategory?v.a.createElement(ps,{updateItems:this.updateFilter,filteredItems:[...this.state.filteredItems.category]}):null,v.a.createElement(ss,{updateItems:this.updateFilter,filteredItems:[...this.state.filteredItems.tag]}),e)}}hs.propTypes={tags:_.a.array.isRequired,books:_.a.object.isRequired,customAttributes:_.a.array.isRequired,items:_.a.array.isRequired,filteredItems:_.a.object,type:_.a.string.isRequired,update:_.a.func.isRequired,showCategory:_.a.bool};var ms=Object(w.connect)((function(e,t){let r=e.present.ui.characterFilter;return"places"==t.type&&(r=e.present.ui.placeFilter),{tags:Xo(e.present),books:e.present.books,customAttributes:e.present.customAttributes[t.type],items:"characters"==t.type?e.present.characters:e.present.places,filteredItems:r,showCategory:"characters"==t.type}}),(function(e,t){let r=Object(E.bindActionCreators)(O,e);return{update:"characters"==t.type?r.setCharacterFilter:r.setPlaceFilter}}))(hs),gs=r(55),bs=r.n(gs);const vs=e=>e.characters,ys=Object(Jo.a)(vs,(e,t)=>t,(e,t)=>e.find(e=>e.id==t)),_s=Object(Jo.a)(vs,e=>bs()(e,"categoryId")),Es=Object(Jo.a)(so.a,e=>e.customAttributes.characters,(e,t)=>{if(!e)return!0;return![{name:"tag"},{name:"book"},{name:"category"},...t].some(t=>e[t.name]&&e[t.name].length)}),ws=Object(Jo.a)(vs,_s,so.a,Es,so.b,(e,t,r,n,a)=>{if(!e.length)return{};let i=t;return n||(i={},e.forEach(e=>{Object.keys(r).some(t=>r[t].some(r=>{if("tag"==t)return e.tags.includes(r);if("book"==t)return e.bookIds.includes(r);if("category"==t)return e.categoryId==r;if(""==r){if(!e[t]||""==e[t])return!0}else if(e[t]&&e[t]==r)return!0;return!1}))&&(i[e.categoryId]&&i[e.categoryId].length?i[e.categoryId].push(e):i[e.categoryId]=[e])})),function(e,t){let r=t.split("~"),n=r[0],a=r[1],i="name"===n?[n,"id"]:[n,"name"];return Object.keys(e).forEach(t=>{let r=e[t],n=Yo()(r,i);"desc"==a&&n.reverse(),e[t]=n}),e}(i,a)});const Os=Object(Jo.a)(vs,e=>Yo()(e,"name")),xs=e=>e.places,Cs=Object(Jo.a)(xs,e=>Yo()(e,"name")),ks=Object(Jo.a)(so.e,e=>e.customAttributes.places,(e,t)=>{if(!e)return!0;return![{name:"tag"},{name:"book"},...t].some(t=>e[t.name]&&e[t.name].length)}),Is=Object(Jo.a)(xs,so.e,ks,so.f,(e,t,r,n)=>{if(!e.length)return[];let a=e;r||(a=[],a=e.filter(e=>Object.keys(t).some(r=>t[r].some(t=>{if("tag"==r)return e.tags.includes(t);if("book"==r)return e.bookIds.includes(t);if(""==t){if(!e[r]||""==e[r])return!0}else if(e[r]&&e[r]==t)return!0;return!1}))));let i=n.split("~"),o=i[0],s=i[1],c="name"===o?[o,"id"]:[o,"name"],l=Yo()(a,c);return"desc"==s&&l.reverse(),l}),js=Object.keys(Cr.character),Ss=Object.keys(Cr.place),Ts=e=>e.customAttributes.characters,As=e=>e.customAttributes.places,Ns=Object(Jo.a)(Ts,e=>e.filter(e=>"text"==e.type).map(e=>e.name)),Ds=Object(Jo.a)(As,e=>e.filter(e=>"text"==e.type).map(e=>e.name)),Ps=Object(Jo.a)(vs,Ts,(e,t)=>t.reduce((t,r)=>{if("text"==r.type)return t.push(r.name),t;return e.every(e=>Ms(e,r.name))&&t.push(r.name),t},[])),Rs=Object(Jo.a)(xs,As,(e,t)=>t.reduce((t,r)=>{if("text"==r.type)return t.push(r.name),t;return e.every(e=>Ms(e,r.name))&&t.push(r.name),t},[]));function Ms(e,t){const r=e[t];return!r||("string"==typeof r||(!r.length||!(r.length>1)&&(!(r[0].children.length>1)&&""==r[0].children[0].text)))}const Fs=Object(Jo.a)(Ts,e=>js.concat(e.map(e=>e.name))),Ls=Object(Jo.a)(As,e=>Ss.concat(e.map(e=>e.name)));class Bs extends b.Component{constructor(...e){super(...e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"toggle",e=>{let t=this.props.sortAttr.split("~"),r=t[0],n=t[1];if(e===r){let t="asc"===n?"desc":"asc";this.props.update(e,t)}else this.props.update(e,"asc")})}renderList(){let e=this.props.sortAttr.split("~"),t=e[0],r=e[1];return this.props.items.map(e=>{let n=null,a=v.a.createElement("span",{className:"not-active"},e);return e===t&&(a=v.a.createElement("em",null,e),n="asc"===r?v.a.createElement(x.a,{glyph:"arrow-up"}):v.a.createElement(x.a,{glyph:"arrow-down"})),v.a.createElement("li",{key:`attr-${e}`,onClick:()=>this.toggle(e)},n," ",a)})}render(){return v.a.createElement("ul",{className:"sort-list"},this.renderList())}}Bs.propTypes={type:_.a.string.isRequired,items:_.a.array.isRequired,sortAttr:_.a.string.isRequired,update:_.a.func.isRequired};var qs=Object(w.connect)((function(e,t){let r,n;return"characters"==t.type?(n=Ns(e.present),r=e.present.ui.characterSort):(n=Ds(e.present),r=e.present.ui.placeSort),{customAttributes:n,sortAttr:r,items:[Ae()("name"),Ae()("description"),...n]}}),(function(e,t){let r=Object(E.bindActionCreators)(O,e);return{update:"characters"==t.type?r.setCharacterSort:r.setPlaceSort}}))(Bs);function Hs(e){return{type:cr.f,name:e||Cr.character.name,description:Cr.character.description,notes:Cr.character.notes}}function zs(e,t){return{type:cr.h,name:e||Cr.character.name,description:Cr.character.description,notes:Cr.character.notes,templateData:t}}function Us(e,t){return{type:cr.ib,id:e,attributes:t}}function Ws(e){return{type:cr.W,id:e}}function Gs(e,t){return{type:cr.D,id:e,tagId:t}}function Vs(e,t){return{type:cr.Qb,id:e,tagId:t}}function Ks(e,t){return{type:cr.v,id:e,bookId:t}}function $s(e,t){return{type:cr.Db,id:e,bookId:t}}function Ys(e){return{type:cr.g,attribute:e}}function Js(e){return{type:cr.Hb,attribute:e}}function Xs(e,t,r){return{type:cr.jb,index:e,oldAttribute:t,newAttribute:r}}function Zs(e){return{type:cr.p,attribute:e}}function Qs(e){return{type:cr.Lb,attribute:e}}function ec(e,t,r){return{type:cr.ob,index:e,oldAttribute:t,newAttribute:r}}function tc(e){return{type:cr.d,attribute:e}}function rc(e){return{type:cr.Gb,attribute:e}}function nc(e){return{type:cr.l,attribute:e}}function ac(e){return{type:cr.Kb,attribute:e}}function ic(e){return{type:cr.r,attribute:e}}function oc(e){return{type:cr.Ob,attribute:e}}function sc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class cc extends b.Component{constructor(...e){super(...e),sc(this,"onChange",()=>{const e=Object($.findDOMNode)(this.refs.selectRef).value;this.props.onChange(-1==e?null:e)})}renderOptions(){const e=[...this.props.categories];return e.push({id:-1,name:Ae()("Uncategorized")}),e.map(e=>v.a.createElement("option",{key:e.id,value:e.id},e.name))}render(){let e=this.props.selectedId?this.props.selectedId:-1;return v.a.createElement(tn.a,{componentClass:"select",placeholder:Ae()("Choose"),onChange:this.onChange,ref:"selectRef",value:e},this.renderOptions())}}sc(cc,"propTypes",{categories:_.a.array,type:_.a.oneOf(["characters","places","notes","tags"]),onChange:_.a.func.isRequired,selectedId:_.a.any});var lc=Object(w.connect)((function(e,t){return{categories:e.present.categories[t.type],ui:e.present.ui}}),(function(e){return{}}))(cc);function uc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class dc extends b.Component{constructor(e){super(e),uc(this,"deleteCharacter",e=>{e.stopPropagation(),this.props.actions.deleteCharacter(this.props.character.id)}),uc(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),uc(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),uc(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),uc(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),uc(this,"handleAttrDescriptionChange",(e,t)=>{let r={...this.state.description};r[e]=t,this.setState({description:r})}),uc(this,"handleTemplateAttrDescriptionChange",(e,t,r)=>{let n={...this.state.templateAttrs,[e]:{...this.state.templateAttrs[e],[t]:r}};this.setState({templateAttrs:n})}),uc(this,"saveEdit",(e=!0)=>{var t=Object($.findDOMNode)(this.refs.nameInput).value||this.props.character.name,r=Object($.findDOMNode)(this.refs.descriptionInput).value,n=this.state.notes,a={categoryId:-1==this.state.categoryId?null:this.state.categoryId};this.state.newImageId&&(a.imageId=-1==this.state.newImageId?null:this.state.newImageId),this.props.customAttributes.forEach(e=>{const{name:t,type:r}=e;if("paragraph"==r)a[t]=this.state.description[t];else{const e=Object($.findDOMNode)(this.refs[`${t}Input`]).value;a[t]=e}});let i=this.props.character.templates.map(e=>(e.attributes=e.attributes.map(t=>("paragraph"==t.type?t.value=this.state.templateAttrs[e.id][t.name]:t.value=Object($.findDOMNode)(this.refs[`${e.id}-${t.name}Input`]).value,t)),e));this.props.actions.editCharacter(this.props.character.id,{name:t,description:r,notes:n,templates:i,...a}),e&&this.props.finishEditing()}),uc(this,"changeCategory",e=>{this.setState({categoryId:e}),this.props.actions.editCharacter(this.props.character.id,{categoryId:e})});let t={};e.customAttributes.forEach(r=>{const{name:n}=r;t[n]=e.character[n]});let r=e.character.templates.reduce((e,t)=>(e[t.id]=t.attributes.reduce((e,t)=>(e[t.name]=t.value,e),{}),e),{});this.state={notes:e.character.notes,description:t,categoryId:e.character.categoryId,templateAttrs:r,newImageId:null,deleting:!1}}componentWillUnmount(){this.saveEdit(!1)}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.character.name||Ae()("New Character"),onDelete:this.deleteCharacter,onCancel:this.cancelDelete}):null}renderEditingImage(){const{character:e}=this.props;let t=this.state.newImageId||e.imageId;return v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Character Thumbnail")),v.a.createElement("div",{className:"character-list__character__edit-image-wrapper"},v.a.createElement("div",{className:"character-list__character__edit-image"},v.a.createElement(vi.a,{size:"large",shape:"circle",imageId:t})),v.a.createElement("div",null,v.a.createElement(Ci,{selectedId:t,chooseImage:e=>this.setState({newImageId:e}),deleteButton:!0}))))}renderEditingCustomAttributes(){const{character:e,ui:t,customAttributes:r}=this.props;return r.map((r,n)=>{const{name:a,type:i}=r;return"paragraph"==i?v.a.createElement("div",{key:n},v.a.createElement(bi.a,null,a),v.a.createElement(oo,{description:e[a],onChange:e=>this.handleAttrDescriptionChange(a,e),editable:!0,autofocus:!1,darkMode:t.darkMode})):v.a.createElement(en.a,{key:n},v.a.createElement(bi.a,null,a),v.a.createElement(tn.a,{type:"text",ref:`${a}Input`,defaultValue:e[a],onKeyDown:this.handleEsc,onKeyPress:this.handleEnter}))})}renderEditingTemplates(){return this.props.character.templates.flatMap(e=>e.attributes.map(t=>"paragraph"==t.type?v.a.createElement("div",{key:t.name},v.a.createElement(bi.a,null,t.name),v.a.createElement(oo,{description:t.value,onChange:r=>this.handleTemplateAttrDescriptionChange(e.id,t.name,r),editable:!0,autofocus:!1,darkMode:this.props.ui.darkMode})):v.a.createElement(en.a,{key:t.name},v.a.createElement(bi.a,null,t.name),v.a.createElement(tn.a,{type:"text",ref:`${e.id}-${t.name}Input`,defaultValue:t.value,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter}))))}render(){const{character:e,ui:t}=this.props;return v.a.createElement("div",{className:"character-list__character-wrapper"},this.renderDelete(),v.a.createElement("div",{className:A()("character-list__character","editing",{darkmode:t.darkMode})},v.a.createElement("div",{className:"character-list__character__edit-form"},v.a.createElement("div",{className:"character-list__inputs__normal"},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Name")),v.a.createElement(tn.a,{type:"text",ref:"nameInput",autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.name})),v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Short Description")),v.a.createElement(tn.a,{type:"text",ref:"descriptionInput",onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.description}))),v.a.createElement("div",{className:"character-list__inputs__custom"},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Category")),v.a.createElement(lc,{type:"characters",selectedId:this.state.categoryId,onChange:this.changeCategory})),this.renderEditingImage())),v.a.createElement("div",null,v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Notes")),v.a.createElement(oo,{description:e.notes,onChange:e=>this.setState({notes:e}),editable:!0,autofocus:!1,darkMode:this.props.ui.darkMode})),this.renderEditingCustomAttributes(),this.renderEditingTemplates()),v.a.createElement(rn.a,{className:"card-dialog__button-bar"},v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveEdit},Ae()("Save")),v.a.createElement(re.a,{className:"card-dialog__delete",onClick:this.handleDelete},Ae()("Delete")))))}}uc(dc,"propTypes",{characterId:_.a.number.isRequired,character:_.a.object.isRequired,categories:_.a.array.isRequired,actions:_.a.object.isRequired,customAttributes:_.a.array.isRequired,ui:_.a.object.isRequired,finishEditing:_.a.func.isRequired});var pc=Object(w.connect)((function(e,t){return{character:ys(e.present,t.characterId),categories:e.present.categories.characters,customAttributes:e.present.customAttributes.characters,ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(c,e)}}))(dc);class fc extends b.Component{render(){const{character:e,ui:t,customAttributes:r,categories:n}=this.props,a=r.map((r,n)=>{const{name:a,type:i}=r;let o;return o="paragraph"==i?v.a.createElement("dd",null,v.a.createElement(oo,{description:e[a],darkMode:t.darkMode})):v.a.createElement("dd",null,e[a]),v.a.createElement("dl",{key:n,className:"dl-horizontal"},v.a.createElement("dt",null,a),o)}),i=e.templates.flatMap(e=>e.attributes.map(e=>{let r;return r="paragraph"==e.type?v.a.createElement("dd",null,v.a.createElement(oo,{description:e.value,darkMode:t.darkMode})):v.a.createElement("dd",null,e.value),v.a.createElement("dl",{key:e.name,className:"dl-horizontal"},v.a.createElement("dt",null,e.name),r)})),o=n.find(t=>t.id==e.categoryId);return v.a.createElement("div",{className:"character-list__character-wrapper"},v.a.createElement("div",{className:"character-list__character",onClick:this.props.startEditing},v.a.createElement("h4",{className:"secondary-text"},e.name||Ae()("New Character")),v.a.createElement("div",{className:"character-list__character-notes"},v.a.createElement("div",null,v.a.createElement(vi.a,{size:"large",shape:"circle",imageId:e.imageId}),v.a.createElement("dl",{className:"dl-horizontal"},v.a.createElement("dt",null,Ae()("Description")),v.a.createElement("dd",null,e.description)),v.a.createElement("dl",{className:"dl-horizontal"},v.a.createElement("dt",null,Ae()("Category")),v.a.createElement("dd",null,o&&o.name||Ae()("Uncategorized"))),a,v.a.createElement("dl",{className:"dl-horizontal"},v.a.createElement("dt",null,Ae()("Notes")),v.a.createElement("dd",null,v.a.createElement(oo,{description:e.notes,darkMode:t.darkMode}))),i),v.a.createElement("div",{className:"character-list__right-side"},v.a.createElement(x.a,{glyph:"pencil"})))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(fc,"propTypes",{characterId:_.a.number.isRequired,character:_.a.object.isRequired,categories:_.a.array.isRequired,actions:_.a.object.isRequired,customAttributes:_.a.array.isRequired,ui:_.a.object.isRequired,startEditing:_.a.func.isRequired});var hc=Object(w.connect)((function(e,t){return{character:ys(e.present,t.characterId),categories:e.present.categories.characters,customAttributes:e.present.customAttributes.characters,ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(c,e)}}))(fc);class mc extends b.Component{renderSelected(){let e;return e="Tags"===this.props.type?this.renderSelectedTags():this.renderSelectedItems(),v.a.createElement("div",{className:"chip-cloud"},e)}renderSelectedTags(){return this.props.selectedItems?this.props.selectedItems.map(e=>{var t=this.props.allItems.find(t=>t.id==e);return t?v.a.createElement("div",{key:e,className:"tag-chip"},v.a.createElement(cn,{tag:t}),v.a.createElement(x.a,{glyph:"remove",onClick:()=>this.props.remove(this.props.parentId,e)})):null}):null}renderSelectedItems(){return this.props.selectedItems?this.props.selectedItems.map(e=>{var t=this.props.allItems.find(t=>t.id==e);return t?v.a.createElement("div",{key:e,className:"chip"},v.a.createElement(vi.a,{size:"xs",shape:"circle",imageId:t.imageId}),v.a.createElement("span",null,t.name),v.a.createElement(x.a,{glyph:"remove",onClick:()=>this.props.remove(this.props.parentId,e)})):null}):null}renderUnSelected(){const e=this.props.type,t=this.props.selectedItems?this.props.allItems.filter(e=>!this.props.selectedItems.includes(e.id)):this.props.allItems;let r=v.a.createElement("small",null,v.a.createElement("i",null,Ae()("no more to add")));t.length>0&&(r=t.map(t=>{let r=v.a.createElement("span",null);return"Tags"===e&&(r=v.a.createElement("span",{className:"colored",style:{backgroundColor:t.color}})),v.a.createElement("li",{key:`${e}-${t.id}`,onClick:()=>this.props.add(this.props.parentId,t.id)},r,t.name||t.title)}));let n="";switch(e){case"Characters":n=Ae()("Characters list");break;case"Places":n=Ae()("Places list");break;case"Tags":n=Ae()("Tags list")}return v.a.createElement(Je,{id:"list-popover",title:n},v.a.createElement("ul",{className:"select-list__item-select-list"},r))}render(){let e="";switch(this.props.type){case"Characters":e=Ae()("Characters");break;case"Places":e=Ae()("Places");break;case"Tags":e=Ae()("Tags")}return v.a.createElement("div",{className:"select-list__wrapper"},v.a.createElement("label",{className:"select-list__details-label"},e,":",v.a.createElement(sr,{trigger:"click",rootClose:!0,placement:"right",overlay:this.renderUnSelected()},v.a.createElement(re.a,{ref:"characterList",bsSize:"xsmall"},v.a.createElement(x.a,{glyph:"plus"})))),this.renderSelected())}}mc.propTypes={parentId:_.a.number.isRequired,type:_.a.string.isRequired,add:_.a.func.isRequired,remove:_.a.func.isRequired,selectedItems:_.a.array.isRequired,allItems:_.a.array.isRequired};var gc=r(378),bc=r.n(gc);class vc extends b.Component{renderUnSelected(){const{selectedBooks:e,books:t,parentId:r,add:n}=this.props,a=bc()(t.allIds,e);let i=v.a.createElement("small",null,v.a.createElement("i",null,Ae()("no more to add")));a.length&&(i=a.map(e=>v.a.createElement("li",{key:`book-${e}`,onClick:()=>n(r,e)},t[e].title||Ae()("Untitled"))));const o=!e.includes("series");return v.a.createElement(Je,{id:"list-popover",title:""},v.a.createElement("ul",{className:A()("select-list__item-select-list",{"series-select":o})},o?v.a.createElement("li",{key:"book-series",className:"series",onClick:()=>n(r,"series")},Ae()("Series")):null,i))}renderSelected(){return this.props.selectedBooks.map(e=>{if("series"==e)return v.a.createElement("div",{key:e,className:"chip"},v.a.createElement("span",null,Ae()("Series")),v.a.createElement(x.a,{glyph:"remove",onClick:()=>this.props.remove(this.props.parentId,e)}));{let t=this.props.books[e];return t?v.a.createElement("div",{key:e,className:"chip"},v.a.createElement(vi.a,{size:"xs",shape:"circle",imageId:t.imageId}),v.a.createElement("span",null,t.title||Ae()("Untitled")),v.a.createElement(x.a,{glyph:"remove",onClick:()=>this.props.remove(this.props.parentId,e)})):null}})}render(){return v.a.createElement("div",{className:"select-list__wrapper"},v.a.createElement("label",{className:"select-list__details-label"},Ae()("Books"),":",v.a.createElement(sr,{trigger:"click",rootClose:!0,placement:"right",overlay:this.renderUnSelected()},v.a.createElement(re.a,{ref:"characterList",bsSize:"xsmall"},v.a.createElement(x.a,{glyph:"plus"})))),this.renderSelected())}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(vc,"propTypes",{parentId:_.a.number.isRequired,add:_.a.func.isRequired,remove:_.a.func.isRequired,selectedBooks:_.a.array.isRequired,books:_.a.object.isRequired,ui:_.a.object.isRequired});var yc=Object(w.connect)((function(e){return{ui:e.present.ui,books:e.present.books,series:e.present.series}}),(function(e){return{}}))(vc);class _c extends b.Component{render(){const{character:e,tags:t,actions:r,ui:n}=this.props;return v.a.createElement("div",{className:A()("character-list__character-view",{darkmode:n.darkMode})},v.a.createElement("div",{className:"character-list__character-view__left-side"},v.a.createElement(yc,{selectedBooks:e.bookIds,parentId:e.id,add:r.addBook,remove:r.removeBook}),v.a.createElement(mc,{parentId:e.id,type:"Tags",selectedItems:e.tags,allItems:t,add:r.addTag,remove:r.removeTag})),v.a.createElement("div",{className:"character-list__character-view__right-side"},v.a.createElement(Ke,null,this.props.editing?v.a.createElement(pc,{characterId:e.id,finishEditing:this.props.stopEditing}):v.a.createElement(hc,{characterId:e.id,startEditing:this.props.startEditing}))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(_c,"propTypes",{characterId:_.a.number.isRequired,editing:_.a.bool.isRequired,startEditing:_.a.func.isRequired,stopEditing:_.a.func.isRequired,character:_.a.object.isRequired,actions:_.a.object.isRequired,tags:_.a.array.isRequired,ui:_.a.object.isRequired});var Ec=Object(w.connect)((function(e,t){return{character:ys(e.present,t.characterId),ui:e.present.ui,tags:Xo(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(c,e)}}))(_c),wc=r(112);function Oc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class xc extends b.Component{constructor(...e){super(...e),Oc(this,"state",{deleting:!1}),Oc(this,"handleEnter",e=>{13===e.which&&this.updateName()}),Oc(this,"updateName",()=>{const{index:e,attr:t,restrictedValues:r}=this.props,n=this.refs.nameInput.value;""==n||r.includes(n)?this.refs.nameInput.value=t.name:t.name!=n&&this.props.update(e,t,{name:n,type:t.type})}),Oc(this,"updateType",()=>{const{index:e,attr:t}=this.props;let r=this.refs.paragraphCheck.checked?"paragraph":"text";t.type!=r&&this.props.update(e,t,{name:t.name,type:r})})}componentDidUpdate(){this.refs.nameInput.blur()}renderDelete(){if(!this.state.deleting)return null;const{attr:e}=this.props;return v.a.createElement(Ei.a,{name:e.name,onDelete:()=>this.props.delete(e),onCancel:()=>this.setState({deleting:!1})})}renderParagraphCheckBox(){const{attr:e}=this.props,t="paragraph"==e.type;return this.props.canChangeType?v.a.createElement("label",{className:"custom-attr-item__checkbox-label"},v.a.createElement("input",{ref:"paragraphCheck",type:"checkbox",checked:t,onChange:this.updateType})," ",Ae()("paragraph")):v.a.createElement("label",{className:"custom-attr-item__checkbox-label text-muted"},Ae()("paragraph"))}render(){const{attr:e}=this.props;return v.a.createElement("li",{className:"list-group-item"},v.a.createElement("input",{className:"custom-attr-item__input",ref:"nameInput",onBlur:this.updateName,onKeyDown:this.handleEnter,defaultValue:e.name}),this.renderParagraphCheckBox(),v.a.createElement(re.a,{onClick:()=>this.setState({deleting:!0})},v.a.createElement(x.a,{glyph:"remove"})),this.renderDelete())}}function Cc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Oc(xc,"propTypes",{index:_.a.number,attr:_.a.object,update:_.a.func,delete:_.a.func,canChangeType:_.a.bool,restrictedValues:_.a.array});const kc={content:{top:"70px",width:"50%",marginLeft:"25%"}},Ic=g.remote.getCurrentWindow();class jc extends b.Component{constructor(...e){super(...e),Cc(this,"state",{addAttrText:""}),Cc(this,"startSaveAsTemplate",()=>{g.ipcRenderer.sendTo(Ic.webContents.id,"save-as-template-start","characters")}),Cc(this,"handleType",()=>{const e=Object($.findDOMNode)(this.refs.attrInput).value;this.setState({addAttrText:e})}),Cc(this,"handleAddCustomAttr",e=>{13===e.which&&(this.saveAttr(),this.refs.attrInput&&Object($.findDOMNode)(this.refs.attrInput).focus())}),Cc(this,"saveAttr",()=>{const e=Object($.findDOMNode)(this.refs.attrInput).value;""==e||this.props.restrictedValues.includes(e)||(this.props.actions.addCharacterAttr({name:e,type:"text"}),this.setState({addAttrText:""}))}),Cc(this,"removeAttr",e=>{this.props.actions.removeCharacterAttr(e.name),this.setState({addAttrText:this.state.addAttrText})}),Cc(this,"updateAttr",(e,t,r)=>{this.props.actions.editCharacterAttr(e,t,r)})}render(){const{customAttributes:e,ui:t,customAttributesThatCanChange:r,restrictedValues:n}=this.props,a=e.map((e,t)=>v.a.createElement(xc,{key:t,attr:e,index:t,update:this.updateAttr,delete:this.removeAttr,canChangeType:r.includes(e.name),restrictedValues:n}));return t.darkMode?kc.content.backgroundColor="#666":kc.content.backgroundColor="#fff",v.a.createElement(fi.a,{isOpen:!0,onRequestClose:this.props.closeDialog,style:kc},v.a.createElement("div",{className:A()("custom-attributes__wrapper",{darkmode:t.darkMode})},v.a.createElement(re.a,{className:"pull-right",onClick:this.props.closeDialog},Ae()("Close")),e.length?v.a.createElement(re.a,{className:"pull-right character-list__custom-attributes__save-as-template",onClick:this.startSaveAsTemplate},v.a.createElement(C.n,{className:"svg-save-template"})," ",Ae()("Save as Template")):null,v.a.createElement("h3",null,Ae()("Custom Attributes for Characters")),v.a.createElement("p",{className:"sub-header"},Ae()("Choose what you want to track about your characters")),v.a.createElement("div",{className:"character-list__custom-attributes-add-button"},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Add attributes")),v.a.createElement(tn.a,{type:"text",ref:"attrInput",value:this.state.addAttrText,onChange:this.handleType,onKeyDown:this.handleAddCustomAttr})),v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveAttr},Ae()("Add"))),v.a.createElement("div",{className:"character-list__custom-attributes-list-wrapper"},a)))}}Cc(jc,"propTypes",{closeDialog:_.a.func.isRequired,customAttributes:_.a.array.isRequired,customAttributesThatCanChange:_.a.array,restrictedValues:_.a.array,ui:_.a.object.isRequired,actions:_.a.object.isRequired});var Sc=Object(w.connect)((function(e){return{customAttributes:e.present.customAttributes.characters,customAttributesThatCanChange:Ps(e.present),restrictedValues:Fs(e.present),ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(l,e)}}))(jc);function Tc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ac extends b.Component{constructor(...e){super(...e),Tc(this,"state",{deleting:!1}),Tc(this,"scrollIntoView",()=>{if(this.props.selected){const e=Object($.findDOMNode)(this);e&&e.scrollIntoViewIfNeeded()}}),Tc(this,"deleteCharacter",e=>{e.stopPropagation(),this.props.actions.deleteCharacter(this.props.character.id)}),Tc(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),Tc(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEdit()}),Tc(this,"selectCharacter",()=>{const{character:e,selected:t,select:r,startEdit:n}=this.props;t?n():r(e.id)}),Tc(this,"startEditing",e=>{e.stopPropagation(),this.props.select(this.props.character.id),this.props.startEdit()})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.character.name||Ae()("New Character"),onDelete:this.deleteCharacter,onCancel:this.cancelDelete}):null}render(){const{character:e,selected:t}=this.props;let r=null;e.imageId&&(r=v.a.createElement("div",{className:"character-list__item-inner__image-wrapper"},v.a.createElement(vi.a,{shape:"circle",size:"small",imageId:e.imageId})));const n=A()("list-group-item",{selected:t}),a=A()("character-list__item-buttons",{visible:t});return v.a.createElement("div",{className:n,onClick:this.selectCharacter},v.a.createElement("div",{className:"character-list__item-inner"},r,v.a.createElement("div",null,v.a.createElement("h6",{className:A()("list-group-item-heading",{withImage:!!e.imageId})},e.name||Ae()("New Character")),v.a.createElement("p",{className:"list-group-item-text"},e.description.substr(0,100))),v.a.createElement(ie,{className:a},v.a.createElement(re.a,{bsSize:"small",onClick:this.startEditing},v.a.createElement(x.a,{glyph:"edit"})),v.a.createElement(re.a,{bsSize:"small",onClick:this.handleDelete},v.a.createElement(x.a,{glyph:"trash"}))),this.renderDelete()))}}Tc(Ac,"propTypes",{character:_.a.object.isRequired,selected:_.a.bool.isRequired,select:_.a.func.isRequired,startEdit:_.a.func.isRequired,stopEdit:_.a.func.isRequired,actions:_.a.object.isRequired});var Nc=Object(w.connect)((function(e){return{}}),(function(e){return{actions:Object(E.bindActionCreators)(c,e)}}))(Ac),Dc=r(17);function Pc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Rc extends b.Component{constructor(e){super(e),Pc(this,"editingSelected",()=>{this.setState({editingSelected:!0})}),Pc(this,"stopEditing",()=>{this.setState({editingSelected:!1})}),Pc(this,"closeDialog",()=>{this.setState({dialogOpen:!1})}),Pc(this,"handleCreateNewCharacter",()=>{const e=Object(Dc.b)(this.props.characters);this.props.actions.addCharacter(),this.setState({characterDetailId:e,editingSelected:!0})}),Pc(this,"handleChooseTemplate",e=>{const t=Object(Dc.b)(this.props.characters);this.props.actions.addCharacterWithTemplate(null,e),this.setState({characterDetailId:t,editingSelected:!0,showTemplatePicker:!1})}),Pc(this,"handleFinishCreate",e=>{const t=Object(Dc.b)(this.props.characters);this.state.templateData?this.props.actions.addCharacterWithTemplate(e,this.state.templateData):this.props.actions.addCharacter(e),this.setState({creating:!1,templateData:null,characterDetailId:t,editingSelected:!0})}),Pc(this,"renderVisibleCharacters",e=>{const{visibleCharactersByCategory:t}=this.props;return t[e]?t[e].map(e=>v.a.createElement(Nc,{key:e.id,character:e,selected:e.id==this.state.characterDetailId,startEdit:this.editingSelected,stopEdit:this.stopEditing,select:()=>this.setState({characterDetailId:e.id})})):[]}),this.state={dialogOpen:!1,addAttrText:"",characterDetailId:null,editingSelected:!1,showTemplatePicker:!1,creating:!1,templateData:null}}static getDerivedStateFromProps(e,t){let r={...t};const{visibleCharactersByCategory:n,characters:a,categories:i}=e;return r.characterDetailId=Rc.selectedId(n,a,i,t.characterDetailId),r}static selectedId(e,t,r,n){if(!t.length)return null;if(!Object.keys(e).length)return null;const a=[...r,{id:null}];if(null!=n){if(a.some(t=>!(!e[t.id]||!e[t.id].length)&&e[t.id].some(e=>e.id==n)))return n}const i=a.find(t=>e[t.id]&&e[t.id].length);return i?e[i.id][0]&&e[i.id][0].id:null}renderCreateInput(){return this.state.creating?v.a.createElement(Za,{title:Ae()("Name"),getValue:this.handleFinishCreate,cancel:()=>this.setState({creating:!1}),isOpen:!0,type:"text"}):null}renderSubNav(){const{filterIsEmpty:e,ui:t,uiActions:r}=this.props;let n=v.a.createElement(Je,{id:"filter"},v.a.createElement(ms,{type:"characters"})),a=v.a.createElement(nt,{onClick:()=>r.setCharacterFilter(null),bsStyle:"warning"},v.a.createElement(x.a,{glyph:"remove-sign"}),"  ",Ae()("Character list is filtered"));e&&(a=v.a.createElement("span",null));let i=v.a.createElement(Je,{id:"sort"},v.a.createElement(qs,{type:"characters"})),o="sort-by-attributes";return t.characterSort.includes("~desc")&&(o="sort-by-attributes-alt"),v.a.createElement(qt,{className:A()("subnav__container",{darkmode:t.darkMode})},v.a.createElement(Wt,{bsStyle:"pills"},v.a.createElement(Kt,null,v.a.createElement(ie,null,v.a.createElement(re.a,{bsSize:"small",onClick:this.handleCreateNewCharacter},v.a.createElement(x.a,{glyph:"plus"})," ",Ae()("New")),v.a.createElement(re.a,{bsSize:"small",onClick:()=>this.setState({showTemplatePicker:!0})},Ae()("Use Template")))),v.a.createElement(Kt,null,v.a.createElement(re.a,{bsSize:"small",onClick:()=>this.setState({dialogOpen:!0})},v.a.createElement(x.a,{glyph:"list"})," ",Ae()("Custom Attributes"))),v.a.createElement(Kt,null,v.a.createElement(sr,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:n},v.a.createElement(re.a,{bsSize:"small"},v.a.createElement(x.a,{glyph:"filter"})," ",Ae()("Filter"))),a),v.a.createElement(Kt,null,v.a.createElement(sr,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:i},v.a.createElement(re.a,{bsSize:"small"},v.a.createElement(x.a,{glyph:o})," ",Ae()("Sort"))))))}renderCategory(e){const t=this.renderVisibleCharacters(e.id);return t.length?v.a.createElement("div",{key:`category-${e.id}`},v.a.createElement("h2",null,e.name),v.a.createElement("div",{className:A()("character-list__list","list-group",{darkmode:this.props.ui.darkMode})},t)):null}renderCharacters(){let e=[...this.props.categories];return e.push({id:null,name:Ae()("Uncategorized")}),e.map(e=>this.renderCategory(e))}renderCharacterDetails(){let e=this.props.characters.find(e=>e.id==this.state.characterDetailId);return e?v.a.createElement(Ec,{key:`character-${e.id}`,characterId:e.id,editing:this.state.editingSelected,stopEditing:this.stopEditing,startEditing:this.editingSelected}):null}renderCustomAttributes(){return this.state.dialogOpen?v.a.createElement(Sc,{closeDialog:this.closeDialog}):null}renderTemplatePicker(){return this.state.showTemplatePicker?v.a.createElement(wc.a,{modal:!0,type:["characters"],isOpen:this.state.showTemplatePicker,close:()=>this.setState({showTemplatePicker:!1}),onChooseTemplate:this.handleChooseTemplate,canMakeCharacterTemplates:!!this.props.customAttributes.length}):null}render(){return this.state.editingSelected?window.SCROLLWITHKEYS=!1:window.SCROLLWITHKEYS=!0,v.a.createElement("div",{className:"character-list container-with-sub-nav"},this.renderSubNav(),this.renderCustomAttributes(),this.renderTemplatePicker(),this.renderCreateInput(),v.a.createElement(ot,{fluid:!0},v.a.createElement(gi,null,v.a.createElement(Ja.a,{sm:3},v.a.createElement("h1",{className:A()("secondary-text",{darkmode:this.props.ui.darkMode})},Ae()("Characters")," ",v.a.createElement(re.a,{onClick:this.handleCreateNewCharacter},v.a.createElement(x.a,{glyph:"plus"}))),v.a.createElement("div",{className:"character-list__category-list"},this.renderCharacters())),v.a.createElement(Ja.a,{sm:9},this.renderCharacterDetails()))))}}Rc.propTypes={visibleCharactersByCategory:_.a.object.isRequired,filterIsEmpty:_.a.bool.isRequired,characters:_.a.array.isRequired,categories:_.a.array.isRequired,customAttributes:_.a.array.isRequired,customAttributesThatCanChange:_.a.array,ui:_.a.object.isRequired,actions:_.a.object.isRequired,customAttributeActions:_.a.object.isRequired,uiActions:_.a.object.isRequired};var Mc=Object(w.connect)((function(e){return{visibleCharactersByCategory:ws(e.present),filterIsEmpty:Es(e.present),characters:e.present.characters,categories:us(e.present),customAttributes:e.present.customAttributes.characters,customAttributesThatCanChange:Ps(e.present),ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(c,e),customAttributeActions:Object(E.bindActionCreators)(l,e),uiActions:Object(E.bindActionCreators)(O,e)}}))(Rc);class Fc extends b.Component{render(){return v.a.createElement(Ke,null,v.a.createElement(Mc,null))}}function Lc(){return{type:cr.o,name:Cr.place.name,description:Cr.place.description,notes:Cr.place.notes}}function Bc(e,t){return{type:cr.nb,id:e,attributes:t}}function qc(e){return{type:cr.ab,id:e}}function Hc(e,t){return{type:cr.F,id:e,tagId:t}}function zc(e,t){return{type:cr.Sb,id:e,tagId:t}}function Uc(e,t){return{type:cr.x,id:e,bookId:t}}function Wc(e,t){return{type:cr.Fb,id:e,bookId:t}}function Gc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Fc,"propTypes",{});class Vc extends b.Component{constructor(e){super(e),Gc(this,"deletePlace",e=>{e.stopPropagation(),this.props.actions.deletePlace(this.props.place.id)}),Gc(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),Gc(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEditing()}),Gc(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),Gc(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),Gc(this,"handleAttrDescriptionChange",(e,t)=>{let r={...this.state.description};r[e]=t,this.setState({description:r})}),Gc(this,"saveEdit",(e=!0)=>{var t=Object($.findDOMNode)(this.refs.nameInput).value||this.props.place.name,r=Object($.findDOMNode)(this.refs.descriptionInput).value,n=this.state.notes,a={};this.state.newImageId&&(a.imageId=-1==this.state.newImageId?null:this.state.newImageId),this.props.customAttributes.forEach(e=>{const{name:t,type:r}=e;if("paragraph"==r)a[t]=this.state.description[t];else{const e=Object($.findDOMNode)(this.refs[`${t}Input`]).value;a[t]=e}}),this.props.actions.editPlace(this.props.place.id,{name:t,description:r,notes:n,...a}),e&&this.props.stopEditing()});let t={};e.customAttributes.forEach(r=>{const{name:n}=r;t[n]=e.place[n]}),this.state={notes:e.place.notes,description:t,newImageId:null,deleting:!1}}componentWillUnmount(){this.props.editing&&this.saveEdit(!1)}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.place.name||Ae()("New Place"),onDelete:this.deletePlace,onCancel:this.cancelDelete}):null}renderEditingImage(){const{place:e}=this.props;let t=this.state.newImageId||e.imageId;return v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Place Image")),v.a.createElement("div",{className:"place-list__place__edit-image-wrapper"},v.a.createElement("div",{className:"place-list__place__edit-image"},v.a.createElement(vi.a,{size:"small",shape:"rounded",imageId:t})),v.a.createElement("div",null,v.a.createElement(Ci,{selectedId:t,chooseImage:e=>this.setState({newImageId:e}),deleteButton:!0}))))}renderEditingCustomAttributes(){const{place:e,ui:t,customAttributes:r}=this.props;return r.map((r,n)=>{const{name:a,type:i}=r;return"paragraph"==i?v.a.createElement("div",{key:n},v.a.createElement(bi.a,null,a),v.a.createElement(oo,{description:e[a],onChange:e=>this.handleAttrDescriptionChange(a,e),editable:!0,autofocus:!1,darkMode:t.darkMode})):v.a.createElement(en.a,{key:n},v.a.createElement(bi.a,null,a),v.a.createElement(tn.a,{type:"text",ref:`${a}Input`,defaultValue:e[a],onKeyDown:this.handleEsc,onKeyPress:this.handleEnter}))})}renderEditing(){const{place:e,ui:t}=this.props;return v.a.createElement("div",{className:"place-list__place-wrapper"},v.a.createElement("div",{className:A()("place-list__place","editing",{darkmode:t.darkMode})},v.a.createElement("div",{className:"place-list__place__edit-form"},v.a.createElement("div",{className:"place-list__inputs__normal"},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Name")),v.a.createElement(tn.a,{type:"text",ref:"nameInput",autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.name})),v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Short Description")),v.a.createElement(tn.a,{type:"text",ref:"descriptionInput",onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.description})),this.renderEditingImage(),v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Notes")),v.a.createElement(oo,{description:e.notes,onChange:e=>this.setState({notes:e}),editable:!0,autofocus:!1,darkMode:t.darkMode}))),v.a.createElement("div",{className:"place-list__inputs__custom"},this.renderEditingCustomAttributes())),v.a.createElement(rn.a,{className:"card-dialog__button-bar"},v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveEdit},Ae()("Save")),v.a.createElement(re.a,{className:"card-dialog__delete",onClick:this.handleDelete},Ae()("Delete")))))}renderPlace(){const{place:e,customAttributes:t,ui:r}=this.props,n=t.map((t,n)=>{const{name:a,type:i}=t;let o=v.a.createElement("dd",null,e[a]);return"paragraph"==i&&(o=v.a.createElement("dd",null,v.a.createElement(oo,{description:e[a],darkMode:r.darkMode}))),v.a.createElement("dl",{key:n,className:"dl-horizontal"},v.a.createElement("dt",null,a),o)});return v.a.createElement("div",{className:"place-list__place-wrapper"},this.renderDelete(),v.a.createElement("div",{className:"place-list__place",onClick:this.props.startEditing},v.a.createElement("h4",{className:"secondary-text"},e.name||Ae()("New Place")),v.a.createElement("div",{className:"place-list__place-inner"},v.a.createElement("div",null,v.a.createElement("dl",{className:"dl-horizontal"},v.a.createElement("dt",null,Ae()("Description")),v.a.createElement("dd",null,e.description)),n,v.a.createElement("dl",{className:"dl-horizontal"},v.a.createElement("dt",null,Ae()("Notes")),v.a.createElement("dd",null,v.a.createElement(oo,{description:e.notes,editable:!1,darkMode:this.props.ui.darkMode})))),v.a.createElement("div",{className:"place-list__right-side"},v.a.createElement(x.a,{glyph:"pencil"}),v.a.createElement(vi.a,{responsive:!0,imageId:e.imageId})))))}render(){this.props.editing?window.SCROLLWITHKEYS=!1:window.SCROLLWITHKEYS=!0;const{place:e,tags:t,actions:r,ui:n}=this.props;return v.a.createElement("div",{className:A()("place-list__place-view",{darkmode:n.darkMode})},v.a.createElement("div",{className:"place-list__place-view__left-side"},v.a.createElement(yc,{selectedBooks:e.bookIds,parentId:e.id,add:r.addBook,remove:r.removeBook}),v.a.createElement(mc,{parentId:e.id,type:"Tags",selectedItems:e.tags,allItems:t,add:r.addTag,remove:r.removeTag})),v.a.createElement("div",{className:"place-list__place-view__right-side"},this.props.editing?this.renderEditing():this.renderPlace()))}}Vc.propTypes={place:_.a.object.isRequired,editing:_.a.bool.isRequired,startEditing:_.a.func.isRequired,stopEditing:_.a.func.isRequired,actions:_.a.object.isRequired,customAttributes:_.a.array.isRequired,cards:_.a.array.isRequired,notes:_.a.array.isRequired,ui:_.a.object.isRequired,tags:_.a.array.isRequired};var Kc=Object(w.connect)((function(e){return{customAttributes:e.present.customAttributes.places,cards:e.present.cards,notes:e.present.notes,ui:e.present.ui,tags:Xo(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(u,e)}}))(Vc);function $c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Yc extends b.Component{constructor(...e){super(...e),$c(this,"state",{deleting:!1}),$c(this,"scrollIntoView",()=>{if(this.props.selected){const e=Object($.findDOMNode)(this);e&&e.scrollIntoViewIfNeeded()}}),$c(this,"deletePlace",e=>{e.stopPropagation(),this.props.actions.deletePlace(this.props.place.id)}),$c(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),$c(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEdit()}),$c(this,"selectPlace",()=>{const{place:e,selected:t,select:r,startEdit:n}=this.props;t?n():r(e.id)}),$c(this,"startEditing",e=>{e.stopPropagation(),this.props.select(this.props.place.id),this.props.startEdit()})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.place.name||Ae()("New Place"),onDelete:this.deletePlace,onCancel:this.cancelDelete}):null}render(){const{place:e,selected:t}=this.props;let r=null;e.imageId&&(r=v.a.createElement("div",{className:"place-list__item-inner__image-wrapper"},v.a.createElement(vi.a,{size:"small",shape:"rounded",imageId:e.imageId})));const n=A()("list-group-item",{selected:t}),a=A()("place-list__item-buttons",{visible:t});return v.a.createElement("div",{className:n,onClick:this.selectPlace},this.renderDelete(),v.a.createElement("div",{className:"place-list__item-inner"},r,v.a.createElement("div",null,v.a.createElement("h6",{className:A()("list-group-item-heading",{withImage:!!e.imageId})},e.name||Ae()("New Place")),v.a.createElement("p",{className:"list-group-item-text"},e.description.substr(0,100))),v.a.createElement(ie,{className:a},v.a.createElement(re.a,{bsSize:"small",onClick:this.startEditing},v.a.createElement(x.a,{glyph:"edit"})),v.a.createElement(re.a,{bsSize:"small",onClick:this.handleDelete},v.a.createElement(x.a,{glyph:"trash"})))))}}$c(Yc,"propTypes",{place:_.a.object.isRequired,selected:_.a.bool.isRequired,select:_.a.func.isRequired,startEdit:_.a.func.isRequired,stopEdit:_.a.func.isRequired,actions:_.a.object.isRequired});var Jc=Object(w.connect)((function(e){return{}}),(function(e){return{actions:Object(E.bindActionCreators)(u,e)}}))(Yc);function Xc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Zc={content:{top:"70px",width:"50%",marginLeft:"25%"}};class Qc extends b.Component{constructor(e){super(e),Xc(this,"editingSelected",()=>{this.setState({editingSelected:!0})}),Xc(this,"stopEditing",()=>{this.setState({editingSelected:!1})}),Xc(this,"closeDialog",()=>{this.setState({dialogOpen:!1})}),Xc(this,"handleCreateNewPlace",()=>{const e=Object(Dc.b)(this.props.places);this.props.actions.addPlace(),this.setState({placeDetailId:e,editingSelected:!0})}),Xc(this,"handleType",()=>{const e=Object($.findDOMNode)(this.refs.attrInput).value;this.setState({addAttrText:e})}),Xc(this,"handleAddCustomAttr",e=>{13===e.which&&this.saveAttr()}),Xc(this,"saveAttr",()=>{const e=Object($.findDOMNode)(this.refs.attrInput).value;""==e||this.props.restrictedValues.includes(e)||(this.props.customAttributeActions.addPlaceAttr({name:e,type:"text"}),this.setState({addAttrText:""}))}),Xc(this,"removeAttr",e=>{this.props.customAttributeActions.removePlaceAttr(e.name),this.setState({addAttrText:this.state.addAttrText})}),Xc(this,"updateAttr",(e,t,r)=>{this.props.customAttributeActions.editPlaceAttr(e,t,r)}),Xc(this,"renderVisiblePlaces",()=>this.props.visiblePlaces.map(e=>v.a.createElement(Jc,{key:e.id,place:e,selected:e.id==this.state.placeDetailId,startEdit:this.editingSelected,stopEdit:this.stopEditing,select:()=>this.setState({placeDetailId:e.id})}))),this.state={dialogOpen:!1,addAttrText:"",placeDetailId:null,editingSelected:!1}}static getDerivedStateFromProps(e,t){let r={...t};const{visiblePlaces:n}=e;return r.placeDetailId=Qc.detailID(n,t.placeDetailId),r}static detailID(e,t){if(0==e.length)return null;let r=e[0].id;if(null!=t){let n=e.find(e=>e.id===t);n&&(r=n.id)}return r}renderSubNav(){const{ui:e,filterIsEmpty:t,uiActions:r}=this.props;let n=v.a.createElement(Je,{id:"filter"},v.a.createElement(ms,{type:"places"})),a=v.a.createElement(nt,{onClick:()=>r.setPlaceFilter(null),bsStyle:"warning"},v.a.createElement(x.a,{glyph:"remove-sign"}),"  ",Ae()("Place list is filtered"));t&&(a=v.a.createElement("span",null));let i=v.a.createElement(Je,{id:"sort"},v.a.createElement(qs,{type:"places"})),o="sort-by-attributes";return e.placeSort.includes("~desc")&&(o="sort-by-attributes-alt"),v.a.createElement(qt,{className:A()("subnav__container",{darkmode:e.darkMode})},v.a.createElement(Wt,{bsStyle:"pills"},v.a.createElement(Kt,null,v.a.createElement(re.a,{bsSize:"small",onClick:this.handleCreateNewPlace},v.a.createElement(x.a,{glyph:"plus"})," ",Ae()("New"))),v.a.createElement(Kt,null,v.a.createElement(re.a,{bsSize:"small",onClick:()=>this.setState({dialogOpen:!0})},v.a.createElement(x.a,{glyph:"list"})," ",Ae()("Custom Attributes"))),v.a.createElement(Kt,null,v.a.createElement(sr,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:n},v.a.createElement(re.a,{bsSize:"small"},v.a.createElement(x.a,{glyph:"filter"})," ",Ae()("Filter"))),a),v.a.createElement(Kt,null,v.a.createElement(sr,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:i},v.a.createElement(re.a,{bsSize:"small"},v.a.createElement(x.a,{glyph:o})," ",Ae()("Sort"))))))}renderPlaces(){return v.a.createElement("div",{className:A()("place-list__list","list-group",{darkmode:this.props.ui.darkMode})},this.renderVisiblePlaces())}renderPlaceDetails(){let e=this.props.places.find(e=>e.id===this.state.placeDetailId);return e?v.a.createElement(Ke,null,v.a.createElement(Kc,{key:`place-${e.id}`,place:e,editing:this.state.editingSelected,stopEditing:this.stopEditing,startEditing:this.editingSelected})):null}renderCustomAttributes(){const{customAttributes:e,ui:t,customAttributesThatCanChange:r,restrictedValues:n}=this.props,a=e.map((e,t)=>v.a.createElement(xc,{key:t,attr:e,index:t,update:this.updateAttr,delete:this.removeAttr,canChangeType:r.includes(e.name),restrictedValues:n}));return t.darkMode?Zc.content.backgroundColor="#666":Zc.content.backgroundColor="#fff",v.a.createElement(fi.a,{isOpen:this.state.dialogOpen,onRequestClose:this.closeDialog,style:Zc},v.a.createElement("div",{className:A()("custom-attributes__wrapper",{darkmode:t.darkMode})},v.a.createElement(re.a,{className:"pull-right card-dialog__close",onClick:this.closeDialog},Ae()("Close")),v.a.createElement("h3",null,Ae()("Custom Attributes for Places")),v.a.createElement("p",{className:"sub-header"},Ae()("Choose what you want to track about your places")),v.a.createElement("div",{className:"character-list__custom-attributes-add-button"},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Add attributes")),v.a.createElement(tn.a,{type:"text",ref:"attrInput",value:this.state.addAttrText,onChange:this.handleType,onKeyDown:this.handleAddCustomAttr})),v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveAttr},Ae()("Add"))),v.a.createElement("div",{className:"place-list__custom-attributes-list-wrapper"},a)))}render(){let e="secondary-text";return this.props.ui.darkMode&&(e+=" darkmode"),v.a.createElement("div",{className:"place-list container-with-sub-nav"},this.renderSubNav(),this.renderCustomAttributes(),v.a.createElement(ot,{fluid:!0},v.a.createElement(gi,null,v.a.createElement(Ja.a,{sm:3},v.a.createElement("h1",{className:e},Ae()("Places")," ",v.a.createElement(re.a,{onClick:this.handleCreateNewPlace},v.a.createElement(x.a,{glyph:"plus"}))),this.renderPlaces()),v.a.createElement(Ja.a,{sm:9},this.renderPlaceDetails()))))}}Qc.propTypes={visiblePlaces:_.a.array.isRequired,filterIsEmpty:_.a.bool.isRequired,customAttributes:_.a.array.isRequired,customAttributesThatCanChange:_.a.array,restrictedValues:_.a.array,ui:_.a.object.isRequired,actions:_.a.object.isRequired,customAttributeActions:_.a.object.isRequired,uiActions:_.a.object.isRequired};var el=Object(w.connect)((function(e){return{places:e.present.places,visiblePlaces:Is(e.present),filterIsEmpty:ks(e.present),customAttributes:e.present.customAttributes.places,customAttributesThatCanChange:Rs(e.present),restrictedValues:Ls(e.present),ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(u,e),customAttributeActions:Object(E.bindActionCreators)(l,e),uiActions:Object(E.bindActionCreators)(O,e)}}))(Qc);class tl extends b.Component{render(){return v.a.createElement(Ke,null,v.a.createElement(el,null))}}function rl(){return{type:cr.n,title:Cr.note.title,content:Cr.note.content}}function nl(e,t){return{type:cr.mb,id:e,attributes:t}}function al(e){return{type:cr.Z,id:e}}function il(e,t){return{type:cr.z,id:e,characterId:t}}function ol(e,t){return{type:cr.B,id:e,placeId:t}}function sl(e,t){return{type:cr.E,id:e,tagId:t}}function cl(e,t){return{type:cr.w,id:e,bookId:t}}function ll(e,t){return{type:cr.Jb,id:e,characterId:t}}function ul(e,t){return{type:cr.Nb,id:e,placeId:t}}function dl(e,t){return{type:cr.Rb,id:e,tagId:t}}function pl(e,t){return{type:cr.Eb,id:e,bookId:t}}function fl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class hl extends b.Component{constructor(e){super(e),fl(this,"deleteNote",e=>{e.stopPropagation(),this.props.actions.deleteNote(this.props.note.id)}),fl(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),fl(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEditing()}),fl(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),fl(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),fl(this,"saveEdit",(e=!0)=>{const{note:t}=this.props;let r={title:Object($.findDOMNode)(this.refs.titleInput).value||t.title,content:this.state.content};this.state.newImageId&&(r.imageId=-1==this.state.newImageId?null:this.state.newImageId),this.props.actions.editNote(t.id,r),e&&this.props.stopEditing()}),this.state={content:e.note.content,newImageId:null,deleting:!1}}componentWillUnmount(){this.props.editing&&this.saveEdit(!1)}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.note.title||Ae()("New Note"),onDelete:this.deleteNote,onCancel:this.cancelDelete}):null}renderBookSelectList(){const{note:e,actions:t}=this.props;return v.a.createElement(yc,{selectedBooks:e.bookIds,parentId:e.id,add:t.addBook,remove:t.removeBook})}renderEditingImage(){const{note:e}=this.props;let t=this.state.newImageId||e.imageId;return v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Note Image")),v.a.createElement("div",{className:"note-list__note__edit-image-wrapper"},v.a.createElement("div",{className:"note-list__note__edit-image"},v.a.createElement(vi.a,{size:"small",shape:"rounded",imageId:t})),v.a.createElement("div",null,v.a.createElement(Ci,{selectedId:t,chooseImage:e=>this.setState({newImageId:e}),deleteButton:!0}))))}renderContent(){const{note:e,ui:t}=this.props;if(this.props.editing)return v.a.createElement("div",{className:"note-list__content editing"},v.a.createElement("div",{className:"note-list__note__edit-form"},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Title")),v.a.createElement(tn.a,{type:"text",ref:"titleInput",autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,onChange:()=>this.setState({unsaved:!0}),defaultValue:e.title,style:{marginBottom:"10px"}})),this.renderEditingImage(),v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Content")),v.a.createElement(oo,{description:e.content,onChange:e=>this.setState({content:e}),editable:!0,autofocus:!1,darkMode:t.darkMode}))),v.a.createElement(rn.a,{className:"card-dialog__button-bar"},v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveEdit},Ae()("Save")),v.a.createElement(re.a,{className:"card-dialog__delete",onClick:this.handleDelete},Ae()("Delete"))));{let r=null;return e.imageId&&(r=v.a.createElement("div",{className:"text-center"},v.a.createElement(vi.a,{responsive:!0,imageId:e.imageId}))),v.a.createElement("div",{className:"note-list__content",onClick:this.props.startEditing},v.a.createElement("h4",{className:"secondary-text"},e.title||Ae()("New Note")),r,v.a.createElement(oo,{description:e.content,darkMode:t.darkMode}),v.a.createElement(x.a,{className:"pull-right",glyph:"pencil"}))}}render(){const{editing:e,ui:t,note:r,characters:n,actions:a,places:i,tags:o}=this.props;return v.a.createElement("div",{className:"note-list__note-wrapper"},this.renderDelete(),v.a.createElement("div",{className:A()("note-list__note",{editing:e,darkmode:t.darkMode})},v.a.createElement("div",{className:"note-list__body"},v.a.createElement("div",{className:"note-list__left-side"},this.renderBookSelectList(),v.a.createElement(mc,{parentId:r.id,type:"Characters",selectedItems:r.characters,allItems:n,add:a.addCharacter,remove:a.removeCharacter}),v.a.createElement(mc,{parentId:r.id,type:"Places",selectedItems:r.places,allItems:i,add:a.addPlace,remove:a.removePlace}),v.a.createElement(mc,{parentId:r.id,type:"Tags",selectedItems:r.tags,allItems:o,add:a.addTag,remove:a.removeTag})),this.renderContent())))}}hl.propTypes={note:_.a.object.isRequired,editing:_.a.bool.isRequired,startEditing:_.a.func.isRequired,stopEditing:_.a.func.isRequired,characters:_.a.array.isRequired,places:_.a.array.isRequired,tags:_.a.array.isRequired,actions:_.a.object.isRequired,ui:_.a.object.isRequired};var ml=Object(w.connect)((function(e){return{tags:Xo(e.present),characters:Os(e.present),places:Cs(e.present),ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(d,e)}}))(hl);function gl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class bl extends b.Component{constructor(e){super(e),gl(this,"filterItem",(e,t)=>{var r=this.state.filteredItems;if(-1===r[e].indexOf(t))r[e].push(t);else{var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}this.props.updateItems(r),this.setState({filteredItems:r})}),gl(this,"filterList",(e,t)=>{var r=this.state.filteredItems;r[e].length>0?r[e]=[]:r[e]=t.map(e=>e.id),this.props.updateItems(r),this.setState({filteredItems:r})}),this.state={filteredItems:e.filteredItems||this.defaultFilteredItemsObj()}}defaultFilteredItemsObj(){return{tag:[],character:[],place:[],book:[]}}isChecked(e,t){return-1!==this.state.filteredItems[e].indexOf(t)}renderFilterList(e,t,r){var n=e.map(e=>this.renderFilterItem(e,t,r));return v.a.createElement("ul",{className:"filter-list__list"},n)}renderFilterItem(e,t,r){if(!e)return null;var n="unchecked";return this.isChecked(t,e.id)&&(n="eye-open"),v.a.createElement("li",{key:`${t}-${e.id}`,onMouseDown:()=>this.filterItem(t,e.id)},v.a.createElement(x.a,{glyph:n})," ",e[r])}renderBookList(){if(!this.props.renderBooks)return null;const{books:e}=this.props,t=e.allIds.map(t=>{const r=e[t]||e[t.toString()];return this.renderFilterItem(r,"book","title")});let r="unchecked";return this.isChecked("book","series")&&(r="eye-open"),v.a.createElement("div",null,v.a.createElement("p",null,Ae()("Books")),v.a.createElement("ul",{className:"filter-list__list"},v.a.createElement("li",{key:"book-series",onMouseDown:()=>this.filterItem("book","series")},v.a.createElement(x.a,{glyph:r})," ",Ae()("Series")),t))}render(){return v.a.createElement("div",{className:"filter-list flex"},this.renderBookList(),v.a.createElement("div",null,v.a.createElement("p",{onClick:()=>this.filterList("character",this.props.characters)},v.a.createElement("em",null,Ae()("Characters"))),this.renderFilterList(this.props.characters,"character","name")),v.a.createElement("div",null,v.a.createElement("p",{onClick:()=>this.filterList("place",this.props.places)},v.a.createElement("em",null,Ae()("Places"))),this.renderFilterList(this.props.places,"place","name")),v.a.createElement("div",null,v.a.createElement("p",{onClick:()=>this.filterList("tag",this.props.tags)},v.a.createElement("em",null,Ae()("Tags"))),this.renderFilterList(this.props.tags,"tag","title")))}}bl.propTypes={characters:_.a.array.isRequired,places:_.a.array.isRequired,tags:_.a.array.isRequired,books:_.a.object.isRequired,updateItems:_.a.func.isRequired,renderBooks:_.a.bool,filteredItems:_.a.object};var vl=Object(w.connect)((function(e){return{characters:Os(e.present),places:Cs(e.present),tags:Xo(e.present),books:e.present.books}}),(function(e){return{}}))(bl),yl=r(379),_l=r.n(yl);function El(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wl extends b.Component{constructor(...e){super(...e),El(this,"state",{deleting:!1}),El(this,"scrollIntoView",()=>{if(this.props.selected){const e=Object($.findDOMNode)(this);e&&e.scrollIntoViewIfNeeded()}}),El(this,"deleteNote",e=>{e.stopPropagation(),this.props.actions.deleteNote(this.props.note.id)}),El(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),El(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEdit()}),El(this,"selectNote",()=>{const{note:e,selected:t,select:r,startEdit:n}=this.props;t?n():r(e.id)}),El(this,"startEditing",e=>{e.stopPropagation(),this.props.select(this.props.note.id),this.props.startEdit()})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.note.title||Ae()("New Note"),onDelete:this.deleteNote,onCancel:this.cancelDelete}):null}render(){const{note:e,selected:t}=this.props;let r=null;e.imageId&&(r=v.a.createElement("div",{className:"note-list__item-inner__image-wrapper"},v.a.createElement(vi.a,{responsive:!0,imageId:e.imageId})));let n=null;e.lastEdited&&(n=v.a.createElement("p",{className:"list-group-item-text secondary-text"},_l.a.format(new Date(e.lastEdited))));const a=A()("list-group-item",{selected:t}),i=A()("note-list__item-buttons",{visible:t});return v.a.createElement("div",{className:a,onClick:this.selectNote},this.renderDelete(),v.a.createElement("div",{className:"note-list__item-inner"},r,v.a.createElement("div",null,v.a.createElement("h6",{className:A()("list-group-item-heading",{withImage:!!e.imageId})},e.title||Ae()("New Note")),n),v.a.createElement(ie,{className:i},v.a.createElement(re.a,{bsSize:"small",onClick:this.startEditing},v.a.createElement(x.a,{glyph:"edit"})),v.a.createElement(re.a,{bsSize:"small",onClick:this.handleDelete},v.a.createElement(x.a,{glyph:"trash"})))))}}El(wl,"propTypes",{note:_.a.object.isRequired,selected:_.a.bool.isRequired,select:_.a.func.isRequired,startEdit:_.a.func.isRequired,stopEdit:_.a.func.isRequired,actions:_.a.object.isRequired});var Ol=Object(w.connect)((function(e){return{}}),(function(e){return{actions:Object(E.bindActionCreators)(d,e)}}))(wl);function xl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Cl extends b.Component{constructor(e){super(e),xl(this,"handleCreateNewNote",()=>{const e=Object(Dc.b)(this.props.notes);this.props.actions.addNote(),this.setState({noteDetailId:e,editingSelected:!0})}),xl(this,"updateFilter",e=>{this.setState({filter:e})}),xl(this,"removeFilter",()=>{this.updateFilter(null)}),xl(this,"editingSelected",()=>{this.setState({editingSelected:!0})}),xl(this,"stopEditing",()=>{this.setState({editingSelected:!1})}),this.state={noteDetailId:null,filter:null,viewableNotes:[],editingSelected:!1}}static getDerivedStateFromProps(e,t){let r={...t};const{notes:n}=e,a=Cl.viewableNotes(n,t.filter);return r.viewableNotes=a,r.noteDetailId=Cl.detailID(a,t.noteDetailId),r}static detailID(e,t){if(0==e.length)return null;let r=e[0].id;if(null!=t){let n=e.find(e=>e.id===t);n&&(r=n.id)}return r}static viewableNotes(e,t){let r=e;Cl.staticFilterIsEmpty(t)||(r=e.filter(e=>Cl.isViewable(t,e)));let n=Yo()(r,["lastEdited"]);return n.reverse(),n}static staticFilterIsEmpty(e){return null==e||0===e.tag.length&&0===e.character.length&&0===e.place.length&&0===e.book.length}filterIsEmpty(e){return null==e||0===e.tag.length&&0===e.character.length&&0===e.place.length&&0===e.book.length}static isViewable(e,t){if(!t)return!1;let r=!1;return t.tags&&e.tag.some(e=>t.tags.includes(e))&&(r=!0),t.characters&&e.character.some(e=>t.characters.includes(e))&&(r=!0),t.places&&e.place.some(e=>t.places.includes(e))&&(r=!0),t.bookIds&&(e.book.some(e=>t.bookIds.includes(e))&&(r=!0),e.book.length&&!t.bookIds.length&&(r=!0)),r}renderVisibleNotes(){return this.state.viewableNotes.map(e=>v.a.createElement(Ol,{key:e.id,note:e,selected:e.id==this.state.noteDetailId,startEdit:this.editingSelected,stopEdit:this.stopEditing,select:()=>this.setState({noteDetailId:e.id})}))}renderNotes(){return v.a.createElement("div",{className:A()("note-list__list","list-group",{darkmode:this.props.ui.darkMode})},this.renderVisibleNotes())}renderNoteDetails(){if(null==this.state.noteDetailId)return null;let e=this.props.notes.find(e=>e.id===this.state.noteDetailId);return e||(e=this.state.viewableNotes[0]),v.a.createElement(Ke,null,v.a.createElement(ml,{key:`note-${e.id}`,note:e,editing:this.state.editingSelected,stopEditing:this.stopEditing,startEditing:this.editingSelected}))}renderSubNav(){let e="subnav__container";this.props.ui.darkMode&&(e+=" darkmode");let t=v.a.createElement(Je,{id:"filter"},v.a.createElement(vl,{filteredItems:this.state.filter,updateItems:this.updateFilter,renderBooks:!0})),r=v.a.createElement(nt,{onClick:this.removeFilter,bsStyle:"warning"},v.a.createElement(x.a,{glyph:"remove-sign"}),"  ",Ae()("Notes are filtered"));return this.filterIsEmpty(this.state.filter)&&(r=v.a.createElement("span",null)),v.a.createElement(qt,{className:e},v.a.createElement(Wt,{bsStyle:"pills"},v.a.createElement(Kt,null,v.a.createElement(re.a,{bsSize:"small",onClick:this.handleCreateNewNote},v.a.createElement(x.a,{glyph:"plus"})," ",Ae()("New"))),v.a.createElement(Kt,null,v.a.createElement(sr,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:t},v.a.createElement(re.a,{bsSize:"small"},v.a.createElement(x.a,{glyph:"filter"})," ",Ae()("Filter"))),r)))}render(){let e="secondary-text";return this.props.ui.darkMode&&(e+=" darkmode"),v.a.createElement("div",{className:"note-list container-with-sub-nav"},this.renderSubNav(),v.a.createElement(ot,{fluid:!0},v.a.createElement(gi,null,v.a.createElement(Ja.a,{sm:3},v.a.createElement("h1",{className:e},Ae()("Notes")," ",v.a.createElement(re.a,{onClick:this.handleCreateNewNote},v.a.createElement(x.a,{glyph:"plus"}))),this.renderNotes()),v.a.createElement(Ja.a,{sm:9},this.renderNoteDetails()))))}}Cl.propTypes={notes:_.a.array.isRequired,actions:_.a.object.isRequired,characters:_.a.array.isRequired,places:_.a.array.isRequired,tags:_.a.array.isRequired,ui:_.a.object.isRequired};var kl=Object(w.connect)((function(e){return{notes:e.present.notes,characters:e.present.characters,places:e.present.places,tags:e.present.tags,ui:e.present.ui}}),(function(e){return{actions:Object(E.bindActionCreators)(d,e)}}))(Cl);class Il extends b.Component{render(){return v.a.createElement(Ke,null,v.a.createElement(kl,null))}}var jl=r(36),Sl=r(381),Tl=r.n(Sl);function Al(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Nl={content:{top:"70px"}};class Dl extends b.Component{constructor(e){super(e),Al(this,"deleteCard",e=>{e.stopPropagation(),this.props.actions.deleteCard(this.props.card.id)}),Al(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),Al(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),Al(this,"saveAndClose",()=>{this.saveEdit(),this.props.closeDialog()}),Al(this,"saveEdit",()=>{var e=Object($.findDOMNode)(this.refs.titleInput).value;this.props.actions.editCard(this.props.card.id,e,this.state.description)}),Al(this,"handleEnter",e=>{13===e.which&&this.saveAndClose()}),this.state={description:e.card.description,deleting:!1}}componentDidMount(){window.SCROLLWITHKEYS=!1}componentWillUnmount(){this.saveEdit(),window.SCROLLWITHKEYS=!0}changeChapter(e){this.props.actions.changeScene(this.props.card.id,e,this.props.ui.currentTimeline)}changeLine(e){this.props.actions.changeLine(this.props.card.id,e,this.props.ui.currentTimeline)}changeBook(e){this.props.actions.changeBook(this.props.card.id,e)}getCurrentChapter(){return this.props.chapters.find(e=>e.id==this.props.chapterId)}getCurrentLine(){return this.props.lines.find(e=>e.id==this.props.lineId)}getBookTitle(){const e=this.props.books[this.props.card.bookId];return e?e.title||Ae()("Untitled"):Ae()("Choose...")}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.card.title,onDelete:this.deleteCard,onCancel:this.cancelDelete}):null}renderChapterItems(){const{chapters:e,positionOffset:t,isSeries:r}=this.props;return e.map(e=>v.a.createElement(H,{key:e.id,onSelect:()=>this.changeChapter(e.id)},Object(ho.c)(Object(po.c)(e,t,r),50)))}renderLineItems(){return this.props.lines.map(e=>v.a.createElement(H,{key:e.id,onSelect:()=>this.changeLine(e.id)},Object(ho.c)(e.title,50)))}renderBooks(){const{books:e}=this.props;return e.allIds.map(t=>v.a.createElement(H,{key:t,onSelect:()=>this.changeBook(t)},e[t].title||Ae()("Untitled")))}renderButtonBar(){return v.a.createElement(rn.a,{className:"card-dialog__button-bar"},v.a.createElement(re.a,{onClick:this.props.closeDialog},Ae()("Cancel")),v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveAndClose},Ae()("Save")),v.a.createElement(re.a,{className:"card-dialog__delete",onClick:this.handleDelete},Ae()("Delete")))}renderTitle(){var e=this.props.card.title;return v.a.createElement(tn.a,{style:{fontSize:"24pt",textAlign:"center",marginBottom:"6px"},onKeyPress:this.handleEnter,type:"text",ref:"titleInput",defaultValue:e})}renderBookDropdown(){let e=null;if(this.props.card.bookId){const t=()=>{this.props.uiActions.changeCurrentTimeline(this.props.card.bookId),this.props.closeDialog()};e=v.a.createElement(re.a,{onClick:t},Ae()("View Timeline"))}return v.a.createElement("div",{className:"card-dialog__dropdown-wrapper",style:{marginBottom:"5px"}},v.a.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-book"},Ae()("Book"),":",v.a.createElement(Di,{id:"select-book",className:"card-dialog__select-line",title:this.getBookTitle()},this.renderBooks())),e)}renderLeftSide(){const{positionOffset:e,isSeries:t}=this.props;let r=Ae()("Chapter"),n=null;t&&(r=Ae()("Beat"),n=this.renderBookDropdown());const a=Object(po.c)(this.getCurrentChapter(),e,t);return v.a.createElement("div",{className:"card-dialog__left-side"},n,v.a.createElement("div",{className:"card-dialog__dropdown-wrapper"},v.a.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-line"},Ae()("Plotline"),":",v.a.createElement(Di,{id:"select-line",className:"card-dialog__select-line",title:Object(ho.c)(this.getCurrentLine().title,35)},this.renderLineItems()))),v.a.createElement("div",{className:"card-dialog__sdropdown-wrapper"},v.a.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-chapter"},r,":",v.a.createElement(Di,{id:"select-chapter",className:"card-dialog__select-scene",title:Object(ho.c)(a,40)},this.renderChapterItems()))),v.a.createElement(mc,{parentId:this.props.card.id,type:"Characters",selectedItems:this.props.card.characters,allItems:this.props.characters,add:this.props.actions.addCharacter,remove:this.props.actions.removeCharacter}),v.a.createElement(mc,{parentId:this.props.card.id,type:"Places",selectedItems:this.props.card.places,allItems:this.props.places,add:this.props.actions.addPlace,remove:this.props.actions.removePlace}),v.a.createElement(mc,{parentId:this.props.card.id,type:"Tags",selectedItems:this.props.card.tags,allItems:this.props.tags,add:this.props.actions.addTag,remove:this.props.actions.removeTag}))}render(){const{card:e,ui:t}=this.props;return t.darkMode&&(Nl.content.backgroundColor="#666"),v.a.createElement(fi.a,{isOpen:!0,onRequestClose:this.saveAndClose,style:Nl},this.renderDelete(),v.a.createElement("div",{className:A()("card-dialog",{darkmode:t.darkMode})},v.a.createElement("div",{className:"card-dialog__body"},this.renderLeftSide(),v.a.createElement("div",{className:"card-dialog__description"},this.renderTitle(),v.a.createElement("p",{className:"card-dialog__details-label text-center"},Ae()("Description"),":"),v.a.createElement(oo,{description:e.description,onChange:e=>this.setState({description:e}),editable:!0,darkMode:t.darkMode,autofocus:!0}))),this.renderButtonBar()))}}Dl.propTypes={card:_.a.object,chapterId:_.a.number.isRequired,lineId:_.a.number.isRequired,closeDialog:_.a.func,lines:_.a.array.isRequired,chapters:_.a.array.isRequired,actions:_.a.object.isRequired,tags:_.a.array.isRequired,characters:_.a.array.isRequired,places:_.a.array.isRequired,ui:_.a.object.isRequired,books:_.a.object.isRequired,isSeries:_.a.bool.isRequired,positionOffset:_.a.number.isRequired};const Pl=Tl()(Dl);var Rl=Object(w.connect)((function(e){return{chapters:Object(go.e)(e.present),lines:Object(mo.d)(e.present),tags:Xo(e.present),characters:Os(e.present),places:Cs(e.present),ui:e.present.ui,books:e.present.books,isSeries:Object(so.d)(e.present),positionOffset:Object(go.d)(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(n,e),uiActions:Object(E.bindActionCreators)(O,e)}}))(Pl),Ml=r(44);function Fl({zoomState:e,zoomIndex:t}){return null!=t&&null!=t&&(e!==Ml.c||t<Ml.b)}function Ll(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Bl extends b.Component{constructor(e){super(e),Ll(this,"closeDialog",()=>{this.setState({dialogOpen:!1})}),Ll(this,"handleDragStart",e=>{this.setState({dragging:!0}),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify({cardId:this.props.card.id}))}),Ll(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),Ll(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),Ll(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),Ll(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),Ll(this,"handleDrop",e=>{if(e.stopPropagation(),e.preventDefault(),this.state.dragging)return;if(!this.props.allowDrop)return;this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.moveCard(r.cardId,this.props.idx)}),Ll(this,"openDialog",()=>{this.setState({dialogOpen:!0})}),this.state={dialogOpen:!1,dragging:!1,inDropZone:!1,dropDepth:0}}renderDialog(){if(!this.state.dialogOpen)return null;const{card:e,chapterId:t,lineId:r}=this.props;return v.a.createElement(Rl,{card:e,chapterId:t,lineId:r,closeDialog:this.closeDialog})}renderPopover(){return v.a.createElement(Je,{title:this.props.card.title,id:`card-popover-${this.props.card.id}`},v.a.createElement("div",{className:"card__popover-wrapper"},v.a.createElement(oo,{description:this.props.card.description,editable:!1,className:"card__popover-description",darkMode:this.props.ui.darkMode}),this.renderTags()))}hasDetailsToShow(){const{card:e}=this.props;return!(!e.tags||!e.tags.length)||!!e.description&&(!!e.description.length&&(e.description.length>1||!(1==e.description.length&&e.description[0]&&e.description[0].children&&1==e.description[0].children.length&&e.description[0].children[0]&&""==e.description[0].children[0].text)))}renderTags(){const{card:e,tags:t}=this.props;if(!e.tags||!e.tags.length)return null;const r=e.tags.map(e=>{const r=t.find(t=>t.id==e);return r?v.a.createElement(cn,{tag:r,key:`taglabel-${e}`}):null});return v.a.createElement("div",{className:"card__popover-labels"},r)}renderDropZone(){if(this.props.allowDrop&&this.state.inDropZone)return v.a.createElement("div",{className:"card__drop-zone"},v.a.createElement(C.b,null))}renderTitle(){let e=v.a.createElement("div",{className:"card__title"},Object(ho.c)(this.props.card.title,150));if(!this.state.dragging&&this.hasDetailsToShow()){let t="left";t="horizontal"===this.props.ui.orientation?Number(this.props.chapterPosition)<=2?"right":t:Number(this.props.linePosition)<=2?"right":t,Fl(this.props.ui)&&(t="right"),e=v.a.createElement(sr,{placement:t,overlay:this.renderPopover()},e)}return e}render(){var e={borderColor:this.props.color};this.state.dragging&&(e.opacity="0.5"),this.props.isVisible||(e.opacity="0.1");const t=this.props.allowDrop;return v.a.createElement("div",{className:A()("card__body-wrapper",{lastOne:this.props.last}),onDragEnter:t?this.handleDragEnter:null,onDragOver:t?this.handleDragOver:null,onDragLeave:t?this.handleDragLeave:null,onDrop:t?this.handleDrop:null},this.renderDialog(),this.renderDropZone(),v.a.createElement("div",{className:"card__body",style:e,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onClick:this.openDialog},this.renderTitle()))}shouldComponentUpdate(e,t){return this.state.dragging!=t.dragging||(this.state.dialogOpen!=t.dialogOpen||(this.state.inDropZone!=t.inDropZone||(this.props.color!=e.color||(this.props.isVisible!=e.isVisible||(this.props.card!=e.card||this.props.last!=e.last)))))}}Bl.propTypes={card:_.a.object.isRequired,chapterId:_.a.number.isRequired,lineId:_.a.number.isRequired,color:_.a.string.isRequired,last:_.a.bool.isRequired,linePosition:_.a.oneOfType([_.a.string,_.a.number]).isRequired,chapterPosition:_.a.oneOfType([_.a.string,_.a.number]).isRequired,moveCard:_.a.func.isRequired,idx:_.a.number.isRequired,allowDrop:_.a.bool.isRequired,tags:_.a.array,ui:_.a.object.isRequired,isVisible:_.a.bool.isRequired};var ql=Object(w.connect)((function(e,t){return{tags:e.present.tags,ui:e.present.ui,isVisible:Object(ko.c)(e.present)[t.card.id]}}),(function(e){return{actions:Object(E.bindActionCreators)(n,e)}}))(Bl),Hl=r(251),zl=r.n(Hl),Ul="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Wl=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Ul&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Gl=Ul&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Wl))}};function Vl(e){return e&&"[object Function]"==={}.toString.call(e)}function Kl(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function $l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Yl(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Kl(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(r+a+n)?e:Yl($l(e))}function Jl(e){return e&&e.referenceNode?e.referenceNode:e}var Xl=Ul&&!(!window.MSInputMethodContext||!document.documentMode),Zl=Ul&&/MSIE 10/.test(navigator.userAgent);function Ql(e){return 11===e?Xl:10===e?Zl:Xl||Zl}function eu(e){if(!e)return document.documentElement;for(var t=Ql(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===Kl(r,"position")?eu(r):r:e?e.ownerDocument.documentElement:document.documentElement}function tu(e){return null!==e.parentNode?tu(e.parentNode):e}function ru(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,a=r?t:e,i=document.createRange();i.setStart(n,0),i.setEnd(a,0);var o,s,c=i.commonAncestorContainer;if(e!==c&&t!==c||n.contains(a))return"BODY"===(s=(o=c).nodeName)||"HTML"!==s&&eu(o.firstElementChild)!==o?eu(c):c;var l=tu(e);return l.host?ru(l.host,t):ru(e,tu(t).host)}function nu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r="top"===t?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var a=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||a;return i[r]}return e[r]}function au(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=nu(t,"top"),a=nu(t,"left"),i=r?-1:1;return e.top+=n*i,e.bottom+=n*i,e.left+=a*i,e.right+=a*i,e}function iu(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function ou(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],Ql(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function su(e){var t=e.body,r=e.documentElement,n=Ql(10)&&getComputedStyle(r);return{height:ou("Height",t,r,n),width:ou("Width",t,r,n)}}var cu=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},lu=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),uu=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},du=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function pu(e){return du({},e,{right:e.left+e.width,bottom:e.top+e.height})}function fu(e){var t={};try{if(Ql(10)){t=e.getBoundingClientRect();var r=nu(e,"top"),n=nu(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?su(e.ownerDocument):{},o=i.width||e.clientWidth||a.width,s=i.height||e.clientHeight||a.height,c=e.offsetWidth-o,l=e.offsetHeight-s;if(c||l){var u=Kl(e);c-=iu(u,"x"),l-=iu(u,"y"),a.width-=c,a.height-=l}return pu(a)}function hu(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Ql(10),a="HTML"===t.nodeName,i=fu(e),o=fu(t),s=Yl(e),c=Kl(t),l=parseFloat(c.borderTopWidth),u=parseFloat(c.borderLeftWidth);r&&a&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=pu({top:i.top-o.top-l,left:i.left-o.left-u,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!n&&a){var p=parseFloat(c.marginTop),f=parseFloat(c.marginLeft);d.top-=l-p,d.bottom-=l-p,d.left-=u-f,d.right-=u-f,d.marginTop=p,d.marginLeft=f}return(n&&!r?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=au(d,t)),d}function mu(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=hu(e,r),a=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),o=t?0:nu(r),s=t?0:nu(r,"left"),c={top:o-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:a,height:i};return pu(c)}function gu(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Kl(e,"position"))return!0;var r=$l(e);return!!r&&gu(r)}function bu(e){if(!e||!e.parentElement||Ql())return document.documentElement;for(var t=e.parentElement;t&&"none"===Kl(t,"transform");)t=t.parentElement;return t||document.documentElement}function vu(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},o=a?bu(e):ru(e,Jl(t));if("viewport"===n)i=mu(o,a);else{var s=void 0;"scrollParent"===n?"BODY"===(s=Yl($l(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===n?e.ownerDocument.documentElement:n;var c=hu(s,o,a);if("HTML"!==s.nodeName||gu(o))i=c;else{var l=su(e.ownerDocument),u=l.height,d=l.width;i.top+=c.top-c.marginTop,i.bottom=u+c.top,i.left+=c.left-c.marginLeft,i.right=d+c.left}}var p="number"==typeof(r=r||0);return i.left+=p?r:r.left||0,i.top+=p?r:r.top||0,i.right-=p?r:r.right||0,i.bottom-=p?r:r.bottom||0,i}function yu(e){return e.width*e.height}function _u(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=vu(r,n,i,a),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(s).map((function(e){return du({key:e},s[e],{area:yu(s[e])})})).sort((function(e,t){return t.area-e.area})),l=c.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Eu(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=n?bu(t):ru(t,Jl(r));return hu(r,a,n)}function wu(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function Ou(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function xu(e,t,r){r=r.split("-")[0];var n=wu(e),a={width:n.width,height:n.height},i=-1!==["right","left"].indexOf(r),o=i?"top":"left",s=i?"left":"top",c=i?"height":"width",l=i?"width":"height";return a[o]=t[o]+t[c]/2-n[c]/2,a[s]=r===s?t[s]-n[l]:t[Ou(s)],a}function Cu(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function ku(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=Cu(e,(function(e){return e[t]===r}));return e.indexOf(n)}(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&Vl(r)&&(t.offsets.popper=pu(t.offsets.popper),t.offsets.reference=pu(t.offsets.reference),t=r(t,e))})),t}function Iu(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Eu(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=_u(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=xu(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=ku(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function ju(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function Su(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var a=t[n],i=a?""+a+r:e;if(void 0!==document.body.style[i])return i}return null}function Tu(){return this.state.isDestroyed=!0,ju(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Su("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Au(e){var t=e.ownerDocument;return t?t.defaultView:window}function Nu(e,t,r,n){r.updateBound=n,Au(e).addEventListener("resize",r.updateBound,{passive:!0});var a=Yl(e);return function e(t,r,n,a){var i="BODY"===t.nodeName,o=i?t.ownerDocument.defaultView:t;o.addEventListener(r,n,{passive:!0}),i||e(Yl(o.parentNode),r,n,a),a.push(o)}(a,"scroll",r.updateBound,r.scrollParents),r.scrollElement=a,r.eventsEnabled=!0,r}function Du(){this.state.eventsEnabled||(this.state=Nu(this.reference,this.options,this.state,this.scheduleUpdate))}function Pu(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Au(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Ru(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Mu(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&Ru(t[r])&&(n="px"),e.style[r]=t[r]+n}))}var Fu=Ul&&/Firefox/i.test(navigator.userAgent);function Lu(e,t,r){var n=Cu(e,(function(e){return e.name===t})),a=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!a){var i="`"+t+"`",o="`"+r+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return a}var Bu=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],qu=Bu.slice(3);function Hu(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=qu.indexOf(e),n=qu.slice(r+1).concat(qu.slice(0,r));return t?n.reverse():n}var zu="flip",Uu="clockwise",Wu="counterclockwise";function Gu(e,t,r,n){var a=[0,0],i=-1!==["right","left"].indexOf(n),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(Cu(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==s?[o.slice(0,s).concat([o[s].split(c)[0]]),[o[s].split(c)[1]].concat(o.slice(s+1))]:[o];return(l=l.map((function(e,n){var a=(1===n?!i:i)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,r,n){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+a[1],o=a[2];if(!i)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=r;break;case"%":case"%r":default:s=n}return pu(s)[t]/100*i}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(e,a,t,r)}))}))).forEach((function(e,t){e.forEach((function(r,n){Ru(r)&&(a[t]+=r*("-"===e[n-1]?-1:1))}))})),a}var Vu={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var a=e.offsets,i=a.reference,o=a.popper,s=-1!==["bottom","top"].indexOf(r),c=s?"left":"top",l=s?"width":"height",u={start:uu({},c,i[c]),end:uu({},c,i[c]+i[l]-o[l])};e.offsets.popper=du({},o,u[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,a=e.offsets,i=a.popper,o=a.reference,s=n.split("-")[0],c=void 0;return c=Ru(+r)?[+r,0]:Gu(r,i,o,s),"left"===s?(i.top+=c[0],i.left-=c[1]):"right"===s?(i.top+=c[0],i.left+=c[1]):"top"===s?(i.left+=c[0],i.top-=c[1]):"bottom"===s&&(i.left+=c[0],i.top+=c[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||eu(e.instance.popper);e.instance.reference===r&&(r=eu(r));var n=Su("transform"),a=e.instance.popper.style,i=a.top,o=a.left,s=a[n];a.top="",a.left="",a[n]="";var c=vu(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);a.top=i,a.left=o,a[n]=s,t.boundaries=c;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var r=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(r=Math.max(u[e],c[e])),uu({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=u[r];return u[e]>c[e]&&!t.escapeWithReference&&(n=Math.min(u[r],c[e]-("right"===e?u.width:u.height))),uu({},r,n)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=du({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,a=e.placement.split("-")[0],i=Math.floor,o=-1!==["top","bottom"].indexOf(a),s=o?"right":"bottom",c=o?"left":"top",l=o?"width":"height";return r[s]<i(n[c])&&(e.offsets.popper[c]=i(n[c])-r[l]),r[c]>i(n[s])&&(e.offsets.popper[c]=i(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!Lu(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],i=e.offsets,o=i.popper,s=i.reference,c=-1!==["left","right"].indexOf(a),l=c?"height":"width",u=c?"Top":"Left",d=u.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",h=wu(n)[l];s[f]-h<o[d]&&(e.offsets.popper[d]-=o[d]-(s[f]-h)),s[d]+h>o[f]&&(e.offsets.popper[d]+=s[d]+h-o[f]),e.offsets.popper=pu(e.offsets.popper);var m=s[d]+s[l]/2-h/2,g=Kl(e.instance.popper),b=parseFloat(g["margin"+u]),v=parseFloat(g["border"+u+"Width"]),y=m-e.offsets.popper[d]-b-v;return y=Math.max(Math.min(o[l]-h,y),0),e.arrowElement=n,e.offsets.arrow=(uu(r={},d,Math.round(y)),uu(r,p,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(ju(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=vu(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],a=Ou(n),i=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case zu:o=[n,a];break;case Uu:o=Hu(n);break;case Wu:o=Hu(n,!0);break;default:o=t.behavior}return o.forEach((function(s,c){if(n!==s||o.length===c+1)return e;n=e.placement.split("-")[0],a=Ou(n);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===n&&d(l.right)>d(u.left)||"right"===n&&d(l.left)<d(u.right)||"top"===n&&d(l.bottom)>d(u.top)||"bottom"===n&&d(l.top)<d(u.bottom),f=d(l.left)<d(r.left),h=d(l.right)>d(r.right),m=d(l.top)<d(r.top),g=d(l.bottom)>d(r.bottom),b="left"===n&&f||"right"===n&&h||"top"===n&&m||"bottom"===n&&g,v=-1!==["top","bottom"].indexOf(n),y=!!t.flipVariations&&(v&&"start"===i&&f||v&&"end"===i&&h||!v&&"start"===i&&m||!v&&"end"===i&&g),_=!!t.flipVariationsByContent&&(v&&"start"===i&&h||v&&"end"===i&&f||!v&&"start"===i&&g||!v&&"end"===i&&m),E=y||_;(p||b||E)&&(e.flipped=!0,(p||b)&&(n=o[c+1]),E&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=n+(i?"-"+i:""),e.offsets.popper=du({},e.offsets.popper,xu(e.instance.popper,e.offsets.reference,e.placement)),e=ku(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,a=n.popper,i=n.reference,o=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return a[o?"left":"top"]=i[r]-(s?a[o?"width":"height"]:0),e.placement=Ou(t),e.offsets.popper=pu(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Lu(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=Cu(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,a=e.offsets.popper,i=Cu(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==i?i:t.gpuAcceleration,s=eu(e.instance.popper),c=fu(s),l={position:a.position},u=function(e,t){var r=e.offsets,n=r.popper,a=r.reference,i=Math.round,o=Math.floor,s=function(e){return e},c=i(a.width),l=i(n.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||c%2==l%2?i:o:s,f=t?i:s;return{left:p(c%2==1&&l%2==1&&!d&&t?n.left-1:n.left),top:f(n.top),bottom:f(n.bottom),right:p(n.right)}}(e,window.devicePixelRatio<2||!Fu),d="bottom"===r?"top":"bottom",p="right"===n?"left":"right",f=Su("transform"),h=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-c.height+u.bottom:u.top,h="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-c.width+u.right:u.left,o&&f)l[f]="translate3d("+h+"px, "+m+"px, 0)",l[d]=0,l[p]=0,l.willChange="transform";else{var g="bottom"===d?-1:1,b="right"===p?-1:1;l[d]=m*g,l[p]=h*b,l.willChange=d+", "+p}var v={"x-placement":e.placement};return e.attributes=du({},v,e.attributes),e.styles=du({},l,e.styles),e.arrowStyles=du({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return Mu(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach((function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Mu(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,a){var i=Eu(a,t,e,r.positionFixed),o=_u(r.placement,i,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",o),Mu(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},Ku=function(){function e(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cu(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=Gl(this.update.bind(this)),this.options=du({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(du({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){n.options.modifiers[t]=du({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return du({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&Vl(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return lu(e,[{key:"update",value:function(){return Iu.call(this)}},{key:"destroy",value:function(){return Tu.call(this)}},{key:"enableEventListeners",value:function(){return Du.call(this)}},{key:"disableEventListeners",value:function(){return Pu.call(this)}}]),e}();Ku.Utils=("undefined"!=typeof window?window:global).PopperUtils,Ku.placements=Bu,Ku.Defaults=Vu;var $u=Ku,Yu=r(180),Ju=r.n(Yu),Xu=r(60),Zu=r.n(Xu),Qu=r(382),ed=r.n(Qu),td=r(245);function rd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ad(e,t,r){return t&&nd(e.prototype,t),r&&nd(e,r),e}function id(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function od(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?od(Object(r),!0).forEach((function(t){id(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):od(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ud(e,t)}function ld(e){return(ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ud(e,t){return(ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dd(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fd(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?pd(e):t}var hd={flip:{padding:20},preventOverflow:{padding:10}},md={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},gd=r.n(td).a.canUseDOM,bd=void 0!==Y.a.createPortal;function vd(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function yd(e){var t=e.title,r=e.data,n=e.warn,a=void 0!==n&&n,i=e.debug,o=void 0!==i&&i,s=a?console.warn||console.error:console.log;o&&t&&r&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach((function(e){Zu.a.plainObject(e)&&e.key?s.apply(console,[e.key,e.value]):s.apply(console,[e])})):s.apply(console,[r]),console.groupEnd())}function _d(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,r,n)}function Ed(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,r,n)}function wd(){}var Od=function(e){function t(e){var r;return rd(this,t),r=fd(this,ld(t).call(this,e)),gd?(r.node=document.createElement("div"),e.id&&(r.node.id=e.id),e.zIndex&&(r.node.style.zIndex=e.zIndex),document.body.appendChild(r.node),r):fd(r)}return cd(t,e),ad(t,[{key:"componentDidMount",value:function(){gd&&(bd||this.renderPortal())}},{key:"componentDidUpdate",value:function(){gd&&(bd||this.renderPortal())}},{key:"componentWillUnmount",value:function(){gd&&this.node&&(bd||Y.a.unmountComponentAtNode(this.node),document.body.removeChild(this.node))}},{key:"renderPortal",value:function(){if(!gd)return null;var e=this.props,t=e.children,r=e.setRef;return bd?Y.a.createPortal(t,this.node):(r(Y.a.unstable_renderSubtreeIntoContainer(this,t.length>1?v.a.createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,r=e.placement,n=e.target;return t||n||"center"===r?this.renderPortal():null}},{key:"render",value:function(){return bd?this.renderReact16():null}}]),t}(v.a.Component);id(Od,"propTypes",{children:D.a.oneOfType([D.a.element,D.a.array]),hasChildren:D.a.bool,id:D.a.oneOfType([D.a.string,D.a.number]),placement:D.a.string,setRef:D.a.func.isRequired,target:D.a.oneOfType([D.a.object,D.a.string]),zIndex:D.a.number});var xd=function(e){function t(){return rd(this,t),fd(this,ld(t).apply(this,arguments))}return cd(t,e),ad(t,[{key:"render",value:function(){var e,t=this.props,r=t.placement,n=t.setArrowRef,a=t.styles.arrow,i=a.color,o=a.display,s=a.length,c=a.margin,l=a.position,u=a.spread,d={display:o,position:l},p=u,f=s;return r.startsWith("top")?(e="0,0 ".concat(p/2,",").concat(f," ").concat(p,",0"),d.bottom=0,d.marginLeft=c,d.marginRight=c):r.startsWith("bottom")?(e="".concat(p,",").concat(f," ").concat(p/2,",0 0,").concat(f),d.top=0,d.marginLeft=c,d.marginRight=c):r.startsWith("left")?(f=u,e="0,0 ".concat(p=s,",").concat(f/2," 0,").concat(f),d.right=0,d.marginTop=c,d.marginBottom=c):r.startsWith("right")&&(f=u,e="".concat(p=s,",").concat(f," ").concat(p,",0 0,").concat(f/2),d.left=0,d.marginTop=c,d.marginBottom=c),v.a.createElement("div",{className:"__floater__arrow",style:this.parentStyle},v.a.createElement("span",{ref:n,style:d},v.a.createElement("svg",{width:p,height:f,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v.a.createElement("polygon",{points:e,fill:i}))))}},{key:"parentStyle",get:function(){var e=this.props,t=e.placement,r=e.styles.arrow.length,n={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(n.bottom=0,n.left=0,n.right=0,n.height=r):t.startsWith("bottom")?(n.left=0,n.right=0,n.top=0,n.height=r):t.startsWith("left")?(n.right=0,n.top=0,n.bottom=0):t.startsWith("right")&&(n.left=0,n.top=0),n}}]),t}(v.a.Component);id(xd,"propTypes",{placement:D.a.string.isRequired,setArrowRef:D.a.func.isRequired,styles:D.a.object.isRequired});var Cd=function(e){var t=e.handleClick,r=e.styles,n=r.color,a=r.height,i=r.width,o=dd(r,["color","height","width"]);return v.a.createElement("button",{"aria-label":"close",onClick:t,style:o,type:"button"},v.a.createElement("svg",{width:"".concat(i,"px"),height:"".concat(a,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},v.a.createElement("g",null,v.a.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))};Cd.propTypes={handleClick:D.a.func.isRequired,styles:D.a.object.isRequired};var kd=function(e){var t=e.content,r=e.footer,n=e.handleClick,a=e.open,i=e.positionWrapper,o=e.showCloseButton,s=e.title,c=e.styles,l={content:v.a.isValidElement(t)?t:v.a.createElement("div",{className:"__floater__content",style:c.content},t)};return s&&(l.title=v.a.isValidElement(s)?s:v.a.createElement("div",{className:"__floater__title",style:c.title},s)),r&&(l.footer=v.a.isValidElement(r)?r:v.a.createElement("div",{className:"__floater__footer",style:c.footer},r)),!o&&!i||Zu.a.boolean(a)||(l.close=v.a.createElement(Cd,{styles:c.close,handleClick:n})),v.a.createElement("div",{className:"__floater__container",style:c.container},l.close,l.title,l.content,l.footer)};kd.propTypes={content:D.a.node.isRequired,footer:D.a.node,handleClick:D.a.func.isRequired,open:D.a.bool,positionWrapper:D.a.bool.isRequired,showCloseButton:D.a.bool.isRequired,styles:D.a.object.isRequired,title:D.a.node};var Id=function(e){function t(){return rd(this,t),fd(this,ld(t).apply(this,arguments))}return cd(t,e),ad(t,[{key:"render",value:function(){var e=this.props,t=e.component,r=e.handleClick,n=e.hideArrow,a=e.setFloaterRef,i=e.status,o={},s=["__floater"];return t?v.a.isValidElement(t)?o.content=v.a.cloneElement(t,{closeFn:r}):o.content=t({closeFn:r}):o.content=v.a.createElement(kd,this.props),i===md.OPEN&&s.push("__floater__open"),n||(o.arrow=v.a.createElement(xd,this.props)),v.a.createElement("div",{ref:a,className:s.join(" "),style:this.style},v.a.createElement("div",{className:"__floater__body"},o.content,o.arrow))}},{key:"style",get:function(){var e=this.props,t=e.disableAnimation,r=e.component,n=e.placement,a=e.hideArrow,i=e.status,o=e.styles,s=o.arrow.length,c=o.floater,l=o.floaterCentered,u=o.floaterClosing,d=o.floaterOpening,p=o.floaterWithAnimation,f=o.floaterWithComponent,h={};return a||(n.startsWith("top")?h.padding="0 0 ".concat(s,"px"):n.startsWith("bottom")?h.padding="".concat(s,"px 0 0"):n.startsWith("left")?h.padding="0 ".concat(s,"px 0 0"):n.startsWith("right")&&(h.padding="0 0 0 ".concat(s,"px"))),-1!==[md.OPENING,md.OPEN].indexOf(i)&&(h=sd({},h,{},d)),i===md.CLOSING&&(h=sd({},h,{},u)),i!==md.OPEN||t||(h=sd({},h,{},p)),"center"===n&&(h=sd({},h,{},l)),r&&(h=sd({},h,{},f)),sd({},c,{},h)}}]),t}(v.a.Component);id(Id,"propTypes",{component:D.a.oneOfType([D.a.func,D.a.element]),content:D.a.node,disableAnimation:D.a.bool.isRequired,footer:D.a.node,handleClick:D.a.func.isRequired,hideArrow:D.a.bool.isRequired,open:D.a.bool,placement:D.a.string.isRequired,positionWrapper:D.a.bool.isRequired,setArrowRef:D.a.func.isRequired,setFloaterRef:D.a.func.isRequired,showCloseButton:D.a.bool,status:D.a.string.isRequired,styles:D.a.object.isRequired,title:D.a.node});var jd=function(e){function t(){return rd(this,t),fd(this,ld(t).apply(this,arguments))}return cd(t,e),ad(t,[{key:"render",value:function(){var e,t=this.props,r=t.children,n=t.handleClick,a=t.handleMouseEnter,i=t.handleMouseLeave,o=t.setChildRef,s=t.setWrapperRef,c=t.style,l=t.styles;if(r)if(1===v.a.Children.count(r))if(v.a.isValidElement(r)){var u=Zu.a.function(r.type)?"innerRef":"ref";e=v.a.cloneElement(v.a.Children.only(r),id({},u,o))}else e=v.a.createElement("span",null,r);else e=r;return e?v.a.createElement("span",{ref:s,style:sd({},l,{},c),onClick:n,onMouseEnter:a,onMouseLeave:i},e):null}}]),t}(v.a.Component);id(jd,"propTypes",{children:D.a.node,handleClick:D.a.func.isRequired,handleMouseEnter:D.a.func.isRequired,handleMouseLeave:D.a.func.isRequired,setChildRef:D.a.func.isRequired,setWrapperRef:D.a.func.isRequired,style:D.a.object,styles:D.a.object.isRequired});var Sd={zIndex:100};var Td=["position","top","right","bottom","left"],Ad=function(e){function t(e){var r;return rd(this,t),id(pd(r=fd(this,ld(t).call(this,e))),"setArrowRef",(function(e){r.arrowRef=e})),id(pd(r),"setChildRef",(function(e){r.childRef=e})),id(pd(r),"setFloaterRef",(function(e){r.floaterRef||(r.floaterRef=e)})),id(pd(r),"setWrapperRef",(function(e){r.wrapperRef=e})),id(pd(r),"handleTransitionEnd",(function(){var e=r.state.status,t=r.props.callback;r.wrapperPopper&&r.wrapperPopper.instance.update(),r.setState({status:e===md.OPENING?md.OPEN:md.IDLE},(function(){var e=r.state.status;t(e===md.OPEN?"open":"close",r.props)}))})),id(pd(r),"handleClick",(function(){var e=r.props,t=e.event,n=e.open;if(!Zu.a.boolean(n)){var a=r.state,i=a.positionWrapper,o=a.status;("click"===r.event||"hover"===r.event&&i)&&(yd({title:"click",data:[{event:t,status:o===md.OPEN?"closing":"opening"}],debug:r.debug}),r.toggle())}})),id(pd(r),"handleMouseEnter",(function(){var e=r.props,t=e.event,n=e.open;if(!Zu.a.boolean(n)&&!vd()){var a=r.state.status;"hover"===r.event&&a===md.IDLE&&(yd({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:r.debug}),clearTimeout(r.eventDelayTimeout),r.toggle())}})),id(pd(r),"handleMouseLeave",(function(){var e=r.props,t=e.event,n=e.eventDelay,a=e.open;if(!Zu.a.boolean(a)&&!vd()){var i=r.state,o=i.status,s=i.positionWrapper;"hover"===r.event&&(yd({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:r.debug}),n?-1===[md.OPENING,md.OPEN].indexOf(o)||s||r.eventDelayTimeout||(r.eventDelayTimeout=setTimeout((function(){delete r.eventDelayTimeout,r.toggle()}),1e3*n)):r.toggle(md.IDLE))}})),r.state={currentPlacement:e.placement,positionWrapper:e.wrapperOptions.position&&!!e.target,status:md.INIT,statusWrapper:md.INIT},r._isMounted=!1,gd&&window.addEventListener("load",(function(){r.popper&&r.popper.instance.update(),r.wrapperPopper&&r.wrapperPopper.instance.update()})),r}return cd(t,e),ad(t,[{key:"componentDidMount",value:function(){if(gd){var e=this.state.positionWrapper,t=this.props,r=t.children,n=t.open,a=t.target;this._isMounted=!0,yd({title:"init",data:{hasChildren:!!r,hasTarget:!!a,isControlled:Zu.a.boolean(n),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.initPopper(),!r&&a&&Zu.a.boolean(n)}}},{key:"componentDidUpdate",value:function(e,t){if(gd){var r,n=this.props,a=n.autoOpen,i=n.open,o=n.target,s=n.wrapperOptions,c=ed()(t,this.state),l=c.changedFrom,u=c.changedTo;if(e.open!==i)Zu.a.boolean(i)&&(r=i?md.OPENING:md.CLOSING),this.toggle(r);e.wrapperOptions.position===s.position&&e.target===o||this.changeWrapperPosition(this.props),(u("status",md.IDLE)&&i||l("status",md.INIT,md.IDLE)&&a)&&this.toggle(md.OPEN),this.popper&&u("status",md.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",md.OPENING)||u("status",md.CLOSING))&&function(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_d(e,t,n=function(a){r(a),Ed(e,t,n)},a)}(this.floaterRef,"transitionend",this.handleTransitionEnd)}}},{key:"componentWillUnmount",value:function(){gd&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,r=this.state.positionWrapper,n=this.props,a=n.disableFlip,i=n.getPopper,o=n.hideArrow,s=n.offset,c=n.placement,l=n.wrapperOptions,u="top"===c||"bottom"===c?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===c)this.setState({status:md.IDLE});else if(t&&this.floaterRef){var d=this.options,p=d.arrow,f=d.flip,h=d.offset,m=dd(d,["arrow","flip","offset"]);new $u(t,this.floaterRef,{placement:c,modifiers:sd({arrow:sd({enabled:!o,element:this.arrowRef},p),flip:sd({enabled:!a,behavior:u},f),offset:sd({offset:"0, ".concat(s,"px")},h)},m),onCreate:function(t){e.popper=t,i(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:md.IDLE}),c!==t.placement&&setTimeout((function(){t.instance.update()}),1)},onUpdate:function(t){e.popper=t;var r=e.state.currentPlacement;e._isMounted&&t.placement!==r&&e.setState({currentPlacement:t.placement})}})}if(r){var g=Zu.a.undefined(l.offset)?0:l.offset;new $u(this.target,this.wrapperRef,{placement:l.placement||c,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(g,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:md.IDLE}),i(t,"wrapper"),c!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"changeWrapperPosition",value:function(e){var t=e.target,r=e.wrapperOptions;this.setState({positionWrapper:r.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===md.OPEN?md.CLOSING:md.OPENING;Zu.a.undefined(e)||(t=e),this.setState({status:t})}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,r=e.positionWrapper,n=e.status,a=this.props,i=a.children,o=a.component,s=a.content,c=a.disableAnimation,l=a.footer,u=a.hideArrow,d=a.id,p=a.open,f=a.showCloseButton,h=a.style,m=a.target,g=a.title,b=v.a.createElement(jd,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:h,styles:this.styles.wrapper},i),y={};return r?y.wrapperInPortal=b:y.wrapperAsChildren=b,v.a.createElement("span",null,v.a.createElement(Od,{hasChildren:!!i,id:d,placement:t,setRef:this.setFloaterRef,target:m,zIndex:this.styles.options.zIndex},v.a.createElement(Id,{component:o,content:s,disableAnimation:c,footer:l,handleClick:this.handleClick,hideArrow:u||"center"===t,open:p,placement:t,positionWrapper:r,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:f,status:n,styles:this.styles,title:g}),y.wrapperInPortal),y.wrapperAsChildren)}},{key:"debug",get:function(){return this.props.debug||!!global.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,r=e.event;return"hover"===r&&vd()&&!t?"click":r}},{key:"options",get:function(){var e=this.props.options;return Ju()(hd,e||{})}},{key:"styles",get:function(){var e,t=this,r=this.state,n=r.status,a=r.positionWrapper,i=r.statusWrapper,o=this.props.styles,s=Ju()(function(e){var t=Ju()(Sd,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(o),o);a&&(e=-1===[md.IDLE].indexOf(n)||-1===[md.IDLE].indexOf(i)?s.wrapperPosition:this.wrapperPopper.styles,s.wrapper=sd({},s.wrapper,{},e));if(this.target){var c=window.getComputedStyle(this.target);this.wrapperStyles?s.wrapper=sd({},s.wrapper,{},this.wrapperStyles):-1===["relative","static"].indexOf(c.position)&&(this.wrapperStyles={},a||(Td.forEach((function(e){t.wrapperStyles[e]=c[e]})),s.wrapper=sd({},s.wrapper,{},this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return s}},{key:"target",get:function(){if(!gd)return null;var e=this.props.target;return e?Zu.a.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}}]),t}(v.a.Component);id(Ad,"propTypes",{autoOpen:D.a.bool,callback:D.a.func,children:D.a.node,component:zl()(D.a.oneOfType([D.a.func,D.a.element]),(function(e){return!e.content})),content:zl()(D.a.node,(function(e){return!e.component})),debug:D.a.bool,disableAnimation:D.a.bool,disableFlip:D.a.bool,disableHoverToClick:D.a.bool,event:D.a.oneOf(["hover","click"]),eventDelay:D.a.number,footer:D.a.node,getPopper:D.a.func,hideArrow:D.a.bool,id:D.a.oneOfType([D.a.string,D.a.number]),offset:D.a.number,open:D.a.bool,options:D.a.object,placement:D.a.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:D.a.bool,style:D.a.object,styles:D.a.object,target:D.a.oneOfType([D.a.object,D.a.string]),title:D.a.node,wrapperOptions:D.a.shape({offset:D.a.number,placement:D.a.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:D.a.bool})}),id(Ad,"defaultProps",{autoOpen:!1,callback:wd,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:wd,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var Nd=Ad;function Dd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Pd extends b.Component{constructor(...e){super(...e),Dd(this,"state",{creating:!1,dropping:!1}),Dd(this,"saveCreate",()=>{const e=Object($.findDOMNode)(this.refs.titleInput).value;this.props.addCard({title:e,positionWithinLine:this.props.positionWithinLine+1}),this.setState({creating:!1})}),Dd(this,"handleFinishCreate",e=>{13===e.which&&this.saveCreate()}),Dd(this,"handleCancelCreate",e=>{27===e.which&&this.setState({creating:!1})}),Dd(this,"handleBlur",()=>{if(""==Object($.findDOMNode)(this.refs.titleInput).value)return this.setState({creating:!1}),!1;this.saveCreate(),this.setState({creating:!1})}),Dd(this,"startCreating",()=>{this.setState({creating:!0})}),Dd(this,"handleDragEnter",e=>{this.setState({dropping:!0})}),Dd(this,"handleDragOver",e=>{this.setState({dropping:!0}),e.preventDefault()}),Dd(this,"handleDragLeave",e=>{this.setState({dropping:!1})}),Dd(this,"handleDrop",e=>{e.stopPropagation(),this.setState({dropping:!1});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.moveCard(r.cardId,this.props.dropPosition||this.props.positionWithinLine)})}render(){if(this.state.creating){var e={borderColor:this.props.color};return v.a.createElement("div",{className:"card__body",style:e},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Scene Title")),v.a.createElement(tn.a,{type:"text",autoFocus:!0,ref:"titleInput",bsSize:"small",onBlur:this.handleBlur,onKeyDown:this.handleCancelCreate,onKeyPress:this.handleFinishCreate})))}return this.props.allowDrop?v.a.createElement("div",{className:A()("card__add-card",{dropping:this.state.dropping}),onClick:this.startCreating,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},v.a.createElement(x.a,{glyph:"plus"})):v.a.createElement("div",{className:A()("card__add-card",{dropping:this.state.dropping}),onClick:this.startCreating},v.a.createElement(x.a,{glyph:"plus"}))}shouldComponentUpdate(e,t){return this.state.dropping!=t.dropping||(this.state.creating!=t.creating||(this.props.color!=e.color||this.props.allowDrop!=e.allowDrop))}}function Rd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Dd(Pd,"propTypes",{color:_.a.string.isRequired,positionWithinLine:_.a.number.isRequired,moveCard:_.a.func.isRequired,addCard:_.a.func.isRequired,allowDrop:_.a.bool.isRequired,dropPosition:_.a.number});class Md extends b.PureComponent{constructor(...e){super(...e),Rd(this,"moveSceneCardAbove",(e,t)=>{const{chapterId:r,lineId:n,isSeries:a,cards:i}=this.props;let o=[];const s=i.map(e=>e.id);if(s.includes(e)){const r=i.find(t=>t.id==e).positionWithinLine;o=Object(fo.a)(r,t,s)}else o=s,o.splice(t,0,e);this.props.actions.reorderCardsWithinLine(r,n,a,o)}),Rd(this,"moveSceneCard",(e,t)=>{const{chapterId:r,lineId:n,isSeries:a,cards:i}=this.props;let o=[];const s=i.map(e=>e.id);if(s.includes(e)){const r=i.find(t=>t.id==e).positionWithinLine;o=Object(fo.e)(t,r,s)}else o=s,o.splice(t,0,e);this.props.actions.reorderCardsWithinLine(r,n,a,o)}),Rd(this,"addSceneCard",e=>{const t=this.buildCard(e),r=this.props.cards.map(e=>e.id);r.splice(e.positionWithinLine,0,null),this.props.actions.addNewCardInChapter(t,r)}),Rd(this,"renderHiddenCards",()=>v.a.createElement("div",{className:"card__hidden-cards"},this.renderCards(!1)))}buildCard(e){const{chapterId:t,lineId:r,isSeries:n}=this.props;return n?Object.assign({},{beatId:t,seriesLineId:r},e):Object.assign({},{chapterId:t,lineId:r},e)}renderCards(e){const{chapterId:t,lineId:r,chapterPosition:n,linePosition:a,color:i,cards:o}=this.props,s=o.length-1;return o.map((c,l)=>{const u=l==o.length-1;return v.a.createElement("div",{key:c.id},v.a.createElement(Ke,null,v.a.createElement(ql,{card:c,chapterId:t,lineId:r,idx:l,chapterPosition:n,linePosition:a,color:i,last:s==l,moveCard:this.moveSceneCardAbove,allowDrop:e})),e?v.a.createElement(Pd,{color:i,positionWithinLine:l,moveCard:this.moveSceneCard,addCard:this.addSceneCard,allowDrop:u,dropPosition:o.length}):null)})}renderBody(){const e=this.props.cards.length,t="vertical"==this.props.ui.orientation;if(this.props.lineIsExpanded||1==e)return v.a.createElement("div",{className:A()("card__cell",{multiple:e>1,vertical:t})},this.renderCards(!0));{let r={borderColor:this.props.color};return this.props.isVisible||(r.opacity="0.1"),v.a.createElement("div",{className:A()("card__cell__overview-cell",{vertical:t})},v.a.createElement(Nd,{component:this.renderHiddenCards,placement:"right",offset:0,disableAnimation:!0},v.a.createElement("div",{className:"card__body",style:r},v.a.createElement("div",{className:"card__title"},Ae()("{num} Scenes",{num:e})))),v.a.createElement(Pd,{color:this.props.color,positionWithinLine:e,moveCard:this.moveSceneCard,addCard:this.addSceneCard,allowDrop:!0}))}}render(){return this.props.cards.length?v.a.createElement(jl.Cell,null,this.renderBody()):v.a.createElement(jl.Cell,null)}}Md.propTypes={cards:_.a.array,chapterId:_.a.number.isRequired,lineId:_.a.number.isRequired,color:_.a.string.isRequired,linePosition:_.a.oneOfType([_.a.string,_.a.number]).isRequired,chapterPosition:_.a.oneOfType([_.a.string,_.a.number]).isRequired,ui:_.a.object.isRequired,isSeries:_.a.bool.isRequired,lineIsExpanded:_.a.bool.isRequired,isVisible:_.a.bool.isRequired,actions:_.a.object.isRequired};var Fd=Object(w.connect)((function(e,t){const r=Object(ko.c)(e.present),n=t.cards.some(e=>r[e.id]);return{ui:e.present.ui,isSeries:Object(so.d)(e.present),lineIsExpanded:Object(mo.a)(e.present)[t.lineId],isVisible:n}}),(function(e){return{actions:Object(E.bindActionCreators)(n,e)}}))(Md);function Ld(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Bd extends b.Component{constructor(e){super(e),Ld(this,"handleDragEnter",e=>{this.setState({dropping:!0})}),Ld(this,"handleDragOver",e=>{this.setState({dropping:!0}),e.preventDefault()}),Ld(this,"handleDragLeave",e=>{this.setState({dropping:!1})}),Ld(this,"handleDrop",e=>{e.stopPropagation(),this.setState({dropping:!1});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.actions.editCardCoordinates(r.cardId,this.props.lineId,this.props.chapterId,this.props.currentTimeline)}),Ld(this,"saveCreate",()=>{const e=this.buildCard(Object($.findDOMNode)(this.refs.titleInput).value);this.props.actions.addCard(e),this.setState({creating:!1})}),Ld(this,"handleFinishCreate",e=>{13===e.which&&this.saveCreate()}),Ld(this,"startCreating",()=>{this.setState({creating:!0})}),Ld(this,"handleCancelCreate",e=>{27===e.which&&this.setState({creating:!1})}),Ld(this,"handleBlur",()=>{if(""===Object($.findDOMNode)(this.refs.titleInput).value)return this.setState({creating:!1}),!1;this.saveCreate(),this.setState({creating:!1})}),this.state={creating:!1,dropping:!1}}buildCard(e){const{chapterId:t,lineId:r}=this.props;return this.props.isSeries?{title:e,beatId:t,seriesLineId:r,positionWithinLine:0}:{title:e,chapterId:t,lineId:r,positionWithinLine:0}}renderBlank(){var e={borderColor:this.props.color};return v.a.createElement("div",{className:A()("blank-card__body",{hover:this.state.dropping}),style:e})}renderCreateNew(){const e={borderColor:this.props.color};return v.a.createElement("div",{className:"card__body",style:e},v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Scene Title")),v.a.createElement(tn.a,{type:"text",autoFocus:!0,ref:"titleInput",bsSize:"small",onBlur:this.handleBlur,onKeyDown:this.handleCancelCreate,onKeyPress:this.handleFinishCreate})))}render(){window.SCROLLWITHKEYS=!this.state.creating;let e=null;e=this.state.creating?this.renderCreateNew():this.renderBlank();const t="vertical"===this.props.orientation;return v.a.createElement(jl.Cell,null,v.a.createElement("div",{className:A()("card__cell",{vertical:t}),onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onClick:this.startCreating},v.a.createElement("div",null,e)))}shouldComponentUpdate(e,t){return this.state.dropping!=t.dropping||(this.state.creating!=t.creating||this.props.color!=e.color)}}Bd.propTypes={chapterId:_.a.number,lineId:_.a.number,color:_.a.string.isRequired,currentTimeline:_.a.oneOfType([_.a.string,_.a.number]),orientation:_.a.string,isSeries:_.a.bool};var qd=Object(w.connect)((function(e){return{currentTimeline:e.present.ui.currentTimeline,orientation:e.present.ui.orientation,isSeries:Object(so.d)(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(n,e)}}))(Bd);function Hd(e){return{type:cr.k,bookId:e}}function zd(e,t,r,n,a){return{type:cr.m,cards:e,lines:t,chapters:r,bookId:n,template:a}}function Ud(e,t){return{type:cr.lb,id:e,title:t}}function Wd(e,t){return{type:cr.kb,id:e,color:t}}function Gd(e,t){return{type:cr.Yb,lines:e,bookId:t}}function Vd(e,t){return{type:cr.Y,id:e,bookId:t}}function Kd(e){return{type:cr.ub,id:e}}function $d(e){return{type:cr.P,id:e}}function Yd(){return{type:cr.s}}function Jd(e,t){return{type:cr.t,cards:e,lines:t}}function Xd(e,t){return{type:cr.sb,id:e,title:t}}function Zd(e,t){return{type:cr.rb,id:e,color:t}}function Qd(e){return{type:cr.ac,lines:e}}function ep(e){return{type:cr.cb,id:e}}function tp(e){return{type:cr.vb,id:e}}function rp(e){return{type:cr.Q,id:e}}function np(e,t){return"horizontal"===t?e:`vertical-${e}`}function ap(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ip extends b.PureComponent{constructor(e){super(e),ap(this,"deleteLine",e=>{e.stopPropagation(),this.props.actions.deleteLine(this.props.line.id)}),ap(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),ap(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0,hovering:!1})}),ap(this,"editTitle",()=>{var e=this.props.line.id;const t=Object($.findDOMNode)(this.refs.titleRef);t&&(this.props.actions.editLineTitle(e,t.value),this.setState({editing:!1,hovering:!1}))}),ap(this,"handleFinishEditingTitle",e=>{13===e.which&&this.editTitle()}),ap(this,"handleBlur",()=>{""!==Object($.findDOMNode)(this.refs.titleRef).value&&(this.editTitle(),this.setState({editing:!1,hovering:!1}))}),ap(this,"handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify(this.props.line)),this.setState({dragging:!0})}),ap(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),ap(this,"handleDragEnter",e=>{this.setState({dropping:!0})}),ap(this,"handleDragOver",e=>(this.setState({dropping:!0}),e.preventDefault(),!1)),ap(this,"handleDragLeave",e=>{this.setState({dropping:!1})}),ap(this,"handleDrop",e=>{e.stopPropagation(),this.setState({dropping:!1});var t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);null!=r.id&&this.props.handleReorder(this.props.line.position,r.position)}),ap(this,"handleEsc",e=>{27===e.which&&this.setState({editing:!1})}),ap(this,"changeColor",e=>{e&&this.props.actions.editLineColor(this.props.line.id,e),this.setState({showColorPicker:!1})}),ap(this,"openColorPicker",()=>{this.setState({showColorPicker:!0})}),ap(this,"startEditing",()=>{this.setState({editing:!0})}),ap(this,"startHovering",()=>{clearTimeout(this.hoverTimeout),this.setState({hovering:!0})}),ap(this,"stopHovering",()=>{this.hoverTimeout=setTimeout(()=>this.setState({hovering:!1}),200)}),ap(this,"toggleLine",()=>{this.props.lineIsExpanded?this.props.actions.collapseLine(this.props.line.id):this.props.actions.expandLine(this.props.line.id)}),ap(this,"renderHoverOptions",()=>{let e=null;return e=this.props.lineIsExpanded?v.a.createElement(C.c,null):v.a.createElement(C.d,null),"vertical"===this.props.ui.orientation?v.a.createElement("div",{className:np("line-title__hover-options",this.props.ui.orientation)},v.a.createElement(re.a,{block:!0,bsSize:"small",onClick:this.startEditing},v.a.createElement(x.a,{glyph:"edit"})),v.a.createElement(re.a,{block:!0,bsSize:"small",onClick:this.openColorPicker},v.a.createElement(x.a,{glyph:"tint"})),v.a.createElement(re.a,{block:!0,bsSize:"small",onClick:this.toggleLine},e),v.a.createElement(re.a,{block:!0,bsSize:"small",onClick:this.handleDelete},v.a.createElement(x.a,{glyph:"trash"}))):v.a.createElement("div",{className:"line-title__hover-options"},v.a.createElement(ie,null,v.a.createElement(re.a,{bsSize:"small",onClick:this.startEditing},v.a.createElement(x.a,{glyph:"edit"})),v.a.createElement(re.a,{bsSize:"small",onClick:this.openColorPicker},v.a.createElement(x.a,{glyph:"tint"})),v.a.createElement(re.a,{bsSize:"small",onClick:this.toggleLine},e),v.a.createElement(re.a,{bsSize:"small",onClick:this.handleDelete},v.a.createElement(x.a,{glyph:"trash"}))))}),this.state={hovering:!1,editing:""===e.line.title,dragging:!1,dropping:!1,showColorPicker:!1,deleting:!1},this.hoverTimeout=null}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.line.title||Ae()("New Plotline"),onDelete:this.deleteLine,onCancel:this.cancelDelete}):null}renderColorPicker(){if(this.state.showColorPicker){var e="colorPicker-"+this.props.line.id;return v.a.createElement(Wo,{key:e,darkMode:this.props.ui.darkMode,color:this.props.line.color,closeDialog:this.changeColor})}return null}renderTitle(){return this.state.editing?v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Ae()("Plotline name")),v.a.createElement(tn.a,{type:"text",defaultValue:this.props.line.title,ref:"titleRef",autoFocus:!0,onKeyDown:this.handleEsc,onBlur:this.handleBlur,onKeyPress:this.handleFinishEditingTitle})):Object(ho.c)(this.props.line.title,50)}render(){this.state.editing&&(window.SCROLLWITHKEYS=!1);let e=A()(np("line-title__body",this.props.ui.orientation),{hover:this.state.hovering,dropping:this.state.dropping}),t="bottom";return"vertical"==this.props.ui.orientation&&(t="right"),v.a.createElement(jl.Cell,null,v.a.createElement("div",{className:np("line-title__cell",this.props.ui.orientation),onMouseEnter:this.startHovering,onMouseLeave:this.stopHovering,onDrop:this.handleDrop},this.renderDelete(),v.a.createElement(Nd,{component:this.renderHoverOptions,open:this.state.hovering,placement:t,hideArrow:!0,offset:0},v.a.createElement("div",{className:e,onClick:this.startEditing,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,draggable:!0},this.renderTitle()))),this.renderColorPicker())}}ip.propTypes={line:_.a.object.isRequired,bookId:_.a.oneOfType([_.a.string,_.a.number]),actions:_.a.object.isRequired,ui:_.a.object.isRequired,lineIsExpanded:_.a.bool.isRequired};var op=Object(w.connect)((function(e,t){return{ui:e.present.ui,lineIsExpanded:Object(mo.a)(e.present)[t.line.id]}}),(function(e,t){let r="series"==t.bookId?f:p;return{actions:Object(E.bindActionCreators)(r,e)}}))(ip);function sp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const cp=150,lp=211,up=100,dp=110;class pp extends b.PureComponent{constructor(...e){super(...e),sp(this,"insert",()=>{const{chapterPosition:e,lineId:t,handleInsert:r}=this.props;r(e,t)})}renderLine(){const{tableLength:e,orientation:t,color:r,zoom:n}=this.props;let a=e;Fl(n)&&(a=e*function(e,{zoomIndex:t,zoomState:r}){let n=Ml.d[t];return"horizontal"==e?1/n:"vertical"==e?.99:void 0}(t,n)),function({zoomState:e,zoomIndex:t}){return null!=t&&null!=t&&(e!==Ml.c||t>Ml.b)}(n)&&(a=1*e);let i={borderColor:r};return"horizontal"==t?i.width=`${a-cp-lp}px`:i.height=`${a-up-dp}px`,v.a.createElement("div",{className:np("line-title__line-line",t),style:i})}render(){const{isInChapterList:e,showLine:t,orientation:r,isLast:n}=this.props;let a=np("insert-scene-wrapper",r),i="scene-list__insert",o=Ae()("Insert Chapter");return t&&(a+=" insert-scene-spacer"),n&&(o=Ae()("Add Chapter"),a+=" append-scene",i+=" append-scene"),e||(o=Ae()("Insert Chapter and a Card")),v.a.createElement(jl.Cell,null,v.a.createElement("div",{title:o,className:np(e?i:"line-list__insert-scene",r),onClick:this.insert},v.a.createElement("div",{className:a},v.a.createElement(x.a,{glyph:"plus"}))),t?this.renderLine():null)}}sp(pp,"propTypes",{orientation:_.a.string,zoom:_.a.object,handleInsert:_.a.func.isRequired,isInChapterList:_.a.bool.isRequired,chapterPosition:_.a.number,lineId:_.a.number,showLine:_.a.bool,color:_.a.string,isLast:_.a.bool,tableLength:_.a.number});var fp=Object(w.connect)((function(e){return{orientation:e.present.ui.orientation,zoom:{zoomState:e.present.ui.zoomState,zoomIndex:e.present.ui.zoomIndex}}}),(function(e){return{}}))(pp);function hp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class mp extends b.PureComponent{constructor(e){super(e),hp(this,"deleteChapter",e=>{e.stopPropagation(),this.props.isSeries?this.props.beatActions.deleteBeat(this.props.chapter.id):this.props.actions.deleteScene(this.props.chapter.id,this.props.ui.currentTimeline)}),hp(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),hp(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0,hovering:!1})}),hp(this,"editTitle",()=>{const e=this.props.chapter.id,t=Object($.findDOMNode)(this.refs.titleRef);if(!t)return null;if(this.props.isSeries){if(""==t.value)return null;this.props.beatActions.editBeatTitle(e,t.value),this.setState({editing:!1,hovering:!1})}else this.props.actions.editSceneTitle(e,t.value||"auto"),this.setState({editing:!1,hovering:!1})}),hp(this,"handleFinishEditing",e=>{13===e.which&&this.editTitle()}),hp(this,"handleBlur",()=>{this.editTitle()}),hp(this,"handleEsc",e=>{27===e.which&&this.setState({editing:!1})}),hp(this,"handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify(this.props.chapter)),this.setState({dragging:!0})}),hp(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),hp(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropping:!0})}),hp(this,"handleDragOver",e=>(this.state.dragging||this.setState({dropping:!0}),e.preventDefault(),!1)),hp(this,"handleDragLeave",e=>{this.state.dragging||this.setState({dropping:!1})}),hp(this,"handleDrop",e=>{if(e.stopPropagation(),!this.state.dragging){this.setState({dropping:!1});var t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);null!=r.id&&r.id!=this.props.chapter.id&&this.props.handleReorder(this.props.chapter.position,r.position)}}),hp(this,"startEditing",()=>{this.setState({editing:!0})}),hp(this,"startHovering",()=>{this.setState({hovering:!0})}),hp(this,"stopHovering",()=>{this.setState({hovering:!1})});let t=""==e.chapter.title;this.state={hovering:!1,editing:t,dragging:!1,dropping:!1,deleting:!1}}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.chapterTitle,onDelete:this.deleteChapter,onCancel:this.cancelDelete}):null}renderHoverOptions(){var e={visibility:"hidden"};return this.state.hovering&&(e.visibility="visible"),"vertical"===this.props.ui.orientation?v.a.createElement("div",{className:np("scene-list__item__hover-options",this.props.ui.orientation),style:e},v.a.createElement(re.a,{block:!0,onClick:this.startEditing},v.a.createElement(x.a,{glyph:"edit"})),v.a.createElement(re.a,{block:!0,onClick:this.handleDelete},v.a.createElement(x.a,{glyph:"trash"}))):v.a.createElement("div",{className:np("scene-list__item__hover-options",this.props.ui.orientation),style:e},v.a.createElement(ie,null,v.a.createElement(re.a,{onClick:this.startEditing},v.a.createElement(x.a,{glyph:"edit"})),v.a.createElement(re.a,{onClick:this.handleDelete},v.a.createElement(x.a,{glyph:"trash"}))))}renderTitle(){const{chapter:e,chapterTitle:t,positionOffset:r,isSeries:n}=this.props;return this.state.editing?v.a.createElement(en.a,null,v.a.createElement(bi.a,null,Object(po.d)(e,r,n)),v.a.createElement(tn.a,{type:"text",defaultValue:e.title,ref:"titleRef",autoFocus:!0,onKeyDown:this.handleEsc,onBlur:this.handleBlur,onKeyPress:this.handleFinishEditing})):v.a.createElement("span",null,Object(ho.c)(t,50))}render(){window.SCROLLWITHKEYS=!this.state.editing;const{chapter:e,ui:t,positionOffset:r,isSeries:n}=this.props;let a=np("scene__body",t.orientation);return this.state.hovering&&(a+=" hover"),this.state.dropping&&(a+=" dropping"),v.a.createElement(jl.Cell,null,v.a.createElement("div",{className:np("scene__cell",t.orientation),title:Object(po.b)(e,r,n),onMouseEnter:this.startHovering,onMouseLeave:this.stopHovering,onDrop:this.handleDrop},this.renderHoverOptions(),this.renderDelete(),v.a.createElement("div",{className:a,onClick:this.startEditing,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},this.renderTitle())))}}mp.propTypes={chapterId:_.a.number.isRequired,handleReorder:_.a.func.isRequired,actions:_.a.object.isRequired,beatActions:_.a.object.isRequired,chapters:_.a.array.isRequired,chapter:_.a.object.isRequired,ui:_.a.object.isRequired,isSeries:_.a.bool,chapterTitle:_.a.string.isRequired,positionOffset:_.a.number.isRequired};var gp=Object(w.connect)(e=>{const t=Object(go.a)(),r=Object(go.b)();return function(e,n){return{chapters:e.present.chapters,chapter:t(e.present,n.chapterId),ui:e.present.ui,isSeries:Object(so.d)(e.present),chapterTitle:r(e.present,n.chapterId),positionOffset:Object(go.d)(e.present)}}},(function(e){return{actions:Object(E.bindActionCreators)(a,e),beatActions:Object(E.bindActionCreators)(i,e)}}))(mp);function bp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class vp extends b.Component{constructor(...e){super(...e),bp(this,"handleReorderChapters",(e,t)=>{const{ui:r,beatActions:n,sceneActions:a,isSeries:i,chapters:o}=this.props,s=Object(fo.e)(e,t,o);i?n.reorderBeats(s):a.reorderScenes(s,r.currentTimeline)}),bp(this,"handleReorderLines",(e,t)=>{const{ui:r,lineActions:n,seriesLineActions:a,isSeries:i,lines:o}=this.props,s=Object(fo.e)(e,t,o);i?a.reorderSeriesLines(s):n.reorderLines(s,r.currentTimeline)}),bp(this,"handleInsertNewChapter",e=>{const{ui:t,beatActions:r,sceneActions:n,isSeries:a,chapters:i,nextChapterId:o}=this.props,s=Object(po.e)(e,i,o,t.currentTimeline);a?r.reorderBeats(s):n.reorderScenes(s,t.currentTimeline)}),bp(this,"handleAppendChapter",()=>{const{ui:e,beatActions:t,sceneActions:r,isSeries:n}=this.props;n?t.addBeat():r.addScene(e.currentTimeline)}),bp(this,"handleAppendLine",()=>{const{ui:e,lineActions:t,seriesLineActions:r,isSeries:n}=this.props;n?r.addLine():t.addLine(e.currentTimeline)})}renderLastInsertChapterCell(){const{orientation:e}=this.props.ui;return v.a.createElement(fp,{key:"last-insert",isInChapterList:!0,handleInsert:this.handleAppendChapter,isLast:!0,orientation:e})}renderChapters(){const{ui:e,chapters:t}=this.props,r=t.flatMap(t=>{const r=[];return r.push(v.a.createElement(fp,{key:`chapterId-${t.id}-insert`,isInChapterList:!0,chapterPosition:t.position,handleInsert:this.handleInsertNewChapter,orientation:e.orientation})),r.push(v.a.createElement(gp,{key:`chapterId-${t.id}`,chapterId:t.id,handleReorder:this.handleReorderChapters})),r});return[v.a.createElement(jl.Cell,{key:"placeholder"})].concat(r).concat([this.renderLastInsertChapterCell()])}renderLines(){const e=this.props.lines.map(e=>v.a.createElement(op,{key:`line-${e.id}`,line:e,handleReorder:this.handleReorderLines,bookId:this.props.ui.currentTimeline}));return[v.a.createElement(jl.Cell,{key:"placeholder"})].concat(e).concat(v.a.createElement(jl.Row,{key:"insert-line"},v.a.createElement(jl.Cell,null,v.a.createElement("div",{className:np("line-list__append-line",this.props.ui.orientation),onClick:this.handleAppendLine},v.a.createElement("div",{className:np("line-list__append-line-wrapper",this.props.ui.orientation)},v.a.createElement(x.a,{glyph:"plus"}))))))}render(){let e=null;return e="horizontal"===this.props.ui.orientation?this.renderChapters():this.renderLines(),v.a.createElement(jl.Row,null,e)}}vp.propTypes={ui:_.a.object.isRequired,chapters:_.a.array,nextChapterId:_.a.number,lines:_.a.array};var yp=Object(w.connect)((function(e){let t=-1;return t="series"==e.present.ui.currentTimeline?Object(Dc.b)(e.present.beats):Object(Dc.b)(e.present.chapters),{ui:e.present.ui,isSeries:Object(so.d)(e.present),chapters:Object(go.e)(e.present),nextChapterId:t,lines:Object(mo.d)(e.present)}}),(function(e){return{sceneActions:Object(E.bindActionCreators)(a,e),lineActions:Object(E.bindActionCreators)(p,e),beatActions:Object(E.bindActionCreators)(i,e),seriesLineActions:Object(E.bindActionCreators)(f,e)}}))(vp),_p=r(65);function Ep(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wp extends b.Component{constructor(...e){super(...e),Ep(this,"state",{hovering:!1,showTemplatePicker:!1}),Ep(this,"allChapters",[]),Ep(this,"allLines",[]),Ep(this,"allCards",[]),Ep(this,"nextChapterId",null),Ep(this,"nextLineId",null),Ep(this,"nextCardId",null),Ep(this,"newLineMapping",{}),Ep(this,"newChapterOffset",0),Ep(this,"getLast",e=>e[e.length-1]),Ep(this,"getPositionById",e=>e.reduce((e,t)=>(e[t.id]=t.position,e),{})),Ep(this,"addBlankLine",(e,t)=>{const r=Object.assign({},Cr.line,{title:e.name,bookId:t});this.addLines([r],t,!1,e)}),Ep(this,"addChapters",(e,t,r)=>{if(!e)return;const n=(e=Yo()(e,"position")).every(e=>"auto"==e.title);if(this.allChapters.length<2)this.allChapters=e.map(e=>{const n=this.nextChapterId;return++this.nextChapterId,{...e,id:n,bookId:t,fromTemplateId:r.id}});else if(n)this.allChapters.length<e.length&&e.slice(this.allChapters.length).forEach(e=>{const n=this.nextChapterId;++this.nextChapterId;const a=this.getLast(this.allChapters),i={...e,id:n,bookId:t,position:a.position+1,fromTemplateId:r.id};this.allChapters.push(i)});else if(this.allChapters.length<e.length)this.newChapterOffset=this.allChapters.length,e.forEach(e=>{const n=this.nextChapterId;++this.nextChapterId;const a=this.getLast(this.allChapters),i={...e,id:n,bookId:t,position:a.position+1,fromTemplateId:r.id};this.allChapters.push(i)});else{this.addBlankLine(r,t);let n=this.getLast(this.allLines);e.forEach(e=>{const a=this.nextCardId;++this.nextCardId;const i=Object.assign({},Cr.card,{id:a,bookId:t,lineId:n.id,chapterId:this.allChapters[e.position].id,title:e.title,fromTemplateId:r.id});this.allCards.push(i)})}}),Ep(this,"addLines",(e,t,r,n)=>{e&&(e=Yo()(e,"position")).forEach(e=>{const a=this.nextLineId;r&&(this.newLineMapping[e.id]=a);const i=this.getLast(this.allLines),o=i?i.position:0,s=Object(_p.a)(this.allLines.length),c={...e,id:a,bookId:t,position:o+1+e.position,color:s,fromTemplateId:n.id};this.allLines.push(c),++this.nextLineId})}),Ep(this,"addCards",(e,t,r,n)=>{if(!e)return;const a=this.getPositionById(t);let i=!0,o=null;if(!Object.keys(this.newLineMapping).length){i=!1,this.addBlankLine(n,r);const e=this.getLast(this.allLines);e&&(o=e.id)}e.forEach(e=>{const t=this.nextCardId;o=i?this.newLineMapping[e.lineId]:o;const s=a[e.chapterId],c=this.allChapters[s+this.newChapterOffset]||this.allChapters[this.allChapters.length-1],l=c?c.id:0,u={...e,id:t,bookId:r,chapterId:l,lineId:o,fromTemplateId:n.id};this.allCards.push(u),++this.nextCardId})}),Ep(this,"handleChooseTemplate",e=>{const{ui:t,actions:r}=this.props,n=e.templateData;let a=t.currentTimeline;this.nextLineId=this.props.nextLineId,this.nextCardId=this.props.nextCardId,this.nextChapterId=this.props.nextChapterId,this.allChapters=this.props.chapters,this.allLines=this.props.lines,this.allCards=this.props.cards,this.addChapters(n.chapters,a,e),this.addLines(n.lines,a,!0,e),this.addCards(n.cards,n.chapters,a,e),r.addLinesFromTemplate(this.allCards,this.allLines,this.allChapters,a,e),this.setState({showTemplatePicker:!1})})}renderInsertButton(){const{ui:e,actions:t}=this.props;return"series"!=this.props.bookId?v.a.createElement("div",{className:"line-list__append-line"},this.state.hovering?v.a.createElement("div",{className:"line-list__append-line__double"},v.a.createElement("div",{onClick:()=>this.setState({showTemplatePicker:!0,hovering:!1}),className:"template"},Ae()("Use Template")),v.a.createElement("div",{onClick:()=>t.addLine(e.currentTimeline),className:"non-template"},v.a.createElement(x.a,{glyph:"plus"}))):v.a.createElement("div",{className:"line-list__append-line-wrapper"},v.a.createElement(x.a,{glyph:"plus"}))):v.a.createElement("div",{className:"line-list__append-line",onClick:()=>t.addLine(e.currentTimeline)},v.a.createElement("div",{className:"line-list__append-line-wrapper"},v.a.createElement(x.a,{glyph:"plus"})))}renderTemplatePicker(){return this.state.showTemplatePicker?v.a.createElement(wc.a,{type:["plotlines"],modal:!0,isOpen:this.state.showTemplatePicker,close:()=>this.setState({showTemplatePicker:!1}),onChooseTemplate:this.handleChooseTemplate}):null}render(){return v.a.createElement(jl.Row,null,v.a.createElement(jl.Cell,{onMouseEnter:()=>this.setState({hovering:!0}),onMouseLeave:()=>this.setState({hovering:!1})},this.renderInsertButton(),this.renderTemplatePicker()))}shouldComponentUpdate(e,t){return this.state.showTemplatePicker!=t.showTemplatePicker||this.state.hovering!=t.hovering}}Ep(wp,"propTypes",{ui:_.a.object.isRequired,bookId:_.a.oneOfType([_.a.string,_.a.number]),chapters:_.a.array,lines:_.a.array,cards:_.a.array,nextLineId:_.a.number,nextChapterId:_.a.number,nextCardId:_.a.number});var Op=Object(w.connect)((function(e){return{ui:e.present.ui,chapters:Object(go.e)(e.present),lines:Object(mo.b)(e.present),cards:e.present.cards,nextLineId:Object(mo.c)(e.present),nextChapterId:Object(go.c)(e.present),nextCardId:Object(ko.b)(e.present)}}),(function(e,t){let r="series"==t.bookId?f:p;return{actions:Object(E.bindActionCreators)(r,e)}}))(wp);function xp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Cp extends b.Component{constructor(...e){super(...e),xp(this,"state",{tableLength:0}),xp(this,"setLength",()=>{const e=Object($.findDOMNode)(this.props.tableRef);let t=e.scrollWidth;"horizontal"!=this.props.ui.orientation&&(t=e.scrollHeight),this.state.tableLength!=t&&this.setState({tableLength:t})}),xp(this,"handleReorderChapters",(e,t)=>{const r=Object(fo.e)(e,t,this.props.chapters);this.props.isSeries?this.props.beatActions.reorderBeats(r):this.props.sceneActions.reorderScenes(r,this.props.ui.currentTimeline)}),xp(this,"handleReorderLines",(e,t)=>{const r=Object(fo.e)(e,t,this.props.lines);(this.props.isSeries?this.props.seriesLineActions:this.props.lineActions).reorderLines(r,this.props.ui.currentTimeline)}),xp(this,"handleInsertNewChapter",(e,t)=>{const r=Object(po.e)(e,this.props.chapters,this.props.nextChapterId,this.props.ui.currentTimeline);if(this.props.isSeries?this.props.beatActions.reorderBeats(r):this.props.sceneActions.reorderScenes(r,this.props.ui.currentTimeline),t&&r[e]){const n=r[e].id;this.props.cardActions.addCard(this.buildCard(t,n))}}),xp(this,"handleAppendChapter",()=>{this.props.isSeries?this.props.beatActions.addBeat():this.props.sceneActions.addScene(this.props.ui.currentTimeline)})}componentDidMount(){this.setLength()}componentDidUpdate(){this.setLength()}componentWillReceiveProps(e){}chapterMapping(){return this.props.chapters.reduce((e,t)=>(e[t.position]=t.id,e),{})}lineMapping(){return this.props.lines.reduce((e,t)=>(e[t.position]=t,e),{})}buildCard(e,t){return this.props.isSeries?Object.assign({},Cr.card,{beatId:t,seriesLineId:e}):Object.assign({},Cr.card,{chapterId:t,lineId:e})}renderLines(){const e=this.chapterMapping(),t=Object.keys(e);return this.props.lines.map(r=>v.a.createElement(jl.Row,{key:`lineId-${r.id}`},v.a.createElement(op,{line:r,handleReorder:this.handleReorderLines,bookId:this.props.ui.currentTimeline}),this.renderCardsByChapter(r,e,t))).concat(v.a.createElement(Op,{key:"insert-line",bookId:this.props.ui.currentTimeline}))}renderChapters(){const e=this.lineMapping(),t=Object.keys(e),{chapters:r}=this.props;return r.map(r=>{const n=t.flatMap(t=>{const n=e[t];return v.a.createElement(fp,{key:`${t}-insert`,isInChapterList:!1,chapterPosition:r.position,handleInsert:this.handleInsertNewChapter,color:n.color,showLine:0==r.position,tableLength:this.state.tableLength})});return[v.a.createElement(jl.Row,{key:`chapterId-${r.id}`},v.a.createElement(fp,{isInChapterList:!0,chapterPosition:r.position,handleInsert:this.handleInsertNewChapter}),n),v.a.createElement(jl.Row,{key:`chapterId-${r.id}-insert`},v.a.createElement(gp,{chapterId:r.id,handleReorder:this.handleReorderChapters}),this.renderCardsByLine(r,e,t))]}).concat(v.a.createElement(jl.Row,{key:"last-insert"},v.a.createElement(fp,{isInChapterList:!0,handleInsert:this.handleAppendChapter,isLast:!0})))}renderRows(){return"horizontal"===this.props.ui.orientation?this.renderLines():this.renderChapters()}renderCardsByChapter(e,t,r){const{cardMap:n}=this.props;return r.flatMap(r=>{const a=[],i=t[r];a.push(v.a.createElement(fp,{key:`${r}-insert`,isInChapterList:!1,chapterPosition:Number(r),lineId:e.id,handleInsert:this.handleInsertNewChapter,showLine:0==r,color:e.color,tableLength:this.state.tableLength}));const o=n[`${e.id}-${i}`],s=`${o?"card":"blank"}-${r}-${e.position}`;return o?a.push(v.a.createElement(Fd,{key:s,cards:o,chapterId:i,lineId:e.id,chapterPosition:r,linePosition:e.position,color:e.color})):a.push(v.a.createElement(qd,{chapterId:i,lineId:e.id,key:s,color:e.color})),a})}renderCardsByLine(e,t,r){const{cardMap:n}=this.props;return r.flatMap(r=>{const a=[],i=t[r],o=n[`${i.id}-${e.id}`],s=`${o?"card":"blank"}-${e.position}-${r}`;return o?a.push(v.a.createElement(Fd,{key:s,cards:o,chapterId:e.id,lineId:i.id,chapterPosition:e.position,linePosition:r,color:i.color})):a.push(v.a.createElement(qd,{chapterId:e.id,lineId:i.id,key:s,color:i.color})),a})}render(){const e=this.renderRows();return[v.a.createElement(yp,{key:"top-row"}),e]}}Cp.propTypes={chapters:_.a.array,nextChapterId:_.a.number,beats:_.a.array,lines:_.a.array,seriesLines:_.a.array,cardMap:_.a.object.isRequired,ui:_.a.object.isRequired,tableRef:_.a.object};var kp=Object(w.connect)((function(e){let t=-1;return t="series"==e.present.ui.currentTimeline?Object(Dc.b)(e.present.beats):Object(Dc.b)(e.present.chapters),{chapters:Object(go.e)(e.present),nextChapterId:t,lines:Object(mo.d)(e.present),cardMap:Object(ko.a)(e.present),ui:e.present.ui,isSeries:Object(so.d)(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(O,e),sceneActions:Object(E.bindActionCreators)(a,e),lineActions:Object(E.bindActionCreators)(p,e),cardActions:Object(E.bindActionCreators)(n,e),beatActions:Object(E.bindActionCreators)(i,e),seriesLineActions:Object(E.bindActionCreators)(f,e)}}))(Cp);const Ip=Object(Jo.a)(e=>e.books.allIds,e=>e.length>1);Object(Jo.a)(e=>e.books,e=>e.ui.currentTimeline,(e,t)=>"series"==t?[]:e[t].timelineTemplates);function jp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Sp extends b.Component{constructor(...e){super(...e),jp(this,"state",{deleting:!1}),jp(this,"clearTimeline",e=>{e.stopPropagation(),this.setState({deleting:!1}),this.props.actions.resetTimeline(this.props.bookId)})}renderDelete(){if(!this.state.deleting)return null;const e=Ae()("Are you sure you want to clear everything in this timeline?");return v.a.createElement(Ei.a,{onDelete:this.clearTimeline,onCancel:()=>this.setState({deleting:!1}),customText:e,notSubmit:!0})}render(){return v.a.createElement(Kt,null,v.a.createElement(re.a,{bsSize:"small",onClick:()=>this.setState({deleting:!0})},v.a.createElement(x.a,{glyph:"refresh"})," ",Ae()("Clear")),this.renderDelete())}}Sp.propTypes={bookId:_.a.oneOfType([_.a.number,_.a.string]).isRequired};var Tp=Object(w.connect)((function(e){return{bookId:Object(so.c)(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(O,e)}}))(Sp);function Ap(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Np=g.remote.getCurrentWindow();var Dp=null;class Pp extends b.Component{constructor(e){super(e),Ap(this,"updateZoom",e=>{const t=function(e,{zoomIndex:t,zoomState:r,orientation:n}){let a=Ml.d[t];return e&&r===Ml.a&&(a="horizontal"===n?(window.outerWidth-10)/e.scrollWidth:(window.outerHeight-150)/e.scrollHeight),`scale(${a}, ${a})`}(this.tableRef,e);this.tableRef.children[0].style.transform=t}),Ap(this,"zoomLabel",()=>this.props.ui.zoomState===Ml.a?"fit":`${Ml.d[this.props.ui.zoomIndex]}x`),Ap(this,"updateFilter",e=>{this.props.actions.setTimelineFilter({...e})}),Ap(this,"clearFilter",()=>{this.props.actions.setTimelineFilter({tag:[],character:[],place:[]})}),Ap(this,"scrollDistance",()=>"vertical"===this.props.ui.orientation?window.innerHeight-165:window.innerWidth-200),Ap(this,"scrollRight",()=>{this.setState({manualScroll:!0}),clearInterval(Dp),this.setState({scrollTarget:this.state.scrollTarget+this.scrollDistance()}),Dp=setInterval(this.increaseScroll,10),setTimeout(()=>{clearInterval(Dp)},500)}),Ap(this,"scrollLeft",()=>{this.setState({manualScroll:!0}),clearInterval(Dp),this.setState({scrollTarget:this.state.scrollTarget-this.scrollDistance()}),Dp=setInterval(this.decreaseScroll,10),setTimeout(()=>{clearInterval(Dp)},500)}),Ap(this,"scrollBeginning",()=>{this.setState({manualScroll:!0}),clearInterval(Dp),this.setState({scrollTarget:0}),Dp=setInterval(this.decreaseScroll,10),setTimeout(()=>{clearInterval(Dp)},3e3)}),Ap(this,"scrollMiddle",()=>{this.setState({manualScroll:!0}),clearInterval(Dp);var e=this.tableRef.scrollWidth/2-window.innerWidth/2;"vertical"===this.props.ui.orientation&&(e=this.tableRef.scrollHeight/2),this.setState({scrollTarget:e}),Dp=this.tableRef.scrollLeft>e?setInterval(this.decreaseScroll,10):setInterval(this.increaseScroll,10),setTimeout(()=>{clearInterval(Dp)},1500)}),Ap(this,"scrollEnd",()=>{this.setState({manualScroll:!0}),clearInterval(Dp);var e=this.tableRef.scrollWidth;"vertical"===this.props.ui.orientation&&(e=this.tableRef.scrollHeight),this.setState({scrollTarget:e}),Dp=setInterval(this.increaseScroll,10),setTimeout(()=>{clearInterval(Dp)},3e3)}),Ap(this,"increaseScroll",()=>{"vertical"===this.props.ui.orientation?this.tableRef.scrollTop>=this.state.scrollTarget?this.clearManualScroll():this.tableRef.scrollTop+=100:this.tableRef.scrollLeft>=this.state.scrollTarget?this.clearManualScroll():this.tableRef.scrollLeft+=100}),Ap(this,"decreaseScroll",()=>{"vertical"===this.props.ui.orientation?this.tableRef.scrollTop<=this.state.scrollTarget?this.clearManualScroll():this.tableRef.scrollTop-=100:this.tableRef.scrollLeft<=this.state.scrollTarget?this.clearManualScroll():this.tableRef.scrollLeft-=100}),Ap(this,"clearManualScroll",()=>{clearInterval(Dp),this.setState({manualScroll:!1})}),Ap(this,"scrollHandler",e=>{this.state.manualScroll||this.updateScrollLeft(this.props.ui.orientation)}),Ap(this,"updateScrollLeft",(e="horizontal")=>{if(!this.tableRef)return;let t=this.tableRef.scrollLeft;"vertical"===e&&(t=this.tableRef.scrollHeight),this.setState({scrollLeft:t,scrollTarget:t})}),Ap(this,"flipOrientation",()=>{let e="horizontal"===this.props.ui.orientation?"vertical":"horizontal";this.props.actions.changeOrientation(e),this.props.actions.resetZoom(),this.updateScrollLeft(e)}),Ap(this,"toggleExpanded",()=>{this.props.ui.timelineIsExpanded?this.props.actions.collapseTimeline():this.props.actions.expandTimeline()}),Ap(this,"startSaveAsTemplate",()=>{g.ipcRenderer.sendTo(Np.webContents.id,"save-as-template-start","plotlines")}),this.state={scrollLeft:0,scrollTarget:0,manualScroll:!1,mounted:!1},this.tableRef=null}componentDidMount(){this.tableRef.onscroll=this.scrollHandler;const{zoomIndex:e}=this.props.ui;e?this.updateZoom(this.props.ui):this.props.actions.resetZoom(),setTimeout(()=>this.setState({mounted:!0}),100)}componentWillReceiveProps(e){const{ui:t}=this.props;if(e.ui.zoomState!=t.zoomState?"fit"!=e.ui.zoomState&&this.updateZoom(e.ui):this.updateZoom(e.ui),e.ui.currentTimeline!=t.currentTimeline&&(this.setState({mounted:!1}),setTimeout(()=>this.setState({mounted:!0}),100)),e.ui.orientation!=t.orientation&&(this.setState({mounted:!1}),setTimeout(()=>this.setState({mounted:!0}),100)),e.ui.zoomIndex!=t.zoomIndex||e.ui.zoomState!=t.zoomState){this.setState({mounted:!1});const r="fit"==e.ui.zoomState&&null==t.zoomState,n=e.ui;setTimeout(()=>{this.setState({mounted:!0}),r&&this.updateZoom(n)},100)}}componentWillUnmount(){this.tableRef.onScroll=null,this.tableRef=null}scrollTo(e,t){setTimeout(()=>{this.tableRef.scrollTop=t,this.tableRef.scrollLeft=e+300-window.outerWidth/2},10)}renderSubNav(){const{ui:e,file:t,filterIsEmpty:r,canSaveTemplate:n}=this.props;let a="option-vertical",i="menu-left",o="menu-right",s=null,c=null;e.timelineIsExpanded?(s=Ae()("Collapse"),c=v.a.createElement(C.c,null)):(s=Ae()("Expand"),c=v.a.createElement(C.d,null)),"vertical"===e.orientation&&(a="option-horizontal",i="menu-up",o="menu-down");let l=v.a.createElement(Je,{id:"filter"},v.a.createElement(vl,{filteredItems:this.props.ui.timelineFilter,updateItems:this.updateFilter})),u=v.a.createElement(nt,{onClick:this.clearFilter,bsStyle:"warning"},v.a.createElement(x.a,{glyph:"remove-sign"}),"  ",Ae()("Timeline is filtered"));return r&&(u=v.a.createElement("span",null)),v.a.createElement(qt,{className:A()("subnav__container",{darkmode:e.darkMode})},v.a.createElement(Wt,{bsStyle:"pills"},v.a.createElement(Kt,null,v.a.createElement(sr,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:l},v.a.createElement(re.a,{bsSize:"small"},v.a.createElement(x.a,{glyph:"filter"})," ",Ae()("Filter"))),u),v.a.createElement(Kt,null,v.a.createElement(re.a,{bsSize:"small",onClick:this.flipOrientation},v.a.createElement(x.a,{glyph:a})," ",Ae()("Flip"))),v.a.createElement(Kt,null,v.a.createElement(re.a,{bsSize:"small",onClick:this.toggleExpanded},c," ",s)),v.a.createElement(Kt,null,v.a.createElement("span",{className:"subnav__container__label"},Ae()("Zoom")),v.a.createElement("span",{className:"subnav__container__label"}," (",this.zoomLabel(),"): "),v.a.createElement(ie,{bsSize:"small"},v.a.createElement(re.a,{onClick:this.props.actions.increaseZoom},v.a.createElement(x.a,{glyph:"plus-sign"})),v.a.createElement(re.a,{onClick:this.props.actions.decreaseZoom},v.a.createElement(x.a,{glyph:"minus-sign"})),v.a.createElement(re.a,{onClick:this.props.actions.fitZoom},Ae()("Fit")),v.a.createElement(re.a,{onClick:this.props.actions.resetZoom},Ae()("Reset")))),v.a.createElement(Kt,null,v.a.createElement("span",{className:"subnav__container__label"},Ae()("Scroll"),": "),v.a.createElement(ie,{bsSize:"small"},v.a.createElement(re.a,{onClick:this.scrollLeft},v.a.createElement(x.a,{glyph:i})),v.a.createElement(re.a,{onClick:this.scrollRight},v.a.createElement(x.a,{glyph:o})),v.a.createElement(re.a,{onClick:this.scrollBeginning},Ae()("Beginning")),v.a.createElement(re.a,{onClick:this.scrollMiddle},Ae()("Middle")),v.a.createElement(re.a,{onClick:this.scrollEnd},Ae()("End")))),n?v.a.createElement(Kt,null,v.a.createElement(re.a,{bsSize:"small",onClick:this.startSaveAsTemplate},v.a.createElement(C.n,{className:"svg-save-template"})," ",Ae()("Save as Template"))):null,v.a.createElement(Tp,null),v.a.createElement(No,{fileName:t.fileName,bookId:e.currentTimeline})))}renderBody(){return this.state.mounted?v.a.createElement(kp,{tableRef:this.tableRef}):v.a.createElement(_i,null)}render(){const{ui:e}=this.props;return v.a.createElement("div",{id:"timelineview__container",className:A()("container-with-sub-nav",{darkmode:e.darkMode})},this.renderSubNav(),v.a.createElement("div",{id:"timelineview__root"},v.a.createElement(jl.StickyTable,{leftColumnZ:5,headerZ:5,wrapperRef:e=>this.tableRef=e,className:A()({darkmode:e.darkMode,vertical:"vertical"==e.orientation})},this.renderBody())))}}Pp.propTypes={file:_.a.object.isRequired,ui:_.a.object.isRequired,filterIsEmpty:_.a.bool.isRequired,canSaveTemplate:_.a.bool.isRequired};var Rp=Object(w.connect)((function(e){return{file:e.present.file,ui:e.present.ui,filterIsEmpty:Object(so.g)(e.present),canSaveTemplate:1==Object(so.c)(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(O,e)}}))(Pp);var Mp=v.a.memo(()=>v.a.createElement(Ke,null,v.a.createElement(Rp,null)));function Fp(e){return{type:cr.qb,attributes:e}}function Lp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Bp extends b.Component{constructor(...e){super(...e),Lp(this,"state",{editing:!1}),Lp(this,"saveEdit",()=>{let e=Object($.findDOMNode)(this.refs.name).value,t=Object($.findDOMNode)(this.refs.premise).value,r=Object($.findDOMNode)(this.refs.genre).value,n=Object($.findDOMNode)(this.refs.theme).value;this.props.actions.editSeries({name:e,premise:t,genre:r,theme:n}),this.setState({editing:!1})}),Lp(this,"checkForEdits",()=>{const{series:e}=this.props,t=Object.keys(this.refs).some(t=>Object($.findDOMNode)(this.refs[t]).value!=e[t]);this.setState({editing:t})})}componentWillUnmount(){this.state.editing&&this.saveEdit()}renderToolBar(){return v.a.createElement(rn.a,{className:A()({invisible:!this.state.editing})},v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveEdit},Ae()("Save")))}renderBody(){const{series:e}=this.props;return v.a.createElement(Ya.a,{horizontal:!0},v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:1},Ae()("Name")),v.a.createElement(Ja.a,{sm:4},v.a.createElement(tn.a,{type:"text",ref:"name",defaultValue:e.name,onChange:this.checkForEdits})),v.a.createElement(Ja.a,{componentClass:bi.a,sm:1},Ae()("Premise")),v.a.createElement(Ja.a,{sm:4},v.a.createElement(tn.a,{type:"text",ref:"premise",defaultValue:e.premise,onChange:this.checkForEdits}))),v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:1},Ae()("Genre")),v.a.createElement(Ja.a,{sm:4},v.a.createElement(tn.a,{type:"text",ref:"genre",defaultValue:e.genre,onChange:this.checkForEdits})),v.a.createElement(Ja.a,{componentClass:bi.a,sm:1},Ae()("Theme")),v.a.createElement(Ja.a,{sm:4},v.a.createElement(tn.a,{type:"text",ref:"theme",defaultValue:e.theme,onChange:this.checkForEdits}))))}render(){return v.a.createElement("div",{className:"edit-book__container"},this.renderBody(),v.a.createElement(gi,null,v.a.createElement(Ja.a,{sm:10},this.renderToolBar())))}}Lp(Bp,"propTypes",{ui:_.a.object.isRequired,series:_.a.object.isRequired,actions:_.a.object.isRequired});var qp=Object(w.connect)((function(e){return{ui:e.present.ui,series:e.present.series}}),(function(e){return{actions:Object(E.bindActionCreators)(h,e)}}))(Bp);function Hp(){return{type:cr.b,book:Cr.book}}function zp(e,t){return{type:cr.fb,id:e,attributes:t}}function Up(e){return{type:cr.U,id:e}}function Wp(e){return{type:cr.Vb,ids:e}}function Gp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Vp extends b.Component{constructor(...e){super(...e),Gp(this,"saveEdit",()=>{const{book:e}=this.props;let t=Object($.findDOMNode)(this.refs.title).value,r=Object($.findDOMNode)(this.refs.premise).value,n=Object($.findDOMNode)(this.refs.genre).value,a=Object($.findDOMNode)(this.refs.theme).value;this.props.actions.editBook(e.id,{title:t,premise:r,genre:n,theme:a}),this.props.cancel()})}renderToolBar(){return v.a.createElement(rn.a,null,v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveEdit},Ae()("Save")),v.a.createElement(re.a,{onClick:this.props.cancel},Ae()("Cancel")))}renderBody(){const{book:e}=this.props;return v.a.createElement(Ya.a,{horizontal:!0},v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:3},Ae()("Book #")),v.a.createElement(Ja.a,{sm:8},v.a.createElement("span",{className:"lead"},this.props.bookNumber))),v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:3},Ae()("Title")),v.a.createElement(Ja.a,{sm:8},v.a.createElement(tn.a,{type:"text",ref:"title",defaultValue:e.title}))),v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:3},Ae()("Premise")),v.a.createElement(Ja.a,{sm:8},v.a.createElement(tn.a,{type:"text",ref:"premise",defaultValue:e.premise}))),v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:3},Ae()("Genre")),v.a.createElement(Ja.a,{sm:8},v.a.createElement(tn.a,{type:"text",ref:"genre",defaultValue:e.genre}))),v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:3},Ae()("Theme")),v.a.createElement(Ja.a,{sm:8},v.a.createElement(tn.a,{type:"text",ref:"theme",defaultValue:e.theme}))))}render(){return v.a.createElement($a.a,{show:!0,onHide:this.props.cancel,dialogClassName:A()("book-dialog",{darkmode:this.props.ui.darkMode})},v.a.createElement($a.a.Body,null,this.renderBody()),v.a.createElement($a.a.Footer,null,this.renderToolBar()))}}Gp(Vp,"propTypes",{bookId:_.a.number.isRequired,cancel:_.a.func.isRequired,ui:_.a.object.isRequired,book:_.a.object,bookNumber:_.a.number,actions:_.a.object.isRequired});var Kp=Object(w.connect)((function(e,t){return{ui:e.present.ui,book:e.present.books[t.bookId],bookNumber:e.present.books.allIds.indexOf(t.bookId)+1}}),(function(e){return{actions:Object(E.bindActionCreators)(m,e)}}))(Vp);function $p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Yp extends b.Component{constructor(...e){super(...e),$p(this,"state",{editing:!1,hovering:!1,deleting:!1}),$p(this,"chooseImage",e=>{const t=-1==e?null:e;this.props.actions.editBook(this.props.book.id,{imageId:t})}),$p(this,"deleteBook",e=>{e.stopPropagation(),this.props.actions.deleteBook(this.props.book.id)}),$p(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),$p(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),$p(this,"navigateToBook",()=>{this.props.uiActions.navigateToBookTimeline(this.props.book.id)})}renderDelete(){return this.state.deleting?v.a.createElement(Ei.a,{name:this.props.book.title||Ae()("Untitled"),onDelete:this.deleteBook,onCancel:this.cancelDelete}):null}renderHoverOptions(){return v.a.createElement("div",{className:A()("hover-options",{hovering:this.state.hovering})},v.a.createElement(ie,null,v.a.createElement(re.a,{title:Ae()("Edit"),onClick:()=>this.setState({editing:!0})},v.a.createElement(x.a,{glyph:"edit"})),v.a.createElement(Ci,{chooseImage:this.chooseImage,selectedId:this.props.book.imageId,iconOnly:!0,deleteButton:!0}),this.props.canDelete?v.a.createElement(re.a,{bsStyle:"danger",onClick:this.handleDelete},v.a.createElement(x.a,{glyph:"trash"})):null))}renderDialog(){if(!this.state.editing)return null;const{book:e,bookNumber:t}=this.props;return v.a.createElement(Kp,{bookId:e.id,bookNumber:t,modal:!0,cancel:()=>this.setState({editing:!1})})}renderImage(){const{book:e}=this.props;return e.imageId?v.a.createElement(vi.a,{responsive:!0,imageId:e.imageId}):null}renderTitle(){const{book:e}=this.props;return e.imageId?null:v.a.createElement("h6",null,e.title||Ae()("Untitled"))}render(){const{book:e,ui:t}=this.props;return e?v.a.createElement("div",{className:A()("book-container",{darkmode:t.darkMode}),onMouseEnter:()=>this.setState({hovering:!0}),onMouseLeave:()=>this.setState({hovering:!1})},this.renderHoverOptions(),this.renderDialog(),this.renderDelete(),v.a.createElement("div",{className:A()("book",{hovering:this.state.hovering}),onClick:this.navigateToBook},v.a.createElement("div",{className:"front"},v.a.createElement("div",{className:"cover"},this.renderTitle(),v.a.createElement("div",{className:"book-container__cover-image-wrapper"},this.renderImage()))),v.a.createElement("div",{className:"left-side"},v.a.createElement("h2",null,v.a.createElement("span",null,e.title||Ae()("Untitled")))))):v.a.createElement("div",{className:A()("book-container","add",{darkmode:t.darkMode})},v.a.createElement("div",{className:"book add",onClick:this.props.addBook},v.a.createElement("div",{className:"front"},v.a.createElement("div",{className:"cover add"},v.a.createElement("div",{className:"book-container__add"},v.a.createElement("h1",null,v.a.createElement(x.a,{glyph:"plus"}))))),v.a.createElement("div",{className:"left-side add"},v.a.createElement("h2",null,v.a.createElement("span",null,Ae()("New Book"))))))}}$p(Yp,"propTypes",{bookId:_.a.number,bookNumber:_.a.number,addBook:_.a.func,ui:_.a.object.isRequired,canDelete:_.a.bool,book:_.a.object});var Jp=Object(w.connect)((function(e,t){return{ui:e.present.ui,book:e.present.books[t.bookId],canDelete:Ip(e.present)}}),(function(e){return{actions:Object(E.bindActionCreators)(m,e),uiActions:Object(E.bindActionCreators)(O,e)}}))(Yp);function Xp(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Zp(){return(Zp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Qp=r(113),ef=function(){return Math.random().toString(36).substring(7).split("").join(".")},tf={INIT:"@@redux/INIT"+ef(),REPLACE:"@@redux/REPLACE"+ef(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ef()}};function rf(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function nf(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(nf)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var a=e,i=t,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function d(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,l();var r=s.indexOf(e);s.splice(r,1),o=null}}}function p(e){if(!rf(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,i=a(i,e)}finally{c=!1}for(var t=o=s,r=0;r<t.length;r++){(0,t[r])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,p({type:tf.REPLACE})}function h(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(u())}return r(),{unsubscribe:t(r)}}})[Qp.a]=function(){return this},e}return p({type:tf.INIT}),(n={dispatch:p,subscribe:d,getState:u,replaceReducer:f})[Qp.a]=h,n}function af(e,t){return function(){return t(e.apply(this,arguments))}}function of(e,t){if("function"==typeof e)return af(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var a=e[n];"function"==typeof a&&(r[n]=af(a,t))}return r}function sf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cf(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function lf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cf(r,!0).forEach((function(t){sf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cf(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uf(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var df=v.a.createContext(null);var pf=function(e){e()},ff={notify:function(){}};function hf(){var e=pf,t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,a=r={callback:e,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var mf=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=ff,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=hf())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=ff)},e}();var gf=function(e){var t=e.store,r=e.context,n=e.children,a=Object(b.useMemo)((function(){var e=new mf(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=Object(b.useMemo)((function(){return t.getState()}),[t]);Object(b.useEffect)((function(){var e=a.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,i]);var o=r||df;return v.a.createElement(o.Provider,{value:a},n)};function bf(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}var vf=r(172),yf=r.n(vf),_f=r(383),Ef="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?b.useLayoutEffect:b.useEffect,wf=[],Of=[null,null];function xf(e,t){var r=e[1];return[t.payload,r+1]}function Cf(e,t,r){Ef((function(){return e.apply(void 0,t)}),r)}function kf(e,t,r,n,a,i,o){e.current=n,t.current=a,r.current=!1,i.current&&(i.current=null,o())}function If(e,t,r,n,a,i,o,s,c,l){if(e){var u=!1,d=null,p=function(){if(!u){var e,r,p=t.getState();try{e=n(p,a.current)}catch(e){r=e,d=e}r||(d=null),e===i.current?o.current||c():(i.current=e,s.current=e,o.current=!0,l({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=p,r.trySubscribe(),p();return function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d}}}var jf=function(){return[null,0]};function Sf(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,a=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,i=r.methodName,o=void 0===i?"connectAdvanced":i,s=r.renderCountProp,c=void 0===s?void 0:s,l=r.shouldHandleStateChanges,u=void 0===l||l,d=r.storeKey,p=void 0===d?"store":d,f=(r.withRef,r.forwardRef),h=void 0!==f&&f,m=r.context,g=void 0===m?df:m,y=bf(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),_=g;return function(t){var r=t.displayName||t.name||"Component",n=a(r),i=Zp({},y,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:u,storeKey:p,displayName:n,wrappedComponentName:r,WrappedComponent:t}),s=y.pure;var l=s?b.useMemo:function(e){return e()};function d(r){var n=Object(b.useMemo)((function(){var e=r.forwardedRef,t=bf(r,["forwardedRef"]);return[r.context,e,t]}),[r]),a=n[0],o=n[1],s=n[2],c=Object(b.useMemo)((function(){return a&&a.Consumer&&Object(_f.isContextConsumer)(v.a.createElement(a.Consumer,null))?a:_}),[a,_]),d=Object(b.useContext)(c),p=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var f=p?r.store:d.store,h=Object(b.useMemo)((function(){return function(t){return e(t.dispatch,i)}(f)}),[f]),m=Object(b.useMemo)((function(){if(!u)return Of;var e=new mf(f,p?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,p,d]),g=m[0],y=m[1],E=Object(b.useMemo)((function(){return p?d:Zp({},d,{subscription:g})}),[p,d,g]),w=Object(b.useReducer)(xf,wf,jf),O=w[0][0],x=w[1];if(O&&O.error)throw O.error;var C=Object(b.useRef)(),k=Object(b.useRef)(s),I=Object(b.useRef)(),j=Object(b.useRef)(!1),S=l((function(){return I.current&&s===k.current?I.current:h(f.getState(),s)}),[f,O,s]);Cf(kf,[k,C,j,s,S,I,y]),Cf(If,[u,f,g,h,k,C,j,I,y,x],[f,g,h]);var T=Object(b.useMemo)((function(){return v.a.createElement(t,Zp({},S,{ref:o}))}),[o,t,S]);return Object(b.useMemo)((function(){return u?v.a.createElement(c.Provider,{value:E},T):T}),[c,T,E])}var f=s?v.a.memo(d):d;if(f.WrappedComponent=t,f.displayName=n,h){var m=v.a.forwardRef((function(e,t){return v.a.createElement(f,Zp({},e,{forwardedRef:t}))}));return m.displayName=n,m.WrappedComponent=t,yf()(m,t)}return yf()(f,t)}}function Tf(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Af(e,t){if(Tf(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Tf(e[r[a]],t[r[a]]))return!1;return!0}function Nf(e){return function(t,r){var n=e(t,r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function Df(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Pf(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=Df(e);var a=n(t,r);return"function"==typeof a&&(n.mapToProps=a,n.dependsOnOwnProps=Df(a),a=n(t,r)),a},n}}var Rf=[function(e){return"function"==typeof e?Pf(e):void 0},function(e){return e?void 0:Nf((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Nf((function(t){return of(e,t)})):void 0}];var Mf=[function(e){return"function"==typeof e?Pf(e):void 0},function(e){return e?void 0:Nf((function(){return{}}))}];function Ff(e,t,r){return Zp({},r,{},e,{},t)}var Lf=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,a=r.pure,i=r.areMergedPropsEqual,o=!1;return function(t,r,s){var c=e(t,r,s);return o?a&&i(c,n)||(n=c):(o=!0,n=c),n}}}(e):void 0},function(e){return e?void 0:function(){return Ff}}];function Bf(e,t,r,n){return function(a,i){return r(e(a,i),t(n,i),i)}}function qf(e,t,r,n,a){var i,o,s,c,l,u=a.areStatesEqual,d=a.areOwnPropsEqual,p=a.areStatePropsEqual,f=!1;function h(a,f){var h,m,g=!d(f,o),b=!u(a,i);return i=a,o=f,g&&b?(s=e(i,o),t.dependsOnOwnProps&&(c=t(n,o)),l=r(s,c,o)):g?(e.dependsOnOwnProps&&(s=e(i,o)),t.dependsOnOwnProps&&(c=t(n,o)),l=r(s,c,o)):b?(h=e(i,o),m=!p(h,s),s=h,m&&(l=r(s,c,o)),l):l}return function(a,u){return f?h(a,u):(s=e(i=a,o=u),c=t(n,o),l=r(s,c,o),f=!0,l)}}function Hf(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,i=bf(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=r(e,i),s=n(e,i),c=a(e,i);return(i.pure?qf:Bf)(o,s,c,e,i)}function zf(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Uf(e,t){return e===t}function Wf(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?Sf:r,a=t.mapStateToPropsFactories,i=void 0===a?Mf:a,o=t.mapDispatchToPropsFactories,s=void 0===o?Rf:o,c=t.mergePropsFactories,l=void 0===c?Lf:c,u=t.selectorFactory,d=void 0===u?Hf:u;return function(e,t,r,a){void 0===a&&(a={});var o=a,c=o.pure,u=void 0===c||c,p=o.areStatesEqual,f=void 0===p?Uf:p,h=o.areOwnPropsEqual,m=void 0===h?Af:h,g=o.areStatePropsEqual,b=void 0===g?Af:g,v=o.areMergedPropsEqual,y=void 0===v?Af:v,_=bf(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=zf(e,i,"mapStateToProps"),w=zf(t,s,"mapDispatchToProps"),O=zf(r,l,"mergeProps");return n(d,Zp({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:w,initMergeProps:O,pure:u,areStatesEqual:f,areOwnPropsEqual:m,areStatePropsEqual:b,areMergedPropsEqual:y},_))}}var Gf=Wf();var Vf;function Kf(e,t){var r=Object(b.useState)((function(){return{inputs:t,result:e()}}))[0],n=Object(b.useRef)(r),a=Boolean(t&&n.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,n.current.inputs))?n.current:{inputs:t,result:e()};return Object(b.useEffect)((function(){n.current=a}),[a]),a.result}Vf=$.unstable_batchedUpdates,pf=Vf;var $f=Kf,Yf=function(e,t){return Kf((function(){return e}),t)};var Jf=function(e,t){if(!e)throw new Error("Invariant failed")},Xf=function(e){var t=e.top,r=e.right,n=e.bottom,a=e.left;return{top:t,right:r,bottom:n,left:a,width:r-a,height:n-t,x:a,y:t,center:{x:(r+a)/2,y:(n+t)/2}}},Zf=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Qf=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},eh={top:0,right:0,bottom:0,left:0},th=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?eh:r,a=e.border,i=void 0===a?eh:a,o=e.padding,s=void 0===o?eh:o,c=Xf(Zf(t,n)),l=Xf(Qf(t,i)),u=Xf(Qf(l,s));return{marginBox:c,borderBox:Xf(t),paddingBox:l,contentBox:u,margin:n,border:i,padding:s}},rh=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&Jf(!1),r},nh=function(e,t){var r,n,a=e.borderBox,i=e.border,o=e.margin,s=e.padding,c=(n=t,{top:(r=a).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return th({borderBox:c,border:i,margin:o,padding:s})},ah=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),nh(e,t)},ih=function(e,t){var r={top:rh(t.marginTop),right:rh(t.marginRight),bottom:rh(t.marginBottom),left:rh(t.marginLeft)},n={top:rh(t.paddingTop),right:rh(t.paddingRight),bottom:rh(t.paddingBottom),left:rh(t.paddingLeft)},a={top:rh(t.borderTopWidth),right:rh(t.borderRightWidth),bottom:rh(t.borderBottomWidth),left:rh(t.borderLeftWidth)};return th({borderBox:e,margin:r,padding:n,border:a})},oh=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return ih(t,r)},sh=r(39),ch=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];t=a,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};function lh(e,t){}lh.bind(null,"warn"),lh.bind(null,"error");function uh(){}function dh(e,t,r){var n=t.map((function(t){var n,a,i=(n=r,a=t.options,Zp({},n,{},a));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){n.forEach((function(e){e()}))}}function ph(e){this.message=e}function fh(e,t){if(!e)throw new ph("Invariant failed")}ph.prototype.toString=function(){return this.message};var hh=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).callbacks=null,t.unbind=uh,t.onWindowError=function(e){var r=t.getCallbacks();r.isDragging()&&r.tryAbort(),e.error instanceof ph&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Xp(t,e);var r=t.prototype;return r.componentDidMount=function(){this.unbind=dh(window,[{eventName:"error",fn:this.onWindowError}])},r.componentWillUnmount=function(){this.unbind()},r.componentDidCatch=function(e){if(!(e instanceof ph))throw e;this.setState({})},r.render=function(){return this.props.children(this.setCallbacks)},t}(v.a.Component),mh=function(e){return e+1},gh=function(e,t){var r=e.droppableId===t.droppableId,n=mh(e.index),a=mh(t.index);return r?"\n      You have moved the item from position "+n+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+n+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},bh=function(e,t,r){return t.droppableId===r.droppableId?"\n      The item "+e+"\n      has been combined with "+r.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+r.draggableId+"\n      in list "+r.droppableId+"\n    "},vh=function(e){return"\n  The item has returned to its starting position\n  of "+mh(e.index)+"\n"},yh="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",_h=function(e){return"\n  You have lifted an item in position "+mh(e.source.index)+"\n"},Eh=function(e){var t=e.destination;if(t)return gh(e.source,t);var r=e.combine;return r?bh(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},wh=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+vh(e.source)+"\n    ";var t=e.destination,r=e.combine;return t?"\n      You have dropped the item.\n      "+gh(e.source,t)+"\n    ":r?"\n      You have dropped the item.\n      "+bh(e.draggableId,e.source,r)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+vh(e.source)+"\n  "},Oh={x:0,y:0},xh=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Ch=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},kh=function(e,t){return e.x===t.x&&e.y===t.y},Ih=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},jh=function(e,t,r){var n;return void 0===r&&(r=0),(n={})[e]=t,n["x"===e?"y":"x"]=r,n},Sh=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Th=function(e,t){return Math.min.apply(Math,t.map((function(t){return Sh(e,t)})))},Ah=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Nh=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Dh=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Ph=function(e,t){return t&&t.shouldClipSubject?function(e,t){var r=Xf({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}(t.pageMarginBox,e):Xf(e)},Rh=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,i=function(e,t,r){var n;return r&&r.increasedBy?Zp({},e,((n={})[t.end]=e[t.end]+r.increasedBy[t.line],n)):e}(function(e,t){return t?Nh(e,t.scroll.diff.displacement):e}(t.marginBox,a),n,r);return{page:t,withPlaceholder:r,active:Ph(i,a)}},Mh=function(e,t){e.frame||fh(!1);var r=e.frame,n=Ch(t,r.scroll.initial),a=Ih(n),i=Zp({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}});return Zp({},e,{frame:i,subject:Rh({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Fh(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Lh(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Bh(e,t){if(e.find)return e.find(t);var r=Lh(e,t);return-1!==r?e[r]:void 0}function qh(e){return Array.prototype.slice.call(e)}var Hh=Object(sh.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),zh=Object(sh.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Uh=Object(sh.a)((function(e){return Fh(e)})),Wh=Object(sh.a)((function(e){return Fh(e)})),Gh=Object(sh.a)((function(e,t){return Wh(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function Vh(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Kh(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var $h=Object(sh.a)((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),Yh=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Jh={point:Oh,value:0},Xh={invisible:{},visible:{},all:[]},Zh={displaced:Xh,displacedBy:Jh,at:null},Qh=function(e,t){return function(r){return e<=r&&r<=t}},em=function(e){var t=Qh(e.top,e.bottom),r=Qh(e.left,e.right);return function(n){if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;var a=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right);if(a&&i)return!0;var o=n.top<e.top&&n.bottom>e.bottom,s=n.left<e.left&&n.right>e.right;return!(!o||!s)||(o&&i||s&&a)}},tm=function(e){var t=Qh(e.top,e.bottom),r=Qh(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)}},rm={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},nm={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},am=function(e){var t=e.target,r=e.destination,n=e.viewport,a=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,o=a?function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:Oh;return Nh(e,r)}(t,r):t;return function(e,t,r){return!!t.subject.active&&r(t.subject.active)(e)}(o,r,i)&&function(e,t,r){return r(t)(e)}(o,n,i)},im=function(e){return am(Zp({},e,{isVisibleThroughFrameFn:em}))},om=function(e){return am(Zp({},e,{isVisibleThroughFrameFn:tm}))};function sm(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce((function(e,t){var s=function(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Xf(Zf(r,n))}(t,n),c=t.descriptor.id;if(e.all.push(c),!im({target:s,destination:r,viewport:a,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var l={draggableId:c,shouldAnimate:function(e,t,r){if("boolean"==typeof r)return r;if(!t)return!0;var n=t.invisible,a=t.visible;if(n[e])return!1;var i=a[e];return!i||i.shouldAnimate}(c,o,i)};return e.visible[c]=l,e}),{all:[],visible:{},invisible:{}})}function cm(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,i=function(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:Xh,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function lm(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,s=e.index,c=e.forceShouldAnimate,l=Yh(t,n);if(null==s)return cm({insideDestination:r,inHomeList:l,displacedBy:i,destination:n});var u=Bh(r,(function(e){return e.descriptor.index===s}));if(!u)return cm({insideDestination:r,inHomeList:l,displacedBy:i,destination:n});var d=$h(t,r),p=r.indexOf(u);return{displaced:sm({afterDragging:d.slice(p),destination:n,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function um(e,t){return Boolean(t.effected[e])}var dm=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,s=e.previousImpact,c=e.viewport,l=e.afterCritical,u=s.at;if(u||fh(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,o=t?i+1:i-1,s=n[0].descriptor.index,c=n[n.length-1].descriptor.index;return o<s||o>(r?c:c+1)?null:o}({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:o});return null==d?null:lm({draggable:n,insideDestination:o,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=a.draggableId,s=n[o].descriptor.index;return um(o,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:a,combine:u.combine,afterCritical:l});return null==p?null:lm({draggable:n,insideDestination:o,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:p})},pm=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=Kh(r);a||fh(!1);var i=a.draggableId,o=n[i].page.borderBox.center,s=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=Boolean(t.visible[n]||t.invisible[n]);return um(n,r)?i?Oh:Ih(a.point):i?a.point:Oh}({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return xh(o,s)},fm=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},hm=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},mm=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return jh(t.line,r.marginBox[t.end]+fm(t,n),hm(t,r.marginBox,n))},gm=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return jh(t.line,r.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,n),hm(t,r.marginBox,n))},bm=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,o=Gh(a.descriptor.id,n),s=r.page,c=a.axis;if(!o.length)return function(e){var t=e.axis,r=e.moveInto,n=e.isMoving;return jh(t.line,r.contentBox[t.start]+fm(t,n),hm(t,r.contentBox,n))}({axis:c,moveInto:a.page,isMoving:s});var l=t.displaced,u=t.displacedBy,d=l.all[0];if(d){var p=n[d];if(um(d,i))return gm({axis:c,moveRelativeTo:p.page,isMoving:s});var f=nh(p.page,u.point);return gm({axis:c,moveRelativeTo:f,isMoving:s})}var h=o[o.length-1];if(h.descriptor.id===r.descriptor.id)return s.borderBox.center;if(um(h.descriptor.id,i)){var m=nh(h.page,Ih(i.displacedBy.point));return mm({axis:c,moveRelativeTo:m,isMoving:s})}return mm({axis:c,moveRelativeTo:h.page,isMoving:s})},vm=function(e,t){var r=e.frame;return r?xh(t,r.scroll.diff.displacement):t},ym=function(e){var t=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,i=e.afterCritical,o=r.page.borderBox.center,s=t.at;return n&&s?"REORDER"===s.type?bm({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:i}):pm({impact:t,draggables:a,afterCritical:i}):o}(e),r=e.droppable;return r?vm(r,t):t},_m=function(e,t){var r=Ch(t,e.scroll.initial),n=Ih(r);return{frame:Xf({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function Em(e,t){return e.map((function(e){return t[e]}))}var wm=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=function(e,t){return xh(e.scroll.diff.displacement,t)}(e.viewport,t),a=Ch(n,r.page.borderBox.center);return xh(r.client.borderBox.center,a)},Om=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=void 0!==o&&o,c=Ch(n,t.page.borderBox.center),l={target:Nh(t.page.borderBox,c),destination:r,withDroppableDisplacement:i,viewport:a};return s?function(e){return am(Zp({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var r=Qh(e.top,e.bottom),n=Qh(e.left,e.right);return function(e){return t===rm?r(e.top)&&r(e.bottom):n(e.left)&&n(e.right)}})}));var t}(l):om(l)},xm=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,c=e.previousClientSelection,l=e.afterCritical;if(!n.isEnabled)return null;var u=Gh(n.descriptor.id,a),d=Yh(r,n),p=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;if(!Vh(i))return null;function o(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return Zp({},i,{at:t})}var s=i.displaced.all,c=s.length?s[0]:null;if(t)return c?o(c):null;var l=$h(r,a);if(!c)return l.length?o(l[l.length-1].descriptor.id):null;var u=Lh(l,(function(e){return e.descriptor.id===c}));-1===u&&fh(!1);var d=u-1;return d<0?null:o(l[d].descriptor.id)}({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:i})||dm({isMovingForward:t,isInHomeList:d,draggable:r,draggables:a,destination:n,insideDestination:u,previousImpact:i,viewport:o,afterCritical:l});if(!p)return null;var f=ym({impact:p,draggable:r,droppable:n,draggables:a,afterCritical:l});if(Om({draggable:r,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:wm({pageBorderBoxCenter:f,draggable:r,viewport:o}),impact:p,scrollJumpRequest:null};var h=Ch(f,s);return{clientSelection:c,impact:function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,o=_m(r,xh(r.scroll.current,i)),s=n.frame?Mh(n,xh(n.frame.scroll.current,i)):n,c=t.displaced,l=sm({afterDragging:Em(c.all,a),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),u=sm({afterDragging:Em(c.all,a),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),d={},p={},f=[c,l,u];return c.all.forEach((function(e){var t=function(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}(e,f);t?p[e]=t:d[e]=!0})),Zp({},t,{displaced:{all:c.all,invisible:d,visible:p}})}({impact:p,viewport:o,destination:n,draggables:a,maxScrollChange:h}),scrollJumpRequest:h}},Cm=function(e){var t=e.subject.active;return t||fh(!1),t},km=function(e,t){var r=e.page.borderBox.center;return um(e.descriptor.id,t)?Ch(r,t.displacedBy.point):r},Im=function(e,t){var r=e.page.borderBox;return um(e.descriptor.id,t)?Nh(r,Ih(t.displacedBy.point)):r},jm=Object(sh.a)((function(e,t){var r=t[e.line];return{value:r,point:jh(e.line,r)}})),Sm=function(e,t){return Zp({},e,{scroll:Zp({},e.scroll,{max:t})})},Tm=function(e,t,r){var n=e.frame;Yh(t,e)&&fh(!1),e.subject.withPlaceholder&&fh(!1);var a=jm(e.axis,t.displaceBy).point,i=function(e,t,r){var n=e.axis;if("virtual"===e.descriptor.mode)return jh(n.line,t[n.line]);var a=e.subject.page.contentBox[n.size],i=Gh(e.descriptor.id,r).reduce((function(e,t){return e+t.client.marginBox[n.size]}),0)+t[n.line]-a;return i<=0?null:jh(n.line,i)}(e,a,r),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n)return Zp({},e,{subject:Rh({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame})});var s=i?xh(n.scroll.max,i):n.scroll.max,c=Sm(n,s);return Zp({},e,{subject:Rh({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c}),frame:c})},Am=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,s=e.viewport,c=e.afterCritical,l=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var s=n.axis,c=Qh(o[s.start],o[s.end]),l=Uh(a).filter((function(e){return e!==n})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return em(i.frame)(Cm(e))})).filter((function(e){var r=Cm(e);return t?o[s.crossAxisEnd]<r[s.crossAxisEnd]:r[s.crossAxisStart]<o[s.crossAxisStart]})).filter((function(e){var t=Cm(e),r=Qh(t[s.start],t[s.end]);return c(t[s.start])||c(t[s.end])||r(o[s.start])||r(o[s.end])})).sort((function(e,r){var n=Cm(e)[s.crossAxisStart],a=Cm(r)[s.crossAxisStart];return t?n-a:a-n})).filter((function(e,t,r){return Cm(e)[s.crossAxisStart]===Cm(r[0])[s.crossAxisStart]}));if(!l.length)return null;if(1===l.length)return l[0];var u=l.filter((function(e){return Qh(Cm(e)[s.start],Cm(e)[s.end])(r[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return Cm(e)[s.start]-Cm(t)[s.start]}))[0]:l.sort((function(e,t){var n=Th(r,Dh(Cm(e))),a=Th(r,Dh(Cm(t)));return n!==a?n-a:Cm(e)[s.start]-Cm(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:s});if(!l)return null;var u=Gh(l.descriptor.id,i),d=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,s=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var l={displaced:Xh,displacedBy:Jh,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=ym({impact:l,draggable:a,droppable:o,draggables:i,afterCritical:c}),d=Yh(a,o)?o:Tm(o,a,i);return Om({draggable:a,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}var p,f=Boolean(t[o.axis.line]<=r.page.borderBox.center[o.axis.line]),h=(p=r.descriptor.index,r.descriptor.id===a.descriptor.id||f?p:p+1),m=jm(o.axis,a.displaceBy);return lm({draggable:a,insideDestination:n,destination:o,viewport:s,displacedBy:m,last:Xh,index:h})}({previousPageBorderBoxCenter:r,destination:l,draggable:n,draggables:i,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical;return a.filter((function(e){return om({target:Im(e,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})})).sort((function(e,r){var a=Sh(t,vm(n,km(e,i))),o=Sh(t,vm(n,km(r,i)));return a<o?-1:o<a?1:e.descriptor.index-r.descriptor.index}))[0]||null}({pageBorderBoxCenter:r,viewport:s,destination:l,insideDestination:u,afterCritical:c}),insideDestination:u,viewport:s,afterCritical:c});if(!d)return null;var p=ym({impact:d,draggable:n,droppable:l,draggables:i,afterCritical:c});return{clientSelection:wm({pageBorderBoxCenter:p,draggable:n,viewport:s}),impact:d,scrollJumpRequest:null}},Nm=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Dm=function(e){var t=e.state,r=e.type,n=function(e,t){var r=Nm(e);return r?t[r]:null}(t.impact,t.dimensions.droppables),a=Boolean(n),i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,s=o.axis.direction,c="vertical"===s&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===s&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(c&&!a)return null;var l="MOVE_DOWN"===r||"MOVE_RIGHT"===r,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return c?xm({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,destination:o,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Am({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,isOver:o,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Pm(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Rm(e){var t=Qh(e.top,e.bottom),r=Qh(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}function Mm(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=Uh(n).filter((function(e){if(!e.isEnabled)return!1;var r,n,a=e.subject.active;if(!a)return!1;if(n=a,!((r=t).left<n.right&&r.right>n.left&&r.top<n.bottom&&r.bottom>n.top))return!1;if(Rm(a)(t.center))return!0;var i=e.axis,o=a.center[i.crossAxisLine],s=t[i.crossAxisStart],c=t[i.crossAxisEnd],l=Qh(a[i.crossAxisStart],a[i.crossAxisEnd]),u=l(s),d=l(c);return!u&&!d||(u?s<o:c>o)}));return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,i=n.map((function(e){var r=e.axis,n=jh(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:Sh(a,n)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:r,candidates:a}):null}var Fm=function(e,t){return Xf(Nh(e,t))};function Lm(e){var t=e.displaced,r=e.id;return Boolean(t.visible[r]||t.invisible[r])}var Bm=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,s=e.afterCritical,c=Fm(r.page.borderBox,t),l=Mm({pageBorderBox:c,draggable:r,droppables:a});if(!l)return Zh;var u,d,p=a[l],f=Gh(p.descriptor.id,n),h=(u=c,(d=p.frame)?Fm(u,d.scroll.diff.value):u);return function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,c=jm(a.axis,t.displaceBy),l=c.value,u=r[s.start],d=r[s.end],p=Bh($h(t,i),(function(e){var t=e.descriptor.id,r=e.page.borderBox,a=r[s.size]/4,i=um(t,o),c=Lm({displaced:n.displaced,id:t});return i?c?d>r[s.start]+a&&d<r[s.end]-a:u>r[s.start]-l+a&&u<r[s.end]-l-a:c?d>r[s.start]+l+a&&d<r[s.end]+l-a:u>r[s.start]+a&&u<r[s.end]-a}));return p?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:i,destination:p,insideDestination:f,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,s=e.afterCritical,c=n.axis,l=jm(n.axis,r.displaceBy),u=l.value,d=t[c.start],p=t[c.end],f=function(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:Bh($h(r,a),(function(e){var t=e.descriptor.id,r=e.page.borderBox.center[c.line],n=um(t,s),a=Lm({displaced:i,id:t});return n?a?p<=r:d<r-u:a?p<=r+u:d<r})),inHomeList:Yh(r,n)});return lm({draggable:r,insideDestination:a,destination:n,viewport:o,last:i,displacedBy:l,index:f})}({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:p,insideDestination:f,last:i.displaced,viewport:o,afterCritical:s})},qm=function(e,t){var r;return Zp({},e,((r={})[t.descriptor.id]=t,r))},Hm=function(e){var t=e.previousImpact,r=e.impact,n=e.droppables,a=Nm(t),i=Nm(r);if(!a)return n;if(a===i)return n;var o=n[a];if(!o.subject.withPlaceholder)return n;var s=function(e){var t=e.subject.withPlaceholder;t||fh(!1);var r=e.frame;if(!r)return Zp({},e,{subject:Rh({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var n=t.oldFrameMaxScroll;n||fh(!1);var a=Sm(r,n);return Zp({},e,{subject:Rh({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null}),frame:a})}(o);return qm(n,s)},zm=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,s=a||t.viewport,c=n||t.dimensions,l=r||t.current.client.selection,u=Ch(l,t.initial.client.selection),d={offset:u,selection:l,borderBoxCenter:xh(t.initial.client.borderBoxCenter,u)},p={selection:xh(d.selection,s.scroll.current),borderBoxCenter:xh(d.borderBoxCenter,s.scroll.current),offset:xh(d.offset,s.scroll.diff.value)},f={client:d,page:p};if("COLLECTING"===t.phase)return Zp({phase:"COLLECTING"},t,{dimensions:c,viewport:s,current:f});var h=c.draggables[t.critical.draggable.id],m=i||Bm({pageOffset:p.offset,draggable:h,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,o=Hm({previousImpact:a,impact:i,droppables:n}),s=Nm(i);if(!s)return o;var c=n[s];if(Yh(t,c))return o;if(c.subject.withPlaceholder)return o;var l=Tm(c,t,r);return qm(o,l)}({draggable:h,impact:m,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return Zp({},t,{current:f,dimensions:{draggables:c.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null})};var Um=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced;return Zp({},t,{displaced:sm({afterDragging:function(e,t){return e.map((function(e){return t[e]}))}(o.all,n),destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o})})},Wm=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,s=ym({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:o});return wm({pageBorderBoxCenter:s,draggable:r,viewport:i})},Gm=function(e){var t=e.state,r=e.dimensions,n=e.viewport;"SNAP"!==t.movementMode&&fh(!1);var a=t.impact,i=n||t.viewport,o=r||t.dimensions,s=o.draggables,c=o.droppables,l=s[t.critical.draggable.id],u=Nm(a);u||fh(!1);var d=c[u],p=Um({impact:a,viewport:i,destination:d,draggables:s}),f=Wm({impact:p,draggable:l,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return zm({impact:p,clientSelection:f,state:t,dimensions:o,viewport:i})},Vm=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,i=jm(r.axis,t.displaceBy),o=Gh(r.descriptor.id,n),s=o.indexOf(t);-1===s&&fh(!1);var c,l=o.slice(s+1),u=l.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:sm({afterDragging:l,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(c=t.descriptor,{index:c.index,droppableId:c.droppableId})}},afterCritical:d}},Km=function(e){0},$m=function(e){0},Ym=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||fh(!1),t}(r[t]).scroll.diff.value;return function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=nh(t.client,r),i=ah(a,n);return Zp({},t,{placeholder:Zp({},t.placeholder,{client:a}),client:a,page:i})}({draggable:e,offset:xh(a,i),initialWindowScroll:n.scroll.initial})}))},Jm=function(e){return"SNAP"===e.movementMode},Xm=function(e,t,r){var n=function(e,t){return{draggables:e.draggables,droppables:qm(e.droppables,t)}}(e.dimensions,t);return!Jm(e)||r?zm({state:e,dimensions:n}):Gm({state:e,dimensions:n})};function Zm(e){return e.isDragging&&"SNAP"===e.movementMode?Zp({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Qm={phase:"IDLE",completed:null,shouldFlush:!1},eg=function(e,t){if(void 0===e&&(e=Qm),"FLUSH"===t.type)return Zp({},Qm,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&fh(!1);var r=t.payload,n=r.critical,a=r.clientSelection,i=r.viewport,o=r.dimensions,s=r.movementMode,c=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],u={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Oh},d={client:u,page:{selection:xh(u.selection,i.scroll.initial),borderBoxCenter:xh(u.selection,i.scroll.initial),offset:xh(u.selection,i.scroll.diff.value)}},p=Uh(o.droppables).every((function(e){return!e.isFixedOnPage})),f=Vm({draggable:c,home:l,draggables:o.draggables,viewport:i}),h=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:d,current:d,isWindowScrollAllowed:p,impact:h,afterCritical:f.afterCritical,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&fh(!1),Zp({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&fh(!1),function(e){var t=e.state,r=e.published;Km();var n=r.modified.map((function(e){var r=t.dimensions.droppables[e.droppableId];return Mh(r,e.scroll)})),a=Zp({},t.dimensions.droppables,{},Hh(n)),i=zh(Ym({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=Zp({},t.dimensions.draggables,{},i);r.removals.forEach((function(e){delete o[e]}));var s={droppables:a,draggables:o},c=Nm(t.impact),l=c?s.droppables[c]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],p=Vm({draggable:u,home:d,draggables:o,viewport:t.viewport}),f=p.impact,h=p.afterCritical,m=l&&l.isCombineEnabled?t.impact:f,g=Bm({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:h});$m();var b=Zp({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:s,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?b:Zp({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Pm(e)||fh(!1);var m=t.payload.client;return kh(m,e.current.client.selection)?e:zm({state:e,clientSelection:m,impact:Jm(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Zm(e);if("COLLECTING"===e.phase)return Zm(e);Pm(e)||fh(!1);var g=t.payload,b=g.id,v=g.newScroll,y=e.dimensions.droppables[b];if(!y)return e;var _=Mh(y,v);return Xm(e,_,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Pm(e)||fh(!1);var E=t.payload,w=E.id,O=E.isEnabled,x=e.dimensions.droppables[w];x||fh(!1),x.isEnabled===O&&fh(!1);var C=Zp({},x,{isEnabled:O});return Xm(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Pm(e)||fh(!1);var k=t.payload,I=k.id,j=k.isCombineEnabled,S=e.dimensions.droppables[I];S||fh(!1),S.isCombineEnabled===j&&fh(!1);var T=Zp({},S,{isCombineEnabled:j});return Xm(e,T,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Pm(e)||fh(!1),e.isWindowScrollAllowed||fh(!1);var A=t.payload.newScroll;if(kh(e.viewport.scroll.current,A))return Zm(e);var N=_m(e.viewport,A);return Jm(e)?Gm({state:e,viewport:N}):zm({state:e,viewport:N})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Pm(e))return e;var D=t.payload.maxScroll;if(kh(D,e.viewport.scroll.max))return e;var P=Zp({},e.viewport,{scroll:Zp({},e.viewport.scroll,{max:D})});return Zp({phase:"DRAGGING"},e,{viewport:P})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&fh(!1);var R=Dm({state:e,type:t.type});return R?zm({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var M=t.payload.reason;return"COLLECTING"!==e.phase&&fh(!1),Zp({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:M})}if("DROP_ANIMATE"===t.type){var F=t.payload,L=F.completed,B=F.dropDuration,q=F.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&fh(!1),{phase:"DROP_ANIMATING",completed:L,dropDuration:B,newHomeClientOffset:q,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},tg=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},rg=function(){return{type:"COLLECTION_STARTING",payload:null}},ng=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},ag=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},ig=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},og=function(e){return{type:"MOVE",payload:e}},sg=function(){return{type:"MOVE_UP",payload:null}},cg=function(){return{type:"MOVE_DOWN",payload:null}},lg=function(){return{type:"MOVE_RIGHT",payload:null}},ug=function(){return{type:"MOVE_LEFT",payload:null}},dg=function(e){return{type:"DROP_COMPLETE",payload:e}},pg=function(e){return{type:"DROP",payload:e}},fg=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var hg="cubic-bezier(.2,1,.1,1)",mg={drop:0,combining:.7},gg={drop:.75},bg=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",vg={fluid:"opacity "+bg,snap:"transform "+bg+", opacity "+bg,drop:function(e){var t=e+"s "+hg;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+bg,placeholder:"height "+bg+", width "+bg+", margin "+bg},yg=function(e){return kh(e,Oh)?null:"translate("+e.x+"px, "+e.y+"px)"},_g=yg,Eg=function(e,t){var r=yg(e);return r?t?r+" scale("+gg.drop+")":r:null},wg=.33,Og=.55,xg=Og-wg,Cg=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){if("DROP"===n.type){var a=t(),i=n.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&fh(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&fh(!1);var o=a.critical,s=a.dimensions,c=s.draggables[a.critical.draggable.id],l=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;return n.at&&"DROP"===r?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:Zp({},n,{displaced:Xh}),didDropInsideDroppable:!0}:{impact:Um({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),u=l.impact,d=l.didDropInsideDroppable,p=d?Vh(u):null,f=d?Kh(u):null,h={index:o.draggable.index,droppableId:o.droppable.id},m={draggableId:c.descriptor.id,type:c.descriptor.type,source:h,reason:i,mode:a.movementMode,destination:p,combine:f},g=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,o=n.draggables,s=n.droppables,c=Nm(t),l=c?s[c]:null,u=s[r.descriptor.droppableId],d=Wm({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:l||u,viewport:a});return Ch(d,r.client.borderBox.center)}({impact:u,draggable:c,dimensions:s,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:m,impact:u};if(!kh(a.current.client.offset,g)||Boolean(m.combine)){var v=function(e){var t=e.current,r=e.destination,n=e.reason,a=Sh(t,r);if(a<=0)return wg;if(a>=1500)return Og;var i=wg+xg*(a/1500);return Number(("CANCEL"===n?.6*i:i).toFixed(2))}({current:a.current.client.offset,destination:g,reason:i});r(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:v,completed:b}))}else r(dg({completed:b}))}}else r(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(n)}}},kg=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Ig(e){var t=e.onWindowScroll;var r,n=ch((function(){t(kg())})),a=(r=n,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||r()}}),i=uh;function o(){return i!==uh}return{start:function(){o()&&fh(!1),i=dh(window,[a])},stop:function(){o()||fh(!1),n.cancel(),i(),i=uh},isActive:o}}var jg=function(e){var t=Ig({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(r){t.isActive()||"INITIAL_PUBLISH"!==r.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r)&&t.stop(),e(r)}}},Sg=function(){var e=[];return{add:function(t){var r=setTimeout((function(){return function(t){var r=Lh(e,(function(e){return e.timerId===t}));-1===r&&fh(!1),e.splice(r,1)[0].callback()}(r)})),n={timerId:r,callback:t};e.push(n)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Tg=function(e,t){Km(),t(),$m()},Ag=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Ng=function(e,t,r,n){if(e){var a=function(e){var t=!1,r=!1,n=setTimeout((function(){r=!0})),a=function(a){t||r||(t=!0,e(a),clearTimeout(n))};return a.wasCalled=function(){return t},a}(r);e(t,{announce:a}),a.wasCalled()||r(n(t))}else r(n(t))},Dg=function(e,t){var r=function(e,t){var r=Sg(),n=null,a=function(r){n||fh(!1),n=null,Tg(0,(function(){return Ng(e().onDragEnd,r,t,wh)}))};return{beforeCapture:function(t,r){n&&fh(!1),Tg(0,(function(){var n=e().onBeforeCapture;n&&n({draggableId:t,mode:r})}))},beforeStart:function(t,r){n&&fh(!1),Tg(0,(function(){var n=e().onBeforeDragStart;n&&n(Ag(t,r))}))},start:function(a,i){n&&fh(!1);var o=Ag(a,i);n={mode:i,lastCritical:a,lastLocation:o.source,lastCombine:null},r.add((function(){Tg(0,(function(){return Ng(e().onDragStart,o,t,_h)}))}))},update:function(a,i){var o=Vh(i),s=Kh(i);n||fh(!1);var c=!function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n}(a,n.lastCritical);c&&(n.lastCritical=a);var l,u,d=(l=n.lastLocation,u=o,!(null==l&&null==u||null!=l&&null!=u&&l.droppableId===u.droppableId&&l.index===u.index));d&&(n.lastLocation=o);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&(e.draggableId===t.draggableId&&e.droppableId===t.droppableId)}(n.lastCombine,s);if(p&&(n.lastCombine=s),c||d||p){var f=Zp({},Ag(a,n.mode),{combine:s,destination:o});r.add((function(){Tg(0,(function(){return Ng(e().onDragUpdate,f,t,Eh)}))}))}},flush:function(){n||fh(!1),r.flush()},drop:a,abort:function(){if(n){var e=Zp({},Ag(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(n){if("BEFORE_INITIAL_CAPTURE"!==n.type){if("INITIAL_PUBLISH"===n.type){var a=n.payload.critical;return r.beforeStart(a,n.payload.movementMode),t(n),void r.start(a,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){var i=n.payload.completed.result;return r.flush(),t(n),void r.drop(i)}if(t(n),"FLUSH"!==n.type){var o=e.getState();"DRAGGING"===o.phase&&r.update(o.critical,o.impact)}else r.abort()}else r.beforeCapture(n.payload.draggableId,n.payload.movementMode)}}}},Pg=function(e){return function(t){return function(r){if("DROP_ANIMATION_FINISHED"===r.type){var n=e.getState();"DROP_ANIMATING"!==n.phase&&fh(!1),e.dispatch(dg({completed:n.completed}))}else t(r)}}},Rg=function(e){var t=null,r=null;return function(n){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),n(a),"DROP_ANIMATE"===a.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame((function(){r=null,t=dh(window,[i])}))}}}},Mg=function(e){return function(t){return function(r){if(t(r),"PUBLISH_WHILE_DRAGGING"===r.type){var n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(pg({reason:n.reason})))}}}},Fg=uf,Lg=function(e){var t,r=e.dimensionMarshal,n=e.focusMarshal,a=e.styleMarshal,i=e.getResponders,o=e.announce,s=e.autoScroller;return nf(eg,Fg(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},a={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(a)}));return lf({},r,{dispatch:n=uf.apply(void 0,i)(r.dispatch)})}}}((t=a,function(){return function(e){return function(r){"INITIAL_PUBLISH"===r.type&&t.dragging(),"DROP_ANIMATE"===r.type&&t.dropping(r.payload.completed.result.reason),"FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type||t.resting(),e(r)}}}),function(e){return function(){return function(t){return function(r){"DROP_COMPLETE"!==r.type&&"FLUSH"!==r.type&&"DROP_ANIMATE"!==r.type||e.stopPublishing(),t(r)}}}}(r),function(e){return function(t){var r=t.getState,n=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var i=a.payload,o=i.id,s=i.clientSelection,c=i.movementMode,l=r();"DROP_ANIMATING"===l.phase&&n(dg({completed:l.completed})),"IDLE"!==r().phase&&fh(!1),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:c}});var u={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===c}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;n(function(e){return{type:"INITIAL_PUBLISH",payload:e}}({critical:p,dimensions:f,clientSelection:s,movementMode:c,viewport:h}))}else t(a)}}}}(r),Cg,Pg,Rg,Mg,function(e){return function(t){return function(r){return function(n){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n))return e.stop(),void r(n);if("INITIAL_PUBLISH"===n.type){r(n);var a=t.getState();return"DRAGGING"!==a.phase&&fh(!1),void e.start(a)}r(n),e.scroll(t.getState())}}}}(s),jg,function(e){var t=!1;return function(){return function(r){return function(n){if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),void e.tryRestoreFocusRecorded();if(r(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(n),Dg(i,o))))};var Bg=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,i=Ch({x:r,y:t},{x:a,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},qg=function(){var e=document.documentElement;return e||fh(!1),e},Hg=function(){var e=qg();return Bg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},zg=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry;Km();var a,i,o,s,c,l,u,d=(a=kg(),i=Hg(),o=a.y,s=a.x,c=qg(),l=c.clientWidth,u=c.clientHeight,{frame:Xf({top:o,left:s,right:s+l,bottom:o+u}),scroll:{initial:a,current:a,max:i,diff:{value:Oh,displacement:Oh}}}),p=d.scroll.current,f=t.droppable,h=n.droppable.getAllByType(f.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(p,r)})),m=n.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(p)})),g={draggables:zh(m),droppables:Hh(h)};return $m(),{dimensions:g,critical:t,viewport:d}};function Ug(e,t,r){return r.descriptor.id!==t.id&&(r.descriptor.type===t.type&&"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode)}var Wg,Gg,Vg=function(e,t){var r=null,n=function(e){var t=e.registry,r=e.callbacks,n={additions:{},removals:{},modified:{}},a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame((function(){a=null,Km();var e=n,i=e.additions,o=e.removals,s=e.modified,c=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(Oh)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),l=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:c,removals:Object.keys(o),modified:l};n={additions:{},removals:{},modified:{}},$m(),r.publish(u)})))};return{add:function(e){var t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],i()},remove:function(e){var t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],i()},stop:function(){a&&(cancelAnimationFrame(a),a=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){r||fh(!1);var a=r.critical.draggable;"ADDITION"===t.type&&Ug(e,a,t.value)&&n.add(t.value),"REMOVAL"===t.type&&Ug(e,a,t.value)&&n.remove(t.value)};return{updateDroppableIsEnabled:function(n,a){e.droppable.exists(n)||fh(!1),r&&t.updateDroppableIsEnabled({id:n,isEnabled:a})},updateDroppableIsCombineEnabled:function(n,a){r&&(e.droppable.exists(n)||fh(!1),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:a}))},scrollDroppable:function(t,n){r&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:function(n,a){r&&(e.droppable.exists(n)||fh(!1),t.updateDroppableScroll({id:n,newScroll:a}))},startPublishing:function(t){r&&fh(!1);var n=e.draggable.getById(t.draggableId),i=e.droppable.getById(n.descriptor.droppableId),o={draggable:n.descriptor,droppable:i.descriptor},s=e.subscribe(a);return r={critical:o,unsubscribe:s},zg({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(r){n.stop();var t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),r.unsubscribe(),r=null}}}},Kg=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},$g=function(e){window.scrollBy(e.x,e.y)},Yg=Object(sh.a)((function(e){return Uh(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),Jg=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}return function(e,t){return Bh(Yg(t),(function(t){return t.frame||fh(!1),Rm(t.frame.pageMarginBox)(e)}))}(t,n)},Xg=.25,Zg=.05,Qg=28,eb=function(e){return Math.pow(e,2)},tb={stopDampeningAt:1200,accelerateAt:360},rb=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;return 0===a?0:(n-t)/a},nb=tb.accelerateAt,ab=tb.stopDampeningAt,ib=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Qg;if(e===t.startScrollingFrom)return 1;var r=rb({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=Qg*eb(1-r);return Math.ceil(n)}(t,r);return 0===i?0:a?Math.max(function(e,t){var r=t,n=ab,a=Date.now()-r;if(a>=ab)return e;if(a<nb)return 1;var i=rb({startOfRange:nb,endOfRange:n,current:a}),o=e*eb(i);return Math.ceil(o)}(i,n),1):i},ob=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*Xg,maxScrollValueAt:e[t.size]*Zg}}(t,a);return r[a.end]<r[a.start]?ib({distanceToEdge:r[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*ib({distanceToEdge:r[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},sb=Ah((function(e){return 0===e?0:e})),cb=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},s=ob({container:r,distanceToEdges:o,dragStartTime:t,axis:rm,shouldUseTimeDampening:i}),c=ob({container:r,distanceToEdges:o,dragStartTime:t,axis:nm,shouldUseTimeDampening:i}),l=sb({x:c,y:s});if(kh(l,Oh))return null;var u=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return i||a?i&&a?null:{x:i?0:n.x,y:a?0:n.y}:n}({container:r,subject:n,proposedScroll:l});return u?kh(u,Oh)?null:u:null},lb=Ah((function(e){return 0===e?0:e>0?1:-1})),ub=(Wg=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,r=e.max,n=e.change,a=xh(t,n),i={x:Wg(a.x,r.x),y:Wg(a.y,r.y)};return kh(i,Oh)?null:i}),db=function(e){var t=e.max,r=e.current,n=e.change,a={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},i=lb(n),o=ub({max:a,current:r,change:i});return!o||(0!==i.x&&0===o.x||0!==i.y&&0===o.y)},pb=function(e,t){return db({current:e.scroll.current,max:e.scroll.max,change:t})},fb=function(e,t){var r=e.frame;return!!r&&db({current:r.scroll.current,max:r.scroll.max,change:t})},hb=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var c=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=cb({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return o&&pb(t,o)?o:null}({dragStartTime:r,viewport:t.viewport,subject:s,center:o,shouldUseTimeDampening:n});if(c)return void a(c)}var l=Jg({center:o,destination:Nm(t.impact),droppables:t.dimensions.droppables});if(l){var u=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=cb({dragStartTime:a,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return s&&fb(t,s)?s:null}({dragStartTime:r,droppable:l,subject:s,center:o,shouldUseTimeDampening:n});u&&i(l.descriptor.id,u)}},mb=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(e,t){if(!fb(e,t))return t;var n=function(e,t){var r=e.frame;return r&&fb(e,t)?ub({current:r.scroll.current,max:r.scroll.max,change:t}):null}(e,t);if(!n)return r(e.descriptor.id,t),null;var a=Ch(t,n);return r(e.descriptor.id,a),Ch(t,a)},i=function(e,t,r){if(!e)return r;if(!pb(t,r))return r;var a=function(e,t){if(!pb(e,t))return null;var r=e.scroll.max,n=e.scroll.current;return ub({current:n,max:r,change:t})}(t,r);if(!a)return n(r),null;var i=Ch(r,a);return n(i),Ch(r,i)};return function(e){var r=e.scrollJumpRequest;if(r){var n=Nm(e.impact);n||fh(!1);var o=a(e.dimensions.droppables[n],r);if(o){var s=e.viewport,c=i(e.isWindowScrollAllowed,s,o);c&&function(e,r){var n=xh(e.current.client.selection,r);t({client:n})}(e,c)}}}},gb=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=ch(t),a=ch(r),i=null,o=function(e){i||fh(!1);var t=i,r=t.shouldUseTimeDampening,o=t.dragStartTime;hb({state:e,scrollWindow:n,scrollDroppable:a,dragStartTime:o,shouldUseTimeDampening:r})};return{start:function(e){Km(),i&&fh(!1);var t=Date.now(),r=!1,n=function(){r=!0};hb({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n}),i={dragStartTime:t,shouldUseTimeDampening:r},$m(),r&&o(e)},stop:function(){i&&(n.cancel(),a.cancel(),i=null)},scroll:o}}({scrollWindow:r,scrollDroppable:t}),i=mb({move:n,scrollWindow:r,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):a.scroll(e))},start:a.start,stop:a.stop}},bb={base:Gg="data-rbd-drag-handle",draggableId:Gg+"-draggable-id",contextId:Gg+"-context-id"},vb=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),yb=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),_b={contextId:"data-rbd-scroll-container-context-id"},Eb=function(e,t){return e.map((function(e){var r=e.styles[t];return r?e.selector+" { "+r+" }":""})).join(" ")},wb="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?b.useLayoutEffect:b.useEffect,Ob=function(){var e=document.querySelector("head");return e||fh(!1),e},xb=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Cb(e,t){var r=$f((function(){return function(e){var t,r,n,a=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(r="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:a(bb.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:r,dragging:"pointer-events: none;",dropAnimating:r}}),o=[(n="\n      transition: "+vg.outOfTheWay+";\n    ",{selector:a(vb.contextId),styles:{dragging:n,dropAnimating:n,userCancel:n}}),i,{selector:a(yb.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Eb(o,"always"),resting:Eb(o,"resting"),dragging:Eb(o,"dragging"),dropAnimating:Eb(o,"dropAnimating"),userCancel:Eb(o,"userCancel")}}(e)}),[e]),n=Object(b.useRef)(null),a=Object(b.useRef)(null),i=Yf(Object(sh.a)((function(e){var t=a.current;t||fh(!1),t.textContent=e})),[]),o=Yf((function(e){var t=n.current;t||fh(!1),t.textContent=e}),[]);wb((function(){(n.current||a.current)&&fh(!1);var s=xb(t),c=xb(t);return n.current=s,a.current=c,s.setAttribute("data-rbd-always",e),c.setAttribute("data-rbd-dynamic",e),Ob().appendChild(s),Ob().appendChild(c),o(r.always),i(r.resting),function(){var e=function(e){var t=e.current;t||fh(!1),Ob().removeChild(t),e.current=null};e(n),e(a)}}),[t,o,i,r.always,r.resting,e]);var s=Yf((function(){return i(r.dragging)}),[i,r.dragging]),c=Yf((function(e){i("DROP"!==e?r.userCancel:r.dropAnimating)}),[i,r.dropAnimating,r.userCancel]),l=Yf((function(){a.current&&i(r.resting)}),[i,r.resting]);return $f((function(){return{dragging:s,dropping:c,resting:l}}),[s,c,l])}var kb=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ib(e){return e instanceof kb(e).HTMLElement}function jb(e,t){var r="["+bb.contextId+'="'+e+'"]',n=qh(document.querySelectorAll(r));if(!n.length)return null;var a=Bh(n,(function(e){return e.getAttribute(bb.draggableId)===t}));return a&&Ib(a)?a:null}function Sb(){var e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach((function(t){return t(e)}))}function n(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:function(t,r){var n=e.draggables[r.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,i=n(a);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[a],r({type:"REMOVAL",value:t}))},getById:function(e){var t=n(e);return t||fh(!1),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return Fh(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var r=a(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||fh(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return Fh(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Tb=v.a.createContext(null),Ab=function(){var e=document.body;return e||fh(!1),e},Nb={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Db=0,Pb={separator:"::"};function Rb(e,t){return void 0===t&&(t=Pb),$f((function(){return""+e+t.separator+Db++}),[t.separator,e])}var Mb=v.a.createContext(null);function Fb(e){0}function Lb(e,t){Fb()}function Bb(){Lb()}function qb(e){var t=Object(b.useRef)(e);return Object(b.useEffect)((function(){t.current=e})),t}var Hb,zb=((Hb={})[13]=!0,Hb[9]=!0,Hb),Ub=function(e){zb[e.keyCode]&&e.preventDefault()},Wb=function(){var e="visibilitychange";return"undefined"==typeof document?e:Bh([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var Gb,Vb={type:"IDLE"};function Kb(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,r=e.clientX,i=e.clientY;if(0===t){var o={x:r,y:i},s=n();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(o);"PENDING"!==s.type&&fh(!1);var c=s.point;if(l=c,u=o,Math.abs(u.x-l.x)>=5||Math.abs(u.y-l.y)>=5){var l,u;e.preventDefault();var d=s.actions.fluidLift(o);a({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var a=n();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Ub(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var r=n();"IDLE"===r.type&&fh(!1),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Wb,fn:t}]}function $b(){}var Yb=((Gb={})[34]=!0,Gb[33]=!0,Gb[36]=!0,Gb[35]=!0,Gb);function Jb(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:function(n){return 27===n.keyCode?(n.preventDefault(),void r()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(Yb[n.keyCode]?n.preventDefault():Ub(n))}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Wb,fn:r}]}var Xb={type:"IDLE"};var Zb={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Qb(e,t){var r=t.target;return!!Ib(r)&&function e(t,r){if(null==r)return!1;if(Boolean(Zb[r.tagName.toLowerCase()]))return!0;var n=r.getAttribute("contenteditable");return"true"===n||""===n||r!==t&&e(t,r.parentElement)}(e,r)}var ev=function(e){return Xf(e.getBoundingClientRect()).center};var tv="undefined"==typeof document?"matches":Bh(["matches","msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||"matches";function rv(e,t){return e.closest?e.closest(t):function e(t,r){return null==t?null:t[tv](r)?t:e(t.parentElement,r)}(e,t)}function nv(e,t){var r,n=t.target;if(!((r=n)instanceof kb(r).Element))return null;var a=rv(n,function(e){return"["+bb.contextId+'="'+e+'"]'}(e));return a&&Ib(a)?a:null}function av(e){e.preventDefault()}function iv(e){var t=e.expected,r=e.phase,n=e.isLockActive;e.shouldWarn;return!!n()&&t===r}function ov(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(a);return!!i&&(!!i.options.isEnabled&&!!Kg(r.getState(),a))}function sv(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent;if(!ov({lockAPI:t,store:n,registry:a,draggableId:i}))return null;var c=a.draggable.getById(i),l=function(e,t){var r="["+vb.contextId+'="'+e+'"]',n=Bh(qh(document.querySelectorAll(r)),(function(e){return e.getAttribute(vb.id)===t}));return n&&Ib(n)?n:null}(r,c.descriptor.id);if(!l)return null;if(s&&!c.options.canDragInteractiveElements&&Qb(l,s))return null;var u=t.claim(o||uh),d="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function f(){return t.isActive(u)}var h=function(e,t){iv({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function m(e){function r(){t.release(),d="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var i=dh(window,[{eventName:"click",fn:av,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}r(),n.dispatch(pg({reason:t}))}return"PRE_DRAG"!==d&&(r(),"PRE_DRAG"!==d&&fh(!1)),n.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",Zp({isActive:function(){return iv({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}return{isActive:function(){return iv({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=ch((function(e){h((function(){return og({client:e})}))}));return Zp({},m({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return h(sg)},moveRight:function(){return h(lg)},moveDown:function(){return h(cg)},moveLeft:function(){return h(ug)}};return m({liftActionArgs:{id:i,clientSelection:ev(l),movementMode:"SNAP"},cleanup:uh,actions:e})},abort:function(){iv({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}}}var cv=[function(e){var t=Object(b.useRef)(Vb),r=Object(b.useRef)(uh),n=$f((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=e.findClosestDraggableId(t);if(n){var a=e.tryGetLock(n,o,{sourceEvent:t});if(a){t.preventDefault();var i={x:t.clientX,y:t.clientY};r.current(),l(a,i)}}}}}}),[e]),a=$f((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var n=e.findOptionsForDraggable(r);n&&(n.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}}}}}),[e]),i=Yf((function(){r.current=dh(window,[a,n],{passive:!1,capture:!0})}),[a,n]),o=Yf((function(){"IDLE"!==t.current.type&&(t.current=Vb,r.current(),i())}),[i]),s=Yf((function(){var e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[o]),c=Yf((function(){var e=Kb({cancel:s,completed:o,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});r.current=dh(window,e,{capture:!0,passive:!1})}),[s,o]),l=Yf((function(e,r){"IDLE"!==t.current.type&&fh(!1),t.current={type:"PENDING",point:r,actions:e},c()}),[c]);wb((function(){return i(),function(){r.current()}}),[i])},function(e){var t=Object(b.useRef)($b),r=$f((function(){return{eventName:"keydown",fn:function(r){if(!r.defaultPrevented&&32===r.keyCode){var a=e.findClosestDraggableId(r);if(a){var i=e.tryGetLock(a,c,{sourceEvent:r});if(i){r.preventDefault();var o=!0,s=i.snapLift();t.current(),t.current=dh(window,Jb(s,c),{capture:!0,passive:!1})}}}function c(){o||fh(!1),o=!1,t.current(),n()}}}}),[e]),n=Yf((function(){t.current=dh(window,[r],{passive:!1,capture:!0})}),[r]);wb((function(){return n(),function(){t.current()}}),[n])},function(e){var t=Object(b.useRef)(Xb),r=Object(b.useRef)(uh),n=Yf((function(){return t.current}),[]),a=Yf((function(e){t.current=e}),[]),i=$f((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var a=e.tryGetLock(n,s,{sourceEvent:t});if(a){var i=t.touches[0],o={x:i.clientX,y:i.clientY};r.current(),d(a,o)}}}}}}),[e]),o=Yf((function(){r.current=dh(window,[i],{capture:!0,passive:!1})}),[i]),s=Yf((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(Xb),r.current(),o())}),[o,a]),c=Yf((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),l=Yf((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:s,getPhase:n},a=dh(window,function(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var r=n();if("DRAGGING"===r.type){r.hasMoved=!0;var a=e.touches[0],i={x:a.clientX,y:a.clientY};e.preventDefault(),r.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var a=n();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var r=n();"IDLE"===r.type&&fh(!1);var a=e.touches[0];if(a&&a.force>=.15){var i=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return i?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Wb,fn:t}]}(t),e),i=dh(window,function(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===r().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Wb,fn:t}]}(t),e);r.current=function(){a(),i()}}),[c,n,s]),u=Yf((function(){var e=n();"PENDING"!==e.type&&fh(!1);var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[n,a]),d=Yf((function(e,t){"IDLE"!==n().type&&fh(!1);var r=setTimeout(u,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:r}),l()}),[l,n,a,u]);wb((function(){return o(),function(){r.current();var e=n();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(Xb))}}),[n,o,a]),wb((function(){return dh(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function lv(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?cv:[],a||[]),s=Object(b.useState)((function(){return function(){var e=null;function t(){e||fh(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&fh(!1);var r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=Yf((function(e,t){e.isDragging&&!t.isDragging&&s.tryAbandon()}),[s]);wb((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();c(e,t),e=t}))}),[s,r,c]),wb((function(){return s.tryAbandon}),[s.tryAbandon]);var l=Yf((function(e){return ov({lockAPI:s,registry:n,store:r,draggableId:e})}),[s,n,r]),u=Yf((function(e,a,i){return sv({lockAPI:s,registry:n,contextId:t,store:r,draggableId:e,forceSensorStop:a,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,s,n,r]),d=Yf((function(e){return function(e,t){var r=nv(e,t);return r?r.getAttribute(bb.draggableId):null}(t,e)}),[t]),p=Yf((function(e){var t=n.draggable.findById(e);return t?t.options:null}),[n.draggable]),f=Yf((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))}),[s,r]),h=Yf(s.isClaimed,[s]),m=$f((function(){return{canGetLock:l,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:h}}),[l,u,d,p,f,h]);Fb();for(var g=0;g<o.length;g++)o[g](m)}function uv(e){return e.current||fh(!1),e.current}function dv(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=Object(b.useRef)(null);Bb();var s=qb(e),c=Yf((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(s.current)}),[s]),l=function(e){var t=$f((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),r=Object(b.useRef)(null);return Object(b.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Zp(e.style,Nb),Ab().appendChild(e),function(){setTimeout((function(){var t=Ab();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[t]),Yf((function(e){var t=r.current;t&&(t.textContent=e)}),[])}(t),u=function(e){var t=e.contextId,r=e.text,n=Rb("hidden-text",{separator:"-"}),a=$f((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:n}).contextId+"-"+e.uniqueId;var e}),[n,t]);return Object(b.useEffect)((function(){var e=document.createElement("div");return e.id=a,e.textContent=r,e.style.display="none",Ab().appendChild(e),function(){var t=Ab();t.contains(e)&&t.removeChild(e)}}),[a,r]),a}({contextId:t,text:i}),d=Cb(t,a),p=Yf((function(e){uv(o).dispatch(e)}),[]),f=$f((function(){return of({publishWhileDragging:tg,updateDroppableScroll:ng,updateDroppableIsEnabled:ag,updateDroppableIsCombineEnabled:ig,collectionStarting:rg},p)}),[p]),h=function(){var e=$f(Sb,[]);return Object(b.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),m=$f((function(){return Vg(h,f)}),[h,f]),g=$f((function(){return gb(Zp({scrollWindow:$g,scrollDroppable:m.scrollDroppable},of({move:og},p)))}),[m.scrollDroppable,p]),y=function(e){var t=Object(b.useRef)({}),r=Object(b.useRef)(null),n=Object(b.useRef)(null),a=Object(b.useRef)(!1),i=Yf((function(e,r){var n={id:e,focus:r};return t.current[e]=n,function(){var r=t.current;r[e]!==n&&delete r[e]}}),[]),o=Yf((function(t){var r=jb(e,t);r&&r!==document.activeElement&&r.focus()}),[e]),s=Yf((function(e,t){r.current===e&&(r.current=t)}),[]),c=Yf((function(){n.current||a.current&&(n.current=requestAnimationFrame((function(){n.current=null;var e=r.current;e&&o(e)})))}),[o]),l=Yf((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(bb.draggableId)===e&&(r.current=e)}),[]);return wb((function(){return a.current=!0,function(){a.current=!1;var e=n.current;e&&cancelAnimationFrame(e)}}),[]),$f((function(){return{register:i,tryRecordFocus:l,tryRestoreFocusRecorded:c,tryShiftRecord:s}}),[i,l,c,s])}(t),_=$f((function(){return Lg({announce:l,autoScroller:g,dimensionMarshal:m,focusMarshal:y,getResponders:c,styleMarshal:d})}),[l,g,m,y,c,d]);o.current=_;var E=Yf((function(){var e=uv(o);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),w=Yf((function(){var e=uv(o).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);r($f((function(){return{isDragging:w,tryAbort:E}}),[w,E]));var O=Yf((function(e){return Kg(uv(o).getState(),e)}),[]),x=Yf((function(){return Pm(uv(o).getState())}),[]),C=$f((function(){return{marshal:m,focus:y,contextId:t,canLift:O,isMovementAllowed:x,dragHandleUsageInstructionsId:u,registry:h}}),[t,m,u,y,O,x,h]);return lv({contextId:t,store:_,registry:h,customSensors:n,enableDefaultSensors:!1!==e.enableDefaultSensors}),Object(b.useEffect)((function(){return E}),[E]),v.a.createElement(Mb.Provider,{value:C},v.a.createElement(gf,{context:Tb,store:_},e.children))}var pv=0;function fv(e){var t=$f((function(){return""+pv++}),[]),r=e.dragHandleUsageInstructions||yh;return v.a.createElement(hh,null,(function(n){return v.a.createElement(dv,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var hv=function(e){return function(t){return e===t}},mv=hv("scroll"),gv=hv("auto"),bv=(hv("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),vv=function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return bv(r,mv)||bv(r,gv)},yv=function e(t){return null==t||t===document.body||t===document.documentElement?null:vv(t)?t:e(t.parentElement)},_v=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ev=function(e){return{closestScrollable:yv(e),isFixedOnPage:function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))}(e)}},wv=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,c=e.shouldClipSubject,l=n.closestScrollable,u=function(e,t){var r=oh(e);if(!t)return r;if(e!==t)return r;var n=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,o=a+t.scrollWidth,s=Zf({top:n,right:o,bottom:i,left:a},r.border);return th({borderBox:s,margin:r.margin,border:r.border,padding:r.padding})}(t,l),d=ah(u,a),p=function(){if(!l)return null;var e=oh(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:ah(e,a),scroll:_v(l),scrollSize:t,shouldClipSubject:c}}();return function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,s=e.page,c=e.closest,l=function(){if(!c)return null;var e=c.scrollSize,t=c.client,r=Bg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:r,diff:{value:Oh,displacement:Oh}}}}(),u="vertical"===i?rm:nm;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:u,isEnabled:r,client:o,page:s,frame:l,subject:Rh({page:s,withPlaceholder:null,axis:u,frame:l})}}({descriptor:r,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:d,closest:p})},Ov={passive:!1},xv={passive:!0},Cv=function(e){return e.shouldPublishImmediately?Ov:xv};function kv(e){var t=Object(b.useContext)(e);return t||fh(!1),t}var Iv=function(e){return e&&e.env.closestScrollable||null};function jv(){}var Sv={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Tv=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate,a=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate;return t||"close"===n?Sv:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}}({isAnimatingOpenOnMount:t,placeholder:r,animate:n});return{display:r.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?vg.placeholder:null}};var Av=v.a.memo((function(e){var t=Object(b.useRef)(null),r=Yf((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,s=Object(b.useState)("open"===e.animate),c=s[0],l=s[1];Object(b.useEffect)((function(){return c?"open"!==n?(r(),l(!1),jv):t.current?jv:(t.current=setTimeout((function(){t.current=null,l(!1)})),r):jv}),[n,c,r]);var u=Yf((function(e){"height"===e.propertyName&&(a(),"close"===n&&i())}),[n,i,a]),d=Tv({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return v.a.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})})),Nv=v.a.createContext(null);var Dv=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Xp(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(v.a.PureComponent),Pv=5e3,Rv=4500,Mv=function(e,t){return t?vg.drop(t.duration):e?vg.snap:vg.fluid},Fv=function(e,t){return e?t?mg.drop:mg.combining:null};function Lv(e){return"DRAGGING"===e.type?(n=(r=e).dimension.client,a=r.offset,i=r.combineWith,o=r.dropping,s=Boolean(i),c=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(r),l=Boolean(o),u=l?Eg(a,s):_g(a),{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Mv(c,o),transform:u,opacity:Fv(s,l),zIndex:l?Rv:Pv,pointerEvents:"none"}):{transform:_g((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,r,n,a,i,o,s,c,l,u}function Bv(e){var t=Rb("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,s=e.isEnabled,c=$f((function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:s}}),[i,s,o]),l=Yf((function(e){var t=a();return t||fh(!1),function(e,t,r){void 0===r&&(r=Oh);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=ih(a,n),o=ah(i,r);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:o}}(r,t,e)}),[r,a]),u=$f((function(){return{uniqueId:t,descriptor:r,options:c,getDimension:l}}),[r,l,c,t]),d=Object(b.useRef)(u),p=Object(b.useRef)(!0);wb((function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}}),[n.draggable]),wb((function(){if(p.current)p.current=!1;else{var e=d.current;d.current=u,n.draggable.update(u,e)}}),[u,n.draggable])}function qv(e,t,r){Lb()}function Hv(e){e.preventDefault()}var zv=function(e,t){return e===t},Uv=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null};function Wv(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Gv={mapped:{type:"SECONDARY",offset:Oh,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Wv(null)}};var Vv=Gf((function(){var e,t,r,n=(e=Object(sh.a)((function(e,t){return{x:e,y:t}})),t=Object(sh.a)((function(e,t,r,n,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:r,combineWith:n,combineTargetFor:null}})),r=Object(sh.a)((function(e,r,n,a,i,o,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:o,mode:r,offset:e,dimension:n,forceShouldAnimate:s,snapshot:t(r,a,i,o,null)}}})),function(n,a){if(n.isDragging){if(n.critical.draggable.id!==a.draggableId)return null;var i=n.current.client.offset,o=n.dimensions.draggables[a.draggableId],s=Nm(n.impact),c=(u=n.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,l=n.forceShouldAnimate;return r(e(i.x,i.y),n.movementMode,o,a.isClone,s,c,l)}var u;if("DROP_ANIMATING"===n.phase){var d=n.completed;if(d.result.draggableId!==a.draggableId)return null;var p=a.isClone,f=n.dimensions.draggables[a.draggableId],h=d.result,m=h.mode,g=Uv(h),b=function(e){return e.combine?e.combine.draggableId:null}(h),v={duration:n.dropDuration,curve:hg,moveTo:n.newHomeClientOffset,opacity:b?mg.drop:null,scale:b?gg.drop:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:f,dropping:v,draggingOver:g,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,p,g,b,v)}}}return null}),a=function(){var e=Object(sh.a)((function(e,t){return{x:e,y:t}})),t=Object(sh.a)(Wv),r=Object(sh.a)((function(e,r,n){return void 0===r&&(r=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:n,snapshot:t(r)}}})),n=function(e){return e?r(Oh,e,!0):null},a=function(t,a,i,o){var s=i.displaced.visible[t],c=Boolean(o.inVirtualList&&o.effected[t]),l=Kh(i),u=l&&l.draggableId===t?a:null;if(!s){if(!c)return n(u);if(i.displaced.invisible[t])return null;var d=Ih(o.displacedBy.point),p=e(d.x,d.y);return r(p,u,!0)}if(c)return n(u);var f=i.displacedBy.point,h=e(f.x,f.y);return r(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var r=e.completed;return r.result.draggableId===t.draggableId?null:a(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return function(e,t){return n(e,t)||a(e,t)||Gv}}),{dropAnimationFinished:fg},null,{context:Tb,pure:!0,areStatePropsEqual:zv})((function(e){var t=Object(b.useRef)(null),r=Yf((function(e){t.current=e}),[]),n=Yf((function(){return t.current}),[]),a=kv(Mb),i=a.contextId,o=a.dragHandleUsageInstructionsId,s=a.registry,c=kv(Nv),l=c.type,u=c.droppableId,d=$f((function(){return{id:e.draggableId,index:e.index,type:l,droppableId:u}}),[e.draggableId,e.index,l,u]),p=e.children,f=e.draggableId,h=e.isEnabled,m=e.shouldRespectForcePress,g=e.canDragInteractiveElements,v=e.isClone,y=e.mapped,_=e.dropAnimationFinished;qv(),Fb(),v||Bv($f((function(){return{descriptor:d,registry:s,getDraggableRef:n,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:h}}),[d,s,n,g,m,h]));var E=$f((function(){return h?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Hv}:null}),[i,o,f,h]),w=Yf((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&_()}),[_,y]),O=$f((function(){var e=Lv(y),t="DRAGGING"===y.type&&y.dropping?w:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:E}}),[i,E,f,y,w,r]),x=$f((function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}}),[d.droppableId,d.id,d.index,d.type]);return p(O,y.snapshot,x)}));function Kv(e){return kv(Nv).isUsingCloneFor!==e.draggableId||e.isClone?v.a.createElement(Vv,e):null}function $v(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),n=Boolean(e.shouldRespectForcePress);return v.a.createElement(Kv,Zp({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}var Yv=function(e,t){return e===t.droppable.type},Jv=function(e,t){return t.draggables[e.draggable.id]};var Xv={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||fh(!1),document.body}},Zv=Gf((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Zp({},e,{shouldAnimatePlaceholder:!1}),r=Object(sh.a)((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),n=Object(sh.a)((function(n,a,i,o,s,c){var l=s.descriptor.id;if(s.descriptor.droppableId===n){var u=c?{render:c,dragging:r(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!a)return t;if(!o)return e;var p={isDraggingOver:i,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(r,a){var i=a.droppableId,o=a.type,s=!a.isDropDisabled,c=a.renderClone;if(r.isDragging){var l=r.critical;if(!Yv(o,l))return t;var u=Jv(l,r.dimensions),d=Nm(r.impact)===i;return n(i,s,d,d,u,c)}if("DROP_ANIMATING"===r.phase){var p=r.completed;if(!Yv(o,p.critical))return t;var f=Jv(p.critical,r.dimensions);return n(i,s,Uv(p.result)===i,Nm(p.impact)===i,f,c)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){var h=r.completed;if(!Yv(o,h.critical))return t;var m=Nm(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),b=h.critical.droppable.id===i;return m?g?e:t:b?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Tb,pure:!0,areStatePropsEqual:zv})((function(e){var t=Object(b.useContext)(Mb);t||fh(!1);var r=t.contextId,n=t.isMovementAllowed,a=Object(b.useRef)(null),i=Object(b.useRef)(null),o=e.children,s=e.droppableId,c=e.type,l=e.mode,u=e.direction,d=e.ignoreContainerClipping,p=e.isDropDisabled,f=e.isCombineEnabled,h=e.snapshot,m=e.useClone,g=e.updateViewportMaxScroll,y=e.getContainerForClone,_=Yf((function(){return a.current}),[]),E=Yf((function(e){a.current=e}),[]),w=(Yf((function(){return i.current}),[]),Yf((function(e){i.current=e}),[]));Lb();var O=Yf((function(){n()&&g({maxScroll:Hg()})}),[n,g]);!function(e){var t=Object(b.useRef)(null),r=kv(Mb),n=Rb("droppable"),a=r.registry,i=r.marshal,o=qb(e),s=$f((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=Object(b.useRef)(s),l=$f((function(){return Object(sh.a)((function(e,r){t.current||fh(!1);var n={x:e,y:r};i.updateDroppableScroll(s.id,n)}))}),[s.id,i]),u=Yf((function(){var e=t.current;return e&&e.env.closestScrollable?_v(e.env.closestScrollable):Oh}),[]),d=Yf((function(){var e=u();l(e.x,e.y)}),[u,l]),p=$f((function(){return ch(d)}),[d]),f=Yf((function(){var e=t.current,r=Iv(e);e&&r||fh(!1),e.scrollOptions.shouldPublishImmediately?d():p()}),[p,d]),h=Yf((function(e,n){t.current&&fh(!1);var a=o.current,i=a.getDroppableRef();i||fh(!1);var c=Ev(i),l={ref:i,descriptor:s,env:c,scrollOptions:n};t.current=l;var u=wv({ref:i,descriptor:s,env:c,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=c.closestScrollable;return d&&(d.setAttribute(_b.contextId,r.contextId),d.addEventListener("scroll",f,Cv(l.scrollOptions))),u}),[r.contextId,s,f,o]),m=Yf((function(){var e=t.current,r=Iv(e);return e&&r||fh(!1),_v(r)}),[]),g=Yf((function(){var e=t.current;e||fh(!1);var r=Iv(e);t.current=null,r&&(p.cancel(),r.removeAttribute(_b.contextId),r.removeEventListener("scroll",f,Cv(e.scrollOptions)))}),[f,p]),v=Yf((function(e){var r=t.current;r||fh(!1);var n=Iv(r);n||fh(!1),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),y=$f((function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:m,dragStopped:g,scroll:v}}),[g,h,m,v]),_=$f((function(){return{uniqueId:n,descriptor:s,callbacks:y}}),[y,s,n]);wb((function(){return c.current=_.descriptor,a.droppable.register(_),function(){t.current&&g(),a.droppable.unregister(_)}}),[y,s,g,_,i,a.droppable]),wb((function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),wb((function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])}({droppableId:s,type:c,mode:l,direction:u,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:d,getDroppableRef:_});var x=v.a.createElement(Dv,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,n=e.data,a=e.animate;return v.a.createElement(Av,{placeholder:n,onClose:t,innerRef:w,animate:a,contextId:r,onTransitionEnd:O})})),C=$f((function(){return{innerRef:E,placeholder:x,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}}),[r,s,x,E]),k=m?m.dragging.draggableId:null,I=$f((function(){return{droppableId:s,type:c,isUsingCloneFor:k}}),[s,k,c]);return v.a.createElement(Nv.Provider,{value:I},o(C,h),function(){if(!m)return null;var e=m.dragging,t=m.render,r=v.a.createElement(Kv,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(r,n){return t(r,n,e)}));return Y.a.createPortal(r,y())}())}));function Qv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Zv.defaultProps=Xv;class ey extends b.Component{constructor(...e){super(...e),Qv(this,"addBook",()=>{const{actions:e,books:t,lineActions:r,sceneActions:n}=this.props,a=Object(Dc.c)(t.allIds);e.addBook(),r.addLine(a),n.addScene(a)}),Qv(this,"reorder",(e,t)=>{const r=this.props.books.allIds,[n]=r.splice(e,1);return r.splice(t,0,n),r}),Qv(this,"onDragEnd",e=>{if(!e.destination)return;const t=this.reorder(e.source.index,e.destination.index);this.props.actions.reorderBooks(t)})}renderBooks(){return this.props.books.allIds.map((e,t)=>v.a.createElement($v,{key:e,draggableId:e.toString(),index:t},(r,n)=>v.a.createElement("div",Object.assign({ref:r.innerRef},r.draggableProps,r.dragHandleProps,{style:r.draggableProps.style,className:A()("book-list__droppable",{dragging:n.isDragging})}),v.a.createElement(Jp,{bookId:e,bookNumber:t+1}))))}render(){return v.a.createElement("div",{className:"book-list__container"},v.a.createElement("h2",null,`${Ae()("Books")} `,v.a.createElement("span",{onClick:this.addBook},v.a.createElement(x.a,{glyph:"plus"}))),v.a.createElement(fv,{onDragEnd:this.onDragEnd},v.a.createElement(Zv,{droppableId:"droppable",direction:"horizontal"},(e,t)=>v.a.createElement("div",Object.assign({ref:e.innerRef,className:A()("book-list__list",{dragging:t.isDraggingOver})},e.droppableProps),this.renderBooks(),e.placeholder,v.a.createElement(Jp,{addBook:this.addBook})))))}}Qv(ey,"propTypes",{ui:_.a.object.isRequired,books:_.a.object.isRequired,actions:_.a.object});var ty=Object(w.connect)((function(e){return{ui:e.present.ui,books:e.present.books}}),(function(e){return{actions:Object(E.bindActionCreators)(m,e),lineActions:Object(E.bindActionCreators)(p,e),sceneActions:Object(E.bindActionCreators)(a,e)}}))(ey);class ry extends b.Component{render(){return v.a.createElement(Ke,null,v.a.createElement("div",{className:"series__container"},v.a.createElement("h2",{style:{paddingLeft:"40px"}},Ae()("Series")),v.a.createElement(qp,null),v.a.createElement(ty,null)))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ry,"propTypes",{});var ny=r(107);class ay extends b.Component{render(){return v.a.createElement(Ke,null,v.a.createElement("div",null,v.a.createElement("h1",{className:"secondary-text"},Ae()("Export")),v.a.createElement(Ya.a,{horizontal:!0},v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:1},Ae()("Name")),v.a.createElement(Ja.a,{sm:4},v.a.createElement(tn.a,{type:"text",ref:"name",defaultValue:series.name})),v.a.createElement(Ja.a,{componentClass:bi.a,sm:1},Ae()("Premise")),v.a.createElement(Ja.a,{sm:4},v.a.createElement(tn.a,{type:"text",ref:"premise",defaultValue:series.premise}))))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ay,"propTypes",{ui:_.a.object.isRequired,series:_.a.object.isRequired,books:_.a.object.isRequired});var iy=Object(w.connect)((function(e){return{ui:e.present.ui,series:e.present.series,books:e.present.books}}),(function(e){return{}}))(ay),oy=r(75),sy=r.n(oy),cy=r(181),ly=r.n(cy),uy=r(384),dy=r.n(uy),py=r(385),fy=r.n(py);r(796);function hy(e){const[t,r]=Object(b.useState)(!1);return v.a.createElement("div",{className:A()("image-picker__dropzone",{dropping:t}),onDrop:e=>{e.stopPropagation(),e.preventDefault(),r(!1);const{files:t}=e.dataTransfer;if(t&&t.length>0)for(const e of t)g.ipcRenderer.send("dev-open-analyzer-file",e.name,e.path)},onDragOver:e=>{e.preventDefault(),r(!0)},style:{height:"20px",width:"200px",border:"1px solid orange",display:"inline-block",margin:0,marginLeft:"10px"}})}function my(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class gy extends b.Component{constructor(...e){super(...e),my(this,"state",{tab:"search",path:null,tree:null}),my(this,"handleClick",({key:e,value:t,path:r})=>{""!=r&&this.setState({path:r,tree:t})}),my(this,"searchCardsByLine",e=>{this.searchCards([["lineId",e.target.value]])}),my(this,"searchCardsByChapter",e=>{this.searchCards([["chapterId",e.target.value]])}),my(this,"searchCards",e=>{const{pltr:t}=this.props,r=t.cards.filter(t=>e.some(e=>t[e[0]]==e[1]));this.setState({tree:r,path:"cards"})}),my(this,"searchLines",e=>{const{pltr:t}=this.props,r=t.lines.filter(t=>t.id==e.target.value);this.setState({tree:r,path:"lines"})}),my(this,"searchChapters",e=>{const{pltr:t}=this.props,r=t.chapters.filter(t=>t.id==e.target.value);this.setState({tree:r,path:"chapters"})}),my(this,"searchCardsById",e=>{const{pltr:t}=this.props,r=t.cards.filter(t=>t.id==e.target.value);this.setState({tree:r,path:"cards"})}),my(this,"searchAbandoned",()=>{const{pltr:e}=this.props,t=e.cards,r=e.lines.map(e=>e.id),n=e.chapters.map(e=>e.id),a=e.seriesLines.map(e=>e.id),i=e.beats.map(e=>e.id),o=t.filter(e=>!(r.includes(e.lineId)||n.includes(e.chapterId)||a.includes(e.seriesLineId)||i.includes(e.beatId)));this.setState({tree:o,path:"cards"})}),my(this,"searchDuplicateChapters",()=>{const{pltr:e}=this.props,t=e.chapters.map(e=>e.id),r=sy()(ly()(bs()(t),e=>e.length>1)).map(Number);let n=[];r&&(n=bs()(e.chapters.filter(e=>r.includes(e.id)),"id")),this.setState({tree:n,path:"chapters"})}),my(this,"searchDuplicateLines",()=>{const{pltr:e}=this.props,t=e.lines.map(e=>e.id),r=sy()(ly()(bs()(t),e=>e.length>1)).map(Number);let n=[];r&&(n=bs()(e.lines.filter(e=>r.includes(e.id)),"id")),this.setState({tree:n,path:"lines"})}),my(this,"searchDuplicateCards",()=>{const{pltr:e}=this.props,t=e.cards.map(e=>e.id),r=sy()(ly()(bs()(t),e=>e.length>1)).map(Number);let n=[];r&&(n=bs()(e.cards.filter(e=>r.includes(e.id)),"id")),this.setState({tree:n,path:"cards"})}),my(this,"searchChaptersByPosition",e=>{const{pltr:t}=this.props,r=t.chapters.filter(t=>t.position==e.target.value);this.setState({tree:r,path:"chapters"})}),my(this,"moveBookToIdOne",()=>{const e=Object($.findDOMNode)(this.idToMove).value;if(e)if("series"==e);else{const{pltr:t}=this.props,r=new RegExp(`bookId":s?${e},`,"g"),n=JSON.parse(JSON.stringify(t).replace(r,'bookId":1,'));console.log(n.books,n.chapters.filter(e=>"1"==e.bookId),n.lines.filter(e=>"1"==e.bookId))}})}renderDetails(){return this.state.tree?v.a.createElement("div",{className:"analyzer__details"},v.a.createElement(dy.a,{src:this.state.tree,name:this.state.path,iconStyle:"circle"})):null}renderTree(){const{pltr:e}=this.props;return v.a.createElement("div",{className:"analyzer__tree"},v.a.createElement(fy.a,{data:e,onClick:this.handleClick,searchOptions:{debounceTime:300}}))}renderTab(){const{pltr:e}=this.props;if("search"==this.state.tab)return v.a.createElement(ot,{fluid:!0},v.a.createElement(gi,null,v.a.createElement(Ja.a,{sm:12,md:5},this.renderTree()),v.a.createElement(Ja.a,{sm:12,md:7},v.a.createElement("h3",null,this.state.path),this.renderDetails())));if("cards"==this.state.tab){const t=Object(Dc.b)(e.cards);return v.a.createElement(ot,{fluid:!0},v.a.createElement(gi,null,v.a.createElement(Ja.a,{sm:12,md:5},v.a.createElement("div",null,v.a.createElement("input",{onChange:this.searchCardsById,placeholder:"Card Id"}),v.a.createElement("input",{onChange:this.searchCardsByLine,placeholder:"Line Id"}),v.a.createElement("input",{onChange:this.searchCardsByChapter,placeholder:"Chapter Id"}),v.a.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),v.a.createElement("span",{className:"analyzer__sub-option"},v.a.createElement("a",{href:"#",onClick:this.searchAbandoned},"Abandoned")),v.a.createElement("span",{className:"analyzer__sub-option"},v.a.createElement("a",{href:"#",onClick:this.searchDuplicateCards},"Duplicates"))),this.renderDetails())))}if("lines"==this.state.tab){const t=Object(Dc.b)(e.lines);return v.a.createElement(ot,{fluid:!0},v.a.createElement(gi,null,v.a.createElement(Ja.a,{sm:12,md:5},v.a.createElement("div",null,v.a.createElement("input",{onChange:this.searchLines,placeholder:"Line Id"}),v.a.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),v.a.createElement("span",{className:"analyzer__sub-option"},v.a.createElement("a",{href:"#",onClick:this.searchDuplicateLines},"Duplicates"))),this.renderDetails())))}if("chapters"==this.state.tab){const t=Object(Dc.b)(e.chapters);return v.a.createElement(ot,{fluid:!0},v.a.createElement(gi,null,v.a.createElement(Ja.a,{sm:12,md:5},v.a.createElement("div",null,v.a.createElement("input",{onChange:this.searchChaptersByPosition,placeholder:"Chapter Position"}),v.a.createElement("input",{onChange:this.searchChapters,placeholder:"Chapter Id"}),v.a.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),v.a.createElement("span",{className:"analyzer__sub-option"},v.a.createElement("a",{href:"#",onClick:this.searchDuplicateChapters},"Duplicates"))),this.renderDetails())))}if("books"==this.state.tab){const t=Object(Dc.c)(e.books);return v.a.createElement(ot,{fluid:!0},v.a.createElement(gi,null,v.a.createElement(Ja.a,{sm:12,md:5},v.a.createElement("div",null,v.a.createElement("input",{ref:e=>this.idToMove=e,placeholder:"Id To Move"}),v.a.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),v.a.createElement("span",{className:"analyzer__sub-option"},v.a.createElement("a",{href:"#",onClick:this.moveBookToIdOne},"Move to Book 1"))),this.renderDetails())))}}render(){const{pltr:e}=this.props;return v.a.createElement("div",{className:"analyzer__container"},v.a.createElement("h3",null,e.file.version," ",v.a.createElement("small",null,e.file.fileName),v.a.createElement(hy,null)),v.a.createElement("div",{className:"analyzer__tabs"},v.a.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"search",tree:null,path:null})},"Search"),v.a.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"cards",tree:null,path:null})},"Cards"),v.a.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"lines",tree:null,path:null})},"Lines"),v.a.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"chapters",tree:null,path:null})},"Chapters"),v.a.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"books",tree:null,path:null})},"Books")),this.renderTab(),v.a.createElement("div",null))}}var by=Object(w.connect)((function(e){return{pltr:e.present}}),(function(e){return{}}))(gy),vy=()=>v.a.createElement(Ke,null,v.a.createElement(by,null));class yy extends b.Component{render(){switch(this.props.currentView){case"story":return v.a.createElement(ry,null);case"timeline":return v.a.createElement(Mp,null);case"outline":return v.a.createElement(Mo,null);case"notes":return v.a.createElement(Il,null);case"tags":return v.a.createElement(ts,null);case"characters":return v.a.createElement(Fc,null);case"places":return v.a.createElement(tl,null);case"export":return v.a.createElement(iy,null);case"analyzer":return v.a.createElement(vy,null);default:return v.a.createElement(Mp,null)}}}yy.propTypes={currentView:_.a.string.isRequired};var _y=Object(w.connect)((function(e){return{currentView:e.present.ui.currentView}}),(function(e){return{}}))(yy),Ey=(r(798),r(386)),wy=r.n(Ey),Oy=r(387),xy=r.n(Oy),Cy=r(388),ky=r.n(Cy);function Iy(){return(Iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function jy(e,t){return r=t,n=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):null!=e&&(e.current=t),e}(e,t)}))},(a=Object(b.useState)((function(){return{value:r,callback:n,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}}))[0]).callback=n,a.facade;var r,n,a}var Sy={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Ty=function(e){var t=e.children;return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:Sy}),t,t&&v.a.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:Sy}))};Ty.propTypes={},Ty.defaultProps={children:null};var Ay=function(){return(Ay=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Ny(e){return e}function Dy(e,t){void 0===t&&(t=Ny);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var a=t(e,n);return r.push(a),function(){r=r.filter((function(e){return e!==a}))}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var a=r;r=[],a.forEach(e),t=r}var i=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(i)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}}}function Py(e,t){return void 0===t&&(t=Ny),Dy(e,t)}var Ry=Py({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),My=Py(),Fy=Py(),Ly=function(e){void 0===e&&(e={});var t=Dy(null);return t.options=Ay({async:!0,ssr:!1},e),t}({async:!0}),By=[],qy=v.a.forwardRef((function(e,t){var r,n=Object(b.useState)(),a=n[0],i=n[1],o=Object(b.useRef)(),s=Object(b.useRef)(!1),c=Object(b.useRef)(null),l=e.children,u=e.disabled,d=e.noFocusGuards,p=e.persistentFocus,f=e.autoFocus,h=(e.allowTextSelection,e.group),m=e.className,g=e.whiteList,y=e.shards,_=void 0===y?By:y,E=e.as,w=void 0===E?"div":E,O=e.lockProps,x=void 0===O?{}:O,C=e.sideCar,k=e.returnFocus,I=e.onActivation,j=e.onDeactivation,S=Object(b.useState)({})[0],T=Object(b.useCallback)((function(){c.current=c.current||document&&document.activeElement,o.current&&I&&I(o.current),s.current=!0}),[I]),A=Object(b.useCallback)((function(){s.current=!1,j&&j(o.current)}),[j]),N=Object(b.useCallback)((function(e){var t=c.current;if(Boolean(k)&&t&&t.focus){var r="object"==typeof k?k:void 0;c.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}),[k]),D=Object(b.useCallback)((function(e){s.current&&Ry.useMedium(e)}),[]),P=My.useMedium,R=Object(b.useCallback)((function(e){o.current!==e&&(o.current=e,i(e))}),[]);var M=Iy(((r={})["data-focus-lock-disabled"]=u&&"disabled",r["data-focus-lock"]=h,r),x),F=!0!==d,L=F&&"tail"!==d,B=jy([t,R]);return v.a.createElement(v.a.Fragment,null,F&&[v.a.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:u?-1:0,style:Sy}),v.a.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:u?-1:1,style:Sy})],!u&&v.a.createElement(C,{id:S,sideCar:Ly,observed:a,disabled:u,persistentFocus:p,autoFocus:f,whiteList:g,shards:_,onActivation:T,onDeactivation:A,returnFocus:N}),v.a.createElement(w,Iy({ref:B},M,{className:m,onBlur:P,onFocus:D}),l),L&&v.a.createElement("div",{"data-focus-guard":!0,tabIndex:u?-1:0,style:Sy}))}));qy.propTypes={},qy.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var Hy=qy;var zy=function(e,t){return function(r){var n,a=[];function i(){n=e(a.map((function(e){return e.props}))),t(n)}var o=function(e){var t,o;function s(){return e.apply(this,arguments)||this}o=e,(t=s).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o,s.peek=function(){return n};var c=s.prototype;return c.componentDidMount=function(){a.push(this),i()},c.componentDidUpdate=function(){i()},c.componentWillUnmount=function(){var e=a.indexOf(this);a.splice(e,1),i()},c.render=function(){return v.a.createElement(r,this.props)},s}(b.PureComponent);return function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(o,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),o}},Uy=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t},Wy=function(e){return Array.isArray(e)?e:[e]},Gy=function(){return document&&Uy(document.querySelectorAll("[data-no-focus-lock]")).some((function(e){return e.contains(document.activeElement)}))},Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky=function(e){return Wy(e).filter(Boolean).reduce((function(e,t){var r=t.getAttribute("data-focus-lock");return e.push.apply(e,r?function e(t){for(var r=t.length,n=0;n<r;n+=1)for(var a=function(r){if(n!==r&&t[n].contains(t[r]))return{v:e(t.filter((function(e){return e!==t[r]})))}},i=0;i<r;i+=1){var o=a(i);if("object"===(void 0===o?"undefined":Vy(o)))return o.v}return t}(Uy(function e(t){return t.parentNode?e(t.parentNode):t}(t).querySelectorAll('[data-focus-lock="'+r+'"]:not([data-focus-lock-disabled="disabled"])'))):[t]),e}),[])},$y=function(e){return e===document.activeElement},Yy=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&Ky(e).reduce((function(e,r){return e||r.contains(t)||function(e){return t=Uy(e.querySelectorAll("iframe")),r=$y,!!t.filter((function(e){return e===r}))[0];var t,r}(r)}),!1)},Jy=function(e,t){var r=e.tabIndex-t.tabIndex,n=e.index-t.index;if(r){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return r||n},Xy=function(e,t,r){return Uy(e).map((function(e,t){return{node:e,index:t,tabIndex:r&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(Jy)},Zy=["button:enabled:not([readonly])","select:enabled:not([readonly])","textarea:enabled:not([readonly])","input:enabled:not([readonly])","a[href]","area[href]","iframe","object","embed","[tabindex]","[contenteditable]","[autofocus]"],Qy=Zy.join(","),e_=Qy+", [data-focus-guard]",t_=function(e,t){return e.reduce((function(e,r){return e.concat(Uy(r.querySelectorAll(t?e_:Qy)),r.parentNode?Uy(r.parentNode.querySelectorAll(Zy.join(","))).filter((function(e){return e===r})):[])}),[])},r_=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.push(t),t.parentNode&&e(t.parentNode,r),r},n_=function(e,t){for(var r=r_(e),n=r_(t),a=0;a<r.length;a+=1){var i=r[a];if(n.indexOf(i)>=0)return i}return!1},a_=function(e){return Uy(e).filter((function(e){return function e(t){return!t||t===document||t.nodeType===Node.DOCUMENT_NODE||!((r=window.getComputedStyle(t,null))&&r.getPropertyValue&&("none"===r.getPropertyValue("display")||"hidden"===r.getPropertyValue("visibility")))&&e(t.parentNode);var r}(e)})).filter((function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)}))},i_=function(e,t){return Xy(a_(t_(e,t)),!0,t)},o_=function(e){return a_((t=e.querySelectorAll("[data-autofocus-inside]"),Uy(t).map((function(e){return t_([e])})).reduce((function(e,t){return e.concat(t)}),[])));var t},s_=function(e){return"INPUT"===e.tagName&&"radio"===e.type},c_=function(e){return e[0]&&e.length>1&&s_(e[0])&&e[0].name?function(e,t){return t.filter(s_).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e[0],e):e[0]},l_=function(e){return e.dataset&&e.dataset.focusGuard},u_=function(e){return!l_(e)},d_=function(e,t,r){var n=Wy(e),a=Wy(t),i=n[0],o=null;return a.filter(Boolean).forEach((function(e){o=n_(o||e,e)||o,r.filter(Boolean).forEach((function(e){var t=n_(i,e);t&&(o=!o||t.contains(o)?t:n_(t,o))}))})),o},p_=function(e,t){var r=document&&document.activeElement,n=Ky(e).filter(u_),a=d_(r||e,e,n),i=i_(n).filter((function(e){var t=e.node;return u_(t)}));if(i[0]||(i=(o=n,Xy(a_(t_(o)),!1)).filter((function(e){var t=e.node;return u_(t)})))[0]){var o,s,c,l,u,d=i_([a]).map((function(e){return e.node})),p=(s=d,c=i,l=new Map,c.forEach((function(e){return l.set(e.node,e)})),s.map((function(e){return l.get(e)})).filter(Boolean)),f=p.map((function(e){return e.node})),h=function(e,t,r,n,a){var i=e.length,o=e[0],s=e[i-1];if(!(e.indexOf(r)>=0)){var c=t.indexOf(r),l=t.indexOf(n||c),u=e.indexOf(n),d=c-l,p=t.indexOf(o),f=t.indexOf(s);return-1===c||-1===u?e.indexOf(a.length?c_(a):c_(e)):!d&&u>=0?u:c<=p&&l_(r)&&Math.abs(d)>1?0:d&&Math.abs(d)>1?u:c<=p?i-1:c>f?0:d?Math.abs(d)>1?u:(i+u+d)%i:void 0}}(f,d,r,t,f.filter((u=function(e){return e.reduce((function(e,t){return e.concat(o_(t))}),[])}(n),function(e){return!!e.autofocus||e.dataset&&!!e.dataset.autofocus||u.indexOf(e)>=0})));return void 0===h?h:p[h]}},f_=0,h_=!1,m_=function(e,t){var r,n=p_(e,t);if(!h_&&n){if(f_>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),h_=!0,void setTimeout((function(){h_=!1}),1);f_++,(r=n.node).focus(),r.contentWindow&&r.contentWindow.focus(),f_--}};function g_(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var b_=function(){return document&&document.activeElement===document.body||Gy()},v_=null,y_=null,__=null,E_=!1,w_=function(){return!0};function O_(e,t,r,n){var a=null,i=e;do{var o=n[i];if(o.guard)o.node.dataset.focusAutoGuard&&(a=o);else{if(!o.lockItem)break;if(i!==e)return;a=null}}while((i+=r)!==t);a&&(a.node.tabIndex=0)}var x_=function(e){return e&&"current"in e?e.current:e},C_=function(){var e,t,r,n,a,i,o=!1;if(v_){var s=v_,c=s.observed,l=s.persistentFocus,u=s.autoFocus,d=s.shards,p=c||__&&__.portaledElement,f=document&&document.activeElement;if(p){var h=[p].concat(d.map(x_).filter(Boolean));if(f&&!function(e){return(v_.whiteList||w_)(e)}(f)||(l||E_||!b_()||!y_&&u)&&(!p||Yy(h)||(i=f,__&&__.portaledElement===i)||(document&&!y_&&f&&!u?(f.blur(),document.body.focus()):(o=m_(h,y_),__={})),E_=!1,y_=document&&document.activeElement),document){var m=document&&document.activeElement,g=(t=Ky(e=h).filter(u_),r=d_(e,e,t),n=i_([r],!0),a=i_(t).filter((function(e){var t=e.node;return u_(t)})).map((function(e){return e.node})),n.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:a.indexOf(t)>=0,guard:l_(t)}}))),b=g.find((function(e){return e.node===m}));if(b){g.filter((function(e){var t=e.guard,r=e.node;return t&&r.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")}));var v=g.indexOf(b);O_(v,g.length,1,g),O_(v,-1,-1,g)}}}}return o},k_=function(e){C_()&&e&&(e.stopPropagation(),e.preventDefault())},I_=function(){return g_(C_)},j_=function(e){var t=e.target,r=e.currentTarget;r.contains(t)||(__={observerNode:r,portaledElement:t})},S_=function(){E_=!0};Ry.assignSyncMedium(j_),My.assignMedium(I_),Fy.assignMedium((function(e){return e({moveFocusInside:m_,focusInside:Yy})}));var T_=zy((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!v_&&(document.addEventListener("focusin",k_,!0),document.addEventListener("focusout",I_),window.addEventListener("blur",S_));var r=v_,n=r&&t&&t.id===r.id;v_=t,r&&!n&&(r.onDeactivation(),e.filter((function(e){return e.id===r.id})).length||r.returnFocus(!t)),t?(y_=null,n&&r.observed===t.observed||t.onActivation(),C_(),g_(C_)):(document.removeEventListener("focusin",k_,!0),document.removeEventListener("focusout",I_),window.removeEventListener("blur",S_),y_=null)}))((function(){return null})),A_=v.a.forwardRef((function(e,t){return v.a.createElement(Hy,Iy({sideCar:T_,ref:t},e))})),N_=Hy.propTypes||{},D_=(N_.sideCar,function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(N_,["sideCar"]));A_.propTypes=D_;var P_=A_,R_=r(59);function M_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L_(Object(r),!0).forEach((function(t){F_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q_(e){return(q_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H_(e,t){return(H_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function W_(){var e=U_(["\n  .focus-outline-hidden :focus {\n      outline: none;\n  }\n"]);return W_=function(){return e},e}var G_=Object(R_.createGlobalStyle)(W_());function V_(){var e=U_(["\n  display: block;\n  padding: 0;\n  border: 0;\n  background: none;\n  font-size: 0;\n  cursor: ",";\n"]);return V_=function(){return e},e}var K_=R_.default.button(V_(),(function(e){return e.disabled?"not-allowed":"pointer"}));function $_(){var e=U_(["\n  color: ",";\n\n  ",";\n  ",";\n\n  &:hover {\n    color: ",";\n  }\n"]);return $_=function(){return e},e}function Y_(){var e=U_(["\n  font-size: 12px;\n  line-height: 1;\n"]);return Y_=function(){return e},e}var J_=R_.default.span(Y_());function X_(e){var t=e.className,r=e.onClick,n=e.inverted,a=e.label,i=e.disabled;return v.a.createElement(K_,{className:t,onClick:r,"data-tour-elem":"".concat(n?"right":"left","-arrow"),disabled:i},a?v.a.createElement(J_,null,a):v.a.createElement("svg",{viewBox:"0 0 18.4 14.4"},v.a.createElement("path",{d:n?"M17 7.2H1M10.8 1L17 7.2l-6.2 6.2":"M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10"})))}X_.propTypes={className:D.a.string.isRequired,onClick:D.a.func.isRequired,inverted:D.a.bool,label:D.a.node,disabled:D.a.bool};var Z_=Object(R_.default)(X_)($_(),(function(e){return e.disabled?"#caccce":"#646464"}),(function(e){return e.inverted?"margin-left: 24px;":"margin-right: 24px;"}),(function(e){return!e.label&&"\n    width: 16px;\n    height: 12px;\n    flex: 0 0 16px;\n  "}),(function(e){return e.disabled?"#caccce":"#000"}));function Q_(){var e=U_(["\n  position: absolute;\n  top: 22px;\n  right: 22px;\n  width: 9px;\n  height: 9px;\n  color: #5e5e5e;\n  &:hover {\n    color: #000;\n  }\n"]);return Q_=function(){return e},e}function eE(e){var t=e.className,r=e.onClick;return v.a.createElement(K_,{className:t,onClick:r},v.a.createElement("svg",{viewBox:"0 0 9.1 9.1"},v.a.createElement("path",{fill:"currentColor",d:"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z"})))}eE.propTypes={className:D.a.string.isRequired,onClick:D.a.func.isRequired};var tE=Object(R_.default)(eE)(Q_());function rE(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function nE(e){return e===document.querySelector("body")||e===document.querySelector("html")}var aE=function(e,t){return e>t},iE=function(e,t){return e>t},oE=function(e){return e<0?0:e};function sE(){var e=U_(["\n  --reactour-accent: ",";\n  ","\n  position: fixed;\n  transition: transform 0.3s;\n  top: 0;\n  left: 0;\n  z-index: 1000000;\n\n  transform: ",";\n"]);return sE=function(){return e},e}var cE=R_.default.div(sE(),(function(e){return e.accentColor}),(function(e){return e.defaultStyles?"\n  max-width: 331px;\n  min-width: 150px;\n  padding-right: 40px;\n  border-radius: ".concat(e.rounded,"px;\n  background-color: #fff;\n  padding: 24px 30px;\n  box-shadow: 0 0.5em 3em rgba(0, 0, 0, 0.3);\n  color: inherit;\n  "):""}),(function(e){var t=e.targetTop,r=e.targetRight,n=e.targetBottom,a=e.targetLeft,i=e.windowWidth,o=e.windowHeight,s=e.helperWidth,c=e.helperHeight,l=e.helperPosition,u=e.padding,d={left:a,right:i-r,top:t,bottom:o-n},p=function(e){return d[e]>(function(e){return/(left|right)/.test(e)}(e)?s+2*u:c+2*u)},f=function(e){for(var t,r=(t=d,Object.keys(t).map((function(e){return{position:e,value:t[e]}})).sort((function(e,t){return t.value-e.value})).map((function(e){return e.position}))),n=0;n<r.length;n++)if(p(r[n]))return e[r[n]];return e.center},h=function(e){if(Array.isArray(e)){var l=aE(e[0],i),d=iE(e[1],o),h=function(e,t){console.warn("".concat(e,":").concat(t," is outside window, falling back to center"))};return l&&h("x",e[0]),d&&h("y",e[1]),[l?i/2-s/2:e[0],d?o/2-c/2:e[1]]}var m=aE(a+s,i)?aE(r+u,i)?r-s:r-s+u:a-u,g=m>u?m:u,b=iE(t+c,o)?iE(n+u,o)?n-c:n-c+u:t-u,v=b>u?b:u,y={top:[g,t-c-2*u],right:[r+2*u,v],bottom:[g,n+2*u],left:[a-s-2*u,v],center:[i/2-s/2,o/2-c/2]};return"center"===e||p(e)?y[e]:f(y)}(l);return"translate(".concat(Math.round(h[0]),"px, ").concat(Math.round(h[1]),"px)")}));function lE(){var e=U_(["\n  position: absolute;\n  font-family: monospace;\n  background: var(--reactour-accent);\n  background: ",";\n  height: 1.875em;\n  line-height: 2;\n  padding-left: 0.8125em;\n  padding-right: 0.8125em;\n  font-size: 1em;\n  border-radius: 1.625em;\n  color: white;\n  text-align: center;\n  box-shadow: 0 0.25em 0.5em rgba(0, 0, 0, 0.3);\n  top: -0.8125em;\n  left: -0.8125em;\n"]);return lE=function(){return e},e}var uE=R_.default.span(lE(),(function(e){return e.accentColor}));function dE(){var e=U_(["\n  display: flex;\n  margin-top: 24px;\n  align-items: center;\n"]);return dE=function(){return e},e}var pE=R_.default.div(dE());function fE(){var e=U_(["\n  counter-reset: dot;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n"]);return fE=function(){return e},e}var hE=R_.default.nav(fE());function mE(){var e=U_(["\n  counter-increment: dot;\n  width: 8px;\n  height: 8px;\n  border: ",";\n\n  border-radius: 100%;\n  padding: 0;\n  display: block;\n  margin: 4px;\n  transition: opacity 0.3s, transform 0.3s;\n  cursor: ",";\n  transform: scale(",");\n\n  color: ",";\n  background: ",";\n\n  color: ",";\n  background: ",";\n\n  &:before {\n    content: counter(dot);\n    position: absolute;\n    bottom: calc(100% + 0.25em);\n    left: 50%;\n    opacity: 0;\n    transform: translate(-50%, 1em);\n    transition: 0.3s;\n    display: ",";\n  }\n\n  &:hover {\n    background-color: currentColor;\n\n    &:before {\n      opacity: 0.5;\n      transform: translate(-50%, -2px);\n    }\n  }\n"]);return mE=function(){return e},e}var gE=R_.default.button(mE(),(function(e){return e.current===e.index?"0":"1px solid #caccce"}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.current===e.index?1.25:1}),(function(e){return e.current===e.index?"var(--reactour-accent)":"#caccce"}),(function(e){return e.current===e.index?"var(--reactour-accent)":"none"}),(function(e){return e.current===e.index?e.accentColor:"#caccce"}),(function(e){return e.current===e.index?e.accentColor:"none"}),(function(e){return e.showNumber?"block":"none"}));function bE(){var e=U_(["\n  opacity: 0.7;\n  width: 100%;\n  left: 0;\n  top: 0;\n  height: 100%;\n  position: fixed;\n  z-index: 99999;\n  pointer-events: none;\n  color: #000;\n"]);return bE=function(){return e},e}var vE=R_.default.div(bE());function yE(e){var t=e.windowWidth,r=e.windowHeight,n=e.targetWidth,a=e.targetHeight,i=e.targetTop,o=e.targetLeft,s=e.padding,c=e.rounded,l=e.disableInteraction,u=e.disableInteractionClassName,d=e.className,p=e.onClick,f=oE(n+2*s),h=oE(a+2*s),m=oE(i-s),g=oE(o-s);return v.a.createElement(vE,{onClick:p},v.a.createElement("svg",{width:t,height:r,xmlns:"http://www.w3.org/2000/svg",className:d},v.a.createElement("defs",null,v.a.createElement("mask",{id:"mask-main"},v.a.createElement("rect",{x:0,y:0,width:t,height:r,fill:"white"}),v.a.createElement("rect",{x:g,y:m,width:f,height:h,fill:"black"}),v.a.createElement("rect",{x:g-1,y:m-1,width:c,height:c,fill:"white"}),v.a.createElement("circle",{cx:g+c,cy:m+c,r:c,fill:"black"}),v.a.createElement("rect",{x:g+f-c+1,y:m-1,width:c,height:c,fill:"white"}),v.a.createElement("circle",{cx:g+f-c,cy:m+c,r:c,fill:"black"}),v.a.createElement("rect",{x:g-1,y:m+h-c+1,width:c,height:c,fill:"white"}),v.a.createElement("circle",{cx:g+c,cy:m+h-c,r:c,fill:"black"}),v.a.createElement("rect",{x:g+f-c+1,y:m+h-c+1,width:c,height:c,fill:"white"}),v.a.createElement("circle",{cx:g+f-c,cy:m+h-c,r:c,fill:"black "})),v.a.createElement("clipPath",{id:"clip-path"},v.a.createElement("rect",{x:0,y:0,width:t,height:m}),v.a.createElement("rect",{x:0,y:m,width:g,height:h}),v.a.createElement("rect",{x:o+n+s,y:m,width:oE(t-n-g),height:h}),v.a.createElement("rect",{x:0,y:i+a+s,width:t,height:oE(r-a-m)}))),v.a.createElement("rect",{x:0,y:0,width:t,height:r,fill:"currentColor",mask:"url(#mask-main)"}),v.a.createElement("rect",{x:0,y:0,width:t,height:r,fill:"currentColor",clipPath:"url(#clip-path)",pointerEvents:"auto"}),v.a.createElement("rect",{x:g,y:m,width:f,height:h,pointerEvents:"auto",fill:"transparent",display:l?"block":"none",className:u})))}function _E(e){var t=e.children,r=Object(b.useRef)(null);return null===r.current&&(r.current=document.createElement("div"),r.current.setAttribute("id","___reactour")),Object(b.useEffect)((function(){return document.body.appendChild(r.current),function(){document.body.removeChild(r.current)}}),[r]),Object($.createPortal)(t,r.current)}yE.propTypes={windowWidth:D.a.number.isRequired,windowHeight:D.a.number.isRequired,targetWidth:D.a.number.isRequired,targetHeight:D.a.number.isRequired,targetTop:D.a.number.isRequired,targetLeft:D.a.number.isRequired,padding:D.a.number.isRequired,rounded:D.a.number.isRequired,disableInteraction:D.a.bool.isRequired,disableInteractionClassName:D.a.string.isRequired};var EE={badgeContent:D.a.func,highlightedMaskClassName:D.a.string,children:D.a.oneOfType([D.a.node,D.a.element]),className:D.a.string,closeWithMask:D.a.bool,inViewThreshold:D.a.number,isOpen:D.a.bool.isRequired,lastStepNextButton:D.a.node,maskClassName:D.a.string,maskSpace:D.a.number,nextButton:D.a.node,onAfterOpen:D.a.func,onBeforeClose:D.a.func,onRequestClose:D.a.func,prevButton:D.a.node,scrollDuration:D.a.number,scrollOffset:D.a.number,showButtons:D.a.bool,showCloseButton:D.a.bool,showNavigation:D.a.bool,showNavigationNumber:D.a.bool,showNumber:D.a.bool,startAt:D.a.number,goToStep:D.a.number,getCurrentStep:D.a.func,nextStep:D.a.func,prevStep:D.a.func,steps:D.a.arrayOf(D.a.shape({selector:D.a.string,content:D.a.oneOfType([D.a.node,D.a.element,D.a.func]).isRequired,position:D.a.oneOfType([D.a.arrayOf(D.a.number),D.a.oneOf(["top","right","bottom","left","center"])]),action:D.a.func,style:D.a.object,stepInteraction:D.a.bool,navDotAriaLabel:D.a.string})),update:D.a.string,updateDelay:D.a.number,disableInteraction:D.a.bool,disableDotsNavigation:D.a.bool,disableKeyboardNavigation:D.a.oneOfType([D.a.arrayOf(D.a.oneOf(["esc","right","left"])),D.a.bool]),rounded:D.a.number,accentColor:D.a.string},wE={base:"reactour__mask",isOpen:"reactour__mask--is-open",disableInteraction:"reactour__mask--disable-interaction"},OE={base:"reactour__helper",isOpen:"reactour__helper--is-open"},xE={base:"reactour__dot",active:"reactour__dot--is-active"},CE=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?z_(e):t}(this,q_(t).call(this)),F_(z_(e),"unlockFocus",(function(t){e.setState({focusUnlocked:!0},t())})),F_(z_(e),"showStep",(function(){var t=e.props.steps,r=e.state,n=r.current;r.focusUnlocked&&e.setState({focusUnlocked:!1});var a=t[n],i=a.selector?document.querySelector(a.selector):null,o=function(t){a.action&&"function"==typeof a.action&&e.unlockFocus((function(){return a.action(t)}))};if(a.observe){var s=document.querySelector(a.observe),c={attributes:!0,childList:!0,characterData:!0};e.setState((function(t){return t.observer&&setTimeout((function(){t.observer.disconnect()}),0),{observer:new MutationObserver((function(t){t.forEach((function(t){if("childList"===t.type&&t.addedNodes.length>0){var r=function(){return o(t.addedNodes[0])};setTimeout((function(){return e.calculateNode(t.addedNodes[0],a.position,r)}),100)}else if("childList"===t.type&&t.removedNodes.length>0){e.calculateNode(i,a.position,(function(){return o(i)}))}}))}))}}),(function(){return e.state.observer.observe(s,c)}))}else e.state.observer&&(e.state.observer.disconnect(),e.setState({observer:null}));if(i){e.calculateNode(i,a.position,(function(){return o(i)}))}else e.setState(kE(null,e.helper.current,a.position),o),a.selector&&console.warn("Doesn't find a DOM node '".concat(a.selector,"'. Please check the 'steps' Tour prop Array at position ").concat(n,"."))})),F_(z_(e),"calculateNode",(function(t,r,n){var a=e.props,i=a.scrollDuration,o=a.inViewThreshold,s=a.scrollOffset,c=rE(t),l=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(function(e){var t=e.top,r=e.right,n=e.bottom,a=e.left,i=e.w,o=e.h,s=e.threshold,c=void 0===s?0:s;return t>=0+c&&a>=0+c&&n<=o-c&&r<=i-c}(B_({},c,{w:l,h:u,threshold:o})))e.setState(kE(t,e.helper.current,r),n);else{var d=xy()(t),p=s||(c.height>u?-25:-u/2+c.height/2);wy.a.to(t,{context:nE(d)?window:d,duration:i,offset:p,callback:function(t){e.setState(kE(t,e.helper.current,r),n)}})}})),F_(z_(e),"maskClickHandler",(function(t){var r=e.props,n=r.closeWithMask,a=r.onRequestClose;n&&!t.target.classList.contains(wE.disableInteraction)&&a(t)})),F_(z_(e),"nextStep",(function(){var t=e.props,r=t.steps,n=t.getCurrentStep;e.setState((function(e){var t=e.current<r.length-1?e.current+1:e.current;return"function"==typeof n&&n(t),{current:t}}),e.showStep)})),F_(z_(e),"prevStep",(function(){var t=e.props.getCurrentStep;e.setState((function(e){var r=e.current>0?e.current-1:e.current;return"function"==typeof t&&t(r),{current:r}}),e.showStep)})),F_(z_(e),"gotoStep",(function(t){var r=e.props,n=r.steps,a=r.getCurrentStep;e.setState((function(e){var r=n[t]?t:e.current;return"function"==typeof a&&a(r),{current:r}}),e.showStep)})),F_(z_(e),"keyDownHandler",(function(t){var r,n,a,i=e.props,o=i.onRequestClose,s=i.nextStep,c=i.prevStep,l=i.disableKeyboardNavigation;i.showCloseButton;(t.stopPropagation(),!0!==l)&&(l&&(r=l.includes("esc"),n=l.includes("right"),a=l.includes("left")),27!==t.keyCode||r||(t.preventDefault(),o()),39!==t.keyCode||n||(t.preventDefault(),"function"==typeof s?s():e.nextStep()),37!==t.keyCode||a||(t.preventDefault(),"function"==typeof c?c():e.prevStep()))})),e.state={isOpen:!1,current:0,top:0,right:0,bottom:0,left:0,width:0,height:0,w:0,h:0,inDOM:!1,observer:null,focusUnlocked:!1},e.helper=Object(b.createRef)(),e.helperElement=null,e.debouncedShowStep=ky()(e.showStep,70),e}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H_(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,r=e.startAt;t&&this.open(r)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,r=t.isOpen,n=t.update,a=t.updateDelay;!r&&e.isOpen?this.open(e.startAt):r&&!e.isOpen&&this.close(),r&&n!==e.update&&(e.steps[this.state.current]?setTimeout(this.showStep,a):this.props.onRequestClose()),r&&e.isOpen&&this.state.current!==e.goToStep&&this.gotoStep(e.goToStep)}},{key:"componentWillUnmount",value:function(){this.props.isOpen&&this.close(),this.state.observer&&this.state.observer.disconnect()}},{key:"open",value:function(e){var t=this,r=this.props.onAfterOpen;this.setState((function(t){return{isOpen:!0,current:void 0!==e?e:t.current}}),(function(){setTimeout(t.showStep,1),t.helperElement=t.helper.current,t.helper.current.focus(),r&&r(t.helperElement)})),window.addEventListener("resize",this.debouncedShowStep,!1),window.addEventListener("keydown",this.keyDownHandler,!1)}},{key:"close",value:function(){this.setState((function(e){return e.observer&&e.observer.disconnect(),{isOpen:!1,observer:null}}),this.onBeforeClose),window.removeEventListener("resize",this.debouncedShowStep),window.removeEventListener("keydown",this.keyDownHandler)}},{key:"onBeforeClose",value:function(){var e=this.props.onBeforeClose;e&&e(this.helperElement)}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.className,a=r.steps,i=r.maskClassName,o=r.showButtons,s=r.showCloseButton,c=r.showNavigation,l=r.showNavigationNumber,u=r.showNumber,d=r.onRequestClose,p=r.maskSpace,f=r.lastStepNextButton,h=r.nextButton,m=r.prevButton,g=r.badgeContent,b=r.highlightedMaskClassName,y=r.disableInteraction,_=r.disableDotsNavigation,E=r.nextStep,w=r.prevStep,O=r.rounded,x=r.accentColor,C=r.CustomHelper,k=this.state,I=k.isOpen,j=k.current,S=k.inDOM,T=k.top,N=k.right,D=k.bottom,P=k.left,R=k.width,M=k.height,F=k.w,L=k.h,B=k.helperWidth,q=k.helperHeight,H=k.helperPosition,z=k.focusUnlocked;return I?v.a.createElement(_E,null,v.a.createElement(G_,null),v.a.createElement(yE,(e={className:A()(wE.base,i,F_({},wE.isOpen,I)),onClick:this.maskClickHandler,forwardRef:function(e){return t.mask=e},windowWidth:F,windowHeight:L,targetWidth:R,targetHeight:M,targetTop:T,targetLeft:P,padding:p,rounded:O},F_(e,"className",i),F_(e,"disableInteraction",!1===a[j].stepInteraction||y?!a[j].stepInteraction:y),F_(e,"disableInteractionClassName","".concat(wE.disableInteraction," ").concat(b)),e)),v.a.createElement(P_,{disabled:z},v.a.createElement(cE,{ref:this.helper,targetHeight:M,targetWidth:R,targetTop:T,targetRight:N,targetBottom:D,targetLeft:P,windowWidth:F,windowHeight:L,helperWidth:B,helperHeight:q,helperPosition:H,padding:p,tabIndex:-1,current:j,style:a[j].style?a[j].style:{},rounded:O,className:A()(OE.base,n,F_({},OE.isOpen,I)),accentColor:x,defaultStyles:!C},C?v.a.createElement(C,{current:j,totalSteps:a.length,gotoStep:this.gotoStep,close:d,content:a[j]&&("function"==typeof a[j].content?a[j].content({close:d,goTo:this.gotoStep,inDOM:S,step:j+1}):a[j].content)},this.props.children):v.a.createElement(v.a.Fragment,null,this.props.children,a[j]&&("function"==typeof a[j].content?a[j].content({close:d,goTo:this.gotoStep,inDOM:S,step:j+1}):a[j].content),u&&v.a.createElement(uE,{"data-tour-elem":"badge",accentColor:x},"function"==typeof g?g(j+1,a.length):j+1),(o||c)&&v.a.createElement(pE,{"data-tour-elem":"controls"},o&&v.a.createElement(Z_,{onClick:"function"==typeof w?w:this.prevStep,disabled:0===j,label:m||null}),c&&v.a.createElement(hE,{"data-tour-elem":"navigation"},a.map((function(e,r){return v.a.createElement(gE,{key:"".concat(e.selector?e.selector:"undef","_").concat(r),onClick:function(){return t.gotoStep(r)},current:j,index:r,accentColor:x,disabled:j===r||_,showNumber:l,"data-tour-elem":"dot",className:A()(xE.base,F_({},xE.active,j===r)),"aria-label":e.navDotAriaLabel})}))),o&&v.a.createElement(Z_,{onClick:j===a.length-1?f?d:function(){}:"function"==typeof E?E:this.nextStep,disabled:!f&&j===a.length-1,inverted:!0,label:f&&j===a.length-1?f:h||null})),s?v.a.createElement(tE,{onClick:d}):null)))):null}}])&&M_(r.prototype,n),a&&M_(r,a),t}(b.Component),kE=function(e,t,r){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=rE(t),o=i.width,s=i.height,c=e?rE(e):{top:a+10,right:n/2+9,bottom:a/2+9,left:n/2-o/2,width:0,height:0,w:n,h:a,helperPosition:"center"};return function(){return B_({w:n,h:a,helperWidth:o,helperHeight:s,helperPosition:r},c,{inDOM:!!e})}};CE.propTypes=EE,CE.defaultProps={showNavigation:!0,showNavigationNumber:!0,showButtons:!0,showCloseButton:!0,showNumber:!0,scrollDuration:1,maskSpace:10,updateDelay:1,disableInteraction:!1,rounded:0,accentColor:"#007aff",closeWithMask:!0};var IE=CE;function jE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class SE extends b.Component{constructor(...e){super(...e),jE(this,"state",{showTour:!0}),jE(this,"steps",[{selector:"",content:Ae()("Since this is your first time using Plottr, I'll give you a guided tour if you like.")},{selector:".sticky-table-row:nth-child(1) .sticky-table-cell:nth-child(3) .scene__body",content:Ae()("This is a scene or chapter. You can change its name by clicking on it")},{selector:".insert-scene-wrapper.append-scene",content:Ae()("Add new scenes or chapters here")},{selector:".sticky-table-row:nth-child(1) .sticky-table-cell:nth-child(2) .scene-list__insert",content:Ae()("Or hover here to insert between scenes")},{selector:".sticky-table-row:nth-child(2)",content:Ae()("This is a plotline")},{selector:".sticky-table-row:nth-child(2) .sticky-table-cell:nth-child(1) .line-title__cell",content:Ae()("You can change its name or color by hovering over it (disabled for the tour)"),stepInteraction:!1},{selector:".sticky-table-row:nth-child(2) .sticky-table-cell:nth-child(3) .card__cell",content:Ae()("Add cards to the timeline so you can write notes about your scenes. Click on the card to add more details")},{selector:".sticky-table-row:nth-child(3) .sticky-table-cell:nth-child(1) .line-list__append-line",content:Ae()("Add more plotlines here")},{selector:".subnav__container .container ul li:nth-child(5)",content:Ae()("You can export everything to a Word document")},{selector:".nav.navbar-nav li:nth-child(3)",content:Ae()("See the outline here")},{selector:".nav.navbar-nav li:nth-child(4)",content:Ae()("Keep all your notes here (brainstorming, world-building, etc.)")},{selector:".nav.navbar-nav li:nth-child(5)",content:Ae()("Keep your character sheets here")},{selector:".nav.navbar-nav li:nth-child(6)",content:Ae()("Keep info about your locations here")},{selector:".nav.navbar-nav li:nth-child(7)",content:Ae()("Tags can be used for organization")}]),jE(this,"closeTheTour",()=>{ny.a.set("showTheTour",!1),this.setState({showTour:!1})})}render(){return v.a.createElement(IE,{isOpen:this.state.showTour,steps:this.steps,accentColor:"#f9703e",className:"tour-helper",closeWithMask:!1,rounded:4,onBeforeClose:this.closeTheTour,onRequestClose:()=>this.setState({showTour:!1}),lastStepNextButton:v.a.createElement("div",{className:"btn btn-success"},Ae()("Done"))})}}function TE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const AE=g.remote.getCurrentWindow();class NE extends b.Component{constructor(...e){super(...e),TE(this,"saveEdit",()=>{const e={name:Object($.findDOMNode)(this.refs.name).value,description:Object($.findDOMNode)(this.refs.description).value,link:Object($.findDOMNode)(this.refs.link).value};g.ipcRenderer.send("save-as-template-finish",AE.id,{type:this.props.type,data:e}),this.props.close()})}renderToolBar(){return v.a.createElement(rn.a,null,v.a.createElement(re.a,{bsStyle:"success",onClick:this.saveEdit},Ae()("Save")),v.a.createElement(re.a,{onClick:this.props.close},Ae()("Cancel")))}renderBody(){return v.a.createElement(Ya.a,{horizontal:!0},v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:3},Ae()("Name")),v.a.createElement(Ja.a,{sm:8},v.a.createElement(tn.a,{type:"text",ref:"name",defaultValue:Ae()("Custom Template")}))),v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:3},Ae()("Description")),v.a.createElement(Ja.a,{sm:8},v.a.createElement(tn.a,{type:"text",ref:"description",defaultValue:""}))),v.a.createElement(en.a,null,v.a.createElement(Ja.a,{componentClass:bi.a,sm:3},Ae()("Source Link")),v.a.createElement(Ja.a,{sm:8},v.a.createElement(tn.a,{type:"text",ref:"link",defaultValue:"",placeholder:"https://example.com/"}))))}render(){let e="plotlines"==this.props.type?Ae()("My Timeline Template"):Ae()("My Character Template");return v.a.createElement($a.a,{show:!0,onHide:this.props.close,dialogClassName:A()("book-dialog",{darkmode:this.props.ui.darkMode})},v.a.createElement($a.a.Header,{closeButton:!0},v.a.createElement($a.a.Title,null,e)),v.a.createElement($a.a.Body,null,this.renderBody()),v.a.createElement($a.a.Footer,null,this.renderToolBar()))}}TE(NE,"propTypes",{close:_.a.func.isRequired,type:_.a.string,ui:_.a.object.isRequired});var DE=Object(w.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{}}))(NE);r.d(t,"a",(function(){return PE}));class PE extends b.Component{constructor(...e){super(...e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"state",{showTemplateCreate:!1,type:null})}componentDidMount(){g.ipcRenderer.on("save-as-template-start",(e,t)=>{this.setState({showTemplateCreate:!0,type:t})})}renderTemplateCreate(){return this.state.showTemplateCreate?v.a.createElement(DE,{type:this.state.type,close:()=>this.setState({showTemplateCreate:!1})}):null}renderGuidedTour(){return this.props.showTour?v.a.createElement(SE,null):null}render(){return v.a.createElement(Ke,null,v.a.createElement(ze,null),v.a.createElement(_y,null),this.renderTemplateCreate(),this.renderGuidedTour())}}},function(e,t,r){"use strict";var n=r(10),a=r(4),i=r(44),o=r(15),s=r(26);var c=r(12);const l=c.remote.app.getVersion();var u=r(18),d=r.n(u),p=r(17);const f=[o.place];const h=[o.tag];const m=[o.character];var g=r(24),b=r.n(g),v=r(138),y=r.n(v),_=r(30);const E=[o.chapter];var w=r(3),O=r.n(w),x=r(65);const C=[o.line];var k=Object(n.combineReducers)({characters:function(e=[],t){switch(t.type){case a.g:return[...e,t.attribute];case a.Hb:return e.filter(e=>e.name!==t.attribute);case a.jb:let r=[...e];return r[t.index]=t.newAttribute,r;case a.bc:case a.Cb:return s.newFileCustomAttributes.characters;case a.xb:return t.data.customAttributes.characters;default:return e}},places:function(e=[],t){switch(t.type){case a.p:return[...e,t.attribute];case a.Lb:return e.filter(e=>e.name!==t.attribute);case a.ob:let r=[...e];return r[t.index]=t.newAttribute,r;case a.bc:case a.Cb:return s.newFileCustomAttributes.places;case a.xb:return t.data.customAttributes.places;default:return e}},cards:function(e=[],t){switch(t.type){case a.d:return[...e,t.attribute];case a.Gb:return e.splice(e.indexOf(t.attribute),1),[...e];case a.bc:case a.Cb:return s.newFileCustomAttributes.cards;case a.xb:return t.data.customAttributes.cards;default:return e}},scenes:function(e=[],t){switch(t.type){case a.r:return[...e,t.attribute];case a.Ob:return e.splice(e.indexOf(t.attribute),1),[...e];case a.bc:case a.Cb:return s.newFileCustomAttributes.scenes;case a.xb:return t.data.customAttributes.scenes;default:return e}},lines:function(e=[],t){switch(t.type){case a.l:return[...e,t.attribute];case a.Kb:return e.splice(e.indexOf(t.attribute),1),[...e];case a.bc:case a.Cb:return s.newFileCustomAttributes.lines;case a.xb:return t.data.customAttributes.lines;default:return e}}});const I=[o.note];const j=[o.seriesLine];var S=Object(n.combineReducers)({ui:function(e=o.ui,t){let r;switch(t.type){case a.K:return Object.assign({},e,{currentView:t.view});case a.M:return Object.assign({},e,{orientation:t.orientation});case a.J:return Object.assign({},e,{currentTimeline:t.id});case a.Bb:return Object.assign({},e,{currentTimeline:t.bookId,currentView:"timeline"});case a.wb:return Object.assign({},e,{timelineIsExpanded:!0});case a.R:return Object.assign({},e,{timelineIsExpanded:!1});case a.gc:return Object.assign({},e,{darkMode:t.on});case a.fc:return Object.assign({},e,{characterSort:`${t.attr}~${t.direction}`});case a.ic:return Object.assign({},e,{placeSort:`${t.attr}~${t.direction}`});case a.ec:return Object.assign({},e,{characterFilter:t.filter});case a.g:return r={...e.characterFilter},"paragraph"==t.attribute.type?e:(r[t.attribute.name]=[],Object.assign({},e,{characterFilter:r}));case a.p:return r={...e.placeFilter},"paragraph"==t.attribute.type?e:(r[t.attribute.name]=[],Object.assign({},e,{placeFilter:r}));case a.Hb:return r={...e.characterFilter},delete r[t.attribute],Object.assign({},e,{characterFilter:r});case a.Lb:return r={...e.placeFilter},delete r[t.attribute],Object.assign({},e,{placeFilter:r});case a.jb:return r={...e.characterFilter},delete r[t.oldAttribute.name],"paragraph"==t.newAttribute.type?e:(r[t.newAttribute.name]=[],Object.assign({},e,{characterFilter:r}));case a.ob:return r={...e.placeFilter},delete r[t.oldAttribute.name],"paragraph"==t.newAttribute.type?e:(r[t.newAttribute.name]=[],Object.assign({},e,{placeFilter:r}));case a.hc:return Object.assign({},e,{placeFilter:t.filter});case a.jc:return Object.assign({},e,{timelineFilter:t.filter});case a.Ab:return(n=e.zoomIndex||0)<i.d.length-1&&n++,Object.assign({},e,{zoomState:i.c,zoomIndex:n});case a.S:var n;return(n=e.zoomIndex||0)>0&&n--,Object.assign({},e,{zoomState:i.c,zoomIndex:n});case a.zb:return Object.assign({},e,{zoomState:i.a,zoomIndex:i.b});case a.dc:return Object.assign({},e,{zoomState:i.c,zoomIndex:i.b});case a.xb:return t.data.ui;case a.Cb:return s.newFileUI;default:return e}},file:function(e=o.file,t){switch(t.type){case a.xb:return{fileName:t.fileName,loaded:!0,dirty:t.dirty,version:l};case a.yb:return Object.assign({},e,{dirty:!1});case a.Cb:return{fileName:t.fileName,loaded:!0,dirty:!1,version:l};case a.bc:return Object.assign({},t.data.file,{dirty:!0});default:return Object.assign({},e,{dirty:!0})}},series:function(e=o.series,t){switch(t.type){case a.qb:return{...e,...t.attributes};case a.bc:case a.xb:return t.data.series;case a.Cb:return s.newFileSeries;default:return e}},books:function(e=o.book,t){switch(t.type){case a.fb:return{...e,[t.id]:{...e[t.id],...t.attributes}};case a.b:const r=Object(p.c)(e.allIds);return{...e,allIds:[...e.allIds,r],[r]:{...t.book,id:r}};case a.Vb:return{...e,allIds:t.ids};case a.U:const n=[...e.allIds];return n.splice(n.indexOf(t.id),1),e.allIds.reduce((r,n)=>(n!=t.id&&(r[n]=e[n]),r),{allIds:n});case a.m:return{...e,[t.bookId]:{...e[t.bookId],timelineTemplates:[...e[t.bookId].timelineTemplates,{id:t.template.id,name:t.template.name}]}};case a.O:return{...e,[t.bookId]:{...e[t.bookId],timelineTemplates:e[t.bookId].timelineTemplates.filter(e=>e.id!=t.templateId)}};case a.bc:case a.xb:return t.data.books;case a.Cb:return s.newFileBooks;default:return e}},characters:function(e=m,t){switch(t.type){case a.f:return[...e,{...o.character,id:Object(p.b)(e),name:t.name,description:t.description,notes:t.notes}];case a.h:const r={id:t.templateData.id,version:t.templateData.version,attributes:t.templateData.attributes,value:""};return[...e,{...o.character,id:Object(p.b)(e),name:t.name,description:t.description,notes:t.notes,templates:[r]}];case a.ib:return e.map(e=>e.id===t.id?Object.assign({},e,t.attributes):e);case a.jb:return"text"!=t.oldAttribute.type&&t.oldAttribute.name==t.newAttribute.name?e:e.map(e=>{let r=d()(e);if(t.oldAttribute.name!=t.newAttribute.name&&(r[t.newAttribute.name]=r[t.oldAttribute.name],delete r[t.oldAttribute.name]),"text"==t.oldAttribute.type){let e=r[t.newAttribute.name];e&&e.length&&"string"!=typeof e&&(e=""),r[t.newAttribute.name]=e}return r});case a.y:return e.map(e=>{let r=d()(e.cards);return r.push(t.id),e.id===t.characterId?Object.assign({},e,{cards:r}):e});case a.Ib:return e.map(e=>{let r=d()(e.cards);return r.splice(r.indexOf(t.id),1),e.id===t.characterId?Object.assign({},e,{cards:r}):e});case a.z:return e.map(e=>{let r=d()(e.noteIds);return r.push(t.id),e.id===t.characterId?Object.assign({},e,{noteIds:r}):e});case a.Jb:return e.map(e=>{let r=d()(e.noteIds);return r.splice(r.indexOf(t.id),1),e.id===t.characterId?Object.assign({},e,{noteIds:r}):e});case a.D:return e.map(e=>{let r=d()(e.tags);return r.push(t.tagId),e.id===t.id?Object.assign({},e,{tags:r}):e});case a.Qb:return e.map(e=>{let r=d()(e.tags);return r.splice(r.indexOf(t.tagId),1),e.id===t.id?Object.assign({},e,{tags:r}):e});case a.v:return e.map(e=>{let r=d()(e.bookIds);return r.push(t.bookId),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case a.Db:return e.map(e=>{let r=d()(e.bookIds);return r.splice(r.indexOf(t.bookId),1),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case a.Z:return e.map(e=>{let r=d()(e.noteIds);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{noteIds:r})});case a.V:return e.map(e=>{let r=d()(e.cards);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{cards:r})});case a.W:return e.filter(e=>e.id!==t.id);case a.X:return e.map(e=>t.id==e.imageId?{...e,imageId:null}:e);case a.bc:case a.xb:return t.data.characters;case a.Cb:return s.newFileCharacters;default:return e}},chapters:function(e=E,t){switch(t.type){case a.q:return[...e,{id:Object(p.b)(e),bookId:t.bookId,position:Object(_.c)(e,t.bookId),title:t.title,time:0,autoOutlineSort:!0,fromTemplateId:null}];case a.m:const[r,n]=y()(e,e=>e.bookId==t.bookId);return[...n,...t.chapters];case a.pb:return e.map(e=>e.id==t.id?Object.assign({},e,{title:t.title}):e);case a.bb:const[i,o]=y()(e,e=>e.bookId==t.bookId);return[...o,...Object(_.d)(i.filter(e=>e.id!=t.id))];case a.Zb:return[...e.filter(e=>e.bookId!=t.bookId),...Object(_.d)(t.chapters)];case a.Wb:return e.map(e=>e.id!=t.chapterId||t.isSeries?e:Object.assign({},e,{autoOutlineSort:!1}));case a.H:return e.map(e=>e.id==t.id?Object.assign({},e,{autoOutlineSort:!0}):e);case a.O:const c=e.reduce((e,r)=>(r.bookId==t.bookId?r.fromTemplateId!=t.templateId&&e.book.push(r):e.notBook.push(r),e),{book:[],notBook:[]}),l=Object(_.d)(b()(c.book,"position"));return c.notBook.concat(l);case a.cc:if(t.isSeries)return e;return[...e.filter(e=>e.bookId!=t.bookId),{id:Object(p.b)(e),bookId:t.bookId,position:0,title:"auto",time:0,autoOutlineSort:!0,fromTemplateId:null}];case a.bc:case a.xb:return t.data.chapters;case a.Cb:return s.newFileChapters;default:return e}},cards:function(e,t){let r;switch(t.type){case a.c:return[Object.assign({},o.card,t.card,{id:Object(p.b)(e)}),...e];case a.e:return[Object.assign({},o.card,t.newCard,{id:Object(p.b)(e)}),...e.map(e=>{const r=t.reorderIds.indexOf(e.id);return-1!=r?Object.assign({},e,{positionWithinLine:r}):e})];case a.m:return[...t.cards];case a.hb:var n={title:t.title,description:t.description};return e.map(e=>e.id===t.id?Object.assign({},e,n):e);case a.gb:return r={},"series"==t.bookId?(r.seriesLineId=t.lineId,r.beatId=t.chapterId):(r.lineId=t.lineId,r.chapterId=t.chapterId),e.map(e=>e.id===t.id?Object.assign({},e,r):e);case a.L:return r={},"series"==t.bookId?r.seriesLineId=t.lineId:r.lineId=t.lineId,e.map(e=>e.id===t.id?Object.assign({},e,r):e);case a.N:return r={},"series"==t.bookId?r.beatId=t.chapterId:r.chapterId=t.chapterId,e.map(e=>e.id===t.id?Object.assign({},e,r):e);case a.I:return e.map(e=>e.id===t.id?Object.assign({},e,{bookId:t.bookId}):e);case a.Xb:return e.map(e=>{const r=t.ids.indexOf(e.id);return-1!=r?t.isSeries?Object.assign({},e,{positionWithinLine:r,beatId:t.chapterId,seriesLineId:t.lineId}):Object.assign({},e,{positionWithinLine:r,chapterId:t.chapterId,lineId:t.lineId}):e});case a.Wb:return e.map(e=>{const r=t.newOrderInChapter.indexOf(e.id);let n=-1;if(t.newOrderWithinLine&&(n=t.newOrderWithinLine.indexOf(e.id)),-1==n&&-1==r)return e;let a={...e};return e.id==t.newIdInChapter&&(t.isSeries?a.beatId=t.chapterId:a.chapterId=t.chapterId),-1!=n&&(a.positionWithinLine=n),-1!=r&&(a.positionInChapter=r),a});case a.H:return e.map(e=>{let r=e.chapterId;return t.isSeries&&(r=e.beatId),e.chapterId!=r?e:Object.assign({},e,{positionInChapter:0})});case a.V:return e.filter(e=>e.id!==t.id);case a.bb:return e.filter(e=>e.chapterId!==t.id);case a.Y:return e.filter(e=>e.lineId!==t.id);case a.y:return e.map(e=>{let r=d()(e.characters);return r.push(t.characterId),e.id===t.id?Object.assign({},e,{characters:r}):e});case a.Ib:return e.map(e=>{let r=d()(e.characters);return r.splice(r.indexOf(t.characterId),1),e.id===t.id?Object.assign({},e,{characters:r}):e});case a.A:return e.map(e=>{let r=d()(e.places);return r.push(t.placeId),e.id===t.id?Object.assign({},e,{places:r}):e});case a.Mb:return e.map(e=>{let r=d()(e.places);return r.splice(r.indexOf(t.placeId),1),e.id===t.id?Object.assign({},e,{places:r}):e});case a.C:return e.map(e=>{let r=d()(e.tags);return r.push(t.tagId),e.id===t.id?Object.assign({},e,{tags:r}):e});case a.Pb:return e.map(e=>{let r=d()(e.tags);return r.splice(r.indexOf(t.tagId),1),e.id===t.id?Object.assign({},e,{tags:r}):e});case a.db:return e.map(e=>{if(e.tags.includes(t.id)){let r=d()(e.tags);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{tags:r})}return e});case a.W:return e.map(e=>{if(e.characters.includes(t.id)){let r=d()(e.characters);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{characters:r})}return e});case a.ab:return e.map(e=>{if(e.places.includes(t.id)){let r=d()(e.places);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{places:r})}return e});case a.cc:return t.isSeries?e.filter(e=>!e.seriesLineId&&!e.beatId):e.filter(e=>t.chapterIds[e.chapterId]||t.lineIds[e.lineId]);case a.O:return e.filter(e=>t.chapterIds[e.chapterId]||t.lineIds[e.lineId]);case a.bc:case a.xb:return t.data.cards;case a.Cb:return s.newFileCards;default:return e||[]}},lines:function(e=C,t){switch(t.type){case a.k:const r=e.filter(e=>e.bookId==t.bookId).length;return[{id:Object(p.b)(e),bookId:t.bookId,title:"",color:Object(x.a)(r),position:Object(_.c)(e,t.bookId),expanded:null,fromTemplateId:null},...e];case a.m:const[n,i]=y()(e,e=>e.bookId==t.bookId);return[...i,...t.lines];case a.lb:return e.map(e=>e.id===t.id?Object.assign({},e,{title:t.title}):e);case a.kb:return e.map(e=>e.id===t.id?Object.assign({},e,{color:t.color}):e);case a.Y:return e.filter(e=>e.id!==t.id);case a.Yb:return[...e.filter(e=>e&&e.bookId!=t.bookId),...Object(_.d)(t.lines)];case a.ub:return e.map(e=>e.id===t.id?Object.assign({},e,{expanded:!0}):e);case a.P:return e.map(e=>e.id===t.id?Object.assign({},e,{expanded:!1}):e);case a.R:case a.wb:return e.map(e=>Object.assign({},e,{expanded:null}));case a.O:const o=e.reduce((e,r)=>(r.bookId==t.bookId?r.fromTemplateId!=t.templateId&&e.book.push(r):e.notBook.push(r),e),{book:[],notBook:[]}),c=Object(_.d)(b()(o.book,"position"));return o.notBook.concat(c);case a.cc:if(t.isSeries)return e;const l=e.filter(e=>e.bookId!=t.bookId);return[{id:Object(p.b)(e),bookId:t.bookId,title:O()("Main Plot"),color:Object(x.a)(0),position:0,expanded:null,fromTemplateId:null},...l];case a.bc:case a.xb:return t.data.lines;case a.Cb:return s.newFileLines;default:return e}},customAttributes:k,places:function(e=f,t){switch(t.type){case a.o:return[...e,{...o.place,id:Object(p.b)(e),name:t.name,description:t.description,notes:t.notes}];case a.nb:return e.map(e=>e.id===t.id?Object.assign({},e,t.attributes):e);case a.ob:return"text"!=t.oldAttribute.type&&t.oldAttribute.name==t.newAttribute.name?e:e.map(e=>{let r=d()(e);if(t.oldAttribute.name!=t.newAttribute.name&&(r[t.newAttribute.name]=r[t.oldAttribute.name],delete r[t.oldAttribute.name]),"text"==t.oldAttribute.type){let e=r[t.newAttribute.name];e&&e.length&&"string"!=typeof e&&(e=""),r[t.newAttribute.name]=e}return r});case a.A:return e.map(e=>{let r=d()(e.cards);return r.push(t.id),e.id===t.placeId?Object.assign({},e,{cards:r}):e});case a.Mb:return e.map(e=>{let r=d()(e.cards);return r.splice(r.indexOf(t.id),1),e.id===t.placeId?Object.assign({},e,{cards:r}):e});case a.B:return e.map(e=>{let r=d()(e.noteIds);return r.push(t.id),e.id===t.placeId?Object.assign({},e,{noteIds:r}):e});case a.Nb:return e.map(e=>{let r=d()(e.noteIds);return r.splice(r.indexOf(t.id),1),e.id===t.placeId?Object.assign({},e,{noteIds:r}):e});case a.F:return e.map(e=>{let r=d()(e.tags);return r.push(t.tagId),e.id===t.id?Object.assign({},e,{tags:r}):e});case a.Sb:return e.map(e=>{let r=d()(e.tags);return r.splice(r.indexOf(t.tagId),1),e.id===t.id?Object.assign({},e,{tags:r}):e});case a.x:return e.map(e=>{let r=d()(e.bookIds);return r.push(t.bookId),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case a.Fb:return e.map(e=>{let r=d()(e.bookIds);return r.splice(r.indexOf(t.bookId),1),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case a.Z:return e.map(e=>{let r=d()(e.noteIds);return r?(r.splice(r.indexOf(t.id),1),Object.assign({},e,{noteIds:r})):e});case a.V:return e.map(e=>{let r=d()(e.cards);return r?(r.splice(r.indexOf(t.id),1),Object.assign({},e,{cards:r})):e});case a.ab:return e.filter(e=>e.id!==t.id);case a.X:return e.map(e=>t.id==e.imageId?{...e,imageId:null}:e);case a.bc:case a.xb:return t.data.places;case a.Cb:return s.newFilePlaces;default:return e}},tags:function(e=h,t){switch(t.type){case a.u:return[...e,{id:Object(p.b)(e),title:o.tag.title,color:o.tag.color}];case a.i:return[...e,{...o.tag,id:Object(p.b)(e),...t.attributes}];case a.tb:return e.map(e=>e.id===t.id?Object.assign({},e,{title:t.title,color:t.color}):e);case a.db:return e.filter(e=>e.id!==t.id);case a.bc:case a.xb:return t.data.tags;case a.Cb:return s.newFileTags;default:return e}},notes:function(e=I,t){switch(t.type){case a.n:return[...e,{...o.note,id:Object(p.b)(e),title:t.title,content:t.content}];case a.mb:const r={lastEdited:(new Date).getTime()};return e.map(e=>e.id===t.id?Object.assign({},e,t.attributes,r):e);case a.Z:return e.filter(e=>e.id!==t.id);case a.z:return e.map(e=>{let r=d()(e.characters);return r.push(t.characterId),e.id===t.id?Object.assign({},e,{characters:r}):e});case a.Jb:return e.map(e=>{let r=d()(e.characters);return r.splice(r.indexOf(t.characterId),1),e.id===t.id?Object.assign({},e,{characters:r}):e});case a.B:return e.map(e=>{let r=d()(e.places);return r.push(t.placeId),e.id===t.id?Object.assign({},e,{places:r}):e});case a.Nb:return e.map(e=>{let r=d()(e.places);return r.splice(r.indexOf(t.placeId),1),e.id===t.id?Object.assign({},e,{places:r}):e});case a.E:return e.map(e=>{let r=d()(e.tags);return r.push(t.tagId),e.id===t.id?Object.assign({},e,{tags:r}):e});case a.Rb:return e.map(e=>{let r=d()(e.tags);return r.splice(r.indexOf(t.tagId),1),e.id===t.id?Object.assign({},e,{tags:r}):e});case a.w:return e.map(e=>{let r=d()(e.bookIds);return r.push(t.bookId),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case a.Eb:return e.map(e=>{let r=d()(e.bookIds);return r.splice(r.indexOf(t.bookId),1),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case a.db:return e.map(e=>{if(e.tags.includes(t.id)){let r=d()(e.tags);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{tags:r})}return e});case a.W:return e.map(e=>{if(e.characters.includes(t.id)){let r=d()(e.characters);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{characters:r})}return e});case a.ab:return e.map(e=>{if(e.places.includes(t.id)){let r=d()(e.places);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{places:r})}return e});case a.X:return e.map(e=>t.id==e.imageId?{...e,imageId:null}:e);case a.bc:case a.xb:return t.data.notes||[];case a.Cb:return s.newFileNotes;default:return e}},beats:function(e=o.beat,t){switch(t.type){case a.a:return[{id:Object(p.b)(e),title:t.title,time:0,position:Object(_.b)(e),autoOutlineSort:!0},...e];case a.eb:return e.map(e=>e.id==t.id?Object.assign({},e,{title:t.title}):e);case a.T:return e.filter(e=>e.id!=t.id);case a.Ub:return Object(_.d)(t.beats);case a.Wb:return e.map(e=>e.id==t.chapterId&&t.isSeries?Object.assign({},e,{autoOutlineSort:!1}):e);case a.G:return e.map(e=>e.id==t.id?Object.assign({},e,{autoOutlineSort:!0}):e);case a.cc:return t.isSeries?[{id:Object(p.b)(e),title:"auto",time:0,position:0,autoOutlineSort:!0}]:e;case a.bc:case a.xb:return t.data.beats;case a.Cb:return s.newFileBeats;default:return e}},seriesLines:function(e=j,t){switch(t.type){case a.s:return[{id:Object(p.b)(e),title:"",color:Object(x.a)(e.length),position:Object(_.b)(e),expanded:null},...e];case a.t:const r=Object(_.b)(e);return[...t.lines.map((t,n)=>({id:t.id,title:t.title,color:Object(x.a)(e.length+n),position:r+n})),...e];case a.sb:return e.map(e=>e.id===t.id?Object.assign({},e,{title:t.title}):e);case a.rb:return e.map(e=>e.id===t.id?Object.assign({},e,{color:t.color}):e);case a.cb:return e.filter(e=>e.id!==t.id);case a.ac:return Object(_.d)(t.lines);case a.vb:return e.map(e=>e.id===t.id?Object.assign({},e,{expanded:!0}):e);case a.Q:return e.map(e=>e.id===t.id?Object.assign({},e,{expanded:!1}):e);case a.R:case a.wb:return e.map(e=>Object.assign({},e,{expanded:null}));case a.cc:return t.isSeries?[{id:Object(p.b)(e),title:O()("Main Plot"),color:Object(x.a)(0),position:0,expanded:null}]:e;case a.bc:case a.xb:return t.data.seriesLines;case a.Cb:return s.newFileSeriesLines;default:return e}},categories:function(e=o.categories,t){switch(t.type){case a.bc:case a.xb:return t.data.categories;case a.Cb:return s.newFileCategories;default:return e}},images:function(e,t){switch(t.type){case a.j:const r=Object(p.a)(e),n=Object.assign({},t.image,{id:r});return{...e,[r]:n};case a.Tb:return{...e,[t.id]:{...e[t.id],name:t.name}};case a.X:return Object.keys(e).reduce((r,n)=>(n!=t.id&&(r[n]=e[n]),r),{});case a.bc:case a.xb:return t.data.images;case a.Cb:return s.newFileImages;default:return e||{}}}}),T=r(20);function A(e,t){const r=!t.type.includes("@@redux")&&Object(T.d)(e);switch(t.type){case a.U:if(e.ui.currentTimeline==t.id){const r=e.books.allIds.find(e=>e!=t.id);let n={...e};return n.ui.currentTimeline=r,S(n,t)}return S(e,t);case a.O:const n=e.chapters.reduce((e,r)=>(r.bookId==t.bookId&&r.fromTemplateId==t.templateId||(e[r.id]=!0),e),{}),i=e.lines.reduce((e,r)=>(r.bookId==t.bookId&&r.fromTemplateId==t.templateId||(e[r.id]=!0),e),{}),o={...t,chapterIds:n,lineIds:i};return S(e,o);case a.cc:let s={...t,isSeries:r};if(!r){const r=e.chapters.reduce((e,r)=>(r.bookId!=t.bookId&&(e[r.id]=!0),e),{}),n=e.lines.reduce((e,r)=>(r.bookId!=t.bookId&&(e[r.id]=!0),e),{});s={...s,chapterIds:r,lineIds:n}}return S(e,s);default:return S(e,t)}}const N=c.remote.getCurrentWindow(),D=[a.yb,a.xb];var P=e=>t=>r=>{const n=t(r);if(D.includes(r.type))return n;var i=r.type===a.Cb;return c.ipcRenderer.send("save-state",e.getState().present,N.id,i),n},R=r(87),M=r(53);const F=[a.m];var L=e=>t=>r=>{const n=t(r);if(!F.includes(r.type))return n;if(!M.a.get("payment_id"))return n;const i=e.getState();if(i&&i.ui&&i.file){const e={timeline_orientation:i.ui.orientation,version:i.file.version};r.type==a.m&&R.a.push("use_timeline_template",{...e,template:r.templateName})}return n};var B=e=>e=>t=>e(t),q=r(139),H=r.n(q);function z(e){const t=H()(A,{limit:10,ignoreInitialState:!0}),r=Object(n.applyMiddleware)(P,L,B);return Object(n.createStore)(t,e,r)}r.d(t,"a",(function(){return z}))},,,function(e,t,r){"use strict";var n=r(110),a=r.n(n),i=r(18),o=r.n(i),s=r(23),c=r.n(s),l=r(29),u=r.n(l),d=r(46),p=r.n(d),f=r(12),h=r(3),m=r.n(h),g=r(179),b=r.n(g),v=r(52),y=r.n(v),_=r(38),E=r(64),w=r(43),O=r(20),x=r(41);const C=new y.a.Format({bold:!0,paragraph:!0,spaceBefore:100,spaceAfter:100,fontSize:18,alignCenter:!0}),k=new y.a.Format({bold:!0,paragraph:!0,spaceBefore:100,spaceAfter:100,fontSize:16,alignCenter:!0}),I=new y.a.Format({bold:!0}),j=new y.a.Format({italic:!0}),S=new y.a.Format({underline:!0}),T=new y.a.Format({strike:!0}),A=new y.a.Format({paragraph:!0,spaceBefore:100,spaceAfter:100});const N=(e,t)=>e.bold?t.writeText(e.text,I):e.italic?t.writeText(e.text,j):e.underline?t.writeText(e.text,S):e.strike?t.writeText(e.text,T):t.writeText(e.text),D=e=>e.bold?new y.a.TextElement(e.text,I):e.italic?new y.a.TextElement(e.text,j):e.underline?new y.a.TextElement(e.text,S):new y.a.TextElement(e.text),P=(e,t)=>{const r=e.children.map(R).join(" "),n=y.a.Utils.makeRtfCmd("\\ls1\\ilvl0\\cf2 \\kerning1\\expnd0\\expndtw0 \\outl0\\strokewidth0 ",r,"",!1);t.addCommand(n)},R=e=>{const t=e.children.flatMap(e=>e.text).join(" ");return y.a.Utils.makeRtfCmd("{\\listtext\t\\uc0\\u8226\t}",t,"\\\n",!1)};function M(e,t){const n=t.includes(".scriv")?t:`${t}.scriv`;try{!function(e){try{u.a.statSync(e).isDirectory()&&(F(e),u.a.mkdirSync(e))}catch(t){u.a.mkdirSync(e)}u.a.mkdirSync(c.a.join(e,"Files","Docs"),{recursive:!0}),u.a.mkdirSync(c.a.join(e,"Settings"))}(n),function(e,t){const r=c.a.join(t,"Files","Docs");Object.keys(e).forEach(t=>{const n=e[t];let a=new y.a,i=null;n.lineTitle&&(a.writeText(m()("Plotline: {name}",{name:n.lineTitle})),a.addLine(),a.addLine());try{!function(e,t){e&&("string"==typeof e?t.writeText(e):e.flatMap(e=>{if(!e.children)return N(e,t);switch(e.type){case"numbered-list":case"bulleted-list":return t.addLine(),P(e,t);case"heading-one":return t.addElement([e.children.map(D)],C);case"heading-two":return t.addElement([e.children.map(D)],k);case"list-item":case"link":return t.writeText(e.url);case"image-link":return t.writeText(e.url,A);case"image-data":return t.writeText(m()("[image]"),A);case"block-quote":return t.writeText(e.children[0].text,A);case"paragraph":default:return t.addElement([e.children.map(D)],A)}}))}(n.description,a),i=a.createDocument(),u.a.writeFileSync(c.a.join(r,`${t}_notes.rtf`),i)}catch(e){p.a.error(e)}})}(function(e,t){const n=o()(r(817)),i=r(818);let s=3,l={};const d=Object(_.e)(e),p=Object(x.d)(e),f=Object(E.a)(e),h=Object(O.d)(e),m=Object(w.a)(d,p,f,null),g=a()(p,"id");d.forEach(t=>{const r=Object(_.b)(e)(e,t.id),a=function(e,t,r){let n=o()(e);return n._attributes.ID=r,n._attributes.Type="Folder",n.Title._text=t,n.Children={BinderItem:[]},o()(n)}(i,r,s),c=m[t.id];Object(w.b)(t.autoOutlineSort,c,p,h).forEach(e=>{++s;const t=function(e,t,r){let n=o()(e);return n._attributes.ID=r,n.Title._text=t.title,o()(n)}(i,e,s);a.Children.BinderItem.push(t);let r="";const n=h?e.seriesLineId:e.lineId,c=g[n];c&&(r=c.title),l[s+0]={lineTitle:r,description:e.description}}),n.ScrivenerProject.Binder.BinderItem[0].Children.BinderItem.push(a),++s});const v=b.a.json2xml(n,{compact:!0,ignoreComment:!0,spaces:2}),y=c.a.basename(t).replace(".scriv","");return u.a.writeFileSync(c.a.join(t,`${y}.scrivx`),v),l}(e,n),n)}catch(e){return p.a.error(e),F(n),!1}!function(e){try{new Notification(m()("File Exported"),{body:m()("Your Plottr file was exported to a Scrivener project package"),silent:!0})}catch(e){}f.shell.showItemInFolder(e)}(n)}function F(e){f.shell.moveItemToTrash(e)}r.d(t,"a",(function(){return M}))},function(e,t,r){"use strict";r.r(t),function(e){var t=r(23),n=r.n(t),a=r(0),i=r.n(a),o=r(8),s=r(11),c=r(393),l=r(394),u=r(12),d=r(35),p=r(87),f=r(175),h=r(389),m=r(46),g=r.n(m),b=r(3),v=r.n(b),y=r(54),_=r.n(y),E=r(107),w=r(139),O=r(397),x=r(390);r(136);const{Menu:C,MenuItem:k}=u.remote,I=u.remote.getCurrentWindow(),j=u.remote.app;v.a.setup({translations:r(130),locale:j.getLocale()||"en"}),r(171).config({path:n.a.resolve(e,"..",".env")});const S=Object(f.a)("app.html");process.on("uncaughtException",e=>{g.a.error(e),S.error(e)}),Object(h.a)(),_.a.setAppElement("#react-root");const T=document.getElementById("react-root"),A=Object(l.a)();function N(e,t,r,n,a){A.dispatch(Object(d.loadFile)(t,r,e)),p.a.defaultEventStats("open_file",{online:navigator.onLine,version:e.file.version,number_open:a},e);const l=e.ui&&e.ui.darkMode||n;e.ui&&e.ui.darkMode!==n&&A.dispatch(Object(d.setDarkMode)(l)),l&&(window.document.body.className="darkmode"),Object(o.render)(i.a.createElement(s.Provider,{store:A},i.a.createElement(c.a,{showTour:E.a.get("showTheTour")})),T)}function D(){return"INPUT"==document.activeElement.tagName||!(!document.activeElement.dataset.slateEditor||"true"!=document.activeElement.dataset.slateEditor)}window.specialDelivery=e=>{A.dispatch(e)},u.ipcRenderer.on("state-saved",e=>{}),u.ipcRenderer.send("fetch-state",I.id),u.ipcRenderer.on("state-fetched",(e,t,r,n,a,i)=>{N(t,r,n,a,i)}),u.ipcRenderer.once("send-launch",(e,t,r,n)=>{Object(p.b)(r,n),p.a.push("Launch",{online:navigator.onLine,version:t}),u.ipcRenderer.send("launch-sent")}),u.ipcRenderer.on("set-dark-mode",(e,t)=>{A.dispatch(Object(d.setDarkMode)(t)),window.document.body.className=t?"darkmode":""}),u.ipcRenderer.on("export-scrivener",(e,t)=>{const r=A.getState();Object(O.a)(r.present,t)}),u.ipcRenderer.on("import-snowflake",(e,t,r,n,a,i)=>{N(Object(x.a)(n,!0,t),r,!0,a,i)}),u.ipcRenderer.on("undo",e=>{D()?I.webContents.undo():A.dispatch(w.ActionCreators.undo())}),u.ipcRenderer.on("redo",e=>{D()?I.webContents.redo():A.dispatch(w.ActionCreators.redo())}),window.onerror=function(e,t,r,n,a){g.a.error(a),S.error(a)},window.SCROLLWITHKEYS=!0,document.addEventListener("keydown",e=>{if(window.SCROLLWITHKEYS){const r=document.querySelector(".sticky-table");if(r)if("ArrowUp"===e.key){var t=300;(e.metaKey||e.ctrlKey||e.altKey)&&(t=800),r.scrollTop-=t}else if("ArrowRight"===e.key){t=400;(e.metaKey||e.ctrlKey||e.altKey)&&(t=800),r.scrollLeft+=t}else if("ArrowDown"===e.key){t=300;(e.metaKey||e.ctrlKey||e.altKey)&&(t=800),r.scrollTop+=t}else if("ArrowLeft"===e.key){t=400;(e.metaKey||e.ctrlKey||e.altKey)&&(t=800),r.scrollLeft-=t}}}),window.logger=function(e){process.env.LOGGER=e.toString()}}.call(this,"/")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.__esModule=!0,t.uncontrolledPropTypes=function(e,t){var r={};return Object.keys(e).forEach((function(e){r[i(e)]=a})),r},t.isProp=function(e,t){return void 0!==e[t]},t.defaultKey=i,t.isReactComponent=function(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)};var n;(n=r(133))&&n.__esModule;var a=function(){};function i(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}},,,function(e,t,r){r(441),r(447),e.exports=r(62).Array.from},function(e,t,r){"use strict";var n=r(442)(!0);r(443)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(188),a=r(145);e.exports=function(e){return function(t,r){var i,o,s=String(a(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(265),a=r(67),i=r(444),o=r(140),s=r(190),c=r(445),l=r(271),u=r(446),d=r(89)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,h,m,g,b){c(r,t,h);var v,y,_,E=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",O="values"==m,x=!1,C=e.prototype,k=C[d]||C["@@iterator"]||m&&C[m],I=k||E(m),j=m?O?E("entries"):I:void 0,S="Array"==t&&C.entries||k;if(S&&(_=u(S.call(new e)))!==Object.prototype&&_.next&&(l(_,w,!0),n||"function"==typeof _[d]||o(_,d,f)),O&&k&&"values"!==k.name&&(x=!0,I=function(){return k.call(this)}),n&&!b||!p&&!x&&C[d]||o(C,d,I),s[t]=I,s[w]=f,m)if(v={values:O?I:E("values"),keys:g?I:E("keys"),entries:j},b)for(y in v)y in C||i(C,y,v[y]);else a(a.P+a.F*(p||x),t,v);return v}},function(e,t,r){e.exports=r(140)},function(e,t,r){"use strict";var n=r(269),a=r(185),i=r(271),o={};r(140)(o,r(89)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(143),a=r(146),i=r(189)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){"use strict";var n=r(260),a=r(67),i=r(146),o=r(448),s=r(449),c=r(263),l=r(450),u=r(451);a(a.S+a.F*!r(453)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,a,d,p=i(e),f="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,b=0,v=u(p);if(g&&(m=n(m,h>2?arguments[2]:void 0,2)),null==v||f==Array&&s(v))for(r=new f(t=c(p.length));t>b;b++)l(r,b,g?m(p[b],b):p[b]);else for(d=v.call(p),r=new f;!(a=d.next()).done;b++)l(r,b,g?o(d,m,[a.value,b],!0):a.value);return r.length=b,r}})},function(e,t,r){var n=r(142);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(190),a=r(89)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},function(e,t,r){"use strict";var n=r(141),a=r(185);e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},function(e,t,r){var n=r(452),a=r(89)("iterator"),i=r(190);e.exports=r(62).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(187),a=r(89)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(89)("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:r=!0}},i[n]=function(){return o},e(i)}catch(e){}return r}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n=r(199),a=r(541),i=r(202),o=r(542),s=r(549),c=r(552),l=r(553),u=r(554),d=r(556),p=r(291),f=r(293),h=r(158),m=r(560),g=r(561),b=r(566),v=r(58),y=r(204),_=r(568),E=r(79),w=r(570),O=r(75),x={};x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x["[object Function]"]=x["[object WeakMap]"]=!1,e.exports=function e(t,r,C,k,I,j){var S,T=1&r,A=2&r,N=4&r;if(C&&(S=I?C(t,k,I,j):C(t)),void 0!==S)return S;if(!E(t))return t;var D=v(t);if(D){if(S=m(t),!T)return l(t,S)}else{var P=h(t),R="[object Function]"==P||"[object GeneratorFunction]"==P;if(y(t))return c(t,T);if("[object Object]"==P||"[object Arguments]"==P||R&&!I){if(S=A||R?{}:b(t),!T)return A?d(t,s(S,t)):u(t,o(S,t))}else{if(!x[P])return I?t:{};S=g(t,P,T)}}j||(j=new n);var M=j.get(t);if(M)return M;j.set(t,S),w(t)?t.forEach((function(n){S.add(e(n,r,C,n,t,j))})):_(t)&&t.forEach((function(n,a){S.set(a,e(n,r,C,a,t,j))}));var F=N?A?f:p:A?keysIn:O,L=D?void 0:F(t);return a(L||t,(function(n,a){L&&(n=t[a=n]),i(S,a,e(n,r,C,a,t,j))})),S}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t,r){var n=r(156),a=r(75);e.exports=function(e,t){return e&&n(t,a(t),e)}},,,,,,,function(e,t,r){var n=r(156),a=r(288);e.exports=function(e,t){return e&&n(t,a(t),e)}},function(e,t,r){var n=r(79),a=r(207),i=r(551),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=a(e),r=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&r.push(s);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){(function(e){var n=r(66),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(76)(e))},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(156),a=r(208);e.exports=function(e,t){return n(e,a(e),t)}},,function(e,t,r){var n=r(156),a=r(290);e.exports=function(e,t){return n(e,a(e),t)}},,,,function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,r){var n=r(210),a=r(562),i=r(563),o=r(564),s=r(565);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return a(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Set]":return new c;case"[object Symbol]":return o(e)}}},function(e,t,r){var n=r(210);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},function(e,t){var r=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,r){var n=r(97),a=n?n.prototype:void 0,i=a?a.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,r){var n=r(210);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(567),a=r(183),i=r(207);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(a(e))}},function(e,t,r){var n=r(79),a=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(a)return a(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},function(e,t,r){var n=r(569),a=r(119),i=r(206),o=i&&i.isMap,s=o?a(o):n;e.exports=s},function(e,t,r){var n=r(158),a=r(61);e.exports=function(e){return a(e)&&"[object Map]"==n(e)}},function(e,t,r){var n=r(571),a=r(119),i=r(206),o=i&&i.isSet,s=o?a(o):n;e.exports=s},function(e,t,r){var n=r(158),a=r(61);e.exports=function(e){return a(e)&&"[object Set]"==n(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){t.Converter=r(327).Converter,t.getSanitizingConverter=r(702).getSanitizingConverter},function(e,t,r){!function(){var e,n;function a(e){return e.replace(/<[^>]*>?/gi,c)}e=t,n=r(327).Converter,e.getSanitizingConverter=function(){var e=new n;return e.hooks.chain("postConversion",a),e.hooks.chain("postConversion",l),e};var i=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,o=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,s=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i;function c(e){return e.match(i)||e.match(o)||e.match(s)?e:""}function l(e){if(""==e)return"";var t,r,n=/<\/?\w+[^>]*(\s|$|>)/g,a=e.toLowerCase().match(n),i=(a||[]).length;if(0==i)return e;for(var o,s=[],c=[],l=!1,u=0;u<i;u++)if(t=a[u].replace(/<\/?(\w+).*/,"$1"),!(s[u]||"<p><img><br><li><hr>".search("<"+t+">")>-1)){if(r=a[u],o=-1,!/^<\//.test(r))for(var d=u+1;d<i;d++)if(!s[d]&&a[d]=="</"+t+">"){o=d;break}-1==o?l=c[u]=!0:s[o]=!0}if(!l)return e;u=0;return e=e.replace(n,(function(e){var t=c[u]?"":e;return u++,t}))}}()},function(e,t,r){var n=r(704);e.exports=n},function(e,t,r){var n=r(705);function a(){}a.prototype.parseFromString=function(e){return new n(e)},e.exports=a},function(e,t,r){var n=/(<\/?[a-z][a-z0-9]*(?::[a-z][a-z0-9]*)?\s*(?:\s+[a-z0-9-_]+=(?:(?:'[\s\S]*?')|(?:"[\s\S]*?")))*\s*\/?>)|([^<]|<(?![a-z\/]))*/gi,a=/\s[a-z0-9-_]+\b(\s*=\s*('|")[\s\S]*?\2)?/gi,i=/(\s[a-z0-9-_]+\b\s*)(?:=(\s*('|")[\s\S]*?\3))?/gi,o=/^<[a-z]/,s=/\/>$/,c=/^<\//,l=/<\/?([a-z][a-z0-9]*)(?::([a-z][a-z0-9]*))?/i,u=/^('|")|('|")$/g,d=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)/i,p=r(706);function f(e,t,r){for(var f,h,m,g,b,v,y,_,E=[],w=0,O=e.match(n),x=!1,C=null,k=0,I=O.length;k<I;k++)if(h=(_=O[k]).match(l),(f=t.test(_))&&!x&&(x=!0),x){if(o.test(_)){m=s.test(_)||d.test(h[1]),g=[];for(var j=0,S=(v=_.match(a)||[]).length;j<S;j++)i.lastIndex=0,b=i.exec(v[j]),g.push({name:b[1].trim(),value:(b[2]||"").trim().replace(u,"")});(C&&C.childNodes||E).push(y=new p({nodeType:1,nodeName:h[1],namespace:h[2],attributes:g,childNodes:[],parentNode:C,startTag:_,selfCloseTag:m})),w++,!r&&f&&C&&E.push(y),m?w--:C=y}else c.test(_)?C.nodeName==h[1]&&(C=C.parentNode,w--):C.childNodes.push(new p({nodeType:3,text:_,parentNode:C}));if(0==w&&(x=!1,C=null,r))break}return r?E[0]||null:E}function h(e){this.rawHTML=e}h.prototype.getElementsByClassName=function(e){var t=new RegExp("class=('|\")(.*?\\s)?"+e+"(\\s.*?)?\\1");return f(this.rawHTML,t)},h.prototype.getElementsByTagName=function(e){var t=new RegExp("^<"+e,"i");return f(this.rawHTML,t)},h.prototype.getElementById=function(e){var t=new RegExp("id=('|\")"+e+"\\1");return f(this.rawHTML,t,!0)},h.prototype.getElementsByName=function(e){return this.getElementsByAttribute("name",e)},h.prototype.getElementsByAttribute=function(e,t){var r=new RegExp("\\s"+e+"=('|\")"+t+"\\1");return f(this.rawHTML,r)},e.exports=h},function(e,t){function r(e){this.namespace=e.namespace||null,this.text=e.text,this._selfCloseTag=e.selfCloseTag,Object.defineProperties(this,{nodeType:{value:e.nodeType},nodeName:{value:1==e.nodeType?e.nodeName:"#text"},childNodes:{value:e.childNodes},firstChild:{get:function(){return this.childNodes[0]||null}},lastChild:{get:function(){return this.childNodes[this.childNodes.length-1]||null}},parentNode:{value:e.parentNode||null},attributes:{value:e.attributes||[]},innerHTML:{get:function(){for(var e,t="",r=0,n=this.childNodes.length;r<n;r++)t+=3===(e=this.childNodes[r]).nodeType?e.text:e.outerHTML;return t}},outerHTML:{get:function(){if(3!=this.nodeType){var e,t=(this.attributes.map((function(e){return e.name+(e.value?'="'+e.value+'"':"")}))||[]).join(" ");e="<"+this.nodeName+(t?" "+t:"")+(this._selfCloseTag?"/":"")+">",this._selfCloseTag||(e+=(this._selfCloseTag?"":this.childNodes.map((function(e){return e.outerHTML}))||[]).join(""),e+="</"+this.nodeName+">")}else e=this.textContent;return e}},textContent:{get:function(){return this.nodeType==r.TEXT_NODE?this.text:this.childNodes.map((function(e){return e.textContent})).join("").replace(/\x20+/g," ")}}})}function n(e,t,r){var a=[];if(r=!!r,3!==e.nodeType)for(var i=0,o=e.childNodes.length;i<o&&(3===e.childNodes[i].nodeType||!t(e.childNodes[i])||(a.push(e.childNodes[i]),!r));i++)a=a.concat(n(e.childNodes[i],t));return r?a[0]:a}r.prototype.getAttribute=function(e){for(var t=0,r=this.attributes.length;t<r;t++)if(this.attributes[t].name==e)return this.attributes[t].value;return null},r.prototype.getElementsByTagName=function(e){return n(this,(function(t){return t.nodeName==e}))},r.prototype.getElementsByClassName=function(e){var t=new RegExp("^(.*?\\s)?"+e+"(\\s.*?)?$");return n(this,(function(e){return e.attributes.length&&t.test(e.getAttribute("class"))}))},r.prototype.getElementById=function(e){return n(this,(function(t){return t.attributes.length&&t.getAttribute("id")==e}),!0)},r.prototype.getElementsByName=function(e){return n(this,(function(t){return t.attributes.length&&t.getAttribute("name")==e}))},r.ELEMENT_NODE=1,r.TEXT_NODE=3,e.exports=r},function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=f(r(6)),i=f(r(2)),o=f(r(159)),s=r(0),c=f(s),l=f(r(8)),u=f(r(708)),d=f(r(161)),p=f(r(101));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var m=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r,n));return a.getTarget=function(){var e=a.props.target,t="function"==typeof e?e():e;return t&&l.default.findDOMNode(t)||null},a.maybeUpdatePosition=function(e){var t=a.getTarget();(a.props.shouldUpdatePosition||t!==a._lastTarget||e)&&a.updatePosition(t)},a.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},a._needsFlush=!1,a._lastTarget=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},t.prototype.render=function(){var e=this.props,t=e.children,r=e.className,i=h(e,["children","className"]),o=this.state,l=o.positionLeft,u=o.positionTop,d=h(o,["positionLeft","positionTop"]);delete i.target,delete i.container,delete i.containerPadding,delete i.shouldUpdatePosition;var p=c.default.Children.only(t);return(0,s.cloneElement)(p,n({},i,d,{positionLeft:l,positionTop:u,className:(0,a.default)(r,p.props.className),style:n({},p.props.style,{left:l,top:u})}))},t.prototype.updatePosition=function(e){if(this._lastTarget=e,e){var t=l.default.findDOMNode(this),r=(0,d.default)(this.props.container,(0,p.default)(this).body);this.setState((0,u.default)(this.props.placement,t,e,r,this.props.containerPadding))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},t}(c.default.Component);m.propTypes={target:i.default.oneOfType([o.default,i.default.func]),container:i.default.oneOfType([o.default,i.default.func]),containerPadding:i.default.number,placement:i.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:i.default.bool},m.displayName="Position",m.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=m,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r,i,o){var s="BODY"===i.tagName?(0,n.default)(r):(0,a.default)(r,i),l=(0,n.default)(t),u=l.height,d=l.width,p=void 0,f=void 0,h=void 0,m=void 0;if("left"===e||"right"===e){f=s.top+(s.height-u)/2,p="left"===e?s.left-d:s.left+s.width;var g=function(e,t,r,n){var a=c(r),i=a.scroll,o=a.height,s=e-n-i,l=e+n-i+t;return s<0?-s:l>o?o-l:0}(f,u,i,o);f+=g,m=50*(1-2*g/u)+"%",h=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');p=s.left+(s.width-d)/2,f="top"===e?s.top-u:s.top+s.height;var b=function(e,t,r,n){var a=c(r).width,i=e-n,o=e+n+t;if(i<0)return-i;if(o>a)return a-o;return 0}(p,d,i,o);p+=b,h=50*(1-2*b/d)+"%",m=void 0}return{positionLeft:p,positionTop:f,arrowOffsetLeft:h,arrowOffsetTop:m}};var n=s(r(328)),a=s(r(709)),i=s(r(329)),o=s(r(101));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=void 0,r=void 0,a=void 0;if("BODY"===e.tagName)t=window.innerWidth,r=window.innerHeight,a=(0,i.default)((0,o.default)(e).documentElement)||(0,i.default)(e);else{var s=(0,n.default)(e);t=s.width,r=s.height,a=(0,i.default)(e)}return{width:t,height:r,scroll:a}}e.exports=t.default},function(e,t,r){"use strict";var n=r(42);t.__esModule=!0,t.default=function(e,t){var r,n={top:0,left:0};"fixed"===(0,l.default)(e,"position")?r=e.getBoundingClientRect():(t=t||(0,o.default)(e),r=(0,i.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(n=(0,i.default)(t)),n.top+=parseInt((0,l.default)(t,"borderTopWidth"),10)-(0,s.default)(t)||0,n.left+=parseInt((0,l.default)(t,"borderLeftWidth"),10)-(0,c.default)(t)||0);return(0,a.default)({},r,{top:r.top-n.top-(parseInt((0,l.default)(e,"marginTop"),10)||0),left:r.left-n.left-(parseInt((0,l.default)(e,"marginLeft"),10)||0)})};var a=n(r(710)),i=n(r(328)),o=n(r(711)),s=n(r(329)),c=n(r(712)),l=n(r(106));e.exports=t.default},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){"use strict";var n=r(42);t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),r=e&&e.offsetParent;for(;r&&"html"!==o(e)&&"static"===(0,i.default)(r,"position");)r=r.offsetParent;return r||t.documentElement};var a=n(r(95)),i=n(r(106));function o(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},function(e,t,r){"use strict";var n=r(42);t.__esModule=!0,t.default=function(e,t){var r=(0,a.default)(e);if(void 0===t)return r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:e.scrollLeft;r?r.scrollTo(t,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):e.scrollLeft=t};var a=n(r(160));e.exports=t.default},,,,,,function(e,t){e.exports=function(e,t,r,n){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(n,o,r(o),e)}return n}},function(e,t,r){var n=r(331);e.exports=function(e,t,r,a){return n(e,(function(e,n,i){t(a,e,r(e),i)})),a}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){r(761),e.exports=r(62).Array.isArray},function(e,t,r){var n=r(67);n(n.S,"Array",{isArray:r(762)})},function(e,t,r){var n=r(187);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){r(764),e.exports=r(62).parseInt},function(e,t,r){var n=r(67),a=r(765);n(n.G+n.F*(parseInt!=a),{parseInt:a})},function(e,t,r){var n=r(98).parseInt,a=r(766).trim,i=r(338),o=/^[-+]?0[xX]/;e.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var r=a(String(e),3);return n(r,t>>>0||(o.test(r)?16:10))}:n},function(e,t,r){var n=r(67),a=r(145),i=r(118),o=r(338),s="["+o+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,r){var a={},s=i((function(){return!!o[e]()||"​"!="​"[e]()})),c=a[e]=s?t(d):o[e];r&&(a[r]=c),n(n.P+n.F*s,"String",a)},d=u.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},function(e,t,r){var n=r(231),a=r(339),i=r(340),o=r(232),s=r(772),c=r(233);e.exports=function(e,t,r){var l=-1,u=a,d=e.length,p=!0,f=[],h=f;if(r)p=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return c(m);p=!1,u=o,h=new n}else h=t?[]:f;e:for(;++l<d;){var g=e[l],b=t?t(g):g;if(g=r||0!==g?g:0,p&&b==b){for(var v=h.length;v--;)if(h[v]===b)continue e;t&&h.push(b),f.push(g)}else u(h,b,r)||(h!==f&&h.push(b),f.push(g))}return f}},function(e,t,r){var n=r(769),a=r(770),i=r(771);e.exports=function(e,t,r){return t==t?i(e,t,r):n(e,a,r)}},function(e,t){e.exports=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(294),a=r(773),i=r(233),o=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=o},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(231),a=r(339),i=r(340),o=r(167),s=r(119),c=r(232);e.exports=function(e,t,r,l){var u=-1,d=a,p=!0,f=e.length,h=[],m=t.length;if(!f)return h;r&&(t=o(t,s(r))),l?(d=i,p=!1):t.length>=200&&(d=c,p=!1,t=new n(t));e:for(;++u<f;){var g=e[u],b=null==r?g:r(g);if(g=l||0!==g?g:0,p&&b==b){for(var v=m;v--;)if(t[v]===b)continue e;h.push(g)}else d(t,b,l)||h.push(g)}return h}},function(e,t,r){var n=r(103),a=r(61);e.exports=function(e){return a(e)&&n(e)}},function(e,t,r){"use strict";var n=r(777);e.exports=function(e,t,r){return!n(e.props,t)||!n(e.state,r)}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function a(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(a(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!n.call(t,r[o])||!a(e[r[o]],t[r[o]]))return!1;return!0}},function(e,t,r){var n,a;a=function(e){var t=["N","E","A","D"];function r(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function a(e,t,r){a.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,r){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function c(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function l(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}function d(e){var t=0,r=l(e);if("array"===r)return e.forEach((function(e){t+=d(e)})),t+u("[type: array, hash: "+t+"]");if("object"===r){for(var n in e)if(e.hasOwnProperty(n)){var a="[ type: object, key: "+n+", value hash: "+d(e[n])+"]";t+=u(a)}return t}return t+u("[ type: "+r+" ; value: "+e+"]")}function p(e,t,r,n,c,u,f,h){r=r||[],f=f||[];var m=(c=c||[]).slice(0);if(null!=u){if(n){if("function"==typeof n&&n(m,u))return;if("object"==typeof n){if(n.prefilter&&n.prefilter(m,u))return;if(n.normalize){var g=n.normalize(m,u,e,t);g&&(e=g[0],t=g[1])}}}m.push(u)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var b,v,y,_,E=typeof e,w=typeof t,O="undefined"!==E||f&&f.length>0&&f[f.length-1].lhs&&Object.getOwnPropertyDescriptor(f[f.length-1].lhs,u),x="undefined"!==w||f&&f.length>0&&f[f.length-1].rhs&&Object.getOwnPropertyDescriptor(f[f.length-1].rhs,u);if(!O&&x)r.push(new i(m,t));else if(!x&&O)r.push(new o(m,e));else if(l(e)!==l(t))r.push(new a(m,e,t));else if("date"===l(e)&&e-t!=0)r.push(new a(m,e,t));else if("object"===E&&null!==e&&null!==t){for(b=f.length-1;b>-1;--b)if(f[b].lhs===e){_=!0;break}if(_)e!==t&&r.push(new a(m,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){for(h&&(e.sort((function(e,t){return d(e)-d(t)})),t.sort((function(e,t){return d(e)-d(t)}))),b=t.length-1,v=e.length-1;b>v;)r.push(new s(m,b,new i(void 0,t[b--])));for(;v>b;)r.push(new s(m,v,new o(void 0,e[v--])));for(;b>=0;--b)p(e[b],t[b],r,n,m,b,f,h)}else{var C=Object.keys(e),k=Object.keys(t);for(b=0;b<C.length;++b)y=C[b],(_=k.indexOf(y))>=0?(p(e[y],t[y],r,n,m,y,f,h),k[_]=null):p(e[y],void 0,r,n,m,y,f,h);for(b=0;b<k.length;++b)(y=k[b])&&p(void 0,t[y],r,n,m,y,f,h)}f.length=f.length-1}}else e!==t&&("number"===E&&isNaN(e)&&isNaN(t)||r.push(new a(m,e,t)))}function f(e,t,r,n,a){var i=[];if(p(e,t,i,n,null,null,null,a),r)for(var o=0;o<i.length;++o)r(i[o]);return i}function h(e,t,r,n){var a=f(e,t,n?function(e){e&&n.push(e)}:void 0,r);return n||(a.length?a:void 0)}function m(e,r,n){if(void 0===n&&r&&~t.indexOf(r.kind)&&(n=r),e&&n&&n.kind){for(var a=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===a[n.path[i]]&&(a[n.path[i]]=void 0!==n.path[i+1]&&"number"==typeof n.path[i+1]?[]:{}),a=a[n.path[i]];switch(n.kind){case"A":n.path&&void 0===a[n.path[i]]&&(a[n.path[i]]=[]),function e(t,r,n){if(n.path&&n.path.length){var a,i=t[r],o=n.path.length-1;for(a=0;a<o;a++)i=i[n.path[a]];switch(n.kind){case"A":e(i[n.path[a]],n.index,n.item);break;case"D":delete i[n.path[a]];break;case"E":case"N":i[n.path[a]]=n.rhs}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":t=c(t,r);break;case"E":case"N":t[r]=n.rhs}return t}(n.path?a[n.path[i]]:a,n.index,n.item);break;case"D":delete a[n.path[i]];break;case"E":case"N":a[n.path[i]]=n.rhs}}}return r(a,n),r(i,n),r(o,n),r(s,n),Object.defineProperties(h,{diff:{value:h,enumerable:!0},orderIndependentDiff:{value:function(e,t,r,n){var a=n?function(e){e&&n.push(e)}:void 0,i=f(e,t,a,r,!0);return n||(i.length?i:void 0)},enumerable:!0},observableDiff:{value:f,enumerable:!0},orderIndependentObservableDiff:{value:function(e,t,r,n,a,i,o){return p(e,t,r,n,a,i,o,!0)},enumerable:!0},orderIndepHash:{value:d,enumerable:!0},applyDiff:{value:function(e,t,r){e&&t&&f(e,t,(function(n){r&&!r(e,t,n)||m(e,t,n)}))},enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:function(e,t,r){if(e&&t&&r&&r.kind){var n,a,i=e;for(a=r.path.length-1,n=0;n<a;n++)void 0===i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var a,i=t[r],o=n.path.length-1;for(a=0;a<o;a++)i=i[n.path[a]];switch(n.kind){case"A":e(i[n.path[a]],n.index,n.item);break;case"D":case"E":i[n.path[a]]=n.lhs;break;case"N":delete i[n.path[a]]}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":case"E":t[r]=n.lhs;break;case"N":t=c(t,r)}return t}(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof $conflict},enumerable:!0}}),h.DeepDiff=h,e&&(e.DeepDiff=h),h}(this),void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){"use strict";
/**
* @license nested-property https://github.com/cosmosio/nested-property
*
* The MIT License (MIT)
*
* Copyright (c) 2014-2015 Olivier Scherrer <pode.fr@gmail.com>
*/e.exports={set:function(e,t,r){if(e&&"object"==typeof e){if("string"==typeof t&&""!==t){var n=t.split(".");return n.reduce((function(e,t,a){const i=Number.isInteger(Number(n[a+1]));return e[t]=e[t]||(i?[]:{}),n.length==a+1&&(e[t]=r),e[t]}),e)}return"number"==typeof t?(e[t]=r,e[t]):e}return e},get:function(e,t){return e&&"object"==typeof e?"string"==typeof t&&""!==t?t.split(".").reduce((function(e,t){return e&&e[t]}),e):"number"==typeof t?e[t]:e:e},has:function(e,t,r){return r=r||{},!(!e||"object"!=typeof e)&&("string"==typeof t&&""!==t?t.split(".").reduce((function(e,t,n,a){return n==a.length-1?r.own?!(!e||!e.hasOwnProperty(t)):!!(null!==e&&"object"==typeof e&&t in e):e&&e[t]}),e):"number"==typeof t&&t in e)},hasOwn:function(e,t,r){return this.has(e,t,r||{own:!0})},isIn:function(e,t,r,n){if(n=n||{},e&&"object"==typeof e){if("string"==typeof t&&""!==t){var a,i=t.split("."),o=!1;return a=!!i.reduce((function(e,t){return o=o||e===r||!!e&&e[t]===r,e&&e[t]}),e),n.validPath?o&&a:o}return!1}return!1}}},function(e,t,r){"use strict";
/** @license React v16.13.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case p:case o:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case b:case g:case l:return e;default:return t}}case i:return t}}}function O(e){return w(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=a,t.ForwardRef=f,t.Fragment=o,t.Lazy=b,t.Memo=g,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return O(e)||w(e)===d},t.isConcurrentMode=O,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===b},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===c},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===p||e===c||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===_||e.$$typeof===E||e.$$typeof===v)},t.typeOf=w},function(e,t,r){var n=r(234),a=r(782),i=r(165);e.exports=function(e,t,r){for(var o=-1,s=t.length,c={};++o<s;){var l=t[o],u=n(e,l);r(u,l)&&a(c,i(l,e),u)}return c}},function(e,t,r){var n=r(202),a=r(165),i=r(157),o=r(79),s=r(129);e.exports=function(e,t,r,c){if(!o(e))return e;for(var l=-1,u=(t=a(t,e)).length,d=u-1,p=e;null!=p&&++l<u;){var f=s(t[l]),h=r;if(l!=d){var m=p[f];void 0===(h=c?c(m,f,p):void 0)&&(h=o(m)?m:i(t[l+1])?[]:{})}n(p,f,h),p=p[f]}return e}},function(e,t,r){"use strict";var n=r(182),a=r(784),i=r(785);e.exports=function(e,t,r){var o=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},l={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var r=0;r<t.length;r++)d(e,t[r])},childContextTypes:function(e,t){e.childContextTypes=n({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=n({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=n({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var r in t){var n=t[r];if(t.hasOwnProperty(r)){if(i(!(r in l),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r),r in e){var a=c.hasOwnProperty(r)?c[r]:null;return i("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),void(e[r]=f(e[r],n))}e[r]=n}}}(e,t)},autobind:function(){}};function u(e,t){var r=s.hasOwnProperty(t)?s[t]:null;v.hasOwnProperty(t)&&i("OVERRIDE_BASE"===r,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===r||"DEFINE_MANY_MERGED"===r,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,r){if(r){i("function"!=typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,a=n.__reactAutoBindPairs;for(var o in r.hasOwnProperty("mixins")&&l.mixins(e,r.mixins),r)if(r.hasOwnProperty(o)&&"mixins"!==o){var c=r[o],d=n.hasOwnProperty(o);if(u(d,o),l.hasOwnProperty(o))l[o](e,c);else{var p=s.hasOwnProperty(o);if("function"==typeof c&&!p&&!d&&!1!==r.autobind)a.push(o,c),n[o]=c;else if(d){var m=s[o];i(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,o),"DEFINE_MANY_MERGED"===m?n[o]=f(n[o],c):"DEFINE_MANY"===m&&(n[o]=h(n[o],c))}else n[o]=c}}}else;}function p(e,t){for(var r in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(r)&&(i(void 0===e[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r),e[r]=t[r]);return e}function f(e,t){return function(){var r=e.apply(this,arguments),n=t.apply(this,arguments);if(null==r)return n;if(null==n)return r;var a={};return p(a,r),p(a,n),a}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},y=function(){};return n(y.prototype,e.prototype,v),function(e){var t=function(e,n,o){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e[n]=m(e,a)}}(this),this.props=e,this.context=n,this.refs=a,this.updater=o||r,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var n in t.prototype=new y,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],o.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,b),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[n]||(t.prototype[n]=null);return t}}},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,a,i,o,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,a,i,o,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,r){var n=r(787);e.exports=function(e,t,r){var a,i,o,s,c;function l(){var u=n()-s;u<t&&u>0?a=setTimeout(l,t-u):(a=null,r||(c=e.apply(o,i),a||(o=i=null)))}return null==t&&(t=100),function(){o=this,i=arguments,s=n();var u=r&&!a;return a||(a=setTimeout(l,t)),u&&(c=e.apply(o,i),o=i=null),c}}},function(e,t){e.exports=Date.now||function(){return(new Date).getTime()}},function(e,t,r){var n=r(0),a=r(169),i=r(789),o=r(790),s=r(236),c=r(341),l=r(791),u=n.createElement,d=a({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+o(),t=this.props,r={path:this.keypath(),key:t.label.toString(),value:t.data},n=this._onClick.bind(this,r);return u("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},u("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),u("label",{className:"json-inspector__line",htmlFor:e,onClick:n},u("div",{className:"json-inspector__flatpath"},r.path),u("span",{className:"json-inspector__key"},this.format(r.key),":",this.renderInteractiveLabel(r.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=s(e);switch(t){case"Array":return u("span",{className:"json-inspector__value json-inspector__value_helper"},"[] "+p(e.length));case"Object":return u("span",{className:"json-inspector__value json-inspector__value_helper"},"{} "+p(Object.keys(e).length));default:return u("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),r=this.data();return this.state.expanded&&!c(r)?Object.keys(r).map((function(n){var a=r[n],i=!this.state.original||!!e.verboseShowOriginal&&e.query;return u(d,{data:a,label:n,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:f(n,a),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})}),this):null},renderShowOriginalButton:function(){var e=this.props;return c(e.data)||this.state.original||!e.getOriginal||!e.query||h(this.keypath(),e.query)?null:u("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return"function"==typeof this.props.interactiveLabel?u(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!h(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(".root.".length)},data:function(){return this.state.original||this.props.data},format:function(e){return u(l,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),c(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return!!e.root||(e.query?!h(t,e.query)&&"function"==typeof e.getOriginal:e.isExpanded(t,e.data))}});function p(e){return e+(1===e?" item":" items")}function f(e,t){return c(t)?e+":"+i(String(t)):e+"["+s(t)+"]"}function h(e,t){return-1!==e.indexOf(t)}e.exports=d},function(e,t,r){"use strict";e.exports=function(e){for(var t=function(e){var t,r=1+(e.length+8>>6),n=new Array(16*r);for(t=0;t<16*r;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(8*e.length+t)%4*8;n[t>>2]|=128<<(8*e.length+t)%4*8;var a=8*e.length;return n[16*r-2]=255&a,n[16*r-2]|=(a>>>8&255)<<8,n[16*r-2]|=(a>>>16&255)<<16,n[16*r-2]|=(a>>>24&255)<<24,n}(e),r=1732584193,n=-271733879,a=-1732584194,i=271733878,c=0;c<t.length;c+=16){var f=r,h=n,m=a,g=i;r=l(r,n,a,i,t[c+0],7,-680876936),i=l(i,r,n,a,t[c+1],12,-389564586),a=l(a,i,r,n,t[c+2],17,606105819),n=l(n,a,i,r,t[c+3],22,-1044525330),r=l(r,n,a,i,t[c+4],7,-176418897),i=l(i,r,n,a,t[c+5],12,1200080426),a=l(a,i,r,n,t[c+6],17,-1473231341),n=l(n,a,i,r,t[c+7],22,-45705983),r=l(r,n,a,i,t[c+8],7,1770035416),i=l(i,r,n,a,t[c+9],12,-1958414417),a=l(a,i,r,n,t[c+10],17,-42063),n=l(n,a,i,r,t[c+11],22,-1990404162),r=l(r,n,a,i,t[c+12],7,1804603682),i=l(i,r,n,a,t[c+13],12,-40341101),a=l(a,i,r,n,t[c+14],17,-1502002290),n=l(n,a,i,r,t[c+15],22,1236535329),r=u(r,n,a,i,t[c+1],5,-165796510),i=u(i,r,n,a,t[c+6],9,-1069501632),a=u(a,i,r,n,t[c+11],14,643717713),n=u(n,a,i,r,t[c+0],20,-373897302),r=u(r,n,a,i,t[c+5],5,-701558691),i=u(i,r,n,a,t[c+10],9,38016083),a=u(a,i,r,n,t[c+15],14,-660478335),n=u(n,a,i,r,t[c+4],20,-405537848),r=u(r,n,a,i,t[c+9],5,568446438),i=u(i,r,n,a,t[c+14],9,-1019803690),a=u(a,i,r,n,t[c+3],14,-187363961),n=u(n,a,i,r,t[c+8],20,1163531501),r=u(r,n,a,i,t[c+13],5,-1444681467),i=u(i,r,n,a,t[c+2],9,-51403784),a=u(a,i,r,n,t[c+7],14,1735328473),n=u(n,a,i,r,t[c+12],20,-1926607734),r=d(r,n,a,i,t[c+5],4,-378558),i=d(i,r,n,a,t[c+8],11,-2022574463),a=d(a,i,r,n,t[c+11],16,1839030562),n=d(n,a,i,r,t[c+14],23,-35309556),r=d(r,n,a,i,t[c+1],4,-1530992060),i=d(i,r,n,a,t[c+4],11,1272893353),a=d(a,i,r,n,t[c+7],16,-155497632),n=d(n,a,i,r,t[c+10],23,-1094730640),r=d(r,n,a,i,t[c+13],4,681279174),i=d(i,r,n,a,t[c+0],11,-358537222),a=d(a,i,r,n,t[c+3],16,-722521979),n=d(n,a,i,r,t[c+6],23,76029189),r=d(r,n,a,i,t[c+9],4,-640364487),i=d(i,r,n,a,t[c+12],11,-421815835),a=d(a,i,r,n,t[c+15],16,530742520),n=d(n,a,i,r,t[c+2],23,-995338651),r=p(r,n,a,i,t[c+0],6,-198630844),i=p(i,r,n,a,t[c+7],10,1126891415),a=p(a,i,r,n,t[c+14],15,-1416354905),n=p(n,a,i,r,t[c+5],21,-57434055),r=p(r,n,a,i,t[c+12],6,1700485571),i=p(i,r,n,a,t[c+3],10,-1894986606),a=p(a,i,r,n,t[c+10],15,-1051523),n=p(n,a,i,r,t[c+1],21,-2054922799),r=p(r,n,a,i,t[c+8],6,1873313359),i=p(i,r,n,a,t[c+15],10,-30611744),a=p(a,i,r,n,t[c+6],15,-1560198380),n=p(n,a,i,r,t[c+13],21,1309151649),r=p(r,n,a,i,t[c+4],6,-145523070),i=p(i,r,n,a,t[c+11],10,-1120210379),a=p(a,i,r,n,t[c+2],15,718787259),n=p(n,a,i,r,t[c+9],21,-343485551),r=o(r,f),n=o(n,h),a=o(a,m),i=o(i,g)}return s(r)+s(n)+s(a)+s(i)};function n(e,t){return(e>>>1|t>>>1)<<1|(1&e|1&t)}function a(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t}function i(e,t){return(e>>>1&t>>>1)<<1|1&e&t}function o(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e){var t,r="";for(t=0;t<=3;t++)r+="0123456789abcdef".charAt(e>>8*t+4&15)+"0123456789abcdef".charAt(e>>8*t&15);return r}function c(e,t,r,n,a,i){return o((s=o(o(t,e),o(n,i)))<<(c=a)|s>>>32-c,r);var s,c}function l(e,t,r,a,o,s,l){return c(n(i(t,r),i(~t,a)),e,t,o,s,l)}function u(e,t,r,a,o,s,l){return c(n(i(t,a),i(r,~a)),e,t,o,s,l)}function d(e,t,r,n,i,o,s){return c(a(a(t,r),n),e,t,i,o,s)}function p(e,t,r,i,o,s,l){return c(a(r,n(t,~i)),e,t,o,s,l)}},function(e,t){var r=Math.ceil(10*Math.random());e.exports=function(){return++r}},function(e,t,r){var n=r(0),a=r(169),i=n.createElement;e.exports=a({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||-1===t)return i("span",null,e.string);var r=e.highlight.source.length,n=e.string.substr(t,r);return i("span",null,e.string.split(e.highlight).map((function(e,t){return i("span",{key:t},t>0?i("span",{className:"json-inspector__hl"},n):null,e)})))}})},function(e,t,r){var n=r(0),a=r(169),i=n.createElement,o=r(342);e.exports=a({getDefaultProps:function(){return{onChange:o}},render:function(){return i("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}})},function(e,t,r){var n=r(794),a=Object.keys,i=r(341),o=r(343);function s(e,t,r){return a(e).reduce((function(a,l){var u,d=e[l];return i(d)?(c(t,l,r)||c(t,d,r))&&(a[l]=d):c(t,l,r)?a[l]=d:(u=s(d,t,r),o(u)||n(a,function(e,t){var r={};return r[e]=t,r}(l,u))),a}),{})}function c(e,t,r){if(t){var n=String(t),a=e;return r.ignoreCase&&(n=n.toLowerCase(),a=a.toLowerCase()),-1!==n.indexOf(a)}}e.exports=function(e,t){t||(t={cacheResults:!0});var r={};return function(n){if(!t.cacheResults)return s(e,n,t);var a;if(!r[n])for(var i=n.length-1;i>0;i-=1)if(a=n.substr(0,i),r[a]){r[n]=s(r[a],n,t);break}return r[n]||(r[n]=s(e,n,t)),r[n]}}},function(e,t,r){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var r,a,i=n(e),o=1;o<arguments.length;o++){r=arguments[o],a=Object.keys(Object(r));for(var s=0;s<a.length;s++)i[a[s]]=r[a[s]]}return i}},function(e,t,r){var n=r(236);function a(e){return parseInt(e,10)}e.exports=function e(t,r){var i=r.split("."),o=i.shift();if(!o)return t;var s=n(t);return"Array"===s&&t[a(o)]?e(t[a(o)],i.join(".")):"Object"===s&&t[o]?e(t[o],i.join(".")):void 0}},function(e,t,r){var n=r(797);"string"==typeof n&&(n=[[e.i,n,""]]);r(345)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(344)(!1)).push([e.i,"@charset \"UTF-8\";\n.json-inspector,\n.json-inspector__selection {\n  font: 14px/1.4 Consolas, monospace; }\n\n.json-inspector__leaf {\n  padding-left: 10px; }\n\n.json-inspector__line {\n  display: block;\n  position: relative;\n  cursor: default; }\n\n.json-inspector__line:after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -200px;\n  right: -50px;\n  bottom: 0;\n  z-index: -1;\n  pointer-events: none; }\n\n.json-inspector__line:hover:after {\n  background: rgba(0, 0, 0, 0.06); }\n\n.json-inspector__leaf_composite > .json-inspector__line {\n  cursor: pointer; }\n\n.json-inspector__radio,\n.json-inspector__flatpath {\n  display: none; }\n\n.json-inspector__value {\n  margin-left: 5px; }\n\n.json-inspector__search {\n  min-width: 300px;\n  margin: 0 10px 10px 0;\n  padding: 2px; }\n\n.json-inspector__key {\n  color: #505050; }\n\n.json-inspector__value_helper,\n.json-inspector__value_null,\n.json-inspector__not-found {\n  color: #b0b0b0; }\n\n.json-inspector__value_string {\n  color: #798953; }\n\n.json-inspector__value_boolean {\n  color: #75b5aa; }\n\n.json-inspector__value_number {\n  color: #d28445; }\n\n.json-inspector__hl {\n  background: #ff0;\n  box-shadow: 0 -1px 0 2px #ff0;\n  border-radius: 2px; }\n\n.json-inspector__show-original {\n  display: inline-block;\n  padding: 0 6px;\n  color: #666;\n  cursor: pointer; }\n\n.json-inspector__show-original:hover {\n  color: #111; }\n\n.json-inspector__show-original:before {\n  content: '⥂'; }\n\n.json-inspector__show-original:hover:after {\n  content: ' expand'; }\n",""])},function(e,t){function r(){var e=this;document.addEventListener("keydown",(function(t){e.focusByKeyboard=!0}),!0),document.addEventListener("mousedown",(function(t){e.focusByKeyboard=!1}),!0),document.addEventListener("focus",(function(t){e.updateVisibility()}),!0),document.addEventListener("focusout",(function(t){window.setTimeout((function(){document.hasFocus()||(e.focusByKeyboard=!0,e.updateVisibility())}),0)})),this.updateVisibility()}r.prototype={focusByKeyboard:!0,updateVisibility:function(){this.hidden=!this.focusByKeyboard},set hidden(e){document.documentElement.classList.toggle("focus-outline-hidden",e)},get hidden(){return document.documentElement.classList.contains("focus-outline-hidden")}},new r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(346),o=(n=i)&&n.__esModule?n:{default:n};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,r=void 0===t?'[href^="#"]:not([href="#"]':t,n=e.match,i=void 0===n?function(e){return document.getElementById(e.hash.substring(1))}:n,s=e.hashChange,c=void 0===s||s,l=e.scrollSmoothConfig,u=document.querySelectorAll(r),d=function(e){e.preventDefault();var t=i(e.target);t&&(c&&history.replaceState(null,null,"#"+t.id),(0,o.default)(t,a({},l)))};Array.from(u).map((function(e){e.addEventListener("click",d,!1)}))},e.exports=t.default},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.activeClass,r=void 0===t?"active":t,a=e.query,i=void 0===a?'[href^="#"]:not([href="#"]':a,o=e.threshold,s=void 0===o?[.25,.5,.75]:o,c=e.detectType,l=void 0===c?"max":c,u={threshold:s},d=function(e){return e.classList.remove(r)},p=function(e){return e.classList.add(r)},f=function(){document.querySelectorAll("."+r).forEach(d)},h=function(e){f(),p(document.querySelector('a[href="#'+e.id+'"]'))},m=function(e){e.forEach((function(e){e.intersectionRatio>=Math[l].apply(Math,n(s))&&h(e.target)}))},g=document.querySelectorAll(i),b=new IntersectionObserver(m,u),v=function(e){var t=document.querySelector("#"+e.hash.slice(1));b.observe(t)};g.forEach(v)},e.exports=t.default},,,,function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.set(t.debug);var r,n=l({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:i.ActionTypes.UNDO,redoType:i.ActionTypes.REDO,jumpToPastType:i.ActionTypes.JUMP_TO_PAST,jumpToFutureType:i.ActionTypes.JUMP_TO_FUTURE,jumpType:i.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},t,{initTypes:(0,o.parseActions)(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,o.parseActions)(t.clearHistoryType,[i.ActionTypes.CLEAR_HISTORY])}),s=n.neverSkipReducer?function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return l({},t,{present:e.apply(void 0,[t.present,r].concat(a))})}:function(e){return e};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.start(i,t);for(var c,l=t,u=arguments.length,d=new Array(u>2?u-2:0),v=2;v<u;v++)d[v-2]=arguments[v];if(!r){if(a.log("history is uninitialized"),void 0===t){var y={type:"@@redux-undo/CREATE_HISTORY"},_=e.apply(void 0,[t,y].concat(d));return l=p(_,n.ignoreInitialState),a.log("do not set initialState on probe actions"),a.end(l),l}(0,o.isHistory)(t)?(l=r=n.ignoreInitialState?t:(0,o.newHistory)(t.past,t.present,t.future),a.log("initialHistory initialized: initialState is a history",r)):(l=r=p(t,n.ignoreInitialState),a.log("initialHistory initialized: initialState is not a history",r))}switch(i.type){case void 0:return l;case n.undoType:return c=g(l,-1),a.log("perform undo"),a.end(c),s.apply(void 0,[c,i].concat(d));case n.redoType:return c=g(l,1),a.log("perform redo"),a.end(c),s.apply(void 0,[c,i].concat(d));case n.jumpToPastType:return c=m(l,i.index),a.log("perform jumpToPast to ".concat(i.index)),a.end(c),s.apply(void 0,[c,i].concat(d));case n.jumpToFutureType:return c=h(l,i.index),a.log("perform jumpToFuture to ".concat(i.index)),a.end(c),s.apply(void 0,[c,i].concat(d));case n.jumpType:return c=g(l,i.index),a.log("perform jump to ".concat(i.index)),a.end(c),s.apply(void 0,[c,i].concat(d));case b(i.type,n.clearHistoryType):return c=p(l.present,n.ignoreInitialState),a.log("perform clearHistory"),a.end(c),s.apply(void 0,[c,i].concat(d));default:if(c=e.apply(void 0,[l.present,i].concat(d)),n.initTypes.some((function(e){return e===i.type})))return a.log("reset history due to init action"),a.end(r),r;if(l._latestUnfiltered===c)return l;var E="function"==typeof n.filter&&!n.filter(i,c,l);if(E){var w=(0,o.newHistory)(l.past,c,l.future,l.group);return n.syncFilter||(w._latestUnfiltered=l._latestUnfiltered),a.log("filter ignored action, not storing it in past"),a.end(w),w}var O=n.groupBy(i,c,l);if(null!=O&&O===l.group){var x=(0,o.newHistory)(l.past,c,l.future,l.group);return a.log("groupBy grouped the action with the previous action"),a.end(x),x}return l=f(l,c,n.limit,O),a.log("inserted new state into history"),a.end(l),l}}};var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(805)),i=r(348),o=r(349);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){var r=(0,o.newHistory)([],e,[]);return t&&(r._latestUnfiltered=null),r}function f(e,t,r,n){var i=e.past.length+1;a.log("inserting",t),a.log("new free: ",r-i);var s=e.past,c=e._latestUnfiltered,l=r&&r<=i,u=s.slice(l?1:0),p=null!=c?[].concat(d(u),[c]):u;return(0,o.newHistory)(p,t,[],n)}function h(e,t){if(t<0||t>=e.future.length)return e;var r=e.past,n=e.future,a=e._latestUnfiltered,i=[].concat(d(r),[a],d(n.slice(0,t))),s=n[t],c=n.slice(t+1);return(0,o.newHistory)(i,s,c)}function m(e,t){if(t<0||t>=e.past.length)return e;var r=e.past,n=e.future,a=e._latestUnfiltered,i=r.slice(0,t),s=[].concat(d(r.slice(t+1)),[a],d(n)),c=r[t];return(0,o.newHistory)(i,c,s)}function g(e,t){return t>0?h(e,t-1):t<0?m(e,e.past.length+t):e}function b(e,t){return t.indexOf(e)>-1?e:!e}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a,i;Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e){a=e},t.start=function(e,t){void(i={header:[],prev:[],action:[],next:[],msgs:[]}),a&&(console.group?(i.header=["%credux-undo","font-style: italic","action",e.type],i.action=l("action",s,e),i.prev=l("prev history",o,t)):(i.header=["redux-undo action",e.type],i.action=["action",e],i.prev=["prev history",t]))},t.end=function(e){a&&(console.group?i.next=l("next history",c,e):i.next=["next history",e],function(){var e=i,t=e.header,r=e.prev,a=e.next,o=e.action,s=e.msgs;if(console.group){var c,l,u,d,p;(c=console).groupCollapsed.apply(c,n(t)),(l=console).log.apply(l,n(r)),(u=console).log.apply(u,n(o)),(d=console).log.apply(d,n(a)),(p=console).log.apply(p,n(s)),console.groupEnd()}else{var f,h,m,g,b;(f=console).log.apply(f,n(t)),(h=console).log.apply(h,n(r)),(m=console).log.apply(m,n(o)),(g=console).log.apply(g,n(a)),(b=console).log.apply(b,n(s))}}())},t.log=function(){if(a){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.msgs=i.msgs.concat([].concat(t,["\n"]))}};var o="#9E9E9E",s="#03A9F4",c="#4CAF50";function l(e,t,r){return["%c".concat(e),"color: ".concat(t,"; font-weight: bold"),r]}},function(e,t,r){!function(e){e.parser=function(e,t){return new a(e,t)},e.SAXParser=a,e.SAXStream=o,e.createStream=function(e,t){return new o(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(t,r){if(!(this instanceof a))return new a(t,r);!function(e){for(var t=0,r=n.length;t<r;t++)e[n[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=r||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=E.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),O(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),a.prototype={end:function(){j(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return I(this,"Cannot write after close. Assign an onready handler.");if(null===t)return j(this);"object"==typeof t&&(t=t.toString());var r=0,a="";for(;a=F(t,r++),this.c=a,a;)switch(this.trackPosition&&(this.position++,"\n"===a?(this.line++,this.column=0):this.column++),this.state){case E.BEGIN:if(this.state=E.BEGIN_WHITESPACE,"\ufeff"===a)continue;M(this,a);continue;case E.BEGIN_WHITESPACE:M(this,a);continue;case E.TEXT:if(this.sawRoot&&!this.closedRoot){for(var i=r-1;a&&"<"!==a&&"&"!==a;)(a=F(t,r++))&&this.trackPosition&&(this.position++,"\n"===a?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(i,r-1)}"<"!==a||this.sawRoot&&this.closedRoot&&!this.strict?(f(a)||this.sawRoot&&!this.closedRoot||S(this,"Text data outside of root node."),"&"===a?this.state=E.TEXT_ENTITY:this.textNode+=a):(this.state=E.OPEN_WAKA,this.startTagPosition=this.position);continue;case E.SCRIPT:"<"===a?this.state=E.SCRIPT_ENDING:this.script+=a;continue;case E.SCRIPT_ENDING:"/"===a?this.state=E.CLOSE_TAG:(this.script+="<"+a,this.state=E.SCRIPT);continue;case E.OPEN_WAKA:if("!"===a)this.state=E.SGML_DECL,this.sgmlDecl="";else if(f(a));else if(g(l,a))this.state=E.OPEN_TAG,this.tagName=a;else if("/"===a)this.state=E.CLOSE_TAG,this.tagName="";else if("?"===a)this.state=E.PROC_INST,this.procInstName=this.procInstBody="";else{if(S(this,"Unencoded <"),this.startTagPosition+1<this.position){var o=this.position-this.startTagPosition;a=new Array(o).join(" ")+a}this.textNode+="<"+a,this.state=E.TEXT}continue;case E.SGML_DECL:"[CDATA["===(this.sgmlDecl+a).toUpperCase()?(x(this,"onopencdata"),this.state=E.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+a==="--"?(this.state=E.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+a).toUpperCase()?(this.state=E.DOCTYPE,(this.doctype||this.sawRoot)&&S(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===a?(x(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=E.TEXT):h(a)?(this.state=E.SGML_DECL_QUOTED,this.sgmlDecl+=a):this.sgmlDecl+=a;continue;case E.SGML_DECL_QUOTED:a===this.q&&(this.state=E.SGML_DECL,this.q=""),this.sgmlDecl+=a;continue;case E.DOCTYPE:">"===a?(this.state=E.TEXT,x(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=a,"["===a?this.state=E.DOCTYPE_DTD:h(a)&&(this.state=E.DOCTYPE_QUOTED,this.q=a));continue;case E.DOCTYPE_QUOTED:this.doctype+=a,a===this.q&&(this.q="",this.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:this.doctype+=a,"]"===a?this.state=E.DOCTYPE:h(a)&&(this.state=E.DOCTYPE_DTD_QUOTED,this.q=a);continue;case E.DOCTYPE_DTD_QUOTED:this.doctype+=a,a===this.q&&(this.state=E.DOCTYPE_DTD,this.q="");continue;case E.COMMENT:"-"===a?this.state=E.COMMENT_ENDING:this.comment+=a;continue;case E.COMMENT_ENDING:"-"===a?(this.state=E.COMMENT_ENDED,this.comment=k(this.opt,this.comment),this.comment&&x(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+a,this.state=E.COMMENT);continue;case E.COMMENT_ENDED:">"!==a?(S(this,"Malformed comment"),this.comment+="--"+a,this.state=E.COMMENT):this.state=E.TEXT;continue;case E.CDATA:"]"===a?this.state=E.CDATA_ENDING:this.cdata+=a;continue;case E.CDATA_ENDING:"]"===a?this.state=E.CDATA_ENDING_2:(this.cdata+="]"+a,this.state=E.CDATA);continue;case E.CDATA_ENDING_2:">"===a?(this.cdata&&x(this,"oncdata",this.cdata),x(this,"onclosecdata"),this.cdata="",this.state=E.TEXT):"]"===a?this.cdata+="]":(this.cdata+="]]"+a,this.state=E.CDATA);continue;case E.PROC_INST:"?"===a?this.state=E.PROC_INST_ENDING:f(a)?this.state=E.PROC_INST_BODY:this.procInstName+=a;continue;case E.PROC_INST_BODY:if(!this.procInstBody&&f(a))continue;"?"===a?this.state=E.PROC_INST_ENDING:this.procInstBody+=a;continue;case E.PROC_INST_ENDING:">"===a?(x(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=E.TEXT):(this.procInstBody+="?"+a,this.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:g(u,a)?this.tagName+=a:(T(this),">"===a?D(this):"/"===a?this.state=E.OPEN_TAG_SLASH:(f(a)||S(this,"Invalid character in tag name"),this.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:">"===a?(D(this,!0),P(this)):(S(this,"Forward-slash in opening tag not followed by >"),this.state=E.ATTRIB);continue;case E.ATTRIB:if(f(a))continue;">"===a?D(this):"/"===a?this.state=E.OPEN_TAG_SLASH:g(l,a)?(this.attribName=a,this.attribValue="",this.state=E.ATTRIB_NAME):S(this,"Invalid attribute name");continue;case E.ATTRIB_NAME:"="===a?this.state=E.ATTRIB_VALUE:">"===a?(S(this,"Attribute without value"),this.attribValue=this.attribName,N(this),D(this)):f(a)?this.state=E.ATTRIB_NAME_SAW_WHITE:g(u,a)?this.attribName+=a:S(this,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if("="===a)this.state=E.ATTRIB_VALUE;else{if(f(a))continue;S(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",x(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===a?D(this):g(l,a)?(this.attribName=a,this.state=E.ATTRIB_NAME):(S(this,"Invalid attribute name"),this.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(f(a))continue;h(a)?(this.q=a,this.state=E.ATTRIB_VALUE_QUOTED):(S(this,"Unquoted attribute value"),this.state=E.ATTRIB_VALUE_UNQUOTED,this.attribValue=a);continue;case E.ATTRIB_VALUE_QUOTED:if(a!==this.q){"&"===a?this.state=E.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=a;continue}N(this),this.q="",this.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:f(a)?this.state=E.ATTRIB:">"===a?D(this):"/"===a?this.state=E.OPEN_TAG_SLASH:g(l,a)?(S(this,"No whitespace between attributes"),this.attribName=a,this.attribValue="",this.state=E.ATTRIB_NAME):S(this,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!m(a)){"&"===a?this.state=E.ATTRIB_VALUE_ENTITY_U:this.attribValue+=a;continue}N(this),">"===a?D(this):this.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(this.tagName)">"===a?P(this):g(u,a)?this.tagName+=a:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=E.SCRIPT):(f(a)||S(this,"Invalid tagname in closing tag"),this.state=E.CLOSE_TAG_SAW_WHITE);else{if(f(a))continue;b(l,a)?this.script?(this.script+="</"+a,this.state=E.SCRIPT):S(this,"Invalid tagname in closing tag."):this.tagName=a}continue;case E.CLOSE_TAG_SAW_WHITE:if(f(a))continue;">"===a?P(this):S(this,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var s,c;switch(this.state){case E.TEXT_ENTITY:s=E.TEXT,c="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:s=E.ATTRIB_VALUE_QUOTED,c="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:s=E.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===a?(this[c]+=R(this),this.entity="",this.state=s):g(this.entity.length?p:d,a)?this.entity+=a:(S(this,"Invalid character in entity name"),this[c]+="&"+this.entity+a,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),a=0,i=0,o=n.length;i<o;i++){var s=t[n[i]].length;if(s>r)switch(n[i]){case"textNode":C(t);break;case"cdata":x(t,"oncdata",t.cdata),t.cdata="";break;case"script":x(t,"onscript",t.script),t.script="";break;default:I(t,"Max buffer length exceeded: "+n[i])}a=Math.max(a,s)}var c=e.MAX_BUFFER_LENGTH-a;t.bufferCheckPosition=c+t.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;C(e=this),""!==e.cdata&&(x(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(x(e,"onscript",e.script),e.script="")}};try{t=r(80).Stream}catch(e){t=function(){}}var i=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function o(e,r){if(!(this instanceof o))return new o(e,r);t.apply(this),this._parser=new a(e,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,i.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}o.prototype=Object.create(t.prototype,{constructor:{value:o}}),o.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=r(807).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===i.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var s="http://www.w3.org/XML/1998/namespace",c={xml:s,xmlns:"http://www.w3.org/2000/xmlns/"},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function h(e){return'"'===e||"'"===e}function m(e){return">"===e||f(e)}function g(e,t){return e.test(t)}function b(e,t){return!g(e,t)}var v,y,_,E=0;for(var w in e.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t],n="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n})),e.STATE)e.STATE[e.STATE[w]]=w;function O(e,t,r){e[t]&&e[t](r)}function x(e,t,r){e.textNode&&C(e),O(e,t,r)}function C(e){e.textNode=k(e.opt,e.textNode),e.textNode&&O(e,"ontext",e.textNode),e.textNode=""}function k(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function I(e,t){return C(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,O(e,"onerror",t),e}function j(e){return e.sawRoot&&!e.closedRoot&&S(e,"Unclosed root tag"),e.state!==E.BEGIN&&e.state!==E.BEGIN_WHITESPACE&&e.state!==E.TEXT&&I(e,"Unexpected end"),C(e),e.c="",e.closed=!0,O(e,"onend"),a.call(e,e.strict,e.opt),e}function S(e,t){if("object"!=typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&I(e,t)}function T(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,x(e,"onopentagstart",r)}function A(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],a=r[1];return t&&"xmlns"===e&&(n="xmlns",a=""),{prefix:n,local:a}}function N(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=A(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==s)S(e,"xml: prefix must be bound to "+s+"\nActual: "+e.attribValue);else if("xmlns"===n&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)S(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var a=e.tag,i=e.tags[e.tags.length-1]||e;a.ns===i.ns&&(a.ns=Object.create(i.ns)),a.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,x(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function D(e,t){if(e.opt.xmlns){var r=e.tag,n=A(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(S(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var a=e.tags[e.tags.length-1]||e;r.ns&&a.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){x(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var i=0,o=e.attribList.length;i<o;i++){var s=e.attribList[i],c=s[0],l=s[1],u=A(c,!0),d=u.prefix,p=u.local,f=""===d?"":r.ns[d]||"",h={name:c,value:l,prefix:d,local:p,uri:f};d&&"xmlns"!==d&&!f&&(S(e,"Unbound namespace prefix: "+JSON.stringify(d)),h.uri=d),e.tag.attributes[c]=h,x(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),x(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=E.TEXT:e.state=E.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function P(e){if(!e.tagName)return S(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=E.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=E.SCRIPT);x(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--;){if(e.tags[t].name===n)break;S(e,"Unexpected close tag")}if(t<0)return S(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=E.TEXT);e.tagName=r;for(var a=e.tags.length;a-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,x(e,"onclosetag",e.tagName);var o={};for(var s in i.ns)o[s]=i.ns[s];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==c.ns&&Object.keys(i.ns).forEach((function(t){var r=i.ns[t];x(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=E.TEXT}function R(e){var t,r=e.entity,n=r.toLowerCase(),a="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),a=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),a=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||a.toLowerCase()!==r?(S(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function M(e,t){"<"===t?(e.state=E.OPEN_WAKA,e.startTagPosition=e.position):f(t)||(S(e,"Non-whitespace before first tag."),e.textNode=t,e.state=E.TEXT)}function F(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}E=e.STATE,String.fromCodePoint||(v=String.fromCharCode,y=Math.floor,_=function(){var e,t,r=16384,n=[],a=-1,i=arguments.length;if(!i)return"";for(var o="";++a<i;){var s=Number(arguments[a]);if(!isFinite(s)||s<0||s>1114111||y(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,n.push(e,t)),(a+1===i||n.length>r)&&(o+=v.apply(null,n),n.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:_,configurable:!0,writable:!0}):String.fromCodePoint=_)}(t)},function(e,t){e.exports=require("string_decoder")},function(e,t,r){var n=r(237),a=r(350);e.exports=function(e,t){var r,i,o;return r=function(e){var t=n.copyOptions(e);return n.ensureSpacesExists(t),t}(t),i=a(e,r),o="compact"in r&&r.compact?"_parent":"parent",("addParent"in r&&r.addParent?JSON.stringify(i,(function(e,t){return e===o?"_":t}),r.spaces):JSON.stringify(i,null,r.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(e,t,r){var n=r(351);e.exports=function(e,t){e instanceof Buffer&&(e=e.toString());var r=null;if("string"==typeof e)try{r=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else r=e;return n(r,t)}},function(e,t,r){var n;!function(a){var i=function(){},o=Object.prototype.hasOwnProperty,s=Object.create||function(e){var t=function(){};return t.prototype=e,new t},c=Object.keys||function(e){var t=[];for(var r in e)o.call(e,r)&&t.push(r);return t},l=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);return e},u=Object.setPrototypeOf||l,d=Object.prototype.toString,p=Array.isArray||function(e){return"[object Array]"===d.call(e)},f=function(e){return"[object Function]"===d.call(e)},h=!0,m={toString:""};for(var g in m)m.hasOwnProperty(g)&&(h=!1);var b=h?["toString","valueOf"]:null;function v(e,t,r){for(var n,a,o=function(e){var t=c(e);if(h)for(var r,n=0;r=b[n++];)e.hasOwnProperty(r)&&t.push(r);return t}(r),s=0,l=o.length;s<l;)"__self"!==(n=o[s++])&&(a=r[n],f(a)&&(!a.prototype||!a.prototype.__self)&&a.toString().indexOf(".__base")>-1?t[n]=function(r,n){var a=e[r]?e[r]:"__constructor"===r?t.__self.__parent:i,o=function(){var e=this.__base;this.__base=o.__base;var t=n.apply(this,arguments);return this.__base=e,t};return o.__base=a,o}(n,a):t[n]=a)}function y(e,t){for(var r,n=1;r=e[n++];)t?f(r)?_.self(t,r.prototype,r):_.self(t,r):t=f(r)?_(e[0],r.prototype,r):_(e[0],r);return t||e[0]}function _(){var e=arguments,t=p(e[0]),r=t||f(e[0]),n=r?t?y(e[0]):e[0]:i,a=e[r?1:0]||{},o=e[r?2:1],c=a.__constructor||r&&n.prototype&&n.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:r?function(){return n.apply(this,arguments)}:function(){};if(!r)return c.prototype=a,c.prototype.__self=c.prototype.constructor=c,l(c,o);u(c,n),c.__parent=n;var d=n.prototype,h=c.prototype=s(d);return h.__self=h.constructor=c,a&&v(d,h,a),o&&v(n,c,o),c}_.self=function(){var e=arguments,t=p(e[0]),r=t?y(e[0],e[0][0]):e[0],n=e[1],a=e[2],i=r.prototype;return n&&v(i,i,n),a&&v(r,r,a),r};e.exports=_,"object"==typeof modules&&"function"==typeof modules.define&&modules.define("inherit",(function(e){e(_)})),void 0===(n=function(e,t,r){r.exports=_}.call(t,r,t,e))||(e.exports=n),!1&&(a.inherit=_)}(this)},function(e,t){e.exports={ENG_US:1033,SP_MX:2058,FR:1036,RU:1049,NONE:1024}},function(e,t){var r={single:"s",doubleThickness:"th",shadowed:"sh",double:"db",dotted:"dot",dashed:"dash",hairline:"hair",dashSmall:"dashsm",dotDash:"dashd",dotDotDash:"dashdd",triple:"triple",thickThinSmall:"tnthsg",thinThickSmall:"thtnsg",thinThickThinSmall:"tnthtnsg",thickThinMedium:"tnthmg",thinThickMedium:"thtnmg",thinThickThinMedium:"tnthtnmg",thickThinLarge:"tnthlg",thinThickLarge:"thtnlg",thinThickThinLarge:"tnthtnlg",wavy:"wavy",doubleWavy:"wavydb",striped:"dashdotstr",emboss:"emboss",engrave:"engrave"},n=function(e,t,r){return Object.keys(r).filter(t=>void 0!==r[t]&&void 0!==e[t]).map(n=>{var a=r[n],i=e[n];return"object"==typeof i&&i.name&&("object"==typeof i.value&&void 0!==i.value[a]?(a=i.value[a],i=i.name):"function"==typeof i.value&&(a=i.value.call(this,a,t),i=i.name)),"\\"+i+a}).join("")},a={spacing:"brsp",width:"brdrw",type:{name:"brdr",value:r},color:{name:"brdrcf",value:function(e,t){return this[t].colorPos+1}}};e.exports={entities:{spaceBefore:"sb",spaceAfter:"sa",leftIndent:"li",rightIndent:"ri",alignLeft:"ql",alignRight:"qr",alignCenter:"qc",alignFull:"qj",align:{name:"q",value:e=>String(e).toLowerCase().charAt(0)},verticalAlignTop:"vertalt",verticalAlignBottom:"vertalb",verticalAlignCenter:"vertalc",verticalAlignJustify:"vertalj",verticalAlign:{name:"vertal",value:e=>String(e).toLowerCase().charAt(0)},tableHeader:{filter:["rowDef"],name:"trhdr"},cellVerticalAlign:{filter:["cellDef"],name:"clvertal",value:e=>String(e).toLowerCase().charAt(0)},font:{filter:["text"],name:"f",test:e=>e,value:function(e){return this.fontPos}},color:{filter:["text"],name:"cf",test:e=>e,value:function(e){return this.colorPos+1}},bgColor:{filter:["text"],name:"cb",test:e=>e,value:function(e){return this.bgColorPos+1}},cellBgColor:{filter:["cellDef"],name:"clcbpat",test:e=>e,value:function(e){return this.cellBgColorPos+1}},borderColor:{name:"brdrcf",test:e=>e,value:function(e){return this.borderColorPos+1}},rowBorderLeft:{filter:"rowDef",name:"trbrdrl",value:function(e){return n.call(this,a,"rowBorderLeft",e)}},rowBorderRight:{filter:"rowDef",name:"trbrdrr",value:function(e){return n.call(this,a,"rowBorderRight",e)}},rowBorderTop:{filter:"rowDef",name:"trbrdrt",value:function(e){return n.call(this,a,"rowBorderTop",e)}},rowBorderBottom:{filter:"rowDef",name:"trbrdrb",value:function(e){return n.call(this,a,"rowBorderBottom",e)}},rowBorderHorizontal:{filter:"rowDef",name:"trbrdrh",value:function(e){return n.call(this,a,"rowBorderTop",e)}},rowBorderVertical:{filter:"rowDef",name:"trbrdrv",value:function(e){return n.call(this,a,"rowBorderBottom",e)}},cellBorderLeft:{filter:"cellDef",name:"clbrdrl",value:function(e){return n.call(this,a,"cellBorderLeft",e)}},cellBorderRight:{filter:"cellDef",name:"clbrdrr",value:function(e){return n.call(this,a,"cellBorderRight",e)}},cellBorderTop:{filter:"cellDef",name:"clbrdrt",value:function(e){return n.call(this,a,"cellBorderTop",e)}},cellBorderBottom:{filter:"cellDef",name:"clbrdrb",value:function(e){return n.call(this,a,"cellBorderBottom",e)}},border:{prefix:null,name:null,value:function(e){return n.call(this,a,"border",e)}},borderLeft:{name:"brdrl",value:function(e){return n.call(this,a,"borderLeft",e)}},borderRight:{name:"brdrr",value:function(e){return n.call(this,a,"borderRight",e)}},borderTop:{name:"brdrt",value:function(e){return n.call(this,a,"borderTop",e)}},borderBottom:{name:"brdrb",value:function(e){return n.call(this,a,"borderBottom",e)}},borderSpacing:"brsp",borderWidth:"brdrw",borderType:{name:"brdr",value:r},fontSize:{name:"fs",value:e=>isNaN(e)?e:2*e},landscape:"lndscpsxn",pageWidth:"pgwsxn",pageHeight:"pghsxn",marginLeft:"margl",marginRight:"margr",marginTop:"margt",marginBottom:"margb",language:"deflang",pageNumbering:{prefix:"",value:"{\\header\\pard\\qr\\plain\\f0\\chpgn\\par}"},columns:"cols",columnLines:"linebetcol",paragraph:{wrap:!0,prefix:"\\pard",postfix:"\\par"},bold:{wrap:!0,test:e=>e,prefix:"\\b",postfix:"\\b0"},italic:{wrap:!0,test:e=>e,prefix:"\\i",postfix:"\\i0"},underline:{wrap:!0,test:e=>e,prefix:"\\ul",postfix:"\\ul0"},strike:{wrap:!0,test:e=>e,prefix:"\\strike",postfix:"\\strike0"},subScript:{wrap:!0,test:e=>e,prefix:"\\sub",postfix:"\\sub0"},superScript:{wrap:!0,test:e=>e,prefix:"\\super",postfix:"\\super0"}},entitiesFirst:["paragraph"],oprionsLast:["bold","italic","underline","strike","subScript","superScript"]}},function(e,t,r){var n=r(132),a=r(131),i=r(94),o=r(73),s=Array.isArray,c=o(n,{__constructor:function(e,t){this.__base.call(this,t),!this.format||"object"!=typeof this.format||this.format instanceof a||(this.format=new a(this.format)),this.data=e},getItemRTFCode:function(e,t){return s(e)?e.map(e=>this.getItemRTFCode(e,t)).join("\n"):e instanceof n?e.getRTFCode(t):this.format.formatText(e,t)},getRTFCode:function(e){var t=this.getItemRTFCode(this.data,e);return t=this.format.formatText(t,e,{noEscape:!0}),t=i.makeRtfCmd("",t,"",!0)}});e.exports=c},function(e,t,r){var n=r(132),a=(r(131),r(94)),i=r(73)(n,{__constructor:function(e,t,r){this.__base.call(this,t),this.text=e,this.options=r||{filter:"text"}},getRTFCode:function(e){var t=this.format.formatText(this.text,e,this.options);return t=a.makeRtfCmd("",t,"",!0)}});e.exports=i},function(e,t,r){var n=r(94),a=r(131),i=r(132),o=r(73),s=Array.isArray,c=o(i,{__constructor:function(e){this.__base.call(this,e&&e.format),this.data=[],Object.assign(this,e),this.data||(this.data=[]),this.format||(this.format=new a),this.rowFormat||(this.rowFormat=new a),this.cellFormats||(this.cellFormats=[])},addRow:function(e){this.data.push(e)},setData:function(e){this.data=e},columnsCount:function(){return this.data.reduce((e,t)=>Math.max(e,t.length),0)},getRowContent:function(e,t,r){var a=t.length,o=[this.format,this.rowFormat];!r&&this.firstRowFormat&&o.push(this.firstRowFormat);var c=o.concat([this.cellFormat]),l=t.map(t=>t instanceof i?t.getRTFCode(e):n.getRTFSafeText(t)).map((t,r)=>{var n=c.concat([s(this.cellFormats)&&this.cellFormats[r]]);return t=e.cascadeFormats(t,n,{reverseCascade:!0,noEscape:!0,filter:"text",strictFilter:!1})}).map(e=>e+"\\cell").join(" ");l=e.cascadeFormats(l,o,{reverseCascade:!0,noEscape:!0,filter:"row",strictFilter:!0});var u="{\\trowd\\trautofit1\\intbl";u+=e.cascadeFormats("",o,{reverseCascade:!0,noEscape:!0,filter:"rowDef",strictFilter:!0});var d=0;return t.map((t,r)=>{u+=e.cascadeFormats("",c.concat([s(this.cellFormats)&&this.cellFormats[r]]),{reverseCascade:!0,noEscape:!0,filter:"cellDef",strictFilter:!0});var n,i=this.cellFormats[r]||this.cellFormat;if(i&&i.width)n=i.width;else{var o=(r+1)/a;i&&i.widthPercents&&(o=d+i.widthPercents/100),i&&i.widthRatio&&(o=d+i.widthRatio),d=o,n=Math.round(this.format.tableWidth?this.format.tableWidth*o:a*o)}u+="\n\\cellx"+n}),l+="\n"+(u+="\n\\row}")},updateFormats:function(e){(this.cellFormats||[]).concat([this.format,this.rowFormat,this.firstRowsFormat]).filter(e=>e).map(t=>t.updateTables(e))},getRTFCode:function(e){return this.updateFormats(e),this.data.filter(e=>s(e)).map((t,r)=>this.getRowContent(e,t,r),this).join("\n")}});e.exports=c},function(e,t,r){var n=r(94),a=r(132),i=r(73)(a,{__constructor:function(e,t){this.__base.call(this,t),this.elements=[],this.name=e},addElement:function(e){this.elements.push(e)},getRTFCode:function(e){var t=this.elements.map(t=>t instanceof a?t.getRTFCode(e):n.getRTFSafeText(t)).join("\n");return t=this.format.formatText(t,e,{noEscape:!0})}});e.exports=i},function(e){e.exports={_declaration:{_attributes:{version:"1.0",encoding:"UTF-8"}},ScrivenerProject:{_attributes:{Version:"1.5"},Binder:{BinderItem:[{_attributes:{ID:"0",Type:"DraftFolder"},Title:{_text:"Manuscript"},Children:{BinderItem:[]}},{_attributes:{ID:"1",Type:"ResearchFolder"},Title:{_text:"Notes"}},{_attributes:{ID:"2",Type:"TrashFolder"},Title:{_text:"Trash"}}]},ProjectProperties:{ProjectTitle:{_text:"Title"}}}}},function(e){e.exports={_attributes:{ID:"",Type:"Text"},Title:{_text:""}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}function a(e){var t,r;return!1!==n(e)&&("function"==typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}r.r(t);var i=r(5);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"createHyperscript",(function(){return E})),r.d(t,"jsx",(function(){return x}));var s=new WeakMap,c=new WeakMap;class l{}class u extends l{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}class d extends l{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}var p=e=>c.get(e);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=new WeakSet,g=e=>{var t=[],r=e=>{if(null!=e){var n=t[t.length-1];if("string"==typeof e){var a={text:e};m.add(a),e=a}if(i.g.isText(e)){var o=e;i.g.isText(n)&&m.has(n)&&m.has(o)&&i.g.equals(n,o,{loose:!0})?n.text+=o.text:t.push(o)}else if(i.b.isElement(e))t.push(e);else{if(!(e instanceof l))throw new Error("Unexpected hyperscript child object: ".concat(e));var p=t[t.length-1];i.g.isText(p)||(r(""),p=t[t.length-1]),e instanceof u?((e,t)=>{var r=e.text.length;s.set(e,[r,t])})(p,e):e instanceof d&&((e,t)=>{var r=e.text.length;c.set(e,[r,t])})(p,e)}}};for(var n of e.flat(1/0))r(n);return t};function b(e,t,r){return h({},t,{children:g(r)})}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _={anchor:function(e,t,r){return new u(t)},cursor:function(e,t,r){return[new u(t),new d(t)]},editor:function(e,t,r){var n,a=[];for(var o of r)i.f.isRange(o)?n=o:a.push(o);var c,l=g(a),u={},d=Object(i.i)();for(var[f,h]of(Object.assign(d,t),d.children=l,i.c.texts(d))){var m=(c=f,s.get(c)),b=p(f);if(null!=m){var[v]=m;u.anchor={path:h,offset:v}}if(null!=b){var[y]=b;u.focus={path:h,offset:y}}}if(u.anchor&&!u.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!u.anchor&&u.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=n?d.selection=n:i.f.isRange(u)&&(d.selection=u),d},element:b,focus:function(e,t,r){return new d(t)},fragment:function(e,t,r){return g(r)},selection:function(e,t,r){var n=r.find(e=>e instanceof u),a=r.find(e=>e instanceof d);if(!n||!n.offset||!n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!a||!a.offset||!a.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return h({anchor:{offset:n.offset,path:n.path},focus:{offset:a.offset,path:a.path}},t)},text:function(e,t,r){var n=g(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[a]=n;if(null==a&&(a={text:""}),!i.g.isText(a))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return m.delete(a),Object.assign(a,t),a}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,r=O(t),n=y({},_,{},r,{},e.creators),a=w(n);return a},w=e=>function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var s=e[t];if(!s)throw new Error("No hyperscript creator found for tag: <".concat(t,">"));null==r&&(r={}),a(r)||(i=[r].concat(i),r={});var c=s(t,r,i=i.filter(e=>Boolean(e)).flat());return c},O=e=>{var t={},r=function(r){var n=e[r];if("object"!=typeof n)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(n));t[r]=(e,t,r)=>b(0,y({},n,{},t),r)};for(var n in e)r(n);return t},x=E()}]);
//# sourceMappingURL=https://raw.githubusercontent.com/Plotinator/pltr_sourcemaps/main/2020.11.02/app.map