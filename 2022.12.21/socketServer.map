{"version":3,"file":"socketServer.bundle.js","mappings":"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,CAAEj3C,KAAM6xF,EAAAA,cAAeD,WAAhC,GADF,sBA6D+B,CAACrT,EAAQ9C,EAAQgC,IAAW,CAACxmC,EAAUJ,KAEtE,MAAM6qC,EAAY7qC,IACZqB,EAAQwpC,EAAUC,QAAUD,EAAUC,QAAUD,GACrC,EAAAoQ,EAAAA,kBAAiB55C,GACN9uC,MAAMuzE,GAASA,EAAK9pF,IAAM0rF,KAEpDtnC,EAAS,CACPj3C,KAAM+xF,EAAAA,qBACNxT,SACAd,SACAhC,UAEH,uFCjNI,SAAe4T,GACpB,MAAO,CAAErvF,KAAMgyF,EAAAA,MAAOt3F,KAAM20F,EAC7B,EAJD,qnNCCiC,uCACD,iCACL,2BACD,wBACF,2BACK,sCACM,2CACD,+CACK,kCAClB,6BACa,sCACJ,iCACD,uCACO,0CACJ,qCACD,8CACU,8CACV,sCACE,0CACE,qDACS,gDACd,0CACQ,kDACA,mDACC,8CACN,yCACC,iCACT,sCACc,8CACN,0DACkB,yDACnB,0CACI,+CACC,kCACd,iCACa,+CACC,4CACJ,+BAGT,6BACO,kCACF,8BACF,+BACG,+BACH,4BACA,8BACE,6BACH,qCACW,mCAGb,8BACQ,uCACC,mDACW,uDACP,sCACV,4BACA,iCACA,4BACA,0CACc,oDACJ,mDACG,kDACJ,4CACF,kDACQ,sDACJ,gDACF,oCACV,oCACU,mDACK,6CACX,qCACG,+BAGT,sCACW,gDACI,sCACd,8BACM,yCACA,uCACF,mCACF,iCACA,8BACE,iCACC,8BACJ,yBACD,wBAGA,oCACY,qCACX,6CACmB,+CACjB,qCACO,6CACC,+CACC,iDACC,uCACX,gCACI,4BAGR,gCACY,wCACJ,6BACP,8BACQ,gCACN,yBACD,4BACI,gCAGA,8CACc,+CACb,qDACmB,uDACjB,6CACO,qDACC,uDACC,yDACC,+CACX,8CACU,6DACK,uDACX,mDACO,8DACI,qEACG,iEACP,oEACU,0EACJ,gEACN,uDACH,gDACJ,6CACC,kEACoB,6DAGzB,6BAGP,uBACC,2CACmB,6CACjB,yCACa,kDACJ,4CACF,2CACC,mDACO,sDACJ,gDACF,+CACC,g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b,GACAC,GACAG,GACAC,GACAC,GACAC,GACAL,GACAC,GACAK,GACAC,GACAI,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAE,GACAC,GACAE,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAE,GACAC,GACAC,GACAI,GACAC,GACAE,GACAC,GACAC,mCAIK,MAAM4M,GAAc,+BACpB,MAAMqM,GAAsB,CAACrM,6BAG7B,MAAMyD,GAA0B,uDAChC,MAAML,GAAe,iCACrB,MAAMD,GAAkB,uCACxB,MAAMmJ,GAAuB,CAAC7I,GAAyBL,GAAcD,8BAGrE,MAAM5E,GAAe,iCACrB,MAAMgO,GAAoB,CAAChO,2BAG3B,MAAMqJ,GAAwB,mDAC9B,MAAM4E,GAAgC,CAAC5E,oPChd9C,wBAEe,CACb,YACA,eACA,OACA,aACA,QACA,QACA,SACA,QACA,iBACA,OACA,aACA,QACA,YACA,YACA,aACA,YACA,QACA,iBACA,WACA,UACA,OACA,WACA,WACA,gBACA,WACA,YACA,YACA,cACA,iBACA,aACA,aACA,UACA,aACA,eACA,gBACA,gBACA,gBACA,aACA,WACA,cACA,UACA,aACA,YACA,cACA,cACA,UACA,YACA,aACA,OACA,YACA,OACA,QACA,cACA,WACA,UACA,YACA,SACA,QACA,QACA,WACA,gBACA,YACA,eACA,YACA,aACA,YACA,uBACA,YACA,aACA,YACA,cACA,gBACA,eACA,iBACA,iBACA,cACA,OACA,YACA,QACA,UACA,SACA,mBACA,aACA,eACA,eACA,iBACA,kBACA,oBACA,kBACA,kBACA,eACA,YACA,YACA,WACA,cACA,OACA,UACA,QACA,YACA,SACA,YACA,SACA,gBACA,YACA,gBACA,gBACA,aACA,YACA,OACA,OACA,OACA,aACA,SACA,gBACA,MACA,YACA,YACA,cACA,SACA,aACA,WACA,WACA,SACA,SACA,UACA,YACA,YACA,OACA,cACA,YACA,MACA,OACA,UACA,SACA,YACA,SACA,QACA,QACA,aACA,SACA,eAGK,MAAM6E,EAAO,CAClB,YACA,YACA,OACA,UACA,WACA,kBACA,gBACA,MACA,UACA,SACA,UACA,QACA,YACA,YACA,aACA,SACA,SACA,QACA,aACA,cACA,sBAGK,MAAMC,EAAU,CACrB,YACA,aACA,SACA,gBACA,YACA,QACA,gBACA,uBACA,aACA,cACA,WACA,eACA,cACA,SACA,oBAGK,MAAMC,EAAS,CACpB,cACA,aACA,YACA,OACA,YACA,iBACA,WACA,YACA,QACA,cACA,YACA,iBACA,QACA,cACA,aACA,YACA,cACA,oBACA,YACA,aACA,mBACA,eACA,WACA,WACA,OACA,4BAGK,MAAMC,EAAQ,CACnB,WACA,gBACA,kBACA,YACA,OACA,OACA,YACA,QACA,YACA,UACA,eACA,cACA,aACA,OACA,aACA,WACA,OACA,eACA,YACA,iBACA,YACA,gBACA,YACA,YACA,gBACA,aACA,iBACA,WACA,kBACA,uBAGK,MAAMC,EAAU,CACrB,aACA,aACA,aACA,eACA,SACA,SACA,UACA,UACA,cACA,SACA,gBACA,SACA,eACA,OACA,uBAGK,MAAMC,EAAQ,CACnB,YACA,YACA,SACA,WACA,OACA,UACA,iBACA,YACA,mBAGK,MAAMC,EAAS,CACpB,aACA,eACA,QACA,SACA,iBACA,QACA,QACA,UACA,aACA,WACA,OACA,gBACA,QACA,yBAGK,MAAMC,EAAS,CACpB,QACA,YACA,OACA,YACA,cACA,gBACA,oBAGK,MAAMzpE,EAAW,CACtB,UACA,UACA,UACA,UACA,UACA,UACA,wBAGK,MAAM0pE,EAAY,IACpBR,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,iBAGE,MAAME,EAAiB,CAC5B,CAAE5hD,OAAO,EAAA/iD,EAAAA,GAAE,kBAAmB4kG,OAAQ5pE,GACtC,CAAE+nB,OAAO,EAAA/iD,EAAAA,GAAE,QAAS4kG,OAAQV,GAC5B,CAAEnhD,OAAO,EAAA/iD,EAAAA,GAAE,WAAY4kG,OAAQT,GAC/B,CAAEphD,OAAO,EAAA/iD,EAAAA,GAAE,UAAW4kG,OAA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So3F,kJCFmBpC,IAEtCA,IACCA,EAAsBC,aAAqD,IAAtCD,EAAsBC,cAC3DD,EAAsBE,SAA6C,IAAlCF,EAAsBE,QAElD,KAEF,IAAI37E,KACuB,IAAhCy7E,EAAsBE,QAAiBF,EAAsBC,YAAc,0NCT/E,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WAEA,WACA,WACA,WACA,WAEA,iBACA,aACA,aACA,aACA,YACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aAEA,WAEA,WAEA,WACA,WACA,WACA,UACA,WACA,WACA,UACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,UACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,UAEA,WACA,WArCA,IAsCA,UAKA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,YACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,YACA,YACA,aACA,aACA,aAEA,WACA,WACA,cACA,WACA,WAEA,iBAEA,QAEA,WAGA,iBACA,0nBAGoBoC,EAAAA,QACXC,EAAAA,QACAC,EAAAA,QACAC,EAAAA,QACAC,EAAAA,QACKC,EAAAA,QACAC,EAAAA,QACJC,EAAAA,QACDC,EAAAA,QACCC,EAAAA,QACAC,EAAAA,QACFC,EAAAA,QACAC,EAAAA,QACFC,EAAAA,QACaC,EAAAA,QACHC,EAAAA,QACPC,EAAAA,QACKC,EAAAA,QACJC,EAAAA,QACCC,EAAAA,QACAC,EAAAA,QACGC,EAAAA,QACDC,EAAAA,QACDC,EAAAA,QACDC,EAAAA,QACSC,EAAAA,QACNC,EAAAA,QACGC,EAAAA,QACJC,EAAAA,QACUC,EAAAA,QA0EvB,MAAMC,GAAU,CACdliB,KAAMmiB,EACNvjB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","sources":["webpack:///../lib/plottr_locales/src/index.js","webpack:///../lib/pltr/node_modules/dom-parser/index.js","webpack:///../lib/pltr/node_modules/dom-parser/lib/Dom.js","webpack:///../lib/pltr/node_modules/dom-parser/lib/DomParser.js","webpack:///../lib/pltr/node_modules/dom-parser/lib/Node.js","webpack:///../lib/pltr/node_modules/inherit/index.js","webpack:///../lib/pltr/node_modules/inherit/lib/inherit.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/data/colors.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/data/fonts.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/data/language.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/data/rgb.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/elements/container.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/elements/element.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/elements/group.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/elements/table.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/elements/text.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/entities-data.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/entities.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/format.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/index.js","webpack:///../lib/pltr/node_modules/jsrtf/lib/rtf-utils.js","webpack:///../lib/pltr/node_modules/lodash/_DataView.js","webpack:///../lib/pltr/node_modules/lodash/_Hash.js","webpack:///../lib/pltr/node_modules/lodash/_ListCache.js","webpack:///../lib/pltr/node_modules/lodash/_Map.js","webpack:///../lib/pltr/node_modules/lodash/_MapCache.js","webpack:///../lib/pltr/node_modules/lodash/_Promise.js","webpack:///../lib/pltr/node_modules/lodash/_Set.js","webpack:///../lib/pltr/node_modules/lodash/_SetCache.js","webpack:///../lib/pltr/node_modules/lodash/_Stack.js","webpack:///../lib/pltr/node_modules/lodash/_Symbol.js","webpack:///../lib/pltr/node_modules/lodash/_Uint8Array.js","webpack:///../lib/pltr/node_modules/lodash/_WeakMap.js","webpack:///../lib/pltr/node_modules/lodash/_apply.js","webpack:///../lib/pltr/node_modules/lodash/_arrayAggregator.js","webpack:///../lib/pltr/node_modules/lodash/_arrayEach.js","webpack:///../lib/pltr/node_modules/lodash/_arrayFilter.js","webpack:///../lib/pltr/node_modules/lodash/_arrayIncludes.js","webpack:///../lib/pltr/node_modules/lodash/_arrayIncludesWith.js","webpack:///../lib/pltr/node_modules/lodash/_arrayLikeKeys.js","webpack:///../lib/pltr/node_modules/lodash/_arrayMap.js","webpack:///../lib/pltr/node_modules/lodash/_arrayPush.js","webpack:///../lib/pltr/node_modules/lodash/_arraySome.js","webpack:///../lib/pltr/node_modules/lodash/_assignValue.js","webpack:///../lib/pltr/node_modules/lodash/_assocIndexOf.js","webpack:///../lib/pltr/node_modules/lodash/_baseAggregator.js","webpack:///../lib/pltr/node_modules/lodash/_baseAssign.js","webpack:///../lib/pltr/node_modules/lodash/_baseAssignIn.js","webpack:///../lib/pltr/node_modules/lodash/_baseAssignValue.js","webpack:///../lib/pltr/node_modules/lodash/_baseClone.js","webpack:///../lib/pltr/node_modules/lodash/_baseCreate.js","webpack:///../lib/pltr/node_modules/lodash/_baseDifference.js","webpack:///../lib/pltr/node_modules/lodash/_baseEach.js","webpack:///../lib/pltr/node_modules/lodash/_baseFindIndex.js","webpack:///../lib/pltr/node_modules/lodash/_baseFlatten.js","webpack:///../lib/pltr/node_modules/lodash/_baseFor.js","webpack:///../lib/pltr/node_modules/lodash/_baseForOwn.js","webpack:///../lib/pltr/node_modules/lodash/_baseGet.js","webpack:///../lib/pltr/node_modules/lodash/_baseGetAllKeys.js","webpack:///../lib/pltr/node_modules/lodash/_baseGetTag.js","webpack:///../lib/pltr/node_modules/lodash/_baseHasIn.js","webpack:///../lib/pltr/node_modules/lodash/_baseIndexOf.js","webpack:///../lib/pltr/node_modules/lodash/_baseIsArguments.js","webpack:///../lib/pltr/node_modules/lodash/_baseIsEqual.js","webpack:///../lib/pltr/node_modules/lodash/_baseIsEqualDeep.js","webpack:///../lib/pltr/node_modules/lodash/_baseIsMap.js","webpack:///../lib/pltr/node_modules/lodash/_baseIsMatch.js","webpack:///../lib/pltr/node_modules/lodash/_baseIsNaN.js","webpack:///../lib/pltr/node_modules/lodash/_baseIsNative.js","webpack:///../lib/pltr/node_modules/lodash/_baseIsSet.js","webpack:///../lib/pltr/node_modules/lodash/_baseIsTypedArray.js","webpack:///../lib/pltr/node_modules/lodash/_baseIteratee.js","webpack:///../lib/pltr/node_modules/lodash/_baseKeys.js","webpack:///../lib/pltr/node_modules/lodash/_baseKeysIn.js","webpack:///../lib/pltr/node_modules/lodash/_baseMap.js","webpack:///../lib/pltr/node_modules/lodash/_baseMatches.js","webpack:///../lib/pltr/node_modules/lodash/_baseMatchesProperty.js","webpack:///../lib/pltr/node_modules/lodash/_baseOrderBy.js","webpack:///../lib/pltr/node_modules/lodash/_baseProperty.js","webpack:///../lib/pltr/node_modules/lodash/_basePropertyDeep.js","webpack:///../lib/pltr/node_modules/lodash/_baseRepeat.js","webpack:///../lib/pltr/node_modules/lodash/_baseRest.js","webpack:///../lib/pltr/node_modules/lodash/_baseSetToString.js","webpack:///../lib/pltr/node_modules/lodash/_baseSlice.js","webpack:///../lib/pltr/node_modules/lodash/_baseSortBy.js","webpack:///../lib/pltr/node_modules/lodash/_baseTimes.js","webpack:///../lib/pltr/node_modules/lodash/_baseToString.js","webpack:///../lib/pltr/node_modules/lodash/_baseTrim.js","webpack:///../lib/pltr/node_modules/lodash/_baseUnary.js","webpack:///../lib/pltr/node_modules/lodash/_baseUniq.js","webpack:///../lib/pltr/node_modules/lodash/_baseUnset.js","webpack:///../lib/pltr/node_modules/lodash/_cacheHas.js","webpack:///../lib/pltr/node_modules/lodash/_castFunction.js","webpack:///../lib/pltr/node_modules/lodash/_castPath.js","webpack:///../lib/pltr/node_modules/lodash/_cloneArrayBuffer.js","webpack:///../lib/pltr/node_modules/lodash/_cloneBuffer.js","webpack:///../lib/pltr/node_modules/lodash/_cloneDataView.js","webpack:///../lib/pltr/node_modules/lodash/_cloneRegExp.js","webpack:///../lib/pltr/node_modules/lodash/_cloneSymbol.js","webpack:///../lib/pltr/node_modules/lodash/_cloneTypedArray.js","webpack:///../lib/pltr/node_modules/lodash/_compareAscending.js","webpack:///../lib/pltr/node_modules/lodash/_compareMultiple.js","webpack:///../lib/pltr/node_modules/lodash/_copyArray.js","webpack:///../lib/pltr/node_modules/lodash/_copyObject.js","webpack:///../lib/pltr/node_modules/lodash/_copySymbols.js","webpack:///../lib/pltr/node_modules/lodash/_copySymbolsIn.js","webpack:///../lib/pltr/node_modules/lodash/_coreJsData.js","webpack:///../lib/pltr/node_modules/lodash/_createAggregator.js","webpack:///../lib/pltr/node_modules/lodash/_createBaseEach.js","webpack:///../lib/pltr/node_modules/lodash/_createBaseFor.js","webpack:///../lib/pltr/node_modules/lodash/_createSet.js","webpack:///../lib/pltr/node_modules/lodash/_customOmitClone.js","webpack:///../lib/pltr/node_modules/lodash/_defineProperty.js","webpack:///../lib/pltr/node_modules/lodash/_equalArrays.js","webpack:///../lib/pltr/node_modules/lodash/_equalByTag.js","webpack:///../lib/pltr/node_modules/lodash/_equalObjects.js","webpack:///../lib/pltr/node_modules/lodash/_flatRest.js","webpack:///../lib/pltr/node_modules/lodash/_freeGlobal.js","webpack:///../lib/pltr/node_modules/lodash/_getAllKeys.js","webpack:///../lib/pltr/node_modules/lodash/_getAllKeysIn.js","webpack:///../lib/pltr/node_modules/lodash/_getMapData.js","webpack:///../lib/pltr/node_modules/lodash/_getMatchData.js","webpack:///../lib/pltr/node_modules/lodash/_getNative.js","webpack:///../lib/pltr/node_modules/lodash/_getPrototype.js","webpack:///../lib/pltr/node_modules/lodash/_getRawTag.js","webpack:///../lib/pltr/node_modules/lodash/_getSymbols.js","webpack:///../lib/pltr/node_modules/lodash/_getSymbolsIn.js","webpack:///../lib/pltr/node_modules/lodash/_getTag.js","webpack:///../lib/pltr/node_modules/lodash/_getValue.js","webpack:///../lib/pltr/node_modules/lodash/_hasPath.js","webpack:///../lib/pltr/node_modules/lodash/_hashClear.js","webpack:///../lib/pltr/node_modules/lodash/_hashDelete.js","webpack:///../lib/pltr/node_modules/lodash/_hashGet.js","webpack:///../lib/pltr/node_modules/lodash/_hashHas.js","webpack:///../lib/pltr/node_modules/lodash/_hashSet.js","webpack:///../lib/pltr/node_modules/lodash/_initCloneArray.js","webpack:///../lib/pltr/node_modules/lodash/_initCloneByTag.js","webpack:///../lib/pltr/node_modules/lodash/_initCloneObject.js","webpack:///../lib/pltr/node_modules/lodash/_isFlattenable.js","webpack:///../lib/pltr/node_modules/lodash/_isIndex.js","webpack:///../lib/pltr/node_modules/lodash/_isIterateeCall.js","webpack:///../lib/pltr/node_modules/lodash/_isKey.js","webpack:///../lib/pltr/node_modules/lodash/_isKeyable.js","webpack:///../lib/pltr/node_modules/lodash/_isMasked.js","webpack:///../lib/pltr/node_modules/lodash/_isPrototype.js","webpack:///../lib/pltr/node_modules/lodash/_isStrictComparable.js","webpack:///../lib/pltr/node_modules/lodash/_listCacheClear.js","webpack:///../lib/pltr/node_modules/lodash/_listCacheDelete.js","webpack:///../lib/pltr/node_modules/lodash/_listCacheGet.js","webpack:///../lib/pltr/node_modules/lodash/_listCacheHas.js","webpack:///../lib/pltr/node_modules/lodash/_listCacheSet.js","webpack:///../lib/pltr/node_modules/lodash/_mapCacheClear.js","webpack:///../lib/pltr/node_modules/lodash/_mapCacheDelete.js","webpack:///../lib/pltr/node_modules/lodash/_mapCacheGet.js","webpack:///../lib/pltr/node_modules/lodash/_mapCacheHas.js","webpack:///../lib/pltr/node_modules/lodash/_mapCacheSet.js","webpack:///../lib/pltr/node_modules/lodash/_mapToArray.js","webpack:///../lib/pltr/node_modules/lodash/_matchesStrictComparable.js","webpack:///../lib/pltr/node_modules/lodash/_memoizeCapped.js","webpack:///../lib/pltr/node_modules/lodash/_nativeCreate.js","webpack:///../lib/pltr/node_modules/lodash/_nativeKeys.js","webpack:///../lib/pltr/node_modules/lodash/_nativeKeysIn.js","webpack:///../lib/pltr/node_modules/lodash/_nodeUtil.js","webpack:///../lib/pltr/node_modules/lodash/_objectToString.js","webpack:///../lib/pltr/node_modules/lodash/_overArg.js","webpack:///../lib/pltr/node_modules/lodash/_overRest.js","webpack:///../lib/pltr/node_modules/lodash/_parent.js","webpack:///../lib/pltr/node_modules/lodash/_root.js","webpack:///../lib/pltr/node_modules/lodash/_setCacheAdd.js","webpack:///../lib/pltr/node_modules/lodash/_setCacheHas.js","webpack:///../lib/pltr/node_modules/lodash/_setToArray.js","webpack:///../lib/pltr/node_modules/lodash/_setToString.js","webpack:///../lib/pltr/node_modules/lodash/_shortOut.js","webpack:///../lib/pltr/node_modules/lodash/_stackClear.js","webpack:///../lib/pltr/node_modules/lodash/_stackDelete.js","webpack:///../lib/pltr/node_modules/lodash/_stackGet.js","webpack:///../lib/pltr/node_modules/lodash/_stackHas.js","webpack:///../lib/pltr/node_modules/lodash/_stackSet.js","webpack:///../lib/pltr/node_modules/lodash/_strictIndexOf.js","webpack:///../lib/pltr/node_modules/lodash/_stringToPath.js","webpack:///../lib/pltr/node_modules/lodash/_toKey.js","webpack:///../lib/pltr/node_modules/lodash/_toSource.js","webpack:///../lib/pltr/node_modules/lodash/_trimmedEndIndex.js","webpack:///../lib/pltr/node_modules/lodash/clone.js","webpack:///../lib/pltr/node_modules/lodash/cloneDeep.js","webpack:///../lib/pltr/node_modules/lodash/constant.js","webpack:///../lib/pltr/node_modules/lodash/difference.js","webpack:///../lib/pltr/node_modules/lodash/differenceWith.js","webpack:///../lib/pltr/node_modules/lodash/eq.js","webpack:///../lib/pltr/node_modules/lodash/first.js","webpack:///../lib/pltr/node_modules/lodash/flatten.js","webpack:///../lib/pltr/node_modules/lodash/get.js","webpack:///../lib/pltr/node_modules/lodash/groupBy.js","webpack:///../lib/pltr/node_modules/lodash/hasIn.js","webpack:///../lib/pltr/node_modules/lodash/head.js","webpack:///../lib/pltr/node_modules/lodash/identity.js","webpack:///../lib/pltr/node_modules/lodash/isArguments.js","webpack:///../lib/pltr/node_modules/lodash/isArray.js","webpack:///../lib/pltr/node_modules/lodash/isArrayLike.js","webpack:///../lib/pltr/node_modules/lodash/isArrayLikeObject.js","webpack:///../lib/pltr/node_modules/lodash/isBuffer.js","webpack:///../lib/pltr/node_modules/lodash/isEqual.js","webpack:///../lib/pltr/node_modules/lodash/isFunction.js","webpack:///../lib/pltr/node_modules/lodash/isLength.js","webpack:///../lib/pltr/node_modules/lodash/isMap.js","webpack:///../lib/pltr/node_modules/lodash/isObject.js","webpack:///../lib/pltr/node_modules/lodash/isObjectLike.js","webpack:///../lib/pltr/node_modules/lodash/isPlainObject.js","webpack:///../lib/pltr/node_modules/lodash/isSet.js","webpack:///../lib/pltr/node_modules/lodash/isSymbol.js","webpack:///../lib/pltr/node_modules/lodash/isTypedArray.js","webpack:///../lib/pltr/node_modules/lodash/keyBy.js","webpack:///../lib/pltr/node_modules/lodash/keys.js","webpack:///../lib/pltr/node_modules/lodash/keysIn.js","webpack:///../lib/pltr/node_modules/lodash/last.js","webpack:///../lib/pltr/node_modules/lodash/lodash.js","webpack:///../lib/pltr/node_modules/lodash/mapValues.js","webpack:///../lib/pltr/node_modules/lodash/memoize.js","webpack:///../lib/pltr/node_modules/lodash/noop.js","webpack:///../lib/pltr/node_modules/lodash/omit.js","webpack:///../lib/pltr/node_modules/lodash/property.js","webpack:///../lib/pltr/node_modules/lodash/repeat.js","webpack:///../lib/pltr/node_modules/lodash/sortBy.js","webpack:///../lib/pltr/node_modules/lodash/stubArray.js","webpack:///../lib/pltr/node_modules/lodash/stubFalse.js","webpack:///../lib/pltr/node_modules/lodash/times.js","webpack:///../lib/pltr/node_modules/lodash/toFinite.js","webpack:///../lib/pltr/node_modules/lodash/toInteger.js","webpack:///../lib/pltr/node_modules/lodash/toNumber.js","webpack:///../lib/pltr/node_modules/lodash/toString.js","webpack:///../lib/pltr/node_modules/lodash/uniq.js","webpack:///../lib/pltr/node_modules/pagedown/Markdown.Converter.js","webpack:///../lib/pltr/node_modules/pagedown/Markdown.Sanitizer.js","webpack:///../lib/pltr/node_modules/pagedown/node-pagedown.js","webpack:///../lib/pltr/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///../lib/pltr/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///../lib/pltr/node_modules/redux/es/redux.js","webpack:///../lib/pltr/node_modules/reselect/es/defaultMemoize.js","webpack:///../lib/pltr/node_modules/reselect/es/index.js","webpack:///../lib/pltr/node_modules/semver/classes/semver.js","webpack:///../lib/pltr/node_modules/semver/functions/coerce.js","webpack:///../lib/pltr/node_modules/semver/functions/compare.js","webpack:///../lib/pltr/node_modules/semver/functions/gt.js","webpack:///../lib/pltr/node_modules/semver/functions/lte.js","webpack:///../lib/pltr/node_modules/semver/functions/parse.js","webpack:///../lib/pltr/node_modules/semver/internal/constants.js","webpack:///../lib/pltr/node_modules/semver/internal/debug.js","webpack:///../lib/pltr/node_modules/semver/internal/identifiers.js","webpack:///../lib/pltr/node_modules/semver/internal/parse-options.js","webpack:///../lib/pltr/node_modules/semver/internal/re.js","webpack:///../lib/pltr/node_modules/slate-hyperscript/dist/index.es.js","webpack:///../lib/pltr/node_modules/immer/dist/immer.esm.mjs","webpack:///../lib/pltr/node_modules/slate/dist/index.es.js","webpack:///../lib/pltr/node_modules/tinycolor2/tinycolor.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/rng.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/regex.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/validate.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/stringify.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/v1.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/parse.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/v35.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/md5.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/v3.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/v4.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/v5.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/sha1.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/nil.js","webpack:///../lib/pltr/node_modules/uuid/dist/esm-node/version.js","webpack:///../lib/pltr/v1/constants/ActionTypes.js","webpack:///../lib/pltr/v2/actions/applicationState.js","webpack:///../lib/pltr/v2/actions/attributes.js","webpack:///../lib/pltr/v2/actions/backups.js","webpack:///../lib/pltr/v2/actions/beats.js","webpack:///../lib/pltr/v2/actions/books.js","webpack:///../lib/pltr/v2/actions/cards.js","webpack:///../lib/pltr/v2/actions/categories.js","webpack:///../lib/pltr/v2/actions/characters.js","webpack:///../lib/pltr/v2/actions/client.js","webpack:///../lib/pltr/v2/actions/customAttributes.js","webpack:///../lib/pltr/v2/actions/domEvents.js","webpack:///../lib/pltr/v2/actions/error.js","webpack:///../lib/pltr/v2/actions/featureFlags.js","webpack:///../lib/pltr/v2/actions/hierarchy.js","webpack:///../lib/pltr/v2/actions/imageCache.js","webpack:///../lib/pltr/v2/actions/images.js","webpack:///../lib/pltr/v2/actions/knownFiles.js","webpack:///../lib/pltr/v2/actions/license.js","webpack:///../lib/pltr/v2/actions/lines.js","webpack:///../lib/pltr/v2/actions/notes.js","webpack:///../lib/pltr/v2/actions/notifications.js","webpack:///../lib/pltr/v2/actions/permission.js","webpack:///../lib/pltr/v2/actions/places.js","webpack:///../lib/pltr/v2/actions/project.js","webpack:///../lib/pltr/v2/actions/series.js","webpack:///../lib/pltr/v2/actions/settings.js","webpack:///../lib/pltr/v2/actions/tags.js","webpack:///../lib/pltr/v2/actions/templates.js","webpack:///../lib/pltr/v2/actions/testingAndDiagnosis.js","webpack:///../lib/pltr/v2/actions/ui.js","webpack:///../lib/pltr/v2/actions/undo.js","webpack:///../lib/pltr/v2/constants/ActionTypes.js","webpack:///../lib/pltr/v2/constants/CSScolors.js","webpack:///../lib/pltr/v2/constants/featureFlags.js","webpack:///../lib/pltr/v2/constants/loadActions.js","webpack:///../lib/pltr/v2/helpers/beats.js","webpack:///../lib/pltr/v2/helpers/books.js","webpack:///../lib/pltr/v2/helpers/cards.js","webpack:///../lib/pltr/v2/helpers/colors.js","webpack:///../lib/pltr/v2/helpers/date.js","webpack:///../lib/pltr/v2/helpers/editors.js","webpack:///../lib/pltr/v2/helpers/featureFlags.js","webpack:///../lib/pltr/v2/helpers/file.js","webpack:///../lib/pltr/v2/helpers/hierarchy.js","webpack:///../lib/pltr/v2/helpers/lines.js","webpack:///../lib/pltr/v2/helpers/lists.js","webpack:///../lib/pltr/v2/helpers/orientedClassName.js","webpack:///../lib/pltr/v2/helpers/outOfOrderSearch.js","webpack:///../lib/pltr/v2/helpers/time.js","webpack:///../lib/pltr/v2/index.js","webpack:///../lib/pltr/v2/middlewares/array-keys.js","webpack:///../lib/pltr/v2/middlewares/externalSync.js","webpack:///../lib/pltr/v2/migrator/from_html.js","webpack:///../lib/pltr/v2/migrator/greaterBySemver.js","webpack:///../lib/pltr/v2/migrator/handleSpecialCases.js","webpack:///../lib/pltr/v2/migrator/migration_manager.js","webpack:///../lib/pltr/v2/migrator/migrations/0.6.js","webpack:///../lib/pltr/v2/migrator/migrations/0.7.js","webpack:///../lib/pltr/v2/migrator/migrations/0.8.js","webpack:///../lib/pltr/v2/migrator/migrations/0.9.js","webpack:///../lib/pltr/v2/migrator/migrations/1.0.js","webpack:///../lib/pltr/v2/migrator/migrations/1.2.js","webpack:///../lib/pltr/v2/migrator/migrations/1.3.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.11.16.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.3.16.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.3.26.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.3.4.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.3.9.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.4.3.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.5.5.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.6.12.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.7.7.js","webpack:///../lib/pltr/v2/migrator/migrations/2020.8.28.js","webpack:///../lib/pltr/v2/migrator/migrations/2021.1.15.js","webpack:///../lib/pltr/v2/migrator/migrations/2021.2.4.js","webpack:///../lib/pltr/v2/migrator/migrations/2021.2.8.js","webpack:///../lib/pltr/v2/migrator/migrations/2021.4.13.js","webpack:///../lib/pltr/v2/migrator/migrations/2021.6.9.js","webpack:///../lib/pltr/v2/migrator/migrations/2021.8.1.js","webpack:///../lib/pltr/v2/migrator/migrations/2022.5.17-1.js","webpack:///../lib/pltr/v2/migrator/migrations/2022.5.17.js","webpack:///../lib/pltr/v2/migrator/migrations/index.js","webpack:///../lib/pltr/v2/migrator/migrations_list.js","webpack:///../lib/pltr/v2/migrator/migrator.js","webpack:///../lib/pltr/v2/migrator/toSemver.js","webpack:///../lib/pltr/v2/reducers/actions.js","webpack:///../lib/pltr/v2/reducers/applicationState.js","webpack:///../lib/pltr/v2/reducers/applyToCustomAttributes.js","webpack:///../lib/pltr/v2/reducers/attributes.js","webpack:///../lib/pltr/v2/reducers/backups.js","webpack:///../lib/pltr/v2/reducers/beats.js","webpack:///../lib/pltr/v2/reducers/books.js","webpack:///../lib/pltr/v2/reducers/cards.js","webpack:///../lib/pltr/v2/reducers/categories.js","webpack:///../lib/pltr/v2/reducers/characters.js","webpack:///../lib/pltr/v2/reducers/client.js","webpack:///../lib/pltr/v2/reducers/customAttributes.js","webpack:///../lib/pltr/v2/reducers/domEvents.js","webpack:///../lib/pltr/v2/reducers/editors.js","webpack:///../lib/pltr/v2/reducers/error.js","webpack:///../lib/pltr/v2/reducers/featureFlags.js","webpack:///../lib/pltr/v2/reducers/file.js","webpack:///../lib/pltr/v2/reducers/hierarchy.js","webpack:///../lib/pltr/v2/reducers/imageCache.js","webpack:///../lib/pltr/v2/reducers/images.js","webpack:///../lib/pltr/v2/reducers/knownFiles.js","webpack:///../lib/pltr/v2/reducers/license.js","webpack:///../lib/pltr/v2/reducers/lines.js","webpack:///../lib/pltr/v2/reducers/main.js","webpack:///../lib/pltr/v2/reducers/notes.js","webpack:///../lib/pltr/v2/reducers/notifications.js","webpack:///../lib/pltr/v2/reducers/permission.js","webpack:///../lib/pltr/v2/reducers/places.js","webpack:///../lib/pltr/v2/reducers/project.js","webpack:///../lib/pltr/v2/reducers/repairIfPresent.js","webpack:///../lib/pltr/v2/reducers/root.js","webpack:///../lib/pltr/v2/reducers/series.js","webpack:///../lib/pltr/v2/reducers/settings.js","webpack:///../lib/pltr/v2/reducers/systemReducers.js","webpack:///../lib/pltr/v2/reducers/tags.js","webpack:///../lib/pltr/v2/reducers/templates.js","webpack:///../lib/pltr/v2/reducers/testingAndDiagnosis.js","webpack:///../lib/pltr/v2/reducers/tree.js","webpack:///../lib/pltr/v2/reducers/ui.js","webpack:///../lib/pltr/v2/selectors/actions.js","webpack:///../lib/pltr/v2/selectors/applicationState.js","webpack:///../lib/pltr/v2/selectors/attributeTabs.js","webpack:///../lib/pltr/v2/selectors/attributes.js","webpack:///../lib/pltr/v2/selectors/backups.js","webpack:///../lib/pltr/v2/selectors/beats.js","webpack:///../lib/pltr/v2/selectors/books.js","webpack:///../lib/pltr/v2/selectors/cards.js","webpack:///../lib/pltr/v2/selectors/categories.js","webpack:///../lib/pltr/v2/selectors/characters.js","webpack:///../lib/pltr/v2/selectors/client.js","webpack:///../lib/pltr/v2/selectors/customAttributes.js","webpack:///../lib/pltr/v2/selectors/domEvents.js","webpack:///../lib/pltr/v2/selectors/editors.js","webpack:///../lib/pltr/v2/selectors/error.js","webpack:///../lib/pltr/v2/selectors/featureFlags.js","webpack:///../lib/pltr/v2/selectors/file.js","webpack:///../lib/pltr/v2/selectors/hierarchy.js","webpack:///../lib/pltr/v2/selectors/hierarchyLevel.js","webpack:///../lib/pltr/v2/selectors/imageCache.js","webpack:///../lib/pltr/v2/selectors/images.js","webpack:///../lib/pltr/v2/selectors/knownFiles.js","webpack:///../lib/pltr/v2/selectors/license.js","webpack:///../lib/pltr/v2/selectors/lines.js","webpack:///../lib/pltr/v2/selectors/notes.js","webpack:///../lib/pltr/v2/selectors/notifications.js","webpack:///../lib/pltr/v2/selectors/permission.js","webpack:///../lib/pltr/v2/selectors/places.js","webpack:///../lib/pltr/v2/selectors/project.js","webpack:///../lib/pltr/v2/selectors/settings.js","webpack:///../lib/pltr/v2/selectors/shouldBeInPro.js","webpack:///../lib/pltr/v2/selectors/tags.js","webpack:///../lib/pltr/v2/selectors/templates.js","webpack:///../lib/pltr/v2/selectors/testingAndDiagnosis.js","webpack:///../lib/pltr/v2/selectors/ui.js","webpack:///../lib/pltr/v2/slate_serializers/to_plain_text.js","webpack:///../lib/pltr/v2/slate_serializers/to_rtf.js","webpack:///../lib/pltr/v2/store/borderStyle.js","webpack:///../lib/pltr/v2/store/initialState.js","webpack:///../lib/pltr/v2/store/lineColors.js","webpack:///../lib/pltr/v2/store/newFileState.js","webpack:///../lib/pltr/v2/store/newIds.js","webpack:///../lib/pltr/v2/template/index.js","webpack:///../node_modules/bufferutil/fallback.js","webpack:///../node_modules/bufferutil/index.js","webpack:///../node_modules/format-message-formats/index.js","webpack:///../node_modules/format-message-interpret/index.js","webpack:///../node_modules/format-message-interpret/plurals.js","webpack:///../node_modules/format-message-parse/index.js","webpack:///../node_modules/format-message/index.js","webpack:///../node_modules/lodash/lodash.js","webpack:///../node_modules/lookup-closest-locale/index.js","webpack:///../node_modules/node-fetch-cjs/dist/index.js","webpack:///../node_modules/node-gyp-build/index.js","webpack:///../node_modules/semver/classes/semver.js","webpack:///../node_modules/semver/functions/compare.js","webpack:///../node_modules/semver/functions/gt.js","webpack:///../node_modules/semver/internal/constants.js","webpack:///../node_modules/semver/internal/debug.js","webpack:///../node_modules/semver/internal/identifiers.js","webpack:///../node_modules/semver/internal/parse-options.js","webpack:///../node_modules/semver/internal/re.js","webpack:///../node_modules/utf-8-validate/fallback.js","webpack:///../node_modules/utf-8-validate/index.js","webpack:///../node_modules/ws/lib/buffer-util.js","webpack:///../node_modules/ws/lib/constants.js","webpack:///../node_modules/ws/lib/event-target.js","webpack:///../node_modules/ws/lib/extension.js","webpack:///../node_modules/ws/lib/limiter.js","webpack:///../node_modules/ws/lib/permessage-deflate.js","webpack:///../node_modules/ws/lib/receiver.js","webpack:///../node_modules/ws/lib/sender.js","webpack:///../node_modules/ws/lib/stream.js","webpack:///../node_modules/ws/lib/subprotocol.js","webpack:///../node_modules/ws/lib/validation.js","webpack:///../node_modules/ws/lib/websocket-server.js","webpack:///../node_modules/ws/lib/websocket.js","webpack:///../shared/default_settings.js","webpack:///external node-commonjs \"buffer\"","webpack:///external node-commonjs \"crypto\"","webpack:///external node-commonjs \"events\"","webpack:///external node-commonjs \"fs\"","webpack:///external node-commonjs \"http\"","webpack:///external node-commonjs \"https\"","webpack:///external node-commonjs \"net\"","webpack:///external node-commonjs \"os\"","webpack:///external node-commonjs \"path\"","webpack:///external node-commonjs \"process\"","webpack:///external node-commonjs \"stream\"","webpack:///external node-commonjs \"stream/web\"","webpack:///external node-commonjs \"tls\"","webpack:///external node-commonjs \"url\"","webpack:///external node-commonjs \"util\"","webpack:///external node-commonjs \"worker_threads\"","webpack:///external node-commonjs \"zlib\"","webpack:///../lib/pltr/node_modules/is-plain-object/dist/is-plain-object.mjs","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///../shared/socket-server-message-types.js","webpack:///../node_modules/uuid/dist/esm-node/rng.js","webpack:///../node_modules/uuid/dist/esm-node/regex.js","webpack:///../node_modules/uuid/dist/esm-node/stringify.js","webpack:///../node_modules/uuid/dist/esm-node/validate.js","webpack:///../node_modules/uuid/dist/esm-node/v4.js","webpack:///./server/files.js","webpack:///../node_modules/luxon/src/errors.js","webpack:///../node_modules/luxon/src/impl/formats.js","webpack:///../node_modules/luxon/src/impl/util.js","webpack:///../node_modules/luxon/src/impl/english.js","webpack:///../node_modules/luxon/src/impl/formatter.js","webpack:///../node_modules/luxon/src/impl/invalid.js","webpack:///../node_modules/luxon/src/zone.js","webpack:///../node_modules/luxon/src/zones/systemZone.js","webpack:///../node_modules/luxon/src/zones/IANAZone.js","webpack:///../node_modules/luxon/src/zones/fixedOffsetZone.js","webpack:///../node_modules/luxon/src/zones/invalidZone.js","webpack:///../node_modules/luxon/src/impl/zoneUtil.js","webpack:///../node_modules/luxon/src/settings.js","webpack:///../node_modules/luxon/src/impl/locale.js","webpack:///../node_modules/luxon/src/impl/regexParser.js","webpack:///../node_modules/luxon/src/duration.js","webpack:///../node_modules/luxon/src/interval.js","webpack:///../node_modules/luxon/src/info.js","webpack:///../node_modules/luxon/src/impl/diff.js","webpack:///../node_modules/luxon/src/impl/digits.js","webpack:///../node_modules/luxon/src/impl/tokenParser.js","webpack:///../node_modules/luxon/src/impl/conversions.js","webpack:///../node_modules/luxon/src/datetime.js","webpack:///../node_modules/luxon/src/luxon.js","webpack:///./server/backup.js","webpack:///../lib/plottr_import_export/src/exporter/default_config.js","webpack:///./lib/store.js","webpack:///./server/stores.js","webpack:///./server/file-system.js","webpack:///./server/isDevelopment.js","webpack:///./server/template_fetcher.js","webpack:///./server/tempFiles.js","webpack:///./server/trash.js","webpack:///./server/server.js","webpack:///./server/settings.js","webpack:///./server/StatusManager.js","webpack:///./server/logger.js","webpack:///./server/knownFiles.js"],"sourcesContent":["const i18n = require('format-message')\n\nconst locales = {\n  en: require('./en.json'),\n  de: require('./de.json'),\n  fr: require('./fr.json'),\n  es: require('./es.json'),\n  fa: require('./fa.json'),\n  ru: require('./ru.json'),\n  it: require('./it.json'),\n  pt: require('./pt.json'),\n  el: require('./el.json'),\n  flipped: require('./flipped.json'),\n}\n\nconst localeNames = {\n  en: 'English',\n  de: 'Deutsch',\n  es: 'Espaol',\n  el: '',\n  fr: 'Franais',\n  it: 'Italiana',\n  pt: 'portugus',\n  fa: '',\n  ru: ' ',\n}\n\n// The purpose of the flipped locale is to easily see if there are any strings\n// in the ui that have not been wrapped in `i18n()`\nif (process.env.NODE_ENV === 'dev') {\n  localeNames.flipped = 'Flipped'\n}\n\nfunction setupI18n(settings, platform) {\n  i18n.setup({\n    translations: locales,\n    locale: getCurrentLocale(settings, platform),\n    missingTranslation: 'ignore',\n    formats: {\n      date: {\n        monthDay: { month: 'short', day: 'numeric' },\n      },\n    },\n  })\n}\n\nfunction getCurrentLocale(settings, platform) {\n  const userSetLocale = settings ? settings.locale : null\n  const electron = platform.electron\n  const appFRD = electron && (electron.app || (electron.remote && electron.remote.app))\n\n  return userSetLocale || (appFRD && appFRD.getLocale()) || 'en'\n}\n\nmodule.exports = {\n  locales,\n  localeNames,\n  setupI18n,\n  getCurrentLocale,\n  t: i18n,\n}\n","var DomParser = require('./lib/DomParser');\nmodule.exports = DomParser;\n","var\n  tagRegExp          = /(<\\/?[a-z][a-z0-9]*(?::[a-z][a-z0-9]*)?\\s*(?:\\s+[a-z0-9-_]+=(?:(?:'[\\s\\S]*?')|(?:\"[\\s\\S]*?\")))*\\s*\\/?>)|([^<]|<(?![a-z\\/]))*/gi,\n  attrRegExp         = /\\s[a-z0-9-_]+\\b(\\s*=\\s*('|\")[\\s\\S]*?\\2)?/gi,\n  splitAttrRegExp    = /(\\s[a-z0-9-_]+\\b\\s*)(?:=(\\s*('|\")[\\s\\S]*?\\3))?/gi,\n  startTagExp        = /^<[a-z]/,\n  selfCloseTagExp    = /\\/>$/,\n  closeTagExp        = /^<\\//,\n  nodeNameExp        = /<\\/?([a-z][a-z0-9]*)(?::([a-z][a-z0-9]*))?/i,\n  attributeQuotesExp = /^('|\")|('|\")$/g,\n  noClosingTagsExp   = /^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)/i;\n\nvar Node = require('./Node');\n\nfunction findByRegExp(html, selector, onlyFirst) {\n\n  var\n    result        = [],\n    tagsCount     = 0,\n    tags          = html.match(tagRegExp),\n    composing     = false,\n    currentObject = null,\n    matchingSelector,\n    fullNodeName,\n    selfCloseTag,\n    attributes,\n    attrBuffer,\n    attrStr,\n    buffer,\n    tag;\n\n  for (var i = 0, l = tags.length; i < l; i++) {\n\n    tag = tags[i];\n    fullNodeName = tag.match(nodeNameExp);\n\n    matchingSelector = selector.test(tag);\n\n    if (matchingSelector && !composing){\n      composing = true;\n    }\n\n    if (composing) {\n\n      if (startTagExp.test(tag)) {\n        selfCloseTag = selfCloseTagExp.test(tag) || noClosingTagsExp.test(fullNodeName[1]);\n        attributes = [];\n        attrStr = tag.match(attrRegExp) || [];\n        for (var aI = 0, aL = attrStr.length; aI < aL; aI++) {\n          splitAttrRegExp.lastIndex = 0;\n          attrBuffer = splitAttrRegExp.exec(attrStr[aI]);\n          attributes.push({\n            name: attrBuffer[1].trim(),\n            value: (attrBuffer[2] || '').trim().replace(attributeQuotesExp, '')\n          });\n        }\n\n        ((currentObject && currentObject.childNodes) || result).push(buffer = new Node({\n          nodeType: 1, //element node\n          nodeName: fullNodeName[1],\n          namespace: fullNodeName[2],\n          attributes: attributes,\n          childNodes: [],\n          parentNode: currentObject,\n          startTag: tag,\n          selfCloseTag: selfCloseTag\n        }));\n        tagsCount++;\n\n        if (!onlyFirst && matchingSelector && currentObject){\n          result.push(buffer);\n        }\n\n        if (selfCloseTag) {\n          tagsCount--;\n        }\n        else {\n          currentObject = buffer;\n        }\n\n      }\n      else if (closeTagExp.test(tag)) {\n        if (currentObject.nodeName == fullNodeName[1]){\n          currentObject = currentObject.parentNode;\n          tagsCount--;\n        }\n      }\n      else {\n        currentObject.childNodes.push(new Node({\n          nodeType: 3,\n          text: tag,\n          parentNode: currentObject\n        }));\n      }\n\n      if (tagsCount == 0) {\n        composing = false;\n        currentObject = null;\n\n        if (onlyFirst){\n          break;\n        }\n      }\n\n    }\n\n  }\n\n  return onlyFirst ? result[0] || null : result;\n}\n\n\nfunction Dom(rawHTML) {\n  this.rawHTML = rawHTML;\n}\n\nDom.prototype.getElementsByClassName = function (className) {\n  var selector = new RegExp('class=(\\'|\")(.*?\\\\s)?' + className + '(\\\\s.*?)?\\\\1');\n  return findByRegExp(this.rawHTML, selector);\n};\n\nDom.prototype.getElementsByTagName = function (tagName) {\n  var selector = new RegExp('^<'+tagName, 'i');\n  return findByRegExp(this.rawHTML, selector);\n};\n\nDom.prototype.getElementById = function(id){\n  var selector = new RegExp('id=(\\'|\")' + id + '\\\\1');\n  return findByRegExp(this.rawHTML, selector, true);\n};\n\nDom.prototype.getElementsByName = function(name){\n    return this.getElementsByAttribute('name', name);\n};\n\nDom.prototype.getElementsByAttribute = function(attr, value){\n  var selector = new RegExp('\\\\s' + attr + '=(\\'|\")' + value + '\\\\1');\n  return findByRegExp(this.rawHTML, selector);\n};\n\n\nmodule.exports = Dom;\n","var Dom = require('./Dom');\n\nfunction DomParser() {\n}\n\nDomParser.prototype.parseFromString = function (html) {\n  return new Dom(html);\n};\n\nmodule.exports = DomParser;","//https://developer.mozilla.org/en-US/docs/Web/API/Element\n\n\nfunction Node(cfg) {\n\n  this.namespace     = cfg.namespace || null;\n  this.text          = cfg.text;\n  this._selfCloseTag = cfg.selfCloseTag;\n\n\n  Object.defineProperties(this, {\n    nodeType: {\n      value: cfg.nodeType\n    },\n    nodeName: {\n      value: cfg.nodeType == 1 ? cfg.nodeName : '#text'\n    },\n    childNodes: {\n      value: cfg.childNodes\n    },\n    firstChild: {\n      get: function(){\n        return this.childNodes[0] || null;\n      }\n    },\n    lastChild: {\n      get: function(){\n        return this.childNodes[this.childNodes.length-1] || null;\n      }\n    },\n    parentNode: {\n      value: cfg.parentNode || null\n    },\n    attributes: {\n      value: cfg.attributes || []\n    },\n    innerHTML: {\n      get: function(){\n        var\n          result = '',\n          cNode;\n        for (var i = 0, l = this.childNodes.length; i < l; i++) {\n          cNode = this.childNodes[i];\n          result += cNode.nodeType === 3 ? cNode.text : cNode.outerHTML;\n        }\n        return result;\n      }\n    },\n    outerHTML: {\n      get: function(){\n        if (this.nodeType != 3){\n          var\n            str,\n            attrs = (this.attributes.map(function(elem){\n              return elem.name + (elem.value ? '=' + '\"'+ elem.value +'\"' : '');\n            }) || []).join(' '),\n            childs = '';\n\n          str = '<' + this.nodeName + (attrs ? ' ' + attrs : '') + (this._selfCloseTag ? '/' : '') + '>';\n\n          if (!this._selfCloseTag){\n            childs = (this._selfCloseTag ? '' : this.childNodes.map(function(child){\n              return child.outerHTML;\n            }) || []).join('');\n\n            str += childs;\n            str += '</' + this.nodeName + '>';\n          }\n        }\n        else{\n          str = this.textContent;\n        }\n        return str;\n      }\n    },\n    textContent: {\n      get: function(){\n        if (this.nodeType == Node.TEXT_NODE){\n          return this.text;\n        }\n        else{\n          return this.childNodes.map(function(node){\n            return node.textContent;\n          }).join('').replace(/\\x20+/g, ' ');\n        }\n      }\n    }\n  });\n}\n\nNode.prototype.getAttribute = function (attributeName) {\n  for (var i = 0, l = this.attributes.length; i < l; i++) {\n    if (this.attributes[i].name == attributeName) {\n      return this.attributes[i].value;\n    }\n  }\n  return null;\n};\n\nfunction searchElements(root, conditionFn, onlyFirst){\n  var result = [];\n  onlyFirst = !!onlyFirst;\n  if (root.nodeType !== 3) {\n    for (var i = 0, l = root.childNodes.length; i < l; i++) {\n      if (root.childNodes[i].nodeType !== 3 && conditionFn(root.childNodes[i])) {\n        result.push(root.childNodes[i]);\n        if (onlyFirst){\n          break;\n        }\n      }\n      result = result.concat(searchElements(root.childNodes[i], conditionFn));\n    }\n  }\n  return onlyFirst ? result[0] : result;\n}\n\nNode.prototype.getElementsByTagName = function (tagName) {\n  return searchElements(this, function(elem){\n    return elem.nodeName == tagName;\n  })\n};\n\nNode.prototype.getElementsByClassName = function (className) {\n  var expr = new RegExp('^(.*?\\\\s)?' + className + '(\\\\s.*?)?$');\n  return searchElements(this, function(elem){\n    return elem.attributes.length && expr.test(elem.getAttribute('class'));\n  })\n};\n\nNode.prototype.getElementById = function (id) {\n  return searchElements(this, function(elem){\n    return elem.attributes.length && elem.getAttribute('id') == id;\n  }, true)\n};\n\nNode.prototype.getElementsByName = function (name) {\n  return searchElements(this, function(elem){\n    return elem.attributes.length && elem.getAttribute('name') == name;\n  })\n};\n\n\nNode.ELEMENT_NODE = 1;\nNode.TEXT_NODE    = 3;\n\nmodule.exports = Node;","/*!\n * node-inherit\n * Copyright(c) 2011 Dmitry Filatov <dfilatov@yandex-team.ru>\n * MIT Licensed\n */\n\nmodule.exports = require('./lib/inherit');\n","/**\n * @module inherit\n * @version 2.2.7\n * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n * @description This module provides some syntax sugar for \"class\" declarations, constructors, mixins, \"super\" calls and static members.\n */\n\n(function(global) {\n\nvar noop = function() {},\n    hasOwnProperty = Object.prototype.hasOwnProperty,\n    objCreate = Object.create || function(ptp) {\n        var inheritance = function() {};\n        inheritance.prototype = ptp;\n        return new inheritance();\n    },\n    objKeys = Object.keys || function(obj) {\n        var res = [];\n        for(var i in obj) {\n            hasOwnProperty.call(obj, i) && res.push(i);\n        }\n        return res;\n    },\n    extend = function(o1, o2) {\n        for(var i in o2) {\n            hasOwnProperty.call(o2, i) && (o1[i] = o2[i]);\n        }\n\n        return o1;\n    },\n    extendStatic = Object.setPrototypeOf || extend,\n    toStr = Object.prototype.toString,\n    isArray = Array.isArray || function(obj) {\n        return toStr.call(obj) === '[object Array]';\n    },\n    isFunction = function(obj) {\n        return toStr.call(obj) === '[object Function]';\n    },\n    needCheckProps = true,\n    testPropObj = { toString : '' };\n\nfor(var i in testPropObj) { // It's a pity ie hasn't toString, valueOf in for\n    testPropObj.hasOwnProperty(i) && (needCheckProps = false);\n}\n\nvar specProps = needCheckProps? ['toString', 'valueOf'] : null;\n\nfunction getPropList(obj) {\n    var res = objKeys(obj);\n    if(needCheckProps) {\n        var specProp, i = 0;\n        while(specProp = specProps[i++]) {\n            obj.hasOwnProperty(specProp) && res.push(specProp);\n        }\n    }\n\n    return res;\n}\n\nfunction override(base, res, add) {\n    var addList = getPropList(add),\n        j = 0, len = addList.length,\n        name, prop;\n    while(j < len) {\n        if((name = addList[j++]) === '__self') {\n            continue;\n        }\n        prop = add[name];\n        if(isFunction(prop) &&\n                (!prop.prototype || !prop.prototype.__self) && // check to prevent wrapping of \"class\" functions\n                (prop.toString().indexOf('.__base') > -1)) {\n            res[name] = (function(name, prop) {\n                var baseMethod = base[name]?\n                        base[name] :\n                        name === '__constructor'? // case of inheritance from plain function\n                            res.__self.__parent :\n                            noop,\n                    result = function() {\n                        var baseSaved = this.__base;\n\n                        this.__base = result.__base;\n                        var res = prop.apply(this, arguments);\n                        this.__base = baseSaved;\n\n                        return res;\n                    };\n                result.__base = baseMethod;\n\n                return result;\n            })(name, prop);\n        } else {\n            res[name] = prop;\n        }\n    }\n}\n\nfunction applyMixins(mixins, res) {\n    var i = 1, mixin;\n    while(mixin = mixins[i++]) {\n        res?\n            isFunction(mixin)?\n                inherit.self(res, mixin.prototype, mixin) :\n                inherit.self(res, mixin) :\n            res = isFunction(mixin)?\n                inherit(mixins[0], mixin.prototype, mixin) :\n                inherit(mixins[0], mixin);\n    }\n    return res || mixins[0];\n}\n\n/**\n* Creates class\n* @exports\n* @param {Function|Array} [baseClass|baseClassAndMixins] class (or class and mixins) to inherit from\n* @param {Object} prototypeFields\n* @param {Object} [staticFields]\n* @returns {Function} class\n*/\nfunction inherit() {\n    var args = arguments,\n        withMixins = isArray(args[0]),\n        hasBase = withMixins || isFunction(args[0]),\n        base = hasBase? withMixins? applyMixins(args[0]) : args[0] : noop,\n        props = args[hasBase? 1 : 0] || {},\n        staticProps = args[hasBase? 2 : 1],\n        res = props.__constructor || (hasBase && base.prototype && base.prototype.__constructor)?\n            function() {\n                return this.__constructor.apply(this, arguments);\n            } :\n            hasBase?\n                function() {\n                    return base.apply(this, arguments);\n                } :\n                function() {};\n\n    if(!hasBase) {\n        res.prototype = props;\n        res.prototype.__self = res.prototype.constructor = res;\n        return extend(res, staticProps);\n    }\n\n    extendStatic(res, base);\n\n    res.__parent = base;\n\n    var basePtp = base.prototype,\n        resPtp = res.prototype = objCreate(basePtp);\n\n    resPtp.__self = resPtp.constructor = res;\n\n    props && override(basePtp, resPtp, props);\n    staticProps && override(base, res, staticProps);\n\n    return res;\n}\n\ninherit.self = function() {\n    var args = arguments,\n        withMixins = isArray(args[0]),\n        base = withMixins? applyMixins(args[0], args[0][0]) : args[0],\n        props = args[1],\n        staticProps = args[2],\n        basePtp = base.prototype;\n\n    props && override(basePtp, basePtp, props);\n    staticProps && override(base, base, staticProps);\n\n    return base;\n};\n\nvar defineAsGlobal = true;\n/* istanbul ignore next */\nif(typeof exports === 'object') {\n    module.exports = inherit;\n    defineAsGlobal = false;\n}\n/* istanbul ignore next */\nif(typeof modules === 'object' && typeof modules.define === 'function') {\n    modules.define('inherit', function(provide) {\n        provide(inherit);\n    });\n    defineAsGlobal = false;\n}\n/* istanbul ignore next */\nif(typeof define === 'function') {\n    define(function(require, exports, module) {\n        module.exports = inherit;\n    });\n    defineAsGlobal = false;\n}\n/* istanbul ignore next */\ndefineAsGlobal && (global.inherit = inherit);\n\n})(this);\n","var RGB = require('./rgb');\nmodule.exports = {\n    BLACK : new RGB(0,0,0),\n    WHITE : new RGB(255,255,255),\n    RED : new RGB(255,0,0),\n    BLUE : new RGB(0,0,255),\n    LIME : new RGB(191,255,0),\n    YELLOW : new RGB(255,255,0),\n    MAROON : new RGB(128,0,0),\n    GREEN : new RGB(0,255,0),\n    GRAY : new RGB(80,80,80),\n    ORANGE : new RGB(255,127,0)\n};\n","module.exports = {\n    ARIAL : 'Arial',\n    COMIC_SANS : 'Comic Sans MS',\n    GEORGIA : 'Georgia',\n    IMPACT : 'Impact',\n    TAHOMA : 'Tahoma',\n    HELVETICA : 'Helvetica',\n    VERDANA : 'Verdana',\n    COURIER_NEW : 'Courier New',\n    PALATINO : 'Palatino Linotype',\n    TIMES_NEW_ROMAN : 'Times New Roman'\n};\n","module.exports = {\n    ENG_US : 1033,\n    SP_MX : 2058,\n    FR : 1036,\n    RU : 1049,\n    NONE : 1024\n};\n","module.exports = function(red, green, blue){\n    this.red = red;\n    this.green = green;\n    this.blue = blue;\n};\n","/**\n * @module container\n * @overview Container element class\n * @author lilliputten <igor@lilliputten.ru>\n */\nvar\n    Element = require('./element'),\n    Format = require('../format'),\n    Utils = require('../rtf-utils'),\n\n    inherit = require('inherit'),\n\n    isArray = Array.isArray\n;\n\nvar ContainerElement = inherit(Element, {\n\n    /** __constructor ** {{{ */\n    __constructor : function(data, format){\n        // Element.apply(this, [format]);\n        this.__base.call(this, format);\n        if ( this.format && typeof this.format === 'object' && !(this.format instanceof Format) ) {\n            this.format = new Format(this.format);\n        }\n        this.data = data;\n    },/*}}}*/\n\n    /** getItemRTFCode ** {{{ Get single object rtf code\n     * @param {*} item\n     * @param {Object} jsRTF\n     * @returns {String}\n     */\n    getItemRTFCode : function (item, jsRTF) {\n\n        var result = '';\n\n        if ( isArray(item) ) {\n            result = item\n                .map(item => this.getItemRTFCode(item, jsRTF))\n                .join('\\n')\n            ;\n        }\n        else if ( item instanceof Element ) {\n            result = item.getRTFCode(jsRTF);\n        }\n        else {\n            result = this.format.formatText(item, jsRTF);\n        }\n\n        return result;\n\n    },/*}}}*/\n\n    /** getRTFCode ** {{{ Get element rtf code\n     * @param {Object} jsRTF\n     * @returns {String}\n     */\n    getRTFCode : function(jsRTF){\n\n        var data = this.getItemRTFCode(this.data, jsRTF);\n\n        data = this.format.formatText(data, jsRTF, { noEscape : true });\n\n        data = Utils.makeRtfCmd('', data, '', true);\n\n        return data;\n\n    },/*}}}*/\n\n});\n\nmodule.exports = ContainerElement;\n","/**\n * @module element\n * @overview Base element class\n * @author lilliputten <igor@lilliputten.ru>\n */\nvar\n    Format = require('../format'),\n    inherit = require('inherit')\n;\n\n// Function.prototype.subclass = function(base) {\n//     var c = Function.prototype.subclass.nonconstructor;\n//     c.prototype= base.prototype;\n//     this.prototype= new c ();\n// };\n// Function.prototype.subclass.nonconstructor = function() {};\n\nvar Element = inherit({\n\n    /** __constructor ** {{{ */\n    __constructor : function (format) {\n        if ( format && typeof format === 'object' && !(format instanceof Format) ) {\n            format = new Format(format);\n        }\n        if ( !format || format === undefined ) {\n            format = new Format();\n        }\n        this.format = format;\n    },/*}}}*/\n\n    /** getRTFCode ** {{{\n     * @param {Object} jsRTF\n     */\n    getRTFCode : function(jsRTF) {\n        return '';\n    },/*}}}*/\n\n});\n\nmodule.exports = Element;\n","/**\n * @module table\n * @overview Table element class\n * @author lilliputten <igor@lilliputten.ru>\n */\n\nvar Utils = require('../rtf-utils'),\n    // async = require('async'),\n    Element = require('./element'),\n    inherit = require('inherit')\n;\n\nvar GroupElement = inherit(Element, {\n\n    /** __constructor ** {{{ */\n    __constructor : function(name, format) {\n        this.__base.call(this, format);\n        this.elements = [];\n        this.name = name;\n    },/*}}}*/\n\n    /** addElement ** {{{ */\n    addElement : function(element){\n        this.elements.push(element);\n    },/*}}}*/\n\n    /** getRTFCode ** {{{\n     * @param {Object} jsRTF\n     */\n    getRTFCode : function(jsRTF){\n        var content = this.elements\n            .map(el => ( el instanceof Element ) ? el.getRTFCode(jsRTF) : Utils.getRTFSafeText(el))\n            .join('\\n')\n        ;\n        content = this.format.formatText(content, jsRTF, { noEscape : true });\n        return content;\n    },/*}}}*/\n\n});\n\nmodule.exports = GroupElement;\n","/**\n * @module table\n * @overview Table element class\n * @author lilliputten <igor@lilliputten.ru>\n */\n\nvar\n    Utils = require('../rtf-utils'),\n    Format = require('../format'),\n\n    Element = require('./element'),\n    inherit = require('inherit'),\n\n    isArray = Array.isArray\n;\n\nvar TableElement = inherit(Element, {\n\n    /** __constructor ** {{{\n     * @param {Object} options\n     * @param {Object} [options.format]\n     * @param {Object} [options.rowFormat]\n     * @param {Object} [options.firstRowFormat]\n     * @param {Object[]} [options.cellFormats]\n     */\n    __constructor : function (options) {\n        this.__base.call(this, options && options.format);\n        this.data = [];\n        Object.assign(this, options);\n        this.data || ( this.data = [] );\n        this.format || ( this.format = new Format () );\n        this.rowFormat || ( this.rowFormat = new Format () );\n        this.cellFormats || ( this.cellFormats = [] );\n    },/*}}}*/\n\n    /** addRow ** {{{ Append one row data\n     */\n    addRow : function(row){\n        this.data.push(row);\n    },/*}}}*/\n\n    /** setData ** {{{ Set all table data\n     */\n    setData : function(data){\n        this.data = data;\n    },/*}}}*/\n\n    /** columnsCount ** {{{ Calculate columns count (max columns count in all rows)\n     */\n    columnsCount : function () {\n        var max = this.data.reduce((max, row) => Math.max(max, row.length), 0);\n        return max;\n    },/*}}}*/\n\n    /** getRowContent ** {{{ Get row content\n     * @param {Object} jsRTF\n     * @param {Array} row - Row data\n     * @param {Number} rowNo - Row number\n     * @returns {String}\n     */\n    getRowContent : function (jsRTF, row, rowNo) {\n        var columnsCount = row.length;\n        var rowCascade = [ this.format, this.rowFormat ];\n        if ( !rowNo && this.firstRowFormat ) {\n            rowCascade.push(this.firstRowFormat);\n        }\n        var cellCascade = rowCascade.concat([ this.cellFormat ]);\n        var rowContent = row\n            .map(cell => ( cell instanceof Element ) ? cell.getRTFCode(jsRTF) : Utils.getRTFSafeText(cell) )\n            .map((cellContent,n) => {\n                var lastCellCascade = cellCascade.concat([ isArray(this.cellFormats) && this.cellFormats[n] ]);\n                cellContent = jsRTF.cascadeFormats(cellContent, lastCellCascade, {\n                    reverseCascade : true,\n                    noEscape : true,\n                    filter : 'text',\n                    strictFilter : false,\n                });\n                return cellContent;\n            })\n            .map(cellContent => cellContent + '\\\\cell')\n            .join(' ')\n        ;\n        rowContent = jsRTF.cascadeFormats(rowContent, rowCascade, {\n                    reverseCascade : true,\n            noEscape : true,\n            filter : 'row',\n            strictFilter : true,\n        });\n\n        var rowPlus = '\\{\\\\trowd\\\\trautofit1\\\\intbl';\n        rowPlus += jsRTF.cascadeFormats('', rowCascade, {\n                    reverseCascade : true,\n            noEscape : true,\n            filter : 'rowDef',\n            strictFilter : true,\n        });\n\n        var lastRatio = 0;\n        row.map((cell,n) => {\n            // ???\n            // if ( this.format.tableBorder ) {\n            //     rowPlus += [\n            //         '',\n            //         // TODO: border type, color?\n            //         '\\\\clbrdrt\\\\brdrs\\\\brdrw' + this.format.tableBorder,\n            //         '\\\\clbrdrb\\\\brdrs\\\\brdrw' + this.format.tableBorder,\n            //         '\\\\clbrdrl\\\\brdrs\\\\brdrw' + this.format.tableBorder,\n            //         '\\\\clbrdrr\\\\brdrs\\\\brdrw' + this.format.tableBorder,\n            //     ].join('\\n');\n            // }\n            rowPlus += jsRTF.cascadeFormats('', cellCascade.concat([ isArray(this.cellFormats) && this.cellFormats[n] ]), {\n                reverseCascade : true,\n                noEscape : true,\n                filter : 'cellDef',\n                strictFilter : true,\n            });\n            // Evaluate cell width\n            // TODO: Normalize cells widths?\n            var cellFormat = this.cellFormats[n] || this.cellFormat;\n            var width;\n            if ( cellFormat && cellFormat.width ) {\n                width = cellFormat.width;\n            }\n            else {\n                var ratio = ( n + 1 ) / columnsCount;\n                if ( cellFormat && cellFormat.widthPercents ) {\n                    ratio = lastRatio + cellFormat.widthPercents / 100;\n                }\n                if ( cellFormat && cellFormat.widthRatio ) {\n                    ratio = lastRatio + cellFormat.widthRatio;\n                }\n                lastRatio = ratio;\n                width = Math.round( this.format.tableWidth ? this.format.tableWidth * ratio : columnsCount * ratio );\n            }\n            rowPlus += '\\n\\\\cellx' + width;\n        });\n        rowPlus += '\\n\\\\row\\}';\n        rowContent += '\\n' + rowPlus;\n        return rowContent;\n    },/*}}}*/\n\n    /** updateFormats ** {{{ Update all using formats\n     * @param {Object} jsRTF\n     */\n    updateFormats : function (jsRTF) {\n\n        var formats = ( this.cellFormats || [] ).concat([\n            this.format,\n            this.rowFormat,\n            this.firstRowsFormat,\n        ]);\n\n        formats\n            .filter(fmt => fmt)\n            .map(fmt => fmt.updateTables(jsRTF))\n        ;\n\n    },/*}}}*/\n\n    /** getRTFCode ** {{{ Get rtf content for entire table\n     * @param {Object} jsRTF\n     * @returns {String}\n     */\n    getRTFCode : function (jsRTF) {\n\n        this.updateFormats(jsRTF);\n\n        var content = this.data\n            .filter(row => isArray(row))\n            .map((row,rowNo) => this.getRowContent(jsRTF, row, rowNo), this)\n            .join('\\n')\n        ;\n\n        return content;\n\n    },/*}}}*/\n\n}); // end inherit\n\nmodule.exports = TableElement;\n","/**\n * @module text\n * @overview Text element class\n * @author lilliputten <igor@lilliputten.ru>\n */\nvar\n    Element = require('./element'),\n    Format = require('../format'),\n    Utils = require('../rtf-utils'),\n    inherit = require('inherit')\n;\n\nvar TextElement = inherit(Element, {\n\n    /** __constructor ** {{{ */\n    __constructor : function(text, format, options){\n        // Element.apply(this, [format]);\n        this.__base.call(this, format);\n        this.text = text;\n        this.options = options || { filter : 'text' };\n    },/*}}}*/\n\n    /** getRTFCode ** {{{\n     * @param {Object} jsRTF\n     */\n    getRTFCode : function(jsRTF) {\n\n        var text = this.format.formatText(this.text, jsRTF, this.options);\n\n        text = Utils.makeRtfCmd('', text, '', true);\n\n        return text;\n\n    },/*}}}*/\n\n});\n\nmodule.exports = TextElement;\n","/**\n * @module entities-data\n * @overview Definitions of rtf entities\n * @author lilliputten <igor@lilliputten.ru>\n */\n\nvar\n    /** borderTypes ** {{{\n     * @type {Object}\n     */\n    borderTypes = {\n        single : 's',\n        doubleThickness : 'th',\n        shadowed : 'sh',\n        double : 'db',\n        dotted : 'dot',\n        dashed : 'dash',\n        hairline : 'hair',\n        dashSmall : 'dashsm',\n        dotDash : 'dashd',\n        dotDotDash : 'dashdd',\n        triple : 'triple',\n        thickThinSmall : 'tnthsg',\n        thinThickSmall : 'thtnsg',\n        thinThickThinSmall : 'tnthtnsg',\n        thickThinMedium : 'tnthmg',\n        thinThickMedium : 'thtnmg',\n        thinThickThinMedium : 'tnthtnmg',\n        thickThinLarge : 'tnthlg',\n        thinThickLarge : 'thtnlg',\n        thinThickThinLarge : 'tnthtnlg',\n        wavy : 'wavy',\n        doubleWavy : 'wavydb',\n        striped : 'dashdotstr',\n        emboss : 'emboss',\n        engrave : 'engrave',\n    },/*}}}*/\n    /** makeBorder ** {{{ Create border\n     * @type {Function}\n     * @param {Object} props - Border properties description props\n     * @param {String} id - Border property id (eg 'borderLeft')\n     * @param {Object} data - Border descriptions hash\n     * @returns {String}\n     */\n    makeBorder = function (props, id, data) {\n        var\n            result = Object.keys(data)\n                .filter(key => data[key] !== undefined && props[key] !== undefined)\n                .map(key => {\n                    var value = data[key];\n                    var result = props[key];\n                    if ( typeof result === 'object' && result.name ) {\n                        if ( typeof result.value === 'object' && result.value[value] !== undefined ) {\n                            value = result.value[value];\n                            result = result.name;\n                        }\n                        else if ( typeof result.value === 'function' ) {\n                            value = result.value.call(this, value, id);\n                            result = result.name;\n                        }\n                    }\n                    return '\\\\' + result + value;\n                })\n                .join('')\n        ;\n        return result;\n    },/*}}}*/\n    /** textBorderProps ** {{{ */\n    textBorderProps = {\n        spacing : 'brsp', // border spacing\n        width : 'brdrw', // border spacing\n        // border type\n        type : { name : 'brdr', value : borderTypes },\n        // color\n        color : { name : 'brdrcf', value : function (v, id) {\n            return this[id].colorPos + 1;\n        } }\n    },/*}}}*/\n    /** cellBorderProps ** {{{ */\n    // '\\\\clbrdrt\\\\brdrs\\\\brdrw' + this.format.tableBorder,\n    cellBorderProps = {\n        spacing : 'brsp', // border spacing\n        width : 'brdrw', // border spacing\n        // border type\n        type : { name : 'brdr', value : borderTypes },\n        // color\n        color : { name : 'brdrcf', value : function (v, id) {\n            return this[id].colorPos + 1;\n        } }\n    },/*}}}*/\n    __DONE\n;\n\nmodule.exports = {\n\n    /** entities ** {{{ List of all entities */\n    entities : {\n\n        // space & indents\n        spaceBefore : 'sb',\n        spaceAfter : 'sa',\n        leftIndent : 'li',\n        rightIndent : 'ri',\n\n        // horizontal align\n        alignLeft : 'ql',\n        alignRight : 'qr',\n        alignCenter : 'qc',\n        alignFull : 'qj',\n        align : { name : 'q', value : (v) => String(v).toLowerCase().charAt(0) }, // 'center' => 'qc', 'left' => 'ql' etc...\n\n        // vertical align\n        verticalAlignTop : 'vertalt',\n        verticalAlignBottom : 'vertalb',\n        verticalAlignCenter : 'vertalc',\n        verticalAlignJustify : 'vertalj',\n        verticalAlign : { name : 'vertal', value : (v) => String(v).toLowerCase().charAt(0) }, // 'top' => 'vertalt', 'center' => 'vertalc' etc...\n\n        // table header row\n        tableHeader : { filter : ['rowDef'], name : 'trhdr' },\n\n        // cell vertical align\n        cellVerticalAlign : { filter : ['cellDef'], name : 'clvertal', value : (v) => String(v).toLowerCase().charAt(0) }, // 'top' => 'clvertalt', 'center' => 'clvertalc' etc...\n\n        // fontPos : { name : 'f', test : (v) => v >= 0 },\n        // colorPos : { name : 'cf', test : (v) => v >= 0 },\n        // bgColorPos : { name : 'cb', test : (v) => v >= 0, value : (v) => isNaN(v) ? v : String( v + 1 ) },\n\n        font : { filter : ['text'], name : 'f', test : v => v, value : function (v) { return this.fontPos; } }, // NOTE: using non-arrow function for catch `this` value\n        color : { filter : ['text'], name : 'cf', test : v => v, value : function (v) { return this.colorPos + 1; } }, // NOTE: using non-arrow function for catch `this` value\n        bgColor : { filter : ['text'], name : 'cb', test : v => v, value : function (v) { return this.bgColorPos + 1; } }, // NOTE: using non-arrow function for catch `this` value\n        cellBgColor : { filter : ['cellDef'], name : 'clcbpat', test : v => v, value : function (v) { return this.cellBgColorPos + 1; } }, // NOTE: using non-arrow function for catch `this` value\n        borderColor : { name : 'brdrcf', test : v => v, value : function (v) { return this.borderColorPos + 1; } }, // NOTE: using non-arrow function for catch `this` value\n\n        // row borders\n        rowBorderLeft : { filter : 'rowDef', name : 'trbrdrl', value : function(v) { return makeBorder.call(this, textBorderProps, 'rowBorderLeft', v); } },\n        rowBorderRight : { filter : 'rowDef', name : 'trbrdrr', value : function(v) { return makeBorder.call(this, textBorderProps, 'rowBorderRight', v); } },\n        rowBorderTop : { filter : 'rowDef', name : 'trbrdrt', value : function(v) { return makeBorder.call(this, textBorderProps, 'rowBorderTop', v); } },\n        rowBorderBottom : { filter : 'rowDef', name : 'trbrdrb', value : function(v) { return makeBorder.call(this, textBorderProps, 'rowBorderBottom', v); } },\n        rowBorderHorizontal : { filter : 'rowDef', name : 'trbrdrh', value : function(v) { return makeBorder.call(this, textBorderProps, 'rowBorderTop', v); } },\n        rowBorderVertical : { filter : 'rowDef', name : 'trbrdrv', value : function(v) { return makeBorder.call(this, textBorderProps, 'rowBorderBottom', v); } },\n\n        // cell borders\n        cellBorderLeft : { filter : 'cellDef', name : 'clbrdrl', value : function(v) { return makeBorder.call(this, textBorderProps, 'cellBorderLeft', v); } },\n        cellBorderRight : { filter : 'cellDef', name : 'clbrdrr', value : function(v) { return makeBorder.call(this, textBorderProps, 'cellBorderRight', v); } },\n        cellBorderTop : { filter : 'cellDef', name : 'clbrdrt', value : function(v) { return makeBorder.call(this, textBorderProps, 'cellBorderTop', v); } },\n        cellBorderBottom : { filter : 'cellDef', name : 'clbrdrb', value : function(v) { return makeBorder.call(this, textBorderProps, 'cellBorderBottom', v); } },\n\n        // custom borders\n        border : { prefix : null, name : null, value : function(v) { return makeBorder.call(this, textBorderProps, 'border', v); } },\n        borderLeft : { name : 'brdrl', value : function(v) { return makeBorder.call(this, textBorderProps, 'borderLeft', v); } },\n        borderRight : { name : 'brdrr', value : function(v) { return makeBorder.call(this, textBorderProps, 'borderRight', v); } },\n        borderTop : { name : 'brdrt', value : function(v) { return makeBorder.call(this, textBorderProps, 'borderTop', v); } },\n        borderBottom : { name : 'brdrb', value : function(v) { return makeBorder.call(this, textBorderProps, 'borderBottom', v); } },\n\n        // common border properties (may be overriden by borderLeft etc)\n        borderSpacing : 'brsp', // border spacing\n        borderWidth : 'brdrw', // border spacing\n        // border type\n        borderType : { name : 'brdr', value : borderTypes },\n\n        // tableHeader : 'trhdr',\n\n        // makeParagraph : 'pard',\n        fontSize : { name : 'fs', value : (v) => isNaN(v) ? v : v * 2 },\n\n        landscape : 'lndscpsxn', // ???\n\n        pageWidth : 'pgwsxn',\n        pageHeight : 'pghsxn',\n\n        marginLeft : 'margl',\n        marginRight : 'margr',\n        marginTop : 'margt',\n        marginBottom : 'margb',\n        language : 'deflang',\n\n        pageNumbering : { prefix : '', value : '\\{\\\\header\\\\pard\\\\qr\\\\plain\\\\f0\\\\chpgn\\\\par\\}' },\n        columns : 'cols',\n        columnLines : 'linebetcol',\n\n        paragraph : { wrap : true, prefix : '\\\\pard', postfix : '\\\\par' },\n\n        bold : { wrap : true, test : v => v, prefix : '\\\\b', postfix : '\\\\b0' },\n        italic : { wrap : true, test : v => v, prefix : '\\\\i', postfix : '\\\\i0' },\n        underline : { wrap : true, test : v => v, prefix : '\\\\ul', postfix : '\\\\ul0' },\n        strike : { wrap : true, test : v => v, prefix : '\\\\strike', postfix : '\\\\strike0' },\n        subScript : { wrap : true, test : v => v, prefix : '\\\\sub', postfix : '\\\\sub0' },\n        superScript : { wrap : true, test : v => v, prefix : '\\\\super', postfix : '\\\\super0' },\n    },/*}}}*/\n\n    /** entitiesFirst ** {{{ Entities sort order: first items */\n    entitiesFirst : [\n        'paragraph',\n\n        // // make border type first\n        // 'borderTop',\n        // 'borderBottom',\n        // 'borderLeft',\n        // 'borderRight',\n        // 'borderSpacing',\n        // 'borderWidth',\n        // 'borderType',\n        // 'borderColor',\n    ],/*}}}*/\n    /** oprionsLast ** {{{ Entities sort order: last items */\n    oprionsLast : [\n        'bold',\n        'italic',\n        'underline',\n        'strike',\n        'subScript',\n        'superScript',\n    ],/*}}}*/\n\n};\n","/**\n * @module entities\n * @overview Entities\n * @author lilliputten <igor@lilliputten.ru>\n */\nvar\n    EntitiesData = require('./entities-data'),\n\n    Utils = require('./rtf-utils'),\n\n    isArray = Array.isArray,\n\n    inherit = require('inherit')\n;\n\n/** compare ** {{{ */\nfunction compare (a, b, order) {\n    if ( !Array.isArray(order) ) { return 0; }\n    var\n        max = order.length,\n        makeIndex = (x) => ( x < 0 ) ? max : x,\n        ax = makeIndex(order.indexOf(a)),\n        bx = makeIndex(order.indexOf(b)),\n        result = ax - bx\n    ;\n    return result;\n}/*}}}*/\n/** sortKeys ** {{{ */\nfunction sortKeys (a, b) {\n    var result = compare(a, b, EntitiesData.entitiesFirst) - compare(a, b, EntitiesData.oprionsLast);\n    return result;\n}/*}}}*/\n\nvar Entities = inherit({\n\n    /** __constructor ** {{{ */\n    __constructor : function(format){\n        // this.format = format;\n        Object.assign(this, format);\n    },/*}}}*/\n\n    /** _notEmptyKey ** {{{ */\n    _notEmptyKey : function (key) {\n        return EntitiesData.entities[key] && this[key] !== undefined && this[key] !== null && this[key] !== false;\n    },/*}}}*/\n\n    /** testFilter ** {{{ Check filter pass status for entity context\n     * @param {Object} ctx\n     * @param {String} [filter]\n     * @param {Boolean} [strict]\n     * @returns {Boolean}\n     */\n    testFilter : function (ctx, filter, strict) {\n\n        if ( !filter ) {\n            return true;\n        }\n\n        var cmpFilter = ctx.filter;\n        if ( !cmpFilter ) {\n            return !strict;\n        }\n        isArray(cmpFilter) || ( cmpFilter = [cmpFilter] );\n        isArray(filter) || ( filter = [filter] );\n\n        return filter.some(filter => cmpFilter.includes(filter));\n\n    },/*}}}*/\n\n    /** compile ** {{{ Create rtf entities for description\n     * @param {Object} [params] - Parameters\n     * @param {String} [params.filter] - Condition filter (eg 'tableCellDef' for table cells)\n     * @returns {String}\n     */\n    compile : function (params) {\n        params = params || {};\n        var filter = params.filter || this.filter;\n        var strictFilter = params.strictFilter || this.strictFilter;\n        var result = Object.keys(this)\n            .filter(this._notEmptyKey, this)\n            .sort(sortKeys)\n            .map(key => {\n                var ctx = EntitiesData.entities[key];\n                if ( ctx === true ) {\n                    ctx = key;\n                }\n                // in any case cloning original entities data\n                if ( typeof ctx === 'string' ) {\n                    ctx = {\n                        key : key,\n                        name : ctx,\n                        prefix : '\\\\',\n                    };\n                }\n                else {\n                    ctx = Object.assign({\n                            prefix : '\\\\',\n                            key : key,\n                        }, ctx)\n                    ;\n                }\n                return ctx;\n            }, this)\n            .filter(ctx => !ctx.wrap)\n            .filter(ctx => this.testFilter(ctx, filter, strictFilter)) // TODO: Add to wrappers?\n            .filter(ctx => typeof ctx.test !== 'function' || ctx.test.call(this, this[ctx.key]), this)\n            .map(ctx => {\n                var\n                    value = ( this[ctx.key] === true ) ? '' : this[ctx.key]\n                ;\n                if ( typeof ctx.value === 'function' ) {\n                    value = ctx.value.call(this, this[ctx.key]);\n                }\n                else if ( typeof ctx.value === 'object' && ctx.value[this[ctx.key]] ) {\n                    value = ctx.value[this[ctx.key]];\n                }\n                var prefix = [ ctx.prefix, ctx.name, value ].join('');\n                var result = Utils.makeRtfCmd(prefix, '', ctx.postfix);\n\n                return result;\n                // return [ ctx.prefix, ctx.name, value, ctx.postfix ].join('');\n            }, this)\n            .join('')\n        ;\n        return result;\n    },/*}}}*/\n\n    /** applyWrappers ** {{{ Create wrappers for description\n     * @param {String} [content] - Text\n     * @param {Object} [params] - Parameters\n     */\n    applyWrappers : function (content, params) {\n        params = params || {};\n        var filter = params.filter || this.filter;\n        var strictFilter = params.strictFilter || this.strictFilter;\n        var result = Object.keys(this)\n            .filter(key => typeof EntitiesData.entities[key] === 'object' && EntitiesData.entities[key].wrap)\n            .sort(sortKeys)\n            .reverse()\n            .map(key => {\n                var ctx = EntitiesData.entities[key];\n                ctx = Object.assign({\n                        key : key,\n                        prefix : '\\\\'+ctx.name,\n                        postfix : '\\\\'+ctx.name+'0',\n                    }, ctx)\n                ;\n                return ctx;\n            }, this)\n            .filter(ctx => this.testFilter(ctx, filter, strictFilter)) // TODO: Add to wrappers?\n            .filter(ctx => typeof ctx.test !== 'function' || ctx.test.call(this, content), this)\n            .reduce((content,ctx,i) => {\n                // var result = [ ctx.prefix, content, ctx.postfix ].join('');\n                var result = Utils.makeRtfCmd(ctx.prefix, content, ctx.postfix);\n                return result;\n            }, content)\n        ;\n        return result;\n    },/*}}}*/\n\n});\n\nmodule.exports = Entities;\n","/**\n * @module format\n * @overview Formating\n * @author lilliputten <igor@lilliputten.ru>\n */\n\nvar\n\n    RGB = require('./data/rgb'),\n    Fonts = require('./data/fonts'),\n    Colors = require('./data/colors'),\n\n    Utils = require('./rtf-utils'),\n    Entities = require('./entities'),\n\n    inherit = require('inherit')\n;\n\n/** wrap ** {{{ some RTF elements require that they are wrapped, closed by a trailing 0 and must have a spacebefore the text\n */\nfunction wrap (text, prefix, postfix) {\n    postfix = postfix || ( prefix + '0' );\n    return prefix + ' ' + text + postfix;\n}/*}}}*/\n\n/**\n * @class\n * @name Format\n */\nvar Format = inherit(/** @lends Format.prototype */{\n\n    /** __constructor ** {{{\n     * @param {Object} [options]\n     */\n    __constructor : function (options) {\n        Object.assign(this, Format.defaultOptions, options);\n    },/*}}}*/\n\n    /** updateTables ** {{{\n     * @param {Object} jsRTF\n     */\n    updateTables : function (jsRTF) {\n\n        var\n            colorTable = jsRTF.colorTable,\n            fontTable = jsRTF.fontTable\n        ;\n\n        // font...\n        this.fontPos = fontTable.indexOf(this.font);\n        // if a font was defined, and it's not in a table, add it in!\n        if ( this.fontPos < 0 && this.font !== undefined && this.font ) {\n            this.fontPos = fontTable.length;\n            fontTable.push(this.font);\n        }\n\n        // colors...\n        [\n            { obj : this, key : 'color' },\n            { obj : this, key : 'bgColor' },\n            { obj : this, key : 'borderColor' },\n            { obj : this, key : 'cellBgColor' },\n            { obj : this.border, key : 'color' },\n            { obj : this.borderLeft, key : 'color' },\n            { obj : this.borderRight, key : 'color' },\n            { obj : this.borderTop, key : 'color' },\n            { obj : this.borderBottom, key : 'color' },\n            { obj : this.cellBorder, key : 'color' },\n            { obj : this.cellBorderLeft, key : 'color' },\n            { obj : this.cellBorderRight, key : 'color' },\n            { obj : this.cellBorderTop, key : 'color' },\n            { obj : this.cellBorderBottom, key : 'color' },\n            { obj : this.rowBorderLeft, key : 'color' },\n            { obj : this.rowBorderRight, key : 'color' },\n            { obj : this.rowBorderTop, key : 'color' },\n            { obj : this.rowBorderBottom, key : 'color' },\n            { obj : this.rowBorderHorizontal, key : 'color' },\n            { obj : this.rowBorderVertical, key : 'color' },\n        ].map(item => {\n            var obj = item.obj, key = item.key;\n            if ( obj && typeof obj === 'object' && obj[key] ) {\n                var keyPos = key + 'Pos';\n                obj[keyPos] = Utils.getColorPosition(colorTable, obj[key]);\n                if ( obj[keyPos] < 0 && obj[key] ) {\n                    obj[keyPos] = colorTable.length;\n                    colorTable.push(obj[key]);\n                }\n            }\n        });\n\n    },/*}}}*/\n\n    /** formatText ** {{{ Applies a format to some text\n     * @param {String} text\n     * @param {Object} jsRTF\n     * @param {Object} params\n     * @param {Boolean} [params.noEscape]\n     */\n    formatText : function (text, jsRTF, params) {\n\n        params = params || {};\n\n        this.updateTables(jsRTF);\n\n        var entities = ( this instanceof Entities ) ? this : new Entities(this);\n        var styles = entities.compile(params);\n\n        // we don't escape text if there are other elements in it, so set a flag\n        if ( !params.noEscape && typeof text === 'string' ){\n            text = Utils.getRTFSafeText(text);\n        }\n\n        text = Utils.makeRtfCmd(styles, text);\n\n        var result = entities.applyWrappers(text, params);\n\n        if ( params.wrapInCurles && !result.match(/^\\{.*\\}$/) ) {\n            result = '\\{' + result +'\\}';\n        }\n\n        return result;\n\n    },/*}}}*/\n\n}, /*{{{ Static properties... *//** @lends Format */{\n\n    /** defaultOptions ** {{{\n     * @type {Object}\n     */\n    defaultOptions : {\n\n        // font: Fonts.ARIAL,\n\n    },/*}}}*/\n\n}/*}}}*/\n); // end inherit\n\nmodule.exports = Format;\n\n","/* globals window, define, exports, module, modules */\n/**\n *\n * @module jsRTF\n * @overview Library for making rich text documents\n * @author lilliputten <igor@lilliputten.ru>\n *\n * Original maintainer Jonathan Rowny (https://github.com/jrowny/node-rtf)\n *\n */\n\nvar\n\n    Utils = require('./rtf-utils'),\n\n    Fonts = require('./data/fonts'),\n    Colors = require('./data/colors'),\n    RGB = require('./data/rgb'),\n    Language = require('./data/language'),\n\n    Format = require('./format'),\n    Entities = require('./entities'),\n\n    Element = require('./elements/element'),\n\n    ContainerElement = require('./elements/container'),\n    TextElement = require('./elements/text'),\n    TableElement = require('./elements/table'),\n    GroupElement = require('./elements/group'),\n\n    // ImageElement : require('./elements/image'), // NOTE: Not used awhile (used loading of image contents from `fs`) TODO: need migrating to more universal methods)\n\n    inherit = require('inherit'),\n    isArray = Array.isArray,\n    NL = '\\n'\n;\n\n/**\n * @class\n * @name jsRTF\n */\nvar jsRTF = inherit(/** @lends jsRTF.prototype */{\n\n    // Data...\n\n    /** Stores the elements */\n    elements : [],\n\n    /** Stores the colors */\n    colorTable : [],\n\n    /** Stores the fonts */\n    fontTable : [],\n\n    // Methods...\n\n    /** __constructor ** {{{\n     * @param {Object} [params] - Optional parameters of document\n     */\n    __constructor : function (params) {\n        // params...\n        this.params = this.params || {};\n        if ( typeof this._getDefaultParams === 'function' ) {\n            Object.assign(this.params, this._getDefaultParams());\n        }\n        Object.assign(this.params, params);\n\n        // Stores the elements\n        this.elements = [];\n\n        // Stores the colors\n        this.colorTable = [];\n\n        // Stores the fonts\n        this.fontTable = [];\n\n    },/*}}}*/\n\n    /** cascadeFormats ** {{{\n     * @param {String} content\n     * @param {Object[]} formats\n     * @param {Object} [params]\n     * @returns {String}\n     */\n    cascadeFormats : function (content, formats, params={}) {\n\n        if ( !isArray(formats) ) {\n            throw new Error('Formats must be an array!');\n        }\n\n        if ( params.reverseCascade ) {\n            formats = formats.reverse();\n        }\n\n        var result = formats\n            .filter(fmt => !!fmt)\n            .map(fmt => ( fmt instanceof Format ) ? fmt : new Format(fmt))\n            .reduce((content,fmt) => {\n                var result = fmt.formatText(content, this, params);\n                return result;\n            }, content)\n        ;\n\n        return result;\n\n    },/*}}}*/\n\n    /** _getDefaultParams ** {{{ */\n    _getDefaultParams : function () {\n        return {\n\n            // pageNumbering: false,\n            marginLeft: 1800,\n            marginRight: 1800,\n            marginBottom: 1440,\n            marginTop: 1440,\n\n            language: jsRTF.Language.ENG_US,\n\n            // columns: 0,//columns?\n            // columnLines: false,//lines between columns\n            // orientation: jsRTF.Orientation.PORTRAIT,\n            landscape : true,\n\n        };\n    },/*}}}*/\n\n    // /** addPara ** {{{ Add paragraph break command (???)\n    //  * @param {Object} [format]\n    //  * @param {String} [groupName]\n    //  */\n    // addPara : function (format, groupName) {\n    //     this.addCommand('\\n\\\\par', groupName, format);\n    // },/*}}}*/\n\n    /** addTable ** {{{\n     * TODO: not sure why this function exists... probably to validate incoming tables later on\n     */\n    addTable : function (table) {\n        this.elements.push(table);\n    },/*}}}*/\n\n    /** addTextGroup ** {{{ */\n    addTextGroup : function (name, format) {\n        if(this._groupIndex(name)<0) {//make sure we don't have duplicate groups!\n            var formatGroup = new jsRTF.GroupElement(name, format);\n            this.elements.push(formatGroup);\n        }\n    },/*}}}*/\n\n    /** addElement ** {{{ adds a single element to a given group or as an element\n     * @param {Object|Array} element\n     * @param {String} [groupName]\n     * @param {Object} [format]\n     * TODO this should not be in prototype (NOTE: from maintainer?)\n     */\n    addElement : function (element, groupName, format) {\n\n        // Check for `(command, format)` passed...\n        if ( format === undefined && typeof groupName === 'object' ) {\n            format = groupName;\n            groupName = undefined;\n        }\n\n        if ( element === undefined || element === null ) {\n            throw new Error('Element not defined');\n        }\n        else if ( isArray(element) ) {\n            element = new ContainerElement(element, format);\n        }\n        else if ( typeof element !== 'object' ) { // 'string' || typeof element === 'number' ) {\n            element = new TextElement(element, format);\n        }\n\n        // Original code...\n        if ( groupName !== undefined && this._groupIndex(groupName)>=0 ) {\n            this.elements[this._groupIndex(groupName)].addElement(element);\n        }\n        else {\n            this.elements.push(element);\n        }\n\n    },/*}}}*/\n\n    /** writeText ** {{{ Adds a text string\n     * @param {String} text\n     * @param {Object} [format]\n     * @param {String} [groupName]\n     */\n    writeText : function (text, format, groupName) {\n        var element = new jsRTF.TextElement(text, format);\n        this.addElement(element, groupName);\n    },/*}}}*/\n\n    /** addCommand ** {{{ adds a single command to a given group or as an element\n     * @param {String} command\n     * @param {String} [groupName]\n     * @param {Object} [format]\n     * TODO this should not be in prototype (NOTE: from maintainer?)\n     */\n    addCommand : function (command, groupName, format) {\n\n        if ( !command ) {\n            throw new Error('Command not defined');\n        }\n\n        // Check for `(command, format)` passed...\n        if ( format === undefined && typeof groupName === 'object' ) {\n            format = groupName;\n            groupName = undefined;\n        }\n\n        // If format, then adding them to command\n        if ( format && typeof format === 'object' ) {\n            if ( format instanceof Format ) {\n                format.updateTables(this.colorTable, this.fontTable);\n            }\n            command +=  ( new jsRTF.Entities(format) ).compile();\n        }\n\n        var element = {\n            text : command,\n            // safe : false,\n            noEscape : true,\n        };\n\n        return this.addElement(element);\n\n    },/*}}}*/\n\n    /** addPage ** {{{ page break shortcut */\n    addPage : function (groupName) {\n        this.addCommand('\\\\page', groupName);\n    },/*}}}*/\n\n    /** addLine ** {{{ line break shortcut */\n    addLine : function (groupName) {\n        this.addCommand('\\\\line', groupName);\n    },/*}}}*/\n\n    /** addTab ** {{{ tab shortcut */\n    addTab : function (groupName) {\n        this.addCommand('\\\\tab', groupName);\n    },/*}}}*/\n\n    /** addSection ** {{{ Adds section\n     * @param {Object} [format]\n     * @param {String} [groupName]\n     */\n    addSection : function (format, groupName) {\n        this.addCommand('\\\\sect', groupName, format);\n    },/*}}}*/\n\n    /** addStyles ** {{{ Adds format (or styles) ???\n     * @param {Object} format\n     * @param {String} [groupName]\n     */\n    addStyles : function (format, groupName) {\n        if ( !format ) {\n            throw new Error('Entities not defined');\n        }\n        if ( format && format instanceof Format ) {\n            format.updateTables(this.colorTable, this.fontTable);\n        }\n        var command = ( new jsRTF.Entities(format) ).compile();\n        if ( command ) {\n            this.addCommand(command, groupName);\n        }\n    },/*}}}*/\n\n    /** _groupIndex ** {{{ gets the index of a group\n     * TODO: make this more private by removing it from prototype and passing elements\n     */\n    _groupIndex : function (name) {\n        this.elements.forEach(function(el, i){\n            if ( el instanceof jsRTF.GroupElement && el.name===name ) {\n                return i;\n            }\n        });\n        return -1;\n    },/*}}}*/\n\n    /** getRTFCodeRoot ** {{{ */\n    getRTFCodeRoot : function (item) {\n\n        var result = '';\n\n        if ( isArray(item) ) {\n            result = item\n                .map(this.getRTFCodeRoot, this)\n                .join('\\n')\n            ;\n        }\n        else if ( item instanceof jsRTF.Element ) {\n            result = item.getRTFCode(this);//this.colorTable, this.fontTable);\n        }\n        else {\n            result = jsRTF.Utils.getRTFSafeText(item);\n        }\n\n        return result;\n\n    },/*}}}*/\n\n    /** createDocument ** {{{ */\n    createDocument : function () {\n\n        // Opening document sequence\n        var output = '\\{\\\\rtf1\\\\ansi\\\\deff0\\n';\n\n        // Document parameters\n        var entities = new jsRTF.Entities(this.params);\n        output += entities.compile() + NL;\n\n        // Creating content\n        var elemsContent = this.getRTFCodeRoot(this.elements);\n\n        //now that the tasks are done running: create tables, data populated during element output\n        output += jsRTF.Utils.createColorTable(this.colorTable) + NL;\n        output += jsRTF.Utils.createFontTable(this.fontTable) + NL;\n\n        // Finishing document\n        output += elemsContent + '\\n\\}';\n\n        return output;\n\n    },/*}}}*/\n\n},\n\n/* Static properties... {{{ *//** @lends jsRTF */{\n\n    Utils : Utils,\n\n    Fonts : Fonts,\n    Colors : Colors,\n    RGB : RGB,\n    Language : Language,\n\n    Format : Format,\n    Entities : Entities,\n\n    Element : Element,\n\n    ContainerElement : ContainerElement,\n    TextElement : TextElement,\n    TableElement : TableElement,\n    GroupElement : GroupElement,\n    // ImageElement : ImageElement,\n\n}/*}}}*/\n\n);\n\n/*{{{ Provide... */\n\nvar defineAsGlobal = true;\n\n// Provide with CommonJS\nif ( typeof module === 'object' && typeof module.exports === 'object' ) {\n    module.exports = jsRTF;\n    defineAsGlobal = false;\n}\n\n// Provide to YModules\nif ( typeof modules === 'object' ) {\n    modules.define('jsrtf', function(provide) {\n        provide(jsRTF);\n    });\n    defineAsGlobal = false;\n}\n\n// Provide to global scope\nif ( defineAsGlobal ) {\n    ( typeof window !== 'undefined' ? window : global ).jsrtf = jsRTF;\n}\n\n/*}}}*/\n\n","/**\n * @module rtf-utils\n * @overview Misc utilities & helpers.\n * @author lilliputten <igor@lilliputten.ru>\n */\nvar\n    RGB = require('./data/rgb'),\n    Fonts = require('./data/fonts'),\n    inherit = require('inherit')\n;\n\n/** String.prototype.replaceAll ** {{{ Replaces all occurrences of a substring in a string\n * ReplaceAll by Fagner Brack (MIT Licensed)\n */\nString.prototype.replaceAll = function (token, newToken, ignoreCase) {\n    var str = this.toString(), i = -1, _token;\n    if(typeof token === \"string\") {\n        if(ignoreCase === true) {\n            _token = token.toLowerCase();\n            while((i = str.toLowerCase().indexOf( token, i >= 0? i + newToken.length : 0 )) !== -1 ) {\n                str = str.substring(0, i)\n                    .concat(newToken)\n                    .concat(str.substring(i + token.length));\n            }\n        } else {\n            return this.split(token).join(newToken);\n        }\n    }\n    return str;\n};/*}}}*/\n\nmodule.exports = {\n\n    dpi : 300,\n    twipsPerMM : 56.6925562674,\n\n    /** mm2twips ** {{{ Convert milimeters to twips\n     * @see {@link https://en.wikipedia.org/wiki/Twip}\n     * @see {@link http://www.convertunits.com/from/twip/to/mm}\n     * @returns {Integer}\n     */\n    mm2twips : function (mm) {\n        return Math.round( this.twipsPerMM * mm );\n    },/*}}}*/\n\n    /** isIndex ** {{{ Check is index is defined and positive (Number>=0)\n     * @returns {Boolean}\n     */\n    isIndex : function (index) {\n        return ( !isNaN(index) && index >= 0 );\n    },/*}}}*/\n\n    /** makeRtfCmd ** {{{\n     * @param {String} prefix\n     * @param {String} text\n     * @param {String} [postfix]\n     * @param {Boolean} [wrapInCurles]\n     * @returns {String}\n     */\n    makeRtfCmd : function (prefix, text, postfix, wrapInCurles) {\n\n        // postfix = postfix || '';\n\n        if ( prefix && String(prefix).match(/\\\\\\w+$/) && text && !String(text).match(/^\\\\/) ) {\n            prefix += ' ';\n        }\n\n        var result = [ prefix, text, postfix ].join('');\n\n        if ( wrapInCurles && !result.match(/^\\{.*\\}$/) ) {\n            result = '\\{' + result +'\\}';\n        }\n\n        return result;\n\n\n    },/*}}}*/\n\n    /** getRTFSafeText ** {{{ Makes text safe for RTF by escaping characters and it also converts linebreaks\n     * Also checks to see if safetext should be overridden by non-elements like \"\\line\"\n     */\n    getRTFSafeText : function (text){\n        //if text is overridden not to be safe\n        if ( typeof text === 'object' && text.hasOwnProperty('text') && text.noEscape ) {\n            return text.text;\n        }\n        else if ( typeof text === 'object' ) {\n            throw new Error('Expecting text, not object');\n        }\n        // TODO: this could probably all be replaced by a bit of regex\n        return String(text)\n            // .replace(/([\\\\\\{\\}~_-])/g, '\\\\$1')\n            .replaceAll('\\\\','\\\\\\\\')\n            .replaceAll('\\{','\\\\\\{')\n            .replaceAll('\\}','\\\\\\}')\n            // .replaceAll('~','\\\\~')\n            // .replaceAll('-','\\\\-')\n            // .replaceAll('_','\\\\_')\n            //turns line breaks into \\line commands\n            // .replaceAll(/(\\n\\r|\\n|\\r)/g,' \\\\line ')\n            .replaceAll('\\n\\r',' \\\\line ')\n            .replaceAll('\\n',' \\\\line ')\n            .replaceAll('\\r',' \\\\line ')\n        ;\n    },/*}}}*/\n\n    /** createColorTable ** {{{ Generates a color table */\n    createColorTable : function (colorTable) {\n        var table = '',\n             c;\n        table+='\\{\\\\colortbl;\\n';\n        for(c=0; c < colorTable.length; c++) {\n            var rgb = colorTable[c];\n            table+='\\\\red' + rgb.red + '\\\\green' + rgb.green + '\\\\blue' + rgb.blue + ';\\n';\n        }\n        table+='\\}';\n        return table;\n    },/*}}}*/\n\n    /** createFontTable ** {{{ Generates a font table */\n    createFontTable : function (fontTable) {\n        var table = '',\n                f;\n        table+='\\{\\\\fonttbl;\\n';\n        if(fontTable.length === 0) {\n            table+='\\{\\\\f0 ' + Fonts.ARIAL + '\\}\\n'; //if no fonts are defined, use arial\n        } else {\n            for(f=0;f<fontTable.length;f++) {\n                    table+='\\{\\\\f' + f + ' ' + fontTable[f] + '\\}\\n';\n            }\n        }\n        table+='\\}';\n        return table;\n    },/*}}}*/\n\n    /** getColorPosition ** {{{ find color position in table\n     * @param {Array} table\n     * @param {RGB} find\n     */\n    getColorPosition : function (table, find) {\n        var resultIndex = -1;\n        if ( Array.isArray(table) && find && find instanceof RGB ) {\n            table.map(function(color, index){\n                if ( color.red === find.red && color.green === find.green && color.blue === find.blue ) {\n                    resultIndex = index;\n                }\n            });\n        }\n        return resultIndex;\n    }/*}}}*/\n\n};\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var arrayMap = require('./_arrayMap'),\n    baseGet = require('./_baseGet'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor;\n\n/**\n * The base implementation of `_.repeat` which doesn't coerce arguments.\n *\n * @private\n * @param {string} string The string to repeat.\n * @param {number} n The number of times to repeat the string.\n * @returns {string} Returns the repeated string.\n */\nfunction baseRepeat(string, n) {\n  var result = '';\n  if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n    return result;\n  }\n  // Leverage the exponentiation by squaring algorithm for a faster repeat.\n  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n  do {\n    if (n % 2) {\n      result += string;\n    }\n    n = nativeFloor(n / 2);\n    if (n) {\n      string += string;\n    }\n  } while (n);\n\n  return result;\n}\n\nmodule.exports = baseRepeat;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var isPlainObject = require('./isPlainObject');\n\n/**\n * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n * objects.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {string} key The key of the property to inspect.\n * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n */\nfunction customOmitClone(value) {\n  return isPlainObject(value) ? undefined : value;\n}\n\nmodule.exports = customOmitClone;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.difference` except that it accepts `comparator`\n * which is invoked to compare elements of `array` to `values`. The order and\n * references of result values are determined by the first array. The comparator\n * is invoked with two arguments: (arrVal, othVal).\n *\n * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n *\n * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n * // => [{ 'x': 2, 'y': 1 }]\n */\nvar differenceWith = baseRest(function(array, values) {\n  var comparator = last(values);\n  if (isArrayLikeObject(comparator)) {\n    comparator = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n    : [];\n});\n\nmodule.exports = differenceWith;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","module.exports = require('./head');\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var arrayMap = require('./_arrayMap'),\n    baseClone = require('./_baseClone'),\n    baseUnset = require('./_baseUnset'),\n    castPath = require('./_castPath'),\n    copyObject = require('./_copyObject'),\n    customOmitClone = require('./_customOmitClone'),\n    flatRest = require('./_flatRest'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable property paths of `object` that are not omitted.\n *\n * **Note:** This method is considerably slower than `_.pick`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = flatRest(function(object, paths) {\n  var result = {};\n  if (object == null) {\n    return result;\n  }\n  var isDeep = false;\n  paths = arrayMap(paths, function(path) {\n    path = castPath(path, object);\n    isDeep || (isDeep = path.length > 1);\n    return path;\n  });\n  copyObject(object, getAllKeysIn(object), result);\n  if (isDeep) {\n    result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n  }\n  var length = paths.length;\n  while (length--) {\n    baseUnset(result, paths[length]);\n  }\n  return result;\n});\n\nmodule.exports = omit;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseRepeat = require('./_baseRepeat'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger'),\n    toString = require('./toString');\n\n/**\n * Repeats the given string `n` times.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to repeat.\n * @param {number} [n=1] The number of times to repeat the string.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the repeated string.\n * @example\n *\n * _.repeat('*', 3);\n * // => '***'\n *\n * _.repeat('abc', 2);\n * // => 'abcabc'\n *\n * _.repeat('abc', 0);\n * // => ''\n */\nfunction repeat(string, n, guard) {\n  if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n    n = 1;\n  } else {\n    n = toInteger(n);\n  }\n  return baseRepeat(toString(string), n);\n}\n\nmodule.exports = repeat;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 30 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseTimes = require('./_baseTimes'),\n    castFunction = require('./_castFunction'),\n    toInteger = require('./toInteger');\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Invokes the iteratee `n` times, returning an array of the results of\n * each invocation. The iteratee is invoked with one argument; (index).\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n * @example\n *\n * _.times(3, String);\n * // => ['0', '1', '2']\n *\n *  _.times(4, _.constant(0));\n * // => [0, 0, 0, 0]\n */\nfunction times(n, iteratee) {\n  n = toInteger(n);\n  if (n < 1 || n > MAX_SAFE_INTEGER) {\n    return [];\n  }\n  var index = MAX_ARRAY_LENGTH,\n      length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n  iteratee = castFunction(iteratee);\n  n -= MAX_ARRAY_LENGTH;\n\n  var result = baseTimes(length, iteratee);\n  while (++index < n) {\n    iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = times;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var Markdown;\r\n\r\nif (typeof exports === \"object\" && typeof require === \"function\") // we're in a CommonJS (e.g. Node.js) module\r\n    Markdown = exports;\r\nelse\r\n    Markdown = {};\r\n    \r\n// The following text is included for historical reasons, but should\r\n// be taken with a pinch of salt; it's not all true anymore.\r\n\r\n//\r\n// Wherever possible, Showdown is a straight, line-by-line port\r\n// of the Perl version of Markdown.\r\n//\r\n// This is not a normal parser design; it's basically just a\r\n// series of string substitutions.  It's hard to read and\r\n// maintain this way,  but keeping Showdown close to the original\r\n// design makes it easier to port new features.\r\n//\r\n// More importantly, Showdown behaves like markdown.pl in most\r\n// edge cases.  So web applications can do client-side preview\r\n// in Javascript, and then build identical HTML on the server.\r\n//\r\n// This port needs the new RegExp functionality of ECMA 262,\r\n// 3rd Edition (i.e. Javascript 1.5).  Most modern web browsers\r\n// should do fine.  Even with the new regular expression features,\r\n// We do a lot of work to emulate Perl's regex functionality.\r\n// The tricky changes in this file mostly have the \"attacklab:\"\r\n// label.  Major or self-explanatory changes don't.\r\n//\r\n// Smart diff tools like Araxis Merge will be able to match up\r\n// this file with markdown.pl in a useful way.  A little tweaking\r\n// helps: in a copy of markdown.pl, replace \"#\" with \"//\" and\r\n// replace \"$text\" with \"text\".  Be sure to ignore whitespace\r\n// and line endings.\r\n//\r\n\r\n\r\n//\r\n// Usage:\r\n//\r\n//   var text = \"Markdown *rocks*.\";\r\n//\r\n//   var converter = new Markdown.Converter();\r\n//   var html = converter.makeHtml(text);\r\n//\r\n//   alert(html);\r\n//\r\n// Note: move the sample code to the bottom of this\r\n// file before uncommenting it.\r\n//\r\n\r\n(function () {\r\n\r\n    function identity(x) { return x; }\r\n    function returnFalse(x) { return false; }\r\n\r\n    function HookCollection() { }\r\n\r\n    HookCollection.prototype = {\r\n\r\n        chain: function (hookname, func) {\r\n            var original = this[hookname];\r\n            if (!original)\r\n                throw new Error(\"unknown hook \" + hookname);\r\n\r\n            if (original === identity)\r\n                this[hookname] = func;\r\n            else\r\n                this[hookname] = function (text) {\r\n                    var args = Array.prototype.slice.call(arguments, 0);\r\n                    args[0] = original.apply(null, args);\r\n                    return func.apply(null, args);\r\n                };\r\n        },\r\n        set: function (hookname, func) {\r\n            if (!this[hookname])\r\n                throw new Error(\"unknown hook \" + hookname);\r\n            this[hookname] = func;\r\n        },\r\n        addNoop: function (hookname) {\r\n            this[hookname] = identity;\r\n        },\r\n        addFalse: function (hookname) {\r\n            this[hookname] = returnFalse;\r\n        }\r\n    };\r\n\r\n    Markdown.HookCollection = HookCollection;\r\n\r\n    // g_urls and g_titles allow arbitrary user-entered strings as keys. This\r\n    // caused an exception (and hence stopped the rendering) when the user entered\r\n    // e.g. [push] or [__proto__]. Adding a prefix to the actual key prevents this\r\n    // (since no builtin property starts with \"s_\"). See\r\n    // http://meta.stackoverflow.com/questions/64655/strange-wmd-bug\r\n    // (granted, switching from Array() to Object() alone would have left only __proto__\r\n    // to be a problem)\r\n    function SaveHash() { }\r\n    SaveHash.prototype = {\r\n        set: function (key, value) {\r\n            this[\"s_\" + key] = value;\r\n        },\r\n        get: function (key) {\r\n            return this[\"s_\" + key];\r\n        }\r\n    };\r\n\r\n    Markdown.Converter = function () {\r\n        var pluginHooks = this.hooks = new HookCollection();\r\n        \r\n        // given a URL that was encountered by itself (without markup), should return the link text that's to be given to this link\r\n        pluginHooks.addNoop(\"plainLinkText\");\r\n        \r\n        // called with the orignal text as given to makeHtml. The result of this plugin hook is the actual markdown source that will be cooked\r\n        pluginHooks.addNoop(\"preConversion\");\r\n        \r\n        // called with the text once all normalizations have been completed (tabs to spaces, line endings, etc.), but before any conversions have\r\n        pluginHooks.addNoop(\"postNormalization\");\r\n        \r\n        // Called with the text before / after creating block elements like code blocks and lists. Note that this is called recursively\r\n        // with inner content, e.g. it's called with the full text, and then only with the content of a blockquote. The inner\r\n        // call will receive outdented text.\r\n        pluginHooks.addNoop(\"preBlockGamut\");\r\n        pluginHooks.addNoop(\"postBlockGamut\");\r\n        \r\n        // called with the text of a single block element before / after the span-level conversions (bold, code spans, etc.) have been made\r\n        pluginHooks.addNoop(\"preSpanGamut\");\r\n        pluginHooks.addNoop(\"postSpanGamut\");\r\n        \r\n        // called with the final cooked HTML code. The result of this plugin hook is the actual output of makeHtml\r\n        pluginHooks.addNoop(\"postConversion\");\r\n\r\n        //\r\n        // Private state of the converter instance:\r\n        //\r\n\r\n        // Global hashes, used by various utility routines\r\n        var g_urls;\r\n        var g_titles;\r\n        var g_html_blocks;\r\n\r\n        // Used to track when we're inside an ordered or unordered list\r\n        // (see _ProcessListItems() for details):\r\n        var g_list_level;\r\n\r\n        this.makeHtml = function (text) {\r\n\r\n            //\r\n            // Main function. The order in which other subs are called here is\r\n            // essential. Link and image substitutions need to happen before\r\n            // _EscapeSpecialCharsWithinTagAttributes(), so that any *'s or _'s in the <a>\r\n            // and <img> tags get encoded.\r\n            //\r\n\r\n            // This will only happen if makeHtml on the same converter instance is called from a plugin hook.\r\n            // Don't do that.\r\n            if (g_urls)\r\n                throw new Error(\"Recursive call to converter.makeHtml\");\r\n        \r\n            // Create the private state objects.\r\n            g_urls = new SaveHash();\r\n            g_titles = new SaveHash();\r\n            g_html_blocks = [];\r\n            g_list_level = 0;\r\n\r\n            text = pluginHooks.preConversion(text);\r\n\r\n            // attacklab: Replace ~ with ~T\r\n            // This lets us use tilde as an escape char to avoid md5 hashes\r\n            // The choice of character is arbitray; anything that isn't\r\n            // magic in Markdown will work.\r\n            text = text.replace(/~/g, \"~T\");\r\n\r\n            // attacklab: Replace $ with ~D\r\n            // RegExp interprets $ as a special character\r\n            // when it's in a replacement string\r\n            text = text.replace(/\\$/g, \"~D\");\r\n\r\n            // Standardize line endings\r\n            text = text.replace(/\\r\\n/g, \"\\n\"); // DOS to Unix\r\n            text = text.replace(/\\r/g, \"\\n\"); // Mac to Unix\r\n\r\n            // Make sure text begins and ends with a couple of newlines:\r\n            text = \"\\n\\n\" + text + \"\\n\\n\";\r\n\r\n            // Convert all tabs to spaces.\r\n            text = _Detab(text);\r\n\r\n            // Strip any lines consisting only of spaces and tabs.\r\n            // This makes subsequent regexen easier to write, because we can\r\n            // match consecutive blank lines with /\\n+/ instead of something\r\n            // contorted like /[ \\t]*\\n+/ .\r\n            text = text.replace(/^[ \\t]+$/mg, \"\");\r\n            \r\n            text = pluginHooks.postNormalization(text);\r\n\r\n            // Turn block-level HTML blocks into hash entries\r\n            text = _HashHTMLBlocks(text);\r\n\r\n            // Strip link definitions, store in hashes.\r\n            text = _StripLinkDefinitions(text);\r\n\r\n            text = _RunBlockGamut(text);\r\n\r\n            text = _UnescapeSpecialChars(text);\r\n\r\n            // attacklab: Restore dollar signs\r\n            text = text.replace(/~D/g, \"$$\");\r\n\r\n            // attacklab: Restore tildes\r\n            text = text.replace(/~T/g, \"~\");\r\n\r\n            text = pluginHooks.postConversion(text);\r\n\r\n            g_html_blocks = g_titles = g_urls = null;\r\n\r\n            return text;\r\n        };\r\n\r\n        function _StripLinkDefinitions(text) {\r\n            //\r\n            // Strips link definitions from text, stores the URLs and titles in\r\n            // hash references.\r\n            //\r\n\r\n            // Link defs are in the form: ^[id]: url \"optional title\"\r\n\r\n            /*\r\n            text = text.replace(/\r\n                ^[ ]{0,3}\\[(.+)\\]:  // id = $1  attacklab: g_tab_width - 1\r\n                [ \\t]*\r\n                \\n?                 // maybe *one* newline\r\n                [ \\t]*\r\n                <?(\\S+?)>?          // url = $2\r\n                (?=\\s|$)            // lookahead for whitespace instead of the lookbehind removed below\r\n                [ \\t]*\r\n                \\n?                 // maybe one newline\r\n                [ \\t]*\r\n                (                   // (potential) title = $3\r\n                    (\\n*)           // any lines skipped = $4 attacklab: lookbehind removed\r\n                    [ \\t]+\r\n                    [\"(]\r\n                    (.+?)           // title = $5\r\n                    [\")]\r\n                    [ \\t]*\r\n                )?                  // title is optional\r\n                (?:\\n+|$)\r\n            /gm, function(){...});\r\n            */\r\n\r\n            text = text.replace(/^[ ]{0,3}\\[(.+)\\]:[ \\t]*\\n?[ \\t]*<?(\\S+?)>?(?=\\s|$)[ \\t]*\\n?[ \\t]*((\\n*)[\"(](.+?)[\")][ \\t]*)?(?:\\n+)/gm,\r\n                function (wholeMatch, m1, m2, m3, m4, m5) {\r\n                    m1 = m1.toLowerCase();\r\n                    g_urls.set(m1, _EncodeAmpsAndAngles(m2));  // Link IDs are case-insensitive\r\n                    if (m4) {\r\n                        // Oops, found blank lines, so it's not a title.\r\n                        // Put back the parenthetical statement we stole.\r\n                        return m3;\r\n                    } else if (m5) {\r\n                        g_titles.set(m1, m5.replace(/\"/g, \"&quot;\"));\r\n                    }\r\n\r\n                    // Completely remove the definition from the text\r\n                    return \"\";\r\n                }\r\n            );\r\n\r\n            return text;\r\n        }\r\n\r\n        function _HashHTMLBlocks(text) {\r\n\r\n            // Hashify HTML blocks:\r\n            // We only want to do this for block-level HTML tags, such as headers,\r\n            // lists, and tables. That's because we still want to wrap <p>s around\r\n            // \"paragraphs\" that are wrapped in non-block-level tags, such as anchors,\r\n            // phrase emphasis, and spans. The list of tags we're looking for is\r\n            // hard-coded:\r\n            var block_tags_a = \"p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del\"\r\n            var block_tags_b = \"p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math\"\r\n\r\n            // First, look for nested blocks, e.g.:\r\n            //   <div>\r\n            //     <div>\r\n            //     tags for inner block must be indented.\r\n            //     </div>\r\n            //   </div>\r\n            //\r\n            // The outermost tags must start at the left margin for this to match, and\r\n            // the inner nested divs must be indented.\r\n            // We need to do this before the next, more liberal match, because the next\r\n            // match will start at the first `<div>` and stop at the first `</div>`.\r\n\r\n            // attacklab: This regex can be expensive when it fails.\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (                       // save in $1\r\n                    ^                   // start of line  (with /m)\r\n                    <($block_tags_a)    // start tag = $2\r\n                    \\b                  // word break\r\n                                        // attacklab: hack around khtml/pcre bug...\r\n                    [^\\r]*?\\n           // any number of lines, minimally matching\r\n                    </\\2>               // the matching end tag\r\n                    [ \\t]*              // trailing spaces/tabs\r\n                    (?=\\n+)             // followed by a newline\r\n                )                       // attacklab: there are sentinel newlines at end of document\r\n            /gm,function(){...}};\r\n            */\r\n            text = text.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\\b[^\\r]*?\\n<\\/\\2>[ \\t]*(?=\\n+))/gm, hashElement);\r\n\r\n            //\r\n            // Now match more liberally, simply from `\\n<tag>` to `</tag>\\n`\r\n            //\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (                       // save in $1\r\n                    ^                   // start of line  (with /m)\r\n                    <($block_tags_b)    // start tag = $2\r\n                    \\b                  // word break\r\n                                        // attacklab: hack around khtml/pcre bug...\r\n                    [^\\r]*?             // any number of lines, minimally matching\r\n                    .*</\\2>             // the matching end tag\r\n                    [ \\t]*              // trailing spaces/tabs\r\n                    (?=\\n+)             // followed by a newline\r\n                )                       // attacklab: there are sentinel newlines at end of document\r\n            /gm,function(){...}};\r\n            */\r\n            text = text.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\\b[^\\r]*?.*<\\/\\2>[ \\t]*(?=\\n+)\\n)/gm, hashElement);\r\n\r\n            // Special case just for <hr />. It was easier to make a special case than\r\n            // to make the other regex more complicated.  \r\n\r\n            /*\r\n            text = text.replace(/\r\n                \\n                  // Starting after a blank line\r\n                [ ]{0,3}\r\n                (                   // save in $1\r\n                    (<(hr)          // start tag = $2\r\n                        \\b          // word break\r\n                        ([^<>])*?\r\n                    \\/?>)           // the matching end tag\r\n                    [ \\t]*\r\n                    (?=\\n{2,})      // followed by a blank line\r\n                )\r\n            /g,hashElement);\r\n            */\r\n            text = text.replace(/\\n[ ]{0,3}((<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g, hashElement);\r\n\r\n            // Special case for standalone HTML comments:\r\n\r\n            /*\r\n            text = text.replace(/\r\n                \\n\\n                                            // Starting after a blank line\r\n                [ ]{0,3}                                        // attacklab: g_tab_width - 1\r\n                (                                               // save in $1\r\n                    <!\r\n                    (--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)   // see http://www.w3.org/TR/html-markup/syntax.html#comments and http://meta.stackoverflow.com/q/95256\r\n                    >\r\n                    [ \\t]*\r\n                    (?=\\n{2,})                                  // followed by a blank line\r\n                )\r\n            /g,hashElement);\r\n            */\r\n            text = text.replace(/\\n\\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \\t]*(?=\\n{2,}))/g, hashElement);\r\n\r\n            // PHP and ASP-style processor instructions (<?...?> and <%...%>)\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (?:\r\n                    \\n\\n            // Starting after a blank line\r\n                )\r\n                (                   // save in $1\r\n                    [ ]{0,3}        // attacklab: g_tab_width - 1\r\n                    (?:\r\n                        <([?%])     // $2\r\n                        [^\\r]*?\r\n                        \\2>\r\n                    )\r\n                    [ \\t]*\r\n                    (?=\\n{2,})      // followed by a blank line\r\n                )\r\n            /g,hashElement);\r\n            */\r\n            text = text.replace(/(?:\\n\\n)([ ]{0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g, hashElement);\r\n\r\n            return text;\r\n        }\r\n\r\n        function hashElement(wholeMatch, m1) {\r\n            var blockText = m1;\r\n\r\n            // Undo double lines\r\n            blockText = blockText.replace(/^\\n+/, \"\");\r\n\r\n            // strip trailing blank lines\r\n            blockText = blockText.replace(/\\n+$/g, \"\");\r\n\r\n            // Replace the element text with a marker (\"~KxK\" where x is its key)\r\n            blockText = \"\\n\\n~K\" + (g_html_blocks.push(blockText) - 1) + \"K\\n\\n\";\r\n\r\n            return blockText;\r\n        }\r\n        \r\n        var blockGamutHookCallback = function (t) { return _RunBlockGamut(t); }\r\n\r\n        function _RunBlockGamut(text, doNotUnhash) {\r\n            //\r\n            // These are all the transformations that form block-level\r\n            // tags like paragraphs, headers, and list items.\r\n            //\r\n            \r\n            text = pluginHooks.preBlockGamut(text, blockGamutHookCallback);\r\n            \r\n            text = _DoHeaders(text);\r\n\r\n            // Do Horizontal Rules:\r\n            var replacement = \"<hr />\\n\";\r\n            text = text.replace(/^[ ]{0,2}([ ]?\\*[ ]?){3,}[ \\t]*$/gm, replacement);\r\n            text = text.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \\t]*$/gm, replacement);\r\n            text = text.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \\t]*$/gm, replacement);\r\n\r\n            text = _DoLists(text);\r\n            text = _DoCodeBlocks(text);\r\n            text = _DoBlockQuotes(text);\r\n            \r\n            text = pluginHooks.postBlockGamut(text, blockGamutHookCallback);\r\n\r\n            // We already ran _HashHTMLBlocks() before, in Markdown(), but that\r\n            // was to escape raw HTML in the original Markdown source. This time,\r\n            // we're escaping the markup we've just created, so that we don't wrap\r\n            // <p> tags around block-level tags.\r\n            text = _HashHTMLBlocks(text);\r\n            text = _FormParagraphs(text, doNotUnhash);\r\n\r\n            return text;\r\n        }\r\n\r\n        function _RunSpanGamut(text) {\r\n            //\r\n            // These are all the transformations that occur *within* block-level\r\n            // tags like paragraphs, headers, and list items.\r\n            //\r\n\r\n            text = pluginHooks.preSpanGamut(text);\r\n            \r\n            text = _DoCodeSpans(text);\r\n            text = _EscapeSpecialCharsWithinTagAttributes(text);\r\n            text = _EncodeBackslashEscapes(text);\r\n\r\n            // Process anchor and image tags. Images must come first,\r\n            // because ![foo][f] looks like an anchor.\r\n            text = _DoImages(text);\r\n            text = _DoAnchors(text);\r\n\r\n            // Make links out of things like `<http://example.com/>`\r\n            // Must come after _DoAnchors(), because you can use < and >\r\n            // delimiters in inline links like [this](<url>).\r\n            text = _DoAutoLinks(text);\r\n            \r\n            text = text.replace(/~P/g, \"://\"); // put in place to prevent autolinking; reset now\r\n            \r\n            text = _EncodeAmpsAndAngles(text);\r\n            text = _DoItalicsAndBold(text);\r\n\r\n            // Do hard breaks:\r\n            text = text.replace(/  +\\n/g, \" <br>\\n\");\r\n            \r\n            text = pluginHooks.postSpanGamut(text);\r\n\r\n            return text;\r\n        }\r\n\r\n        function _EscapeSpecialCharsWithinTagAttributes(text) {\r\n            //\r\n            // Within tags -- meaning between < and > -- encode [\\ ` * _] so they\r\n            // don't conflict with their use in Markdown for code, italics and strong.\r\n            //\r\n\r\n            // Build a regex to find HTML tags and comments.  See Friedl's \r\n            // \"Mastering Regular Expressions\", 2nd Ed., pp. 200-201.\r\n\r\n            // SE: changed the comment part of the regex\r\n\r\n            var regex = /(<[a-z\\/!$](\"[^\"]*\"|'[^']*'|[^'\">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;\r\n\r\n            text = text.replace(regex, function (wholeMatch) {\r\n                var tag = wholeMatch.replace(/(.)<\\/?code>(?=.)/g, \"$1`\");\r\n                tag = escapeCharacters(tag, wholeMatch.charAt(1) == \"!\" ? \"\\\\`*_/\" : \"\\\\`*_\"); // also escape slashes in comments to prevent autolinking there -- http://meta.stackoverflow.com/questions/95987\r\n                return tag;\r\n            });\r\n\r\n            return text;\r\n        }\r\n\r\n        function _DoAnchors(text) {\r\n            //\r\n            // Turn Markdown link shortcuts into XHTML <a> tags.\r\n            //\r\n            //\r\n            // First, handle reference-style links: [link text] [id]\r\n            //\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (                           // wrap whole match in $1\r\n                    \\[\r\n                    (\r\n                        (?:\r\n                            \\[[^\\]]*\\]      // allow brackets nested one level\r\n                            |\r\n                            [^\\[]           // or anything else\r\n                        )*\r\n                    )\r\n                    \\]\r\n\r\n                    [ ]?                    // one optional space\r\n                    (?:\\n[ ]*)?             // one optional newline followed by spaces\r\n\r\n                    \\[\r\n                    (.*?)                   // id = $3\r\n                    \\]\r\n                )\r\n                ()()()()                    // pad remaining backreferences\r\n            /g, writeAnchorTag);\r\n            */\r\n            text = text.replace(/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()/g, writeAnchorTag);\r\n\r\n            //\r\n            // Next, inline-style links: [link text](url \"optional title\")\r\n            //\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (                           // wrap whole match in $1\r\n                    \\[\r\n                    (\r\n                        (?:\r\n                            \\[[^\\]]*\\]      // allow brackets nested one level\r\n                            |\r\n                            [^\\[\\]]         // or anything else\r\n                        )*\r\n                    )\r\n                    \\]\r\n                    \\(                      // literal paren\r\n                    [ \\t]*\r\n                    ()                      // no id, so leave $3 empty\r\n                    <?(                     // href = $4\r\n                        (?:\r\n                            \\([^)]*\\)       // allow one level of (correctly nested) parens (think MSDN)\r\n                            |\r\n                            [^()\\s]\r\n                        )*?\r\n                    )>?                \r\n                    [ \\t]*\r\n                    (                       // $5\r\n                        (['\"])              // quote char = $6\r\n                        (.*?)               // Title = $7\r\n                        \\6                  // matching quote\r\n                        [ \\t]*              // ignore any spaces/tabs between closing quote and )\r\n                    )?                      // title is optional\r\n                    \\)\r\n                )\r\n            /g, writeAnchorTag);\r\n            */\r\n\r\n            text = text.replace(/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]\\([ \\t]*()<?((?:\\([^)]*\\)|[^()\\s])*?)>?[ \\t]*((['\"])(.*?)\\6[ \\t]*)?\\))/g, writeAnchorTag);\r\n\r\n            //\r\n            // Last, handle reference-style shortcuts: [link text]\r\n            // These must come last in case you've also got [link test][1]\r\n            // or [link test](/foo)\r\n            //\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (                   // wrap whole match in $1\r\n                    \\[\r\n                    ([^\\[\\]]+)      // link text = $2; can't contain '[' or ']'\r\n                    \\]\r\n                )\r\n                ()()()()()          // pad rest of backreferences\r\n            /g, writeAnchorTag);\r\n            */\r\n            text = text.replace(/(\\[([^\\[\\]]+)\\])()()()()()/g, writeAnchorTag);\r\n\r\n            return text;\r\n        }\r\n\r\n        function writeAnchorTag(wholeMatch, m1, m2, m3, m4, m5, m6, m7) {\r\n            if (m7 == undefined) m7 = \"\";\r\n            var whole_match = m1;\r\n            var link_text = m2.replace(/:\\/\\//g, \"~P\"); // to prevent auto-linking withing the link. will be converted back after the auto-linker runs\r\n            var link_id = m3.toLowerCase();\r\n            var url = m4;\r\n            var title = m7;\r\n\r\n            if (url == \"\") {\r\n                if (link_id == \"\") {\r\n                    // lower-case and turn embedded newlines into spaces\r\n                    link_id = link_text.toLowerCase().replace(/ ?\\n/g, \" \");\r\n                }\r\n                url = \"#\" + link_id;\r\n\r\n                if (g_urls.get(link_id) != undefined) {\r\n                    url = g_urls.get(link_id);\r\n                    if (g_titles.get(link_id) != undefined) {\r\n                        title = g_titles.get(link_id);\r\n                    }\r\n                }\r\n                else {\r\n                    if (whole_match.search(/\\(\\s*\\)$/m) > -1) {\r\n                        // Special case for explicit empty url\r\n                        url = \"\";\r\n                    } else {\r\n                        return whole_match;\r\n                    }\r\n                }\r\n            }\r\n            url = encodeProblemUrlChars(url);\r\n            url = escapeCharacters(url, \"*_\");\r\n            var result = \"<a href=\\\"\" + url + \"\\\"\";\r\n\r\n            if (title != \"\") {\r\n                title = attributeEncode(title);\r\n                title = escapeCharacters(title, \"*_\");\r\n                result += \" title=\\\"\" + title + \"\\\"\";\r\n            }\r\n\r\n            result += \">\" + link_text + \"</a>\";\r\n\r\n            return result;\r\n        }\r\n\r\n        function _DoImages(text) {\r\n            //\r\n            // Turn Markdown image shortcuts into <img> tags.\r\n            //\r\n\r\n            //\r\n            // First, handle reference-style labeled images: ![alt text][id]\r\n            //\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (                   // wrap whole match in $1\r\n                    !\\[\r\n                    (.*?)           // alt text = $2\r\n                    \\]\r\n\r\n                    [ ]?            // one optional space\r\n                    (?:\\n[ ]*)?     // one optional newline followed by spaces\r\n\r\n                    \\[\r\n                    (.*?)           // id = $3\r\n                    \\]\r\n                )\r\n                ()()()()            // pad rest of backreferences\r\n            /g, writeImageTag);\r\n            */\r\n            text = text.replace(/(!\\[(.*?)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()/g, writeImageTag);\r\n\r\n            //\r\n            // Next, handle inline images:  ![alt text](url \"optional title\")\r\n            // Don't forget: encode * and _\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (                   // wrap whole match in $1\r\n                    !\\[\r\n                    (.*?)           // alt text = $2\r\n                    \\]\r\n                    \\s?             // One optional whitespace character\r\n                    \\(              // literal paren\r\n                    [ \\t]*\r\n                    ()              // no id, so leave $3 empty\r\n                    <?(\\S+?)>?      // src url = $4\r\n                    [ \\t]*\r\n                    (               // $5\r\n                        (['\"])      // quote char = $6\r\n                        (.*?)       // title = $7\r\n                        \\6          // matching quote\r\n                        [ \\t]*\r\n                    )?              // title is optional\r\n                    \\)\r\n                )\r\n            /g, writeImageTag);\r\n            */\r\n            text = text.replace(/(!\\[(.*?)\\]\\s?\\([ \\t]*()<?(\\S+?)>?[ \\t]*((['\"])(.*?)\\6[ \\t]*)?\\))/g, writeImageTag);\r\n\r\n            return text;\r\n        }\r\n        \r\n        function attributeEncode(text) {\r\n            // unconditionally replace angle brackets here -- what ends up in an attribute (e.g. alt or title)\r\n            // never makes sense to have verbatim HTML in it (and the sanitizer would totally break it)\r\n            return text.replace(/>/g, \"&gt;\").replace(/</g, \"&lt;\").replace(/\"/g, \"&quot;\");\r\n        }\r\n\r\n        function writeImageTag(wholeMatch, m1, m2, m3, m4, m5, m6, m7) {\r\n            var whole_match = m1;\r\n            var alt_text = m2;\r\n            var link_id = m3.toLowerCase();\r\n            var url = m4;\r\n            var title = m7;\r\n\r\n            if (!title) title = \"\";\r\n\r\n            if (url == \"\") {\r\n                if (link_id == \"\") {\r\n                    // lower-case and turn embedded newlines into spaces\r\n                    link_id = alt_text.toLowerCase().replace(/ ?\\n/g, \" \");\r\n                }\r\n                url = \"#\" + link_id;\r\n\r\n                if (g_urls.get(link_id) != undefined) {\r\n                    url = g_urls.get(link_id);\r\n                    if (g_titles.get(link_id) != undefined) {\r\n                        title = g_titles.get(link_id);\r\n                    }\r\n                }\r\n                else {\r\n                    return whole_match;\r\n                }\r\n            }\r\n            \r\n            alt_text = escapeCharacters(attributeEncode(alt_text), \"*_[]()\");\r\n            url = escapeCharacters(url, \"*_\");\r\n            var result = \"<img src=\\\"\" + url + \"\\\" alt=\\\"\" + alt_text + \"\\\"\";\r\n\r\n            // attacklab: Markdown.pl adds empty title attributes to images.\r\n            // Replicate this bug.\r\n\r\n            //if (title != \"\") {\r\n            title = attributeEncode(title);\r\n            title = escapeCharacters(title, \"*_\");\r\n            result += \" title=\\\"\" + title + \"\\\"\";\r\n            //}\r\n\r\n            result += \" />\";\r\n\r\n            return result;\r\n        }\r\n\r\n        function _DoHeaders(text) {\r\n\r\n            // Setext-style headers:\r\n            //  Header 1\r\n            //  ========\r\n            //  \r\n            //  Header 2\r\n            //  --------\r\n            //\r\n            text = text.replace(/^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\r\n                function (wholeMatch, m1) { return \"<h1>\" + _RunSpanGamut(m1) + \"</h1>\\n\\n\"; }\r\n            );\r\n\r\n            text = text.replace(/^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm,\r\n                function (matchFound, m1) { return \"<h2>\" + _RunSpanGamut(m1) + \"</h2>\\n\\n\"; }\r\n            );\r\n\r\n            // atx-style headers:\r\n            //  # Header 1\r\n            //  ## Header 2\r\n            //  ## Header 2 with closing hashes ##\r\n            //  ...\r\n            //  ###### Header 6\r\n            //\r\n\r\n            /*\r\n            text = text.replace(/\r\n                ^(\\#{1,6})      // $1 = string of #'s\r\n                [ \\t]*\r\n                (.+?)           // $2 = Header text\r\n                [ \\t]*\r\n                \\#*             // optional closing #'s (not counted)\r\n                \\n+\r\n            /gm, function() {...});\r\n            */\r\n\r\n            text = text.replace(/^(\\#{1,6})[ \\t]*(.+?)[ \\t]*\\#*\\n+/gm,\r\n                function (wholeMatch, m1, m2) {\r\n                    var h_level = m1.length;\r\n                    return \"<h\" + h_level + \">\" + _RunSpanGamut(m2) + \"</h\" + h_level + \">\\n\\n\";\r\n                }\r\n            );\r\n\r\n            return text;\r\n        }\r\n\r\n        function _DoLists(text) {\r\n            //\r\n            // Form HTML ordered (numbered) and unordered (bulleted) lists.\r\n            //\r\n\r\n            // attacklab: add sentinel to hack around khtml/safari bug:\r\n            // http://bugs.webkit.org/show_bug.cgi?id=11231\r\n            text += \"~0\";\r\n\r\n            // Re-usable pattern to match any entirel ul or ol list:\r\n\r\n            /*\r\n            var whole_list = /\r\n                (                                   // $1 = whole list\r\n                    (                               // $2\r\n                        [ ]{0,3}                    // attacklab: g_tab_width - 1\r\n                        ([*+-]|\\d+[.])              // $3 = first list item marker\r\n                        [ \\t]+\r\n                    )\r\n                    [^\\r]+?\r\n                    (                               // $4\r\n                        ~0                          // sentinel for workaround; should be $\r\n                        |\r\n                        \\n{2,}\r\n                        (?=\\S)\r\n                        (?!                         // Negative lookahead for another list item marker\r\n                            [ \\t]*\r\n                            (?:[*+-]|\\d+[.])[ \\t]+\r\n                        )\r\n                    )\r\n                )\r\n            /g\r\n            */\r\n            var whole_list = /^(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm;\r\n\r\n            if (g_list_level) {\r\n                text = text.replace(whole_list, function (wholeMatch, m1, m2) {\r\n                    var list = m1;\r\n                    var list_type = (m2.search(/[*+-]/g) > -1) ? \"ul\" : \"ol\";\r\n\r\n                    var result = _ProcessListItems(list, list_type);\r\n\r\n                    // Trim any trailing whitespace, to put the closing `</$list_type>`\r\n                    // up on the preceding line, to get it past the current stupid\r\n                    // HTML block parser. This is a hack to work around the terrible\r\n                    // hack that is the HTML block parser.\r\n                    result = result.replace(/\\s+$/, \"\");\r\n                    result = \"<\" + list_type + \">\" + result + \"</\" + list_type + \">\\n\";\r\n                    return result;\r\n                });\r\n            } else {\r\n                whole_list = /(\\n\\n|^\\n?)(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/g;\r\n                text = text.replace(whole_list, function (wholeMatch, m1, m2, m3) {\r\n                    var runup = m1;\r\n                    var list = m2;\r\n\r\n                    var list_type = (m3.search(/[*+-]/g) > -1) ? \"ul\" : \"ol\";\r\n                    var result = _ProcessListItems(list, list_type);\r\n                    result = runup + \"<\" + list_type + \">\\n\" + result + \"</\" + list_type + \">\\n\";\r\n                    return result;\r\n                });\r\n            }\r\n\r\n            // attacklab: strip sentinel\r\n            text = text.replace(/~0/, \"\");\r\n\r\n            return text;\r\n        }\r\n\r\n        var _listItemMarkers = { ol: \"\\\\d+[.]\", ul: \"[*+-]\" };\r\n\r\n        function _ProcessListItems(list_str, list_type) {\r\n            //\r\n            //  Process the contents of a single ordered or unordered list, splitting it\r\n            //  into individual list items.\r\n            //\r\n            //  list_type is either \"ul\" or \"ol\".\r\n\r\n            // The $g_list_level global keeps track of when we're inside a list.\r\n            // Each time we enter a list, we increment it; when we leave a list,\r\n            // we decrement. If it's zero, we're not in a list anymore.\r\n            //\r\n            // We do this because when we're not inside a list, we want to treat\r\n            // something like this:\r\n            //\r\n            //    I recommend upgrading to version\r\n            //    8. Oops, now this line is treated\r\n            //    as a sub-list.\r\n            //\r\n            // As a single paragraph, despite the fact that the second line starts\r\n            // with a digit-period-space sequence.\r\n            //\r\n            // Whereas when we're inside a list (or sub-list), that line will be\r\n            // treated as the start of a sub-list. What a kludge, huh? This is\r\n            // an aspect of Markdown's syntax that's hard to parse perfectly\r\n            // without resorting to mind-reading. Perhaps the solution is to\r\n            // change the syntax rules such that sub-lists must start with a\r\n            // starting cardinal number; e.g. \"1.\" or \"a.\".\r\n\r\n            g_list_level++;\r\n\r\n            // trim trailing blank lines:\r\n            list_str = list_str.replace(/\\n{2,}$/, \"\\n\");\r\n\r\n            // attacklab: add sentinel to emulate \\z\r\n            list_str += \"~0\";\r\n\r\n            // In the original attacklab showdown, list_type was not given to this function, and anything\r\n            // that matched /[*+-]|\\d+[.]/ would just create the next <li>, causing this mismatch:\r\n            //\r\n            //  Markdown          rendered by WMD        rendered by MarkdownSharp\r\n            //  ------------------------------------------------------------------\r\n            //  1. first          1. first               1. first\r\n            //  2. second         2. second              2. second\r\n            //  - third           3. third                   * third\r\n            //\r\n            // We changed this to behave identical to MarkdownSharp. This is the constructed RegEx,\r\n            // with {MARKER} being one of \\d+[.] or [*+-], depending on list_type:\r\n        \r\n            /*\r\n            list_str = list_str.replace(/\r\n                (^[ \\t]*)                       // leading whitespace = $1\r\n                ({MARKER}) [ \\t]+               // list marker = $2\r\n                ([^\\r]+?                        // list item text   = $3\r\n                    (\\n+)\r\n                )\r\n                (?=\r\n                    (~0 | \\2 ({MARKER}) [ \\t]+)\r\n                )\r\n            /gm, function(){...});\r\n            */\r\n\r\n            var marker = _listItemMarkers[list_type];\r\n            var re = new RegExp(\"(^[ \\\\t]*)(\" + marker + \")[ \\\\t]+([^\\\\r]+?(\\\\n+))(?=(~0|\\\\1(\" + marker + \")[ \\\\t]+))\", \"gm\");\r\n            var last_item_had_a_double_newline = false;\r\n            list_str = list_str.replace(re,\r\n                function (wholeMatch, m1, m2, m3) {\r\n                    var item = m3;\r\n                    var leading_space = m1;\r\n                    var ends_with_double_newline = /\\n\\n$/.test(item);\r\n                    var contains_double_newline = ends_with_double_newline || item.search(/\\n{2,}/) > -1;\r\n\r\n                    if (contains_double_newline || last_item_had_a_double_newline) {\r\n                        item = _RunBlockGamut(_Outdent(item), /* doNotUnhash = */true);\r\n                    }\r\n                    else {\r\n                        // Recursion for sub-lists:\r\n                        item = _DoLists(_Outdent(item));\r\n                        item = item.replace(/\\n$/, \"\"); // chomp(item)\r\n                        item = _RunSpanGamut(item);\r\n                    }\r\n                    last_item_had_a_double_newline = ends_with_double_newline;\r\n                    return \"<li>\" + item + \"</li>\\n\";\r\n                }\r\n            );\r\n\r\n            // attacklab: strip sentinel\r\n            list_str = list_str.replace(/~0/g, \"\");\r\n\r\n            g_list_level--;\r\n            return list_str;\r\n        }\r\n\r\n        function _DoCodeBlocks(text) {\r\n            //\r\n            //  Process Markdown `<pre><code>` blocks.\r\n            //  \r\n\r\n            /*\r\n            text = text.replace(/\r\n                (?:\\n\\n|^)\r\n                (                               // $1 = the code block -- one or more lines, starting with a space/tab\r\n                    (?:\r\n                        (?:[ ]{4}|\\t)           // Lines must start with a tab or a tab-width of spaces - attacklab: g_tab_width\r\n                        .*\\n+\r\n                    )+\r\n                )\r\n                (\\n*[ ]{0,3}[^ \\t\\n]|(?=~0))    // attacklab: g_tab_width\r\n            /g ,function(){...});\r\n            */\r\n\r\n            // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\r\n            text += \"~0\";\r\n\r\n            text = text.replace(/(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=~0))/g,\r\n                function (wholeMatch, m1, m2) {\r\n                    var codeblock = m1;\r\n                    var nextChar = m2;\r\n\r\n                    codeblock = _EncodeCode(_Outdent(codeblock));\r\n                    codeblock = _Detab(codeblock);\r\n                    codeblock = codeblock.replace(/^\\n+/g, \"\"); // trim leading newlines\r\n                    codeblock = codeblock.replace(/\\n+$/g, \"\"); // trim trailing whitespace\r\n\r\n                    codeblock = \"<pre><code>\" + codeblock + \"\\n</code></pre>\";\r\n\r\n                    return \"\\n\\n\" + codeblock + \"\\n\\n\" + nextChar;\r\n                }\r\n            );\r\n\r\n            // attacklab: strip sentinel\r\n            text = text.replace(/~0/, \"\");\r\n\r\n            return text;\r\n        }\r\n\r\n        function hashBlock(text) {\r\n            text = text.replace(/(^\\n+|\\n+$)/g, \"\");\r\n            return \"\\n\\n~K\" + (g_html_blocks.push(text) - 1) + \"K\\n\\n\";\r\n        }\r\n\r\n        function _DoCodeSpans(text) {\r\n            //\r\n            // * Backtick quotes are used for <code></code> spans.\r\n            // \r\n            // * You can use multiple backticks as the delimiters if you want to\r\n            //   include literal backticks in the code span. So, this input:\r\n            //     \r\n            //      Just type ``foo `bar` baz`` at the prompt.\r\n            //     \r\n            //   Will translate to:\r\n            //     \r\n            //      <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\r\n            //     \r\n            //   There's no arbitrary limit to the number of backticks you\r\n            //   can use as delimters. If you need three consecutive backticks\r\n            //   in your code, use four for delimiters, etc.\r\n            //\r\n            // * You can use spaces to get literal backticks at the edges:\r\n            //     \r\n            //      ... type `` `bar` `` ...\r\n            //     \r\n            //   Turns to:\r\n            //     \r\n            //      ... type <code>`bar`</code> ...\r\n            //\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (^|[^\\\\])       // Character before opening ` can't be a backslash\r\n                (`+)            // $2 = Opening run of `\r\n                (               // $3 = The code block\r\n                    [^\\r]*?\r\n                    [^`]        // attacklab: work around lack of lookbehind\r\n                )\r\n                \\2              // Matching closer\r\n                (?!`)\r\n            /gm, function(){...});\r\n            */\r\n\r\n            text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\r\n                function (wholeMatch, m1, m2, m3, m4) {\r\n                    var c = m3;\r\n                    c = c.replace(/^([ \\t]*)/g, \"\"); // leading whitespace\r\n                    c = c.replace(/[ \\t]*$/g, \"\"); // trailing whitespace\r\n                    c = _EncodeCode(c);\r\n                    c = c.replace(/:\\/\\//g, \"~P\"); // to prevent auto-linking. Not necessary in code *blocks*, but in code spans. Will be converted back after the auto-linker runs.\r\n                    return m1 + \"<code>\" + c + \"</code>\";\r\n                }\r\n            );\r\n\r\n            return text;\r\n        }\r\n\r\n        function _EncodeCode(text) {\r\n            //\r\n            // Encode/escape certain characters inside Markdown code runs.\r\n            // The point is that in code, these characters are literals,\r\n            // and lose their special Markdown meanings.\r\n            //\r\n            // Encode all ampersands; HTML entities are not\r\n            // entities within a Markdown code span.\r\n            text = text.replace(/&/g, \"&amp;\");\r\n\r\n            // Do the angle bracket song and dance:\r\n            text = text.replace(/</g, \"&lt;\");\r\n            text = text.replace(/>/g, \"&gt;\");\r\n\r\n            // Now, escape characters that are magic in Markdown:\r\n            text = escapeCharacters(text, \"\\*_{}[]\\\\\", false);\r\n\r\n            // jj the line above breaks this:\r\n            //---\r\n\r\n            //* Item\r\n\r\n            //   1. Subitem\r\n\r\n            //            special char: *\r\n            //---\r\n\r\n            return text;\r\n        }\r\n\r\n        function _DoItalicsAndBold(text) {\r\n\r\n            // <strong> must go first:\r\n            text = text.replace(/([\\W_]|^)(\\*\\*|__)(?=\\S)([^\\r]*?\\S[\\*_]*)\\2([\\W_]|$)/g,\r\n            \"$1<strong>$3</strong>$4\");\r\n\r\n            text = text.replace(/([\\W_]|^)(\\*|_)(?=\\S)([^\\r\\*_]*?\\S)\\2([\\W_]|$)/g,\r\n            \"$1<em>$3</em>$4\");\r\n\r\n            return text;\r\n        }\r\n\r\n        function _DoBlockQuotes(text) {\r\n\r\n            /*\r\n            text = text.replace(/\r\n                (                           // Wrap whole match in $1\r\n                    (\r\n                        ^[ \\t]*>[ \\t]?      // '>' at the start of a line\r\n                        .+\\n                // rest of the first line\r\n                        (.+\\n)*             // subsequent consecutive lines\r\n                        \\n*                 // blanks\r\n                    )+\r\n                )\r\n            /gm, function(){...});\r\n            */\r\n\r\n            text = text.replace(/((^[ \\t]*>[ \\t]?.+\\n(.+\\n)*\\n*)+)/gm,\r\n                function (wholeMatch, m1) {\r\n                    var bq = m1;\r\n\r\n                    // attacklab: hack around Konqueror 3.5.4 bug:\r\n                    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\r\n\r\n                    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, \"~0\"); // trim one level of quoting\r\n\r\n                    // attacklab: clean up hack\r\n                    bq = bq.replace(/~0/g, \"\");\r\n\r\n                    bq = bq.replace(/^[ \\t]+$/gm, \"\");     // trim whitespace-only lines\r\n                    bq = _RunBlockGamut(bq);             // recurse\r\n\r\n                    bq = bq.replace(/(^|\\n)/g, \"$1  \");\r\n                    // These leading spaces screw with <pre> content, so we need to fix that:\r\n                    bq = bq.replace(\r\n                            /(\\s*<pre>[^\\r]+?<\\/pre>)/gm,\r\n                        function (wholeMatch, m1) {\r\n                            var pre = m1;\r\n                            // attacklab: hack around Konqueror 3.5.4 bug:\r\n                            pre = pre.replace(/^  /mg, \"~0\");\r\n                            pre = pre.replace(/~0/g, \"\");\r\n                            return pre;\r\n                        });\r\n\r\n                    return hashBlock(\"<blockquote>\\n\" + bq + \"\\n</blockquote>\");\r\n                }\r\n            );\r\n            return text;\r\n        }\r\n\r\n        function _FormParagraphs(text, doNotUnhash) {\r\n            //\r\n            //  Params:\r\n            //    $text - string to process with html <p> tags\r\n            //\r\n\r\n            // Strip leading and trailing lines:\r\n            text = text.replace(/^\\n+/g, \"\");\r\n            text = text.replace(/\\n+$/g, \"\");\r\n\r\n            var grafs = text.split(/\\n{2,}/g);\r\n            var grafsOut = [];\r\n            \r\n            var markerRe = /~K(\\d+)K/;\r\n\r\n            //\r\n            // Wrap <p> tags.\r\n            //\r\n            var end = grafs.length;\r\n            for (var i = 0; i < end; i++) {\r\n                var str = grafs[i];\r\n\r\n                // if this is an HTML marker, copy it\r\n                if (markerRe.test(str)) {\r\n                    grafsOut.push(str);\r\n                }\r\n                else if (/\\S/.test(str)) {\r\n                    str = _RunSpanGamut(str);\r\n                    str = str.replace(/^([ \\t]*)/g, \"<p>\");\r\n                    str += \"</p>\"\r\n                    grafsOut.push(str);\r\n                }\r\n\r\n            }\r\n            //\r\n            // Unhashify HTML blocks\r\n            //\r\n            if (!doNotUnhash) {\r\n                end = grafsOut.length;\r\n                for (var i = 0; i < end; i++) {\r\n                    var foundAny = true;\r\n                    while (foundAny) { // we may need several runs, since the data may be nested\r\n                        foundAny = false;\r\n                        grafsOut[i] = grafsOut[i].replace(/~K(\\d+)K/g, function (wholeMatch, id) {\r\n                            foundAny = true;\r\n                            return g_html_blocks[id];\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            return grafsOut.join(\"\\n\\n\");\r\n        }\r\n\r\n        function _EncodeAmpsAndAngles(text) {\r\n            // Smart processing for ampersands and angle brackets that need to be encoded.\r\n\r\n            // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\r\n            //   http://bumppo.net/projects/amputator/\r\n            text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, \"&amp;\");\r\n\r\n            // Encode naked <'s\r\n            text = text.replace(/<(?![a-z\\/?!]|~D)/gi, \"&lt;\");\r\n\r\n            return text;\r\n        }\r\n\r\n        function _EncodeBackslashEscapes(text) {\r\n            //\r\n            //   Parameter:  String.\r\n            //   Returns:    The string, with after processing the following backslash\r\n            //               escape sequences.\r\n            //\r\n\r\n            // attacklab: The polite way to do this is with the new\r\n            // escapeCharacters() function:\r\n            //\r\n            //     text = escapeCharacters(text,\"\\\\\",true);\r\n            //     text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\r\n            //\r\n            // ...but we're sidestepping its use of the (slow) RegExp constructor\r\n            // as an optimization for Firefox.  This function gets called a LOT.\r\n\r\n            text = text.replace(/\\\\(\\\\)/g, escapeCharacters_callback);\r\n            text = text.replace(/\\\\([`*_{}\\[\\]()>#+-.!])/g, escapeCharacters_callback);\r\n            return text;\r\n        }\r\n        \r\n        function handleTrailingParens(wholeMatch, lookbehind, protocol, link) {\r\n            if (lookbehind)\r\n                return wholeMatch;\r\n            if (link.charAt(link.length - 1) !== \")\")\r\n                return \"<\" + protocol + link + \">\";\r\n            var parens = link.match(/[()]/g);\r\n            var level = 0;\r\n            for (var i = 0; i < parens.length; i++) {\r\n                if (parens[i] === \"(\") {\r\n                    if (level <= 0)\r\n                        level = 1;\r\n                    else\r\n                        level++;\r\n                }\r\n                else {\r\n                    level--;\r\n                }\r\n            }\r\n            var tail = \"\";\r\n            if (level < 0) {\r\n                var re = new RegExp(\"\\\\){1,\" + (-level) + \"}$\");\r\n                link = link.replace(re, function (trailingParens) {\r\n                    tail = trailingParens;\r\n                    return \"\";\r\n                });\r\n            }\r\n            \r\n            return \"<\" + protocol + link + \">\" + tail;\r\n        }\r\n\r\n        function _DoAutoLinks(text) {\r\n\r\n            // note that at this point, all other URL in the text are already hyperlinked as <a href=\"\"></a>\r\n            // *except* for the <http://www.foo.com> case\r\n\r\n            // automatically add < and > around unadorned raw hyperlinks\r\n            // must be preceded by a non-word character (and not by =\" or <) and followed by non-word/EOF character\r\n            // simulating the lookbehind in a consuming way is okay here, since a URL can neither and with a \" nor\r\n            // with a <, so there is no risk of overlapping matches.\r\n            text = text.replace(/(=\"|<)?\\b(https?|ftp)(:\\/\\/[-A-Z0-9+&@#\\/%?=~_|\\[\\]\\(\\)!:,\\.;]*[-A-Z0-9+&@#\\/%=~_|\\[\\])])(?=$|\\W)/gi, handleTrailingParens);\r\n\r\n            //  autolink anything like <http://example.com>\r\n            \r\n            var replacer = function (wholematch, m1) { return \"<a href=\\\"\" + m1 + \"\\\">\" + pluginHooks.plainLinkText(m1) + \"</a>\"; }\r\n            text = text.replace(/<((https?|ftp):[^'\">\\s]+)>/gi, replacer);\r\n\r\n            // Email addresses: <address@domain.foo>\r\n            /*\r\n            text = text.replace(/\r\n                <\r\n                (?:mailto:)?\r\n                (\r\n                    [-.\\w]+\r\n                    \\@\r\n                    [-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+\r\n                )\r\n                >\r\n            /gi, _DoAutoLinks_callback());\r\n            */\r\n\r\n            /* disabling email autolinking, since we don't do that on the server, either\r\n            text = text.replace(/<(?:mailto:)?([-.\\w]+\\@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\r\n                function(wholeMatch,m1) {\r\n                    return _EncodeEmailAddress( _UnescapeSpecialChars(m1) );\r\n                }\r\n            );\r\n            */\r\n            return text;\r\n        }\r\n\r\n        function _UnescapeSpecialChars(text) {\r\n            //\r\n            // Swap back in all the special characters we've hidden.\r\n            //\r\n            text = text.replace(/~E(\\d+)E/g,\r\n                function (wholeMatch, m1) {\r\n                    var charCodeToReplace = parseInt(m1);\r\n                    return String.fromCharCode(charCodeToReplace);\r\n                }\r\n            );\r\n            return text;\r\n        }\r\n\r\n        function _Outdent(text) {\r\n            //\r\n            // Remove one level of line-leading tabs or spaces\r\n            //\r\n\r\n            // attacklab: hack around Konqueror 3.5.4 bug:\r\n            // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\r\n\r\n            text = text.replace(/^(\\t|[ ]{1,4})/gm, \"~0\"); // attacklab: g_tab_width\r\n\r\n            // attacklab: clean up hack\r\n            text = text.replace(/~0/g, \"\")\r\n\r\n            return text;\r\n        }\r\n\r\n        function _Detab(text) {\r\n            if (!/\\t/.test(text))\r\n                return text;\r\n\r\n            var spaces = [\"    \", \"   \", \"  \", \" \"],\r\n            skew = 0,\r\n            v;\r\n\r\n            return text.replace(/[\\n\\t]/g, function (match, offset) {\r\n                if (match === \"\\n\") {\r\n                    skew = offset + 1;\r\n                    return match;\r\n                }\r\n                v = (offset - skew) % 4;\r\n                skew = offset + 1;\r\n                return spaces[v];\r\n            });\r\n        }\r\n\r\n        //\r\n        //  attacklab: Utility functions\r\n        //\r\n\r\n        var _problemUrlChars = /(?:[\"'*()[\\]:]|~D)/g;\r\n\r\n        // hex-encodes some unusual \"problem\" chars in URLs to avoid URL detection problems \r\n        function encodeProblemUrlChars(url) {\r\n            if (!url)\r\n                return \"\";\r\n\r\n            var len = url.length;\r\n\r\n            return url.replace(_problemUrlChars, function (match, offset) {\r\n                if (match == \"~D\") // escape for dollar\r\n                    return \"%24\";\r\n                if (match == \":\") {\r\n                    if (offset == len - 1 || /[0-9\\/]/.test(url.charAt(offset + 1)))\r\n                        return \":\"\r\n                }\r\n                return \"%\" + match.charCodeAt(0).toString(16);\r\n            });\r\n        }\r\n\r\n\r\n        function escapeCharacters(text, charsToEscape, afterBackslash) {\r\n            // First we have to escape the escape characters so that\r\n            // we can build a character class out of them\r\n            var regexString = \"([\" + charsToEscape.replace(/([\\[\\]\\\\])/g, \"\\\\$1\") + \"])\";\r\n\r\n            if (afterBackslash) {\r\n                regexString = \"\\\\\\\\\" + regexString;\r\n            }\r\n\r\n            var regex = new RegExp(regexString, \"g\");\r\n            text = text.replace(regex, escapeCharacters_callback);\r\n\r\n            return text;\r\n        }\r\n\r\n\r\n        function escapeCharacters_callback(wholeMatch, m1) {\r\n            var charCodeToEscape = m1.charCodeAt(0);\r\n            return \"~E\" + charCodeToEscape + \"E\";\r\n        }\r\n\r\n    }; // end of the Markdown.Converter constructor\r\n\r\n})();\r\n","(function () {\n    var output, Converter;\n    if (typeof exports === \"object\" && typeof require === \"function\") { // we're in a CommonJS (e.g. Node.js) module\n        output = exports;\n        Converter = require(\"./Markdown.Converter\").Converter;\n    } else {\n        output = window.Markdown;\n        Converter = output.Converter;\n    }\n        \n    output.getSanitizingConverter = function () {\n        var converter = new Converter();\n        converter.hooks.chain(\"postConversion\", sanitizeHtml);\n        converter.hooks.chain(\"postConversion\", balanceTags);\n        return converter;\n    }\n\n    function sanitizeHtml(html) {\n        return html.replace(/<[^>]*>?/gi, sanitizeTag);\n    }\n\n    // (tags that can be opened/closed) | (tags that stand alone)\n    var basic_tag_whitelist = /^(<\\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\\s?\\/?>)$/i;\n    // <a href=\"url...\" optional title>|</a>\n    var a_white = /^(<a\\shref=\"((https?|ftp):\\/\\/|\\/)[-A-Za-z0-9+&@#\\/%?=~_|!:,.;\\(\\)]+\"(\\stitle=\"[^\"<>]+\")?\\s?>|<\\/a>)$/i;\n\n    // <img src=\"url...\" optional width  optional height  optional alt  optional title\n    var img_white = /^(<img\\ssrc=\"(https?:\\/\\/|\\/)[-A-Za-z0-9+&@#\\/%?=~_|!:,.;\\(\\)]+\"(\\swidth=\"\\d{1,3}\")?(\\sheight=\"\\d{1,3}\")?(\\salt=\"[^\"<>]*\")?(\\stitle=\"[^\"<>]*\")?\\s?\\/?>)$/i;\n\n    function sanitizeTag(tag) {\n        if (tag.match(basic_tag_whitelist) || tag.match(a_white) || tag.match(img_white))\n            return tag;\n        else\n            return \"\";\n    }\n\n    /// <summary>\n    /// attempt to balance HTML tags in the html string\n    /// by removing any unmatched opening or closing tags\n    /// IMPORTANT: we *assume* HTML has *already* been \n    /// sanitized and is safe/sane before balancing!\n    /// \n    /// adapted from CODESNIPPET: A8591DBA-D1D3-11DE-947C-BA5556D89593\n    /// </summary>\n    function balanceTags(html) {\n\n        if (html == \"\")\n            return \"\";\n\n        var re = /<\\/?\\w+[^>]*(\\s|$|>)/g;\n        // convert everything to lower case; this makes\n        // our case insensitive comparisons easier\n        var tags = html.toLowerCase().match(re);\n\n        // no HTML tags present? nothing to do; exit now\n        var tagcount = (tags || []).length;\n        if (tagcount == 0)\n            return html;\n\n        var tagname, tag;\n        var ignoredtags = \"<p><img><br><li><hr>\";\n        var match;\n        var tagpaired = [];\n        var tagremove = [];\n        var needsRemoval = false;\n\n        // loop through matched tags in forward order\n        for (var ctag = 0; ctag < tagcount; ctag++) {\n            tagname = tags[ctag].replace(/<\\/?(\\w+).*/, \"$1\");\n            // skip any already paired tags\n            // and skip tags in our ignore list; assume they're self-closed\n            if (tagpaired[ctag] || ignoredtags.search(\"<\" + tagname + \">\") > -1)\n                continue;\n\n            tag = tags[ctag];\n            match = -1;\n\n            if (!/^<\\//.test(tag)) {\n                // this is an opening tag\n                // search forwards (next tags), look for closing tags\n                for (var ntag = ctag + 1; ntag < tagcount; ntag++) {\n                    if (!tagpaired[ntag] && tags[ntag] == \"</\" + tagname + \">\") {\n                        match = ntag;\n                        break;\n                    }\n                }\n            }\n\n            if (match == -1)\n                needsRemoval = tagremove[ctag] = true; // mark for removal\n            else\n                tagpaired[match] = true; // mark paired\n        }\n\n        if (!needsRemoval)\n            return html;\n\n        // delete all orphaned tags from the string\n\n        var ctag = 0;\n        html = html.replace(re, function (match) {\n            var res = tagremove[ctag] ? \"\" : match;\n            ctag++;\n            return res;\n        });\n        return html;\n    }\n})();\n","exports.Converter = require(\"./Markdown.Converter\").Converter;\nexports.getSanitizingConverter = require(\"./Markdown.Sanitizer\").getSanitizingConverter;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","// Cache implementation based on Erik Rasmussen's `lru-memoize`:\n// https://github.com/erikras/lru-memoize\nvar NOT_FOUND = 'NOT_FOUND';\n\nfunction createSingletonCache(equals) {\n  var entry;\n  return {\n    get: function get(key) {\n      if (entry && equals(entry.key, key)) {\n        return entry.value;\n      }\n\n      return NOT_FOUND;\n    },\n    put: function put(key, value) {\n      entry = {\n        key: key,\n        value: value\n      };\n    },\n    getEntries: function getEntries() {\n      return entry ? [entry] : [];\n    },\n    clear: function clear() {\n      entry = undefined;\n    }\n  };\n}\n\nfunction createLruCache(maxSize, equals) {\n  var entries = [];\n\n  function get(key) {\n    var cacheIndex = entries.findIndex(function (entry) {\n      return equals(key, entry.key);\n    }); // We found a cached entry\n\n    if (cacheIndex > -1) {\n      var entry = entries[cacheIndex]; // Cached entry not at top of cache, move it to the top\n\n      if (cacheIndex > 0) {\n        entries.splice(cacheIndex, 1);\n        entries.unshift(entry);\n      }\n\n      return entry.value;\n    } // No entry found in cache, return sentinel\n\n\n    return NOT_FOUND;\n  }\n\n  function put(key, value) {\n    if (get(key) === NOT_FOUND) {\n      // TODO Is unshift slow?\n      entries.unshift({\n        key: key,\n        value: value\n      });\n\n      if (entries.length > maxSize) {\n        entries.pop();\n      }\n    }\n  }\n\n  function getEntries() {\n    return entries;\n  }\n\n  function clear() {\n    entries = [];\n  }\n\n  return {\n    get: get,\n    put: put,\n    getEntries: getEntries,\n    clear: clear\n  };\n}\n\nexport var defaultEqualityCheck = function defaultEqualityCheck(a, b) {\n  return a === b;\n};\nexport function createCacheKeyComparator(equalityCheck) {\n  return function areArgumentsShallowlyEqual(prev, next) {\n    if (prev === null || next === null || prev.length !== next.length) {\n      return false;\n    } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n    var length = prev.length;\n\n    for (var i = 0; i < length; i++) {\n      if (!equalityCheck(prev[i], next[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n// defaultMemoize now supports a configurable cache size with LRU behavior,\n// and optional comparison of the result value with existing values\nexport function defaultMemoize(func, equalityCheckOrOptions) {\n  var providedOptions = typeof equalityCheckOrOptions === 'object' ? equalityCheckOrOptions : {\n    equalityCheck: equalityCheckOrOptions\n  };\n  var _providedOptions$equa = providedOptions.equalityCheck,\n      equalityCheck = _providedOptions$equa === void 0 ? defaultEqualityCheck : _providedOptions$equa,\n      _providedOptions$maxS = providedOptions.maxSize,\n      maxSize = _providedOptions$maxS === void 0 ? 1 : _providedOptions$maxS,\n      resultEqualityCheck = providedOptions.resultEqualityCheck;\n  var comparator = createCacheKeyComparator(equalityCheck);\n  var cache = maxSize === 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator); // we reference arguments instead of spreading them for performance reasons\n\n  function memoized() {\n    var value = cache.get(arguments);\n\n    if (value === NOT_FOUND) {\n      // @ts-ignore\n      value = func.apply(null, arguments);\n\n      if (resultEqualityCheck) {\n        var entries = cache.getEntries();\n        var matchingEntry = entries.find(function (entry) {\n          return resultEqualityCheck(entry.value, value);\n        });\n\n        if (matchingEntry) {\n          value = matchingEntry.value;\n        }\n      }\n\n      cache.put(arguments, value);\n    }\n\n    return value;\n  }\n\n  memoized.clearCache = function () {\n    return cache.clear();\n  };\n\n  return memoized;\n}","import { defaultMemoize, defaultEqualityCheck } from './defaultMemoize';\nexport { defaultMemoize, defaultEqualityCheck };\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep === 'function' ? \"function \" + (dep.name || 'unnamed') + \"()\" : typeof dep;\n    }).join(', ');\n    throw new Error(\"createSelector expects all input-selectors to be functions, but received the following types: [\" + dependencyTypes + \"]\");\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptionsFromArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptionsFromArgs[_key - 1] = arguments[_key];\n  }\n\n  var createSelector = function createSelector() {\n    for (var _len2 = arguments.length, funcs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var _recomputations = 0;\n\n    var _lastResult; // Due to the intricacies of rest params, we can't do an optional arg after `...funcs`.\n    // So, start by declaring the default value here.\n    // (And yes, the words 'memoize' and 'options' appear too many times in this next sequence.)\n\n\n    var directlyPassedOptions = {\n      memoizeOptions: undefined\n    }; // Normally, the result func or \"output selector\" is the last arg\n\n    var resultFunc = funcs.pop(); // If the result func is actually an _object_, assume it's our options object\n\n    if (typeof resultFunc === 'object') {\n      directlyPassedOptions = resultFunc; // and pop the real result func off\n\n      resultFunc = funcs.pop();\n    }\n\n    if (typeof resultFunc !== 'function') {\n      throw new Error(\"createSelector expects an output function after the inputs, but received: [\" + typeof resultFunc + \"]\");\n    } // Determine which set of options we're using. Prefer options passed directly,\n    // but fall back to options given to createSelectorCreator.\n\n\n    var _directlyPassedOption = directlyPassedOptions,\n        _directlyPassedOption2 = _directlyPassedOption.memoizeOptions,\n        memoizeOptions = _directlyPassedOption2 === void 0 ? memoizeOptionsFromArgs : _directlyPassedOption2; // Simplifying assumption: it's unlikely that the first options arg of the provided memoizer\n    // is an array. In most libs I've looked at, it's an equality function or options object.\n    // Based on that, if `memoizeOptions` _is_ an array, we assume it's a full\n    // user-provided array of options. Otherwise, it must be just the _first_ arg, and so\n    // we wrap it in an array so we can apply it.\n\n    var finalMemoizeOptions = Array.isArray(memoizeOptions) ? memoizeOptions : [memoizeOptions];\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(void 0, [function recomputationWrapper() {\n      _recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(finalMemoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function dependenciesChecker() {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        // @ts-ignore\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      _lastResult = memoizedResultFunc.apply(null, params);\n      return _lastResult;\n    });\n    Object.assign(selector, {\n      resultFunc: resultFunc,\n      memoizedResultFunc: memoizedResultFunc,\n      dependencies: dependencies,\n      lastResult: function lastResult() {\n        return _lastResult;\n      },\n      recomputations: function recomputations() {\n        return _recomputations;\n      },\n      resetRecomputations: function resetRecomputations() {\n        return _recomputations = 0;\n      }\n    });\n    return selector;\n  }; // @ts-ignore\n\n\n  return createSelector;\n}\nexport var createSelector = /* #__PURE__ */createSelectorCreator(defaultMemoize);\n// Manual definition of state and output arguments\nexport var createStructuredSelector = function createStructuredSelector(selectors, selectorCreator) {\n  if (selectorCreator === void 0) {\n    selectorCreator = createSelector;\n  }\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + (\"where each property is a selector, instead received a \" + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  var resultSelector = selectorCreator( // @ts-ignore\n  objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n  return resultSelector;\n};","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const { MAX_LENGTH } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((o, k) => {\n    o[k] = true\n    return o\n  }, {})\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","import { isPlainObject } from 'is-plain-object';\nimport { Text, Range, Node, Element, createEditor as createEditor$1 } from 'slate';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n/**\r\n * A weak map to hold anchor tokens.\r\n */\nvar ANCHOR = new WeakMap();\n/**\r\n * A weak map to hold focus tokens.\r\n */\n\nvar FOCUS = new WeakMap();\n/**\r\n * All tokens inherit from a single constructor for `instanceof` checking.\r\n */\n\nclass Token {}\n/**\r\n * Anchor tokens represent the selection's anchor point.\r\n */\n\nclass AnchorToken extends Token {\n  constructor() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n    var {\n      offset,\n      path\n    } = props;\n    this.offset = offset;\n    this.path = path;\n  }\n\n}\n/**\r\n * Focus tokens represent the selection's focus point.\r\n */\n\nclass FocusToken extends Token {\n  constructor() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n    var {\n      offset,\n      path\n    } = props;\n    this.offset = offset;\n    this.path = path;\n  }\n\n}\n/**\r\n * Add an anchor token to the end of a text node.\r\n */\n\nvar addAnchorToken = (text, token) => {\n  var offset = text.text.length;\n  ANCHOR.set(text, [offset, token]);\n};\n/**\r\n * Get the offset if a text node has an associated anchor token.\r\n */\n\nvar getAnchorOffset = text => {\n  return ANCHOR.get(text);\n};\n/**\r\n * Add a focus token to the end of a text node.\r\n */\n\nvar addFocusToken = (text, token) => {\n  var offset = text.text.length;\n  FOCUS.set(text, [offset, token]);\n};\n/**\r\n * Get the offset if a text node has an associated focus token.\r\n */\n\nvar getFocusOffset = text => {\n  return FOCUS.get(text);\n};\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n/**\r\n * Resolve the descedants of a node by normalizing the children that can be\r\n * passed into a hyperscript creator function.\r\n */\n\nvar STRINGS = new WeakSet();\n\nvar resolveDescendants = children => {\n  var nodes = [];\n\n  var addChild = child => {\n    if (child == null) {\n      return;\n    }\n\n    var prev = nodes[nodes.length - 1];\n\n    if (typeof child === 'string') {\n      var text = {\n        text: child\n      };\n      STRINGS.add(text);\n      child = text;\n    }\n\n    if (Text.isText(child)) {\n      var c = child; // HACK: fix typescript complaining\n\n      if (Text.isText(prev) && STRINGS.has(prev) && STRINGS.has(c) && Text.equals(prev, c, {\n        loose: true\n      })) {\n        prev.text += c.text;\n      } else {\n        nodes.push(c);\n      }\n    } else if (Element.isElement(child)) {\n      nodes.push(child);\n    } else if (child instanceof Token) {\n      var n = nodes[nodes.length - 1];\n\n      if (!Text.isText(n)) {\n        addChild('');\n        n = nodes[nodes.length - 1];\n      }\n\n      if (child instanceof AnchorToken) {\n        addAnchorToken(n, child);\n      } else if (child instanceof FocusToken) {\n        addFocusToken(n, child);\n      }\n    } else {\n      throw new Error(\"Unexpected hyperscript child object: \".concat(child));\n    }\n  };\n\n  for (var child of children.flat(Infinity)) {\n    addChild(child);\n  }\n\n  return nodes;\n};\n/**\r\n * Create an anchor token.\r\n */\n\n\nfunction createAnchor(tagName, attributes, children) {\n  return new AnchorToken(attributes);\n}\n/**\r\n * Create an anchor and a focus token.\r\n */\n\nfunction createCursor(tagName, attributes, children) {\n  return [new AnchorToken(attributes), new FocusToken(attributes)];\n}\n/**\r\n * Create an `Element` object.\r\n */\n\nfunction createElement(tagName, attributes, children) {\n  return _objectSpread$1(_objectSpread$1({}, attributes), {}, {\n    children: resolveDescendants(children)\n  });\n}\n/**\r\n * Create a focus token.\r\n */\n\nfunction createFocus(tagName, attributes, children) {\n  return new FocusToken(attributes);\n}\n/**\r\n * Create a fragment.\r\n */\n\nfunction createFragment(tagName, attributes, children) {\n  return resolveDescendants(children);\n}\n/**\r\n * Create a `Selection` object.\r\n */\n\nfunction createSelection(tagName, attributes, children) {\n  var anchor = children.find(c => c instanceof AnchorToken);\n  var focus = children.find(c => c instanceof FocusToken);\n\n  if (!anchor || anchor.offset == null || anchor.path == null) {\n    throw new Error(\"The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.\");\n  }\n\n  if (!focus || focus.offset == null || focus.path == null) {\n    throw new Error(\"The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.\");\n  }\n\n  return _objectSpread$1({\n    anchor: {\n      offset: anchor.offset,\n      path: anchor.path\n    },\n    focus: {\n      offset: focus.offset,\n      path: focus.path\n    }\n  }, attributes);\n}\n/**\r\n * Create a `Text` object.\r\n */\n\nfunction createText(tagName, attributes, children) {\n  var nodes = resolveDescendants(children);\n\n  if (nodes.length > 1) {\n    throw new Error(\"The <text> hyperscript tag must only contain a single node's worth of children.\");\n  }\n\n  var [node] = nodes;\n\n  if (node == null) {\n    node = {\n      text: ''\n    };\n  }\n\n  if (!Text.isText(node)) {\n    throw new Error(\"\\n    The <text> hyperscript tag can only contain text content as children.\");\n  } // COMPAT: If they used the <text> tag we want to guarantee that it won't be\n  // merge with other string children.\n\n\n  STRINGS.delete(node);\n  Object.assign(node, attributes);\n  return node;\n}\n/**\r\n * Create a top-level `Editor` object.\r\n */\n\nvar createEditor = makeEditor => (tagName, attributes, children) => {\n  var otherChildren = [];\n  var selectionChild;\n\n  for (var child of children) {\n    if (Range.isRange(child)) {\n      selectionChild = child;\n    } else {\n      otherChildren.push(child);\n    }\n  }\n\n  var descendants = resolveDescendants(otherChildren);\n  var selection = {};\n  var editor = makeEditor();\n  Object.assign(editor, attributes);\n  editor.children = descendants; // Search the document's texts to see if any of them have tokens associated\n  // that need incorporated into the selection.\n\n  for (var [node, path] of Node.texts(editor)) {\n    var anchor = getAnchorOffset(node);\n    var focus = getFocusOffset(node);\n\n    if (anchor != null) {\n      var [offset] = anchor;\n      selection.anchor = {\n        path,\n        offset\n      };\n    }\n\n    if (focus != null) {\n      var [_offset] = focus;\n      selection.focus = {\n        path,\n        offset: _offset\n      };\n    }\n  }\n\n  if (selection.anchor && !selection.focus) {\n    throw new Error(\"Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.\");\n  }\n\n  if (!selection.anchor && selection.focus) {\n    throw new Error(\"Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.\");\n  }\n\n  if (selectionChild != null) {\n    editor.selection = selectionChild;\n  } else if (Range.isRange(selection)) {\n    editor.selection = selection;\n  }\n\n  return editor;\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n/**\r\n * The default creators for Slate objects.\r\n */\n\nvar DEFAULT_CREATORS = {\n  anchor: createAnchor,\n  cursor: createCursor,\n  editor: createEditor(createEditor$1),\n  element: createElement,\n  focus: createFocus,\n  fragment: createFragment,\n  selection: createSelection,\n  text: createText\n};\n/**\r\n * Create a Slate hyperscript function with `options`.\r\n */\n\nvar createHyperscript = function createHyperscript() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var {\n    elements = {}\n  } = options;\n  var elementCreators = normalizeElements(elements);\n\n  var creators = _objectSpread(_objectSpread(_objectSpread({}, DEFAULT_CREATORS), elementCreators), options.creators);\n\n  var jsx = createFactory(creators);\n  return jsx;\n};\n/**\r\n * Create a Slate hyperscript function with `options`.\r\n */\n\n\nvar createFactory = creators => {\n  var jsx = function jsx(tagName, attributes) {\n    for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      children[_key - 2] = arguments[_key];\n    }\n\n    var creator = creators[tagName];\n\n    if (!creator) {\n      throw new Error(\"No hyperscript creator found for tag: <\".concat(tagName, \">\"));\n    }\n\n    if (attributes == null) {\n      attributes = {};\n    }\n\n    if (!isPlainObject(attributes)) {\n      children = [attributes].concat(children);\n      attributes = {};\n    }\n\n    children = children.filter(child => Boolean(child)).flat();\n    var ret = creator(tagName, attributes, children);\n    return ret;\n  };\n\n  return jsx;\n};\n/**\r\n * Normalize a dictionary of element shorthands into creator functions.\r\n */\n\n\nvar normalizeElements = elements => {\n  var creators = {};\n\n  var _loop = function _loop(tagName) {\n    var props = elements[tagName];\n\n    if (typeof props !== 'object') {\n      throw new Error(\"Properties specified for a hyperscript shorthand should be an object, but for the custom element <\".concat(tagName, \">  tag you passed: \").concat(props));\n    }\n\n    creators[tagName] = (tagName, attributes, children) => {\n      return createElement('element', _objectSpread(_objectSpread({}, props), attributes), children);\n    };\n  };\n\n  for (var tagName in elements) {\n    _loop(tagName);\n  }\n\n  return creators;\n};\n\n/**\r\n * The default hyperscript factory that ships with Slate, without custom tags.\r\n */\n\nvar jsx = createHyperscript();\n\nexport { createEditor, createHyperscript, createText, jsx };\n//# sourceMappingURL=index.es.js.map\n","function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!n.constructor[L]||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?(n.delete(r),n.add(t)):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)?n:(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0),n)}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function O(n){g(n),n.p.forEach(S),n.p=null}function g(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.O=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.g||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(O(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),O(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o;i(3===e.i?new Set(o):o,(function(r,i){return A(n,e,o,r,i,t)})),x(n,o,!1),t&&n.u&&b(\"Patches\").R(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),r(c)){var v=M(e,c,s&&i&&3!==i.i&&!u(i.D,a)?s.concat(a):void 0);if(f(o,a,v),!r(v))return;e.m=!1}if(t(c)&&!y(c)){if(!e.h.F&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),n.h.F&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function R(n,r,t){var e=s(r)?b(\"MapSet\").N(r,t):v(r)?b(\"MapSet\").T(r,t):n.g?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function D(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=F(r,c),u.I=!1}else e=F(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function F(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function N(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return\"production\"!==process.env.NODE_ENV&&f(r),en.get(r,n)},set:function(r){var t=this[Q];\"production\"!==process.env.NODE_ENV&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.O&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.D,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=\"\"+i[s];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},R:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.D,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.D,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.D=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=R(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.O&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,D:void 0,t:n,k:this,C:!1,O:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.D.set(n,!0),t.o.set(n,r),t.D.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.D.set(n,!1):r.D.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.D=new Map,i(n.t,(function(r){n.D.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=R(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,O:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{N:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){N(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=R(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.D[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&\"number\"!=typeof t&&(void 0!==t||r in n.o)||(n.o[r]=t,n.D[r]=!0,!0)},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.D[r]=!1,E(n),k(n)):delete n.D[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.g=B,this.F=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=R(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?O(c):g(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw O(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.F&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=D(e));var i=w(this),o=R(this,e,void 0);return o[Q].C=!0,g(i),o},i.finishDraft=function(r,t){var e=r&&r[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.F=n},i.setUseProxies=function(r){r&&!B&&n(20),this.g=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,D as current,J as enableAllPlugins,N as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,r as isDraft,t as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","import { isPlainObject } from 'is-plain-object';\nimport { produce, createDraft, finishDraft, isDraft } from 'immer';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DIRTY_PATHS = new WeakMap();\nvar DIRTY_PATH_KEYS = new WeakMap();\nvar FLUSHING = new WeakMap();\nvar NORMALIZING = new WeakMap();\nvar PATH_REFS = new WeakMap();\nvar POINT_REFS = new WeakMap();\nvar RANGE_REFS = new WeakMap();\n\nfunction ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$9(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n/**\r\n * Create a new Slate `Editor` object.\r\n */\n\nvar createEditor = () => {\n  var editor = {\n    children: [],\n    operations: [],\n    selection: null,\n    marks: null,\n    isInline: () => false,\n    isVoid: () => false,\n    onChange: () => {},\n    apply: op => {\n      for (var ref of Editor.pathRefs(editor)) {\n        PathRef.transform(ref, op);\n      }\n\n      for (var _ref of Editor.pointRefs(editor)) {\n        PointRef.transform(_ref, op);\n      }\n\n      for (var _ref2 of Editor.rangeRefs(editor)) {\n        RangeRef.transform(_ref2, op);\n      }\n\n      var oldDirtyPaths = DIRTY_PATHS.get(editor) || [];\n      var oldDirtyPathKeys = DIRTY_PATH_KEYS.get(editor) || new Set();\n      var dirtyPaths;\n      var dirtyPathKeys;\n\n      var add = path => {\n        if (path) {\n          var key = path.join(',');\n\n          if (!dirtyPathKeys.has(key)) {\n            dirtyPathKeys.add(key);\n            dirtyPaths.push(path);\n          }\n        }\n      };\n\n      if (Path.operationCanTransformPath(op)) {\n        dirtyPaths = [];\n        dirtyPathKeys = new Set();\n\n        for (var path of oldDirtyPaths) {\n          var newPath = Path.transform(path, op);\n          add(newPath);\n        }\n      } else {\n        dirtyPaths = oldDirtyPaths;\n        dirtyPathKeys = oldDirtyPathKeys;\n      }\n\n      var newDirtyPaths = getDirtyPaths(op);\n\n      for (var _path of newDirtyPaths) {\n        add(_path);\n      }\n\n      DIRTY_PATHS.set(editor, dirtyPaths);\n      DIRTY_PATH_KEYS.set(editor, dirtyPathKeys);\n      Transforms.transform(editor, op);\n      editor.operations.push(op);\n      Editor.normalize(editor); // Clear any formats applied to the cursor if the selection changes.\n\n      if (op.type === 'set_selection') {\n        editor.marks = null;\n      }\n\n      if (!FLUSHING.get(editor)) {\n        FLUSHING.set(editor, true);\n        Promise.resolve().then(() => {\n          FLUSHING.set(editor, false);\n          editor.onChange();\n          editor.operations = [];\n        });\n      }\n    },\n    addMark: (key, value) => {\n      var {\n        selection\n      } = editor;\n\n      if (selection) {\n        if (Range.isExpanded(selection)) {\n          Transforms.setNodes(editor, {\n            [key]: value\n          }, {\n            match: Text.isText,\n            split: true\n          });\n        } else {\n          var marks = _objectSpread$9(_objectSpread$9({}, Editor.marks(editor) || {}), {}, {\n            [key]: value\n          });\n\n          editor.marks = marks;\n\n          if (!FLUSHING.get(editor)) {\n            editor.onChange();\n          }\n        }\n      }\n    },\n    deleteBackward: unit => {\n      var {\n        selection\n      } = editor;\n\n      if (selection && Range.isCollapsed(selection)) {\n        Transforms.delete(editor, {\n          unit,\n          reverse: true\n        });\n      }\n    },\n    deleteForward: unit => {\n      var {\n        selection\n      } = editor;\n\n      if (selection && Range.isCollapsed(selection)) {\n        Transforms.delete(editor, {\n          unit\n        });\n      }\n    },\n    deleteFragment: direction => {\n      var {\n        selection\n      } = editor;\n\n      if (selection && Range.isExpanded(selection)) {\n        Transforms.delete(editor, {\n          reverse: direction === 'backward'\n        });\n      }\n    },\n    getFragment: () => {\n      var {\n        selection\n      } = editor;\n\n      if (selection) {\n        return Node.fragment(editor, selection);\n      }\n\n      return [];\n    },\n    insertBreak: () => {\n      Transforms.splitNodes(editor, {\n        always: true\n      });\n    },\n    insertSoftBreak: () => {\n      Transforms.splitNodes(editor, {\n        always: true\n      });\n    },\n    insertFragment: fragment => {\n      Transforms.insertFragment(editor, fragment);\n    },\n    insertNode: node => {\n      Transforms.insertNodes(editor, node);\n    },\n    insertText: text => {\n      var {\n        selection,\n        marks\n      } = editor;\n\n      if (selection) {\n        if (marks) {\n          var node = _objectSpread$9({\n            text\n          }, marks);\n\n          Transforms.insertNodes(editor, node);\n        } else {\n          Transforms.insertText(editor, text);\n        }\n\n        editor.marks = null;\n      }\n    },\n    normalizeNode: entry => {\n      var [node, path] = entry; // There are no core normalizations for text nodes.\n\n      if (Text.isText(node)) {\n        return;\n      } // Ensure that block and inline nodes have at least one text child.\n\n\n      if (Element.isElement(node) && node.children.length === 0) {\n        var child = {\n          text: ''\n        };\n        Transforms.insertNodes(editor, child, {\n          at: path.concat(0),\n          voids: true\n        });\n        return;\n      } // Determine whether the node should have block or inline children.\n\n\n      var shouldHaveInlines = Editor.isEditor(node) ? false : Element.isElement(node) && (editor.isInline(node) || node.children.length === 0 || Text.isText(node.children[0]) || editor.isInline(node.children[0])); // Since we'll be applying operations while iterating, keep track of an\n      // index that accounts for any added/removed nodes.\n\n      var n = 0;\n\n      for (var i = 0; i < node.children.length; i++, n++) {\n        var currentNode = Node.get(editor, path);\n        if (Text.isText(currentNode)) continue;\n        var _child = node.children[i];\n        var prev = currentNode.children[n - 1];\n        var isLast = i === node.children.length - 1;\n        var isInlineOrText = Text.isText(_child) || Element.isElement(_child) && editor.isInline(_child); // Only allow block nodes in the top-level children and parent blocks\n        // that only contain block nodes. Similarly, only allow inline nodes in\n        // other inline nodes, or parent blocks that only contain inlines and\n        // text.\n\n        if (isInlineOrText !== shouldHaveInlines) {\n          Transforms.removeNodes(editor, {\n            at: path.concat(n),\n            voids: true\n          });\n          n--;\n        } else if (Element.isElement(_child)) {\n          // Ensure that inline nodes are surrounded by text nodes.\n          if (editor.isInline(_child)) {\n            if (prev == null || !Text.isText(prev)) {\n              var newChild = {\n                text: ''\n              };\n              Transforms.insertNodes(editor, newChild, {\n                at: path.concat(n),\n                voids: true\n              });\n              n++;\n            } else if (isLast) {\n              var _newChild = {\n                text: ''\n              };\n              Transforms.insertNodes(editor, _newChild, {\n                at: path.concat(n + 1),\n                voids: true\n              });\n              n++;\n            }\n          }\n        } else {\n          // Merge adjacent text nodes that are empty or match.\n          if (prev != null && Text.isText(prev)) {\n            if (Text.equals(_child, prev, {\n              loose: true\n            })) {\n              Transforms.mergeNodes(editor, {\n                at: path.concat(n),\n                voids: true\n              });\n              n--;\n            } else if (prev.text === '') {\n              Transforms.removeNodes(editor, {\n                at: path.concat(n - 1),\n                voids: true\n              });\n              n--;\n            } else if (_child.text === '') {\n              Transforms.removeNodes(editor, {\n                at: path.concat(n),\n                voids: true\n              });\n              n--;\n            }\n          }\n        }\n      }\n    },\n    removeMark: key => {\n      var {\n        selection\n      } = editor;\n\n      if (selection) {\n        if (Range.isExpanded(selection)) {\n          Transforms.unsetNodes(editor, key, {\n            match: Text.isText,\n            split: true\n          });\n        } else {\n          var marks = _objectSpread$9({}, Editor.marks(editor) || {});\n\n          delete marks[key];\n          editor.marks = marks;\n\n          if (!FLUSHING.get(editor)) {\n            editor.onChange();\n          }\n        }\n      }\n    }\n  };\n  return editor;\n};\n/**\r\n * Get the \"dirty\" paths generated from an operation.\r\n */\n\nvar getDirtyPaths = op => {\n  switch (op.type) {\n    case 'insert_text':\n    case 'remove_text':\n    case 'set_node':\n      {\n        var {\n          path\n        } = op;\n        return Path.levels(path);\n      }\n\n    case 'insert_node':\n      {\n        var {\n          node,\n          path: _path2\n        } = op;\n        var levels = Path.levels(_path2);\n        var descendants = Text.isText(node) ? [] : Array.from(Node.nodes(node), _ref3 => {\n          var [, p] = _ref3;\n          return _path2.concat(p);\n        });\n        return [...levels, ...descendants];\n      }\n\n    case 'merge_node':\n      {\n        var {\n          path: _path3\n        } = op;\n        var ancestors = Path.ancestors(_path3);\n        var previousPath = Path.previous(_path3);\n        return [...ancestors, previousPath];\n      }\n\n    case 'move_node':\n      {\n        var {\n          path: _path4,\n          newPath\n        } = op;\n\n        if (Path.equals(_path4, newPath)) {\n          return [];\n        }\n\n        var oldAncestors = [];\n        var newAncestors = [];\n\n        for (var ancestor of Path.ancestors(_path4)) {\n          var p = Path.transform(ancestor, op);\n          oldAncestors.push(p);\n        }\n\n        for (var _ancestor of Path.ancestors(newPath)) {\n          var _p = Path.transform(_ancestor, op);\n\n          newAncestors.push(_p);\n        }\n\n        var newParent = newAncestors[newAncestors.length - 1];\n        var newIndex = newPath[newPath.length - 1];\n        var resultPath = newParent.concat(newIndex);\n        return [...oldAncestors, ...newAncestors, resultPath];\n      }\n\n    case 'remove_node':\n      {\n        var {\n          path: _path5\n        } = op;\n\n        var _ancestors = Path.ancestors(_path5);\n\n        return [..._ancestors];\n      }\n\n    case 'split_node':\n      {\n        var {\n          path: _path6\n        } = op;\n\n        var _levels = Path.levels(_path6);\n\n        var nextPath = Path.next(_path6);\n        return [..._levels, nextPath];\n      }\n\n    default:\n      {\n        return [];\n      }\n  }\n};\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n// Character (grapheme cluster) boundaries are determined according to\n// the default grapheme cluster boundary specification, extended grapheme clusters variant[1].\n//\n// References:\n//\n// [1] https://www.unicode.org/reports/tr29/#Default_Grapheme_Cluster_Table\n// [2] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakProperty.txt\n// [3] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.html\n// [4] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.txt\n\n/**\r\n * Get the distance to the end of the first character in a string of text.\r\n */\nvar getCharacterDistance = function getCharacterDistance(str) {\n  var isRTL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var isLTR = !isRTL;\n  var codepoints = isRTL ? codepointsIteratorRTL(str) : str;\n  var left = CodepointType.None;\n  var right = CodepointType.None;\n  var distance = 0; // Evaluation of these conditions are deferred.\n\n  var gb11 = null; // Is GB11 applicable?\n\n  var gb12Or13 = null; // Is GB12 or GB13 applicable?\n\n  for (var char of codepoints) {\n    var code = char.codePointAt(0);\n    if (!code) break;\n    var type = getCodepointType(char, code);\n    [left, right] = isLTR ? [right, type] : [type, left];\n\n    if (intersects(left, CodepointType.ZWJ) && intersects(right, CodepointType.ExtPict)) {\n      if (isLTR) {\n        gb11 = endsWithEmojiZWJ(str.substring(0, distance));\n      } else {\n        gb11 = endsWithEmojiZWJ(str.substring(0, str.length - distance));\n      }\n\n      if (!gb11) break;\n    }\n\n    if (intersects(left, CodepointType.RI) && intersects(right, CodepointType.RI)) {\n      if (gb12Or13 !== null) {\n        gb12Or13 = !gb12Or13;\n      } else {\n        if (isLTR) {\n          gb12Or13 = true;\n        } else {\n          gb12Or13 = endsWithOddNumberOfRIs(str.substring(0, str.length - distance));\n        }\n      }\n\n      if (!gb12Or13) break;\n    }\n\n    if (left !== CodepointType.None && right !== CodepointType.None && isBoundaryPair(left, right)) {\n      break;\n    }\n\n    distance += char.length;\n  }\n\n  return distance || 1;\n};\nvar SPACE = /\\s/;\nvar PUNCTUATION = /[\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/;\nvar CHAMELEON = /['\\u2018\\u2019]/;\n/**\r\n * Get the distance to the end of the first word in a string of text.\r\n */\n\nvar getWordDistance = function getWordDistance(text) {\n  var isRTL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var dist = 0;\n  var started = false;\n\n  while (text.length > 0) {\n    var charDist = getCharacterDistance(text, isRTL);\n    var [char, remaining] = splitByCharacterDistance(text, charDist, isRTL);\n\n    if (isWordCharacter(char, remaining, isRTL)) {\n      started = true;\n      dist += charDist;\n    } else if (!started) {\n      dist += charDist;\n    } else {\n      break;\n    }\n\n    text = remaining;\n  }\n\n  return dist;\n};\n/**\r\n * Split a string in two parts at a given distance starting from the end when\r\n * `isRTL` is set to `true`.\r\n */\n\nvar splitByCharacterDistance = (str, dist, isRTL) => {\n  if (isRTL) {\n    var at = str.length - dist;\n    return [str.slice(at, str.length), str.slice(0, at)];\n  }\n\n  return [str.slice(0, dist), str.slice(dist)];\n};\n/**\r\n * Check if a character is a word character. The `remaining` argument is used\r\n * because sometimes you must read subsequent characters to truly determine it.\r\n */\n\nvar isWordCharacter = function isWordCharacter(char, remaining) {\n  var isRTL = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (SPACE.test(char)) {\n    return false;\n  } // Chameleons count as word characters as long as they're in a word, so\n  // recurse to see if the next one is a word character or not.\n\n\n  if (CHAMELEON.test(char)) {\n    var charDist = getCharacterDistance(remaining, isRTL);\n    var [nextChar, nextRemaining] = splitByCharacterDistance(remaining, charDist, isRTL);\n\n    if (isWordCharacter(nextChar, nextRemaining, isRTL)) {\n      return true;\n    }\n  }\n\n  if (PUNCTUATION.test(char)) {\n    return false;\n  }\n\n  return true;\n};\n/**\r\n * Iterate on codepoints from right to left.\r\n */\n\n\nvar codepointsIteratorRTL = function* codepointsIteratorRTL(str) {\n  var end = str.length - 1;\n\n  for (var i = 0; i < str.length; i++) {\n    var char1 = str.charAt(end - i);\n\n    if (isLowSurrogate(char1.charCodeAt(0))) {\n      var char2 = str.charAt(end - i - 1);\n\n      if (isHighSurrogate(char2.charCodeAt(0))) {\n        yield char2 + char1;\n        i++;\n        continue;\n      }\n    }\n\n    yield char1;\n  }\n};\n/**\r\n * Is `charCode` a high surrogate.\r\n *\r\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\r\n */\n\nvar isHighSurrogate = charCode => {\n  return charCode >= 0xd800 && charCode <= 0xdbff;\n};\n/**\r\n * Is `charCode` a low surrogate.\r\n *\r\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\r\n */\n\n\nvar isLowSurrogate = charCode => {\n  return charCode >= 0xdc00 && charCode <= 0xdfff;\n};\n\nvar CodepointType;\n\n(function (CodepointType) {\n  CodepointType[CodepointType[\"None\"] = 0] = \"None\";\n  CodepointType[CodepointType[\"Extend\"] = 1] = \"Extend\";\n  CodepointType[CodepointType[\"ZWJ\"] = 2] = \"ZWJ\";\n  CodepointType[CodepointType[\"RI\"] = 4] = \"RI\";\n  CodepointType[CodepointType[\"Prepend\"] = 8] = \"Prepend\";\n  CodepointType[CodepointType[\"SpacingMark\"] = 16] = \"SpacingMark\";\n  CodepointType[CodepointType[\"L\"] = 32] = \"L\";\n  CodepointType[CodepointType[\"V\"] = 64] = \"V\";\n  CodepointType[CodepointType[\"T\"] = 128] = \"T\";\n  CodepointType[CodepointType[\"LV\"] = 256] = \"LV\";\n  CodepointType[CodepointType[\"LVT\"] = 512] = \"LVT\";\n  CodepointType[CodepointType[\"ExtPict\"] = 1024] = \"ExtPict\";\n  CodepointType[CodepointType[\"Any\"] = 2048] = \"Any\";\n})(CodepointType || (CodepointType = {}));\n\nvar reExtend = /^(?:[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962\\u0963\\u0981\\u09BC\\u09BE\\u09C1-\\u09C4\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01\\u0B3C\\u0B3E\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B55-\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE\\u0BC0\\u0BCD\\u0BD7\\u0C00\\u0C04\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC2\\u0CC6\\u0CCC\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00\\u0D01\\u0D3B\\u0D3C\\u0D3E\\u0D41-\\u0D44\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D81\\u0DCA\\u0DCF\\u0DD2-\\u0DD4\\u0DD6\\u0DDF\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1AC0\\u1B00-\\u1B03\\u1B34-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u200C\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA82C\\uA8C4\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9BD\\uA9E5\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEC\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFF9E\\uFF9F]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC01\\uDC38-\\uDC46\\uDC7F-\\uDC81\\uDCB3-\\uDCB6\\uDCB9\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD2B\\uDD2D-\\uDD34\\uDD73\\uDD80\\uDD81\\uDDB6-\\uDDBE\\uDDC9-\\uDDCC\\uDDCF\\uDE2F-\\uDE31\\uDE34\\uDE36\\uDE37\\uDE3E\\uDEDF\\uDEE3-\\uDEEA\\uDF00\\uDF01\\uDF3B\\uDF3C\\uDF3E\\uDF40\\uDF57\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC38-\\uDC3F\\uDC42-\\uDC44\\uDC46\\uDC5E\\uDCB0\\uDCB3-\\uDCB8\\uDCBA\\uDCBD\\uDCBF\\uDCC0\\uDCC2\\uDCC3\\uDDAF\\uDDB2-\\uDDB5\\uDDBC\\uDDBD\\uDDBF\\uDDC0\\uDDDC\\uDDDD\\uDE33-\\uDE3A\\uDE3D\\uDE3F\\uDE40\\uDEAB\\uDEAD\\uDEB0-\\uDEB5\\uDEB7\\uDF1D-\\uDF1F\\uDF22-\\uDF25\\uDF27-\\uDF2B]|\\uD806[\\uDC2F-\\uDC37\\uDC39\\uDC3A\\uDD30\\uDD3B\\uDD3C\\uDD3E\\uDD43\\uDDD4-\\uDDD7\\uDDDA\\uDDDB\\uDDE0\\uDE01-\\uDE0A\\uDE33-\\uDE38\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE56\\uDE59-\\uDE5B\\uDE8A-\\uDE96\\uDE98\\uDE99]|\\uD807[\\uDC30-\\uDC36\\uDC38-\\uDC3D\\uDC3F\\uDC92-\\uDCA7\\uDCAA-\\uDCB0\\uDCB2\\uDCB3\\uDCB5\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD90\\uDD91\\uDD95\\uDD97\\uDEF3\\uDEF4]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF8F-\\uDF92\\uDFE4]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65\\uDD67-\\uDD69\\uDD6E-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uD83C[\\uDFFB-\\uDFFF]|\\uDB40[\\uDC20-\\uDC7F\\uDD00-\\uDDEF])$/;\nvar rePrepend = /^(?:[\\u0600-\\u0605\\u06DD\\u070F\\u0890\\u0891\\u08E2\\u0D4E]|\\uD804[\\uDCBD\\uDCCD\\uDDC2\\uDDC3]|\\uD806[\\uDD3F\\uDD41\\uDE3A\\uDE84-\\uDE89]|\\uD807\\uDD46)$/;\nvar reSpacingMark = /^(?:[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u094F\\u0982\\u0983\\u09BF\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0\\u0CC1\\u0CC3\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0D02\\u0D03\\u0D3F\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D82\\u0D83\\u0DD0\\u0DD1\\u0DD8-\\u0DDE\\u0DF2\\u0DF3\\u0E33\\u0EB3\\u0F3E\\u0F3F\\u0F7F\\u1031\\u103B\\u103C\\u1056\\u1057\\u1084\\u1715\\u1734\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u1A19\\u1A1A\\u1A55\\u1A57\\u1A6D-\\u1A72\\u1B04\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2\\u1BF3\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF7\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BE-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAAEB\\uAAEE\\uAAEF\\uAAF5\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]|\\uD804[\\uDC00\\uDC02\\uDC82\\uDCB0-\\uDCB2\\uDCB7\\uDCB8\\uDD2C\\uDD45\\uDD46\\uDD82\\uDDB3-\\uDDB5\\uDDBF\\uDDC0\\uDDCE\\uDE2C-\\uDE2E\\uDE32\\uDE33\\uDE35\\uDEE0-\\uDEE2\\uDF02\\uDF03\\uDF3F\\uDF41-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF62\\uDF63]|\\uD805[\\uDC35-\\uDC37\\uDC40\\uDC41\\uDC45\\uDCB1\\uDCB2\\uDCB9\\uDCBB\\uDCBC\\uDCBE\\uDCC1\\uDDB0\\uDDB1\\uDDB8-\\uDDBB\\uDDBE\\uDE30-\\uDE32\\uDE3B\\uDE3C\\uDE3E\\uDEAC\\uDEAE\\uDEAF\\uDEB6\\uDF26]|\\uD806[\\uDC2C-\\uDC2E\\uDC38\\uDD31-\\uDD35\\uDD37\\uDD38\\uDD3D\\uDD40\\uDD42\\uDDD1-\\uDDD3\\uDDDC-\\uDDDF\\uDDE4\\uDE39\\uDE57\\uDE58\\uDE97]|\\uD807[\\uDC2F\\uDC3E\\uDCA9\\uDCB1\\uDCB4\\uDD8A-\\uDD8E\\uDD93\\uDD94\\uDD96\\uDEF5\\uDEF6]|\\uD81B[\\uDF51-\\uDF87\\uDFF0\\uDFF1]|\\uD834[\\uDD66\\uDD6D])$/;\nvar reL = /^[\\u1100-\\u115F\\uA960-\\uA97C]$/;\nvar reV = /^[\\u1160-\\u11A7\\uD7B0-\\uD7C6]$/;\nvar reT = /^[\\u11A8-\\u11FF\\uD7CB-\\uD7FB]$/;\nvar reLV = /^[\\uAC00\\uAC1C\\uAC38\\uAC54\\uAC70\\uAC8C\\uACA8\\uACC4\\uACE0\\uACFC\\uAD18\\uAD34\\uAD50\\uAD6C\\uAD88\\uADA4\\uADC0\\uADDC\\uADF8\\uAE14\\uAE30\\uAE4C\\uAE68\\uAE84\\uAEA0\\uAEBC\\uAED8\\uAEF4\\uAF10\\uAF2C\\uAF48\\uAF64\\uAF80\\uAF9C\\uAFB8\\uAFD4\\uAFF0\\uB00C\\uB028\\uB044\\uB060\\uB07C\\uB098\\uB0B4\\uB0D0\\uB0EC\\uB108\\uB124\\uB140\\uB15C\\uB178\\uB194\\uB1B0\\uB1CC\\uB1E8\\uB204\\uB220\\uB23C\\uB258\\uB274\\uB290\\uB2AC\\uB2C8\\uB2E4\\uB300\\uB31C\\uB338\\uB354\\uB370\\uB38C\\uB3A8\\uB3C4\\uB3E0\\uB3FC\\uB418\\uB434\\uB450\\uB46C\\uB488\\uB4A4\\uB4C0\\uB4DC\\uB4F8\\uB514\\uB530\\uB54C\\uB568\\uB584\\uB5A0\\uB5BC\\uB5D8\\uB5F4\\uB610\\uB62C\\uB648\\uB664\\uB680\\uB69C\\uB6B8\\uB6D4\\uB6F0\\uB70C\\uB728\\uB744\\uB760\\uB77C\\uB798\\uB7B4\\uB7D0\\uB7EC\\uB808\\uB824\\uB840\\uB85C\\uB878\\uB894\\uB8B0\\uB8CC\\uB8E8\\uB904\\uB920\\uB93C\\uB958\\uB974\\uB990\\uB9AC\\uB9C8\\uB9E4\\uBA00\\uBA1C\\uBA38\\uBA54\\uBA70\\uBA8C\\uBAA8\\uBAC4\\uBAE0\\uBAFC\\uBB18\\uBB34\\uBB50\\uBB6C\\uBB88\\uBBA4\\uBBC0\\uBBDC\\uBBF8\\uBC14\\uBC30\\uBC4C\\uBC68\\uBC84\\uBCA0\\uBCBC\\uBCD8\\uBCF4\\uBD10\\uBD2C\\uBD48\\uBD64\\uBD80\\uBD9C\\uBDB8\\uBDD4\\uBDF0\\uBE0C\\uBE28\\uBE44\\uBE60\\uBE7C\\uBE98\\uBEB4\\uBED0\\uBEEC\\uBF08\\uBF24\\uBF40\\uBF5C\\uBF78\\uBF94\\uBFB0\\uBFCC\\uBFE8\\uC004\\uC020\\uC03C\\uC058\\uC074\\uC090\\uC0AC\\uC0C8\\uC0E4\\uC100\\uC11C\\uC138\\uC154\\uC170\\uC18C\\uC1A8\\uC1C4\\uC1E0\\uC1FC\\uC218\\uC234\\uC250\\uC26C\\uC288\\uC2A4\\uC2C0\\uC2DC\\uC2F8\\uC314\\uC330\\uC34C\\uC368\\uC384\\uC3A0\\uC3BC\\uC3D8\\uC3F4\\uC410\\uC42C\\uC448\\uC464\\uC480\\uC49C\\uC4B8\\uC4D4\\uC4F0\\uC50C\\uC528\\uC544\\uC560\\uC57C\\uC598\\uC5B4\\uC5D0\\uC5EC\\uC608\\uC624\\uC640\\uC65C\\uC678\\uC694\\uC6B0\\uC6CC\\uC6E8\\uC704\\uC720\\uC73C\\uC758\\uC774\\uC790\\uC7AC\\uC7C8\\uC7E4\\uC800\\uC81C\\uC838\\uC854\\uC870\\uC88C\\uC8A8\\uC8C4\\uC8E0\\uC8FC\\uC918\\uC934\\uC950\\uC96C\\uC988\\uC9A4\\uC9C0\\uC9DC\\uC9F8\\uCA14\\uCA30\\uCA4C\\uCA68\\uCA84\\uCAA0\\uCABC\\uCAD8\\uCAF4\\uCB10\\uCB2C\\uCB48\\uCB64\\uCB80\\uCB9C\\uCBB8\\uCBD4\\uCBF0\\uCC0C\\uCC28\\uCC44\\uCC60\\uCC7C\\uCC98\\uCCB4\\uCCD0\\uCCEC\\uCD08\\uCD24\\uCD40\\uCD5C\\uCD78\\uCD94\\uCDB0\\uCDCC\\uCDE8\\uCE04\\uCE20\\uCE3C\\uCE58\\uCE74\\uCE90\\uCEAC\\uCEC8\\uCEE4\\uCF00\\uCF1C\\uCF38\\uCF54\\uCF70\\uCF8C\\uCFA8\\uCFC4\\uCFE0\\uCFFC\\uD018\\uD034\\uD050\\uD06C\\uD088\\uD0A4\\uD0C0\\uD0DC\\uD0F8\\uD114\\uD130\\uD14C\\uD168\\uD184\\uD1A0\\uD1BC\\uD1D8\\uD1F4\\uD210\\uD22C\\uD248\\uD264\\uD280\\uD29C\\uD2B8\\uD2D4\\uD2F0\\uD30C\\uD328\\uD344\\uD360\\uD37C\\uD398\\uD3B4\\uD3D0\\uD3EC\\uD408\\uD424\\uD440\\uD45C\\uD478\\uD494\\uD4B0\\uD4CC\\uD4E8\\uD504\\uD520\\uD53C\\uD558\\uD574\\uD590\\uD5AC\\uD5C8\\uD5E4\\uD600\\uD61C\\uD638\\uD654\\uD670\\uD68C\\uD6A8\\uD6C4\\uD6E0\\uD6FC\\uD718\\uD734\\uD750\\uD76C\\uD788]$/;\nvar reLVT = /^[\\uAC01-\\uAC1B\\uAC1D-\\uAC37\\uAC39-\\uAC53\\uAC55-\\uAC6F\\uAC71-\\uAC8B\\uAC8D-\\uACA7\\uACA9-\\uACC3\\uACC5-\\uACDF\\uACE1-\\uACFB\\uACFD-\\uAD17\\uAD19-\\uAD33\\uAD35-\\uAD4F\\uAD51-\\uAD6B\\uAD6D-\\uAD87\\uAD89-\\uADA3\\uADA5-\\uADBF\\uADC1-\\uADDB\\uADDD-\\uADF7\\uADF9-\\uAE13\\uAE15-\\uAE2F\\uAE31-\\uAE4B\\uAE4D-\\uAE67\\uAE69-\\uAE83\\uAE85-\\uAE9F\\uAEA1-\\uAEBB\\uAEBD-\\uAED7\\uAED9-\\uAEF3\\uAEF5-\\uAF0F\\uAF11-\\uAF2B\\uAF2D-\\uAF47\\uAF49-\\uAF63\\uAF65-\\uAF7F\\uAF81-\\uAF9B\\uAF9D-\\uAFB7\\uAFB9-\\uAFD3\\uAFD5-\\uAFEF\\uAFF1-\\uB00B\\uB00D-\\uB027\\uB029-\\uB043\\uB045-\\uB05F\\uB061-\\uB07B\\uB07D-\\uB097\\uB099-\\uB0B3\\uB0B5-\\uB0CF\\uB0D1-\\uB0EB\\uB0ED-\\uB107\\uB109-\\uB123\\uB125-\\uB13F\\uB141-\\uB15B\\uB15D-\\uB177\\uB179-\\uB193\\uB195-\\uB1AF\\uB1B1-\\uB1CB\\uB1CD-\\uB1E7\\uB1E9-\\uB203\\uB205-\\uB21F\\uB221-\\uB23B\\uB23D-\\uB257\\uB259-\\uB273\\uB275-\\uB28F\\uB291-\\uB2AB\\uB2AD-\\uB2C7\\uB2C9-\\uB2E3\\uB2E5-\\uB2FF\\uB301-\\uB31B\\uB31D-\\uB337\\uB339-\\uB353\\uB355-\\uB36F\\uB371-\\uB38B\\uB38D-\\uB3A7\\uB3A9-\\uB3C3\\uB3C5-\\uB3DF\\uB3E1-\\uB3FB\\uB3FD-\\uB417\\uB419-\\uB433\\uB435-\\uB44F\\uB451-\\uB46B\\uB46D-\\uB487\\uB489-\\uB4A3\\uB4A5-\\uB4BF\\uB4C1-\\uB4DB\\uB4DD-\\uB4F7\\uB4F9-\\uB513\\uB515-\\uB52F\\uB531-\\uB54B\\uB54D-\\uB567\\uB569-\\uB583\\uB585-\\uB59F\\uB5A1-\\uB5BB\\uB5BD-\\uB5D7\\uB5D9-\\uB5F3\\uB5F5-\\uB60F\\uB611-\\uB62B\\uB62D-\\uB647\\uB649-\\uB663\\uB665-\\uB67F\\uB681-\\uB69B\\uB69D-\\uB6B7\\uB6B9-\\uB6D3\\uB6D5-\\uB6EF\\uB6F1-\\uB70B\\uB70D-\\uB727\\uB729-\\uB743\\uB745-\\uB75F\\uB761-\\uB77B\\uB77D-\\uB797\\uB799-\\uB7B3\\uB7B5-\\uB7CF\\uB7D1-\\uB7EB\\uB7ED-\\uB807\\uB809-\\uB823\\uB825-\\uB83F\\uB841-\\uB85B\\uB85D-\\uB877\\uB879-\\uB893\\uB895-\\uB8AF\\uB8B1-\\uB8CB\\uB8CD-\\uB8E7\\uB8E9-\\uB903\\uB905-\\uB91F\\uB921-\\uB93B\\uB93D-\\uB957\\uB959-\\uB973\\uB975-\\uB98F\\uB991-\\uB9AB\\uB9AD-\\uB9C7\\uB9C9-\\uB9E3\\uB9E5-\\uB9FF\\uBA01-\\uBA1B\\uBA1D-\\uBA37\\uBA39-\\uBA53\\uBA55-\\uBA6F\\uBA71-\\uBA8B\\uBA8D-\\uBAA7\\uBAA9-\\uBAC3\\uBAC5-\\uBADF\\uBAE1-\\uBAFB\\uBAFD-\\uBB17\\uBB19-\\uBB33\\uBB35-\\uBB4F\\uBB51-\\uBB6B\\uBB6D-\\uBB87\\uBB89-\\uBBA3\\uBBA5-\\uBBBF\\uBBC1-\\uBBDB\\uBBDD-\\uBBF7\\uBBF9-\\uBC13\\uBC15-\\uBC2F\\uBC31-\\uBC4B\\uBC4D-\\uBC67\\uBC69-\\uBC83\\uBC85-\\uBC9F\\uBCA1-\\uBCBB\\uBCBD-\\uBCD7\\uBCD9-\\uBCF3\\uBCF5-\\uBD0F\\uBD11-\\uBD2B\\uBD2D-\\uBD47\\uBD49-\\uBD63\\uBD65-\\uBD7F\\uBD81-\\uBD9B\\uBD9D-\\uBDB7\\uBDB9-\\uBDD3\\uBDD5-\\uBDEF\\uBDF1-\\uBE0B\\uBE0D-\\uBE27\\uBE29-\\uBE43\\uBE45-\\uBE5F\\uBE61-\\uBE7B\\uBE7D-\\uBE97\\uBE99-\\uBEB3\\uBEB5-\\uBECF\\uBED1-\\uBEEB\\uBEED-\\uBF07\\uBF09-\\uBF23\\uBF25-\\uBF3F\\uBF41-\\uBF5B\\uBF5D-\\uBF77\\uBF79-\\uBF93\\uBF95-\\uBFAF\\uBFB1-\\uBFCB\\uBFCD-\\uBFE7\\uBFE9-\\uC003\\uC005-\\uC01F\\uC021-\\uC03B\\uC03D-\\uC057\\uC059-\\uC073\\uC075-\\uC08F\\uC091-\\uC0AB\\uC0AD-\\uC0C7\\uC0C9-\\uC0E3\\uC0E5-\\uC0FF\\uC101-\\uC11B\\uC11D-\\uC137\\uC139-\\uC153\\uC155-\\uC16F\\uC171-\\uC18B\\uC18D-\\uC1A7\\uC1A9-\\uC1C3\\uC1C5-\\uC1DF\\uC1E1-\\uC1FB\\uC1FD-\\uC217\\uC219-\\uC233\\uC235-\\uC24F\\uC251-\\uC26B\\uC26D-\\uC287\\uC289-\\uC2A3\\uC2A5-\\uC2BF\\uC2C1-\\uC2DB\\uC2DD-\\uC2F7\\uC2F9-\\uC313\\uC315-\\uC32F\\uC331-\\uC34B\\uC34D-\\uC367\\uC369-\\uC383\\uC385-\\uC39F\\uC3A1-\\uC3BB\\uC3BD-\\uC3D7\\uC3D9-\\uC3F3\\uC3F5-\\uC40F\\uC411-\\uC42B\\uC42D-\\uC447\\uC449-\\uC463\\uC465-\\uC47F\\uC481-\\uC49B\\uC49D-\\uC4B7\\uC4B9-\\uC4D3\\uC4D5-\\uC4EF\\uC4F1-\\uC50B\\uC50D-\\uC527\\uC529-\\uC543\\uC545-\\uC55F\\uC561-\\uC57B\\uC57D-\\uC597\\uC599-\\uC5B3\\uC5B5-\\uC5CF\\uC5D1-\\uC5EB\\uC5ED-\\uC607\\uC609-\\uC623\\uC625-\\uC63F\\uC641-\\uC65B\\uC65D-\\uC677\\uC679-\\uC693\\uC695-\\uC6AF\\uC6B1-\\uC6CB\\uC6CD-\\uC6E7\\uC6E9-\\uC703\\uC705-\\uC71F\\uC721-\\uC73B\\uC73D-\\uC757\\uC759-\\uC773\\uC775-\\uC78F\\uC791-\\uC7AB\\uC7AD-\\uC7C7\\uC7C9-\\uC7E3\\uC7E5-\\uC7FF\\uC801-\\uC81B\\uC81D-\\uC837\\uC839-\\uC853\\uC855-\\uC86F\\uC871-\\uC88B\\uC88D-\\uC8A7\\uC8A9-\\uC8C3\\uC8C5-\\uC8DF\\uC8E1-\\uC8FB\\uC8FD-\\uC917\\uC919-\\uC933\\uC935-\\uC94F\\uC951-\\uC96B\\uC96D-\\uC987\\uC989-\\uC9A3\\uC9A5-\\uC9BF\\uC9C1-\\uC9DB\\uC9DD-\\uC9F7\\uC9F9-\\uCA13\\uCA15-\\uCA2F\\uCA31-\\uCA4B\\uCA4D-\\uCA67\\uCA69-\\uCA83\\uCA85-\\uCA9F\\uCAA1-\\uCABB\\uCABD-\\uCAD7\\uCAD9-\\uCAF3\\uCAF5-\\uCB0F\\uCB11-\\uCB2B\\uCB2D-\\uCB47\\uCB49-\\uCB63\\uCB65-\\uCB7F\\uCB81-\\uCB9B\\uCB9D-\\uCBB7\\uCBB9-\\uCBD3\\uCBD5-\\uCBEF\\uCBF1-\\uCC0B\\uCC0D-\\uCC27\\uCC29-\\uCC43\\uCC45-\\uCC5F\\uCC61-\\uCC7B\\uCC7D-\\uCC97\\uCC99-\\uCCB3\\uCCB5-\\uCCCF\\uCCD1-\\uCCEB\\uCCED-\\uCD07\\uCD09-\\uCD23\\uCD25-\\uCD3F\\uCD41-\\uCD5B\\uCD5D-\\uCD77\\uCD79-\\uCD93\\uCD95-\\uCDAF\\uCDB1-\\uCDCB\\uCDCD-\\uCDE7\\uCDE9-\\uCE03\\uCE05-\\uCE1F\\uCE21-\\uCE3B\\uCE3D-\\uCE57\\uCE59-\\uCE73\\uCE75-\\uCE8F\\uCE91-\\uCEAB\\uCEAD-\\uCEC7\\uCEC9-\\uCEE3\\uCEE5-\\uCEFF\\uCF01-\\uCF1B\\uCF1D-\\uCF37\\uCF39-\\uCF53\\uCF55-\\uCF6F\\uCF71-\\uCF8B\\uCF8D-\\uCFA7\\uCFA9-\\uCFC3\\uCFC5-\\uCFDF\\uCFE1-\\uCFFB\\uCFFD-\\uD017\\uD019-\\uD033\\uD035-\\uD04F\\uD051-\\uD06B\\uD06D-\\uD087\\uD089-\\uD0A3\\uD0A5-\\uD0BF\\uD0C1-\\uD0DB\\uD0DD-\\uD0F7\\uD0F9-\\uD113\\uD115-\\uD12F\\uD131-\\uD14B\\uD14D-\\uD167\\uD169-\\uD183\\uD185-\\uD19F\\uD1A1-\\uD1BB\\uD1BD-\\uD1D7\\uD1D9-\\uD1F3\\uD1F5-\\uD20F\\uD211-\\uD22B\\uD22D-\\uD247\\uD249-\\uD263\\uD265-\\uD27F\\uD281-\\uD29B\\uD29D-\\uD2B7\\uD2B9-\\uD2D3\\uD2D5-\\uD2EF\\uD2F1-\\uD30B\\uD30D-\\uD327\\uD329-\\uD343\\uD345-\\uD35F\\uD361-\\uD37B\\uD37D-\\uD397\\uD399-\\uD3B3\\uD3B5-\\uD3CF\\uD3D1-\\uD3EB\\uD3ED-\\uD407\\uD409-\\uD423\\uD425-\\uD43F\\uD441-\\uD45B\\uD45D-\\uD477\\uD479-\\uD493\\uD495-\\uD4AF\\uD4B1-\\uD4CB\\uD4CD-\\uD4E7\\uD4E9-\\uD503\\uD505-\\uD51F\\uD521-\\uD53B\\uD53D-\\uD557\\uD559-\\uD573\\uD575-\\uD58F\\uD591-\\uD5AB\\uD5AD-\\uD5C7\\uD5C9-\\uD5E3\\uD5E5-\\uD5FF\\uD601-\\uD61B\\uD61D-\\uD637\\uD639-\\uD653\\uD655-\\uD66F\\uD671-\\uD68B\\uD68D-\\uD6A7\\uD6A9-\\uD6C3\\uD6C5-\\uD6DF\\uD6E1-\\uD6FB\\uD6FD-\\uD717\\uD719-\\uD733\\uD735-\\uD74F\\uD751-\\uD76B\\uD76D-\\uD787\\uD789-\\uD7A3]$/;\nvar reExtPict = /^(?:[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u2388\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2605\\u2607-\\u2612\\u2614-\\u2685\\u2690-\\u2705\\u2708-\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763-\\u2767\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC00-\\uDCFF\\uDD0D-\\uDD0F\\uDD2F\\uDD6C-\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDAD-\\uDDE5\\uDE01-\\uDE0F\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE3C-\\uDE3F\\uDE49-\\uDFFA]|\\uD83D[\\uDC00-\\uDD3D\\uDD46-\\uDE4F\\uDE80-\\uDEFF\\uDF74-\\uDF7F\\uDFD5-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE-\\uDCFF\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDEFF]|\\uD83F[\\uDC00-\\uDFFD])$/;\n\nvar getCodepointType = (char, code) => {\n  var type = CodepointType.Any;\n\n  if (char.search(reExtend) !== -1) {\n    type |= CodepointType.Extend;\n  }\n\n  if (code === 0x200d) {\n    type |= CodepointType.ZWJ;\n  }\n\n  if (code >= 0x1f1e6 && code <= 0x1f1ff) {\n    type |= CodepointType.RI;\n  }\n\n  if (char.search(rePrepend) !== -1) {\n    type |= CodepointType.Prepend;\n  }\n\n  if (char.search(reSpacingMark) !== -1) {\n    type |= CodepointType.SpacingMark;\n  }\n\n  if (char.search(reL) !== -1) {\n    type |= CodepointType.L;\n  }\n\n  if (char.search(reV) !== -1) {\n    type |= CodepointType.V;\n  }\n\n  if (char.search(reT) !== -1) {\n    type |= CodepointType.T;\n  }\n\n  if (char.search(reLV) !== -1) {\n    type |= CodepointType.LV;\n  }\n\n  if (char.search(reLVT) !== -1) {\n    type |= CodepointType.LVT;\n  }\n\n  if (char.search(reExtPict) !== -1) {\n    type |= CodepointType.ExtPict;\n  }\n\n  return type;\n};\n\nfunction intersects(x, y) {\n  return (x & y) !== 0;\n}\n\nvar NonBoundaryPairs = [// GB6\n[CodepointType.L, CodepointType.L | CodepointType.V | CodepointType.LV | CodepointType.LVT], // GB7\n[CodepointType.LV | CodepointType.V, CodepointType.V | CodepointType.T], // GB8\n[CodepointType.LVT | CodepointType.T, CodepointType.T], // GB9\n[CodepointType.Any, CodepointType.Extend | CodepointType.ZWJ], // GB9a\n[CodepointType.Any, CodepointType.SpacingMark], // GB9b\n[CodepointType.Prepend, CodepointType.Any], // GB11\n[CodepointType.ZWJ, CodepointType.ExtPict], // GB12 and GB13\n[CodepointType.RI, CodepointType.RI]];\n\nfunction isBoundaryPair(left, right) {\n  return NonBoundaryPairs.findIndex(r => intersects(left, r[0]) && intersects(right, r[1])) === -1;\n}\n\nvar endingEmojiZWJ = /(?:[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u2388\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2605\\u2607-\\u2612\\u2614-\\u2685\\u2690-\\u2705\\u2708-\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763-\\u2767\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC00-\\uDCFF\\uDD0D-\\uDD0F\\uDD2F\\uDD6C-\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDAD-\\uDDE5\\uDE01-\\uDE0F\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE3C-\\uDE3F\\uDE49-\\uDFFA]|\\uD83D[\\uDC00-\\uDD3D\\uDD46-\\uDE4F\\uDE80-\\uDEFF\\uDF74-\\uDF7F\\uDFD5-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE-\\uDCFF\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDEFF]|\\uD83F[\\uDC00-\\uDFFD])(?:[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962\\u0963\\u0981\\u09BC\\u09BE\\u09C1-\\u09C4\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01\\u0B3C\\u0B3E\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B55-\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE\\u0BC0\\u0BCD\\u0BD7\\u0C00\\u0C04\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC2\\u0CC6\\u0CCC\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00\\u0D01\\u0D3B\\u0D3C\\u0D3E\\u0D41-\\u0D44\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D81\\u0DCA\\u0DCF\\u0DD2-\\u0DD4\\u0DD6\\u0DDF\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1AC0\\u1B00-\\u1B03\\u1B34-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u200C\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA82C\\uA8C4\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9BD\\uA9E5\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEC\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFF9E\\uFF9F]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC01\\uDC38-\\uDC46\\uDC7F-\\uDC81\\uDCB3-\\uDCB6\\uDCB9\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD2B\\uDD2D-\\uDD34\\uDD73\\uDD80\\uDD81\\uDDB6-\\uDDBE\\uDDC9-\\uDDCC\\uDDCF\\uDE2F-\\uDE31\\uDE34\\uDE36\\uDE37\\uDE3E\\uDEDF\\uDEE3-\\uDEEA\\uDF00\\uDF01\\uDF3B\\uDF3C\\uDF3E\\uDF40\\uDF57\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC38-\\uDC3F\\uDC42-\\uDC44\\uDC46\\uDC5E\\uDCB0\\uDCB3-\\uDCB8\\uDCBA\\uDCBD\\uDCBF\\uDCC0\\uDCC2\\uDCC3\\uDDAF\\uDDB2-\\uDDB5\\uDDBC\\uDDBD\\uDDBF\\uDDC0\\uDDDC\\uDDDD\\uDE33-\\uDE3A\\uDE3D\\uDE3F\\uDE40\\uDEAB\\uDEAD\\uDEB0-\\uDEB5\\uDEB7\\uDF1D-\\uDF1F\\uDF22-\\uDF25\\uDF27-\\uDF2B]|\\uD806[\\uDC2F-\\uDC37\\uDC39\\uDC3A\\uDD30\\uDD3B\\uDD3C\\uDD3E\\uDD43\\uDDD4-\\uDDD7\\uDDDA\\uDDDB\\uDDE0\\uDE01-\\uDE0A\\uDE33-\\uDE38\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE56\\uDE59-\\uDE5B\\uDE8A-\\uDE96\\uDE98\\uDE99]|\\uD807[\\uDC30-\\uDC36\\uDC38-\\uDC3D\\uDC3F\\uDC92-\\uDCA7\\uDCAA-\\uDCB0\\uDCB2\\uDCB3\\uDCB5\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD90\\uDD91\\uDD95\\uDD97\\uDEF3\\uDEF4]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF8F-\\uDF92\\uDFE4]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65\\uDD67-\\uDD69\\uDD6E-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uD83C[\\uDFFB-\\uDFFF]|\\uDB40[\\uDC20-\\uDC7F\\uDD00-\\uDDEF])*\\u200D$/;\n\nvar endsWithEmojiZWJ = str => {\n  return str.search(endingEmojiZWJ) !== -1;\n};\n\nvar endingRIs = /(?:\\uD83C[\\uDDE6-\\uDDFF])+$/g;\n\nvar endsWithOddNumberOfRIs = str => {\n  var match = str.match(endingRIs);\n\n  if (match === null) {\n    return false;\n  } else {\n    // A RI is represented by a surrogate pair.\n    var numRIs = match[0].length / 2;\n    return numRIs % 2 === 1;\n  }\n};\n\n/**\r\n * Shared the function with isElementType utility\r\n */\n\nvar isElement = value => {\n  return isPlainObject(value) && Node.isNodeList(value.children) && !Editor.isEditor(value);\n};\n\nvar Element = {\n  /**\r\n   * Check if a value implements the 'Ancestor' interface.\r\n   */\n  isAncestor(value) {\n    return isPlainObject(value) && Node.isNodeList(value.children);\n  },\n\n  /**\r\n   * Check if a value implements the `Element` interface.\r\n   */\n  isElement,\n\n  /**\r\n   * Check if a value is an array of `Element` objects.\r\n   */\n  isElementList(value) {\n    return Array.isArray(value) && value.every(val => Element.isElement(val));\n  },\n\n  /**\r\n   * Check if a set of props is a partial of Element.\r\n   */\n  isElementProps(props) {\n    return props.children !== undefined;\n  },\n\n  /**\r\n   * Check if a value implements the `Element` interface and has elementKey with selected value.\r\n   * Default it check to `type` key value\r\n   */\n  isElementType: function isElementType(value, elementVal) {\n    var elementKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'type';\n    return isElement(value) && value[elementKey] === elementVal;\n  },\n\n  /**\r\n   * Check if an element matches set of properties.\r\n   *\r\n   * Note: this checks custom properties, and it does not ensure that any\r\n   * children are equivalent.\r\n   */\n  matches(element, props) {\n    for (var key in props) {\n      if (key === 'children') {\n        continue;\n      }\n\n      if (element[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n};\n\nvar _excluded$4 = [\"text\"],\n    _excluded2$3 = [\"text\"];\n\nfunction ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$8(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar IS_EDITOR_CACHE = new WeakMap();\nvar Editor = {\n  /**\r\n   * Get the ancestor above a location in the document.\r\n   */\n  above(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      voids = false,\n      mode = 'lowest',\n      at = editor.selection,\n      match\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    var path = Editor.path(editor, at);\n    var reverse = mode === 'lowest';\n\n    for (var [n, p] of Editor.levels(editor, {\n      at: path,\n      voids,\n      match,\n      reverse\n    })) {\n      if (!Text.isText(n) && !Path.equals(path, p)) {\n        return [n, p];\n      }\n    }\n  },\n\n  /**\r\n   * Add a custom property to the leaf text nodes in the current selection.\r\n   *\r\n   * If the selection is currently collapsed, the marks will be added to the\r\n   * `editor.marks` property instead, and applied when text is inserted next.\r\n   */\n  addMark(editor, key, value) {\n    editor.addMark(key, value);\n  },\n\n  /**\r\n   * Get the point after a location.\r\n   */\n  after(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var anchor = Editor.point(editor, at, {\n      edge: 'end'\n    });\n    var focus = Editor.end(editor, []);\n    var range = {\n      anchor,\n      focus\n    };\n    var {\n      distance = 1\n    } = options;\n    var d = 0;\n    var target;\n\n    for (var p of Editor.positions(editor, _objectSpread$8(_objectSpread$8({}, options), {}, {\n      at: range\n    }))) {\n      if (d > distance) {\n        break;\n      }\n\n      if (d !== 0) {\n        target = p;\n      }\n\n      d++;\n    }\n\n    return target;\n  },\n\n  /**\r\n   * Get the point before a location.\r\n   */\n  before(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var anchor = Editor.start(editor, []);\n    var focus = Editor.point(editor, at, {\n      edge: 'start'\n    });\n    var range = {\n      anchor,\n      focus\n    };\n    var {\n      distance = 1\n    } = options;\n    var d = 0;\n    var target;\n\n    for (var p of Editor.positions(editor, _objectSpread$8(_objectSpread$8({}, options), {}, {\n      at: range,\n      reverse: true\n    }))) {\n      if (d > distance) {\n        break;\n      }\n\n      if (d !== 0) {\n        target = p;\n      }\n\n      d++;\n    }\n\n    return target;\n  },\n\n  /**\r\n   * Delete content in the editor backward from the current selection.\r\n   */\n  deleteBackward(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      unit = 'character'\n    } = options;\n    editor.deleteBackward(unit);\n  },\n\n  /**\r\n   * Delete content in the editor forward from the current selection.\r\n   */\n  deleteForward(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      unit = 'character'\n    } = options;\n    editor.deleteForward(unit);\n  },\n\n  /**\r\n   * Delete the content in the current selection.\r\n   */\n  deleteFragment(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      direction = 'forward'\n    } = options;\n    editor.deleteFragment(direction);\n  },\n\n  /**\r\n   * Get the start and end points of a location.\r\n   */\n  edges(editor, at) {\n    return [Editor.start(editor, at), Editor.end(editor, at)];\n  },\n\n  /**\r\n   * Get the end point of a location.\r\n   */\n  end(editor, at) {\n    return Editor.point(editor, at, {\n      edge: 'end'\n    });\n  },\n\n  /**\r\n   * Get the first node at a location.\r\n   */\n  first(editor, at) {\n    var path = Editor.path(editor, at, {\n      edge: 'start'\n    });\n    return Editor.node(editor, path);\n  },\n\n  /**\r\n   * Get the fragment at a location.\r\n   */\n  fragment(editor, at) {\n    var range = Editor.range(editor, at);\n    var fragment = Node.fragment(editor, range);\n    return fragment;\n  },\n\n  /**\r\n   * Check if a node has block children.\r\n   */\n  hasBlocks(editor, element) {\n    return element.children.some(n => Editor.isBlock(editor, n));\n  },\n\n  /**\r\n   * Check if a node has inline and text children.\r\n   */\n  hasInlines(editor, element) {\n    return element.children.some(n => Text.isText(n) || Editor.isInline(editor, n));\n  },\n\n  /**\r\n   * Check if a node has text children.\r\n   */\n  hasTexts(editor, element) {\n    return element.children.every(n => Text.isText(n));\n  },\n\n  /**\r\n   * Insert a block break at the current selection.\r\n   *\r\n   * If the selection is currently expanded, it will be deleted first.\r\n   */\n  insertBreak(editor) {\n    editor.insertBreak();\n  },\n\n  /**\r\n   * Insert a soft break at the current selection.\r\n   *\r\n   * If the selection is currently expanded, it will be deleted first.\r\n   */\n  insertSoftBreak(editor) {\n    editor.insertSoftBreak();\n  },\n\n  /**\r\n   * Insert a fragment at the current selection.\r\n   *\r\n   * If the selection is currently expanded, it will be deleted first.\r\n   */\n  insertFragment(editor, fragment) {\n    editor.insertFragment(fragment);\n  },\n\n  /**\r\n   * Insert a node at the current selection.\r\n   *\r\n   * If the selection is currently expanded, it will be deleted first.\r\n   */\n  insertNode(editor, node) {\n    editor.insertNode(node);\n  },\n\n  /**\r\n   * Insert text at the current selection.\r\n   *\r\n   * If the selection is currently expanded, it will be deleted first.\r\n   */\n  insertText(editor, text) {\n    editor.insertText(text);\n  },\n\n  /**\r\n   * Check if a value is a block `Element` object.\r\n   */\n  isBlock(editor, value) {\n    return Element.isElement(value) && !editor.isInline(value);\n  },\n\n  /**\r\n   * Check if a value is an `Editor` object.\r\n   */\n  isEditor(value) {\n    if (!isPlainObject(value)) return false;\n    var cachedIsEditor = IS_EDITOR_CACHE.get(value);\n\n    if (cachedIsEditor !== undefined) {\n      return cachedIsEditor;\n    }\n\n    var isEditor = typeof value.addMark === 'function' && typeof value.apply === 'function' && typeof value.deleteBackward === 'function' && typeof value.deleteForward === 'function' && typeof value.deleteFragment === 'function' && typeof value.insertBreak === 'function' && typeof value.insertSoftBreak === 'function' && typeof value.insertFragment === 'function' && typeof value.insertNode === 'function' && typeof value.insertText === 'function' && typeof value.isInline === 'function' && typeof value.isVoid === 'function' && typeof value.normalizeNode === 'function' && typeof value.onChange === 'function' && typeof value.removeMark === 'function' && (value.marks === null || isPlainObject(value.marks)) && (value.selection === null || Range.isRange(value.selection)) && Node.isNodeList(value.children) && Operation.isOperationList(value.operations);\n    IS_EDITOR_CACHE.set(value, isEditor);\n    return isEditor;\n  },\n\n  /**\r\n   * Check if a point is the end point of a location.\r\n   */\n  isEnd(editor, point, at) {\n    var end = Editor.end(editor, at);\n    return Point.equals(point, end);\n  },\n\n  /**\r\n   * Check if a point is an edge of a location.\r\n   */\n  isEdge(editor, point, at) {\n    return Editor.isStart(editor, point, at) || Editor.isEnd(editor, point, at);\n  },\n\n  /**\r\n   * Check if an element is empty, accounting for void nodes.\r\n   */\n  isEmpty(editor, element) {\n    var {\n      children\n    } = element;\n    var [first] = children;\n    return children.length === 0 || children.length === 1 && Text.isText(first) && first.text === '' && !editor.isVoid(element);\n  },\n\n  /**\r\n   * Check if a value is an inline `Element` object.\r\n   */\n  isInline(editor, value) {\n    return Element.isElement(value) && editor.isInline(value);\n  },\n\n  /**\r\n   * Check if the editor is currently normalizing after each operation.\r\n   */\n  isNormalizing(editor) {\n    var isNormalizing = NORMALIZING.get(editor);\n    return isNormalizing === undefined ? true : isNormalizing;\n  },\n\n  /**\r\n   * Check if a point is the start point of a location.\r\n   */\n  isStart(editor, point, at) {\n    // PERF: If the offset isn't `0` we know it's not the start.\n    if (point.offset !== 0) {\n      return false;\n    }\n\n    var start = Editor.start(editor, at);\n    return Point.equals(point, start);\n  },\n\n  /**\r\n   * Check if a value is a void `Element` object.\r\n   */\n  isVoid(editor, value) {\n    return Element.isElement(value) && editor.isVoid(value);\n  },\n\n  /**\r\n   * Get the last node at a location.\r\n   */\n  last(editor, at) {\n    var path = Editor.path(editor, at, {\n      edge: 'end'\n    });\n    return Editor.node(editor, path);\n  },\n\n  /**\r\n   * Get the leaf text node at a location.\r\n   */\n  leaf(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var path = Editor.path(editor, at, options);\n    var node = Node.leaf(editor, path);\n    return [node, path];\n  },\n\n  /**\r\n   * Iterate through all of the levels at a location.\r\n   */\n  *levels(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      at = editor.selection,\n      reverse = false,\n      voids = false\n    } = options;\n    var {\n      match\n    } = options;\n\n    if (match == null) {\n      match = () => true;\n    }\n\n    if (!at) {\n      return;\n    }\n\n    var levels = [];\n    var path = Editor.path(editor, at);\n\n    for (var [n, p] of Node.levels(editor, path)) {\n      if (!match(n, p)) {\n        continue;\n      }\n\n      levels.push([n, p]);\n\n      if (!voids && Editor.isVoid(editor, n)) {\n        break;\n      }\n    }\n\n    if (reverse) {\n      levels.reverse();\n    }\n\n    yield* levels;\n  },\n\n  /**\r\n   * Get the marks that would be added to text at the current selection.\r\n   */\n  marks(editor) {\n    var {\n      marks,\n      selection\n    } = editor;\n\n    if (!selection) {\n      return null;\n    }\n\n    if (marks) {\n      return marks;\n    }\n\n    if (Range.isExpanded(selection)) {\n      var [match] = Editor.nodes(editor, {\n        match: Text.isText\n      });\n\n      if (match) {\n        var [_node] = match;\n\n        var _rest = _objectWithoutProperties(_node, _excluded$4);\n\n        return _rest;\n      } else {\n        return {};\n      }\n    }\n\n    var {\n      anchor\n    } = selection;\n    var {\n      path\n    } = anchor;\n    var [node] = Editor.leaf(editor, path);\n\n    if (anchor.offset === 0) {\n      var prev = Editor.previous(editor, {\n        at: path,\n        match: Text.isText\n      });\n      var block = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n)\n      });\n\n      if (prev && block) {\n        var [prevNode, prevPath] = prev;\n        var [, blockPath] = block;\n\n        if (Path.isAncestor(blockPath, prevPath)) {\n          node = prevNode;\n        }\n      }\n    }\n\n    var rest = _objectWithoutProperties(node, _excluded2$3);\n\n    return rest;\n  },\n\n  /**\r\n   * Get the matching node in the branch of the document after a location.\r\n   */\n  next(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      mode = 'lowest',\n      voids = false\n    } = options;\n    var {\n      match,\n      at = editor.selection\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    var pointAfterLocation = Editor.after(editor, at, {\n      voids\n    });\n    if (!pointAfterLocation) return;\n    var [, to] = Editor.last(editor, []);\n    var span = [pointAfterLocation.path, to];\n\n    if (Path.isPath(at) && at.length === 0) {\n      throw new Error(\"Cannot get the next node from the root node!\");\n    }\n\n    if (match == null) {\n      if (Path.isPath(at)) {\n        var [parent] = Editor.parent(editor, at);\n\n        match = n => parent.children.includes(n);\n      } else {\n        match = () => true;\n      }\n    }\n\n    var [next] = Editor.nodes(editor, {\n      at: span,\n      match,\n      mode,\n      voids\n    });\n    return next;\n  },\n\n  /**\r\n   * Get the node at a location.\r\n   */\n  node(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var path = Editor.path(editor, at, options);\n    var node = Node.get(editor, path);\n    return [node, path];\n  },\n\n  /**\r\n   * Iterate through all of the nodes in the Editor.\r\n   */\n  *nodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      at = editor.selection,\n      mode = 'all',\n      universal = false,\n      reverse = false,\n      voids = false\n    } = options;\n    var {\n      match\n    } = options;\n\n    if (!match) {\n      match = () => true;\n    }\n\n    if (!at) {\n      return;\n    }\n\n    var from;\n    var to;\n\n    if (Span.isSpan(at)) {\n      from = at[0];\n      to = at[1];\n    } else {\n      var first = Editor.path(editor, at, {\n        edge: 'start'\n      });\n      var last = Editor.path(editor, at, {\n        edge: 'end'\n      });\n      from = reverse ? last : first;\n      to = reverse ? first : last;\n    }\n\n    var nodeEntries = Node.nodes(editor, {\n      reverse,\n      from,\n      to,\n      pass: _ref => {\n        var [n] = _ref;\n        return voids ? false : Editor.isVoid(editor, n);\n      }\n    });\n    var matches = [];\n    var hit;\n\n    for (var [node, path] of nodeEntries) {\n      var isLower = hit && Path.compare(path, hit[1]) === 0; // In highest mode any node lower than the last hit is not a match.\n\n      if (mode === 'highest' && isLower) {\n        continue;\n      }\n\n      if (!match(node, path)) {\n        // If we've arrived at a leaf text node that is not lower than the last\n        // hit, then we've found a branch that doesn't include a match, which\n        // means the match is not universal.\n        if (universal && !isLower && Text.isText(node)) {\n          return;\n        } else {\n          continue;\n        }\n      } // If there's a match and it's lower than the last, update the hit.\n\n\n      if (mode === 'lowest' && isLower) {\n        hit = [node, path];\n        continue;\n      } // In lowest mode we emit the last hit, once it's guaranteed lowest.\n\n\n      var emit = mode === 'lowest' ? hit : [node, path];\n\n      if (emit) {\n        if (universal) {\n          matches.push(emit);\n        } else {\n          yield emit;\n        }\n      }\n\n      hit = [node, path];\n    } // Since lowest is always emitting one behind, catch up at the end.\n\n\n    if (mode === 'lowest' && hit) {\n      if (universal) {\n        matches.push(hit);\n      } else {\n        yield hit;\n      }\n    } // Universal defers to ensure that the match occurs in every branch, so we\n    // yield all of the matches after iterating.\n\n\n    if (universal) {\n      yield* matches;\n    }\n  },\n\n  /**\r\n   * Normalize any dirty objects in the editor.\r\n   */\n  normalize(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      force = false\n    } = options;\n\n    var getDirtyPaths = editor => {\n      return DIRTY_PATHS.get(editor) || [];\n    };\n\n    var getDirtyPathKeys = editor => {\n      return DIRTY_PATH_KEYS.get(editor) || new Set();\n    };\n\n    var popDirtyPath = editor => {\n      var path = getDirtyPaths(editor).pop();\n      var key = path.join(',');\n      getDirtyPathKeys(editor).delete(key);\n      return path;\n    };\n\n    if (!Editor.isNormalizing(editor)) {\n      return;\n    }\n\n    if (force) {\n      var allPaths = Array.from(Node.nodes(editor), _ref2 => {\n        var [, p] = _ref2;\n        return p;\n      });\n      var allPathKeys = new Set(allPaths.map(p => p.join(',')));\n      DIRTY_PATHS.set(editor, allPaths);\n      DIRTY_PATH_KEYS.set(editor, allPathKeys);\n    }\n\n    if (getDirtyPaths(editor).length === 0) {\n      return;\n    }\n\n    Editor.withoutNormalizing(editor, () => {\n      /*\r\n        Fix dirty elements with no children.\r\n        editor.normalizeNode() does fix this, but some normalization fixes also require it to work.\r\n        Running an initial pass avoids the catch-22 race condition.\r\n      */\n      for (var dirtyPath of getDirtyPaths(editor)) {\n        if (Node.has(editor, dirtyPath)) {\n          var entry = Editor.node(editor, dirtyPath);\n          var [node, _] = entry;\n          /*\r\n            The default normalizer inserts an empty text node in this scenario, but it can be customised.\r\n            So there is some risk here.\r\n                       As long as the normalizer only inserts child nodes for this case it is safe to do in any order;\r\n            by definition adding children to an empty node can't cause other paths to change.\r\n          */\n\n          if (Element.isElement(node) && node.children.length === 0) {\n            editor.normalizeNode(entry);\n          }\n        }\n      }\n\n      var max = getDirtyPaths(editor).length * 42; // HACK: better way?\n\n      var m = 0;\n\n      while (getDirtyPaths(editor).length !== 0) {\n        if (m > max) {\n          throw new Error(\"\\n            Could not completely normalize the editor after \".concat(max, \" iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\\n          \"));\n        }\n\n        var _dirtyPath = popDirtyPath(editor); // If the node doesn't exist in the tree, it does not need to be normalized.\n\n\n        if (Node.has(editor, _dirtyPath)) {\n          var _entry = Editor.node(editor, _dirtyPath);\n\n          editor.normalizeNode(_entry);\n        }\n\n        m++;\n      }\n    });\n  },\n\n  /**\r\n   * Get the parent node of a location.\r\n   */\n  parent(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var path = Editor.path(editor, at, options);\n    var parentPath = Path.parent(path);\n    var entry = Editor.node(editor, parentPath);\n    return entry;\n  },\n\n  /**\r\n   * Get the path of a location.\r\n   */\n  path(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      depth,\n      edge\n    } = options;\n\n    if (Path.isPath(at)) {\n      if (edge === 'start') {\n        var [, firstPath] = Node.first(editor, at);\n        at = firstPath;\n      } else if (edge === 'end') {\n        var [, lastPath] = Node.last(editor, at);\n        at = lastPath;\n      }\n    }\n\n    if (Range.isRange(at)) {\n      if (edge === 'start') {\n        at = Range.start(at);\n      } else if (edge === 'end') {\n        at = Range.end(at);\n      } else {\n        at = Path.common(at.anchor.path, at.focus.path);\n      }\n    }\n\n    if (Point.isPoint(at)) {\n      at = at.path;\n    }\n\n    if (depth != null) {\n      at = at.slice(0, depth);\n    }\n\n    return at;\n  },\n\n  hasPath(editor, path) {\n    return Node.has(editor, path);\n  },\n\n  /**\r\n   * Create a mutable ref for a `Path` object, which will stay in sync as new\r\n   * operations are applied to the editor.\r\n   */\n  pathRef(editor, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      affinity = 'forward'\n    } = options;\n    var ref = {\n      current: path,\n      affinity,\n\n      unref() {\n        var {\n          current\n        } = ref;\n        var pathRefs = Editor.pathRefs(editor);\n        pathRefs.delete(ref);\n        ref.current = null;\n        return current;\n      }\n\n    };\n    var refs = Editor.pathRefs(editor);\n    refs.add(ref);\n    return ref;\n  },\n\n  /**\r\n   * Get the set of currently tracked path refs of the editor.\r\n   */\n  pathRefs(editor) {\n    var refs = PATH_REFS.get(editor);\n\n    if (!refs) {\n      refs = new Set();\n      PATH_REFS.set(editor, refs);\n    }\n\n    return refs;\n  },\n\n  /**\r\n   * Get the start or end point of a location.\r\n   */\n  point(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      edge = 'start'\n    } = options;\n\n    if (Path.isPath(at)) {\n      var path;\n\n      if (edge === 'end') {\n        var [, lastPath] = Node.last(editor, at);\n        path = lastPath;\n      } else {\n        var [, firstPath] = Node.first(editor, at);\n        path = firstPath;\n      }\n\n      var node = Node.get(editor, path);\n\n      if (!Text.isText(node)) {\n        throw new Error(\"Cannot get the \".concat(edge, \" point in the node at path [\").concat(at, \"] because it has no \").concat(edge, \" text node.\"));\n      }\n\n      return {\n        path,\n        offset: edge === 'end' ? node.text.length : 0\n      };\n    }\n\n    if (Range.isRange(at)) {\n      var [start, end] = Range.edges(at);\n      return edge === 'start' ? start : end;\n    }\n\n    return at;\n  },\n\n  /**\r\n   * Create a mutable ref for a `Point` object, which will stay in sync as new\r\n   * operations are applied to the editor.\r\n   */\n  pointRef(editor, point) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      affinity = 'forward'\n    } = options;\n    var ref = {\n      current: point,\n      affinity,\n\n      unref() {\n        var {\n          current\n        } = ref;\n        var pointRefs = Editor.pointRefs(editor);\n        pointRefs.delete(ref);\n        ref.current = null;\n        return current;\n      }\n\n    };\n    var refs = Editor.pointRefs(editor);\n    refs.add(ref);\n    return ref;\n  },\n\n  /**\r\n   * Get the set of currently tracked point refs of the editor.\r\n   */\n  pointRefs(editor) {\n    var refs = POINT_REFS.get(editor);\n\n    if (!refs) {\n      refs = new Set();\n      POINT_REFS.set(editor, refs);\n    }\n\n    return refs;\n  },\n\n  /**\r\n   * Return all the positions in `at` range where a `Point` can be placed.\r\n   *\r\n   * By default, moves forward by individual offsets at a time, but\r\n   * the `unit` option can be used to to move by character, word, line, or block.\r\n   *\r\n   * The `reverse` option can be used to change iteration direction.\r\n   *\r\n   * Note: By default void nodes are treated as a single point and iteration\r\n   * will not happen inside their content unless you pass in true for the\r\n   * `voids` option, then iteration will occur.\r\n   */\n  *positions(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      at = editor.selection,\n      unit = 'offset',\n      reverse = false,\n      voids = false\n    } = options;\n\n    if (!at) {\n      return;\n    }\n    /**\r\n     * Algorithm notes:\r\n     *\r\n     * Each step `distance` is dynamic depending on the underlying text\r\n     * and the `unit` specified.  Each step, e.g., a line or word, may\r\n     * span multiple text nodes, so we iterate through the text both on\r\n     * two levels in step-sync:\r\n     *\r\n     * `leafText` stores the text on a text leaf level, and is advanced\r\n     * through using the counters `leafTextOffset` and `leafTextRemaining`.\r\n     *\r\n     * `blockText` stores the text on a block level, and is shortened\r\n     * by `distance` every time it is advanced.\r\n     *\r\n     * We only maintain a window of one blockText and one leafText because\r\n     * a block node always appears before all of its leaf nodes.\r\n     */\n\n\n    var range = Editor.range(editor, at);\n    var [start, end] = Range.edges(range);\n    var first = reverse ? end : start;\n    var isNewBlock = false;\n    var blockText = '';\n    var distance = 0; // Distance for leafText to catch up to blockText.\n\n    var leafTextRemaining = 0;\n    var leafTextOffset = 0; // Iterate through all nodes in range, grabbing entire textual content\n    // of block nodes in blockText, and text nodes in leafText.\n    // Exploits the fact that nodes are sequenced in such a way that we first\n    // encounter the block node, then all of its text nodes, so when iterating\n    // through the blockText and leafText we just need to remember a window of\n    // one block node and leaf node, respectively.\n\n    for (var [node, path] of Editor.nodes(editor, {\n      at,\n      reverse,\n      voids\n    })) {\n      /*\r\n       * ELEMENT NODE - Yield position(s) for voids, collect blockText for blocks\r\n       */\n      if (Element.isElement(node)) {\n        // Void nodes are a special case, so by default we will always\n        // yield their first point. If the `voids` option is set to true,\n        // then we will iterate over their content.\n        if (!voids && editor.isVoid(node)) {\n          yield Editor.start(editor, path);\n          continue;\n        } // Inline element nodes are ignored as they don't themselves\n        // contribute to `blockText` or `leafText` - their parent and\n        // children do.\n\n\n        if (editor.isInline(node)) continue; // Block element node - set `blockText` to its text content.\n\n        if (Editor.hasInlines(editor, node)) {\n          // We always exhaust block nodes before encountering a new one:\n          //   console.assert(blockText === '',\n          //     `blockText='${blockText}' - `+\n          //     `not exhausted before new block node`, path)\n          // Ensure range considered is capped to `range`, in the\n          // start/end edge cases where block extends beyond range.\n          // Equivalent to this, but presumably more performant:\n          //   blockRange = Editor.range(editor, ...Editor.edges(editor, path))\n          //   blockRange = Range.intersection(range, blockRange) // intersect\n          //   blockText = Editor.string(editor, blockRange, { voids })\n          var e = Path.isAncestor(path, end.path) ? end : Editor.end(editor, path);\n          var s = Path.isAncestor(path, start.path) ? start : Editor.start(editor, path);\n          blockText = Editor.string(editor, {\n            anchor: s,\n            focus: e\n          }, {\n            voids\n          });\n          isNewBlock = true;\n        }\n      }\n      /*\r\n       * TEXT LEAF NODE - Iterate through text content, yielding\r\n       * positions every `distance` offset according to `unit`.\r\n       */\n\n\n      if (Text.isText(node)) {\n        var isFirst = Path.equals(path, first.path); // Proof that we always exhaust text nodes before encountering a new one:\n        //   console.assert(leafTextRemaining <= 0,\n        //     `leafTextRemaining=${leafTextRemaining} - `+\n        //     `not exhausted before new leaf text node`, path)\n        // Reset `leafText` counters for new text node.\n\n        if (isFirst) {\n          leafTextRemaining = reverse ? first.offset : node.text.length - first.offset;\n          leafTextOffset = first.offset; // Works for reverse too.\n        } else {\n          leafTextRemaining = node.text.length;\n          leafTextOffset = reverse ? leafTextRemaining : 0;\n        } // Yield position at the start of node (potentially).\n\n\n        if (isFirst || isNewBlock || unit === 'offset') {\n          yield {\n            path,\n            offset: leafTextOffset\n          };\n          isNewBlock = false;\n        } // Yield positions every (dynamically calculated) `distance` offset.\n\n\n        while (true) {\n          // If `leafText` has caught up with `blockText` (distance=0),\n          // and if blockText is exhausted, break to get another block node,\n          // otherwise advance blockText forward by the new `distance`.\n          if (distance === 0) {\n            if (blockText === '') break;\n            distance = calcDistance(blockText, unit, reverse); // Split the string at the previously found distance and use the\n            // remaining string for the next iteration.\n\n            blockText = splitByCharacterDistance(blockText, distance, reverse)[1];\n          } // Advance `leafText` by the current `distance`.\n\n\n          leafTextOffset = reverse ? leafTextOffset - distance : leafTextOffset + distance;\n          leafTextRemaining = leafTextRemaining - distance; // If `leafText` is exhausted, break to get a new leaf node\n          // and set distance to the overflow amount, so we'll (maybe)\n          // catch up to blockText in the next leaf text node.\n\n          if (leafTextRemaining < 0) {\n            distance = -leafTextRemaining;\n            break;\n          } // Successfully walked `distance` offsets through `leafText`\n          // to catch up with `blockText`, so we can reset `distance`\n          // and yield this position in this node.\n\n\n          distance = 0;\n          yield {\n            path,\n            offset: leafTextOffset\n          };\n        }\n      }\n    } // Proof that upon completion, we've exahusted both leaf and block text:\n    //   console.assert(leafTextRemaining <= 0, \"leafText wasn't exhausted\")\n    //   console.assert(blockText === '', \"blockText wasn't exhausted\")\n    // Helper:\n    // Return the distance in offsets for a step of size `unit` on given string.\n\n\n    function calcDistance(text, unit, reverse) {\n      if (unit === 'character') {\n        return getCharacterDistance(text, reverse);\n      } else if (unit === 'word') {\n        return getWordDistance(text, reverse);\n      } else if (unit === 'line' || unit === 'block') {\n        return text.length;\n      }\n\n      return 1;\n    }\n  },\n\n  /**\r\n   * Get the matching node in the branch of the document before a location.\r\n   */\n  previous(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      mode = 'lowest',\n      voids = false\n    } = options;\n    var {\n      match,\n      at = editor.selection\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    var pointBeforeLocation = Editor.before(editor, at, {\n      voids\n    });\n\n    if (!pointBeforeLocation) {\n      return;\n    }\n\n    var [, to] = Editor.first(editor, []); // The search location is from the start of the document to the path of\n    // the point before the location passed in\n\n    var span = [pointBeforeLocation.path, to];\n\n    if (Path.isPath(at) && at.length === 0) {\n      throw new Error(\"Cannot get the previous node from the root node!\");\n    }\n\n    if (match == null) {\n      if (Path.isPath(at)) {\n        var [parent] = Editor.parent(editor, at);\n\n        match = n => parent.children.includes(n);\n      } else {\n        match = () => true;\n      }\n    }\n\n    var [previous] = Editor.nodes(editor, {\n      reverse: true,\n      at: span,\n      match,\n      mode,\n      voids\n    });\n    return previous;\n  },\n\n  /**\r\n   * Get a range of a location.\r\n   */\n  range(editor, at, to) {\n    if (Range.isRange(at) && !to) {\n      return at;\n    }\n\n    var start = Editor.start(editor, at);\n    var end = Editor.end(editor, to || at);\n    return {\n      anchor: start,\n      focus: end\n    };\n  },\n\n  /**\r\n   * Create a mutable ref for a `Range` object, which will stay in sync as new\r\n   * operations are applied to the editor.\r\n   */\n  rangeRef(editor, range) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      affinity = 'forward'\n    } = options;\n    var ref = {\n      current: range,\n      affinity,\n\n      unref() {\n        var {\n          current\n        } = ref;\n        var rangeRefs = Editor.rangeRefs(editor);\n        rangeRefs.delete(ref);\n        ref.current = null;\n        return current;\n      }\n\n    };\n    var refs = Editor.rangeRefs(editor);\n    refs.add(ref);\n    return ref;\n  },\n\n  /**\r\n   * Get the set of currently tracked range refs of the editor.\r\n   */\n  rangeRefs(editor) {\n    var refs = RANGE_REFS.get(editor);\n\n    if (!refs) {\n      refs = new Set();\n      RANGE_REFS.set(editor, refs);\n    }\n\n    return refs;\n  },\n\n  /**\r\n   * Remove a custom property from all of the leaf text nodes in the current\r\n   * selection.\r\n   *\r\n   * If the selection is currently collapsed, the removal will be stored on\r\n   * `editor.marks` and applied to the text inserted next.\r\n   */\n  removeMark(editor, key) {\n    editor.removeMark(key);\n  },\n\n  /**\r\n   * Manually set if the editor should currently be normalizing.\r\n   *\r\n   * Note: Using this incorrectly can leave the editor in an invalid state.\r\n   *\r\n   */\n  setNormalizing(editor, isNormalizing) {\n    NORMALIZING.set(editor, isNormalizing);\n  },\n\n  /**\r\n   * Get the start point of a location.\r\n   */\n  start(editor, at) {\n    return Editor.point(editor, at, {\n      edge: 'start'\n    });\n  },\n\n  /**\r\n   * Get the text string content of a location.\r\n   *\r\n   * Note: by default the text of void nodes is considered to be an empty\r\n   * string, regardless of content, unless you pass in true for the voids option\r\n   */\n  string(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      voids = false\n    } = options;\n    var range = Editor.range(editor, at);\n    var [start, end] = Range.edges(range);\n    var text = '';\n\n    for (var [node, path] of Editor.nodes(editor, {\n      at: range,\n      match: Text.isText,\n      voids\n    })) {\n      var t = node.text;\n\n      if (Path.equals(path, end.path)) {\n        t = t.slice(0, end.offset);\n      }\n\n      if (Path.equals(path, start.path)) {\n        t = t.slice(start.offset);\n      }\n\n      text += t;\n    }\n\n    return text;\n  },\n\n  /**\r\n   * Convert a range into a non-hanging one.\r\n   */\n  unhangRange(editor, range) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      voids = false\n    } = options;\n    var [start, end] = Range.edges(range); // PERF: exit early if we can guarantee that the range isn't hanging.\n\n    if (start.offset !== 0 || end.offset !== 0 || Range.isCollapsed(range)) {\n      return range;\n    }\n\n    var endBlock = Editor.above(editor, {\n      at: end,\n      match: n => Editor.isBlock(editor, n)\n    });\n    var blockPath = endBlock ? endBlock[1] : [];\n    var first = Editor.start(editor, start);\n    var before = {\n      anchor: first,\n      focus: end\n    };\n    var skip = true;\n\n    for (var [node, path] of Editor.nodes(editor, {\n      at: before,\n      match: Text.isText,\n      reverse: true,\n      voids\n    })) {\n      if (skip) {\n        skip = false;\n        continue;\n      }\n\n      if (node.text !== '' || Path.isBefore(path, blockPath)) {\n        end = {\n          path,\n          offset: node.text.length\n        };\n        break;\n      }\n    }\n\n    return {\n      anchor: start,\n      focus: end\n    };\n  },\n\n  /**\r\n   * Match a void node in the current branch of the editor.\r\n   */\n  void(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return Editor.above(editor, _objectSpread$8(_objectSpread$8({}, options), {}, {\n      match: n => Editor.isVoid(editor, n)\n    }));\n  },\n\n  /**\r\n   * Call a function, deferring normalization until after it completes.\r\n   */\n  withoutNormalizing(editor, fn) {\n    var value = Editor.isNormalizing(editor);\n    Editor.setNormalizing(editor, false);\n\n    try {\n      fn();\n    } finally {\n      Editor.setNormalizing(editor, value);\n    }\n\n    Editor.normalize(editor);\n  }\n\n};\n\nvar Location = {\n  /**\r\n   * Check if a value implements the `Location` interface.\r\n   */\n  isLocation(value) {\n    return Path.isPath(value) || Point.isPoint(value) || Range.isRange(value);\n  }\n\n};\nvar Span = {\n  /**\r\n   * Check if a value implements the `Span` interface.\r\n   */\n  isSpan(value) {\n    return Array.isArray(value) && value.length === 2 && value.every(Path.isPath);\n  }\n\n};\n\nvar _excluded$3 = [\"children\"],\n    _excluded2$2 = [\"text\"];\nvar IS_NODE_LIST_CACHE = new WeakMap();\nvar Node = {\n  /**\r\n   * Get the node at a specific path, asserting that it's an ancestor node.\r\n   */\n  ancestor(root, path) {\n    var node = Node.get(root, path);\n\n    if (Text.isText(node)) {\n      throw new Error(\"Cannot get the ancestor node at path [\".concat(path, \"] because it refers to a text node instead: \").concat(node));\n    }\n\n    return node;\n  },\n\n  /**\r\n   * Return a generator of all the ancestor nodes above a specific path.\r\n   *\r\n   * By default the order is top-down, from highest to lowest ancestor in\r\n   * the tree, but you can pass the `reverse: true` option to go bottom-up.\r\n   */\n  *ancestors(root, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    for (var p of Path.ancestors(path, options)) {\n      var n = Node.ancestor(root, p);\n      var entry = [n, p];\n      yield entry;\n    }\n  },\n\n  /**\r\n   * Get the child of a node at a specific index.\r\n   */\n  child(root, index) {\n    if (Text.isText(root)) {\n      throw new Error(\"Cannot get the child of a text node: \".concat(JSON.stringify(root)));\n    }\n\n    var c = root.children[index];\n\n    if (c == null) {\n      throw new Error(\"Cannot get child at index `\".concat(index, \"` in node: \").concat(JSON.stringify(root)));\n    }\n\n    return c;\n  },\n\n  /**\r\n   * Iterate over the children of a node at a specific path.\r\n   */\n  *children(root, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      reverse = false\n    } = options;\n    var ancestor = Node.ancestor(root, path);\n    var {\n      children\n    } = ancestor;\n    var index = reverse ? children.length - 1 : 0;\n\n    while (reverse ? index >= 0 : index < children.length) {\n      var child = Node.child(ancestor, index);\n      var childPath = path.concat(index);\n      yield [child, childPath];\n      index = reverse ? index - 1 : index + 1;\n    }\n  },\n\n  /**\r\n   * Get an entry for the common ancesetor node of two paths.\r\n   */\n  common(root, path, another) {\n    var p = Path.common(path, another);\n    var n = Node.get(root, p);\n    return [n, p];\n  },\n\n  /**\r\n   * Get the node at a specific path, asserting that it's a descendant node.\r\n   */\n  descendant(root, path) {\n    var node = Node.get(root, path);\n\n    if (Editor.isEditor(node)) {\n      throw new Error(\"Cannot get the descendant node at path [\".concat(path, \"] because it refers to the root editor node instead: \").concat(node));\n    }\n\n    return node;\n  },\n\n  /**\r\n   * Return a generator of all the descendant node entries inside a root node.\r\n   */\n  *descendants(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var [node, path] of Node.nodes(root, options)) {\n      if (path.length !== 0) {\n        // NOTE: we have to coerce here because checking the path's length does\n        // guarantee that `node` is not a `Editor`, but TypeScript doesn't know.\n        yield [node, path];\n      }\n    }\n  },\n\n  /**\r\n   * Return a generator of all the element nodes inside a root node. Each iteration\r\n   * will return an `ElementEntry` tuple consisting of `[Element, Path]`. If the\r\n   * root node is an element it will be included in the iteration as well.\r\n   */\n  *elements(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var [node, path] of Node.nodes(root, options)) {\n      if (Element.isElement(node)) {\n        yield [node, path];\n      }\n    }\n  },\n\n  /**\r\n   * Extract props from a Node.\r\n   */\n  extractProps(node) {\n    if (Element.isAncestor(node)) {\n      var properties = _objectWithoutProperties(node, _excluded$3);\n\n      return properties;\n    } else {\n      var properties = _objectWithoutProperties(node, _excluded2$2);\n\n      return properties;\n    }\n  },\n\n  /**\r\n   * Get the first node entry in a root node from a path.\r\n   */\n  first(root, path) {\n    var p = path.slice();\n    var n = Node.get(root, p);\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break;\n      } else {\n        n = n.children[0];\n        p.push(0);\n      }\n    }\n\n    return [n, p];\n  },\n\n  /**\r\n   * Get the sliced fragment represented by a range inside a root node.\r\n   */\n  fragment(root, range) {\n    if (Text.isText(root)) {\n      throw new Error(\"Cannot get a fragment starting from a root text node: \".concat(JSON.stringify(root)));\n    }\n\n    var newRoot = produce({\n      children: root.children\n    }, r => {\n      var [start, end] = Range.edges(range);\n      var nodeEntries = Node.nodes(r, {\n        reverse: true,\n        pass: _ref => {\n          var [, path] = _ref;\n          return !Range.includes(range, path);\n        }\n      });\n\n      for (var [, path] of nodeEntries) {\n        if (!Range.includes(range, path)) {\n          var parent = Node.parent(r, path);\n          var index = path[path.length - 1];\n          parent.children.splice(index, 1);\n        }\n\n        if (Path.equals(path, end.path)) {\n          var leaf = Node.leaf(r, path);\n          leaf.text = leaf.text.slice(0, end.offset);\n        }\n\n        if (Path.equals(path, start.path)) {\n          var _leaf = Node.leaf(r, path);\n\n          _leaf.text = _leaf.text.slice(start.offset);\n        }\n      }\n\n      if (Editor.isEditor(r)) {\n        r.selection = null;\n      }\n    });\n    return newRoot.children;\n  },\n\n  /**\r\n   * Get the descendant node referred to by a specific path. If the path is an\r\n   * empty array, it refers to the root node itself.\r\n   */\n  get(root, path) {\n    var node = root;\n\n    for (var i = 0; i < path.length; i++) {\n      var p = path[i];\n\n      if (Text.isText(node) || !node.children[p]) {\n        throw new Error(\"Cannot find a descendant at path [\".concat(path, \"] in node: \").concat(JSON.stringify(root)));\n      }\n\n      node = node.children[p];\n    }\n\n    return node;\n  },\n\n  /**\r\n   * Check if a descendant node exists at a specific path.\r\n   */\n  has(root, path) {\n    var node = root;\n\n    for (var i = 0; i < path.length; i++) {\n      var p = path[i];\n\n      if (Text.isText(node) || !node.children[p]) {\n        return false;\n      }\n\n      node = node.children[p];\n    }\n\n    return true;\n  },\n\n  /**\r\n   * Check if a value implements the `Node` interface.\r\n   */\n  isNode(value) {\n    return Text.isText(value) || Element.isElement(value) || Editor.isEditor(value);\n  },\n\n  /**\r\n   * Check if a value is a list of `Node` objects.\r\n   */\n  isNodeList(value) {\n    if (!Array.isArray(value)) {\n      return false;\n    }\n\n    var cachedResult = IS_NODE_LIST_CACHE.get(value);\n\n    if (cachedResult !== undefined) {\n      return cachedResult;\n    }\n\n    var isNodeList = value.every(val => Node.isNode(val));\n    IS_NODE_LIST_CACHE.set(value, isNodeList);\n    return isNodeList;\n  },\n\n  /**\r\n   * Get the last node entry in a root node from a path.\r\n   */\n  last(root, path) {\n    var p = path.slice();\n    var n = Node.get(root, p);\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break;\n      } else {\n        var i = n.children.length - 1;\n        n = n.children[i];\n        p.push(i);\n      }\n    }\n\n    return [n, p];\n  },\n\n  /**\r\n   * Get the node at a specific path, ensuring it's a leaf text node.\r\n   */\n  leaf(root, path) {\n    var node = Node.get(root, path);\n\n    if (!Text.isText(node)) {\n      throw new Error(\"Cannot get the leaf node at path [\".concat(path, \"] because it refers to a non-leaf node: \").concat(node));\n    }\n\n    return node;\n  },\n\n  /**\r\n   * Return a generator of the in a branch of the tree, from a specific path.\r\n   *\r\n   * By default the order is top-down, from highest to lowest node in the tree,\r\n   * but you can pass the `reverse: true` option to go bottom-up.\r\n   */\n  *levels(root, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    for (var p of Path.levels(path, options)) {\n      var n = Node.get(root, p);\n      yield [n, p];\n    }\n  },\n\n  /**\r\n   * Check if a node matches a set of props.\r\n   */\n  matches(node, props) {\n    return Element.isElement(node) && Element.isElementProps(props) && Element.matches(node, props) || Text.isText(node) && Text.isTextProps(props) && Text.matches(node, props);\n  },\n\n  /**\r\n   * Return a generator of all the node entries of a root node. Each entry is\r\n   * returned as a `[Node, Path]` tuple, with the path referring to the node's\r\n   * position inside the root node.\r\n   */\n  *nodes(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      pass,\n      reverse = false\n    } = options;\n    var {\n      from = [],\n      to\n    } = options;\n    var visited = new Set();\n    var p = [];\n    var n = root;\n\n    while (true) {\n      if (to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to))) {\n        break;\n      }\n\n      if (!visited.has(n)) {\n        yield [n, p];\n      } // If we're allowed to go downward and we haven't descended yet, do.\n\n\n      if (!visited.has(n) && !Text.isText(n) && n.children.length !== 0 && (pass == null || pass([n, p]) === false)) {\n        visited.add(n);\n        var nextIndex = reverse ? n.children.length - 1 : 0;\n\n        if (Path.isAncestor(p, from)) {\n          nextIndex = from[p.length];\n        }\n\n        p = p.concat(nextIndex);\n        n = Node.get(root, p);\n        continue;\n      } // If we're at the root and we can't go down, we're done.\n\n\n      if (p.length === 0) {\n        break;\n      } // If we're going forward...\n\n\n      if (!reverse) {\n        var newPath = Path.next(p);\n\n        if (Node.has(root, newPath)) {\n          p = newPath;\n          n = Node.get(root, p);\n          continue;\n        }\n      } // If we're going backward...\n\n\n      if (reverse && p[p.length - 1] !== 0) {\n        var _newPath = Path.previous(p);\n\n        p = _newPath;\n        n = Node.get(root, p);\n        continue;\n      } // Otherwise we're going upward...\n\n\n      p = Path.parent(p);\n      n = Node.get(root, p);\n      visited.add(n);\n    }\n  },\n\n  /**\r\n   * Get the parent of a node at a specific path.\r\n   */\n  parent(root, path) {\n    var parentPath = Path.parent(path);\n    var p = Node.get(root, parentPath);\n\n    if (Text.isText(p)) {\n      throw new Error(\"Cannot get the parent of path [\".concat(path, \"] because it does not exist in the root.\"));\n    }\n\n    return p;\n  },\n\n  /**\r\n   * Get the concatenated text string of a node's content.\r\n   *\r\n   * Note that this will not include spaces or line breaks between block nodes.\r\n   * It is not a user-facing string, but a string for performing offset-related\r\n   * computations for a node.\r\n   */\n  string(node) {\n    if (Text.isText(node)) {\n      return node.text;\n    } else {\n      return node.children.map(Node.string).join('');\n    }\n  },\n\n  /**\r\n   * Return a generator of all leaf text nodes in a root node.\r\n   */\n  *texts(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var [node, path] of Node.nodes(root, options)) {\n      if (Text.isText(node)) {\n        yield [node, path];\n      }\n    }\n  }\n\n};\n\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$7(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Operation = {\n  /**\r\n   * Check of a value is a `NodeOperation` object.\r\n   */\n  isNodeOperation(value) {\n    return Operation.isOperation(value) && value.type.endsWith('_node');\n  },\n\n  /**\r\n   * Check of a value is an `Operation` object.\r\n   */\n  isOperation(value) {\n    if (!isPlainObject(value)) {\n      return false;\n    }\n\n    switch (value.type) {\n      case 'insert_node':\n        return Path.isPath(value.path) && Node.isNode(value.node);\n\n      case 'insert_text':\n        return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n\n      case 'merge_node':\n        return typeof value.position === 'number' && Path.isPath(value.path) && isPlainObject(value.properties);\n\n      case 'move_node':\n        return Path.isPath(value.path) && Path.isPath(value.newPath);\n\n      case 'remove_node':\n        return Path.isPath(value.path) && Node.isNode(value.node);\n\n      case 'remove_text':\n        return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n\n      case 'set_node':\n        return Path.isPath(value.path) && isPlainObject(value.properties) && isPlainObject(value.newProperties);\n\n      case 'set_selection':\n        return value.properties === null && Range.isRange(value.newProperties) || value.newProperties === null && Range.isRange(value.properties) || isPlainObject(value.properties) && isPlainObject(value.newProperties);\n\n      case 'split_node':\n        return Path.isPath(value.path) && typeof value.position === 'number' && isPlainObject(value.properties);\n\n      default:\n        return false;\n    }\n  },\n\n  /**\r\n   * Check if a value is a list of `Operation` objects.\r\n   */\n  isOperationList(value) {\n    return Array.isArray(value) && value.every(val => Operation.isOperation(val));\n  },\n\n  /**\r\n   * Check of a value is a `SelectionOperation` object.\r\n   */\n  isSelectionOperation(value) {\n    return Operation.isOperation(value) && value.type.endsWith('_selection');\n  },\n\n  /**\r\n   * Check of a value is a `TextOperation` object.\r\n   */\n  isTextOperation(value) {\n    return Operation.isOperation(value) && value.type.endsWith('_text');\n  },\n\n  /**\r\n   * Invert an operation, returning a new operation that will exactly undo the\r\n   * original when applied.\r\n   */\n  inverse(op) {\n    switch (op.type) {\n      case 'insert_node':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'remove_node'\n          });\n        }\n\n      case 'insert_text':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'remove_text'\n          });\n        }\n\n      case 'merge_node':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'split_node',\n            path: Path.previous(op.path)\n          });\n        }\n\n      case 'move_node':\n        {\n          var {\n            newPath,\n            path\n          } = op; // PERF: in this case the move operation is a no-op anyways.\n\n          if (Path.equals(newPath, path)) {\n            return op;\n          } // If the move happens completely within a single parent the path and\n          // newPath are stable with respect to each other.\n\n\n          if (Path.isSibling(path, newPath)) {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              path: newPath,\n              newPath: path\n            });\n          } // If the move does not happen within a single parent it is possible\n          // for the move to impact the true path to the location where the node\n          // was removed from and where it was inserted. We have to adjust for this\n          // and find the original path. We can accomplish this (only in non-sibling)\n          // moves by looking at the impact of the move operation on the node\n          // after the original move path.\n\n\n          var inversePath = Path.transform(path, op);\n          var inverseNewPath = Path.transform(Path.next(path), op);\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            path: inversePath,\n            newPath: inverseNewPath\n          });\n        }\n\n      case 'remove_node':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'insert_node'\n          });\n        }\n\n      case 'remove_text':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'insert_text'\n          });\n        }\n\n      case 'set_node':\n        {\n          var {\n            properties,\n            newProperties\n          } = op;\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            properties: newProperties,\n            newProperties: properties\n          });\n        }\n\n      case 'set_selection':\n        {\n          var {\n            properties: _properties,\n            newProperties: _newProperties\n          } = op;\n\n          if (_properties == null) {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              properties: _newProperties,\n              newProperties: null\n            });\n          } else if (_newProperties == null) {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              properties: null,\n              newProperties: _properties\n            });\n          } else {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              properties: _newProperties,\n              newProperties: _properties\n            });\n          }\n        }\n\n      case 'split_node':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'merge_node',\n            path: Path.next(op.path)\n          });\n        }\n    }\n  }\n\n};\n\nvar Path = {\n  /**\r\n   * Get a list of ancestor paths for a given path.\r\n   *\r\n   * The paths are sorted from shallowest to deepest ancestor. However, if the\r\n   * `reverse: true` option is passed, they are reversed.\r\n   */\n  ancestors(path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      reverse = false\n    } = options;\n    var paths = Path.levels(path, options);\n\n    if (reverse) {\n      paths = paths.slice(1);\n    } else {\n      paths = paths.slice(0, -1);\n    }\n\n    return paths;\n  },\n\n  /**\r\n   * Get the common ancestor path of two paths.\r\n   */\n  common(path, another) {\n    var common = [];\n\n    for (var i = 0; i < path.length && i < another.length; i++) {\n      var av = path[i];\n      var bv = another[i];\n\n      if (av !== bv) {\n        break;\n      }\n\n      common.push(av);\n    }\n\n    return common;\n  },\n\n  /**\r\n   * Compare a path to another, returning an integer indicating whether the path\r\n   * was before, at, or after the other.\r\n   *\r\n   * Note: Two paths of unequal length can still receive a `0` result if one is\r\n   * directly above or below the other. If you want exact matching, use\r\n   * [[Path.equals]] instead.\r\n   */\n  compare(path, another) {\n    var min = Math.min(path.length, another.length);\n\n    for (var i = 0; i < min; i++) {\n      if (path[i] < another[i]) return -1;\n      if (path[i] > another[i]) return 1;\n    }\n\n    return 0;\n  },\n\n  /**\r\n   * Check if a path ends after one of the indexes in another.\r\n   */\n  endsAfter(path, another) {\n    var i = path.length - 1;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    var av = path[i];\n    var bv = another[i];\n    return Path.equals(as, bs) && av > bv;\n  },\n\n  /**\r\n   * Check if a path ends at one of the indexes in another.\r\n   */\n  endsAt(path, another) {\n    var i = path.length;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    return Path.equals(as, bs);\n  },\n\n  /**\r\n   * Check if a path ends before one of the indexes in another.\r\n   */\n  endsBefore(path, another) {\n    var i = path.length - 1;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    var av = path[i];\n    var bv = another[i];\n    return Path.equals(as, bs) && av < bv;\n  },\n\n  /**\r\n   * Check if a path is exactly equal to another.\r\n   */\n  equals(path, another) {\n    return path.length === another.length && path.every((n, i) => n === another[i]);\n  },\n\n  /**\r\n   * Check if the path of previous sibling node exists\r\n   */\n  hasPrevious(path) {\n    return path[path.length - 1] > 0;\n  },\n\n  /**\r\n   * Check if a path is after another.\r\n   */\n  isAfter(path, another) {\n    return Path.compare(path, another) === 1;\n  },\n\n  /**\r\n   * Check if a path is an ancestor of another.\r\n   */\n  isAncestor(path, another) {\n    return path.length < another.length && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check if a path is before another.\r\n   */\n  isBefore(path, another) {\n    return Path.compare(path, another) === -1;\n  },\n\n  /**\r\n   * Check if a path is a child of another.\r\n   */\n  isChild(path, another) {\n    return path.length === another.length + 1 && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check if a path is equal to or an ancestor of another.\r\n   */\n  isCommon(path, another) {\n    return path.length <= another.length && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check if a path is a descendant of another.\r\n   */\n  isDescendant(path, another) {\n    return path.length > another.length && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check if a path is the parent of another.\r\n   */\n  isParent(path, another) {\n    return path.length + 1 === another.length && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check is a value implements the `Path` interface.\r\n   */\n  isPath(value) {\n    return Array.isArray(value) && (value.length === 0 || typeof value[0] === 'number');\n  },\n\n  /**\r\n   * Check if a path is a sibling of another.\r\n   */\n  isSibling(path, another) {\n    if (path.length !== another.length) {\n      return false;\n    }\n\n    var as = path.slice(0, -1);\n    var bs = another.slice(0, -1);\n    var al = path[path.length - 1];\n    var bl = another[another.length - 1];\n    return al !== bl && Path.equals(as, bs);\n  },\n\n  /**\r\n   * Get a list of paths at every level down to a path. Note: this is the same\r\n   * as `Path.ancestors`, but including the path itself.\r\n   *\r\n   * The paths are sorted from shallowest to deepest. However, if the `reverse:\r\n   * true` option is passed, they are reversed.\r\n   */\n  levels(path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      reverse = false\n    } = options;\n    var list = [];\n\n    for (var i = 0; i <= path.length; i++) {\n      list.push(path.slice(0, i));\n    }\n\n    if (reverse) {\n      list.reverse();\n    }\n\n    return list;\n  },\n\n  /**\r\n   * Given a path, get the path to the next sibling node.\r\n   */\n  next(path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the next path of a root path [\".concat(path, \"], because it has no next index.\"));\n    }\n\n    var last = path[path.length - 1];\n    return path.slice(0, -1).concat(last + 1);\n  },\n\n  /**\r\n   * Returns whether this operation can affect paths or not. Used as an\r\n   * optimization when updating dirty paths during normalization\r\n   *\r\n   * NOTE: This *must* be kept in sync with the implementation of 'transform'\r\n   * below\r\n   */\n  operationCanTransformPath(operation) {\n    switch (operation.type) {\n      case 'insert_node':\n      case 'remove_node':\n      case 'merge_node':\n      case 'split_node':\n      case 'move_node':\n        return true;\n\n      default:\n        return false;\n    }\n  },\n\n  /**\r\n   * Given a path, return a new path referring to the parent node above it.\r\n   */\n  parent(path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the parent path of the root path [\".concat(path, \"].\"));\n    }\n\n    return path.slice(0, -1);\n  },\n\n  /**\r\n   * Given a path, get the path to the previous sibling node.\r\n   */\n  previous(path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the previous path of a root path [\".concat(path, \"], because it has no previous index.\"));\n    }\n\n    var last = path[path.length - 1];\n\n    if (last <= 0) {\n      throw new Error(\"Cannot get the previous path of a first child path [\".concat(path, \"] because it would result in a negative index.\"));\n    }\n\n    return path.slice(0, -1).concat(last - 1);\n  },\n\n  /**\r\n   * Get a path relative to an ancestor.\r\n   */\n  relative(path, ancestor) {\n    if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\n      throw new Error(\"Cannot get the relative path of [\".concat(path, \"] inside ancestor [\").concat(ancestor, \"], because it is not above or equal to the path.\"));\n    }\n\n    return path.slice(ancestor.length);\n  },\n\n  /**\r\n   * Transform a path by an operation.\r\n   */\n  transform(path, operation) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return produce(path, p => {\n      var {\n        affinity = 'forward'\n      } = options; // PERF: Exit early if the operation is guaranteed not to have an effect.\n\n      if (!path || (path === null || path === void 0 ? void 0 : path.length) === 0) {\n        return;\n      }\n\n      if (p === null) {\n        return null;\n      }\n\n      switch (operation.type) {\n        case 'insert_node':\n          {\n            var {\n              path: op\n            } = operation;\n\n            if (Path.equals(op, p) || Path.endsBefore(op, p) || Path.isAncestor(op, p)) {\n              p[op.length - 1] += 1;\n            }\n\n            break;\n          }\n\n        case 'remove_node':\n          {\n            var {\n              path: _op\n            } = operation;\n\n            if (Path.equals(_op, p) || Path.isAncestor(_op, p)) {\n              return null;\n            } else if (Path.endsBefore(_op, p)) {\n              p[_op.length - 1] -= 1;\n            }\n\n            break;\n          }\n\n        case 'merge_node':\n          {\n            var {\n              path: _op2,\n              position\n            } = operation;\n\n            if (Path.equals(_op2, p) || Path.endsBefore(_op2, p)) {\n              p[_op2.length - 1] -= 1;\n            } else if (Path.isAncestor(_op2, p)) {\n              p[_op2.length - 1] -= 1;\n              p[_op2.length] += position;\n            }\n\n            break;\n          }\n\n        case 'split_node':\n          {\n            var {\n              path: _op3,\n              position: _position\n            } = operation;\n\n            if (Path.equals(_op3, p)) {\n              if (affinity === 'forward') {\n                p[p.length - 1] += 1;\n              } else if (affinity === 'backward') ; else {\n                return null;\n              }\n            } else if (Path.endsBefore(_op3, p)) {\n              p[_op3.length - 1] += 1;\n            } else if (Path.isAncestor(_op3, p) && path[_op3.length] >= _position) {\n              p[_op3.length - 1] += 1;\n              p[_op3.length] -= _position;\n            }\n\n            break;\n          }\n\n        case 'move_node':\n          {\n            var {\n              path: _op4,\n              newPath: onp\n            } = operation; // If the old and new path are the same, it's a no-op.\n\n            if (Path.equals(_op4, onp)) {\n              return;\n            }\n\n            if (Path.isAncestor(_op4, p) || Path.equals(_op4, p)) {\n              var copy = onp.slice();\n\n              if (Path.endsBefore(_op4, onp) && _op4.length < onp.length) {\n                copy[_op4.length - 1] -= 1;\n              }\n\n              return copy.concat(p.slice(_op4.length));\n            } else if (Path.isSibling(_op4, onp) && (Path.isAncestor(onp, p) || Path.equals(onp, p))) {\n              if (Path.endsBefore(_op4, p)) {\n                p[_op4.length - 1] -= 1;\n              } else {\n                p[_op4.length - 1] += 1;\n              }\n            } else if (Path.endsBefore(onp, p) || Path.equals(onp, p) || Path.isAncestor(onp, p)) {\n              if (Path.endsBefore(_op4, p)) {\n                p[_op4.length - 1] -= 1;\n              }\n\n              p[onp.length - 1] += 1;\n            } else if (Path.endsBefore(_op4, p)) {\n              if (Path.equals(onp, p)) {\n                p[onp.length - 1] += 1;\n              }\n\n              p[_op4.length - 1] -= 1;\n            }\n\n            break;\n          }\n      }\n    });\n  }\n\n};\n\nvar PathRef = {\n  /**\r\n   * Transform the path ref's current value by an operation.\r\n   */\n  transform(ref, op) {\n    var {\n      current,\n      affinity\n    } = ref;\n\n    if (current == null) {\n      return;\n    }\n\n    var path = Path.transform(current, op, {\n      affinity\n    });\n    ref.current = path;\n\n    if (path == null) {\n      ref.unref();\n    }\n  }\n\n};\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Point = {\n  /**\r\n   * Compare a point to another, returning an integer indicating whether the\r\n   * point was before, at, or after the other.\r\n   */\n  compare(point, another) {\n    var result = Path.compare(point.path, another.path);\n\n    if (result === 0) {\n      if (point.offset < another.offset) return -1;\n      if (point.offset > another.offset) return 1;\n      return 0;\n    }\n\n    return result;\n  },\n\n  /**\r\n   * Check if a point is after another.\r\n   */\n  isAfter(point, another) {\n    return Point.compare(point, another) === 1;\n  },\n\n  /**\r\n   * Check if a point is before another.\r\n   */\n  isBefore(point, another) {\n    return Point.compare(point, another) === -1;\n  },\n\n  /**\r\n   * Check if a point is exactly equal to another.\r\n   */\n  equals(point, another) {\n    // PERF: ensure the offsets are equal first since they are cheaper to check.\n    return point.offset === another.offset && Path.equals(point.path, another.path);\n  },\n\n  /**\r\n   * Check if a value implements the `Point` interface.\r\n   */\n  isPoint(value) {\n    return isPlainObject(value) && typeof value.offset === 'number' && Path.isPath(value.path);\n  },\n\n  /**\r\n   * Transform a point by an operation.\r\n   */\n  transform(point, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return produce(point, p => {\n      if (p === null) {\n        return null;\n      }\n\n      var {\n        affinity = 'forward'\n      } = options;\n      var {\n        path,\n        offset\n      } = p;\n\n      switch (op.type) {\n        case 'insert_node':\n        case 'move_node':\n          {\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'insert_text':\n          {\n            if (Path.equals(op.path, path) && (op.offset < offset || op.offset === offset && affinity === 'forward')) {\n              p.offset += op.text.length;\n            }\n\n            break;\n          }\n\n        case 'merge_node':\n          {\n            if (Path.equals(op.path, path)) {\n              p.offset += op.position;\n            }\n\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'remove_text':\n          {\n            if (Path.equals(op.path, path) && op.offset <= offset) {\n              p.offset -= Math.min(offset - op.offset, op.text.length);\n            }\n\n            break;\n          }\n\n        case 'remove_node':\n          {\n            if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\n              return null;\n            }\n\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'split_node':\n          {\n            if (Path.equals(op.path, path)) {\n              if (op.position === offset && affinity == null) {\n                return null;\n              } else if (op.position < offset || op.position === offset && affinity === 'forward') {\n                p.offset -= op.position;\n                p.path = Path.transform(path, op, _objectSpread$6(_objectSpread$6({}, options), {}, {\n                  affinity: 'forward'\n                }));\n              }\n            } else {\n              p.path = Path.transform(path, op, options);\n            }\n\n            break;\n          }\n      }\n    });\n  }\n\n};\n\nvar PointRef = {\n  /**\r\n   * Transform the point ref's current value by an operation.\r\n   */\n  transform(ref, op) {\n    var {\n      current,\n      affinity\n    } = ref;\n\n    if (current == null) {\n      return;\n    }\n\n    var point = Point.transform(current, op, {\n      affinity\n    });\n    ref.current = point;\n\n    if (point == null) {\n      ref.unref();\n    }\n  }\n\n};\n\nvar _excluded$2 = [\"anchor\", \"focus\"];\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Range = {\n  /**\r\n   * Get the start and end points of a range, in the order in which they appear\r\n   * in the document.\r\n   */\n  edges(range) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      reverse = false\n    } = options;\n    var {\n      anchor,\n      focus\n    } = range;\n    return Range.isBackward(range) === reverse ? [anchor, focus] : [focus, anchor];\n  },\n\n  /**\r\n   * Get the end point of a range.\r\n   */\n  end(range) {\n    var [, end] = Range.edges(range);\n    return end;\n  },\n\n  /**\r\n   * Check if a range is exactly equal to another.\r\n   */\n  equals(range, another) {\n    return Point.equals(range.anchor, another.anchor) && Point.equals(range.focus, another.focus);\n  },\n\n  /**\r\n   * Check if a range includes a path, a point or part of another range.\r\n   */\n  includes(range, target) {\n    if (Range.isRange(target)) {\n      if (Range.includes(range, target.anchor) || Range.includes(range, target.focus)) {\n        return true;\n      }\n\n      var [rs, re] = Range.edges(range);\n      var [ts, te] = Range.edges(target);\n      return Point.isBefore(rs, ts) && Point.isAfter(re, te);\n    }\n\n    var [start, end] = Range.edges(range);\n    var isAfterStart = false;\n    var isBeforeEnd = false;\n\n    if (Point.isPoint(target)) {\n      isAfterStart = Point.compare(target, start) >= 0;\n      isBeforeEnd = Point.compare(target, end) <= 0;\n    } else {\n      isAfterStart = Path.compare(target, start.path) >= 0;\n      isBeforeEnd = Path.compare(target, end.path) <= 0;\n    }\n\n    return isAfterStart && isBeforeEnd;\n  },\n\n  /**\r\n   * Get the intersection of a range with another.\r\n   */\n  intersection(range, another) {\n    var rest = _objectWithoutProperties(range, _excluded$2);\n\n    var [s1, e1] = Range.edges(range);\n    var [s2, e2] = Range.edges(another);\n    var start = Point.isBefore(s1, s2) ? s2 : s1;\n    var end = Point.isBefore(e1, e2) ? e1 : e2;\n\n    if (Point.isBefore(end, start)) {\n      return null;\n    } else {\n      return _objectSpread$5({\n        anchor: start,\n        focus: end\n      }, rest);\n    }\n  },\n\n  /**\r\n   * Check if a range is backward, meaning that its anchor point appears in the\r\n   * document _after_ its focus point.\r\n   */\n  isBackward(range) {\n    var {\n      anchor,\n      focus\n    } = range;\n    return Point.isAfter(anchor, focus);\n  },\n\n  /**\r\n   * Check if a range is collapsed, meaning that both its anchor and focus\r\n   * points refer to the exact same position in the document.\r\n   */\n  isCollapsed(range) {\n    var {\n      anchor,\n      focus\n    } = range;\n    return Point.equals(anchor, focus);\n  },\n\n  /**\r\n   * Check if a range is expanded.\r\n   *\r\n   * This is the opposite of [[Range.isCollapsed]] and is provided for legibility.\r\n   */\n  isExpanded(range) {\n    return !Range.isCollapsed(range);\n  },\n\n  /**\r\n   * Check if a range is forward.\r\n   *\r\n   * This is the opposite of [[Range.isBackward]] and is provided for legibility.\r\n   */\n  isForward(range) {\n    return !Range.isBackward(range);\n  },\n\n  /**\r\n   * Check if a value implements the [[Range]] interface.\r\n   */\n  isRange(value) {\n    return isPlainObject(value) && Point.isPoint(value.anchor) && Point.isPoint(value.focus);\n  },\n\n  /**\r\n   * Iterate through all of the point entries in a range.\r\n   */\n  *points(range) {\n    yield [range.anchor, 'anchor'];\n    yield [range.focus, 'focus'];\n  },\n\n  /**\r\n   * Get the start point of a range.\r\n   */\n  start(range) {\n    var [start] = Range.edges(range);\n    return start;\n  },\n\n  /**\r\n   * Transform a range by an operation.\r\n   */\n  transform(range, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return produce(range, r => {\n      if (r === null) {\n        return null;\n      }\n\n      var {\n        affinity = 'inward'\n      } = options;\n      var affinityAnchor;\n      var affinityFocus;\n\n      if (affinity === 'inward') {\n        // If the range is collapsed, make sure to use the same affinity to\n        // avoid the two points passing each other and expanding in the opposite\n        // direction\n        var isCollapsed = Range.isCollapsed(r);\n\n        if (Range.isForward(r)) {\n          affinityAnchor = 'forward';\n          affinityFocus = isCollapsed ? affinityAnchor : 'backward';\n        } else {\n          affinityAnchor = 'backward';\n          affinityFocus = isCollapsed ? affinityAnchor : 'forward';\n        }\n      } else if (affinity === 'outward') {\n        if (Range.isForward(r)) {\n          affinityAnchor = 'backward';\n          affinityFocus = 'forward';\n        } else {\n          affinityAnchor = 'forward';\n          affinityFocus = 'backward';\n        }\n      } else {\n        affinityAnchor = affinity;\n        affinityFocus = affinity;\n      }\n\n      var anchor = Point.transform(r.anchor, op, {\n        affinity: affinityAnchor\n      });\n      var focus = Point.transform(r.focus, op, {\n        affinity: affinityFocus\n      });\n\n      if (!anchor || !focus) {\n        return null;\n      }\n\n      r.anchor = anchor;\n      r.focus = focus;\n    });\n  }\n\n};\n\nvar RangeRef = {\n  /**\r\n   * Transform the range ref's current value by an operation.\r\n   */\n  transform(ref, op) {\n    var {\n      current,\n      affinity\n    } = ref;\n\n    if (current == null) {\n      return;\n    }\n\n    var path = Range.transform(current, op, {\n      affinity\n    });\n    ref.current = path;\n\n    if (path == null) {\n      ref.unref();\n    }\n  }\n\n};\n\n/*\r\n  Custom deep equal comparison for Slate nodes.\r\n\n  We don't need general purpose deep equality;\r\n  Slate only supports plain values, Arrays, and nested objects.\r\n  Complex values nested inside Arrays are not supported.\r\n\n  Slate objects are designed to be serialised, so\r\n  missing keys are deliberately normalised to undefined.\r\n */\n\nvar isDeepEqual = (node, another) => {\n  for (var key in node) {\n    var a = node[key];\n    var b = another[key];\n\n    if (isPlainObject(a) && isPlainObject(b)) {\n      if (!isDeepEqual(a, b)) return false;\n    } else if (Array.isArray(a) && Array.isArray(b)) {\n      if (a.length !== b.length) return false;\n\n      for (var i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) return false;\n      }\n    } else if (a !== b) {\n      return false;\n    }\n  }\n  /*\r\n    Deep object equality is only necessary in one direction; in the reverse direction\r\n    we are only looking for keys that are missing.\r\n    As above, undefined keys are normalised to missing.\r\n  */\n\n\n  for (var _key in another) {\n    if (node[_key] === undefined && another[_key] !== undefined) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar _excluded$1 = [\"text\"],\n    _excluded2$1 = [\"anchor\", \"focus\"];\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Text = {\n  /**\r\n   * Check if two text nodes are equal.\r\n   *\r\n   * When loose is set, the text is not compared. This is\r\n   * used to check whether sibling text nodes can be merged.\r\n   */\n  equals(text, another) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      loose = false\n    } = options;\n\n    function omitText(obj) {\n      var rest = _objectWithoutProperties(obj, _excluded$1);\n\n      return rest;\n    }\n\n    return isDeepEqual(loose ? omitText(text) : text, loose ? omitText(another) : another);\n  },\n\n  /**\r\n   * Check if a value implements the `Text` interface.\r\n   */\n  isText(value) {\n    return isPlainObject(value) && typeof value.text === 'string';\n  },\n\n  /**\r\n   * Check if a value is a list of `Text` objects.\r\n   */\n  isTextList(value) {\n    return Array.isArray(value) && value.every(val => Text.isText(val));\n  },\n\n  /**\r\n   * Check if some props are a partial of Text.\r\n   */\n  isTextProps(props) {\n    return props.text !== undefined;\n  },\n\n  /**\r\n   * Check if an text matches set of properties.\r\n   *\r\n   * Note: this is for matching custom properties, and it does not ensure that\r\n   * the `text` property are two nodes equal.\r\n   */\n  matches(text, props) {\n    for (var key in props) {\n      if (key === 'text') {\n        continue;\n      }\n\n      if (!text.hasOwnProperty(key) || text[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\r\n   * Get the leaves for a text node given decorations.\r\n   */\n  decorations(node, decorations) {\n    var leaves = [_objectSpread$4({}, node)];\n\n    for (var dec of decorations) {\n      var rest = _objectWithoutProperties(dec, _excluded2$1);\n\n      var [start, end] = Range.edges(dec);\n      var next = [];\n      var o = 0;\n\n      for (var leaf of leaves) {\n        var {\n          length\n        } = leaf.text;\n        var offset = o;\n        o += length; // If the range encompases the entire leaf, add the range.\n\n        if (start.offset <= offset && end.offset >= o) {\n          Object.assign(leaf, rest);\n          next.push(leaf);\n          continue;\n        } // If the range expanded and match the leaf, or starts after, or ends before it, continue.\n\n\n        if (start.offset !== end.offset && (start.offset === o || end.offset === offset) || start.offset > o || end.offset < offset || end.offset === offset && offset !== 0) {\n          next.push(leaf);\n          continue;\n        } // Otherwise we need to split the leaf, at the start, end, or both,\n        // and add the range to the middle intersecting section. Do the end\n        // split first since we don't need to update the offset that way.\n\n\n        var middle = leaf;\n        var before = void 0;\n        var after = void 0;\n\n        if (end.offset < o) {\n          var off = end.offset - offset;\n          after = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n            text: middle.text.slice(off)\n          });\n          middle = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n            text: middle.text.slice(0, off)\n          });\n        }\n\n        if (start.offset > offset) {\n          var _off = start.offset - offset;\n\n          before = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n            text: middle.text.slice(0, _off)\n          });\n          middle = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n            text: middle.text.slice(_off)\n          });\n        }\n\n        Object.assign(middle, rest);\n\n        if (before) {\n          next.push(before);\n        }\n\n        next.push(middle);\n\n        if (after) {\n          next.push(after);\n        }\n      }\n\n      leaves = next;\n    }\n\n    return leaves;\n  }\n\n};\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar applyToDraft = (editor, selection, op) => {\n  switch (op.type) {\n    case 'insert_node':\n      {\n        var {\n          path,\n          node\n        } = op;\n        var parent = Node.parent(editor, path);\n        var index = path[path.length - 1];\n\n        if (index > parent.children.length) {\n          throw new Error(\"Cannot apply an \\\"insert_node\\\" operation at path [\".concat(path, \"] because the destination is past the end of the node.\"));\n        }\n\n        parent.children.splice(index, 0, node);\n\n        if (selection) {\n          for (var [point, key] of Range.points(selection)) {\n            selection[key] = Point.transform(point, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'insert_text':\n      {\n        var {\n          path: _path,\n          offset,\n          text\n        } = op;\n        if (text.length === 0) break;\n\n        var _node = Node.leaf(editor, _path);\n\n        var before = _node.text.slice(0, offset);\n\n        var after = _node.text.slice(offset);\n\n        _node.text = before + text + after;\n\n        if (selection) {\n          for (var [_point, _key] of Range.points(selection)) {\n            selection[_key] = Point.transform(_point, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'merge_node':\n      {\n        var {\n          path: _path2\n        } = op;\n\n        var _node2 = Node.get(editor, _path2);\n\n        var prevPath = Path.previous(_path2);\n        var prev = Node.get(editor, prevPath);\n\n        var _parent = Node.parent(editor, _path2);\n\n        var _index = _path2[_path2.length - 1];\n\n        if (Text.isText(_node2) && Text.isText(prev)) {\n          prev.text += _node2.text;\n        } else if (!Text.isText(_node2) && !Text.isText(prev)) {\n          prev.children.push(..._node2.children);\n        } else {\n          throw new Error(\"Cannot apply a \\\"merge_node\\\" operation at path [\".concat(_path2, \"] to nodes of different interfaces: \").concat(_node2, \" \").concat(prev));\n        }\n\n        _parent.children.splice(_index, 1);\n\n        if (selection) {\n          for (var [_point2, _key2] of Range.points(selection)) {\n            selection[_key2] = Point.transform(_point2, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'move_node':\n      {\n        var {\n          path: _path3,\n          newPath\n        } = op;\n\n        if (Path.isAncestor(_path3, newPath)) {\n          throw new Error(\"Cannot move a path [\".concat(_path3, \"] to new path [\").concat(newPath, \"] because the destination is inside itself.\"));\n        }\n\n        var _node3 = Node.get(editor, _path3);\n\n        var _parent2 = Node.parent(editor, _path3);\n\n        var _index2 = _path3[_path3.length - 1]; // This is tricky, but since the `path` and `newPath` both refer to\n        // the same snapshot in time, there's a mismatch. After either\n        // removing the original position, the second step's path can be out\n        // of date. So instead of using the `op.newPath` directly, we\n        // transform `op.path` to ascertain what the `newPath` would be after\n        // the operation was applied.\n\n        _parent2.children.splice(_index2, 1);\n\n        var truePath = Path.transform(_path3, op);\n        var newParent = Node.get(editor, Path.parent(truePath));\n        var newIndex = truePath[truePath.length - 1];\n        newParent.children.splice(newIndex, 0, _node3);\n\n        if (selection) {\n          for (var [_point3, _key3] of Range.points(selection)) {\n            selection[_key3] = Point.transform(_point3, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'remove_node':\n      {\n        var {\n          path: _path4\n        } = op;\n        var _index3 = _path4[_path4.length - 1];\n\n        var _parent3 = Node.parent(editor, _path4);\n\n        _parent3.children.splice(_index3, 1); // Transform all of the points in the value, but if the point was in the\n        // node that was removed we need to update the range or remove it.\n\n\n        if (selection) {\n          for (var [_point4, _key4] of Range.points(selection)) {\n            var result = Point.transform(_point4, op);\n\n            if (selection != null && result != null) {\n              selection[_key4] = result;\n            } else {\n              var _prev = void 0;\n\n              var next = void 0;\n\n              for (var [n, p] of Node.texts(editor)) {\n                if (Path.compare(p, _path4) === -1) {\n                  _prev = [n, p];\n                } else {\n                  next = [n, p];\n                  break;\n                }\n              }\n\n              var preferNext = false;\n\n              if (_prev && next) {\n                if (Path.equals(next[1], _path4)) {\n                  preferNext = !Path.hasPrevious(next[1]);\n                } else {\n                  preferNext = Path.common(_prev[1], _path4).length < Path.common(next[1], _path4).length;\n                }\n              }\n\n              if (_prev && !preferNext) {\n                _point4.path = _prev[1];\n                _point4.offset = _prev[0].text.length;\n              } else if (next) {\n                _point4.path = next[1];\n                _point4.offset = 0;\n              } else {\n                selection = null;\n              }\n            }\n          }\n        }\n\n        break;\n      }\n\n    case 'remove_text':\n      {\n        var {\n          path: _path5,\n          offset: _offset,\n          text: _text\n        } = op;\n        if (_text.length === 0) break;\n\n        var _node4 = Node.leaf(editor, _path5);\n\n        var _before = _node4.text.slice(0, _offset);\n\n        var _after = _node4.text.slice(_offset + _text.length);\n\n        _node4.text = _before + _after;\n\n        if (selection) {\n          for (var [_point5, _key5] of Range.points(selection)) {\n            selection[_key5] = Point.transform(_point5, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'set_node':\n      {\n        var {\n          path: _path6,\n          properties,\n          newProperties\n        } = op;\n\n        if (_path6.length === 0) {\n          throw new Error(\"Cannot set properties on the root node!\");\n        }\n\n        var _node5 = Node.get(editor, _path6);\n\n        for (var _key6 in newProperties) {\n          if (_key6 === 'children' || _key6 === 'text') {\n            throw new Error(\"Cannot set the \\\"\".concat(_key6, \"\\\" property of nodes!\"));\n          }\n\n          var value = newProperties[_key6];\n\n          if (value == null) {\n            delete _node5[_key6];\n          } else {\n            _node5[_key6] = value;\n          }\n        } // properties that were previously defined, but are now missing, must be deleted\n\n\n        for (var _key7 in properties) {\n          if (!newProperties.hasOwnProperty(_key7)) {\n            delete _node5[_key7];\n          }\n        }\n\n        break;\n      }\n\n    case 'set_selection':\n      {\n        var {\n          newProperties: _newProperties\n        } = op;\n\n        if (_newProperties == null) {\n          selection = _newProperties;\n        } else {\n          if (selection == null) {\n            if (!Range.isRange(_newProperties)) {\n              throw new Error(\"Cannot apply an incomplete \\\"set_selection\\\" operation properties \".concat(JSON.stringify(_newProperties), \" when there is no current selection.\"));\n            }\n\n            selection = _objectSpread$3({}, _newProperties);\n          }\n\n          for (var _key8 in _newProperties) {\n            var _value = _newProperties[_key8];\n\n            if (_value == null) {\n              if (_key8 === 'anchor' || _key8 === 'focus') {\n                throw new Error(\"Cannot remove the \\\"\".concat(_key8, \"\\\" selection property\"));\n              }\n\n              delete selection[_key8];\n            } else {\n              selection[_key8] = _value;\n            }\n          }\n        }\n\n        break;\n      }\n\n    case 'split_node':\n      {\n        var {\n          path: _path7,\n          position,\n          properties: _properties\n        } = op;\n\n        if (_path7.length === 0) {\n          throw new Error(\"Cannot apply a \\\"split_node\\\" operation at path [\".concat(_path7, \"] because the root node cannot be split.\"));\n        }\n\n        var _node6 = Node.get(editor, _path7);\n\n        var _parent4 = Node.parent(editor, _path7);\n\n        var _index4 = _path7[_path7.length - 1];\n        var newNode;\n\n        if (Text.isText(_node6)) {\n          var _before2 = _node6.text.slice(0, position);\n\n          var _after2 = _node6.text.slice(position);\n\n          _node6.text = _before2;\n          newNode = _objectSpread$3(_objectSpread$3({}, _properties), {}, {\n            text: _after2\n          });\n        } else {\n          var _before3 = _node6.children.slice(0, position);\n\n          var _after3 = _node6.children.slice(position);\n\n          _node6.children = _before3;\n          newNode = _objectSpread$3(_objectSpread$3({}, _properties), {}, {\n            children: _after3\n          });\n        }\n\n        _parent4.children.splice(_index4 + 1, 0, newNode);\n\n        if (selection) {\n          for (var [_point6, _key9] of Range.points(selection)) {\n            selection[_key9] = Point.transform(_point6, op);\n          }\n        }\n\n        break;\n      }\n  }\n\n  return selection;\n};\n\nvar GeneralTransforms = {\n  /**\r\n   * Transform the editor by an operation.\r\n   */\n  transform(editor, op) {\n    editor.children = createDraft(editor.children);\n    var selection = editor.selection && createDraft(editor.selection);\n\n    try {\n      selection = applyToDraft(editor, selection, op);\n    } finally {\n      editor.children = finishDraft(editor.children);\n\n      if (selection) {\n        editor.selection = isDraft(selection) ? finishDraft(selection) : selection;\n      } else {\n        editor.selection = null;\n      }\n    }\n  }\n\n};\n\nvar _excluded = [\"text\"],\n    _excluded2 = [\"children\"];\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar NodeTransforms = {\n  /**\r\n   * Insert nodes at a specific location in the Editor.\r\n   */\n  insertNodes(editor, nodes) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        hanging = false,\n        voids = false,\n        mode = 'lowest'\n      } = options;\n      var {\n        at,\n        match,\n        select\n      } = options;\n\n      if (Node.isNode(nodes)) {\n        nodes = [nodes];\n      }\n\n      if (nodes.length === 0) {\n        return;\n      }\n\n      var [node] = nodes; // By default, use the selection as the target location. But if there is\n      // no selection, insert at the end of the document since that is such a\n      // common use case when inserting from a non-selected state.\n\n      if (!at) {\n        if (editor.selection) {\n          at = editor.selection;\n        } else if (editor.children.length > 0) {\n          at = Editor.end(editor, []);\n        } else {\n          at = [0];\n        }\n\n        select = true;\n      }\n\n      if (select == null) {\n        select = false;\n      }\n\n      if (Range.isRange(at)) {\n        if (!hanging) {\n          at = Editor.unhangRange(editor, at);\n        }\n\n        if (Range.isCollapsed(at)) {\n          at = at.anchor;\n        } else {\n          var [, end] = Range.edges(at);\n          var pointRef = Editor.pointRef(editor, end);\n          Transforms.delete(editor, {\n            at\n          });\n          at = pointRef.unref();\n        }\n      }\n\n      if (Point.isPoint(at)) {\n        if (match == null) {\n          if (Text.isText(node)) {\n            match = n => Text.isText(n);\n          } else if (editor.isInline(node)) {\n            match = n => Text.isText(n) || Editor.isInline(editor, n);\n          } else {\n            match = n => Editor.isBlock(editor, n);\n          }\n        }\n\n        var [entry] = Editor.nodes(editor, {\n          at: at.path,\n          match,\n          mode,\n          voids\n        });\n\n        if (entry) {\n          var [, _matchPath] = entry;\n          var pathRef = Editor.pathRef(editor, _matchPath);\n          var isAtEnd = Editor.isEnd(editor, at, _matchPath);\n          Transforms.splitNodes(editor, {\n            at,\n            match,\n            mode,\n            voids\n          });\n          var path = pathRef.unref();\n          at = isAtEnd ? Path.next(path) : path;\n        } else {\n          return;\n        }\n      }\n\n      var parentPath = Path.parent(at);\n      var index = at[at.length - 1];\n\n      if (!voids && Editor.void(editor, {\n        at: parentPath\n      })) {\n        return;\n      }\n\n      for (var _node of nodes) {\n        var _path = parentPath.concat(index);\n\n        index++;\n        editor.apply({\n          type: 'insert_node',\n          path: _path,\n          node: _node\n        });\n        at = Path.next(at);\n      }\n\n      at = Path.previous(at);\n\n      if (select) {\n        var point = Editor.end(editor, at);\n\n        if (point) {\n          Transforms.select(editor, point);\n        }\n      }\n    });\n  },\n\n  /**\r\n   * Lift nodes at a specific location upwards in the document tree, splitting\r\n   * their parent in two if necessary.\r\n   */\n  liftNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        at = editor.selection,\n        mode = 'lowest',\n        voids = false\n      } = options;\n      var {\n        match\n      } = options;\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      if (!at) {\n        return;\n      }\n\n      var matches = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n      var pathRefs = Array.from(matches, _ref => {\n        var [, p] = _ref;\n        return Editor.pathRef(editor, p);\n      });\n\n      for (var pathRef of pathRefs) {\n        var path = pathRef.unref();\n\n        if (path.length < 2) {\n          throw new Error(\"Cannot lift node at a path [\".concat(path, \"] because it has a depth of less than `2`.\"));\n        }\n\n        var parentNodeEntry = Editor.node(editor, Path.parent(path));\n        var [parent, parentPath] = parentNodeEntry;\n        var index = path[path.length - 1];\n        var {\n          length\n        } = parent.children;\n\n        if (length === 1) {\n          var toPath = Path.next(parentPath);\n          Transforms.moveNodes(editor, {\n            at: path,\n            to: toPath,\n            voids\n          });\n          Transforms.removeNodes(editor, {\n            at: parentPath,\n            voids\n          });\n        } else if (index === 0) {\n          Transforms.moveNodes(editor, {\n            at: path,\n            to: parentPath,\n            voids\n          });\n        } else if (index === length - 1) {\n          var _toPath = Path.next(parentPath);\n\n          Transforms.moveNodes(editor, {\n            at: path,\n            to: _toPath,\n            voids\n          });\n        } else {\n          var splitPath = Path.next(path);\n\n          var _toPath2 = Path.next(parentPath);\n\n          Transforms.splitNodes(editor, {\n            at: splitPath,\n            voids\n          });\n          Transforms.moveNodes(editor, {\n            at: path,\n            to: _toPath2,\n            voids\n          });\n        }\n      }\n    });\n  },\n\n  /**\r\n   * Merge a node at a location with the previous node of the same depth,\r\n   * removing any empty containing nodes after the merge if necessary.\r\n   */\n  mergeNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        match,\n        at = editor.selection\n      } = options;\n      var {\n        hanging = false,\n        voids = false,\n        mode = 'lowest'\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        if (Path.isPath(at)) {\n          var [parent] = Editor.parent(editor, at);\n\n          match = n => parent.children.includes(n);\n        } else {\n          match = n => Editor.isBlock(editor, n);\n        }\n      }\n\n      if (!hanging && Range.isRange(at)) {\n        at = Editor.unhangRange(editor, at);\n      }\n\n      if (Range.isRange(at)) {\n        if (Range.isCollapsed(at)) {\n          at = at.anchor;\n        } else {\n          var [, end] = Range.edges(at);\n          var pointRef = Editor.pointRef(editor, end);\n          Transforms.delete(editor, {\n            at\n          });\n          at = pointRef.unref();\n\n          if (options.at == null) {\n            Transforms.select(editor, at);\n          }\n        }\n      }\n\n      var [current] = Editor.nodes(editor, {\n        at,\n        match,\n        voids,\n        mode\n      });\n      var prev = Editor.previous(editor, {\n        at,\n        match,\n        voids,\n        mode\n      });\n\n      if (!current || !prev) {\n        return;\n      }\n\n      var [node, path] = current;\n      var [prevNode, prevPath] = prev;\n\n      if (path.length === 0 || prevPath.length === 0) {\n        return;\n      }\n\n      var newPath = Path.next(prevPath);\n      var commonPath = Path.common(path, prevPath);\n      var isPreviousSibling = Path.isSibling(path, prevPath);\n      var levels = Array.from(Editor.levels(editor, {\n        at: path\n      }), _ref2 => {\n        var [n] = _ref2;\n        return n;\n      }).slice(commonPath.length).slice(0, -1); // Determine if the merge will leave an ancestor of the path empty as a\n      // result, in which case we'll want to remove it after merging.\n\n      var emptyAncestor = Editor.above(editor, {\n        at: path,\n        mode: 'highest',\n        match: n => levels.includes(n) && hasSingleChildNest(editor, n)\n      });\n      var emptyRef = emptyAncestor && Editor.pathRef(editor, emptyAncestor[1]);\n      var properties;\n      var position; // Ensure that the nodes are equivalent, and figure out what the position\n      // and extra properties of the merge will be.\n\n      if (Text.isText(node) && Text.isText(prevNode)) {\n        var rest = _objectWithoutProperties(node, _excluded);\n\n        position = prevNode.text.length;\n        properties = rest;\n      } else if (Element.isElement(node) && Element.isElement(prevNode)) {\n        var rest = _objectWithoutProperties(node, _excluded2);\n\n        position = prevNode.children.length;\n        properties = rest;\n      } else {\n        throw new Error(\"Cannot merge the node at path [\".concat(path, \"] with the previous sibling because it is not the same kind: \").concat(JSON.stringify(node), \" \").concat(JSON.stringify(prevNode)));\n      } // If the node isn't already the next sibling of the previous node, move\n      // it so that it is before merging.\n\n\n      if (!isPreviousSibling) {\n        Transforms.moveNodes(editor, {\n          at: path,\n          to: newPath,\n          voids\n        });\n      } // If there was going to be an empty ancestor of the node that was merged,\n      // we remove it from the tree.\n\n\n      if (emptyRef) {\n        Transforms.removeNodes(editor, {\n          at: emptyRef.current,\n          voids\n        });\n      } // If the target node that we're merging with is empty, remove it instead\n      // of merging the two. This is a common rich text editor behavior to\n      // prevent losing formatting when deleting entire nodes when you have a\n      // hanging selection.\n      // if prevNode is first child in parent,don't remove it.\n\n\n      if (Element.isElement(prevNode) && Editor.isEmpty(editor, prevNode) || Text.isText(prevNode) && prevNode.text === '' && prevPath[prevPath.length - 1] !== 0) {\n        Transforms.removeNodes(editor, {\n          at: prevPath,\n          voids\n        });\n      } else {\n        editor.apply({\n          type: 'merge_node',\n          path: newPath,\n          position,\n          properties\n        });\n      }\n\n      if (emptyRef) {\n        emptyRef.unref();\n      }\n    });\n  },\n\n  /**\r\n   * Move the nodes at a location to a new location.\r\n   */\n  moveNodes(editor, options) {\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        to,\n        at = editor.selection,\n        mode = 'lowest',\n        voids = false\n      } = options;\n      var {\n        match\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      var toRef = Editor.pathRef(editor, to);\n      var targets = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n      var pathRefs = Array.from(targets, _ref3 => {\n        var [, p] = _ref3;\n        return Editor.pathRef(editor, p);\n      });\n\n      for (var pathRef of pathRefs) {\n        var path = pathRef.unref();\n        var newPath = toRef.current;\n\n        if (path.length !== 0) {\n          editor.apply({\n            type: 'move_node',\n            path,\n            newPath\n          });\n        }\n\n        if (toRef.current && Path.isSibling(newPath, path) && Path.isAfter(newPath, path)) {\n          // When performing a sibling move to a later index, the path at the destination is shifted\n          // to before the insertion point instead of after. To ensure our group of nodes are inserted\n          // in the correct order we increment toRef to account for that\n          toRef.current = Path.next(toRef.current);\n        }\n      }\n\n      toRef.unref();\n    });\n  },\n\n  /**\r\n   * Remove the nodes at a specific location in the document.\r\n   */\n  removeNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        hanging = false,\n        voids = false,\n        mode = 'lowest'\n      } = options;\n      var {\n        at = editor.selection,\n        match\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      if (!hanging && Range.isRange(at)) {\n        at = Editor.unhangRange(editor, at);\n      }\n\n      var depths = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n      var pathRefs = Array.from(depths, _ref4 => {\n        var [, p] = _ref4;\n        return Editor.pathRef(editor, p);\n      });\n\n      for (var pathRef of pathRefs) {\n        var path = pathRef.unref();\n\n        if (path) {\n          var [node] = Editor.node(editor, path);\n          editor.apply({\n            type: 'remove_node',\n            path,\n            node\n          });\n        }\n      }\n    });\n  },\n\n  /**\r\n   * Set new properties on the nodes at a location.\r\n   */\n  setNodes(editor, props) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        match,\n        at = editor.selection,\n        compare,\n        merge\n      } = options;\n      var {\n        hanging = false,\n        mode = 'lowest',\n        split = false,\n        voids = false\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      if (!hanging && Range.isRange(at)) {\n        at = Editor.unhangRange(editor, at);\n      }\n\n      if (split && Range.isRange(at)) {\n        if (Range.isCollapsed(at) && Editor.leaf(editor, at.anchor)[0].text.length > 0) {\n          // If the range is collapsed in a non-empty node and 'split' is true, there's nothing to\n          // set that won't get normalized away\n          return;\n        }\n\n        var rangeRef = Editor.rangeRef(editor, at, {\n          affinity: 'inward'\n        });\n        var [start, end] = Range.edges(at);\n        var splitMode = mode === 'lowest' ? 'lowest' : 'highest';\n        var endAtEndOfNode = Editor.isEnd(editor, end, end.path);\n        Transforms.splitNodes(editor, {\n          at: end,\n          match,\n          mode: splitMode,\n          voids,\n          always: !endAtEndOfNode\n        });\n        var startAtStartOfNode = Editor.isStart(editor, start, start.path);\n        Transforms.splitNodes(editor, {\n          at: start,\n          match,\n          mode: splitMode,\n          voids,\n          always: !startAtStartOfNode\n        });\n        at = rangeRef.unref();\n\n        if (options.at == null) {\n          Transforms.select(editor, at);\n        }\n      }\n\n      if (!compare) {\n        compare = (prop, nodeProp) => prop !== nodeProp;\n      }\n\n      for (var [node, path] of Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      })) {\n        var properties = {};\n        var newProperties = {}; // You can't set properties on the editor node.\n\n        if (path.length === 0) {\n          continue;\n        }\n\n        var hasChanges = false;\n\n        for (var k in props) {\n          if (k === 'children' || k === 'text') {\n            continue;\n          }\n\n          if (compare(props[k], node[k])) {\n            hasChanges = true; // Omit new properties from the old properties list\n\n            if (node.hasOwnProperty(k)) properties[k] = node[k]; // Omit properties that have been removed from the new properties list\n\n            if (merge) {\n              if (props[k] != null) newProperties[k] = merge(node[k], props[k]);\n            } else {\n              if (props[k] != null) newProperties[k] = props[k];\n            }\n          }\n        }\n\n        if (hasChanges) {\n          editor.apply({\n            type: 'set_node',\n            path,\n            properties,\n            newProperties\n          });\n        }\n      }\n    });\n  },\n\n  /**\r\n   * Split the nodes at a specific location.\r\n   */\n  splitNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        mode = 'lowest',\n        voids = false\n      } = options;\n      var {\n        match,\n        at = editor.selection,\n        height = 0,\n        always = false\n      } = options;\n\n      if (match == null) {\n        match = n => Editor.isBlock(editor, n);\n      }\n\n      if (Range.isRange(at)) {\n        at = deleteRange(editor, at);\n      } // If the target is a path, the default height-skipping and position\n      // counters need to account for us potentially splitting at a non-leaf.\n\n\n      if (Path.isPath(at)) {\n        var path = at;\n        var point = Editor.point(editor, path);\n        var [parent] = Editor.parent(editor, path);\n\n        match = n => n === parent;\n\n        height = point.path.length - path.length + 1;\n        at = point;\n        always = true;\n      }\n\n      if (!at) {\n        return;\n      }\n\n      var beforeRef = Editor.pointRef(editor, at, {\n        affinity: 'backward'\n      });\n      var afterRef;\n\n      try {\n        var [highest] = Editor.nodes(editor, {\n          at,\n          match,\n          mode,\n          voids\n        });\n\n        if (!highest) {\n          return;\n        }\n\n        var voidMatch = Editor.void(editor, {\n          at,\n          mode: 'highest'\n        });\n        var nudge = 0;\n\n        if (!voids && voidMatch) {\n          var [voidNode, voidPath] = voidMatch;\n\n          if (Element.isElement(voidNode) && editor.isInline(voidNode)) {\n            var after = Editor.after(editor, voidPath);\n\n            if (!after) {\n              var text = {\n                text: ''\n              };\n              var afterPath = Path.next(voidPath);\n              Transforms.insertNodes(editor, text, {\n                at: afterPath,\n                voids\n              });\n              after = Editor.point(editor, afterPath);\n            }\n\n            at = after;\n            always = true;\n          }\n\n          var siblingHeight = at.path.length - voidPath.length;\n          height = siblingHeight + 1;\n          always = true;\n        }\n\n        afterRef = Editor.pointRef(editor, at);\n        var depth = at.path.length - height;\n        var [, highestPath] = highest;\n        var lowestPath = at.path.slice(0, depth);\n        var position = height === 0 ? at.offset : at.path[depth] + nudge;\n\n        for (var [node, _path2] of Editor.levels(editor, {\n          at: lowestPath,\n          reverse: true,\n          voids\n        })) {\n          var split = false;\n\n          if (_path2.length < highestPath.length || _path2.length === 0 || !voids && Editor.isVoid(editor, node)) {\n            break;\n          }\n\n          var _point = beforeRef.current;\n          var isEnd = Editor.isEnd(editor, _point, _path2);\n\n          if (always || !beforeRef || !Editor.isEdge(editor, _point, _path2)) {\n            split = true;\n            var properties = Node.extractProps(node);\n            editor.apply({\n              type: 'split_node',\n              path: _path2,\n              position,\n              properties\n            });\n          }\n\n          position = _path2[_path2.length - 1] + (split || isEnd ? 1 : 0);\n        }\n\n        if (options.at == null) {\n          var _point2 = afterRef.current || Editor.end(editor, []);\n\n          Transforms.select(editor, _point2);\n        }\n      } finally {\n        var _afterRef;\n\n        beforeRef.unref();\n        (_afterRef = afterRef) === null || _afterRef === void 0 ? void 0 : _afterRef.unref();\n      }\n    });\n  },\n\n  /**\r\n   * Unset properties on the nodes at a location.\r\n   */\n  unsetNodes(editor, props) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!Array.isArray(props)) {\n      props = [props];\n    }\n\n    var obj = {};\n\n    for (var key of props) {\n      obj[key] = null;\n    }\n\n    Transforms.setNodes(editor, obj, options);\n  },\n\n  /**\r\n   * Unwrap the nodes at a location from a parent node, splitting the parent if\r\n   * necessary to ensure that only the content in the range is unwrapped.\r\n   */\n  unwrapNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        mode = 'lowest',\n        split = false,\n        voids = false\n      } = options;\n      var {\n        at = editor.selection,\n        match\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      if (Path.isPath(at)) {\n        at = Editor.range(editor, at);\n      }\n\n      var rangeRef = Range.isRange(at) ? Editor.rangeRef(editor, at) : null;\n      var matches = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n      var pathRefs = Array.from(matches, _ref5 => {\n        var [, p] = _ref5;\n        return Editor.pathRef(editor, p);\n      } // unwrapNode will call liftNode which does not support splitting the node when nested.\n      // If we do not reverse the order and call it from top to the bottom, it will remove all blocks\n      // that wrap target node. So we reverse the order.\n      ).reverse();\n\n      var _loop = function _loop(pathRef) {\n        var path = pathRef.unref();\n        var [node] = Editor.node(editor, path);\n        var range = Editor.range(editor, path);\n\n        if (split && rangeRef) {\n          range = Range.intersection(rangeRef.current, range);\n        }\n\n        Transforms.liftNodes(editor, {\n          at: range,\n          match: n => Element.isAncestor(node) && node.children.includes(n),\n          voids\n        });\n      };\n\n      for (var pathRef of pathRefs) {\n        _loop(pathRef);\n      }\n\n      if (rangeRef) {\n        rangeRef.unref();\n      }\n    });\n  },\n\n  /**\r\n   * Wrap the nodes at a location in a new container node, splitting the edges\r\n   * of the range first to ensure that only the content in the range is wrapped.\r\n   */\n  wrapNodes(editor, element) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        mode = 'lowest',\n        split = false,\n        voids = false\n      } = options;\n      var {\n        match,\n        at = editor.selection\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        if (Path.isPath(at)) {\n          match = matchPath(editor, at);\n        } else if (editor.isInline(element)) {\n          match = n => Editor.isInline(editor, n) || Text.isText(n);\n        } else {\n          match = n => Editor.isBlock(editor, n);\n        }\n      }\n\n      if (split && Range.isRange(at)) {\n        var [start, end] = Range.edges(at);\n        var rangeRef = Editor.rangeRef(editor, at, {\n          affinity: 'inward'\n        });\n        Transforms.splitNodes(editor, {\n          at: end,\n          match,\n          voids\n        });\n        Transforms.splitNodes(editor, {\n          at: start,\n          match,\n          voids\n        });\n        at = rangeRef.unref();\n\n        if (options.at == null) {\n          Transforms.select(editor, at);\n        }\n      }\n\n      var roots = Array.from(Editor.nodes(editor, {\n        at,\n        match: editor.isInline(element) ? n => Editor.isBlock(editor, n) : n => Editor.isEditor(n),\n        mode: 'lowest',\n        voids\n      }));\n\n      for (var [, rootPath] of roots) {\n        var a = Range.isRange(at) ? Range.intersection(at, Editor.range(editor, rootPath)) : at;\n\n        if (!a) {\n          continue;\n        }\n\n        var matches = Array.from(Editor.nodes(editor, {\n          at: a,\n          match,\n          mode,\n          voids\n        }));\n\n        if (matches.length > 0) {\n          var _ret = function () {\n            var [first] = matches;\n            var last = matches[matches.length - 1];\n            var [, firstPath] = first;\n            var [, lastPath] = last;\n\n            if (firstPath.length === 0 && lastPath.length === 0) {\n              // if there's no matching parent - usually means the node is an editor - don't do anything\n              return \"continue\";\n            }\n\n            var commonPath = Path.equals(firstPath, lastPath) ? Path.parent(firstPath) : Path.common(firstPath, lastPath);\n            var range = Editor.range(editor, firstPath, lastPath);\n            var commonNodeEntry = Editor.node(editor, commonPath);\n            var [commonNode] = commonNodeEntry;\n            var depth = commonPath.length + 1;\n            var wrapperPath = Path.next(lastPath.slice(0, depth));\n\n            var wrapper = _objectSpread$2(_objectSpread$2({}, element), {}, {\n              children: []\n            });\n\n            Transforms.insertNodes(editor, wrapper, {\n              at: wrapperPath,\n              voids\n            });\n            Transforms.moveNodes(editor, {\n              at: range,\n              match: n => Element.isAncestor(commonNode) && commonNode.children.includes(n),\n              to: wrapperPath.concat(0),\n              voids\n            });\n          }();\n\n          if (_ret === \"continue\") continue;\n        }\n      }\n    });\n  }\n\n};\n\nvar hasSingleChildNest = (editor, node) => {\n  if (Element.isElement(node)) {\n    var element = node;\n\n    if (Editor.isVoid(editor, node)) {\n      return true;\n    } else if (element.children.length === 1) {\n      return hasSingleChildNest(editor, element.children[0]);\n    } else {\n      return false;\n    }\n  } else if (Editor.isEditor(node)) {\n    return false;\n  } else {\n    return true;\n  }\n};\n/**\r\n * Convert a range into a point by deleting it's content.\r\n */\n\n\nvar deleteRange = (editor, range) => {\n  if (Range.isCollapsed(range)) {\n    return range.anchor;\n  } else {\n    var [, end] = Range.edges(range);\n    var pointRef = Editor.pointRef(editor, end);\n    Transforms.delete(editor, {\n      at: range\n    });\n    return pointRef.unref();\n  }\n};\n\nvar matchPath = (editor, path) => {\n  var [node] = Editor.node(editor, path);\n  return n => n === node;\n};\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar SelectionTransforms = {\n  /**\r\n   * Collapse the selection.\r\n   */\n  collapse(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      edge = 'anchor'\n    } = options;\n    var {\n      selection\n    } = editor;\n\n    if (!selection) {\n      return;\n    } else if (edge === 'anchor') {\n      Transforms.select(editor, selection.anchor);\n    } else if (edge === 'focus') {\n      Transforms.select(editor, selection.focus);\n    } else if (edge === 'start') {\n      var [start] = Range.edges(selection);\n      Transforms.select(editor, start);\n    } else if (edge === 'end') {\n      var [, end] = Range.edges(selection);\n      Transforms.select(editor, end);\n    }\n  },\n\n  /**\r\n   * Unset the selection.\r\n   */\n  deselect(editor) {\n    var {\n      selection\n    } = editor;\n\n    if (selection) {\n      editor.apply({\n        type: 'set_selection',\n        properties: selection,\n        newProperties: null\n      });\n    }\n  },\n\n  /**\r\n   * Move the selection's point forward or backward.\r\n   */\n  move(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      selection\n    } = editor;\n    var {\n      distance = 1,\n      unit = 'character',\n      reverse = false\n    } = options;\n    var {\n      edge = null\n    } = options;\n\n    if (!selection) {\n      return;\n    }\n\n    if (edge === 'start') {\n      edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n    }\n\n    if (edge === 'end') {\n      edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n    }\n\n    var {\n      anchor,\n      focus\n    } = selection;\n    var opts = {\n      distance,\n      unit\n    };\n    var props = {};\n\n    if (edge == null || edge === 'anchor') {\n      var point = reverse ? Editor.before(editor, anchor, opts) : Editor.after(editor, anchor, opts);\n\n      if (point) {\n        props.anchor = point;\n      }\n    }\n\n    if (edge == null || edge === 'focus') {\n      var _point = reverse ? Editor.before(editor, focus, opts) : Editor.after(editor, focus, opts);\n\n      if (_point) {\n        props.focus = _point;\n      }\n    }\n\n    Transforms.setSelection(editor, props);\n  },\n\n  /**\r\n   * Set the selection to a new value.\r\n   */\n  select(editor, target) {\n    var {\n      selection\n    } = editor;\n    target = Editor.range(editor, target);\n\n    if (selection) {\n      Transforms.setSelection(editor, target);\n      return;\n    }\n\n    if (!Range.isRange(target)) {\n      throw new Error(\"When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: \".concat(JSON.stringify(target)));\n    }\n\n    editor.apply({\n      type: 'set_selection',\n      properties: selection,\n      newProperties: target\n    });\n  },\n\n  /**\r\n   * Set new properties on one of the selection's points.\r\n   */\n  setPoint(editor, props) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      selection\n    } = editor;\n    var {\n      edge = 'both'\n    } = options;\n\n    if (!selection) {\n      return;\n    }\n\n    if (edge === 'start') {\n      edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n    }\n\n    if (edge === 'end') {\n      edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n    }\n\n    var {\n      anchor,\n      focus\n    } = selection;\n    var point = edge === 'anchor' ? anchor : focus;\n    Transforms.setSelection(editor, {\n      [edge === 'anchor' ? 'anchor' : 'focus']: _objectSpread$1(_objectSpread$1({}, point), props)\n    });\n  },\n\n  /**\r\n   * Set new properties on the selection.\r\n   */\n  setSelection(editor, props) {\n    var {\n      selection\n    } = editor;\n    var oldProps = {};\n    var newProps = {};\n\n    if (!selection) {\n      return;\n    }\n\n    for (var k in props) {\n      if (k === 'anchor' && props.anchor != null && !Point.equals(props.anchor, selection.anchor) || k === 'focus' && props.focus != null && !Point.equals(props.focus, selection.focus) || k !== 'anchor' && k !== 'focus' && props[k] !== selection[k]) {\n        oldProps[k] = selection[k];\n        newProps[k] = props[k];\n      }\n    }\n\n    if (Object.keys(oldProps).length > 0) {\n      editor.apply({\n        type: 'set_selection',\n        properties: oldProps,\n        newProperties: newProps\n      });\n    }\n  }\n\n};\n\nvar TextTransforms = {\n  /**\r\n   * Delete content in the editor.\r\n   */\n  delete(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        reverse = false,\n        unit = 'character',\n        distance = 1,\n        voids = false\n      } = options;\n      var {\n        at = editor.selection,\n        hanging = false\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (Range.isRange(at) && Range.isCollapsed(at)) {\n        at = at.anchor;\n      }\n\n      if (Point.isPoint(at)) {\n        var furthestVoid = Editor.void(editor, {\n          at,\n          mode: 'highest'\n        });\n\n        if (!voids && furthestVoid) {\n          var [, voidPath] = furthestVoid;\n          at = voidPath;\n        } else {\n          var opts = {\n            unit,\n            distance\n          };\n          var target = reverse ? Editor.before(editor, at, opts) || Editor.start(editor, []) : Editor.after(editor, at, opts) || Editor.end(editor, []);\n          at = {\n            anchor: at,\n            focus: target\n          };\n          hanging = true;\n        }\n      }\n\n      if (Path.isPath(at)) {\n        Transforms.removeNodes(editor, {\n          at,\n          voids\n        });\n        return;\n      }\n\n      if (Range.isCollapsed(at)) {\n        return;\n      }\n\n      if (!hanging) {\n        var [, _end] = Range.edges(at);\n        var endOfDoc = Editor.end(editor, []);\n\n        if (!Point.equals(_end, endOfDoc)) {\n          at = Editor.unhangRange(editor, at, {\n            voids\n          });\n        }\n      }\n\n      var [start, end] = Range.edges(at);\n      var startBlock = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n        at: start,\n        voids\n      });\n      var endBlock = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n        at: end,\n        voids\n      });\n      var isAcrossBlocks = startBlock && endBlock && !Path.equals(startBlock[1], endBlock[1]);\n      var isSingleText = Path.equals(start.path, end.path);\n      var startVoid = voids ? null : Editor.void(editor, {\n        at: start,\n        mode: 'highest'\n      });\n      var endVoid = voids ? null : Editor.void(editor, {\n        at: end,\n        mode: 'highest'\n      }); // If the start or end points are inside an inline void, nudge them out.\n\n      if (startVoid) {\n        var before = Editor.before(editor, start);\n\n        if (before && startBlock && Path.isAncestor(startBlock[1], before.path)) {\n          start = before;\n        }\n      }\n\n      if (endVoid) {\n        var after = Editor.after(editor, end);\n\n        if (after && endBlock && Path.isAncestor(endBlock[1], after.path)) {\n          end = after;\n        }\n      } // Get the highest nodes that are completely inside the range, as well as\n      // the start and end nodes.\n\n\n      var matches = [];\n      var lastPath;\n\n      for (var entry of Editor.nodes(editor, {\n        at,\n        voids\n      })) {\n        var [node, path] = entry;\n\n        if (lastPath && Path.compare(path, lastPath) === 0) {\n          continue;\n        }\n\n        if (!voids && Editor.isVoid(editor, node) || !Path.isCommon(path, start.path) && !Path.isCommon(path, end.path)) {\n          matches.push(entry);\n          lastPath = path;\n        }\n      }\n\n      var pathRefs = Array.from(matches, _ref => {\n        var [, p] = _ref;\n        return Editor.pathRef(editor, p);\n      });\n      var startRef = Editor.pointRef(editor, start);\n      var endRef = Editor.pointRef(editor, end);\n\n      if (!isSingleText && !startVoid) {\n        var _point = startRef.current;\n        var [_node] = Editor.leaf(editor, _point);\n        var {\n          path: _path\n        } = _point;\n        var {\n          offset\n        } = start;\n\n        var text = _node.text.slice(offset);\n\n        if (text.length > 0) editor.apply({\n          type: 'remove_text',\n          path: _path,\n          offset,\n          text\n        });\n      }\n\n      for (var pathRef of pathRefs) {\n        var _path2 = pathRef.unref();\n\n        Transforms.removeNodes(editor, {\n          at: _path2,\n          voids\n        });\n      }\n\n      if (!endVoid) {\n        var _point2 = endRef.current;\n        var [_node2] = Editor.leaf(editor, _point2);\n        var {\n          path: _path3\n        } = _point2;\n\n        var _offset = isSingleText ? start.offset : 0;\n\n        var _text = _node2.text.slice(_offset, end.offset);\n\n        if (_text.length > 0) editor.apply({\n          type: 'remove_text',\n          path: _path3,\n          offset: _offset,\n          text: _text\n        });\n      }\n\n      if (!isSingleText && isAcrossBlocks && endRef.current && startRef.current) {\n        Transforms.mergeNodes(editor, {\n          at: endRef.current,\n          hanging: true,\n          voids\n        });\n      }\n\n      var startUnref = startRef.unref();\n      var endUnref = endRef.unref();\n      var point = reverse ? startUnref || endUnref : endUnref || startUnref;\n\n      if (options.at == null && point) {\n        Transforms.select(editor, point);\n      }\n    });\n  },\n\n  /**\r\n   * Insert a fragment at a specific location in the editor.\r\n   */\n  insertFragment(editor, fragment) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        hanging = false,\n        voids = false\n      } = options;\n      var {\n        at = editor.selection\n      } = options;\n\n      if (!fragment.length) {\n        return;\n      }\n\n      if (!at) {\n        return;\n      } else if (Range.isRange(at)) {\n        if (!hanging) {\n          at = Editor.unhangRange(editor, at);\n        }\n\n        if (Range.isCollapsed(at)) {\n          at = at.anchor;\n        } else {\n          var [, end] = Range.edges(at);\n\n          if (!voids && Editor.void(editor, {\n            at: end\n          })) {\n            return;\n          }\n\n          var pointRef = Editor.pointRef(editor, end);\n          Transforms.delete(editor, {\n            at\n          });\n          at = pointRef.unref();\n        }\n      } else if (Path.isPath(at)) {\n        at = Editor.start(editor, at);\n      }\n\n      if (!voids && Editor.void(editor, {\n        at\n      })) {\n        return;\n      } // If the insert point is at the edge of an inline node, move it outside\n      // instead since it will need to be split otherwise.\n\n\n      var inlineElementMatch = Editor.above(editor, {\n        at,\n        match: n => Editor.isInline(editor, n),\n        mode: 'highest',\n        voids\n      });\n\n      if (inlineElementMatch) {\n        var [, _inlinePath] = inlineElementMatch;\n\n        if (Editor.isEnd(editor, at, _inlinePath)) {\n          var after = Editor.after(editor, _inlinePath);\n          at = after;\n        } else if (Editor.isStart(editor, at, _inlinePath)) {\n          var before = Editor.before(editor, _inlinePath);\n          at = before;\n        }\n      }\n\n      var blockMatch = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n        at,\n        voids\n      });\n      var [, blockPath] = blockMatch;\n      var isBlockStart = Editor.isStart(editor, at, blockPath);\n      var isBlockEnd = Editor.isEnd(editor, at, blockPath);\n      var isBlockEmpty = isBlockStart && isBlockEnd;\n      var mergeStart = !isBlockStart || isBlockStart && isBlockEnd;\n      var mergeEnd = !isBlockEnd;\n      var [, firstPath] = Node.first({\n        children: fragment\n      }, []);\n      var [, lastPath] = Node.last({\n        children: fragment\n      }, []);\n      var matches = [];\n\n      var matcher = _ref2 => {\n        var [n, p] = _ref2;\n        var isRoot = p.length === 0;\n\n        if (isRoot) {\n          return false;\n        }\n\n        if (isBlockEmpty) {\n          return true;\n        }\n\n        if (mergeStart && Path.isAncestor(p, firstPath) && Element.isElement(n) && !editor.isVoid(n) && !editor.isInline(n)) {\n          return false;\n        }\n\n        if (mergeEnd && Path.isAncestor(p, lastPath) && Element.isElement(n) && !editor.isVoid(n) && !editor.isInline(n)) {\n          return false;\n        }\n\n        return true;\n      };\n\n      for (var entry of Node.nodes({\n        children: fragment\n      }, {\n        pass: matcher\n      })) {\n        if (matcher(entry)) {\n          matches.push(entry);\n        }\n      }\n\n      var starts = [];\n      var middles = [];\n      var ends = [];\n      var starting = true;\n      var hasBlocks = false;\n\n      for (var [node] of matches) {\n        if (Element.isElement(node) && !editor.isInline(node)) {\n          starting = false;\n          hasBlocks = true;\n          middles.push(node);\n        } else if (starting) {\n          starts.push(node);\n        } else {\n          ends.push(node);\n        }\n      }\n\n      var [inlineMatch] = Editor.nodes(editor, {\n        at,\n        match: n => Text.isText(n) || Editor.isInline(editor, n),\n        mode: 'highest',\n        voids\n      });\n      var [, inlinePath] = inlineMatch;\n      var isInlineStart = Editor.isStart(editor, at, inlinePath);\n      var isInlineEnd = Editor.isEnd(editor, at, inlinePath);\n      var middleRef = Editor.pathRef(editor, isBlockEnd ? Path.next(blockPath) : blockPath);\n      var endRef = Editor.pathRef(editor, isInlineEnd ? Path.next(inlinePath) : inlinePath);\n      var blockPathRef = Editor.pathRef(editor, blockPath);\n      Transforms.splitNodes(editor, {\n        at,\n        match: n => hasBlocks ? Editor.isBlock(editor, n) : Text.isText(n) || Editor.isInline(editor, n),\n        mode: hasBlocks ? 'lowest' : 'highest',\n        voids\n      });\n      var startRef = Editor.pathRef(editor, !isInlineStart || isInlineStart && isInlineEnd ? Path.next(inlinePath) : inlinePath);\n      Transforms.insertNodes(editor, starts, {\n        at: startRef.current,\n        match: n => Text.isText(n) || Editor.isInline(editor, n),\n        mode: 'highest',\n        voids\n      });\n\n      if (isBlockEmpty && middles.length) {\n        Transforms.delete(editor, {\n          at: blockPathRef.unref(),\n          voids\n        });\n      }\n\n      Transforms.insertNodes(editor, middles, {\n        at: middleRef.current,\n        match: n => Editor.isBlock(editor, n),\n        mode: 'lowest',\n        voids\n      });\n      Transforms.insertNodes(editor, ends, {\n        at: endRef.current,\n        match: n => Text.isText(n) || Editor.isInline(editor, n),\n        mode: 'highest',\n        voids\n      });\n\n      if (!options.at) {\n        var path;\n\n        if (ends.length > 0) {\n          path = Path.previous(endRef.current);\n        } else if (middles.length > 0) {\n          path = Path.previous(middleRef.current);\n        } else {\n          path = Path.previous(startRef.current);\n        }\n\n        var _end2 = Editor.end(editor, path);\n\n        Transforms.select(editor, _end2);\n      }\n\n      startRef.unref();\n      middleRef.unref();\n      endRef.unref();\n    });\n  },\n\n  /**\r\n   * Insert a string of text in the Editor.\r\n   */\n  insertText(editor, text) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        voids = false\n      } = options;\n      var {\n        at = editor.selection\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (Path.isPath(at)) {\n        at = Editor.range(editor, at);\n      }\n\n      if (Range.isRange(at)) {\n        if (Range.isCollapsed(at)) {\n          at = at.anchor;\n        } else {\n          var end = Range.end(at);\n\n          if (!voids && Editor.void(editor, {\n            at: end\n          })) {\n            return;\n          }\n\n          var start = Range.start(at);\n          var startRef = Editor.pointRef(editor, start);\n          var endRef = Editor.pointRef(editor, end);\n          Transforms.delete(editor, {\n            at,\n            voids\n          });\n          var startPoint = startRef.unref();\n          var endPoint = endRef.unref();\n          at = startPoint || endPoint;\n          Transforms.setSelection(editor, {\n            anchor: at,\n            focus: at\n          });\n        }\n      }\n\n      if (!voids && Editor.void(editor, {\n        at\n      })) {\n        return;\n      }\n\n      var {\n        path,\n        offset\n      } = at;\n      if (text.length > 0) editor.apply({\n        type: 'insert_text',\n        path,\n        offset,\n        text\n      });\n    });\n  }\n\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Transforms = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, GeneralTransforms), NodeTransforms), SelectionTransforms), TextTransforms);\n\nexport { Editor, Element, Location, Node, Operation, Path, PathRef, Point, PointRef, Range, RangeRef, Span, Text, Transforms, createEditor };\n//# sourceMappingURL=index.es.js.map\n","// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import crypto from 'crypto';\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('md5').update(bytes).digest();\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;","import crypto from 'crypto';\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('sha1').update(bytes).digest();\n}\n\nexport default sha1;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","export const FILE_LOADED = 'FILE_LOADED'\nexport const FILE_SAVED = 'FILE_SAVED'\nexport const NEW_FILE = 'NEW_FILE'\nexport const CHANGE_CURRENT_VIEW = 'CHANGE_CURRENT_VIEW'\nexport const CHANGE_ORIENTATION = 'CHANGE_ORIENTATION'\nexport const RESET = 'RESET'\n\n// story actions\nexport const EDIT_STORY_NAME = 'EDIT_STORY_NAME'\n\n// scene actions\nexport const ADD_SCENE = 'ADD_SCENE'\nexport const EDIT_SCENE_TITLE = 'EDIT_SCENE_TITLE'\nexport const REORDER_SCENES = 'REORDER_SCENES'\nexport const DELETE_SCENE = 'DELETE_SCENE'\n\n// card actions\nexport const ADD_CARD = 'ADD_CARD'\nexport const EDIT_CARD_DETAILS = 'EDIT_CARD_DETAILS'\nexport const EDIT_CARD_COORDINATES = 'EDIT_CARD_COORDINATES'\nexport const DELETE_CARD = 'DELETE_CARD'\nexport const CHANGE_LINE = 'CHANGE_STORYLINE'\nexport const CHANGE_SCENE = 'CHANGE_SCENE'\n\nexport const ATTACH_CHARACTER_TO_CARD = 'ATTACH_CHARACTER_TO_CARD'\nexport const ATTACH_PLACE_TO_CARD = 'ATTACH_PLACE_TO_CARD'\nexport const ATTACH_TAG_TO_CARD = 'ATTACH_TAG_TO_CARD'\nexport const REMOVE_CHARACTER_FROM_CARD = 'REMOVE_CHARACTER_FROM_CARD'\nexport const REMOVE_PLACE_FROM_CARD = 'REMOVE_PLACE_FROM_CARD'\nexport const REMOVE_TAG_FROM_CARD = 'REMOVE_TAG_FROM_CARD'\n\n// line actions\nexport const ADD_LINE = 'ADD_STORYLINE'\nexport const EDIT_LINE_TITLE = 'EDIT_STORYLINE_TITLE'\nexport const EDIT_LINE_COLOR = 'EDIT_STORYLINE_COLOR'\nexport const REORDER_LINES = 'REORDER_STORYLINES'\nexport const DELETE_LINE = 'DELETE_STORYLINE'\n\n// places actions\nexport const ADD_PLACE = 'ADD_PLACE'\nexport const EDIT_PLACE = 'EDIT_PLACE'\nexport const DELETE_PLACE = 'DELETE_PLACE'\n\n// tags actions\nexport const ADD_TAG = 'ADD_TAG'\nexport const EDIT_TAG = 'EDIT_TAG'\nexport const DELETE_TAG = 'DELETE_TAG'\n\n// characters actions\nexport const ADD_CHARACTER = 'ADD_CHARACTER'\nexport const EDIT_CHARACTER = 'EDIT_CHARACTER'\nexport const DELETE_CHARACTER = 'DELETE_CHARACTER'\n\n// notes actions\nexport const ADD_NOTE = 'ADD_NOTE'\nexport const EDIT_NOTE = 'EDIT_NOTE'\nexport const DELETE_NOTE = 'DELETE_NOTE'\n\nexport const ATTACH_CHARACTER_TO_NOTE = 'ATTACH_CHARACTER_TO_NOTE'\nexport const ATTACH_PLACE_TO_NOTE = 'ATTACH_PLACE_TO_NOTE'\nexport const ATTACH_TAG_TO_NOTE = 'ATTACH_TAG_TO_NOTE'\nexport const REMOVE_CHARACTER_FROM_NOTE = 'REMOVE_CHARACTER_FROM_NOTE'\nexport const REMOVE_PLACE_FROM_NOTE = 'REMOVE_PLACE_FROM_NOTE'\nexport const REMOVE_TAG_FROM_NOTE = 'REMOVE_TAG_FROM_NOTE'\n\n// custom attribute actions\nexport const ADD_CHARACTER_ATTRIBUTE = 'ADD_CHARACTER_ATTRIBUTE'\nexport const ADD_PLACES_ATTRIBUTE = 'ADD_PLACES_ATTRIBUTE'\nexport const ADD_CARDS_ATTRIBUTE = 'ADD_CARDS_ATTRIBUTE'\nexport const ADD_LINES_ATTRIBUTE = 'ADD_LINES_ATTRIBUTE'\nexport const ADD_SCENES_ATTRIBUTE = 'ADD_SCENES_ATTRIBUTE'\n\nexport const REMOVE_CHARACTER_ATTRIBUTE = 'REMOVE_CHARACTER_ATTRIBUTE'\nexport const REMOVE_PLACES_ATTRIBUTE = 'REMOVE_PLACES_ATTRIBUTE'\nexport const REMOVE_CARDS_ATTRIBUTE = 'REMOVE_CARDS_ATTRIBUTE'\nexport const REMOVE_LINES_ATTRIBUTE = 'REMOVE_LINES_ATTRIBUTE'\nexport const REMOVE_SCENES_ATTRIBUTE = 'REMOVE_SCENES_ATTRIBUTE'\n","import {\n  ADVANCE_PRO_ONBOARDING,\n  FINISH_CHECKING_FILE_TO_LOAD,\n  FINISH_CHECKING_SESSION,\n  FINISH_CREATING_CLOUD_FILE,\n  FINISH_DELETING_FILE,\n  FINISH_LOADING_A_LICENSE_TYPE,\n  FINISH_LOADING_A_SETTINGS_TYPE,\n  FINISH_LOADING_FILE,\n  ERROR_LOADING_FILE,\n  FINISH_LOADING_FILE_LIST,\n  FINISH_LOGGING_IN,\n  FINISH_ONBOARDING,\n  FINISH_RENAMING_FILE,\n  FINISH_SAVING_FILE_AS,\n  FINISH_UPLOADING_FILE_TO_CLOUD,\n  START_CHECKING_FILE_TO_LOAD,\n  START_CHECKING_SESSION,\n  START_CREATING_CLOUD_FILE,\n  START_DELETING_FILE,\n  START_IMPORTING_SCRIVENER,\n  FINISH_IMPORTING_SCRIVENER,\n  START_LOADING_A_LICENSE_TYPE,\n  START_LOADING_A_SETTINGS_TYPE,\n  START_LOADING_FILE,\n  START_LOADING_FILE_LIST,\n  START_LOGGING_IN,\n  START_ONBOARDING,\n  START_ONBOARDING_FROM_ROOT,\n  START_RENAMING_FILE,\n  START_SAVING_FILE_AS,\n  START_UPLOADING_FILE_TO_CLOUD,\n  PROMPT_TO_UPLOAD_FILE,\n  DISMISS_PROMPT_TO_UPLOAD_FILE,\n  REQUEST_CHECK_FOR_UPDATE,\n  PROCESS_RESPONSE_TO_REQUEST_UPDATE,\n  DISMISS_UPDATE_NOTIFIER,\n  SET_UPDATE_DOWNLOAD_PROGRESS,\n  AUTO_CHECK_FOR_UPDATES,\n  BUSY_WITH_WORK_THAT_PREVENTS_QUITTING,\n  DONE_WITH_WORK_THAT_PREVENTS_QUITTING,\n} from '../constants/ActionTypes'\n\n// Project states\nexport const startLoadingFileList = () => ({\n  type: START_LOADING_FILE_LIST,\n})\nexport const finishLoadingFileList = () => ({\n  type: FINISH_LOADING_FILE_LIST,\n})\n\n// File states\nexport const startCheckingFileToLoad = () => ({\n  type: START_CHECKING_FILE_TO_LOAD,\n})\nexport const finishCheckingFileToLoad = () => ({\n  type: FINISH_CHECKING_FILE_TO_LOAD,\n})\nexport const startCreatingCloudFile = () => ({\n  type: START_CREATING_CLOUD_FILE,\n})\nexport const finishCreatingCloudFile = () => ({\n  type: FINISH_CREATING_CLOUD_FILE,\n})\nexport const startUploadingFileToCloud = () => ({\n  type: START_UPLOADING_FILE_TO_CLOUD,\n})\nexport const finishUploadingFileToCloud = () => ({\n  type: FINISH_UPLOADING_FILE_TO_CLOUD,\n})\nexport const startLoadingFile = () => ({\n  type: START_LOADING_FILE,\n})\nexport const finishLoadingFile = () => ({\n  type: FINISH_LOADING_FILE,\n})\nexport const errorLoadingFile = (needToUpdate) => ({\n  type: ERROR_LOADING_FILE,\n  errorIsUpdateError: needToUpdate,\n})\nexport const startRenamingFile = () => ({\n  type: START_RENAMING_FILE,\n})\nexport const finishRenamingFile = () => ({\n  type: FINISH_RENAMING_FILE,\n})\nexport const startDeletingFile = () => ({\n  type: START_DELETING_FILE,\n})\nexport const finishDeletingFile = () => ({\n  type: FINISH_DELETING_FILE,\n})\nexport const startSavingFileAs = () => ({\n  type: START_SAVING_FILE_AS,\n})\nexport const finishSavingFileAs = () => ({\n  type: FINISH_SAVING_FILE_AS,\n})\n\n// Session states\nexport const startLoggingIn = () => ({\n  type: START_LOGGING_IN,\n})\nexport const finishLoggingIn = () => ({\n  type: FINISH_LOGGING_IN,\n})\nexport const startCheckingSession = () => ({\n  type: START_CHECKING_SESSION,\n})\nexport const finishCheckingSession = () => ({\n  type: FINISH_CHECKING_SESSION,\n})\n\n// License states\nexport const startLoadingALicenseType = (licenseType) => ({\n  type: START_LOADING_A_LICENSE_TYPE,\n  licenseType,\n})\nexport const finishLoadingALicenseType = (licenseType) => ({\n  type: FINISH_LOADING_A_LICENSE_TYPE,\n  licenseType,\n})\n\n// Settings states\nexport const startLoadingASettingsType = (settingsType) => ({\n  type: START_LOADING_A_SETTINGS_TYPE,\n  settingsType,\n})\nexport const finishLoadingASettingsType = (settingsType) => ({\n  type: FINISH_LOADING_A_SETTINGS_TYPE,\n  settingsType,\n})\n\n// Pro Onboarding\nexport const advanceProOnboarding = () => ({\n  type: ADVANCE_PRO_ONBOARDING,\n})\nexport const startProOnboarding = () => ({\n  type: START_ONBOARDING,\n})\nexport const finishProOnboarding = () => ({\n  type: FINISH_ONBOARDING,\n})\nexport const startProOnboardingFromRoot = () => ({\n  type: START_ONBOARDING_FROM_ROOT,\n})\n\n// Import\nexport const startScrivenerImporter = () => ({\n  type: START_IMPORTING_SCRIVENER,\n})\n\nexport const finishScrivenerImporter = () => ({\n  type: FINISH_IMPORTING_SCRIVENER,\n})\n\nexport const promptToUploadFile = (filePath) => ({\n  type: PROMPT_TO_UPLOAD_FILE,\n  filePath,\n})\n\nexport const dismissPromptToUploadFile = () => ({\n  type: DISMISS_PROMPT_TO_UPLOAD_FILE,\n})\n\n// Updates\nexport const requestCheckForUpdates = () => ({\n  type: REQUEST_CHECK_FOR_UPDATE,\n})\n\nexport const autoCheckForUpdates = () => ({\n  type: AUTO_CHECK_FOR_UPDATES,\n})\n\nexport const processResponseToRequestUpdate = (available, error, info) => ({\n  type: PROCESS_RESPONSE_TO_REQUEST_UPDATE,\n  available,\n  error,\n  info,\n})\n\nexport const dismissUpdateNotifier = () => ({\n  type: DISMISS_UPDATE_NOTIFIER,\n})\n\nexport const setUpdateDownloadProgress = (percent) => ({\n  type: SET_UPDATE_DOWNLOAD_PROGRESS,\n  percent,\n})\n\nexport const startWorkThatPreventsQuitting = () => ({\n  type: BUSY_WITH_WORK_THAT_PREVENTS_QUITTING,\n})\n\nexport const finishWorkThatPreventsQuitting = () => ({\n  type: DONE_WITH_WORK_THAT_PREVENTS_QUITTING,\n})\n","import {\n  DELETE_CHARACTER_ATTRIBUTE,\n  DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE,\n  EDIT_CHARACTER_ATTRIBUTE_METADATA,\n  REORDER_CHARACTER_ATTRIBUTE_METADATA,\n  LOAD_ATTRIBUTES,\n} from '../constants/ActionTypes'\n\nexport const editCharacterAttributeMetadata = (id, name, type, oldName) => (dispatch, getState) => {\n  dispatch({\n    type: EDIT_CHARACTER_ATTRIBUTE_METADATA,\n    id,\n    name,\n    oldName,\n    attributeType: type,\n  })\n}\n\nexport const deleteCharacterAttribute = (id, name) => {\n  if (name && !id) {\n    return {\n      type: DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE,\n      attributeName: name,\n    }\n  }\n\n  return {\n    type: DELETE_CHARACTER_ATTRIBUTE,\n    id,\n  }\n}\n\nexport function reorderCharacterAttribute(attributeId, toIndex, attributeName) {\n  return {\n    type: REORDER_CHARACTER_ATTRIBUTE_METADATA,\n    attributeId,\n    toIndex,\n    attributeName,\n  }\n}\n\nexport function load(patching, attributes) {\n  return { type: LOAD_ATTRIBUTES, attributes }\n}\n","import { SET_BACKUP_FOLDERS } from '../constants/ActionTypes'\n\nexport const setBackupFolders = (folders) => ({\n  type: SET_BACKUP_FOLDERS,\n  folders,\n})\n","import {\n  ADD_BEAT,\n  EDIT_BEAT_TITLE,\n  REORDER_BEATS,\n  DELETE_BEAT,\n  AUTO_SORT_BEAT,\n  INSERT_BEAT,\n  EXPAND_BEAT,\n  COLLAPSE_BEAT,\n  LOAD_BEATS,\n  APPEND_TOP_LEVEL_BEAT,\n} from '../constants/ActionTypes'\nimport { beat } from '../store/initialState'\n\nexport function addBeat(bookId, parentId) {\n  return { type: ADD_BEAT, title: beat.title, bookId, parentId }\n}\n\nexport function editBeatTitle(id, bookId, title) {\n  return { type: EDIT_BEAT_TITLE, id, bookId, title }\n}\n\nexport function reorderBeats(beatId, beatDroppedOnto, bookId) {\n  return { type: REORDER_BEATS, beatId, beatDroppedOnto, bookId }\n}\n\nexport function insertBeat(bookId, peerBeatId) {\n  return { type: INSERT_BEAT, bookId, peerBeatId }\n}\n\nexport function deleteBeat(id, bookId) {\n  return { type: DELETE_BEAT, id, bookId }\n}\n\nexport function autoSortBeat(id, bookId) {\n  return { type: AUTO_SORT_BEAT, id, bookId }\n}\n\nexport function expandBeat(id, bookId) {\n  return { type: EXPAND_BEAT, id, bookId }\n}\n\nexport function collapseBeat(id, bookId) {\n  return { type: COLLAPSE_BEAT, id, bookId }\n}\n\nexport function appendTopLevelBeat(bookId) {\n  return { type: APPEND_TOP_LEVEL_BEAT, bookId }\n}\n\nexport function load(patching, beats) {\n  return { type: LOAD_BEATS, patching, beats }\n}\n","import {\n  ADD_BOOK,\n  EDIT_BOOK,\n  DELETE_BOOK,\n  REORDER_BOOKS,\n  LOAD_BOOKS,\n  ADD_BOOK_FROM_TEMPLATE,\n  EDIT_BOOK_IMAGE,\n} from '../constants/ActionTypes'\nimport { book } from '../store/initialState'\n\nexport function addBook(title, premise, genre, theme) {\n  return { type: ADD_BOOK, book, title, premise, genre, theme }\n}\n\nexport function addBookFromTemplate(templateData) {\n  return { type: ADD_BOOK_FROM_TEMPLATE, book, templateData }\n}\n\nexport function editBook(id, title, premise, genre, theme) {\n  return { type: EDIT_BOOK, id, title, premise, genre, theme }\n}\n\nexport function editBookImage(id, imageId) {\n  return { type: EDIT_BOOK_IMAGE, id, imageId }\n}\n\nexport function deleteBook(id) {\n  return { type: DELETE_BOOK, id }\n}\n\nexport function reorderBooks(ids) {\n  return { type: REORDER_BOOKS, ids }\n}\n\nexport function load(patching, books) {\n  return { type: LOAD_BOOKS, patching, books }\n}\n","import {\n  ADD_CARD,\n  EDIT_CARD_DETAILS,\n  EDIT_CARD_COORDINATES,\n  CHANGE_LINE,\n  CHANGE_BEAT,\n  CHANGE_BOOK,\n  REORDER_CARDS_WITHIN_LINE,\n  REORDER_CARDS_IN_BEAT,\n  DELETE_CARD,\n  ATTACH_CHARACTER_TO_CARD,\n  REMOVE_CHARACTER_FROM_CARD,\n  ATTACH_PLACE_TO_CARD,\n  REMOVE_PLACE_FROM_CARD,\n  ATTACH_TAG_TO_CARD,\n  REMOVE_TAG_FROM_CARD,\n  ADD_CARD_IN_BEAT,\n  LOAD_CARDS,\n  EDIT_CARD_TEMPLATE_ATTRIBUTE,\n  ADD_TEMPLATE_TO_CARD,\n  REMOVE_TEMPLATE_FROM_CARD,\n  DUPLICATE_CARD,\n  MOVE_CARD_TO_BOOK,\n} from '../constants/ActionTypes'\nimport { editorMetadataIfPresent } from '../helpers/editors'\n\nexport function addCard(card) {\n  return { type: ADD_CARD, card }\n}\n\nexport function addNewCardInBeat(newCard, reorderIds) {\n  return { type: ADD_CARD_IN_BEAT, newCard, reorderIds }\n}\n\nexport function editCard(id, title, description, templates, attrs) {\n  return { type: EDIT_CARD_DETAILS, id, attributes: { title, description, templates, ...attrs } }\n}\n\nexport function editCardAttributes(id, attributes, editorPath, selection) {\n  return {\n    type: EDIT_CARD_DETAILS,\n    id,\n    attributes,\n    ...editorMetadataIfPresent(editorPath, selection),\n  }\n}\n\nexport function editCardCoordinates(id, lineId, beatId, bookId) {\n  return { type: EDIT_CARD_COORDINATES, id, lineId, beatId, bookId }\n}\n\nexport function addTemplateToCard(id, templateData) {\n  return { type: ADD_TEMPLATE_TO_CARD, id, templateData }\n}\n\nexport function editCardTemplateAttribute(id, templateId, name, value, editorPath, selection) {\n  return {\n    type: EDIT_CARD_TEMPLATE_ATTRIBUTE,\n    id,\n    templateId,\n    name,\n    value,\n    ...editorMetadataIfPresent(editorPath, selection),\n  }\n}\n\nexport function changeLine(id, lineId, bookId) {\n  return { type: CHANGE_LINE, id, lineId, bookId }\n}\n\nexport function changeBeat(id, beatId, bookId) {\n  return { type: CHANGE_BEAT, id, beatId, bookId }\n}\n\nexport function changeBook(id, bookId) {\n  return { type: CHANGE_BOOK, id, bookId }\n}\n\nexport function reorderCardsWithinLine(beatId, lineId, ids) {\n  return { type: REORDER_CARDS_WITHIN_LINE, beatId, lineId, ids }\n}\n\nexport function reorderCardsInBeat(\n  beatId,\n  lineId,\n  newOrderInBeat,\n  newOrderWithinLine,\n  newIdInBeat,\n  bookId\n) {\n  return {\n    type: REORDER_CARDS_IN_BEAT,\n    beatId,\n    lineId,\n    newOrderInBeat,\n    newOrderWithinLine,\n    newIdInBeat,\n    bookId,\n  }\n}\n\nexport function deleteCard(id) {\n  return { type: DELETE_CARD, id }\n}\n\nexport function addCharacter(id, characterId) {\n  return { type: ATTACH_CHARACTER_TO_CARD, id, characterId }\n}\n\nexport function addPlace(id, placeId) {\n  return { type: ATTACH_PLACE_TO_CARD, id, placeId }\n}\n\nexport function addTag(id, tagId) {\n  return { type: ATTACH_TAG_TO_CARD, id, tagId }\n}\n\nexport function removeCharacter(id, characterId) {\n  return { type: REMOVE_CHARACTER_FROM_CARD, id, characterId }\n}\n\nexport function removePlace(id, placeId) {\n  return { type: REMOVE_PLACE_FROM_CARD, id, placeId }\n}\n\nexport function removeTag(id, tagId) {\n  return { type: REMOVE_TAG_FROM_CARD, id, tagId }\n}\n\nexport function removeTemplateFromCard(id, templateId) {\n  return { type: REMOVE_TEMPLATE_FROM_CARD, id, templateId }\n}\n\nexport function load(patching, cards) {\n  return { type: LOAD_CARDS, patching, cards }\n}\n\nexport function duplicateCard(id) {\n  return { type: DUPLICATE_CARD, id }\n}\n\nexport function moveCardToBook(bookId, cardId) {\n  // NOTE: we rely on the root reducer to compute the destination beat\n  // and line ids.\n  return { type: MOVE_CARD_TO_BOOK, bookId, cardId }\n}\n","import {\n  ADD_CHARACTER_CATEGORY,\n  DELETE_CHARACTER_CATEGORY,\n  UPDATE_CHARACTER_CATEGORY,\n  REORDER_CHARACTER_CATEGORY,\n  ADD_NOTE_CATEGORY,\n  DELETE_NOTE_CATEGORY,\n  UPDATE_NOTE_CATEGORY,\n  REORDER_NOTE_CATEGORY,\n  ADD_TAG_CATEGORY,\n  DELETE_TAG_CATEGORY,\n  UPDATE_TAG_CATEGORY,\n  REORDER_TAG_CATEGORY,\n  ADD_PLACE_CATEGORY,\n  DELETE_PLACE_CATEGORY,\n  UPDATE_PLACE_CATEGORY,\n  REORDER_PLACE_CATEGORY,\n  LOAD_CATEGORIES,\n} from '../constants/ActionTypes'\n\nexport function addCharacterCategory(name) {\n  return {\n    type: ADD_CHARACTER_CATEGORY,\n    name,\n  }\n}\n\nexport function deleteCharacterCategory(categoryId) {\n  return {\n    type: DELETE_CHARACTER_CATEGORY,\n    categoryId,\n  }\n}\n\nexport function updateCharacterCategory(category) {\n  return {\n    type: UPDATE_CHARACTER_CATEGORY,\n    category,\n  }\n}\n\nexport function reorderCharacterCategory(category, toIndex) {\n  return {\n    type: REORDER_CHARACTER_CATEGORY,\n    category,\n    toIndex,\n  }\n}\n\nexport function addNoteCategory(name) {\n  return {\n    type: ADD_NOTE_CATEGORY,\n    name,\n  }\n}\n\nexport function deleteNoteCategory(category) {\n  return {\n    type: DELETE_NOTE_CATEGORY,\n    category,\n  }\n}\n\nexport function updateNoteCategory(category) {\n  return {\n    type: UPDATE_NOTE_CATEGORY,\n    category,\n  }\n}\n\nexport function reorderNoteCategory(category, toIndex) {\n  return {\n    type: REORDER_NOTE_CATEGORY,\n    category,\n    toIndex,\n  }\n}\n\nexport function addTagCategory(name) {\n  return {\n    type: ADD_TAG_CATEGORY,\n    name,\n  }\n}\n\nexport function deleteTagCategory(category) {\n  return {\n    type: DELETE_TAG_CATEGORY,\n    category,\n  }\n}\n\nexport function updateTagCategory(category) {\n  return {\n    type: UPDATE_TAG_CATEGORY,\n    category,\n  }\n}\n\nexport function reorderTagCategory(category, toIndex) {\n  return {\n    type: REORDER_TAG_CATEGORY,\n    category,\n    toIndex,\n  }\n}\n\nexport function addPlaceCategory(name) {\n  return {\n    type: ADD_PLACE_CATEGORY,\n    name,\n  }\n}\n\nexport function deletePlaceCategory(category) {\n  return {\n    type: DELETE_PLACE_CATEGORY,\n    category,\n  }\n}\n\nexport function updatePlaceCategory(category) {\n  return {\n    type: UPDATE_PLACE_CATEGORY,\n    category,\n  }\n}\n\nexport function reorderPlaceCategory(category, toIndex) {\n  return {\n    type: REORDER_PLACE_CATEGORY,\n    category,\n    toIndex,\n  }\n}\n\nexport function load(patching, categories) {\n  return { type: LOAD_CATEGORIES, patching, categories }\n}\n","import {\n  ADD_CHARACTER,\n  ADD_CHARACTER_WITH_TEMPLATE,\n  ATTACH_BOOK_TO_CHARACTER,\n  ATTACH_TAG_TO_CHARACTER,\n  DELETE_CHARACTER,\n  EDIT_CHARACTER,\n  LOAD_CHARACTERS,\n  ADD_TEMPLATE_TO_CHARACTER,\n  REMOVE_TEMPLATE_FROM_CHARACTER,\n  REMOVE_BOOK_FROM_CHARACTER,\n  REMOVE_TAG_FROM_CHARACTER,\n  EDIT_CHARACTER_TEMPLATE_ATTRIBUTE,\n  DUPLICATE_CHARACTER,\n  CREATE_CHARACTER_ATTRIBUTE,\n  EDIT_CHARACTER_ATTRIBUTE_VALUE,\n  EDIT_CHARACTER_SHORT_DESCRIPTION,\n  EDIT_CHARACTER_DESCRIPTION,\n  EDIT_CHARACTER_CATEGORY,\n  EDIT_CHARACTER_NAME,\n  EDIT_CHARACTER_IMAGE,\n  DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE,\n} from '../constants/ActionTypes'\nimport { editorMetadataIfPresent } from '../helpers/editors'\nimport {\n  characterAttributesForBookSelector,\n  characterAttributesForCurrentBookSelector,\n} from '../selectors/attributes'\nimport { character } from '../store/initialState'\nimport { selectedCharacterAttributeTabSelector } from '../selectors/ui'\nimport { allBookIdsSelector } from '../selectors/books'\nimport { escapeBraces } from './customAttributes'\nimport { nextId } from '../store/newIds'\nimport { legacyCustomCharacterAttributeByName } from '../selectors/customAttributes'\n\nexport function addCharacter(name) {\n  return {\n    type: ADD_CHARACTER,\n    name: name || character.name,\n    description: character.description,\n    notes: character.notes,\n  }\n}\n\nexport function addCharacterWithTemplate(name, templateData) {\n  return {\n    type: ADD_CHARACTER_WITH_TEMPLATE,\n    name: name || character.name,\n    description: character.description,\n    notes: character.notes,\n    templateData,\n  }\n}\n\nexport function editCharacterName(id, name) {\n  return {\n    type: EDIT_CHARACTER_NAME,\n    id,\n    name,\n  }\n}\n\nexport function editCharacterImage(id, imageId) {\n  return {\n    type: EDIT_CHARACTER_IMAGE,\n    id,\n    imageId,\n  }\n}\n\nexport const editCharacterTemplateAttribute =\n  (id, templateId, name, value, editorPath, selection) => (dispatch, getState) => {\n    // NOTE: Mobile doesn't use history middleware\n    const fullState = getState()\n    const state = fullState.present ? fullState.present : fullState\n    const bookId = selectedCharacterAttributeTabSelector(state)\n\n    dispatch({\n      type: EDIT_CHARACTER_TEMPLATE_ATTRIBUTE,\n      id,\n      templateId,\n      name,\n      value,\n      bookId,\n      ...editorMetadataIfPresent(editorPath, selection),\n    })\n  }\n\nexport function addTemplateToCharacter(id, templateData) {\n  return { type: ADD_TEMPLATE_TO_CHARACTER, id, templateData }\n}\n\nexport function deleteCharacter(id) {\n  return { type: DELETE_CHARACTER, id }\n}\n\nexport function addTag(id, tagId) {\n  return { type: ATTACH_TAG_TO_CHARACTER, id, tagId }\n}\n\nexport const addBook = (id, bookId) => (dispatch, getState) => {\n  // NOTE: Mobile doesn't use history middleware\n  const fullState = getState()\n  const state = fullState.present ? fullState.present : fullState\n  const bookIds = allBookIdsSelector(state)\n\n  if (bookId === 'series' || bookIds.indexOf(bookId) > -1) {\n    dispatch({ type: ATTACH_BOOK_TO_CHARACTER, id, bookId })\n  }\n  // TODO: error message?\n}\n\nexport function removeTag(id, tagId) {\n  return { type: REMOVE_TAG_FROM_CHARACTER, id, tagId }\n}\n\nexport function removeBook(id, bookId) {\n  return { type: REMOVE_BOOK_FROM_CHARACTER, id, bookId }\n}\n\nexport function removeTemplateFromCharacter(id, templateId) {\n  return { type: REMOVE_TEMPLATE_FROM_CHARACTER, id, templateId }\n}\n\nexport function load(patching, characters) {\n  return { type: LOAD_CHARACTERS, patching, characters }\n}\n\nexport function duplicateCharacter(id) {\n  return { type: DUPLICATE_CHARACTER, id }\n}\n\nexport function createCharacterAttribute(type, name, fromLegacyAttribute) {\n  return {\n    type: CREATE_CHARACTER_ATTRIBUTE,\n    attribute: {\n      type,\n      name: escapeBraces(name),\n    },\n    fromLegacyAttribute,\n  }\n}\n\nexport const editCharacterAttributeValue =\n  (characterId, attributeId, value) => (dispatch, getState) => {\n    // NOTE: Mobile doesn't use history middleware\n    const fullState = getState()\n    const state = fullState.present ? fullState.present : fullState\n    const characterAttributesForBook = characterAttributesForCurrentBookSelector(state)\n    const selectedBook = selectedCharacterAttributeTabSelector(state)\n    const newAttribute = characterAttributesForBook.find((attribute) => {\n      return attribute.id === attributeId\n    })\n    if (newAttribute) {\n      if (newAttribute.bookId !== selectedBook) {\n        // This is the first time we're editing an attribute for the\n        // current book that was previously only defined for the whole\n        // series.\n        dispatch({\n          type: EDIT_CHARACTER_ATTRIBUTE_VALUE,\n          bookId: selectedBook,\n          characterId,\n          attributeId,\n          value,\n        })\n        return\n      }\n      dispatch({\n        type: EDIT_CHARACTER_ATTRIBUTE_VALUE,\n        characterId,\n        attributeId,\n        value,\n      })\n      return\n    }\n\n    const legacyCustomAttribute = legacyCustomCharacterAttributeByName(state, attributeId)\n    if (legacyCustomAttribute) {\n      const characterAttributes = characterAttributesForBookSelector(state)\n      const nextAttributeId = nextId(characterAttributes)\n      dispatch(\n        createCharacterAttribute(legacyCustomAttribute.type, legacyCustomAttribute.name, true)\n      )\n      dispatch({\n        type: DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE,\n        attributeName: attributeId,\n      })\n      editCharacterAttributeValue(characterId, nextAttributeId, value)(dispatch, getState)\n    }\n\n    // TODO: handle error state.  There was no legacy attribute.\n  }\n\nexport const editShortDescription = (characterId, shortDescription) => {\n  return {\n    type: EDIT_CHARACTER_SHORT_DESCRIPTION,\n    characterId,\n    value: shortDescription,\n  }\n}\n\nexport const editDescription = (characterId, description) => {\n  return {\n    type: EDIT_CHARACTER_DESCRIPTION,\n    characterId,\n    value: description,\n  }\n}\n\nexport const editCategory = (characterId, categoryId) => {\n  return {\n    type: EDIT_CHARACTER_CATEGORY,\n    characterId,\n    value: categoryId,\n  }\n}\n","import {\n  SET_USER_ID,\n  SET_CLIENT_ID,\n  SET_EMAIL_ADDRESS,\n  SET_HAS_ONBOARDED,\n  SET_HAS_PRO,\n  SET_IS_ON_WEB,\n  SET_CURRENT_APP_STATE,\n} from '../constants/ActionTypes'\n\nexport const setUserId = (userId) => ({\n  type: SET_USER_ID,\n  userId,\n})\n\nexport const setClientId = (clientId) => ({\n  type: SET_CLIENT_ID,\n  clientId,\n})\n\nexport const setEmailAddress = (emailAddress) => ({\n  type: SET_EMAIL_ADDRESS,\n  emailAddress,\n})\n\nexport const setHasOnboarded = (hasOnboarded) => ({\n  type: SET_HAS_ONBOARDED,\n  hasOnboarded,\n})\n\nexport const setHasPro = (hasPro) => ({\n  type: SET_HAS_PRO,\n  hasPro,\n})\n\nexport const setIsOnWeb = () => ({\n  type: SET_IS_ON_WEB,\n})\n\nexport function setCurrentAppStateToDashboard() {\n  return { type: SET_CURRENT_APP_STATE, appState: 'dashboard' }\n}\n\nexport function setCurrentAppStateToApplication() {\n  return { type: SET_CURRENT_APP_STATE, appState: 'app' }\n}\n","import {\n  ADD_PLACES_ATTRIBUTE,\n  ADD_CARDS_ATTRIBUTE,\n  ADD_LINES_ATTRIBUTE,\n  ADD_NOTES_ATTRIBUTE,\n  REMOVE_PLACES_ATTRIBUTE,\n  REMOVE_CARDS_ATTRIBUTE,\n  REMOVE_LINES_ATTRIBUTE,\n  REMOVE_NOTES_ATTRIBUTE,\n  EDIT_PLACES_ATTRIBUTE,\n  EDIT_CARDS_ATTRIBUTE,\n  EDIT_NOTES_ATTRIBUTE,\n  REORDER_CHARACTER_ATTRIBUTE,\n  REORDER_PLACES_ATTRIBUTE,\n  REORDER_CARDS_ATTRIBUTE,\n  REORDER_NOTES_ATTRIBUTE,\n  LOAD_CUSTOM_ATTRIBUTES,\n} from '../constants/ActionTypes'\n\nexport const escapeBraces = (name) => {\n  return name?.replace(/[{}]/g, '')\n}\n\nexport const escapeBracesInAttributeName = (attribute) => {\n  if (attribute) {\n    return {\n      name: escapeBraces(attribute.name),\n      type: attribute.type,\n    }\n  }\n  return attribute\n}\n\nexport function addPlaceAttr(attribute) {\n  return { type: ADD_PLACES_ATTRIBUTE, attribute: escapeBracesInAttributeName(attribute) }\n}\n\nexport function removePlaceAttr(attribute) {\n  // attribute is the attr's name\n  return { type: REMOVE_PLACES_ATTRIBUTE, attribute: attribute }\n}\n\nexport function editPlaceAttr(index, oldAttribute, newAttribute) {\n  return {\n    type: EDIT_PLACES_ATTRIBUTE,\n    index,\n    oldAttribute: escapeBracesInAttributeName(oldAttribute),\n    newAttribute: escapeBracesInAttributeName(newAttribute),\n  }\n}\n\nexport function addLineAttr(attribute) {\n  return { type: ADD_LINES_ATTRIBUTE, attribute: escapeBracesInAttributeName(attribute) }\n}\n\nexport function removeLineAttr(attribute) {\n  return { type: REMOVE_LINES_ATTRIBUTE, attribute: attribute }\n}\n\nexport function addCardAttr(attribute) {\n  return { type: ADD_CARDS_ATTRIBUTE, attribute: escapeBracesInAttributeName(attribute) }\n}\n\nexport function editCardAttr(index, oldAttribute, newAttribute) {\n  return {\n    type: EDIT_CARDS_ATTRIBUTE,\n    index,\n    oldAttribute: escapeBracesInAttributeName(oldAttribute),\n    newAttribute: escapeBracesInAttributeName(newAttribute),\n  }\n}\n\nexport function removeCardAttr(attribute) {\n  return { type: REMOVE_CARDS_ATTRIBUTE, attribute: attribute }\n}\n\nexport function reorderCardsAttribute(attribute, toIndex) {\n  return {\n    type: REORDER_CARDS_ATTRIBUTE,\n    attribute: escapeBracesInAttributeName(attribute),\n    toIndex,\n  }\n}\n\nexport function reorderCharacterAttribute(attribute, toIndex) {\n  return {\n    type: REORDER_CHARACTER_ATTRIBUTE,\n    attribute: escapeBracesInAttributeName(attribute),\n    toIndex,\n  }\n}\n\nexport function reorderPlacesAttribute(attribute, toIndex) {\n  return {\n    type: REORDER_PLACES_ATTRIBUTE,\n    attribute: escapeBracesInAttributeName(attribute),\n    toIndex,\n  }\n}\n\nexport function addNoteAttr(attribute) {\n  return { type: ADD_NOTES_ATTRIBUTE, attribute: escapeBracesInAttributeName(attribute) }\n}\n\nexport function editNoteAttr(index, oldAttribute, newAttribute) {\n  return {\n    type: EDIT_NOTES_ATTRIBUTE,\n    index,\n    oldAttribute: escapeBracesInAttributeName(oldAttribute),\n    newAttribute: escapeBracesInAttributeName(newAttribute),\n  }\n}\n\nexport function removeNoteAttr(attribute) {\n  return { type: REMOVE_NOTES_ATTRIBUTE, attribute: attribute }\n}\n\nexport function reorderNotesAttribute(attribute, toIndex) {\n  return {\n    type: REORDER_NOTES_ATTRIBUTE,\n    attribute: escapeBracesInAttributeName(attribute),\n    toIndex,\n  }\n}\n\nexport function load(patching, customAttributes) {\n  return { type: LOAD_CUSTOM_ATTRIBUTES, patching, customAttributes }\n}\n","import { CLICK_ON_DOM } from '../constants/ActionTypes'\n\nexport const clickOnDom = (x, y) => {\n  return {\n    type: CLICK_ON_DOM,\n    x,\n    y,\n  }\n}\n","import {\n  CLEAR_ERROR,\n  PERMISSION_ERROR,\n  GENERAL_ERROR,\n  IMPORT_ERROR,\n  SAVE_TEMP_FILE_ERROR,\n} from '../constants/ActionTypes'\n\nexport const permissionError = (storeKey, action, error) => ({\n  type: PERMISSION_ERROR,\n  storeKey,\n  action,\n  error,\n})\n\nexport const generalError = (error) => ({\n  type: GENERAL_ERROR,\n  error,\n})\n\nexport const clearError = () => ({\n  type: CLEAR_ERROR,\n})\n\nexport const importError = (error) => ({\n  type: IMPORT_ERROR,\n  error,\n})\n\nexport const saveTempFileError = (errorMessage) => ({\n  type: SAVE_TEMP_FILE_ERROR,\n  error: errorMessage,\n})\n","import { LOAD_FEATURE_FLAGS, SET_FEATURE_FLAG, UNSET_FEATURE_FLAG } from '../constants/ActionTypes'\nimport { BEAT_HIERARCHY_FLAG } from '../constants/featureFlags'\n\nconst setFeatureFlag = (flagName) => ({\n  type: SET_FEATURE_FLAG,\n  flagName,\n})\n\nconst unsetFeatureFlag = (flagName) => ({\n  type: UNSET_FEATURE_FLAG,\n  flagName,\n})\n\nexport const setBeatHierarchy = () => setFeatureFlag(BEAT_HIERARCHY_FLAG)\n\nexport const unsetBeatHierarchy = () => unsetFeatureFlag(BEAT_HIERARCHY_FLAG)\n\nexport const load = (patching, featureFlags) => ({\n  type: LOAD_FEATURE_FLAGS,\n  patching,\n  featureFlags,\n})\n","import {\n  SET_HIERARCHY_LEVELS,\n  EDIT_HIERARCHY_LEVEL,\n  LOAD_HIERARCHY,\n} from '../constants/ActionTypes'\n\nexport const setHierarchyLevels = (newHierarchyLevels) => ({\n  type: SET_HIERARCHY_LEVELS,\n  hierarchyLevels: newHierarchyLevels,\n})\n\nexport const editHierarchyLevel = (hierarchyLevel) => ({\n  type: EDIT_HIERARCHY_LEVEL,\n  hierarchyLevel,\n})\n\nexport const load = (patching, hierarchy) => ({\n  type: LOAD_HIERARCHY,\n  patching,\n  hierarchy,\n})\n","import { CACHE_IMAGE } from '../constants/ActionTypes'\n\nexport const cacheImage = (storageUrl, publicUrl) => ({\n  type: CACHE_IMAGE,\n  storageUrl,\n  publicUrl,\n  timestamp: new Date(),\n})\n","import { ADD_IMAGE, RENAME_IMAGE, DELETE_IMAGE, LOAD_IMAGES } from '../constants/ActionTypes'\nimport { image as initialImage } from '../store/initialState'\n\nexport function addImage(newImage) {\n  const image = Object.assign({}, initialImage, newImage)\n  return { type: ADD_IMAGE, image }\n}\n\nexport function renameImage(id, name) {\n  return { type: RENAME_IMAGE, id, name }\n}\n\nexport function deleteImage(id) {\n  return { type: DELETE_IMAGE, id }\n}\n\nexport function load(patching, images) {\n  return { type: LOAD_IMAGES, patching, images }\n}\n","import { SET_KNOWN_FILES } from '../constants/ActionTypes'\n\nexport const setKnownFiles = (knownFiles) => ({\n  type: SET_KNOWN_FILES,\n  knownFiles,\n})\n","import {\n  RESET_PRO_LICENSE_INFO,\n  SET_LICENSE_INFO,\n  SET_PRO_LICENSE_INFO,\n  SET_TRIAL_INFO,\n} from '../constants/ActionTypes'\n\nexport const setTrialInfo = (trialInfo) => ({\n  type: SET_TRIAL_INFO,\n  trialInfo,\n})\n\nexport const setLicenseInfo = (licenseInfo) => ({\n  type: SET_LICENSE_INFO,\n  licenseInfo,\n})\n\nexport const setProLicenseInfo = (proLicenseInfo) => ({\n  type: SET_PRO_LICENSE_INFO,\n  proLicenseInfo,\n})\n\nexport const resetProLicenseInfo = () => ({\n  type: RESET_PRO_LICENSE_INFO,\n})\n","import {\n  ADD_LINE,\n  ADD_LINE_WITH_TITLE,\n  ADD_LINES_FROM_TEMPLATE,\n  EDIT_LINE,\n  EDIT_LINE_TITLE,\n  EDIT_LINE_COLOR,\n  REORDER_LINES,\n  DELETE_LINE,\n  EXPAND_LINE,\n  COLLAPSE_LINE,\n  LOAD_LINES,\n  DUPLICATE_LINE,\n  MOVE_LINE,\n} from '../constants/ActionTypes'\n\n// N.B. if one does not supply a book ID, then it is assumed that the\n// action refers to the broadest scope possible, i.e. the series of\n// books.\n\nexport function addLine(bookId) {\n  return { type: ADD_LINE, bookId }\n}\n\nexport function addLineWithTitle(title, bookId) {\n  return { type: ADD_LINE_WITH_TITLE, title, bookId }\n}\n\nexport function addLinesFromTemplate(templateData) {\n  return { type: ADD_LINES_FROM_TEMPLATE, templateData }\n}\n\nexport function editLine(id, title, color) {\n  return { type: EDIT_LINE, id, title, color }\n}\n\nexport function editLineTitle(id, title) {\n  return { type: EDIT_LINE_TITLE, id, title }\n}\n\nexport function editLineColor(id, color) {\n  return { type: EDIT_LINE_COLOR, id, color }\n}\n\nexport function reorderLines(lines, bookId) {\n  return { type: REORDER_LINES, lines, bookId }\n}\n\nexport function deleteLine(id, bookId) {\n  return { type: DELETE_LINE, id, bookId }\n}\n\nexport function expandLine(id) {\n  return { type: EXPAND_LINE, id }\n}\n\nexport function collapseLine(id) {\n  return { type: COLLAPSE_LINE, id }\n}\n\nexport function duplicateLine(id, position) {\n  return { type: DUPLICATE_LINE, id, position }\n}\n\nexport function load(patching, lines) {\n  return { type: LOAD_LINES, patching, lines }\n}\n\nexport function moveLine(id, destinationBookId) {\n  return { type: MOVE_LINE, id, destinationBookId }\n}\n","import {\n  ADD_NOTE,\n  EDIT_NOTE,\n  EDIT_NOTE_TEMPLATE_ATTRIBUTE,\n  DELETE_NOTE,\n  ATTACH_CHARACTER_TO_NOTE,\n  ATTACH_PLACE_TO_NOTE,\n  ATTACH_TAG_TO_NOTE,\n  REMOVE_CHARACTER_FROM_NOTE,\n  REMOVE_PLACE_FROM_NOTE,\n  REMOVE_TAG_FROM_NOTE,\n  REMOVE_BOOK_FROM_NOTE,\n  ATTACH_BOOK_TO_NOTE,\n  LOAD_NOTES,\n  DUPLICATE_NOTE,\n} from '../constants/ActionTypes'\nimport { editorMetadataIfPresent } from '../helpers/editors'\nimport { note } from '../store/initialState'\n\nexport function addNote() {\n  return { type: ADD_NOTE, title: note.title, content: note.content }\n}\n\nexport function addNoteWithValues(title, content) {\n  return { type: ADD_NOTE, title, content }\n}\n\nexport function editNote(id, attributes, editorPath, selection) {\n  return { type: EDIT_NOTE, id, attributes, ...editorMetadataIfPresent(editorPath, selection) }\n}\n\nexport function editNoteTemplateAttribute(id, templateId, name, value, editorPath, selection) {\n  return {\n    type: EDIT_NOTE_TEMPLATE_ATTRIBUTE,\n    id,\n    templateId,\n    name,\n    value,\n    ...editorMetadataIfPresent(editorPath, selection),\n  }\n}\n\nexport function deleteNote(id) {\n  return { type: DELETE_NOTE, id }\n}\n\nexport function addCharacter(id, characterId) {\n  return { type: ATTACH_CHARACTER_TO_NOTE, id, characterId }\n}\n\nexport function addPlace(id, placeId) {\n  return { type: ATTACH_PLACE_TO_NOTE, id, placeId }\n}\n\nexport function addTag(id, tagId) {\n  return { type: ATTACH_TAG_TO_NOTE, id, tagId }\n}\n\nexport function addBook(id, bookId) {\n  return { type: ATTACH_BOOK_TO_NOTE, id, bookId }\n}\n\nexport function removeCharacter(id, characterId) {\n  return { type: REMOVE_CHARACTER_FROM_NOTE, id, characterId }\n}\n\nexport function removePlace(id, placeId) {\n  return { type: REMOVE_PLACE_FROM_NOTE, id, placeId }\n}\n\nexport function removeTag(id, tagId) {\n  return { type: REMOVE_TAG_FROM_NOTE, id, tagId }\n}\n\nexport function removeBook(id, bookId) {\n  return { type: REMOVE_BOOK_FROM_NOTE, id, bookId }\n}\n\nexport function load(patching, notes) {\n  return { type: LOAD_NOTES, patching, notes }\n}\n\nexport function duplicateNote(id) {\n  return { type: DUPLICATE_NOTE, id, lastEdited: new Date().getTime() }\n}\n","import { SHOW_MESSAGE, SHOW_TOAST_NOTIFICATION, DISMISS_MESSAGE } from '../constants/ActionTypes'\n\nexport function showToastNotification(visible, cardAction, newBookId, lineAction) {\n  return { type: SHOW_TOAST_NOTIFICATION, visible, cardAction, newBookId, lineAction }\n}\n\nexport function showMessage(message) {\n  return { type: SHOW_MESSAGE, message }\n}\n\nexport function dismissMessage() {\n  return { type: DISMISS_MESSAGE }\n}\n","import { SET_PERMISSION } from '../constants/ActionTypes'\n\nexport const setPermission = (newPermission) => ({\n  type: SET_PERMISSION,\n  permission: newPermission,\n})\n","import {\n  ADD_PLACE,\n  ADD_PLACE_WITH_VALUES,\n  ATTACH_BOOK_TO_PLACE,\n  ATTACH_TAG_TO_PLACE,\n  DELETE_PLACE,\n  DUPLICATE_PLACE,\n  EDIT_PLACE,\n  EDIT_PLACE_TEMPLATE_ATTRIBUTE,\n  LOAD_PLACES,\n  REMOVE_BOOK_FROM_PLACE,\n  REMOVE_TAG_FROM_PLACE,\n} from '../constants/ActionTypes'\nimport { editorMetadataIfPresent } from '../helpers/editors'\nimport { place } from '../store/initialState'\n\nexport function addPlace() {\n  return { type: ADD_PLACE, name: place.name, description: place.description, notes: place.notes }\n}\n\nexport function addPlaceWithValues(place) {\n  return { type: ADD_PLACE_WITH_VALUES, place }\n}\n\nexport function editPlace(id, attributes, editorPath, selection) {\n  return { type: EDIT_PLACE, id, attributes, ...editorMetadataIfPresent(editorPath, selection) }\n}\n\nexport function duplicatePlace(id) {\n  return { type: DUPLICATE_PLACE, id }\n}\n\nexport function editPlaceTemplateAttribute(id, templateId, name, value, editorPath, selection) {\n  return {\n    type: EDIT_PLACE_TEMPLATE_ATTRIBUTE,\n    id,\n    templateId,\n    name,\n    value,\n    ...editorMetadataIfPresent(editorPath, selection),\n  }\n}\n\nexport function deletePlace(id) {\n  return { type: DELETE_PLACE, id }\n}\n\nexport function addTag(id, tagId) {\n  return { type: ATTACH_TAG_TO_PLACE, id, tagId }\n}\n\nexport function addBook(id, bookId) {\n  return { type: ATTACH_BOOK_TO_PLACE, id, bookId }\n}\n\nexport function removeTag(id, tagId) {\n  return { type: REMOVE_TAG_FROM_PLACE, id, tagId }\n}\n\nexport function removeBook(id, bookId) {\n  return { type: REMOVE_BOOK_FROM_PLACE, id, bookId }\n}\n\nexport function load(patching, places) {\n  return { type: LOAD_PLACES, patching, places }\n}\n","import {\n  SELECT_FILE,\n  SELECT_EMPTY_FILE,\n  SET_FILE_LIST,\n  SET_USERNAME_SEARCH_RESULTS,\n  SET_FILE_LOADED,\n  SHOW_LOADER,\n  UNSET_FILE_LOADED,\n  SET_OFFLINE,\n  SET_RESUMING,\n  SET_CHECKING_FOR_OFFLINE_DRIFT,\n  SET_OVERWRITING_CLOUD_WITH_BACKUP,\n  SET_SHOW_RESUME_MESSAGE_DIALOG,\n  SET_BACKING_UP_OFFLINE_FILE,\n  START_CREATING_NEW_PROJECT,\n  FINISH_CREATING_NEW_PROJECT,\n  SET_FILE_URL,\n} from '../constants/ActionTypes'\nimport { fileURLSelector } from '../selectors/project'\nimport { offlineModeEnabledSelector } from '../selectors/settings'\n\nexport const withFullFileState = (cb) => (dispatch, getState) => {\n  cb(getState())\n}\n\nexport const selectFile = (selectedFile) => ({\n  type: SELECT_FILE,\n  selectedFile,\n})\n\nexport const selectEmptyFile = () => ({\n  type: SELECT_EMPTY_FILE,\n})\n\nexport const setFileLoaded = () => ({\n  type: SET_FILE_LOADED,\n})\n\nexport const unsetFileLoaded = () => ({\n  type: UNSET_FILE_LOADED,\n})\n\nexport const showLoader = (isLoading) => ({\n  type: SHOW_LOADER,\n  isLoading,\n})\n\nexport const setOffline = (isOffline) => (dispatch, getState) => {\n  // NOTE: Mobile doesn't use history middleware\n  const fullState = getState()\n  const state = fullState.present ? fullState.present : fullState\n  const offlineModeIsEnabled = offlineModeEnabledSelector(state)\n  const fileIsLoaded = !!fileURLSelector(state)\n\n  dispatch({\n    type: SET_OFFLINE,\n    isOffline,\n    offlineModeIsEnabled,\n    fileIsLoaded,\n  })\n}\n\nexport const setResuming = (resuming) => ({\n  type: SET_RESUMING,\n  resuming,\n})\n\nexport const setCheckingForOfflineDrift = (checkingOfflineDrift) => ({\n  type: SET_CHECKING_FOR_OFFLINE_DRIFT,\n  checkingOfflineDrift,\n})\n\nexport const setOverwritingCloudWithBackup = (overwritingCloudWithBackup) => ({\n  type: SET_OVERWRITING_CLOUD_WITH_BACKUP,\n  overwritingCloudWithBackup,\n})\n\nexport const setShowResumeMessageDialog = (showResumeMessageDialog) => ({\n  type: SET_SHOW_RESUME_MESSAGE_DIALOG,\n  showResumeMessageDialog,\n})\n\nexport const setBackingUpOfflineFile = (backingUpOfflineFile) => ({\n  type: SET_BACKING_UP_OFFLINE_FILE,\n  backingUpOfflineFile,\n})\n\nexport const startCreatingNewProject = (template, defaultName) => ({\n  type: START_CREATING_NEW_PROJECT,\n  template,\n  defaultName,\n})\n\nexport const finishCreatingNewProject = () => ({\n  type: FINISH_CREATING_NEW_PROJECT,\n})\n","import { EDIT_SERIES, LOAD_SERIES } from '../constants/ActionTypes'\n\nexport function editSeries(attributes) {\n  return { type: EDIT_SERIES, attributes }\n}\n\nexport function load(patching, series) {\n  return { type: LOAD_SERIES, patching, series }\n}\n","import {\n  SET_APP_SETTINGS,\n  SET_DARK_MODE,\n  SET_EXPORT_SETTINGS,\n  SET_USER_SETTINGS,\n} from '../constants/ActionTypes'\n\nexport const setExportSettings = (exportSettings) => ({\n  type: SET_EXPORT_SETTINGS,\n  exportSettings,\n})\n\nexport const setUserSettings = (userSettings) => ({\n  type: SET_USER_SETTINGS,\n  userSettings,\n})\n\nexport const setAppSettings = (appSettings) => ({\n  type: SET_APP_SETTINGS,\n  appSettings,\n})\n\n// WARNING: only use this action if we were told by some special\n// source (in the case of Desktop, the main process).  If you want to\n// change the dark mode setting, it's best to change the settings\n// store and have the listener update the value instead.\nexport const setDarkMode = (value) => ({\n  type: SET_DARK_MODE,\n  value,\n})\n","import {\n  ADD_TAG,\n  ADD_TAG_WITH_VALUES,\n  ADD_CREATED_TAG,\n  EDIT_TAG,\n  DELETE_TAG,\n  CHANGE_TAG_COLOR,\n  LOAD_TAGS,\n  DUPLICATE_TAG,\n} from '../constants/ActionTypes'\n\nexport function addTag() {\n  return { type: ADD_TAG }\n}\n\nexport function addTagWithValues(title, color) {\n  return { type: ADD_TAG_WITH_VALUES, title, color }\n}\n\nexport function addCreatedTag(attributes) {\n  return { type: ADD_CREATED_TAG, attributes }\n}\n\nexport function editTag(id, title, color, categoryId) {\n  return { type: EDIT_TAG, id, title, color, categoryId: categoryId || null }\n}\n\nexport function changeColor(id, color) {\n  return { type: CHANGE_TAG_COLOR, id, color }\n}\n\nexport function deleteTag(id) {\n  return { type: DELETE_TAG, id }\n}\n\nexport function load(patching, tags) {\n  return { type: LOAD_TAGS, patching, tags }\n}\n\nexport function duplicateTag(id) {\n  return { type: DUPLICATE_TAG, id }\n}\n","import {\n  SET_TEMPLATES,\n  SET_CUSTOM_TEMPLATES,\n  SET_TEMPLATE_MANIFEST,\n} from '../constants/ActionTypes'\n\nexport const setTemplates = (templates) => ({\n  type: SET_TEMPLATES,\n  templates,\n})\n\nexport const setCustomTemplates = (customTemplates) => ({\n  type: SET_CUSTOM_TEMPLATES,\n  customTemplates,\n})\n\nexport const setTemplateManifest = (templateManifest) => ({\n  type: SET_TEMPLATE_MANIFEST,\n  templateManifest,\n})\n","import { ENABLE_TEST_UTILITIES } from '../constants/ActionTypes'\n\nexport const enableTestUtilities = () => ({\n  type: ENABLE_TEST_UTILITIES,\n})\n","import {\n  CHANGE_CURRENT_VIEW,\n  CHANGE_ORIENTATION,\n  FILE_LOADED,\n  NAVIGATE_TO_BOOK_TIMELINE,\n  FILE_SAVED,\n  NEW_FILE,\n  CHANGE_CURRENT_TIMELINE,\n  CLEAR_TEMPLATE_FROM_TIMELINE,\n  SET_CHARACTER_SORT,\n  SET_PLACE_SORT,\n  SET_CHARACTER_FILTER,\n  EXPAND_TIMELINE,\n  COLLAPSE_TIMELINE,\n  SET_TIMELINE_FILTER,\n  SET_PLACE_FILTER,\n  RESET_TIMELINE,\n  RECORD_SCROLL_POSITION,\n  EDIT_FILENAME,\n  SET_TIMELINE_SIZE,\n  OPEN_ATTRIBUTES_DIALOG,\n  CLOSE_ATTRIBUTES_DIALOG,\n  SET_NOTE_SORT,\n  SET_NOTE_FILTER,\n  SET_OUTLINE_FILTER,\n  SET_NOTES_FILTER,\n  LOAD_UI,\n  LOAD_FILE,\n  SET_NOTES_SEARCH_TERM,\n  SET_CHARACTERS_SEARCH_TERM,\n  SET_PLACES_SEARCH_TERM,\n  SET_TAGS_SEARCH_TERM,\n  SET_OUTLINE_SEARCH_TERM,\n  SET_TIMELINE_SEARCH_TERM,\n  SET_ACTIVE_TIMELINE_TAB,\n  SET_TIMELINE_VIEW,\n  SELECT_CHARACTER_ATTRIBUTE_BOOK_TAB,\n  SELECT_CHARACTER,\n  SET_CARD_DIALOG_OPEN,\n  SET_CARD_DIALOG_CLOSE,\n  OPEN_NEW_BOOK_DIALOG,\n  OPEN_EDIT_BOOK_DIALOG,\n  CLOSE_BOOK_DIALOG,\n} from '../constants/ActionTypes'\nimport { allCardsSelector } from '../selectors/cards'\nimport { fileURLSelector } from '../selectors/project'\n\nexport function changeCurrentView(view) {\n  return { type: CHANGE_CURRENT_VIEW, view }\n}\n\nexport function changeOrientation(orientation) {\n  return { type: CHANGE_ORIENTATION, orientation }\n}\n\nexport function loadFile(fileName, dirty, payload, version, fileURL) {\n  return { type: FILE_LOADED, data: payload, fileName, dirty, version, fileURL }\n}\n\nexport function newFile(fileName) {\n  return { type: NEW_FILE, fileName }\n}\n\nexport function fileSaved() {\n  return { type: FILE_SAVED, dirty: false }\n}\n\nexport function setCharacterSort(attr, direction) {\n  return { type: SET_CHARACTER_SORT, attr, direction }\n}\n\nexport function setPlaceSort(attr, direction) {\n  return { type: SET_PLACE_SORT, attr, direction }\n}\n\nexport function setNoteSort(attr, direction) {\n  return { type: SET_NOTE_SORT, attr, direction }\n}\n\nexport function setCharacterFilter(filter) {\n  return { type: SET_CHARACTER_FILTER, filter }\n}\n\nexport function setPlaceFilter(filter) {\n  return { type: SET_PLACE_FILTER, filter }\n}\n\nexport function setNoteFilter(filter) {\n  return { type: SET_NOTE_FILTER, filter }\n}\n\nexport function setTimelineFilter(filter) {\n  return { type: SET_TIMELINE_FILTER, filter }\n}\n\nexport function setOutlineFilter(filter) {\n  return { type: SET_OUTLINE_FILTER, filter }\n}\n\nexport function changeCurrentTimeline(id) {\n  return { type: CHANGE_CURRENT_TIMELINE, id }\n}\n\nexport function navigateToBookTimeline(bookId, inBrowser, history) {\n  if (inBrowser && history) {\n    history.push(`/timeline`)\n  }\n\n  return { type: NAVIGATE_TO_BOOK_TIMELINE, bookId }\n}\n\nexport function expandTimeline() {\n  return { type: EXPAND_TIMELINE }\n}\n\nexport function collapseTimeline() {\n  return { type: COLLAPSE_TIMELINE }\n}\n\nexport function clearTemplateFromTimeline(bookId, templateId) {\n  return { type: CLEAR_TEMPLATE_FROM_TIMELINE, bookId, templateId }\n}\n\nexport function resetTimeline(bookId) {\n  return { type: RESET_TIMELINE, bookId }\n}\n\nexport function recordScrollPosition({ x, y }) {\n  return { type: RECORD_SCROLL_POSITION, x, y }\n}\n\nexport const editFileName = (persistFileNameChange, newName) => (dispatch, getState) => {\n  // NOTE: Mobile doesn't use history middleware\n  const fullState = getState()\n  const state = fullState.present ? fullState.present : fullState\n  const fileURL = fileURLSelector(state)\n  // TODO: dispatch an error for not being able to edit the file name.\n  persistFileNameChange(fileURL, newName).then(() => {\n    dispatch({ type: EDIT_FILENAME, newName })\n  })\n}\n\nexport function setTimelineSize(newSize) {\n  return { type: SET_TIMELINE_SIZE, newSize }\n}\n\nexport function openAttributesDialog() {\n  return { type: OPEN_ATTRIBUTES_DIALOG }\n}\n\nexport function closeAttributesDialog() {\n  return { type: CLOSE_ATTRIBUTES_DIALOG }\n}\n\nexport function setNotesSearchTerm(searchTerm) {\n  return { type: SET_NOTES_SEARCH_TERM, searchTerm }\n}\n\nexport function setCharactersSearchTerm(searchTerm) {\n  return { type: SET_CHARACTERS_SEARCH_TERM, searchTerm }\n}\n\nexport function setPlacesSearchTerm(searchTerm) {\n  return { type: SET_PLACES_SEARCH_TERM, searchTerm }\n}\n\nexport function setTagsSearchTerm(searchTerm) {\n  return { type: SET_TAGS_SEARCH_TERM, searchTerm }\n}\n\nexport function setOutlineSearchTerm(searchTerm) {\n  return { type: SET_OUTLINE_SEARCH_TERM, searchTerm }\n}\n\nexport function setTimelineSearchTerm(searchTerm) {\n  return { type: SET_TIMELINE_SEARCH_TERM, searchTerm }\n}\n\nexport function patchFile(patching, file) {\n  return { type: LOAD_FILE, patching, file }\n}\n\nexport function setTimelineActiveTab(activeTab) {\n  return { type: SET_ACTIVE_TIMELINE_TAB, activeTab }\n}\n\nexport function setTimelineView(timelineView) {\n  return { type: SET_TIMELINE_VIEW, timelineView }\n}\n\nexport function selectCharacterAttributeBookTab(bookId) {\n  return { type: SELECT_CHARACTER_ATTRIBUTE_BOOK_TAB, bookId }\n}\n\nexport function selectCharacter(id) {\n  return { type: SELECT_CHARACTER, id }\n}\n\nexport const setCardDialogOpen = (cardId, beatId, lineId) => (dispatch, getState) => {\n  // NOTE: Mobile doesn't use history middleware\n  const fullState = getState()\n  const state = fullState.present ? fullState.present : fullState\n  const allCards = allCardsSelector(state)\n  const cardExists = allCards.find((card) => card.id == cardId)\n  if (cardExists) {\n    dispatch({\n      type: SET_CARD_DIALOG_OPEN,\n      cardId,\n      lineId,\n      beatId,\n    })\n  }\n}\n\nexport function setCardDialogClose() {\n  return { type: SET_CARD_DIALOG_CLOSE }\n}\n\nexport function openNewBookDialog() {\n  return { type: OPEN_NEW_BOOK_DIALOG }\n}\n\nexport function openEditBookDialog(bookId) {\n  return {\n    type: OPEN_EDIT_BOOK_DIALOG,\n    bookId,\n  }\n}\n\nexport function closeBookDialog() {\n  return { type: CLOSE_BOOK_DIALOG }\n}\n\nexport function load(patching, ui) {\n  return { type: LOAD_UI, patching, ui }\n}\n","import { RESET } from '../constants/ActionTypes'\n\nexport function reset(payload) {\n  return { type: RESET, data: payload }\n}\n","// ui actions\nexport const LOADING_FILE_LIST = 'LOADING_FILE_LIST'\nexport const LOADED_FILE_LIST = 'LOADED_FILE_LIST'\nexport const FILE_LOADED = 'FILE_LOADED'\nexport const FILE_SAVED = 'FILE_SAVED'\nexport const NEW_FILE = 'NEW_FILE'\nexport const EDIT_FILENAME = 'EDIT_FILENAME'\nexport const CHANGE_CURRENT_VIEW = 'CHANGE_CURRENT_VIEW'\nexport const CHANGE_ORIENTATION = 'CHANGE_ORIENTATION'\nexport const CHANGE_CURRENT_TIMELINE = 'CHANGE_CURRENT_TIMELINE'\nexport const RESET = 'RESET'\nexport const SET_CHARACTER_SORT = 'SET_CHARACTER_SORT'\nexport const SET_PLACE_SORT = 'SET_PLACE_SORT'\nexport const SET_NOTE_SORT = 'SET_NOTE_SORT'\nexport const SET_CHARACTER_FILTER = 'SET_CHARACTER_FILTER'\nexport const SET_PLACE_FILTER = 'SET_PLACE_FILTER'\nexport const SET_NOTE_FILTER = 'SET_NOTE_FILTER'\nexport const NAVIGATE_TO_BOOK_TIMELINE = 'NAVIGATE_TO_BOOK_TIMELINE'\nexport const EXPAND_TIMELINE = 'EXPAND_TIMELINE'\nexport const COLLAPSE_TIMELINE = 'COLLAPSE_TIMELINE'\nexport const SET_TIMELINE_FILTER = 'SET_TIMELINE_FILTER'\nexport const CLEAR_TEMPLATE_FROM_TIMELINE = 'CLEAR_TEMPLATE_FROM_TIMELINE'\nexport const RESET_TIMELINE = 'RESET_TIMELINE'\nexport const RECORD_SCROLL_POSITION = 'RECORD_SCROLL_POSITION'\nexport const OPEN_ATTRIBUTES_DIALOG = 'OPEN_ATTRIBUTES_DIALOG'\nexport const CLOSE_ATTRIBUTES_DIALOG = 'CLOSE_ATTRIBUTES_DIALOG'\nexport const SET_TIMELINE_SIZE = 'SET_TIMELINE_SIZE'\nexport const SET_OUTLINE_FILTER = 'SET_OUTLINE_FILTER'\nexport const LOAD_FILE = 'LOAD_FILE'\nexport const SET_ACTIVE_TIMELINE_TAB = 'SET_ACTIVE_TIMELINE_TAB'\nexport const SET_TIMELINE_VIEW = 'SET_TIMELINE_VIEW'\nexport const SELECT_CHARACTER_ATTRIBUTE_BOOK_TAB = 'SELECT_CHARACTER_ATTRIBUTE_BOOK_TAB'\nexport const SELECT_CHARACTER = 'SELECT_CHARACTER'\nexport const SET_CARD_DIALOG_OPEN = 'SET_CARD_DIALOG_OPEN'\nexport const SET_CARD_DIALOG_CLOSE = 'SET_CARD_DIALOG_CLOSE'\nexport const LOAD_UI = 'LOAD_UI'\nexport const OPEN_NEW_BOOK_DIALOG = 'OPEN_NEW_BOOK_DIALOG'\nexport const OPEN_EDIT_BOOK_DIALOG = 'OPEN_EDIT_BOOK_DIALOG'\nexport const CLOSE_BOOK_DIALOG = 'CLOSE_BOOK_DIALOG'\n\n// beat actions\nexport const ADD_BEAT = 'ADD_BEAT'\nexport const EDIT_BEAT_TITLE = 'EDIT_BEAT_TITLE'\nexport const REORDER_BEATS = 'REORDER_BEATS'\nexport const DELETE_BEAT = 'DELETE_BEAT'\nexport const AUTO_SORT_BEAT = 'AUTO_SORT_BEAT'\nexport const INSERT_BEAT = 'INSERT_BEAT'\nexport const EXPAND_BEAT = 'EXPAND_BEAT'\nexport const COLLAPSE_BEAT = 'COLLAPSE_BEAT'\nexport const LOAD_BEATS = 'LOAD_BEATS'\nexport const APPEND_TOP_LEVEL_BEAT = 'APPEND_TOP_LEVEL_BEAT'\n\n// card actions\nexport const ADD_CARD = 'ADD_CARD'\nexport const ADD_CARD_IN_BEAT = 'ADD_CARD_IN_BEAT'\nexport const EDIT_CARD_DETAILS = 'EDIT_CARD_DETAILS'\nexport const EDIT_CARD_TEMPLATE_ATTRIBUTE = 'EDIT_CARD_TEMPLATE_ATTRIBUTE'\nexport const EDIT_CARD_COORDINATES = 'EDIT_CARD_COORDINATES'\nexport const DELETE_CARD = 'DELETE_CARD'\nexport const CHANGE_LINE = 'CHANGE_STORYLINE'\nexport const CHANGE_BEAT = 'CHANGE_BEAT'\nexport const CHANGE_BOOK = 'CHANGE_BOOK'\nexport const REORDER_CARDS_WITHIN_LINE = 'REORDER_CARDS_WITHIN_LINE'\nexport const REORDER_CARDS_IN_BEAT = 'REORDER_CARDS_IN_BEAT'\nexport const ATTACH_CHARACTER_TO_CARD = 'ATTACH_CHARACTER_TO_CARD'\nexport const ATTACH_PLACE_TO_CARD = 'ATTACH_PLACE_TO_CARD'\nexport const ATTACH_TAG_TO_CARD = 'ATTACH_TAG_TO_CARD'\nexport const REMOVE_CHARACTER_FROM_CARD = 'REMOVE_CHARACTER_FROM_CARD'\nexport const REMOVE_PLACE_FROM_CARD = 'REMOVE_PLACE_FROM_CARD'\nexport const REMOVE_TAG_FROM_CARD = 'REMOVE_TAG_FROM_CARD'\nexport const LOAD_CARDS = 'LOAD_CARDS'\nexport const ADD_TEMPLATE_TO_CARD = 'ADD_TEMPLATE_TO_CARD'\nexport const REMOVE_TEMPLATE_FROM_CARD = 'REMOVE_TEMPLATE_FROM_CARD'\nexport const DUPLICATE_CARD = 'DUPLICATE_CARD'\nexport const MOVE_CARD_TO_BOOK = 'MOVE_CARD_TO_BOOK'\n\n// line actions\nexport const ADD_LINE = 'ADD_STORYLINE'\nexport const ADD_LINE_WITH_TITLE = 'ADD_LINE_WITH_TITLE'\nexport const ADD_LINES_FROM_TEMPLATE = 'ADD_LINES_FROM_TEMPLATE'\nexport const EDIT_LINE = 'EDIT_LINE'\nexport const EDIT_LINE_TITLE = 'EDIT_STORYLINE_TITLE'\nexport const EDIT_LINE_COLOR = 'EDIT_STORYLINE_COLOR'\nexport const REORDER_LINES = 'REORDER_STORYLINES'\nexport const DELETE_LINE = 'DELETE_STORYLINE'\nexport const EXPAND_LINE = 'EXPAND_LINE'\nexport const COLLAPSE_LINE = 'COLLAPSE_LINE'\nexport const DUPLICATE_LINE = 'DUPLICATE_LINE'\nexport const LOAD_LINES = 'LOAD_LINES'\nexport const MOVE_LINE = 'MOVE_LINE'\n\n// places actions\nexport const ADD_PLACE = 'ADD_PLACE'\nexport const ADD_PLACE_WITH_VALUES = 'ADD_PLACE_WITH_VALUES'\nexport const EDIT_PLACE = 'EDIT_PLACE'\nexport const EDIT_PLACE_TEMPLATE_ATTRIBUTE = 'EDIT_PLACE_TEMPLATE_ATTRIBUTE'\nexport const DELETE_PLACE = 'DELETE_PLACE'\nexport const ATTACH_TAG_TO_PLACE = 'ATTACH_TAG_TO_PLACE'\nexport const ATTACH_BOOK_TO_PLACE = 'ATTACH_BOOK_TO_PLACE'\nexport const REMOVE_TAG_FROM_PLACE = 'REMOVE_TAG_FROM_PLACE'\nexport const REMOVE_BOOK_FROM_PLACE = 'REMOVE_BOOK_FROM_PLACE'\nexport const LOAD_PLACES = 'LOAD_PLACES'\nexport const DUPLICATE_PLACE = 'DUPLICATE_PLACE'\n\n// tags actions\nexport const ADD_TAG = 'ADD_TAG'\nexport const ADD_TAG_WITH_VALUES = 'ADD_TAG_WITH_VALUES'\nexport const ADD_CREATED_TAG = 'ADD_CREATED_TAG'\nexport const EDIT_TAG = 'EDIT_TAG'\nexport const CHANGE_TAG_COLOR = 'CHANGE_TAG_COLOR'\nexport const DELETE_TAG = 'DELETE_TAG'\nexport const LOAD_TAGS = 'LOAD_TAGS'\nexport const DUPLICATE_TAG = 'DUPLICATE_TAG'\n\n// characters actions\nexport const ADD_CHARACTER = 'ADD_CHARACTER'\nexport const ADD_CHARACTER_WITH_TEMPLATE = 'ADD_CHARACTER_WITH_TEMPLATE'\nexport const EDIT_CHARACTER = 'EDIT_CHARACTER'\nexport const EDIT_CHARACTER_TEMPLATE_ATTRIBUTE = 'EDIT_CHARACTER_TEMPLATE_ATTRIBUTE'\nexport const DELETE_CHARACTER = 'DELETE_CHARACTER'\nexport const ATTACH_TAG_TO_CHARACTER = 'ATTACH_TAG_TO_CHARACTER'\nexport const ATTACH_BOOK_TO_CHARACTER = 'ATTACH_BOOK_TO_CHARACTER'\nexport const REMOVE_TAG_FROM_CHARACTER = 'REMOVE_TAG_FROM_CHARACTER'\nexport const REMOVE_BOOK_FROM_CHARACTER = 'REMOVE_BOOK_FROM_CHARACTER'\nexport const LOAD_CHARACTERS = 'LOAD_CHARACTERS'\nexport const ADD_TEMPLATE_TO_CHARACTER = 'ADD_TEMPLATE_TO_CHARACTER'\nexport const REMOVE_TEMPLATE_FROM_CHARACTER = 'REMOVE_TEMPLATE_FROM_CHARACTER'\nexport const DUPLICATE_CHARACTER = 'DUPLICATE_CHARACTER'\nexport const CREATE_CHARACTER_ATTRIBUTE = 'CREATE_CHARACTER_ATTRIBUTE'\nexport const EDIT_CHARACTER_ATTRIBUTE_VALUE = 'EDIT_CHARACTER_ATTRIBUTE_VALUE'\nexport const EDIT_CHARACTER_ATTRIBUTE_METADATA = 'EDIT_CHARACTER_ATTRIBUTE_METADATA'\nexport const DELETE_CHARACTER_ATTRIBUTE = 'DELETE_CHARACTER_ATTRIBUTE'\nexport const REORDER_CHARACTER_ATTRIBUTE_METADATA = 'REORDER_CHARACTER_ATTRIBUTE_METADATA'\nexport const EDIT_CHARACTER_SHORT_DESCRIPTION = 'EDIT_CHARACTER_SHORT_DESCRIPTION'\nexport const EDIT_CHARACTER_DESCRIPTION = 'EDIT_CHARACTER_DESCRIPTION'\nexport const EDIT_CHARACTER_CATEGORY = 'EDIT_CHARACTER_CATEGORY'\nexport const EDIT_CHARACTER_NAME = 'EDIT_CHARACTER_NAME'\nexport const EDIT_CHARACTER_IMAGE = 'EDIT_CHARACTER_IMAGE'\nexport const DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE = 'DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE'\n\n// attributes actions\nexport const LOAD_ATTRIBUTES = 'LOAD_ATTRIBUTES'\n\n// notes actions\nexport const ADD_NOTE = 'ADD_NOTE'\nexport const EDIT_NOTE = 'EDIT_NOTE'\nexport const EDIT_NOTE_TEMPLATE_ATTRIBUTE = 'EDIT_NOTE_TEMPLATE_ATTRIBUTE'\nexport const DELETE_NOTE = 'DELETE_NOTE'\nexport const ATTACH_CHARACTER_TO_NOTE = 'ATTACH_CHARACTER_TO_NOTE'\nexport const ATTACH_PLACE_TO_NOTE = 'ATTACH_PLACE_TO_NOTE'\nexport const ATTACH_TAG_TO_NOTE = 'ATTACH_TAG_TO_NOTE'\nexport const ATTACH_BOOK_TO_NOTE = 'ATTACH_BOOK_TO_NOTE'\nexport const REMOVE_CHARACTER_FROM_NOTE = 'REMOVE_CHARACTER_FROM_NOTE'\nexport const REMOVE_PLACE_FROM_NOTE = 'REMOVE_PLACE_FROM_NOTE'\nexport const REMOVE_TAG_FROM_NOTE = 'REMOVE_TAG_FROM_NOTE'\nexport const REMOVE_BOOK_FROM_NOTE = 'REMOVE_BOOK_FROM_NOTE'\nexport const SET_NOTES_SEARCH_TERM = 'SET_NOTES_SEARCH_TERM'\nexport const SET_CHARACTERS_SEARCH_TERM = 'SET_CHARACTERS_SEARCH_TERM'\nexport const SET_PLACES_SEARCH_TERM = 'SET_PLACES_SEARCH_TERM'\nexport const SET_TAGS_SEARCH_TERM = 'SET_TAGS_SEARCH_TERM'\nexport const SET_OUTLINE_SEARCH_TERM = 'SET_OUTLINE_SEARCH_TERM'\nexport const SET_TIMELINE_SEARCH_TERM = 'SET_TIMELINE_SEARCH_TERM'\nexport const LOAD_NOTES = 'LOAD_NOTES'\nexport const DUPLICATE_NOTE = 'DUPLICATE_NOTE'\n\n// custom attribute actions\nexport const ADD_PLACES_ATTRIBUTE = 'ADD_PLACES_ATTRIBUTE'\nexport const ADD_CARDS_ATTRIBUTE = 'ADD_CARDS_ATTRIBUTE'\nexport const ADD_LINES_ATTRIBUTE = 'ADD_LINES_ATTRIBUTE'\nexport const ADD_NOTES_ATTRIBUTE = 'ADD_NOTES_ATTRIBUTE'\n\nexport const REMOVE_PLACES_ATTRIBUTE = 'REMOVE_PLACES_ATTRIBUTE'\nexport const REMOVE_CARDS_ATTRIBUTE = 'REMOVE_CARDS_ATTRIBUTE'\nexport const REMOVE_LINES_ATTRIBUTE = 'REMOVE_LINES_ATTRIBUTE'\nexport const REMOVE_NOTES_ATTRIBUTE = 'REMOVE_NOTES_ATTRIBUTE'\n\nexport const EDIT_CHARACTER_ATTRIBUTE = 'EDIT_CHARACTER_ATTRIBUTE'\nexport const EDIT_PLACES_ATTRIBUTE = 'EDIT_PLACES_ATTRIBUTE'\nexport const EDIT_CARDS_ATTRIBUTE = 'EDIT_CARDS_ATTRIBUTE'\nexport const EDIT_LINES_ATTRIBUTE = 'EDIT_LINES_ATTRIBUTE'\nexport const EDIT_NOTES_ATTRIBUTE = 'EDIT_NOTES_ATTRIBUTE'\n\nexport const REORDER_CHARACTER_ATTRIBUTE = 'REORDER_CHARACTER_ATTRIBUTE'\nexport const REORDER_PLACES_ATTRIBUTE = 'REORDER_PLACES_ATTRIBUTE'\nexport const REORDER_CARDS_ATTRIBUTE = 'REORDER_CARDS_ATTRIBUTE'\nexport const REORDER_LINES_ATTRIBUTE = 'REORDER_LINES_ATTRIBUTE'\nexport const REORDER_NOTES_ATTRIBUTE = 'REORDER_NOTES_ATTRIBUTE'\n\nexport const LOAD_CUSTOM_ATTRIBUTES = 'LOAD_CUSTOM_ATTRIBUTES'\n\n// image actions\nexport const ADD_IMAGE = 'ADD_IMAGE'\nexport const RENAME_IMAGE = 'RENAME_IMAGE'\nexport const DELETE_IMAGE = 'DELETE_IMAGE'\nexport const LOAD_IMAGES = 'LOAD_IMAGES'\n\n// series actions\nexport const EDIT_SERIES = 'EDIT_SERIES'\nexport const LOAD_SERIES = 'LOAD_SERIES'\n\n// book actions\nexport const ADD_BOOK = 'ADD_BOOK'\nexport const ADD_BOOK_FROM_TEMPLATE = 'ADD_BOOK_FROM_TEMPLATE'\nexport const EDIT_BOOK = 'EDIT_BOOK'\nexport const EDIT_BOOK_IMAGE = 'EDIT_BOOK_IMAGE'\nexport const DELETE_BOOK = 'DELETE_BOOK'\nexport const REORDER_BOOKS = 'REORDER_BOOKS'\nexport const LOAD_BOOKS = 'LOAD_BOOKS'\n\n// category actions\nexport const ADD_CHARACTER_CATEGORY = 'ADD_CHARACTER_CATEGORY'\nexport const DELETE_CHARACTER_CATEGORY = 'DELETE_CHARACTER_CATEGORY'\nexport const UPDATE_CHARACTER_CATEGORY = 'UPDATE_CHARACTER_CATEGORY'\nexport const REORDER_CHARACTER_CATEGORY = 'REORDER_CHARACTER_CATEGORY'\nexport const ADD_NOTE_CATEGORY = 'ADD_NOTE_CATEGORY'\nexport const DELETE_NOTE_CATEGORY = 'DELETE_NOTE_CATEGORY'\nexport const UPDATE_NOTE_CATEGORY = 'UPDATE_NOTE_CATEGORY'\nexport const REORDER_NOTE_CATEGORY = 'REORDER_NOTE_CATEGORY'\nexport const ADD_TAG_CATEGORY = 'ADD_TAG_CATEGORY'\nexport const DELETE_TAG_CATEGORY = 'DELETE_TAG_CATEGORY'\nexport const UPDATE_TAG_CATEGORY = 'UPDATE_TAG_CATEGORY'\nexport const REORDER_TAG_CATEGORY = 'REORDER_TAG_CATEGORY'\nexport const ADD_PLACE_CATEGORY = 'ADD_PLACE_CATEGORY'\nexport const DELETE_PLACE_CATEGORY = 'DELETE_PLACE_CATEGORY'\nexport const UPDATE_PLACE_CATEGORY = 'UPDATE_PLACE_CATEGORY'\nexport const REORDER_PLACE_CATEGORY = 'REORDER_PLACE_CATEGORY'\nexport const LOAD_CATEGORIES = 'LOAD_CATEGORIES'\n\n// hierarchy actions\nexport const SET_HIERARCHY_LEVELS = 'SET_HIERARCHY_LEVELS'\nexport const EDIT_HIERARCHY_LEVEL = 'EDIT_HIERARCHY_LEVEL'\nexport const LOAD_HIERARCHY = 'LOAD_HIERARCHY'\n\n// feature flags\nexport const SET_FEATURE_FLAG = 'SET_FEATURE_FLAG'\nexport const UNSET_FEATURE_FLAG = 'UNSET_FEATURE_FLAG'\nexport const LOAD_FEATURE_FLAGS = 'LOAD_FEATURE_FLAGS'\n\n// error actions\nexport const PERMISSION_ERROR = 'PERMISSION_ERROR'\nexport const GENERAL_ERROR = 'GENERAL_ERROR'\nexport const CLEAR_ERROR = 'CLEAR_ERROR'\nexport const IMPORT_ERROR = 'IMPORT_ERROR'\nexport const SAVE_TEMP_FILE_ERROR = 'SAVE_TEMP_FILE_ERROR'\n// IMPORTANT: Please keep this up to date(!).  Impacts our ability to\n// track actual changes to the content of a file as apposed to system\n// data.\nexport const ERROR_ACTIONS = [\n  PERMISSION_ERROR,\n  GENERAL_ERROR,\n  CLEAR_ERROR,\n  IMPORT_ERROR,\n  SAVE_TEMP_FILE_ERROR,\n]\n\n// permission actions\nexport const SET_PERMISSION = 'SET_PERMISSION'\n// IMPORTANT: Please keep this up to date(!).  Impacts our ability to\n// track actual changes to the content of a file as apposed to system\n// data.\nexport const PERMISSION_ACTIONS = [SET_PERMISSION]\n\n// project actions\nexport const SET_FILE_LIST = 'SET_FILE_LIST'\nexport const SELECT_FILE = 'SELECT_FILE'\nexport const SELECT_EMPTY_FILE = 'SELECT_EMPTY_FILE'\nexport const SET_FILE_LOADED = 'SET_FILE_LOADED'\nexport const UNSET_FILE_LOADED = 'UNSET_FILE_LOADED'\nexport const SHOW_LOADER = 'SHOW_LOADER'\nexport const SET_OFFLINE = 'SET_OFFLINE'\nexport const SET_RESUMING = 'SET_RESUMING'\nexport const SET_CHECKING_FOR_OFFLINE_DRIFT = 'SET_CHECKING_FOR_OFFLINE_DRIFT'\nexport const SET_OVERWRITING_CLOUD_WITH_BACKUP = 'SET_OVERWRITING_CLOUD_WITH_BACKUP'\nexport const SET_SHOW_RESUME_MESSAGE_DIALOG = 'SET_SHOW_RESUME_MESSAGE_DIALOG'\nexport const SET_BACKING_UP_OFFLINE_FILE = 'SET_BACKING_UP_OFFLINE_FILE'\nexport const START_CREATING_NEW_PROJECT = 'START_CREATING_NEW_PROJECT'\nexport const FINISH_CREATING_NEW_PROJECT = 'FINISH_CREATING_NEW_PROJECT'\n// IMPORTANT: Please keep this up to date(!).  Impacts our ability to\n// track actual changes to the content of a file as apposed to system\n// data.\nexport const PROJECT_ACTIONS = [\n  SET_FILE_LIST,\n  SELECT_FILE,\n  SELECT_EMPTY_FILE,\n  SET_FILE_LOADED,\n  UNSET_FILE_LOADED,\n  SHOW_LOADER,\n  SET_OFFLINE,\n  SET_RESUMING,\n  SET_CHECKING_FOR_OFFLINE_DRIFT,\n  SET_OVERWRITING_CLOUD_WITH_BACKUP,\n  SET_SHOW_RESUME_MESSAGE_DIALOG,\n  SET_BACKING_UP_OFFLINE_FILE,\n  START_CREATING_NEW_PROJECT,\n  FINISH_CREATING_NEW_PROJECT,\n]\n\n// client actions\nexport const SET_USER_ID = 'SET_USER_ID'\nexport const SET_CLIENT_ID = 'SET_CLIENT_ID'\nexport const SET_EMAIL_ADDRESS = 'SET_EMAIL_ADDRESS'\nexport const SET_HAS_ONBOARDED = 'SET_HAS_ONBOARDED'\nexport const SET_HAS_PRO = 'SET_HAS_PRO'\nexport const SET_IS_ON_WEB = 'SET_IS_ON_WEB'\nexport const SET_CURRENT_APP_STATE = 'SET_CURRENT_APP_STATE'\n// IMPORTANT: Please keep this up to date(!).  Impacts our ability to\n// track actual changes to the content of a file as apposed to system\n// data.\nexport const CLIENT_ACTIONS = [\n  SET_USER_ID,\n  SET_CLIENT_ID,\n  SET_EMAIL_ADDRESS,\n  SET_HAS_PRO,\n  SET_HAS_ONBOARDED,\n  SET_IS_ON_WEB,\n  SET_CURRENT_APP_STATE,\n]\n\n// action actions (for undo)\nexport const RECORD_LAST_ACTION = 'RECORD_LAST_ACTION'\nexport const RESET_ACTION_RECORDER = 'RESET_ACTION_RECORDER'\n// IMPORTANT: Please keep this up to date(!).  Impacts our ability to\n// track actual changes to the content of a file as apposed to system\n// data.\nexport const ACTION_ACTIONS = [RECORD_LAST_ACTION, RESET_ACTION_RECORDER]\n\n// License actions\nexport const SET_TRIAL_INFO = 'SET_TRIAL_INFO'\nexport const SET_LICENSE_INFO = 'SET_LICENSE_INFO'\nexport const SET_PRO_LICENSE_INFO = 'SET_PRO_LICENSE_INFO'\nexport const RESET_PRO_LICENSE_INFO = 'RESET_PRO_LICENSE_INFO'\nexport const LICENSE_ACTIONS = [\n  SET_TRIAL_INFO,\n  SET_LICENSE_INFO,\n  SET_PRO_LICENSE_INFO,\n  RESET_PRO_LICENSE_INFO,\n]\n\n// editor actions\n\n// Known files\nexport const SET_KNOWN_FILES = 'SET_KNOWN_FILES'\nexport const KNOWN_FILES_ACTIONS = [SET_KNOWN_FILES]\n\n// Templates\nexport const SET_TEMPLATES = 'SET_TEMPLATES'\nexport const SET_CUSTOM_TEMPLATES = 'SET_CUSTOM_TEMPLATES'\nexport const SET_TEMPLATE_MANIFEST = 'SET_TEMPLATE_MANIFEST'\nexport const TEMPLATE_ACTIONS = [SET_TEMPLATES, SET_CUSTOM_TEMPLATES, SET_TEMPLATE_MANIFEST]\n\n// Settings\nexport const SET_EXPORT_SETTINGS = 'SET_EXPORT_SETTINGS'\nexport const SET_USER_SETTINGS = 'SET_USER_SETTINGS'\nexport const SET_APP_SETTINGS = 'SET_APP_SETTINGS'\nexport const SET_DARK_MODE = 'SET_DARK_MODE'\nexport const SETTINGS_ACTIONS = [\n  SET_EXPORT_SETTINGS,\n  SET_USER_SETTINGS,\n  SET_APP_SETTINGS,\n  SET_DARK_MODE,\n]\n\n// Backups\nexport const SET_BACKUP_FOLDERS = 'SET_BACKUP_FOLDERS'\nexport const BACKUP_ACTIONS = [SET_BACKUP_FOLDERS]\n\n// Application State\nexport const START_LOADING_FILE_LIST = 'START_LOADING_FILE_LIST'\nexport const FINISH_LOADING_FILE_LIST = 'FINISH_LOADING_FILE_LIST'\nexport const START_CREATING_CLOUD_FILE = 'START_CREATING_CLOUD_FILE'\nexport const FINISH_CREATING_CLOUD_FILE = 'FINISH_CREATING_CLOUD_FILE'\nexport const START_UPLOADING_FILE_TO_CLOUD = 'START_UPLOADING_FILE_TO_CLOUD'\nexport const FINISH_UPLOADING_FILE_TO_CLOUD = 'FINISH_UPLOADING_FILE_TO_CLOUD'\nexport const START_CHECKING_FILE_TO_LOAD = 'START_CHECKING_FILE_TO_LOAD'\nexport const FINISH_CHECKING_FILE_TO_LOAD = 'FINISH_CHECKING_FILE_TO_LOAD'\nexport const START_LOADING_FILE = 'START_LOADING_FILE'\nexport const FINISH_LOADING_FILE = 'FINISH_LOADING_FILE'\nexport const ERROR_LOADING_FILE = 'ERROR_LOADING_FILE'\nexport const START_RENAMING_FILE = 'START_RENAMING_FILE'\nexport const FINISH_RENAMING_FILE = 'FINISH_RENAMING_FILE'\nexport const START_DELETING_FILE = 'START_DELETING_FILE'\nexport const FINISH_DELETING_FILE = 'FINISH_DELETING_FILE'\nexport const START_SAVING_FILE_AS = 'START_SAVING_FILE_AS'\nexport const FINISH_SAVING_FILE_AS = 'FINISH_SAVING_FILE_AS'\nexport const START_LOGGING_IN = 'START_LOGGING_IN'\nexport const FINISH_LOGGING_IN = 'FINISH_LOGGING_IN'\nexport const START_CHECKING_SESSION = 'START_CHECKING_SESSION'\nexport const FINISH_CHECKING_SESSION = 'FINISH_CHECKING_SESSION'\nexport const START_LOADING_A_LICENSE_TYPE = 'START_LOADING_A_LICENSE_TYPE'\nexport const FINISH_LOADING_A_LICENSE_TYPE = 'FINISH_LOADING_A_LICENSE_TYPE'\nexport const START_LOADING_A_SETTINGS_TYPE = 'START_LOADING_A_SETTINGS_TYPE'\nexport const FINISH_LOADING_A_SETTINGS_TYPE = 'FINISH_LOADING_A_SETTINGS_TYPE'\nexport const ADVANCE_PRO_ONBOARDING = 'ADVANCE_PRO_ONBOARDING'\nexport const START_ONBOARDING = 'START_ONBOARDING'\nexport const FINISH_ONBOARDING = 'FINISH_ONBOARDING'\nexport const START_ONBOARDING_FROM_ROOT = 'START_ONBOARDING_FROM_ROOT'\nexport const START_IMPORTING_SCRIVENER = 'START_IMPORTING_SCRIVENER'\nexport const FINISH_IMPORTING_SCRIVENER = 'FINISH_IMPORTING_SCRIVENER'\nexport const PROMPT_TO_UPLOAD_FILE = 'PROMPT_TO_UPLOAD_FILE'\nexport const DISMISS_PROMPT_TO_UPLOAD_FILE = 'DISMISS_PROMPT_TO_UPLOAD_FILE'\nexport const REQUEST_CHECK_FOR_UPDATE = 'REQUEST_CHECK_FOR_UPDATE'\nexport const AUTO_CHECK_FOR_UPDATES = 'AUTO_CHECK_FOR_UPDATES'\nexport const PROCESS_RESPONSE_TO_REQUEST_UPDATE = 'PROCESS_RESPONSE_TO_REQUEST_UPDATE'\nexport const DISMISS_UPDATE_NOTIFIER = 'DISMISS_UPDATE_NOTIFIER'\nexport const SET_UPDATE_DOWNLOAD_PROGRESS = 'SET_UPDATE_DOWNLOAD_PROGRESS'\nexport const BUSY_WITH_WORK_THAT_PREVENTS_QUITTING = 'BUSY_WITH_WORK_THAT_PREVENTS_QUITTING'\nexport const DONE_WITH_WORK_THAT_PREVENTS_QUITTING = 'DONE_WITH_WORK_THAT_PREVENTS_QUITTING'\nexport const APPLICATION_STATE_ACTIONS = [\n  START_LOADING_FILE_LIST,\n  FINISH_LOADING_FILE_LIST,\n  START_CREATING_CLOUD_FILE,\n  FINISH_CREATING_CLOUD_FILE,\n  START_UPLOADING_FILE_TO_CLOUD,\n  FINISH_UPLOADING_FILE_TO_CLOUD,\n  START_CHECKING_FILE_TO_LOAD,\n  FINISH_CHECKING_FILE_TO_LOAD,\n  START_LOADING_FILE,\n  FINISH_LOADING_FILE,\n  START_RENAMING_FILE,\n  FINISH_RENAMING_FILE,\n  START_DELETING_FILE,\n  FINISH_DELETING_FILE,\n  START_SAVING_FILE_AS,\n  FINISH_SAVING_FILE_AS,\n  START_LOGGING_IN,\n  FINISH_LOGGING_IN,\n  START_CHECKING_SESSION,\n  FINISH_CHECKING_SESSION,\n  START_LOADING_A_LICENSE_TYPE,\n  FINISH_LOADING_A_LICENSE_TYPE,\n  START_LOADING_A_SETTINGS_TYPE,\n  FINISH_LOADING_A_SETTINGS_TYPE,\n  ADVANCE_PRO_ONBOARDING,\n  START_ONBOARDING,\n  FINISH_ONBOARDING,\n  START_ONBOARDING_FROM_ROOT,\n  START_IMPORTING_SCRIVENER,\n  FINISH_IMPORTING_SCRIVENER,\n  PROMPT_TO_UPLOAD_FILE,\n  DISMISS_PROMPT_TO_UPLOAD_FILE,\n  REQUEST_CHECK_FOR_UPDATE,\n  PROCESS_RESPONSE_TO_REQUEST_UPDATE,\n  DISMISS_UPDATE_NOTIFIER,\n  SET_UPDATE_DOWNLOAD_PROGRESS,\n  BUSY_WITH_WORK_THAT_PREVENTS_QUITTING,\n  DONE_WITH_WORK_THAT_PREVENTS_QUITTING,\n]\n\n// Image Cache\nexport const CACHE_IMAGE = 'CACHE_IMAGE'\nexport const IMAGE_CACHE_ACTIONS = [CACHE_IMAGE]\n\n// Notifications\nexport const SHOW_TOAST_NOTIFICATION = 'SHOW_TOAST_NOTIFICATION'\nexport const SHOW_MESSAGE = 'SHOW_MESSAGE'\nexport const DISMISS_MESSAGE = 'DISMISS_MESSAGE'\nexport const NOTIFICATION_ACTIONS = [SHOW_TOAST_NOTIFICATION, SHOW_MESSAGE, DISMISS_MESSAGE]\n\n// DOM Events\nexport const CLICK_ON_DOM = 'CLICK_ON_DOM'\nexport const DOM_EVENT_ACTIONS = [CLICK_ON_DOM]\n\n// Testing and diagnosis\nexport const ENABLE_TEST_UTILITIES = 'ENABLE_TEST_UTILITIES'\nexport const TESTING_AND_DIAGNOSIS_ACTIONS = [ENABLE_TEST_UTILITIES]\n","import { t } from 'plottr_locales'\n\nexport default [\n  'aliceblue',\n  'antiquewhite',\n  'aqua',\n  'aquamarine',\n  'azure',\n  'beige',\n  'bisque',\n  'black',\n  'blanchedalmond',\n  'blue',\n  'blueviolet',\n  'brown',\n  'burlywood',\n  'cadetblue',\n  'chartreuse',\n  'chocolate',\n  'coral',\n  'cornflowerblue',\n  'cornsilk',\n  'crimson',\n  'cyan',\n  'darkblue',\n  'darkcyan',\n  'darkgoldenrod',\n  'darkgray',\n  'darkgreen',\n  'darkkhaki',\n  'darkmagenta',\n  'darkolivegreen',\n  'darkorange',\n  'darkorchid',\n  'darkred',\n  'darksalmon',\n  'darkseagreen',\n  'darkslateblue',\n  'darkslategray',\n  'darkturquoise',\n  'darkviolet',\n  'deeppink',\n  'deepskyblue',\n  'dimgray',\n  'dodgerblue',\n  'firebrick',\n  'floralwhite',\n  'forestgreen',\n  'fuchsia',\n  'gainsboro',\n  'ghostwhite',\n  'gold',\n  'goldenrod',\n  'gray',\n  'green',\n  'greenyellow',\n  'honeydew',\n  'hotpink',\n  'indianred',\n  'indigo',\n  'ivory',\n  'khaki',\n  'lavender',\n  'lavenderblush',\n  'lawngreen',\n  'lemonchiffon',\n  'lightblue',\n  'lightcoral',\n  'lightcyan',\n  'lightgoldenrodyellow',\n  'lightgray',\n  'lightgreen',\n  'lightpink',\n  'lightsalmon',\n  'lightseagreen',\n  'lightskyblue',\n  'lightslategray',\n  'lightsteelblue',\n  'lightyellow',\n  'lime',\n  'limegreen',\n  'linen',\n  'magenta',\n  'maroon',\n  'mediumaquamarine',\n  'mediumblue',\n  'mediumorchid',\n  'mediumpurple',\n  'mediumseagreen',\n  'mediumslateblue',\n  'mediumspringgreen',\n  'mediumturquoise',\n  'mediumvioletred',\n  'midnightblue',\n  'mintcream',\n  'mistyrose',\n  'moccasin',\n  'navajowhite',\n  'navy',\n  'oldlace',\n  'olive',\n  'olivedrab',\n  'orange',\n  'orangered',\n  'orchid',\n  'palegoldenrod',\n  'palegreen',\n  'paleturquoise',\n  'palevioletred',\n  'papayawhip',\n  'peachpuff',\n  'peru',\n  'pink',\n  'plum',\n  'powderblue',\n  'purple',\n  'rebeccapurple',\n  'red',\n  'rosybrown',\n  'royalblue',\n  'saddlebrown',\n  'salmon',\n  'sandybrown',\n  'seagreen',\n  'seashell',\n  'sienna',\n  'silver',\n  'skyblue',\n  'slateblue',\n  'slategray',\n  'snow',\n  'springgreen',\n  'steelblue',\n  'tan',\n  'teal',\n  'thistle',\n  'tomato',\n  'turquoise',\n  'violet',\n  'wheat',\n  'white',\n  'whitesmoke',\n  'yellow',\n  'yellowgreen',\n]\n\nexport const reds = [\n  'MistyRose',\n  'LightPink',\n  'Pink',\n  'Hotpink',\n  'DeepPink',\n  'MediumVioletRed',\n  'PaleVioletRed',\n  'Red',\n  'Crimson',\n  'Maroon',\n  'DarkRed',\n  'Brown',\n  'Firebrick',\n  'IndianRed',\n  'LightCoral',\n  'Salmon',\n  'Tomato',\n  'Coral',\n  'DarkSalmon',\n  'LightSalmon',\n  'PeachPuff',\n]\n\nexport const oranges = [\n  'OrangeRed',\n  'DarkOrange',\n  'Orange',\n  'DarkGoldenrod',\n  'Goldenrod',\n  'Khaki',\n  'PaleGoldenrod',\n  'LightGoldenrodYellow',\n  'SandyBrown',\n  'NavajoWhite',\n  'Moccasin',\n  'LemonChiffon',\n  'LightYellow',\n  'Yellow',\n  'Gold',\n]\n\nexport const greens = [\n  'GreenYellow',\n  'Chartreuse',\n  'LawnGreen',\n  'Lime',\n  'LimeGreen',\n  'MediumSeaGreen',\n  'SeaGreen',\n  'DarkGreen',\n  'Green',\n  'ForestGreen',\n  'OliveDrab',\n  'DarkOliveGreen',\n  'Olive',\n  'YellowGreen',\n  'LightGreen',\n  'PaleGreen',\n  'SpringGreen',\n  'MediumSpringGreen',\n  'MintCream',\n  'Aquamarine',\n  'MediumAquaMarine',\n  'DarkSeaGreen',\n  'Honeydew',\n  'DarkCyan',\n  'Teal',\n  'LightSeaGreen',\n]\n\nexport const blues = [\n  'DarkCyan',\n  'DarkTurquoise',\n  'MediumTurquoise',\n  'Turquoise',\n  'Cyan',\n  'Aqua',\n  'LightCyan',\n  'Azure',\n  'AliceBlue',\n  'SkyBlue',\n  'LightSkyBlue',\n  'DeepSkyBlue',\n  'DodgerBlue',\n  'Blue',\n  'MediumBlue',\n  'DarkBlue',\n  'Navy',\n  'MidnightBlue',\n  'RoyalBlue',\n  'CornflowerBlue',\n  'SteelBlue',\n  'DarkSlateGray',\n  'CadetBlue',\n  'LightBlue',\n  'PaleTurquoise',\n  'PowderBlue',\n  'LightSteelBlue',\n  'Lavender',\n  'MediumSlateBlue',\n  'SlateBlue',\n]\n\nexport const purples = [\n  'BlueViolet',\n  'DarkViolet',\n  'DarkOrchid',\n  'MediumOrchid',\n  'Orchid',\n  'Violet',\n  'Fuchsia',\n  'Magenta',\n  'DarkMagenta',\n  'Purple',\n  'RebeccaPurple',\n  'Indigo',\n  'MediumPurple',\n  'Plum',\n  'Thistle',\n]\n\nexport const grays = [\n  'Gainsboro',\n  'LightGray',\n  'Silver',\n  'DarkGray',\n  'Gray',\n  'DimGray',\n  'LightSlateGray',\n  'SlateGray',\n  'Black',\n]\n\nexport const whites = [\n  'GhostWhite',\n  'AntiqueWhite',\n  'Beige',\n  'Bisque',\n  'BlanchedAlmond',\n  'Ivory',\n  'Linen',\n  'OldLace',\n  'PapayaWhip',\n  'Seashell',\n  'Snow',\n  'LavenderBlush',\n  'White',\n  'WhiteSmoke',\n]\n\nexport const browns = [\n  'Brown',\n  'Chocolate',\n  'Peru',\n  'RosyBrown',\n  'SaddleBrown',\n  'DarkGoldenrod',\n  'Wheat',\n]\n\nexport const defaults = [\n  '#6cace4',\n  '#78be20',\n  '#e5554f',\n  '#ff7f32',\n  '#ffc72c',\n  '#0b1117',\n  '#f1f5f8',\n]\n\nexport const allcolors = [\n  ...reds,\n  ...oranges,\n  ...greens,\n  ...blues,\n  ...purples,\n  ...grays,\n  ...whites,\n  ...browns,\n]\n\nexport const colorsWithKeys = [\n  { title: t('Default Colors'), colors: defaults },\n  { title: t('Reds'), colors: reds },\n  { title: t('Oranges'), colors: oranges },\n  { title: t('Greens'), colors: greens },\n  { title: t('Blues'), colors: blues },\n  { title: t('Purples'), colors: purples },\n  { title: t('Grays'), colors: grays },\n  { title: t('Whites'), colors: whites },\n  { title: t('Browns'), colors: browns },\n]\n","export const BEAT_HIERARCHY_FLAG = 'BEAT_HIERARCHY'\n","import {\n  LOAD_FILE,\n  LOAD_BEATS,\n  LOAD_CARDS,\n  LOAD_LINES,\n  LOAD_PLACES,\n  LOAD_TAGS,\n  LOAD_CHARACTERS,\n  LOAD_NOTES,\n  LOAD_CUSTOM_ATTRIBUTES,\n  LOAD_IMAGES,\n  LOAD_SERIES,\n  LOAD_BOOKS,\n  LOAD_CATEGORIES,\n  LOAD_HIERARCHY,\n  LOAD_FEATURE_FLAGS,\n} from './ActionTypes'\n\nconst LoadActions = [\n  LOAD_FILE,\n  LOAD_BEATS,\n  LOAD_CARDS,\n  LOAD_LINES,\n  LOAD_PLACES,\n  LOAD_TAGS,\n  LOAD_CHARACTERS,\n  LOAD_NOTES,\n  LOAD_CUSTOM_ATTRIBUTES,\n  LOAD_IMAGES,\n  LOAD_SERIES,\n  LOAD_BOOKS,\n  LOAD_CATEGORIES,\n  LOAD_HIERARCHY,\n  LOAD_FEATURE_FLAGS,\n]\n\nexport default LoadActions\n","import { t as i18n } from 'plottr_locales'\nimport { clone, sortBy } from 'lodash'\nimport { beat } from '../store/initialState'\nimport { isSeries as isSeriesString } from './books'\nimport * as tree from '../reducers/tree'\nimport { nextLevelName } from './hierarchy'\n\nexport function beatOneIsPrologue(sortedBookBeats) {\n  if (!sortedBookBeats.length) return false\n  return sortedBookBeats[0].title == i18n('Prologue')\n}\n\nexport function beatName(beats, beat, sortedHierarchyLevels, hierarchyEnabled, isSeries) {\n  if (!hierarchyEnabled && isSeries) return i18n('Beat')\n\n  const depth = tree.depth(beats, beat.id)\n  const hierarchyLevel = sortedHierarchyLevels[depth]\n  const configuredName = hierarchyLevel && hierarchyLevel.name\n  return (configuredName === '' ? nextLevelName(depth) : configuredName) || `Level-${depth}`\n}\n\nexport function beatTitle(\n  beatIndex,\n  beats,\n  beat,\n  sortedHierarchyLevels,\n  offset,\n  hierarchyEnabled,\n  isSeries\n) {\n  const level = beatName(beats, beat, sortedHierarchyLevels, hierarchyEnabled, isSeries)\n  const depth = tree.depth(beats, beat.id)\n\n  return beat.title == 'auto'\n    ? i18n(`${level} {number}`, {\n        number: depth === 0 ? beatIndex + offset : beatIndex,\n      })\n    : beat.title\n}\n\nexport function editingBeatLabel(\n  beatIndex,\n  beats,\n  beat,\n  sortedHierarchyLevels,\n  offset,\n  hierarchyEnabled,\n  isSeries\n) {\n  return i18n(\n    `${beatName(beats, beat, sortedHierarchyLevels, hierarchyEnabled, isSeries)} {number} title`,\n    { number: beatIndex }\n  )\n}\n\nexport function beatPositionTitle(\n  beatIndex,\n  beats,\n  beat,\n  sortedHierarchyLevels,\n  offset,\n  hierarchyEnabled,\n  isSeries\n) {\n  return i18n(\n    `${beatName(beats, beat, sortedHierarchyLevels, hierarchyEnabled, isSeries)} {number}`,\n    { number: beatIndex }\n  )\n}\n\nexport function insertBeat(position, beats, newId, bookId) {\n  var newBeat = Object.assign({}, beat, { id: newId, bookId: bookId })\n\n  beats.splice(position, 0, newBeat)\n  return beats\n}\n\nexport function isSeries({ bookId }) {\n  return isSeriesString(bookId)\n}\n\nexport const nextIdForBook = (beatTree) => {\n  return tree.nextId('id')(beatTree)\n}\n\nexport const nextId = (beats) =>\n  Object.values(beats)\n    .filter((value) => typeof value === 'object')\n    .flatMap((book) => tree.nextId('id')(book))\n    .reduce((maxId, id) => Math.max(id - 1, maxId), 0) + 1\n\nexport function nextPositionInTree(beatTree, parent) {\n  return (\n    tree\n      .children(beatTree, parent || null)\n      .reduce((maxPosition, item) => Math.max(item.position, maxPosition), -1) + 1\n  )\n}\n\nexport function nextPositionInBook(items, bookId, parent) {\n  if (!items[bookId]) return 0\n\n  return nextPositionInTree(items[bookId], parent)\n}\n\nexport function positionReset(items) {\n  let newTree = clone(items)\n\n  function resetIter(id, position) {\n    sortBy(tree.children(items, id), 'position').forEach(({ id }) => {\n      newTree = tree.editNode(newTree, id, { position })\n      ++position\n      resetIter(id, 0)\n    })\n  }\n\n  resetIter(null, 0)\n\n  return newTree\n}\n\nexport function moveNextToSibling(items, toMove, droppedOntoId) {\n  const depthToMove = tree.depth(items, toMove)\n  const siblingDepth = tree.depth(items, droppedOntoId)\n\n  const parentId = tree.nodeParent(items, droppedOntoId)\n  const sameParent = tree.nodeParent(items, toMove) === parentId\n  const siblings = sortBy(tree.children(items, parentId), 'position')\n  const positionDroppedOnto = siblings.findIndex(({ id }) => id === droppedOntoId)\n  const positionPickedUpFrom = siblings.findIndex(({ id }) => id === toMove)\n\n  let positionModifier = 0\n  if (!sameParent || (sameParent && positionDroppedOnto < positionPickedUpFrom)) {\n    positionModifier = -0.5\n  } else if (positionDroppedOnto !== siblings.length) {\n    positionModifier = 0.5\n  }\n  const modifiedPosition = positionDroppedOnto + positionModifier\n\n  let withNodeMoved = tree.moveNode(items, toMove, parentId)\n\n  if (depthToMove !== siblingDepth) {\n    if (depthToMove - siblingDepth === 1) {\n      withNodeMoved = tree.moveNode(items, toMove, droppedOntoId)\n      return positionReset(tree.editNode(withNodeMoved, toMove, { position: -0.5 }))\n    } else {\n      return items\n    }\n  }\n\n  return positionReset(tree.editNode(withNodeMoved, toMove, { position: modifiedPosition }))\n}\n\nexport function reduce(beats, f, initialValue) {\n  return Object.values(beats).reduce((acc, nextTree) => {\n    return tree.reduce('id')(nextTree, f, acc)\n  }, initialValue)\n}\n\nexport function hasChildren(beats, beatId) {\n  return tree.children(beats, beatId).length !== 0\n}\n\nexport function maxDepth(beats) {\n  return tree.reduce('id')(beats, (max, { id }) => Math.max(max, tree.depth(beats, id)), 0)\n}\n\nexport const addLevelToHierarchy = (currentTree, newParentId, bookId) => {\n  if (tree.findNode(currentTree, newParentId))\n    throw new Error(\n      `Attempted to add node with id ${newParentId} to beat tree as new parent, but it's already there`\n    )\n  const node = {\n    ...beat,\n    id: newParentId,\n    bookId: bookId,\n  }\n  const withNewParent = tree.addNode('id')(currentTree, null, node)\n  const newTopLevelNodes = tree.children(withNewParent, null)\n  const newParent = newTopLevelNodes.reduce((highestIdTopLevelNode, nextTopLevelNode) => {\n    if (highestIdTopLevelNode.id > nextTopLevelNode.id) return highestIdTopLevelNode\n    else return nextTopLevelNode\n  }, newTopLevelNodes[0])\n  const oldTopLevelNodes = tree.children(currentTree, null)\n  const newTree = oldTopLevelNodes.reduce((accTree, { id }) => {\n    return tree.moveNode(accTree, id, newParent.id)\n  }, withNewParent)\n  return newTree\n}\n\nexport const removeLevelFromHierarchy = (currentTree) => {\n  const topLevelNodesToRemove = tree.children(currentTree, null)\n  const nodesToMoveToTopLevel = topLevelNodesToRemove.flatMap(({ id }) => {\n    return tree.children(currentTree, id)\n  })\n  const withNodesMoved = nodesToMoveToTopLevel.reduce((newTree, { id }) => {\n    return tree.moveNode(newTree, id, null)\n  }, currentTree)\n  const newTree = topLevelNodesToRemove.reduce((newTree, { id }) => {\n    return tree.deleteNode(newTree, id)\n  }, withNodesMoved)\n  return newTree\n}\n\nexport const adjustHierarchyLevels =\n  (targetHierarchyDepth) => (currentTree, nextParentId, bookId) => {\n    const maximumDepth = maxDepth(currentTree)\n    if (targetHierarchyDepth === maximumDepth) {\n      return currentTree\n    }\n\n    let newTree = currentTree\n    if (targetHierarchyDepth > maximumDepth) {\n      // We cannot exceed a depth of 3\n      if (maximumDepth === 2) return currentTree\n      let currentParentId = nextParentId\n      for (let i = 0; i < targetHierarchyDepth - maximumDepth; ++i) {\n        newTree = addLevelToHierarchy(newTree, currentParentId, bookId)\n        ++currentParentId\n      }\n    } else {\n      for (let i = 0; i < maximumDepth - targetHierarchyDepth; ++i) {\n        newTree = removeLevelFromHierarchy(newTree)\n      }\n    }\n    return newTree\n  }\n\nexport const rootParentId = (beatTree, beatId) => {\n  return tree.rootParentId(beatTree, beatId)\n}\n\nexport const beatIds = (beatTree) => {\n  return tree.reduce('id')(beatTree, (acc, { id }) => [...acc, id], [])\n}\n\nexport const beatsByPosition = (predicate) => (beats) => {\n  function iter(beats, id) {\n    const currentBeat = id === null ? [] : [tree.findNode(beats, id)]\n    if (currentBeat.length && !predicate(currentBeat[0])) return currentBeat\n    const sortedChildren = sortBy(tree.children(beats, id), 'position')\n    return [...currentBeat, ...sortedChildren.flatMap((child) => iter(beats, child.id))]\n  }\n  return iter(beats, null)\n}\n\nexport const numberOfPriorChildrenAtSameDepth = (beatTree, beats, beatId) => {\n  if (beats.length === 0) return null\n  const beatDepth = tree.depth(beatTree, beatId)\n  let priorChildren = 0\n  let found = false\n  for (let i = 0; i < beats.length; ++i) {\n    const { id } = beats[i]\n    const otherBeatDepth = tree.depth(beatTree, id)\n    if (id === beatId) {\n      found = true\n      break\n    }\n    if (otherBeatDepth === beatDepth) ++priorChildren\n  }\n  if (!found) return null\n  return 1 + priorChildren\n}\n","export const isSeries = (id) => id === 'series'\n","import { sortBy, groupBy } from 'lodash'\n\nexport function sortCardsInBeat(autoSort, cards, sortedLines) {\n  if (autoSort) {\n    // group by position within the line\n    // for each position, sort those cards by the order of the lines\n    const groupedCards = groupBy(cards, 'positionWithinLine')\n    const sortedLineIds = sortedLines.map((l) => l.id)\n    return Object.keys(groupedCards).flatMap((position) => {\n      return groupedCards[position].sort(\n        (a, b) => sortedLineIds.indexOf(a.lineId) - sortedLineIds.indexOf(b.lineId)\n      )\n    })\n  } else {\n    return sortBy(cards, 'positionInBeat')\n  }\n}\n\nexport function cardMapping(sortedBeats, sortedLines, card2Dmap, currentLine) {\n  return sortedBeats.reduce((acc, beat) => {\n    acc[beat.id] = sortedBeatCards(sortedLines, beat.id, card2Dmap, currentLine)\n    return acc\n  }, {})\n}\n\nexport function emptyCard(id, beat, line) {\n  return {\n    beatId: beat.id,\n    bookId: beat.bookId,\n    characters: [],\n    color: null,\n    description: [\n      {\n        0: {\n          children: [{ 0: { text: beat.title } }],\n          type: 'paragraph',\n        },\n      },\n    ],\n    fromTemplateId: null,\n    id,\n    imageId: null,\n    lineId: line.id,\n    places: [],\n    positionInBeat: 0,\n    positionWithinLine: 0,\n    tags: [],\n    templates: [],\n    title: beat.title,\n    isEmpty: true,\n  }\n}\n\nfunction lineIsHidden(line, currentLine) {\n  if (Array.isArray(currentLine)) {\n    return !currentLine.includes(line.id)\n  } else if (!currentLine) return false\n  else return line.id !== currentLine\n}\n\nfunction sortedBeatCards(sortedLines, beatId, card2Dmap, currentLine) {\n  return sortedLines.reduce((acc, l) => {\n    if (lineIsHidden(l, currentLine)) return acc\n\n    const cards = card2Dmap[`${l.id}-${beatId}`]\n    if (cards) {\n      return acc.concat(cards)\n    } else {\n      return acc\n    }\n  }, [])\n}\n\nexport function truncateTitle(title, maxLength) {\n  if (title.length < maxLength) return title\n  return title.substr(0, maxLength) + '...'\n}\n","import tinycolor from 'tinycolor2'\n\nconst defaultLightModeText = '#0b1117'\nconst defaultDarkModeText = '#eee'\n\nconst defaultLightBackground = '#F1F5F8' //gray-9\nconst defaultDarkBackground = '#666'\n\nconst defaultLightBorder = '#F1F5F8' //gray-9\nconst defaultDarkBorder = '#c9e6ff'\n\n// returns [useBlack, value]\nexport const getContrastYIQ = (color) => {\n  const brightness = tinycolor(color).getBrightness()\n  // >= 125 is the recommended functionality\n  return [brightness >= 180, brightness]\n}\n\nexport const getTextColor = (color, isDarkMode) => {\n  if (color && color !== 'none') return color\n\n  return isDarkMode ? defaultDarkModeText : defaultLightModeText\n}\n\nexport const getBackgroundColor = (color, isDarkMode) => {\n  if (color && color !== 'none') return color\n\n  return isDarkMode ? defaultDarkBackground : defaultLightBackground\n}\n\nexport const getBorderColor = (color, isDarkMode) => {\n  if (color && color !== 'none') return color\n\n  return isDarkMode ? defaultDarkBorder : defaultLightBorder\n}\n","// Expect a string of the form: YYYY_MM?_DD? to a date.\n// This is necessary because date parsing is *browser specific*!\nexport const parseStringDate = (stringDate) => {\n  const [year, month, day] = stringDate.split('_')\n  if (!year || !month || !day) {\n    throw new Error(\n      `Invalid date: ${stringDate}.  Expected something in the form: YYYY_MM?_DD? or YYYY-MM?-DD?`\n    )\n  }\n  return new Date(year, month - 1, day)\n}\n","const escapeSlashes = (str) => str.replace(/\\//g, '--')\n\nexport const cardDescriptionEditorPath = (cardId) => escapeSlashes(`cards__${cardId}__description`)\nexport const cardCustomAttributeEditorPath = (cardId, attributeName) =>\n  escapeSlashes(`cards__${cardId}__customAttributes__${attributeName}`)\nexport const cardTemplateAttributeEditorPath = (cardId, templateId, attributeName) =>\n  escapeSlashes(`cards__${cardId}__templates__${templateId}__${attributeName}`)\n\nexport const noteContentEditorPath = (noteId) => escapeSlashes(`notes__${noteId}__content`)\nexport const noteCustomAttributeEditorPath = (noteId, attributeName) =>\n  escapeSlashes(`cards__${noteId}__customAttributes__${attributeName}`)\nexport const noteTemplateAttributeEditorPath = (noteId, templateId, attributeName) =>\n  escapeSlashes(`cards__${noteId}__templates__${templateId}__${attributeName}`)\n\nexport const characterNotesEditorPath = (characterId) =>\n  escapeSlashes(`characters__${characterId}__notes`)\nexport const characterCustomAttributeEditorPath = (characterId, attributeName) =>\n  escapeSlashes(`characters__${characterId}__customAttributes__${attributeName}`)\nexport const characterTemplateAttributeEditorPath = (characterId, templateId, attributeName) =>\n  escapeSlashes(`characters__${characterId}__templates__${templateId}__${attributeName}`)\n\nexport const placeNotesEditorPath = (placeId) => escapeSlashes(`places__${placeId}__notes`)\nexport const placeCustomAttributeEditorPath = (placeId, attributeName) =>\n  escapeSlashes(`places__${placeId}__customAttributes__${attributeName}`)\nexport const placeTemplateAttributeEditorPath = (placeId, templateId, attributeName) =>\n  escapeSlashes(`places__${placeId}__templates__${templateId}__${attributeName}`)\n\nexport const editorPathforType = (entityType, entityId) => {\n  switch (entityType) {\n    case 'card':\n      return cardDescriptionEditorPath(entityId)\n    case 'note':\n      return noteContentEditorPath(entityId)\n    case 'character':\n      return characterNotesEditorPath(entityId)\n    case 'place':\n      return placeNotesEditorPath(entityId)\n    default:\n      return cardDescriptionEditorPath(entityId)\n  }\n}\n\nexport const editorPathforTypesAttribute = (entityType, entityId, attributeName) => {\n  switch (entityType) {\n    case 'card':\n      return cardCustomAttributeEditorPath(entityId, attributeName)\n    case 'note':\n      return noteCustomAttributeEditorPath(entityId, attributeName)\n    case 'character':\n      return characterCustomAttributeEditorPath(entityId, attributeName)\n    case 'place':\n      return placeCustomAttributeEditorPath(entityId, attributeName)\n    default:\n      return cardCustomAttributeEditorPath(entityId, attributeName)\n  }\n}\n\nexport const editorPathforTypesTemplateAttribute = (\n  entityType,\n  entityId,\n  templateId,\n  attributeName\n) => {\n  switch (entityType) {\n    case 'card':\n      return cardTemplateAttributeEditorPath(entityId, templateId, attributeName)\n    case 'note':\n      return noteTemplateAttributeEditorPath(entityId, templateId, attributeName)\n    case 'character':\n      return characterTemplateAttributeEditorPath(entityId, templateId, attributeName)\n    case 'place':\n      return placeTemplateAttributeEditorPath(entityId, templateId, attributeName)\n    default:\n      return cardTemplateAttributeEditorPath(entityId, templateId, attributeName)\n  }\n}\n\nexport const attrIfPresent = (attrName, value) =>\n  value || value === ''\n    ? {\n        [attrName]: value,\n      }\n    : {}\n\nexport const editorMetadataIfPresent = (editorPath, selection) => {\n  if (editorPath && selection) {\n    return {\n      editorMetadata: {\n        editorPath,\n        selection,\n      },\n    }\n  }\n\n  return {}\n}\n","import { BEAT_HIERARCHY_FLAG } from '../constants/featureFlags'\n\n// eslint-disable-next-line react/display-name\nconst gatedBy = (featureFlagName) => (featureFlags) => (thunk) => {\n  if (featureFlags[featureFlagName]) {\n    return thunk()\n  }\n  return null\n}\n\nexport const gatedByBeatHierarchy = gatedBy(BEAT_HIERARCHY_FLAG)\n\nexport const beatHierarchyIsOn = (featureFlags) => featureFlags[BEAT_HIERARCHY_FLAG]\n","export const urlPointsToPlottrCloud = (fileURL) => fileURL && fileURL.startsWith('plottr://')\n\nexport const fileIdToPlottrCloudFileURL = (fileId) => {\n  if (!fileId) {\n    return null\n  }\n\n  return `plottr://${fileId}`\n}\n\nexport const isPlottrCloudFile = (file) => file && urlPointsToPlottrCloud(file.fileURL)\n\nexport const isDeviceFileURL = (url) => {\n  return url && url.startsWith('device://')\n}\n\nexport const fileIdFromPlottrProFile = (fileURL) => {\n  if (fileURL && fileURL.startsWith('plottr://')) {\n    return fileURL.substring(9)\n  }\n  return null\n}\n\nexport const isProtocolString = (s) => {\n  return s.match(/^[a-z]+:\\/\\//)\n}\n\nexport const withoutProtocol = (fileURL) => {\n  if (!fileURL) {\n    return null\n  }\n\n  const protocolMatch = fileURL.match(/^[a-z]+:\\/\\//)\n  if (protocolMatch) {\n    return fileURL.substring(protocolMatch[0].length)\n  }\n\n  return fileURL\n}\n\nconst convertFromNanosAndSeconds = (nanosAndSecondsObject) => {\n  if (\n    !nanosAndSecondsObject ||\n    !nanosAndSecondsObject.nanoseconds ||\n    !nanosAndSecondsObject.seconds\n  ) {\n    return null\n  }\n  return new Date(\n    nanosAndSecondsObject.seconds * 1000 + nanosAndSecondsObject.nanoseconds / 1000000\n  )\n}\n\nconst VERY_OLD_DATE = new Date(0)\n\nexport function getDateValue(fileObj) {\n  if (!fileObj.lastOpened) {\n    return VERY_OLD_DATE\n  }\n\n  // At some point, we stored a timestamp in this field.  Now it's a\n  // `seconds`, and `nanoseconds` object.\n  const lastOpenedIsString = typeof fileObj.lastOpened === 'string'\n  const lastOpenedIsObject = typeof fileObj.lastOpened === 'object'\n  const lastOpenedIsNumber = typeof fileObj.lastOpened === 'number'\n\n  if (!lastOpenedIsString && fileObj.lastOpened && lastOpenedIsObject) {\n    return convertFromNanosAndSeconds(fileObj.lastOpened) || new Date()\n  }\n\n  if (lastOpenedIsNumber) {\n    return new Date(fileObj.lastOpened)\n  }\n\n  if (lastOpenedIsString) {\n    return new Date(fileObj.lastOpened)\n  }\n\n  try {\n    const splits = fileObj.version.replace(/-.*$/, '').split('.')\n    return new Date(splits[0], parseInt(splits[1]) - 1, splits[2])\n  } catch (error) {\n    // do nothing\n  }\n\n  return new Date()\n}\n\nexport const filePathToFileURL = (filePath) => {\n  if (!filePath) {\n    return null\n  }\n\n  return `device://${filePath}`\n}\n","import { nextColor, nextDarkColor } from '../../v2/store/lineColors'\nimport { DASHED, DOTTED, nextBorderStyle, NONE, SOLID } from '../store/borderStyle'\nimport { hierarchyLevel } from '../store/initialState'\nimport { t } from 'plottr_locales'\n\nimport { getTextColor } from './colors'\n\nexport const borderStyleToCss = (borderStyle) => {\n  switch (borderStyle) {\n    case NONE:\n      return 'solid'\n    case DASHED:\n      return 'dashed'\n    case SOLID:\n      return 'solid'\n    case DOTTED:\n      return 'dotted'\n    default:\n      return 'none'\n  }\n}\n\nconst nullIfNone = (color) => (color === 'none' ? null : color)\n\nconst noneIsTransparent = (borderStyle, borderColor) => {\n  return borderStyle === NONE || borderColor === 'none' ? 'transparent' : borderColor\n}\n\nexport const hierarchyToStyles = (\n  { level, textSize, borderStyle, backgroundColor },\n  timelineSize,\n  hovering,\n  theme,\n  isDarkMode,\n  featureFlags\n) => ({\n  ...{\n    color: nullIfNone(getTextColor(theme.textColor, isDarkMode, featureFlags.BEAT_HIERARCHY)),\n    lineHeight: `${textSize}px`,\n    backgroundColor: nullIfNone(backgroundColor),\n  },\n  ...(!hovering\n    ? {\n        border: `3px ${borderStyleToCss(borderStyle)} ${noneIsTransparent(\n          borderStyle,\n          theme.borderColor\n        )}`,\n      }\n    : {}),\n  ...(timelineSize === 'large'\n    ? {\n        fontSize: `${textSize}px`,\n      }\n    : {}),\n})\n\nconst LEVEL_NAMES = [t('Scene'), t('Chapter'), t('Act')]\n\nexport const nextLevelName = (depth) => {\n  if (depth == 'default') return t('Chapter')\n  return LEVEL_NAMES[depth] || `Level-${depth + 1}`\n}\n\nexport const newHierarchyLevel = (allHierarchyLevels) => {\n  return {\n    ...hierarchyLevel,\n    name: nextLevelName(allHierarchyLevels.length),\n    level: 0,\n    borderStyle: nextBorderStyle(allHierarchyLevels.length),\n    textColor: nextColor(allHierarchyLevels.length),\n    borderColor: nextColor(allHierarchyLevels.length),\n    dark: {\n      textColor: nextDarkColor(allHierarchyLevels.length),\n      borderColor: nextDarkColor(allHierarchyLevels.length),\n    },\n    light: {\n      textColor: nextColor(allHierarchyLevels.length),\n      borderColor: nextColor(allHierarchyLevels.length),\n    },\n  }\n}\n","import { isSeries as isSeriesString } from './books'\n\nexport const associateWithBroadestScope = (bookId) => bookId || 'series'\n\nexport const isSeries = ({ bookId }) => isSeriesString(bookId)\n\nexport const isNotSeries = ({ bookId }) => !isSeriesString(bookId)\n","export function reorderList(originalPosition, newPosition, list) {\n  const newList = [...list]\n  const [removed] = newList.splice(newPosition, 1)\n  newList.splice(originalPosition, 0, removed)\n  return newList\n}\n\nexport function moveToAbove(sourcePosition, newPosition, list) {\n  const newList = [...list]\n  let targetPosition = newPosition\n  if (sourcePosition < newPosition) {\n    // moving it downward\n    targetPosition = newPosition == 0 ? 0 : newPosition - 1\n  }\n  const [removed] = newList.splice(sourcePosition, 1)\n  newList.splice(targetPosition, 0, removed)\n  return newList\n}\n\nexport function positionReset(items) {\n  return items\n    .filter((item) => item != null)\n    .map((item, index) => {\n      return {\n        ...item,\n        position: index,\n      }\n    })\n}\n\nexport function nextPositionInBook(items, bookId) {\n  return (\n    items\n      .filter((item) => item && item.bookId == bookId)\n      .reduce((maxPosition, item) => Math.max(item.position, maxPosition), -1) + 1\n  )\n}\n","export function orientedClassName(name, orientation) {\n  if (orientation === 'horizontal') return name\n  else return `vertical-${name}`\n}\n","export const outOfOrderSearch = (terms, str) => {\n  return terms.every((term) => {\n    return str.includes(term)\n  })\n}\n","export const convertFromNanosAndSeconds = (nanosAndSecondsObject) => {\n  if (\n    !nanosAndSecondsObject ||\n    (!nanosAndSecondsObject.nanoseconds && nanosAndSecondsObject.nanoseconds !== 0) ||\n    (!nanosAndSecondsObject.seconds && nanosAndSecondsObject.seconds !== 0)\n  ) {\n    return null\n  }\n  return new Date(\n    nanosAndSecondsObject.seconds * 1000 + nanosAndSecondsObject.nanoseconds / 1000000\n  )\n}\n","import * as beatActions from './actions/beats'\nimport * as bookActions from './actions/books'\nimport * as cardActions from './actions/cards'\nimport * as categoryActions from './actions/categories'\nimport * as characterActions from './actions/characters'\nimport * as customAttributeActions from './actions/customAttributes'\nimport * as imageActions from './actions/images'\nimport * as lineActions from './actions/lines'\nimport * as noteActions from './actions/notes'\nimport * as placeActions from './actions/places'\nimport * as seriesActions from './actions/series'\nimport * as tagActions from './actions/tags'\nimport * as uiActions from './actions/ui'\nimport * as undoActions from './actions/undo'\nimport * as hierarchyActions from './actions/hierarchy'\nimport * as featureFlagActions from './actions/featureFlags'\nimport * as errorActions from './actions/error'\nimport * as permissionActions from './actions/permission'\nimport * as projectActions from './actions/project'\nimport * as clientActions from './actions/client'\nimport * as editorActions from './actions/editors'\nimport * as licenseActions from './actions/license'\nimport * as knownFilesActions from './actions/knownFiles'\nimport * as templatesActions from './actions/templates'\nimport * as settingsActions from './actions/settings'\nimport * as backupsActions from './actions/backups'\nimport * as applicationStateActions from './actions/applicationState'\nimport * as imageCacheActions from './actions/imageCache'\nimport * as notificationActions from './actions/notifications'\nimport * as domEventActions from './actions/domEvents'\nimport * as testingAndDiagnosisActions from './actions/testingAndDiagnosis'\nimport * as attributeActions from './actions/attributes'\n\nimport * as ActionTypes from './constants/ActionTypes'\nimport * as LoadActions from './constants/loadActions'\nimport * as colors from './constants/CSScolors'\nimport * as featureFlags from './constants/featureFlags'\n\nimport * as lineHelpers from './helpers/lines'\nimport * as cardHelpers from './helpers/cards'\nimport * as beatHelpers from './helpers/beats'\nimport * as bookHelpers from './helpers/books'\nimport * as listHelpers from './helpers/lists'\nimport * as orientedClassNameHelpers from './helpers/orientedClassName'\nimport * as hierarchyHelpers from './helpers/hierarchy'\nimport * as featureFlagHelpers from './helpers/featureFlags'\nimport * as colorHelpers from './helpers/colors'\nimport * as editorHelpers from './helpers/editors'\nimport * as timeHelpers from './helpers/time'\nimport * as dateHelpers from './helpers/date'\nimport * as fileHelpers from './helpers/file'\n\nimport * as template from './template'\n\nimport migrateIfNeeded from './migrator/migration_manager'\n\nimport * as bookSelectors from './selectors/books'\nimport * as cardSelectors from './selectors/cards'\nimport * as categorySelectors from './selectors/categories'\nimport * as beatSelectors from './selectors/beats'\nimport * as characterSelectors from './selectors/characters'\nimport * as customAttributeSelectors from './selectors/customAttributes'\nimport * as fileSelectors from './selectors/file'\nimport * as lineSelectors from './selectors/lines'\nimport * as notesSelectors from './selectors/notes'\nimport * as placeSelectors from './selectors/places'\nimport * as tagSelectors from './selectors/tags'\nimport * as uiSelectors from './selectors/ui'\nimport * as hierarchySelectors from './selectors/hierarchy'\nimport * as hierarchyLevelSelectors from './selectors/hierarchyLevel'\nimport * as featureFlagSelectors from './selectors/featureFlags'\nimport * as errorSelectors from './selectors/error'\nimport * as permissionSelectors from './selectors/permission'\nimport * as projectSelectors from './selectors/project'\nimport * as clientSelectors from './selectors/client'\nimport * as actionSelectors from './selectors/actions'\nimport * as editorsSelectors from './selectors/editors'\nimport * as imageSelectors from './selectors/images'\nimport * as licenseSelectors from './selectors/license'\nimport * as knownFilesSelectors from './selectors/knownFiles'\nimport * as templatesSelectors from './selectors/templates'\nimport * as settingsSelectors from './selectors/settings'\nimport * as backupsSelectors from './selectors/backups'\nimport * as applicationStateSelectors from './selectors/applicationState'\nimport * as imageCacheSelectors from './selectors/imageCache'\nimport * as notificationSelectors from './selectors/notifications'\nimport * as domEventsSelectors from './selectors/domEvents'\nimport * as testingAndDiagnosisSelectors from './selectors/testingAndDiagnosis'\nimport * as attributesSelectors from './selectors/attributes'\n\nimport rootReducer from './reducers/root'\nimport mainReducer from './reducers/main'\nimport {\n  SYSTEM_REDUCER_KEYS,\n  SYSTEM_REDUCER_ACTION_TYPES,\n  removeSystemKeys,\n} from './reducers/systemReducers'\nimport customAttributesReducer from './reducers/customAttributes'\nimport linesReducer from './reducers/lines'\nimport beatsReducer from './reducers/beats'\nimport booksReducer from './reducers/books'\nimport cardsReducer from './reducers/cards'\nimport categoriesReducer from './reducers/categories'\nimport charactersReducer from './reducers/characters'\nimport imagesReducer from './reducers/images'\nimport notesReducer from './reducers/notes'\nimport placesReducer from './reducers/places'\nimport seriesReducer from './reducers/series'\nimport tagsReducer from './reducers/tags'\nimport fileReducer from './reducers/file'\nimport uiReducer from './reducers/ui'\nimport hierarchyReducer from './reducers/hierarchy'\nimport featureFlagReducer from './reducers/featureFlags'\nimport errorReducer from './reducers/error'\nimport permissionReducer from './reducers/permission'\nimport clientReducer from './reducers/client'\nimport editorsReducer from './reducers/editors'\nimport licenseReducer from './reducers/license'\nimport knownFilesReducer from './reducers/knownFiles'\nimport templatesReducer from './reducers/templates'\nimport settingsReducer from './reducers/settings'\nimport backupsReducer from './reducers/backups'\nimport applicationStateReducer from './reducers/applicationState'\nimport imageCacheReducer from './reducers/imageCache'\nimport notificationsReducer from './reducers/notifications'\nimport domEventsReducer from './reducers/domEvents'\nimport testingAndDiagnosisReducer from './reducers/testingAndDiagnosis'\n\nimport * as initialState from './store/initialState'\nimport * as lineColors from './store/lineColors'\nimport { emptyFile } from './store/newFileState'\nimport * as newIds from './store/newIds'\nimport * as borderStyle from './store/borderStyle'\n\nimport externalSync, { externalSyncWithoutHistory } from './middlewares/externalSync'\n\nimport { ARRAY_KEYS } from './middlewares/array-keys'\n\nimport * as tree from './reducers/tree'\n\n// Slate serialisers\nimport serializeToRTF from './slate_serializers/to_rtf'\nimport { serialize as serializeToPlain } from './slate_serializers/to_plain_text'\n\nconst reducers = {\n  customAttributes: customAttributesReducer,\n  lines: linesReducer,\n  beats: beatsReducer,\n  books: booksReducer,\n  cards: cardsReducer,\n  categories: categoriesReducer,\n  characters: charactersReducer,\n  images: imagesReducer,\n  notes: notesReducer,\n  places: placesReducer,\n  series: seriesReducer,\n  tags: tagsReducer,\n  file: fileReducer,\n  ui: uiReducer,\n  hierarchyLevels: hierarchyReducer,\n  featureFlags: featureFlagReducer,\n  error: errorReducer,\n  permission: permissionReducer,\n  client: clientReducer,\n  editors: editorsReducer,\n  license: licenseReducer,\n  knownFiles: knownFilesReducer,\n  templates: templatesReducer,\n  settings: settingsReducer,\n  backups: backupsReducer,\n  applicationState: applicationStateReducer,\n  imageCache: imageCacheReducer,\n  notifications: notificationsReducer,\n  domEvents: domEventsReducer,\n  testingAndDiagnosis: testingAndDiagnosisReducer,\n}\n\nconst selectors = {\n  ...beatSelectors,\n  ...bookSelectors,\n  ...cardSelectors,\n  ...categorySelectors,\n  ...characterSelectors,\n  ...customAttributeSelectors,\n  ...fileSelectors,\n  ...lineSelectors,\n  ...notesSelectors,\n  ...placeSelectors,\n  ...tagSelectors,\n  ...uiSelectors,\n  ...hierarchySelectors,\n  ...hierarchyLevelSelectors,\n  ...featureFlagSelectors,\n  ...errorSelectors,\n  ...permissionSelectors,\n  ...projectSelectors,\n  ...clientSelectors,\n  ...actionSelectors,\n  ...editorsSelectors,\n  ...imageSelectors,\n  ...licenseSelectors,\n  ...knownFilesSelectors,\n  ...templatesSelectors,\n  ...settingsSelectors,\n  ...backupsSelectors,\n  ...applicationStateSelectors,\n  ...imageCacheSelectors,\n  ...notificationSelectors,\n  ...domEventsSelectors,\n  ...testingAndDiagnosisSelectors,\n  ...attributesSelectors,\n}\n\nconst actions = {\n  beat: beatActions,\n  book: bookActions,\n  card: cardActions,\n  category: categoryActions,\n  character: characterActions,\n  customAttribute: customAttributeActions,\n  image: imageActions,\n  line: lineActions,\n  note: noteActions,\n  place: placeActions,\n  series: seriesActions,\n  tag: tagActions,\n  ui: uiActions,\n  undo: undoActions,\n  hierarchyLevels: hierarchyActions,\n  featureFlags: featureFlagActions,\n  error: errorActions,\n  permission: permissionActions,\n  project: projectActions,\n  client: clientActions,\n  editors: editorActions,\n  license: licenseActions,\n  knownFiles: knownFilesActions,\n  templates: templatesActions,\n  settings: settingsActions,\n  backups: backupsActions,\n  applicationState: applicationStateActions,\n  imageCache: imageCacheActions,\n  notifications: notificationActions,\n  domEvents: domEventActions,\n  testingAndDiagnosis: testingAndDiagnosisActions,\n  attributes: attributeActions,\n}\n\nconst helpers = {\n  card: cardHelpers,\n  beats: beatHelpers,\n  books: bookHelpers,\n  lists: listHelpers,\n  orientedClassName: orientedClassNameHelpers,\n  lines: lineHelpers,\n  hierarchyLevels: hierarchyHelpers,\n  featureFlags: featureFlagHelpers,\n  colors: colorHelpers,\n  editors: editorHelpers,\n  time: timeHelpers,\n  date: dateHelpers,\n  file: fileHelpers,\n}\n\nconst slate = {\n  rtf: { serialize: serializeToRTF },\n  plain: { serialize: serializeToPlain },\n}\n\nconst middlewares = {\n  externalSync,\n  externalSyncWithoutHistory,\n}\n\nexport {\n  actions,\n  ActionTypes,\n  LoadActions,\n  helpers,\n  colors,\n  featureFlags,\n  migrateIfNeeded,\n  rootReducer,\n  mainReducer,\n  SYSTEM_REDUCER_KEYS,\n  SYSTEM_REDUCER_ACTION_TYPES,\n  removeSystemKeys,\n  reducers,\n  selectors,\n  initialState,\n  lineColors,\n  emptyFile,\n  newIds,\n  template,\n  tree,\n  borderStyle,\n  slate,\n  middlewares,\n  ARRAY_KEYS,\n}\n","export const ARRAY_KEYS = ['cards', 'characters', 'lines', 'notes', 'places', 'tags']\n","import { isEqual } from 'lodash'\n\nimport { permissionError } from '../actions/error'\nimport { SYSTEM_REDUCER_KEYS } from '../reducers/systemReducers'\nimport { fileIdSelector } from '../selectors/file'\nimport { clientIdSelector } from '../selectors/client'\nimport { isCloudFileSelector, isOfflineSelector, isResumingSelector } from '../selectors/project'\n\n// Synchronise with Firebase.  We know to sync if there's a difference\n// between the previous value and the current value.  Synchronise\n// Redux key by key in a subset of keys that are appropriate for\n// Firebase.  Produce true if we actually synchronised.\nconst sync = (previous, present, patch, withData, store, action) => {\n  const isCloudFile = isCloudFileSelector(present)\n  const isOffline = isOfflineSelector(present)\n  const isResuming = isResumingSelector(present)\n  const fileId = fileIdSelector(present)\n  const clientId = clientIdSelector(present)\n  const selectedFileId =\n    present.project && present.project.selectedFile && present.project.selectedFile.id\n  const userPermission =\n    present.project && present.project.selectedFile && present.project.selectedFile.permission\n  const notPermittedToChangeFile = userPermission !== 'owner' && userPermission !== 'collaborator'\n\n  if (\n    // We might not be allowed to change the file.\n    notPermittedToChangeFile ||\n    // We might've just loaded the file.\n    action.type === 'FILE_LOADED' ||\n    // Some actions that aren't appropriate\n    action.type === 'RECORD_LAST_ACTION' ||\n    action.type === 'PERMISSION_ERROR' ||\n    action.type === 'CLEAR_ERROR' ||\n    // On the initial read from Firebase, we mark that we're patching\n    // the store until it's ready for use by the user.\n    action.patching ||\n    // We might not have an appropriate file loaded.\n    !isCloudFile ||\n    isOffline ||\n    isResuming ||\n    !fileId ||\n    !clientId ||\n    selectedFileId !== fileId\n  ) {\n    return false\n  }\n\n  // It's possible that nothing that we can compare to happened yet.\n  if (!previous) return false\n\n  Object.keys(present).forEach((key) => {\n    // Keys we don't sync\n    if (SYSTEM_REDUCER_KEYS.indexOf(key) > -1) return\n    // Also don't sync file record changes unless we're the owner\n    if (key === 'file' && userPermission !== 'owner') {\n      return\n    }\n    if (!isEqual(previous[key], present[key])) {\n      const payload = withData(key, present[key])\n      patch(key, fileId, payload, clientId).catch((error) => {\n        if (error.code === 'permission-denied') {\n          store.dispatch(permissionError(key, action, error.code))\n        }\n      })\n    }\n  })\n\n  return true\n}\n\nconst externalSync = (patch, withData) => (store) => (next) => (action) => {\n  const result = next(action)\n\n  const { future, present, past } = store.getState()\n  const previous = action.type === '@@redux-undo/UNDO' ? future[0] : past[past.length - 1]\n  sync(previous, present, patch, withData, store, action)\n\n  return result\n}\n\nexport default externalSync\n\nlet previous = null\nexport const externalSyncWithoutHistory = (patch, withData) => (store) => (next) => (action) => {\n  const result = next(action)\n  const present = store.getState()\n\n  const synchronised = sync(previous, present, patch, withData, store, action)\n  if (synchronised) {\n    previous = present\n  }\n\n  return result\n}\n","import { jsx } from 'slate-hyperscript'\nimport MarkDown from 'pagedown'\nconst md = MarkDown.getSanitizingConverter()\nimport DomParser from 'dom-parser'\nconst parser = new DomParser()\n\nexport default function convert(text) {\n  if (!text) return [{ children: [{ text: '' }] }]\n  if (text == '') return [{ children: [{ text: '' }] }]\n\n  const html = md.makeHtml(text)\n  const dom = parser.parseFromString('<body>' + html + '</body>')\n  const slate = deserialize(dom.getElementsByTagName('body')[0])\n  if (!slate.length) {\n    slate.push({ children: [{ text: '' }] })\n  }\n  return slate\n}\n\nfunction deserialize(el) {\n  if (el.nodeType === 3) {\n    if (el.textContent == '\\n\\n') return null\n\n    return el.textContent\n  } else if (el.nodeType !== 1) {\n    return null\n  }\n\n  const children = Array.from(el.childNodes).map(deserialize)\n\n  switch (el.nodeName) {\n    case 'body':\n      return jsx('fragment', {}, children)\n    case 'br':\n      return jsx('element', { type: 'paragraph' }, [{ text: '' }])\n    case 'blockquote':\n      return jsx(\n        'element',\n        { type: 'block-quote' },\n        children.filter((node) => !node.text)\n      )\n    case 'p':\n      return jsx('element', { type: 'paragraph' }, fixParagraphChildren(children))\n    case 'h1':\n      return jsx('element', { type: 'heading-one' }, children)\n    case 'h2':\n      return jsx('element', { type: 'heading-two' }, children)\n    case 'h3':\n      return jsx('element', { type: 'heading-three' }, children)\n    case 'h4':\n      return jsx('element', { type: 'heading-four' }, children)\n    case 'h5':\n      return jsx('element', { type: 'heading-five' }, children)\n    case 'h6':\n      return jsx('element', { type: 'heading-six' }, children)\n    case 'ul':\n      return jsx(\n        'element',\n        { type: 'bulleted-list' },\n        children.filter((node) => node != '\\n')\n      )\n    case 'li':\n      return jsx('element', { type: 'list-item' }, fixParagraphChildren(children))\n    case 'ol':\n      return jsx(\n        'element',\n        { type: 'numbered-list' },\n        children.filter((node) => node != '\\n')\n      )\n    case 'em':\n      return jsx('text', { italic: true, text: el.textContent })\n    case 'strong':\n      return jsx('text', { bold: true, text: el.textContent })\n    case 'u':\n      return jsx('text', { underline: true, text: el.textContent })\n    case 'img':\n      return jsx('element', { type: 'image-link', url: el.getAttribute('src') }, children)\n    case 'a':\n      return jsx('element', { type: 'link', url: el.getAttribute('href') }, children)\n    default:\n      return el.textContent\n  }\n}\n\nfunction fixParagraphChildren(children) {\n  return children.map((node) => {\n    if (node.type) return node.children.map((child) => child.text).join(' ')\n\n    return node\n  })\n}\n","import semverGt from 'semver/functions/gt'\n\nimport { toSemver } from './toSemver'\n\nexport const greaterBySemver = (thisVersion, thatVersion) =>\n  semverGt(toSemver(thisVersion), toSemver(thatVersion))\n","import { clone, sortBy } from 'lodash'\nimport semverGt from 'semver/functions/gt'\n\nimport { nextColor, nextDarkColor } from '../store/lineColors'\n\n// The 2021-07-07 version was problematic because it was created by\n// broken templates.  In that version of the templates we had no\n// 'light' and 'dark' keys on hierarchy configuration levels.\nexport const handle2021_07_07 = (file) => {\n  if (file.file.version !== '2021.7.7') return file\n\n  const newFile = clone(file)\n\n  sortBy(Object.entries(newFile.hierarchyLevels), '0').forEach(([index, levelConfig]) => {\n    newFile.hierarchyLevels[index].dark = {\n      borderColor: nextDarkColor(0),\n      textColor: nextDarkColor(0),\n    }\n    newFile.hierarchyLevels[index].light = {\n      borderColor: nextColor(0),\n      textColor: nextColor('default'),\n    }\n  })\n\n  if (!newFile.file.appliedMigrations) {\n    newFile.file.appliedMigrations = []\n  }\n  newFile.file.appliedMigrations.push('m2021_7_7')\n\n  return newFile\n}\n\n// Some users have cards with no `templates` field.  In 2020.3.4 we\n// add the `templates` field to all cards and give it a default of\n// `[]`.  If any cards lack this field and are later than 2020.3.4,\n// then we go ahead and add the field in.\nexport const handleMissingTemplatesFieldOnCards = (file) => {\n  if (semverGt('2020.3.4', file.file.version)) {\n    return file\n  }\n\n  // Check, and leave the file completely un changed if there were no\n  // problems, because that feels safer.\n  const thereAreMissingTemplates =\n    file &&\n    file.cards &&\n    file.cards.some((card) => !card.templates || !Array.isArray(card.templates))\n\n  if (!thereAreMissingTemplates) return file\n\n  const appliedMigrations = file.file.appliedMigrations || []\n\n  return {\n    ...clone(file),\n    file: {\n      ...clone(file.file),\n      appliedMigrations: [...appliedMigrations, 'm2020_3_5'],\n    },\n    cards: file.cards.map((card) => ({\n      ...card,\n      templates: card.templates || [],\n    })),\n  }\n}\n\nconst isObject = (x) => x && typeof x === 'object' && x.constructor === Object\n\n// There was a bug on mobile that saved the title of a scene card to\n// `{ title, description }` rather than `title`.\n// and the description was gone elsewhere besides inside the title\nexport const handleObjectTitlesOnCards = (file) => {\n  const FIX_VERSION = 'm2022_1_11'\n\n  const appliedMigrations =\n    (file && file.file && file.file.appliedMigrations && file.file.appliedMigrations) || []\n\n  if (appliedMigrations.indexOf(FIX_VERSION) > -1) {\n    return file\n  }\n\n  const fixApplies =\n    file &&\n    file.cards &&\n    file.cards.some(\n      (card) =>\n        typeof card.title !== 'string' &&\n        isObject(card.title) &&\n        typeof card.title.title === 'string' &&\n        Array.isArray(card.title.description)\n    )\n\n  if (!fixApplies) {\n    return file\n  }\n\n  return {\n    ...file,\n    file: {\n      ...file.file,\n      appliedMigrations: [...appliedMigrations, FIX_VERSION],\n    },\n    cards: file.cards.map((card) => {\n      if (typeof card.title !== 'string' && isObject(card.title)) {\n        if (typeof card.title.title !== 'string') {\n          console.warn(\n            `Card: ${card} has an object instead of its title, but that object has no title(!)`\n          )\n          return card\n        }\n        if (!Array.isArray(card.title.description)) {\n          console.warn(\n            `Card: ${card} has an object instead of its title, but that object has no description(!)`\n          )\n          return card\n        }\n        return {\n          ...card,\n          title: card.title.title,\n          description: card.title.description,\n        }\n      }\n      return card\n    }),\n  }\n}\n\nconst applyAllFixes = (file) =>\n  [handle2021_07_07, handleMissingTemplatesFieldOnCards, handleObjectTitlesOnCards].reduce(\n    (acc, f) => f(acc),\n    file\n  )\n\nexport default applyAllFixes\n","import Migrator from './migrator'\nimport applyAllFixes from './handleSpecialCases'\n\n// callback(error, migrated?, data)\nexport default function migrateIfNeeded(appVersion, json, fileURL, backupFunction, callback, log) {\n  if (!json.file) {\n    callback(null, false, json)\n    return\n  }\n  const fileVersion = json.file.version\n  const withSpecialCasesFixed = applyAllFixes(json)\n  const migrator = new Migrator(\n    withSpecialCasesFixed,\n    fileURL,\n    fileVersion,\n    appVersion,\n    backupFunction,\n    log\n  )\n  if (migrator.plottrBehindFile()) {\n    callback('Plottr behind file', false, withSpecialCasesFixed)\n  } else {\n    if (migrator.needsToMigrate()) {\n      migrator.migrate((err, withSpecialCasesFixed) => {\n        if (err === 'backup') {\n          // try again\n          migrator.migrate((err, withSpecialCasesFixed) => {\n            if (err === 'backup') {\n              // open without migrating\n              callback('problem saving backup', false, withSpecialCasesFixed)\n            } else {\n              // save it and open\n              callback(null, true, withSpecialCasesFixed)\n            }\n          })\n        } else {\n          // save it and open\n          callback(null, true, withSpecialCasesFixed)\n        }\n      })\n    } else {\n      callback(null, false, withSpecialCasesFixed)\n    }\n  }\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '0.6.0') return data\n\n  var obj = cloneDeep(data)\n\n  // add version\n  obj.file.version = '0.6.0'\n\n  // add tag colors\n  if (obj.tags) {\n    obj.tags.forEach((t) => {\n      t['color'] = t['color'] || null\n    })\n  }\n\n  // add colors to places\n  if (obj.places) {\n    obj.places.forEach((p) => {\n      p['color'] = p['color'] || null\n    })\n  }\n\n  // add colors to characters\n  if (obj.characters) {\n    obj.characters.forEach((c) => {\n      c['color'] = c['color'] || null\n    })\n  }\n\n  // remove chapters\n  delete obj.chapters\n\n  // remove userOptions\n  delete obj.userOptions\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '0.7.0') return data\n\n  var obj = cloneDeep(data)\n\n  // remove chapters ... yes again\n  delete obj.chapters\n\n  // remove chapter ids from scenes\n  if (data.scenes) {\n    data.scenes.forEach((s) => {\n      delete s.chapterId\n    })\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '0.8.0') return data\n\n  var obj = cloneDeep(data)\n\n  // add notes to places\n  if (obj.places) {\n    obj.places.forEach((p) => {\n      p['notes'] = p['notes'] || ''\n    })\n  }\n\n  // add notes to characters\n  if (obj.characters) {\n    obj.characters.forEach((c) => {\n      c['notes'] = c['notes'] || ''\n    })\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '0.9.0') return data\n\n  var obj = cloneDeep(data)\n\n  // add custom attributes\n  obj['customAttributes'] = {\n    characters: [],\n    places: [],\n    cards: [],\n    scenes: [],\n    lines: [],\n  }\n\n  // add scenes (via cards) to characters\n  if (obj.characters) {\n    obj.characters.forEach((ch) => {\n      ch['cards'] = ch['cards'] || []\n    })\n  }\n\n  // add scenes (via cards) to places\n  if (obj.places) {\n    obj.places.forEach((p) => {\n      p['cards'] = p['cards'] || []\n    })\n  }\n\n  // for some reason, some cards end up without these\n  // so this is just to ensure all cards do\n  if (obj.cards) {\n    obj.cards.forEach((c) => {\n      c['characters'] = c['characters'] || []\n      c['places'] = c['places'] || []\n      c['tags'] = c['tags'] || []\n    })\n  }\n\n  // add the default orientation\n  if (obj.ui) {\n    obj.ui.orientation = 'horizontal'\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '1.0.0') return data\n\n  var obj = cloneDeep(data)\n\n  const note = {\n    id: 0,\n    title: '',\n    content: '',\n    tags: [],\n    characters: [],\n    places: [],\n    lastEdited: new Date().getTime(),\n  }\n\n  obj.notes = [note]\n\n  // add notes to characters\n  if (obj.characters) {\n    obj.characters.forEach((c) => {\n      c['noteIds'] = c['noteIds'] || []\n    })\n  }\n\n  // add notes to places\n  if (obj.places) {\n    obj.places.forEach((c) => {\n      c['noteIds'] = c['noteIds'] || []\n    })\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '1.2.0') return data\n\n  var obj = cloneDeep(data)\n\n  // add dark mode\n  if (obj.ui) {\n    obj.ui.darkMode = false\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '1.3.0') return data\n\n  var obj = cloneDeep(data)\n\n  // characterSort\n  if (obj.ui) {\n    obj.ui.characterSort = 'name~asc'\n    // characterFilter\n    obj.ui.characterFilter = null\n    // placeSort\n    obj.ui.placeSort = 'name~asc'\n    // placeFilter\n    obj.ui.placeFilter = null\n    // noteSort\n    obj.ui.noteSort = 'title'\n    // noteFilter\n    obj.ui.noteFilter = null\n  }\n\n  return obj\n}\n","const { cloneDeep } = require('lodash')\n\nfunction migrate(data) {\n  if (data.file && data.file.version === '2020.11.16') return data\n\n  let obj = cloneDeep(data)\n\n  if (obj.ui) {\n    obj.ui.timelineScrollPosition = { x: 0, y: 0 }\n  }\n\n  return obj\n}\n\nmodule.exports = migrate\n","import { cloneDeep } from 'lodash'\nimport { newFileBooks, newFileBeats, newFileSeriesLines } from '../../store/newFileState'\nimport { series } from '../../store/initialState'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2020.3.16') return data\n\n  var obj = cloneDeep(data)\n\n  const BOOK_ID = 1\n\n  // +series\n  // storyName -> series name\n  // -storyName\n  obj.series = series\n  obj.series.name = obj.storyName\n  delete obj.storyName\n\n  // +books\n  obj.books = newFileBooks\n  obj.books[BOOK_ID].title = obj.series.name\n\n  // everything in the current file is for book 1\n\n  // +beats\n  obj.beats = newFileBeats\n\n  // scenes -> chapters (with new attrs)\n  // -scenes\n  if (obj.scenes) {\n    obj.chapters = obj.scenes.map((sc) => {\n      return {\n        ...sc,\n        bookId: BOOK_ID,\n        time: 0,\n        templates: [],\n      }\n    })\n    delete obj.scenes\n  }\n\n  // +character.bookIds (all = [1])\n  if (obj.characters) {\n    obj.characters.forEach((ch) => {\n      ch.bookIds = [BOOK_ID]\n    })\n  }\n\n  // +place.bookIds     (all = [1])\n  if (obj.places) {\n    obj.places.forEach((pl) => {\n      pl.bookIds = [BOOK_ID]\n    })\n  }\n\n  // card.sceneId -> card.chapterId\n  // +card.beatId\n  // +card.bookId\n  // +card.seriesLineId\n  // +card.position\n  // -card.sceneId\n  if (obj.cards) {\n    obj.cards.forEach((c) => {\n      c.chapterId = c.sceneId\n      c.beatId = null\n      c.bookId = null\n      c.seriesLineId = null\n      c.position = 0\n      delete c.sceneId\n    })\n  }\n\n  // +line.characterId\n  // +line.bookId\n  if (obj.lines) {\n    obj.lines.forEach((l) => {\n      l.characterId = null\n      l.bookId = BOOK_ID\n    })\n  }\n\n  // +seriesLines\n  obj.seriesLines = newFileSeriesLines\n\n  // +note.bookIds\n  if (obj.notes) {\n    obj.notes.forEach((n) => {\n      n.bookIds = []\n    })\n  }\n\n  if (obj.ui) {\n    obj.ui.currentTimeline = BOOK_ID\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\nimport { jsx } from 'slate-hyperscript'\nimport MarkDown from 'pagedown'\nconst md = MarkDown.getSanitizingConverter()\nimport DomParser from 'dom-parser'\nconst parser = new DomParser()\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2020.3.26') return data\n\n  var obj = cloneDeep(data)\n\n  // convert all descriptions (where markdown was possible) to slate\n\n  // character notes\n  // character custom attributes\n  // character templates\n  if (obj.characters) {\n    obj.characters = obj.characters.map((ch) => {\n      let newCharacter = {\n        ...ch,\n        notes: convert(ch.notes),\n      }\n      if (obj.customAttributes && obj.customAttributes.characters) {\n        obj.customAttributes.characters.forEach((ca) => {\n          const parts = ca.split(':#:')\n          if (parts[1] && parts[1] == 'paragraph') {\n            newCharacter[parts[0]] = convert(newCharacter[parts[0]])\n          }\n        })\n      }\n      newCharacter.templates = newCharacter.templates.map((t) => {\n        t.attributes = t.attributes.map((attr) => {\n          if (attr.type == 'paragraph') {\n            attr.value = convert(attr.value)\n          }\n          return attr\n        })\n        return t\n      })\n      return newCharacter\n    })\n  }\n\n  // place notes\n  if (obj.places) {\n    obj.places = obj.places.map((pl) => {\n      return {\n        ...pl,\n        notes: convert(pl.notes),\n      }\n    })\n  }\n\n  // card description\n  if (obj.cards) {\n    obj.cards = obj.cards.map((c) => {\n      return {\n        ...c,\n        description: convert(c.description),\n      }\n    })\n  }\n\n  // note content\n  if (obj.notes) {\n    obj.notes = obj.notes.map((n) => {\n      return {\n        ...n,\n        content: convert(n.content),\n      }\n    })\n  }\n\n  return obj\n}\n\nfunction convert(text) {\n  if (!text) return [{ children: [{ text: '' }] }]\n  if (text == '') return [{ children: [{ text: '' }] }]\n\n  const html = md.makeHtml(text)\n  const dom = parser.parseFromString('<body>' + html + '</body>')\n  const slate = deserialize(dom.getElementsByTagName('body')[0])\n  if (!slate.length) {\n    slate.push({ children: [{ text: '' }] })\n  }\n  return slate\n}\n\nfunction deserialize(el) {\n  if (el.nodeType === 3) {\n    if (el.textContent == '\\n\\n') return null\n\n    return el.textContent\n  } else if (el.nodeType !== 1) {\n    return null\n  }\n\n  const children = Array.from(el.childNodes).map(deserialize)\n\n  switch (el.nodeName) {\n    case 'body':\n      return jsx('fragment', {}, children)\n    case 'br':\n      return jsx('element', { type: 'paragraph' }, [{ text: '' }])\n    case 'blockquote':\n      return jsx(\n        'element',\n        { type: 'block-quote' },\n        children.filter((node) => !node.text)\n      )\n    case 'p':\n      return jsx('element', { type: 'paragraph' }, fixParagraphChildren(children))\n    case 'h1':\n      return jsx('element', { type: 'heading-one' }, children)\n    case 'h2':\n      return jsx('element', { type: 'heading-two' }, children)\n    case 'h3':\n      return jsx('element', { type: 'heading-three' }, children)\n    case 'h4':\n      return jsx('element', { type: 'heading-four' }, children)\n    case 'h5':\n      return jsx('element', { type: 'heading-five' }, children)\n    case 'h6':\n      return jsx('element', { type: 'heading-six' }, children)\n    case 'ul':\n      return jsx(\n        'element',\n        { type: 'bulleted-list' },\n        children.filter((node) => node != '\\n')\n      ) // check for \\r in windows\n    case 'li':\n      return jsx('element', { type: 'list-item' }, fixParagraphChildren(children))\n    case 'ol':\n      return jsx(\n        'element',\n        { type: 'numbered-list' },\n        children.filter((node) => node != '\\n')\n      ) // check for \\r in windows\n    case 'em':\n      return jsx('text', { italic: true, text: el.textContent })\n    case 'strong':\n      return jsx('text', { bold: true, text: el.textContent })\n    case 'u':\n      return jsx('text', { underline: true, text: el.textContent })\n    case 'img':\n      return jsx('element', { type: 'image-link', url: el.getAttribute('src') }, children)\n    case 'a':\n      return jsx('element', { type: 'link', url: el.getAttribute('href') }, children)\n    default:\n      return el.textContent\n  }\n}\n\nfunction fixParagraphChildren(children) {\n  return children\n    .filter((node) => node != null)\n    .map((node) => {\n      if (node.type) return node.children.map((child) => child.text).join(' ')\n\n      return node\n    })\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2020.3.4') return data\n\n  var obj = cloneDeep(data)\n\n  // add templates & categoryId to characters\n  if (obj.characters) {\n    obj.characters.forEach((c) => {\n      c['templates'] = c['templates'] || []\n      c.categoryId = ''\n      c.tags = c.tags || []\n    })\n  }\n\n  // add templates to cards\n  if (obj.cards) {\n    obj.cards.forEach((c) => {\n      c['templates'] = c['templates'] || []\n    })\n  }\n\n  // add templates to places\n  if (obj.places) {\n    obj.places.forEach((pl) => {\n      pl['templates'] = pl['templates'] || []\n      pl.tags = pl.tags || []\n    })\n  }\n\n  // add templates to notes\n  if (obj.notes) {\n    obj.notes.forEach((n) => {\n      n['templates'] = n['templates'] || []\n    })\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2020.3.9') return data\n\n  var obj = cloneDeep(data)\n\n  // add images\n  obj.images = obj.images || {}\n\n  // add imageId to characters\n  if (obj.characters) {\n    obj.characters.forEach((c) => {\n      c.imageId = c.imageId || null\n    })\n  }\n\n  // add imageId to places\n  if (obj.places) {\n    obj.places.forEach((pl) => {\n      pl.imageId = pl.imageId || null\n    })\n  }\n\n  // add imageId to cards\n  if (obj.cards) {\n    obj.cards.forEach((c) => {\n      c.imageId = c.imageId || null\n    })\n  }\n\n  // add imageId to notes\n  if (obj.notes) {\n    obj.notes.forEach((n) => {\n      n.imageId = n.imageId || null\n    })\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2020.4.3') return data\n\n  var obj = cloneDeep(data)\n\n  // data structure going from ['name:#:type'] to [{name: 'name', type: 'type'}]\n  if (obj.customAttributes) {\n    if (obj.customAttributes.characters) {\n      obj.customAttributes.characters = obj.customAttributes.characters.map((val) => {\n        const [name, typeVal] = val.split(':#:')\n        const type = typeVal || 'text'\n\n        return { name, type }\n      })\n    }\n\n    if (obj.customAttributes.places) {\n      // data structure going from ['name'] to [{name: 'name', type: 'text'}]\n      obj.customAttributes.places = obj.customAttributes.places.map((name) => {\n        return { name, type: 'text' }\n      })\n    }\n  }\n\n  // reset character & place filters\n  if (obj.ui) {\n    obj.ui.characterFilter = null\n    obj.ui.placeFilter = null\n  }\n\n  return obj\n}\n","import { cloneDeep, sortBy, uniq } from 'lodash'\nimport convert from '../from_html'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2020.5.5') return data\n\n  var obj = cloneDeep(data)\n\n  // fix up characters\n  // make sure noteIds & cards fields are not null\n  if (data.characters) {\n    obj.characters = data.characters.map((ch) => {\n      ch.noteIds = ch.noteIds || []\n      ch.cards = ch.cards || []\n      return ch\n    })\n  }\n\n  // fix up places\n  // make sure noteIds & cards fields are not null\n  if (data.places) {\n    obj.places = data.places.map((pl) => {\n      pl.noteIds = pl.noteIds || []\n      pl.cards = pl.cards || []\n      return pl\n    })\n  }\n\n  // only fix up ids if the file is in a bad state\n  if (data.cards) {\n    let uniqueIds = uniq(data.cards.map((c) => c.id))\n    let idFixup = uniqueIds.length != data.cards.length\n    obj.cards = sortBy(data.cards, 'id').map((c, idx) => {\n      // fix up card descriptions that are strings (imported from a template)\n      if (!c.description || typeof c.description === 'string') {\n        c.description = convert(c.description)\n      }\n\n      // fix up card ids (some are duplicates because of templates)\n      if (idFixup) {\n        c.id = idx + 1\n      }\n      return c\n    })\n\n    // fix up chapter ids (some are duplicates because of templates)\n    // only if the file is in a bad state\n    if (data.chapters) {\n      uniqueIds = uniq(data.chapters.map((c) => c.id))\n      idFixup = uniqueIds.length != data.chapters.length\n      if (idFixup) {\n        obj.chapters = sortBy(data.chapters, 'id').map((ch, idx) => {\n          ch.id = idx + 1\n          return ch\n        })\n      }\n    }\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\nimport { newFileCategories } from '../../store/newFileState'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2020.6.12') return data\n\n  let obj = cloneDeep(data)\n\n  // reset characters' categoryId to null instead of ''\n  if (obj.characters) {\n    obj.characters = obj.characters.map((ch) => {\n      ch.categoryId = ch.categoryId || null\n      return ch\n    })\n  }\n\n  // add categories\n  obj.categories = newFileCategories\n\n  // reset character and place filters\n  if (obj.ui) {\n    obj.ui.characterFilter = null\n    obj.ui.placeFilter = null\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2020.7.7') return data\n\n  let obj = cloneDeep(data)\n\n  if (obj.ui) {\n    // add expanded attribute to timeline\n    obj.ui.timelineIsExpanded = true\n    // add timelineFilter\n    obj.ui.timelineFilter = null\n  }\n\n  // add expanded attribute to lines\n  if (obj.lines) {\n    obj.lines = obj.lines.map((l) => {\n      l.expanded = null\n      return l\n    })\n  }\n\n  // add expanded attribute to series lines\n  if (obj.seriesLines) {\n    obj.seriesLines = obj.seriesLines.map((l) => {\n      l.expanded = null\n      return l\n    })\n  }\n\n  // add autoOutlineSort to Chapters\n  if (obj.chapters) {\n    obj.chapters = obj.chapters.map((ch) => {\n      ch.autoOutlineSort = true\n      return ch\n    })\n  }\n\n  // add autoOutlineSort to Beats\n  if (obj.beats) {\n    obj.beats = obj.beats.map((b) => {\n      b.autoOutlineSort = true\n      return b\n    })\n  }\n\n  // with cards\n  // change position to positionWithinLine\n  // add positionInChapter\n  if (obj.cards) {\n    obj.cards = obj.cards.map((c) => {\n      c.positionWithinLine = c.position\n      c.positionInChapter = null\n      return c\n    })\n  }\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2020.8.28') return data\n\n  let obj = cloneDeep(data)\n\n  // add timelineTemplates to books\n  if (obj.books) {\n    if (obj.books.allIds) {\n      obj.books.allIds.forEach((id) => (obj.books[id].timelineTemplates = []))\n    }\n  }\n\n  // add fromTemplateId to cards\n  if (obj.cards) {\n    obj.cards = data.cards.map((c) => {\n      c.fromTemplateId = null\n      return c\n    })\n  }\n\n  // add fromTemplateId to chapters\n  if (obj.chapters) {\n    obj.chapters = data.chapters.map((ch) => {\n      ch.fromTemplateId = null\n      return ch\n    })\n  }\n\n  // add fromTemplateId to lines\n  if (obj.lines) {\n    obj.lines = data.lines.map((l) => {\n      l.fromTemplateId = null\n      return l\n    })\n  }\n\n  return obj\n}\n","const { cloneDeep } = require('lodash')\n\nfunction migrate(data) {\n  if (data.file && data.file.version === '2021.1.15') return data\n\n  let obj = cloneDeep(data)\n\n  if (obj.ui) {\n    delete obj.ui.zoomIndex\n    delete obj.ui.zoomState\n\n    obj.ui.timeline = { size: 'large' }\n  }\n\n  return obj\n}\n\nmodule.exports = migrate\n","import { cloneDeep } from 'lodash'\nimport { nextId } from '../../store/newIds'\nimport { line as defaultLine } from '../../store/initialState'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2021.2.4') return data\n\n  const obj = cloneDeep(data)\n  const seriesLines = obj.seriesLines || []\n  obj.seriesLines = seriesLines\n  const oldIds = {}\n\n  seriesLines.forEach((line) => {\n    const newId = nextId(obj.lines)\n    oldIds[line.id] = newId\n    delete line.seriesLineId\n    obj.lines.push({\n      ...defaultLine,\n      ...line,\n      bookId: 'series',\n      id: newId,\n    })\n  })\n\n  const cards = obj.cards || []\n  obj.cards = cards\n\n  cards.forEach((card) => {\n    if (card.seriesLineId) {\n      card.lineId = oldIds[card.seriesLineId]\n      delete card.seriesLineId\n    }\n  })\n\n  delete obj.seriesLines\n\n  return obj\n}\n","import { cloneDeep } from 'lodash'\nimport { beat as defaultBeat } from '../../store/initialState'\nimport { nextId } from '../../store/newIds'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2021.2.8') return data\n\n  const obj = cloneDeep(data)\n\n  const beats = obj.beats || []\n  obj.beats = beats\n  beats.forEach((beat) => {\n    if (beat.bookId) return\n    beat.bookId = 'series'\n  })\n\n  const chapters = obj.chapters || []\n  obj.chapters = chapters\n  const oldIds = {}\n\n  chapters.forEach((chapter) => {\n    const newId = nextId(obj.beats)\n    oldIds[chapter.id] = newId\n    obj.beats.push({\n      ...defaultBeat,\n      ...chapter,\n      id: newId,\n    })\n  })\n\n  const cards = obj.cards || []\n  obj.cards = cards\n\n  cards.forEach((card) => {\n    if (card.chapterId) {\n      card.beatId = oldIds[card.chapterId]\n      delete card.chapterId\n    }\n  })\n\n  delete obj.chapters\n\n  return obj\n}\n","import { addNode, newTree } from '../../reducers/tree'\nimport { newFileHierarchies } from '../../store/newFileState'\n\nexport default function migrate(data) {\n  if (data.file && data.file.version === '2021.4.13') return data\n  if (data.beats.length !== undefined && data.hierarchyLevels !== undefined) return data\n\n  const addToBeatTree = addNode('id')\n\n  // Some templates do not have books\n  const allBookIds =\n    data.books && data.books.allIds\n      ? ['series', ...data.books.allIds]\n      : data.beats.map(({ bookId }) => bookId)\n\n  const migratedBeats = data.beats.length\n    ? allBookIds.reduce((newBeats, nextBook, index) => {\n        const nextBookId = parseInt(nextBook) || 'series'\n        const tree = newTree('id')\n\n        return {\n          ...newBeats,\n          [nextBookId]: data.beats\n            .filter(({ bookId }) => bookId === nextBookId)\n            .reduce((tree, beat) => {\n              return addToBeatTree(tree, null, {\n                ...beat,\n                expanded: true,\n              })\n            }, tree),\n        }\n      }, {})\n    : data.beats\n\n  return {\n    ...data,\n    hierarchyLevels: { ...newFileHierarchies },\n    beats: migratedBeats,\n  }\n}\n","const { cloneDeep } = require('lodash')\nconst { nextColor, nextDarkColor } = require('../../store/lineColors')\n\nfunction migrate(data) {\n  if (data.file && data.file.version === '2021.6.9') return data\n\n  const obj = cloneDeep(data)\n\n  if (obj.hierarchyLevels) {\n    Object.values(obj.hierarchyLevels).forEach((l) => {\n      l.dark = {}\n      l.light = {}\n      l.dark.borderColor = nextDarkColor(0)\n      l.dark.textColor = nextDarkColor(0)\n      l.light.borderColor = nextColor(0)\n      l.light.textColor = nextColor('default')\n    })\n  }\n\n  return obj\n}\n\nmodule.exports = migrate\n","const { cloneDeep } = require('lodash')\nconst { t } = require('plottr_locales')\nconst { nextColor } = require('../../store/lineColors')\n\nfunction migrate(data) {\n  if (data.file && data.file.version === '2021.8.1') return data\n\n  const obj = cloneDeep(data)\n\n  // if act structure hasn't been used\n  // (meaning act structure is off && only 1 hierarchy level)\n  if (obj.hierarchyLevels) {\n    const flagIsOff = obj.featureFlags ? !obj.featureFlags.BEAT_HIERARCHY : true\n    if (flagIsOff && Object.keys(obj.hierarchyLevels).length == 1) {\n      obj.hierarchyLevels['0'].name = t('Chapter')\n      obj.hierarchyLevels['0'].light.textColor = nextColor('default')\n    }\n  }\n\n  return obj\n}\n\nmodule.exports = migrate\n","function migrate(data) {\n  if (data.file && data.file.version === '2022.5.18') return data\n\n  // Web files might not have a `ui` key.\n  if (data.ui) {\n    return {\n      ...data,\n      ui: {\n        ...data.ui,\n        searchTerms: {\n          outline: null,\n          ...data.ui.searchTerms,\n        },\n      },\n    }\n  }\n  return data\n}\n\nmodule.exports = migrate\n","function migrate(data) {\n  if (data.file && data.file.version === '2022.5.18') return data\n\n  // Web files might not have a `ui` key.\n  if (data.ui) {\n    return {\n      ...data,\n      ui: {\n        ...data.ui,\n        searchTerms: {\n          notes: null,\n          characters: null,\n          places: null,\n          tags: null,\n          ...data.ui.searchTerms,\n        },\n      },\n    }\n  }\n  return data\n}\n\nmodule.exports = migrate\n","import m0_6 from './0.6'\nimport m0_7 from './0.7'\nimport m0_8 from './0.8'\nimport m0_9 from './0.9'\nimport m1_0 from './1.0'\nimport m1_2 from './1.2'\nimport m1_3 from './1.3'\nimport m2020_3_4 from './2020.3.4'\nimport m2020_3_9 from './2020.3.9'\nimport m2020_3_16 from './2020.3.16'\nimport m2020_3_26 from './2020.3.26'\nimport m2020_4_3 from './2020.4.3'\nimport m2020_5_5 from './2020.5.5'\nimport m2020_6_12 from './2020.6.12'\nimport m2020_7_7 from './2020.7.7'\nimport m2020_8_28 from './2020.8.28'\nimport m2020_11_16 from './2020.11.16'\nimport m2021_1_15 from './2021.1.15'\nimport m2021_2_4 from './2021.2.4'\nimport m2021_2_8 from './2021.2.8'\nimport m2021_4_13 from './2021.4.13'\nimport m2021_6_9 from './2021.6.9'\nimport m2021_8_1 from './2021.8.1'\nimport m2022_5_17 from './2022.5.17'\nimport m2022_5_17_1 from './2022.5.17-1'\n\nexport default {\n  m0_6,\n  m0_7,\n  m0_8,\n  m0_9,\n  m1_0,\n  m1_2,\n  m1_3,\n  m2020_3_4,\n  m2020_3_9,\n  m2020_3_16,\n  m2020_3_26,\n  m2020_4_3,\n  m2020_5_5,\n  m2020_6_12,\n  m2020_7_7,\n  m2020_8_28,\n  m2020_11_16,\n  m2021_1_15,\n  m2021_2_4,\n  m2021_2_8,\n  m2021_4_13,\n  m2021_6_9,\n  m2021_8_1,\n  m2022_5_17,\n  m2022_5_17_1,\n}\n","import { greaterBySemver } from './greaterBySemver'\n\n// NOTE: to indicate that a migration has breaking changes, use a *\n// e.g. '*m2022_9_21'\n\nconst list = [\n  'm0_6',\n  'm0_7',\n  'm0_8',\n  'm0_9',\n  'm1_0',\n  'm1_2',\n  'm1_3',\n  'm2020_3_4',\n  'm2020_3_9',\n  'm2020_3_16',\n  'm2020_3_26',\n  'm2020_4_3',\n  'm2020_5_5',\n  'm2020_6_12',\n  'm2020_7_7',\n  'm2020_8_28',\n  'm2020_11_16',\n  'm2021_1_15',\n  'm2021_2_4',\n  'm2021_2_8',\n  'm2021_4_13',\n  'm2021_6_9',\n  'm2021_8_1',\n  'm2022_5_17',\n  'm2022_5_17_1',\n]\n\nexport default list.sort((thisVersion, thatVersion) =>\n  greaterBySemver(thisVersion, thatVersion) ? 1 : -1\n)\n","import { cloneDeep, difference, first, last } from 'lodash'\nimport semverGt from 'semver/functions/gt'\nimport semverLte from 'semver/functions/lte'\nimport migrationsList from './migrations_list'\nimport migrators from './migrations'\nimport { toSemver } from './toSemver'\nimport { withoutProtocol } from '../helpers/file'\n\nexport default function Migrator(data, fileURL, fileVersion, appVersion, backupFunction, logger) {\n  const logError = (...args) => (logger ? logger.error(...args) : console.error(...args))\n\n  this.data = cloneDeep(data)\n  this.fileVersion = fileVersion\n  this.appVersion = appVersion\n  this.migrations = []\n  this.migrationsChecked = false\n  this.backupFunction = backupFunction\n\n  if (!this.data.file.initialVersion) {\n    this.data.file.initialVersion = this.fileVersion\n  }\n\n  this.migrate = function (callback) {\n    // save a backup file\n    if (this.backupFunction) {\n      this.backupFunction(\n        `${withoutProtocol(fileURL).replace('.pltr', '')}-${this.fileVersion}-backup.pltr`,\n        JSON.stringify(this.data, null, 2),\n        (err) => {\n          if (err) {\n            logError(err)\n            callback('backup', false)\n          } else {\n            this.startMigrations(callback)\n          }\n        }\n      )\n    } else {\n      this.startMigrations(callback)\n    }\n  }\n\n  this.startMigrations = function (callback) {\n    let migrations = this.getMigrations()\n    migrations.forEach((m) => {\n      const cleaned = m.replace('*', '')\n      this.data = migrators[cleaned](this.data)\n      if (!this.data.file.appliedMigrations) {\n        this.data.file.appliedMigrations = []\n      }\n      this.data.file.appliedMigrations.push(m)\n    })\n    this.data.file.version = this.appVersion\n    callback(null, this.data)\n  }\n\n  this.needsToMigrate = function () {\n    if (!this.fileVersion) return false\n    return this.getMigrations().length\n  }\n\n  this.plottrBehindFile = function () {\n    // file version is greater than app\n    if (semverGt(this.fileVersion, this.appVersion)) {\n      // check if the file has a breaking migration that is ahead of the current version\n      const appliedMigrations = this.data.file.appliedMigrations || []\n      const breakingMigrations = appliedMigrations.filter((mig) => mig.includes('*'))\n      return breakingMigrations.some((mig) => semverGt(toSemver(mig), this.appVersion))\n    } else {\n      return false\n    }\n  }\n\n  this.getMigrations = function () {\n    if (this.migrationsChecked) {\n      return this.migrations\n    }\n\n    this.migrations = migrationsList.filter((version) => {\n      if (!this.fileVersion) return true\n      const initialVersion = this.data.file.initialVersion\n      const semVerVersion = toSemver(version)\n      return semverLte(semVerVersion, this.appVersion) && semverGt(semVerVersion, initialVersion)\n    })\n    const appliedMigrations = this.data.file.appliedMigrations\n    this.migrations = difference(this.migrations, appliedMigrations)\n    if (appliedMigrations && appliedMigrations.length && this.migrations.length) {\n      const latestAppliedMigration = toSemver(last(appliedMigrations))\n      const firstMigrationToApply = toSemver(first(this.migrations))\n      if (semverGt(latestAppliedMigration, firstMigrationToApply)) {\n        throw new Error(\n          `Can't migrate from version ${latestAppliedMigration} to version\n${firstMigrationToApply}`\n        )\n      }\n    }\n    this.migrationsChecked = true\n    return this.migrations\n  }\n}\n","import semverCoerce from 'semver/functions/coerce'\n\nexport const toSemver = (version) => {\n  return semverCoerce(version.replace('m', '').replace(/_/g, '.').replace('*', ''))\n}\n","import { RECORD_LAST_ACTION, RESET_ACTION_RECORDER } from '../constants/ActionTypes'\n\nconst INITIAL_STATE = {\n  editCount: 0,\n  lastAction: null,\n  lastActionKeys: [],\n  startTimestamp: null,\n  lastActionTimestamp: null,\n}\n\nconst actionsReducer = (state = INITIAL_STATE, action) => {\n  if (action.type === RESET_ACTION_RECORDER) return INITIAL_STATE\n\n  if (action.type !== RECORD_LAST_ACTION) return state\n\n  const { lastAction, lastActionKeys, lastActionTimestamp } = action\n  return {\n    editCount: state.editCount + 1,\n    startTimestamp: state.startTimestamp || lastActionTimestamp,\n    lastAction,\n    lastActionKeys,\n    lastActionTimestamp,\n  }\n}\n\nexport default actionsReducer\n","import { finishCheckingFileToLoad } from '../actions/applicationState'\nimport {\n  START_CREATING_CLOUD_FILE,\n  FINISH_CREATING_CLOUD_FILE,\n  START_UPLOADING_FILE_TO_CLOUD,\n  FINISH_UPLOADING_FILE_TO_CLOUD,\n  START_LOADING_FILE,\n  FINISH_LOADING_FILE,\n  ERROR_LOADING_FILE,\n  START_RENAMING_FILE,\n  FINISH_RENAMING_FILE,\n  START_LOGGING_IN,\n  FINISH_LOGGING_IN,\n  START_LOADING_A_LICENSE_TYPE,\n  FINISH_LOADING_A_LICENSE_TYPE,\n  START_LOADING_A_SETTINGS_TYPE,\n  FINISH_LOADING_A_SETTINGS_TYPE,\n  START_CHECKING_SESSION,\n  FINISH_CHECKING_SESSION,\n  START_LOADING_FILE_LIST,\n  FINISH_LOADING_FILE_LIST,\n  START_DELETING_FILE,\n  FINISH_DELETING_FILE,\n  START_CHECKING_FILE_TO_LOAD,\n  FINISH_CHECKING_FILE_TO_LOAD,\n  ADVANCE_PRO_ONBOARDING,\n  START_ONBOARDING,\n  FINISH_ONBOARDING,\n  START_SAVING_FILE_AS,\n  FINISH_SAVING_FILE_AS,\n  START_ONBOARDING_FROM_ROOT,\n  START_IMPORTING_SCRIVENER,\n  FINISH_IMPORTING_SCRIVENER,\n  PROMPT_TO_UPLOAD_FILE,\n  DISMISS_PROMPT_TO_UPLOAD_FILE,\n  REQUEST_CHECK_FOR_UPDATE,\n  PROCESS_RESPONSE_TO_REQUEST_UPDATE,\n  DISMISS_UPDATE_NOTIFIER,\n  SET_UPDATE_DOWNLOAD_PROGRESS,\n  AUTO_CHECK_FOR_UPDATES,\n  BUSY_WITH_WORK_THAT_PREVENTS_QUITTING,\n  DONE_WITH_WORK_THAT_PREVENTS_QUITTING,\n} from '../constants/ActionTypes'\n\nconst INITIAL_STATE = {\n  project: {\n    loadingFileList: false,\n    fileListLoaded: false,\n    importingNewProject: false,\n  },\n  file: {\n    filePathToUpload: null,\n    checkingFileToLoad: false,\n    checkedFileToLoad: false,\n    creatingCloudFile: false,\n    uploadingFileToCloud: false,\n    loadingFile: false,\n    fileLoaded: false,\n    renamingFile: false,\n    deletingFile: false,\n    savingFileAs: false,\n  },\n  session: {\n    loggingIn: false,\n    checkingSession: false,\n    sessionChecked: false,\n  },\n  license: {\n    loadingTrial: false,\n    trialLoaded: false,\n    loadingLicense: false,\n    licenseLoaded: false,\n    checkingProSubscription: false,\n    proSubscriptionChecked: false,\n  },\n  settings: {\n    loadingSettings: false,\n    settingsLoaded: false,\n    loadingExportConfig: false,\n    exportConfigLoaded: false,\n  },\n  proOnboarding: {\n    isOnboarding: false,\n    isOnboardingFromRoot: false,\n    onboardingStep: null,\n  },\n  update: {\n    requestedCheck: false,\n    shouldCheck: true,\n    checking: false,\n    available: false,\n    percentDownloaded: 0,\n    error: null,\n    info: null,\n    notifierHidden: true,\n  },\n  work: {\n    busy: false,\n  },\n}\n\nconst startLoadingLicenseType = (licenseState, licenseType) => {\n  switch (licenseType) {\n    case 'trial': {\n      return {\n        ...licenseState,\n        loadingTrial: true,\n      }\n    }\n    case 'license': {\n      return {\n        ...licenseState,\n        loadingLicense: true,\n      }\n    }\n    case 'proSubscription': {\n      return {\n        ...licenseState,\n        checkingProSubscription: true,\n      }\n    }\n    default: {\n      return licenseState\n    }\n  }\n}\n\nconst finishLoadingLicenseType = (licenseState, licenseType) => {\n  switch (licenseType) {\n    case 'trial': {\n      return {\n        ...licenseState,\n        loadingTrial: false,\n        trialLoaded: true,\n      }\n    }\n    case 'license': {\n      return {\n        ...licenseState,\n        loadingLicense: false,\n        licenseLoaded: true,\n      }\n    }\n    case 'proSubscription': {\n      return {\n        ...licenseState,\n        checkingProSubscription: false,\n        proSubscriptionChecked: true,\n      }\n    }\n    default: {\n      return licenseState\n    }\n  }\n}\n\nconst startLoadingSettingsType = (settingsState, settingsType) => {\n  switch (settingsType) {\n    case 'exportConfig': {\n      return {\n        ...settingsState,\n        loadingExportConfig: true,\n      }\n    }\n    case 'settings': {\n      return {\n        ...settingsState,\n        loadingSettings: true,\n      }\n    }\n    default: {\n      return settingsState\n    }\n  }\n}\n\nconst finishLoadingSettingsType = (settingsState, settingsType) => {\n  switch (settingsType) {\n    case 'exportConfig': {\n      return {\n        ...settingsState,\n        loadingExportConfig: false,\n        exportConfigLoaded: true,\n      }\n    }\n    case 'settings': {\n      return {\n        ...settingsState,\n        loadingSettings: false,\n        settingsLoaded: true,\n      }\n    }\n    default: {\n      return settingsState\n    }\n  }\n}\n\nfunction applicationStateReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case START_LOADING_FILE_LIST: {\n      return {\n        ...state,\n        project: {\n          ...state.project,\n          loadingFileList: true,\n        },\n      }\n    }\n    case FINISH_LOADING_FILE_LIST: {\n      return {\n        ...state,\n        project: {\n          ...state.project,\n          fileListLoaded: true,\n          loadingFileList: false,\n        },\n      }\n    }\n    case START_CREATING_CLOUD_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          creatingCloudFile: true,\n        },\n      }\n    }\n    case FINISH_CREATING_CLOUD_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          creatingCloudFile: false,\n        },\n      }\n    }\n    case START_UPLOADING_FILE_TO_CLOUD: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          uploadingFileToCloud: true,\n        },\n      }\n    }\n    case FINISH_UPLOADING_FILE_TO_CLOUD: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          uploadingFileToCloud: false,\n        },\n      }\n    }\n    case START_CHECKING_FILE_TO_LOAD: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          checkingFileToLoad: true,\n        },\n      }\n    }\n    case FINISH_CHECKING_FILE_TO_LOAD: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          checkingFileToLoad: false,\n          checkedFileToLoad: true,\n        },\n      }\n    }\n    case PROMPT_TO_UPLOAD_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          filePathToUpload: action.filePath,\n        },\n      }\n    }\n    case DISMISS_PROMPT_TO_UPLOAD_FILE: {\n      return applicationStateReducer(\n        {\n          ...state,\n          file: {\n            ...state.file,\n            filePathToUpload: null,\n          },\n        },\n        finishCheckingFileToLoad()\n      )\n    }\n    case START_LOADING_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          loadingFile: true,\n          fileLoaded: false,\n        },\n      }\n    }\n    case FINISH_LOADING_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          loadingFile: false,\n          fileLoaded: true,\n        },\n      }\n    }\n    case ERROR_LOADING_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          errorLoadingFile: true,\n          errorIsUpdateError: action.errorIsUpdateError,\n          loadingFile: true,\n          fileLoaded: false,\n        },\n      }\n    }\n    case START_RENAMING_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          renamingFile: true,\n        },\n      }\n    }\n    case FINISH_RENAMING_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          renamingFile: false,\n        },\n      }\n    }\n    case START_DELETING_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          deletingFile: true,\n        },\n      }\n    }\n    case FINISH_DELETING_FILE: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          deletingFile: false,\n        },\n      }\n    }\n    case START_SAVING_FILE_AS: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          savingFileAs: true,\n        },\n      }\n    }\n    case FINISH_SAVING_FILE_AS: {\n      return {\n        ...state,\n        file: {\n          ...state.file,\n          savingFileAs: false,\n        },\n      }\n    }\n    case START_LOGGING_IN: {\n      return {\n        ...state,\n        session: {\n          ...state.session,\n          loggingIn: true,\n        },\n      }\n    }\n    case FINISH_LOGGING_IN: {\n      return {\n        ...state,\n        session: {\n          ...state.session,\n          loggingIn: false,\n        },\n      }\n    }\n    case START_CHECKING_SESSION: {\n      return {\n        ...state,\n        session: {\n          ...state.session,\n          checkingSession: true,\n        },\n      }\n    }\n    case FINISH_CHECKING_SESSION: {\n      return {\n        ...state,\n        session: {\n          ...state.session,\n          checkingSession: false,\n          sessionChecked: true,\n        },\n      }\n    }\n    case START_LOADING_A_LICENSE_TYPE: {\n      return {\n        ...state,\n        license: {\n          ...startLoadingLicenseType(state.license, action.licenseType),\n        },\n      }\n    }\n    case FINISH_LOADING_A_LICENSE_TYPE: {\n      return {\n        ...state,\n        license: {\n          ...finishLoadingLicenseType(state.license, action.licenseType),\n        },\n      }\n    }\n    case START_LOADING_A_SETTINGS_TYPE: {\n      return {\n        ...state,\n        settings: {\n          ...startLoadingSettingsType(state.settings, action.settingsType),\n        },\n      }\n    }\n    case FINISH_LOADING_A_SETTINGS_TYPE: {\n      return {\n        ...state,\n        settings: {\n          ...finishLoadingSettingsType(state.settings, action.settingsType),\n        },\n      }\n    }\n    case ADVANCE_PRO_ONBOARDING: {\n      if (!state.proOnboarding.isOnboarding && !state.proOnboarding.isOnboardingFromRoot) {\n        return state\n      }\n      const onboardingStep = state.proOnboarding.onboardingStep\n        ? state.proOnboarding.onboardingStep\n        : 0\n      return {\n        ...state,\n        proOnboarding: {\n          ...state.proOnboarding,\n          onboardingStep: onboardingStep + 1,\n        },\n      }\n    }\n    case START_ONBOARDING: {\n      if (state.proOnboarding.isOnboarding || state.proOnboarding.isOnboardingFromRoot) {\n        return state\n      }\n      return {\n        ...state,\n        proOnboarding: {\n          ...state.proOnboarding,\n          isOnboarding: true,\n          onboardingStep: 0,\n        },\n        license: {\n          ...state.license,\n          checkingProSubscription: false,\n          proSubscriptionChecked: false,\n        },\n        session: {\n          loggingIn: false,\n        },\n      }\n    }\n    case START_ONBOARDING_FROM_ROOT: {\n      if (state.proOnboarding.isOnboardingFromRoot || state.proOnboarding.isOnboardingFromRoot) {\n        return state\n      }\n      return {\n        ...state,\n        proOnboarding: {\n          ...state.proOnboarding,\n          isOnboardingFromRoot: true,\n          onboardingStep: 0,\n        },\n        license: {\n          ...state.license,\n          checkingProSubscription: false,\n          proSubscriptionChecked: false,\n        },\n      }\n    }\n    default: {\n      return state\n    }\n    case FINISH_ONBOARDING: {\n      if (!state.proOnboarding.isOnboarding && !state.proOnboarding.isOnboardingFromRoot) {\n        return state\n      }\n      return {\n        ...state,\n        proOnboarding: {\n          ...state.proOnboarding,\n          isOnboarding: false,\n          isOnboardingFromRoot: false,\n        },\n      }\n    }\n\n    case START_IMPORTING_SCRIVENER: {\n      return {\n        ...state,\n        project: {\n          ...state.project,\n          isImportingNewProject: true,\n        },\n      }\n    }\n\n    case FINISH_IMPORTING_SCRIVENER: {\n      return {\n        ...state,\n        project: {\n          ...state.project,\n          isImportingNewProject: false,\n        },\n      }\n    }\n    case REQUEST_CHECK_FOR_UPDATE: {\n      return {\n        ...state,\n        update: {\n          ...state.update,\n          requestedCheck: true,\n          checking: true,\n          shouldCheck: false,\n          notifierHidden: false,\n        },\n      }\n    }\n    case AUTO_CHECK_FOR_UPDATES: {\n      return {\n        ...state,\n        update: {\n          ...state.update,\n          checking: true,\n          shouldCheck: false,\n          notifierHidden: false,\n        },\n      }\n    }\n    case PROCESS_RESPONSE_TO_REQUEST_UPDATE: {\n      const { available, error, info } = action\n\n      return {\n        ...state,\n        update: {\n          ...state.update,\n          checking: false,\n          available,\n          error,\n          info,\n        },\n      }\n    }\n    case DISMISS_UPDATE_NOTIFIER: {\n      return {\n        ...state,\n        update: {\n          ...state.update,\n          notifierHidden: true,\n          error: null,\n          info: null,\n        },\n      }\n    }\n    case SET_UPDATE_DOWNLOAD_PROGRESS: {\n      const { percent } = action\n      if (percent === state.update.percentDownloaded) {\n        return state\n      }\n\n      return {\n        ...state,\n        update: {\n          ...state.update,\n          percentDownloaded: percent,\n          downloadInProgress: percent < 100,\n        },\n      }\n    }\n    case BUSY_WITH_WORK_THAT_PREVENTS_QUITTING: {\n      return {\n        ...state,\n        work: {\n          busy: true,\n        },\n      }\n    }\n    case DONE_WITH_WORK_THAT_PREVENTS_QUITTING: {\n      return {\n        ...state,\n        work: {\n          busy: false,\n        },\n      }\n    }\n  }\n}\n\nexport default applicationStateReducer\n","/**\n * Produce a new object in which a function is applied to all of the\n * custom attributes of a particular type.\n */\nexport const applyToCustomAttributes = (object, func, customAttributes, customAttributeType) => {\n  if (!customAttributes) return object\n\n  const customAttributeValues = customAttributes.reduce((attributes, { name, type }) => {\n    if (type === customAttributeType && object[name]) {\n      return {\n        ...attributes,\n        [name]: func(object[name]),\n      }\n    }\n    return attributes\n  }, {})\n  return {\n    ...object,\n    ...customAttributeValues,\n  }\n}\n","import { FILE_LOADED } from '../../v1/constants/ActionTypes'\nimport {\n  ATTACH_BOOK_TO_CHARACTER,\n  ATTACH_TAG_TO_CHARACTER,\n  CREATE_CHARACTER_ATTRIBUTE,\n  DELETE_CHARACTER_ATTRIBUTE,\n  EDIT_CHARACTER_ATTRIBUTE_METADATA,\n  EDIT_CHARACTER_SHORT_DESCRIPTION,\n  EDIT_CHARACTER_DESCRIPTION,\n  EDIT_CHARACTER_CATEGORY,\n  REMOVE_TAG_FROM_CHARACTER,\n  LOAD_ATTRIBUTES,\n} from '../constants/ActionTypes'\n\nconst EMPTY_ATTRIBUTE_STATE = []\n\nconst INITIAL_STATE = {\n  characters: EMPTY_ATTRIBUTE_STATE,\n}\n\nconst attributesReducer =\n  (dataRepairers) =>\n  (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n      case CREATE_CHARACTER_ATTRIBUTE: {\n        const characterAttributeState = state.characters || EMPTY_ATTRIBUTE_STATE\n\n        return {\n          ...state,\n          characters: [\n            ...characterAttributeState,\n            { ...action.attribute, id: action.nextAttributeId },\n          ],\n        }\n      }\n\n      case EDIT_CHARACTER_ATTRIBUTE_METADATA: {\n        const characterAttributeState = state.characters || EMPTY_ATTRIBUTE_STATE\n\n        return {\n          ...state,\n          characters: [\n            ...characterAttributeState.map((attribute) => {\n              if (attribute.id === action.id) {\n                return {\n                  ...attribute,\n                  name: action.name,\n                  type: action.attributeType,\n                }\n              }\n\n              return attribute\n            }),\n          ],\n        }\n      }\n\n      case DELETE_CHARACTER_ATTRIBUTE: {\n        const characterAttributeState = state.characters || EMPTY_ATTRIBUTE_STATE\n\n        return {\n          ...state,\n          characters: [\n            ...characterAttributeState.filter((attribute) => {\n              return attribute.id !== action.id\n            }),\n          ],\n        }\n      }\n\n      case REMOVE_TAG_FROM_CHARACTER:\n      case ATTACH_TAG_TO_CHARACTER: {\n        const attributeExists = state.characters.some((attribute) => {\n          return attribute.id === action.attributeId\n        })\n        if (attributeExists) {\n          return state\n        }\n\n        return {\n          ...state,\n          characters: [\n            ...state.characters,\n            {\n              name: 'tags',\n              type: 'base-attribute',\n              id: action.attributeId,\n            },\n          ],\n        }\n      }\n\n      case EDIT_CHARACTER_SHORT_DESCRIPTION: {\n        const attributeExists = state.characters.some((attribute) => {\n          return attribute.id === action.attributeId\n        })\n        if (attributeExists) {\n          return state\n        }\n\n        return {\n          ...state,\n          characters: [\n            ...state.characters,\n            {\n              name: 'shortDescription',\n              type: 'base-attribute',\n              id: action.attributeId,\n            },\n          ],\n        }\n      }\n\n      case EDIT_CHARACTER_DESCRIPTION: {\n        const attributeExists = state.characters.some((attribute) => {\n          return attribute.id === action.attributeId\n        })\n        if (attributeExists) {\n          return state\n        }\n\n        return {\n          ...state,\n          characters: [\n            ...state.characters,\n            {\n              name: 'description',\n              type: 'base-attribute',\n              id: action.attributeId,\n            },\n          ],\n        }\n      }\n\n      case EDIT_CHARACTER_CATEGORY: {\n        const attributeExists = state.characters.some((attribute) => {\n          return attribute.id === action.attributeId\n        })\n        if (attributeExists) {\n          return state\n        }\n\n        return {\n          ...state,\n          characters: [\n            ...state.characters,\n            {\n              name: 'category',\n              type: 'base-attribute',\n              id: action.attributeId,\n            },\n          ],\n        }\n      }\n\n      case FILE_LOADED: {\n        return action.data.attributes || INITIAL_STATE\n      }\n\n      case LOAD_ATTRIBUTES: {\n        return action.attributes\n      }\n\n      default: {\n        return state\n      }\n    }\n  }\n\nexport default attributesReducer\n","import { SET_BACKUP_FOLDERS } from '../constants/ActionTypes'\n\n/* Example state:\n * {\n *   folders: [{\n *     backups: ['a-file.pltr'],\n *     path: '/file/path',\n *     date: Date(),\n *   }]\n * }\n */\n\nconst INITIAL_STATE = {\n  folders: [],\n}\n\nconst backupsReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SET_BACKUP_FOLDERS: {\n      return {\n        ...state,\n        folders: action.folders,\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default backupsReducer\n","import {\n  ADD_LINES_FROM_TEMPLATE,\n  ADD_BEAT,\n  AUTO_SORT_BEAT,\n  CLEAR_TEMPLATE_FROM_TIMELINE,\n  DELETE_BEAT,\n  EDIT_BEAT_TITLE,\n  FILE_LOADED,\n  NEW_FILE,\n  REORDER_BEATS,\n  REORDER_CARDS_IN_BEAT,\n  RESET,\n  RESET_TIMELINE,\n  DELETE_BOOK,\n  INSERT_BEAT,\n  COLLAPSE_BEAT,\n  EXPAND_BEAT,\n  SET_HIERARCHY_LEVELS,\n  LOAD_BEATS,\n  ADD_BOOK_FROM_TEMPLATE,\n  ADD_BOOK,\n  APPEND_TOP_LEVEL_BEAT,\n} from '../constants/ActionTypes'\nimport { beat as defaultBeat } from '../store/initialState'\nimport { newFileBeats } from '../store/newFileState'\nimport { positionReset, nextPositionInBook, moveNextToSibling } from '../helpers/beats'\nimport { associateWithBroadestScope } from '../helpers/lines'\nimport * as tree from './tree'\nimport { nextId, adjustHierarchyLevels } from '../helpers/beats'\nimport { clone } from 'lodash'\n\n// bookId is:\n// Union of:\n//  - bookId: Number,\n//  - \"series\": String literal,\n\nconst add = tree.addNode('id')\nconst newTree = tree.newTree('id')\n\nconst defaultBeats = add(clone(newTree), null, defaultBeat)\n\nconst INITIAL_STATE = {\n  1: defaultBeats,\n  series: defaultBeats,\n}\n\nconst addNodeToState = (state, bookId, position, title, parentId) => {\n  const node = {\n    autoOutlineSort: true,\n    bookId: bookId,\n    fromTemplateId: null,\n    id: nextId(state),\n    position,\n    time: 0,\n    title: title,\n    expanded: true,\n  }\n  const tree = state[bookId] || clone(newTree)\n  return {\n    ...state,\n    [bookId]: add(tree, parentId, node),\n  }\n}\n\nconst beats =\n  (dataReparires) =>\n  (state = INITIAL_STATE, action) => {\n    const actionBookId = associateWithBroadestScope(action.bookId || action.newBookId)\n\n    switch (action.type) {\n      case ADD_BOOK:\n      case ADD_BEAT: {\n        // If we don't get a parent id then make this a root node\n        const title = action.title || defaultBeat.title\n        const parentId = action.parentId || null\n        const position = nextPositionInBook(state, actionBookId, parentId)\n        return addNodeToState(state, actionBookId, position, title, parentId)\n      }\n\n      case ADD_LINES_FROM_TEMPLATE: {\n        if (action.createdNewBeats) {\n          return {\n            ...state,\n            [actionBookId]: action.newTree,\n          }\n        } else {\n          return state\n        }\n      }\n\n      case ADD_BOOK_FROM_TEMPLATE: {\n        const beats = action.templateData.beats['1']\n        const idMap = {}\n        // this recreates the template's tree but with new ids\n        const newBeats = tree.reduce('id')(\n          beats,\n          (newBeatTree, nextBeat, parentId) => {\n            const newId = action.nextBeatId + nextBeat.id // give it a new id\n            idMap[nextBeat.id] = newId\n            const newParentId = idMap[parentId] || null\n            const newBeat = {\n              ...clone(nextBeat),\n              id: newId,\n              bookId: actionBookId, // add it to the new book\n              fromTemplateId: action.templateData.id,\n            }\n            return tree.addNode('id')(newBeatTree, newParentId, newBeat)\n          },\n          clone(newTree)\n        )\n        return {\n          ...state,\n          [actionBookId]: newBeats,\n        }\n      }\n\n      case SET_HIERARCHY_LEVELS: {\n        const { hierarchyLevels } = action\n        const targetHierarchyDepth = hierarchyLevels.length - 1\n        const adjustHierarchy = adjustHierarchyLevels(targetHierarchyDepth)\n\n        return Object.keys(state).reduce((newState, bookId) => {\n          return {\n            ...newState,\n            [bookId]: adjustHierarchy(newState[bookId], nextId(state), bookId),\n          }\n        }, state)\n      }\n\n      case EDIT_BEAT_TITLE:\n        return {\n          ...state,\n          [actionBookId]: tree.editNode(state[actionBookId], action.id, { title: action.title }),\n        }\n\n      case DELETE_BOOK: {\n        const newState = clone(state)\n        delete newState[action.id]\n        return newState\n      }\n\n      case DELETE_BEAT: {\n        return {\n          ...state,\n          [actionBookId]: positionReset(tree.deleteNode(state[actionBookId], action.id)),\n        }\n      }\n\n      case REORDER_BEATS:\n        return {\n          ...state,\n          [actionBookId]: moveNextToSibling(\n            state[actionBookId],\n            action.beatId,\n            action.beatDroppedOnto\n          ),\n        }\n\n      case INSERT_BEAT: {\n        if (!action.peerBeatId) {\n          const newState = addNodeToState(\n            state,\n            actionBookId,\n            -0.5,\n            'auto',\n            action.parentId || null\n          )\n\n          return {\n            ...newState,\n            [actionBookId]: positionReset(newState[actionBookId]),\n          }\n        }\n        // If we don't get a parent id then make this a root node\n        const parentId = tree.nodeParent(state[actionBookId], action.peerBeatId) || null\n        const position = tree.findNode(state[actionBookId], action.peerBeatId).position + 0.5 // new same-level cards now appear BEFORE so user can see they have been added\n        const node = {\n          autoOutlineSort: true,\n          bookId: actionBookId,\n          fromTemplateId: null,\n          id: nextId(state),\n          // Will be reset by `moveNextToSibling'\n          position,\n          time: 0,\n          title: 'auto',\n        }\n        const newState = add(state[actionBookId], parentId, node)\n        return {\n          ...state,\n          [actionBookId]: positionReset(newState),\n        }\n      }\n\n      case REORDER_CARDS_IN_BEAT:\n        return {\n          ...state,\n          [actionBookId]: tree.editNode(state[actionBookId], action.beatId, {\n            autoOutlineSort: false,\n          }),\n        }\n\n      case AUTO_SORT_BEAT:\n        return {\n          ...state,\n          [actionBookId]: tree.editNode(state[actionBookId], action.id, { autoOutlineSort: true }),\n        }\n\n      case CLEAR_TEMPLATE_FROM_TIMELINE: {\n        return {\n          ...state,\n          [actionBookId]: positionReset(\n            tree.filter(\n              state[actionBookId],\n              ({ fromTemplateId }) => fromTemplateId !== action.templateId\n            )\n          ),\n        }\n      }\n\n      case RESET_TIMELINE: {\n        const withBeatsRemoved = {\n          ...state,\n          [actionBookId]: clone(newTree),\n        }\n        const newNode = {\n          id: nextId(withBeatsRemoved),\n          bookId: actionBookId,\n          position: 0,\n          title: 'auto',\n          time: 0,\n          autoOutlineSort: true,\n          fromTemplateId: null,\n        }\n        return {\n          ...withBeatsRemoved,\n          [actionBookId]: add(withBeatsRemoved[actionBookId], null, newNode),\n        }\n      }\n\n      case COLLAPSE_BEAT:\n        return {\n          ...state,\n          [actionBookId]: tree.editNode(state[actionBookId], action.id, { expanded: false }),\n        }\n\n      case EXPAND_BEAT:\n        return {\n          ...state,\n          [actionBookId]: tree.editNode(state[actionBookId], action.id, { expanded: true }),\n        }\n\n      case RESET:\n      case FILE_LOADED: {\n        const {\n          data: { beats },\n        } = action\n        let fixedBeats = beats\n        if (!beats.series) {\n          fixedBeats = {\n            ...fixedBeats,\n            series: clone(newTree),\n          }\n        }\n        action.data.books.allIds.forEach((id) => {\n          if (!beats[id]) {\n            fixedBeats = {\n              ...fixedBeats,\n              [id]: clone(newTree),\n            }\n          }\n        })\n        return fixedBeats\n      }\n\n      case APPEND_TOP_LEVEL_BEAT: {\n        const title = defaultBeat.title\n        const parentId = null\n        const position = nextPositionInBook(state, actionBookId)\n        return addNodeToState(state, actionBookId, position, title, parentId)\n      }\n\n      case NEW_FILE:\n        return newFileBeats\n\n      case LOAD_BEATS:\n        return action.beats\n\n      default:\n        return state\n    }\n  }\n\nexport default beats\n","import { mapValues } from 'lodash'\nimport {\n  FILE_LOADED,\n  NEW_FILE,\n  RESET,\n  EDIT_BOOK,\n  ADD_BOOK,\n  DELETE_BOOK,\n  REORDER_BOOKS,\n  ADD_LINES_FROM_TEMPLATE,\n  CLEAR_TEMPLATE_FROM_TIMELINE,\n  LOAD_BOOKS,\n  ADD_BOOK_FROM_TEMPLATE,\n  DELETE_IMAGE,\n  EDIT_BOOK_IMAGE,\n} from '../constants/ActionTypes'\nimport { isSeries } from '../helpers/books'\nimport { book as defaultBook } from '../store/initialState'\nimport { newFileBooks } from '../store/newFileState'\nimport { objectId } from '../store/newIds'\n\nconst initialState = {\n  allIds: [1],\n  1: defaultBook,\n}\n\nconst books =\n  (dataRepairers) =>\n  (state = initialState, action) => {\n    switch (action.type) {\n      case EDIT_BOOK:\n        return {\n          ...state,\n          [action.id]: {\n            ...state[action.id],\n            title: action.title,\n            premise: action.premise,\n            genre: action.genre,\n            theme: action.theme,\n          },\n        }\n\n      case EDIT_BOOK_IMAGE:\n        return {\n          ...state,\n          [action.id]: {\n            ...state[action.id],\n            imageId: action.imageId,\n          },\n        }\n\n      case ADD_BOOK_FROM_TEMPLATE:\n      case ADD_BOOK: {\n        const newBookId = objectId(state.allIds)\n        return {\n          ...state,\n          allIds: [...state.allIds, newBookId],\n          [newBookId]: {\n            ...action.book,\n            id: newBookId,\n            title: action.title,\n            premise: action.premise,\n            genre: action.genre,\n            theme: action.theme,\n            timelineTemplates: action.templateData ? [action.templateData.id] : [],\n          },\n        }\n      }\n\n      case REORDER_BOOKS:\n        return {\n          ...state,\n          allIds: action.ids,\n        }\n\n      case DELETE_BOOK: {\n        const newIds = [...state.allIds]\n        newIds.splice(newIds.indexOf(action.id), 1)\n        return state.allIds.reduce(\n          (acc, id) => {\n            if (id != action.id) {\n              acc[id] = state[id]\n            }\n            return acc\n          },\n          { allIds: newIds }\n        )\n      }\n\n      case ADD_LINES_FROM_TEMPLATE:\n        if (isSeries(action.bookId)) return state\n        return {\n          ...state,\n          [action.bookId]: {\n            ...state[action.bookId],\n            timelineTemplates: [...state[action.bookId].timelineTemplates, action.templateData.id],\n          },\n        }\n\n      case CLEAR_TEMPLATE_FROM_TIMELINE:\n        return {\n          ...state,\n          [action.bookId]: {\n            ...state[action.bookId],\n            timelineTemplates: state[action.bookId].timelineTemplates.filter(\n              (tt) => tt.id != action.templateId\n            ),\n          },\n        }\n\n      case DELETE_IMAGE:\n        return mapValues(state, (value, key) => {\n          if (\n            !Array.isArray(value) &&\n            value instanceof Object &&\n            value.imageId &&\n            value.imageId == action.id\n          ) {\n            return {\n              ...value,\n              imageId: null,\n            }\n          }\n          return value\n        })\n\n      case RESET:\n      case FILE_LOADED:\n        return action.data.books\n\n      case NEW_FILE:\n        return newFileBooks\n\n      case LOAD_BOOKS:\n        return action.books\n\n      default:\n        return state\n    }\n  }\n\nexport default books\n","import { cloneDeep } from 'lodash'\nimport {\n  ADD_CARD,\n  ADD_CARD_IN_BEAT,\n  ADD_LINES_FROM_TEMPLATE,\n  ATTACH_CHARACTER_TO_CARD,\n  ATTACH_PLACE_TO_CARD,\n  ATTACH_TAG_TO_CARD,\n  AUTO_SORT_BEAT,\n  CHANGE_BOOK,\n  CHANGE_LINE,\n  CHANGE_BEAT,\n  CLEAR_TEMPLATE_FROM_TIMELINE,\n  DELETE_BEAT,\n  DELETE_CARD,\n  DELETE_CHARACTER,\n  DELETE_LINE,\n  DELETE_PLACE,\n  DELETE_TAG,\n  EDIT_CARD_COORDINATES,\n  EDIT_CARD_DETAILS,\n  EDIT_CARDS_ATTRIBUTE,\n  FILE_LOADED,\n  NEW_FILE,\n  REMOVE_CHARACTER_FROM_CARD,\n  REMOVE_PLACE_FROM_CARD,\n  REMOVE_TAG_FROM_CARD,\n  REORDER_CARDS_IN_BEAT,\n  REORDER_CARDS_WITHIN_LINE,\n  RESET,\n  RESET_TIMELINE,\n  DELETE_BOOK,\n  LOAD_CARDS,\n  EDIT_CARD_TEMPLATE_ATTRIBUTE,\n  ADD_TEMPLATE_TO_CARD,\n  REMOVE_TEMPLATE_FROM_CARD,\n  ADD_BOOK_FROM_TEMPLATE,\n  DUPLICATE_CARD,\n  MOVE_CARD_TO_BOOK,\n  DUPLICATE_LINE,\n  MOVE_LINE,\n} from '../constants/ActionTypes'\nimport { newFileCards } from '../store/newFileState'\nimport { card as defaultCard } from '../store/initialState'\nimport { nextId } from '../store/newIds'\nimport { applyToCustomAttributes } from './applyToCustomAttributes'\nimport { repairIfPresent } from './repairIfPresent'\n\nconst INITIAL_STATE = []\n\nconst cards =\n  (dataRepairers) =>\n  (state = INITIAL_STATE, action) => {\n    const repair = repairIfPresent(dataRepairers)\n\n    switch (action.type) {\n      case ADD_CARD:\n        return [Object.assign({}, defaultCard, action.card, { id: nextId(state) }), ...state]\n\n      case ADD_CARD_IN_BEAT:\n        // add a new card\n        // and reorder cards in the beat\n        return [\n          Object.assign(\n            {},\n            defaultCard,\n            {\n              ...action.newCard,\n              ...(action.reorderIds ? { positionWithinLine: action.reorderIds.indexOf(null) } : {}),\n            },\n            { id: nextId(state) }\n          ),\n          ...state.map((card) => {\n            const idx = action.reorderIds.indexOf(card.id)\n            if (idx != -1) {\n              return Object.assign({}, card, { positionWithinLine: idx })\n            } else {\n              return card\n            }\n          }),\n        ]\n\n      case ADD_LINES_FROM_TEMPLATE: {\n        const newCards = action.templateData.cards.map((c) => {\n          const newCard = cloneDeep(c)\n          newCard.id = newCard.id + action.nextCardId // give it a new id\n          newCard.lineId = action.nextLineId + newCard.lineId // give it the correct lineId\n          newCard.beatId = action.cardToBeatIdMap[c.id] // give it the correct beatId\n          newCard.fromTemplateId = action.templateData.id\n          return newCard\n        })\n\n        return [...state, ...newCards]\n      }\n\n      case ADD_BOOK_FROM_TEMPLATE: {\n        const newCards = action.templateData.cards.map((c) => {\n          const newCard = cloneDeep(c)\n          newCard.id = newCard.id + action.nextCardId // give it a new id\n          newCard.lineId = action.nextLineId + newCard.lineId // give it the correct lineId\n          newCard.beatId = action.nextBeatId + newCard.beatId // give it the correct beatId\n          newCard.fromTemplateId = action.templateData.id\n          return newCard\n        })\n\n        return [...state, ...newCards]\n      }\n\n      case ADD_TEMPLATE_TO_CARD:\n        return state.map((card) => {\n          if (card.id === action.id) {\n            if (card.templates.some(({ id }) => id === action.templateData.id)) {\n              return card\n            }\n            const newCard = cloneDeep(card)\n            newCard.templates.push({\n              id: action.templateData.id,\n              version: action.templateData.version,\n              attributes: action.templateData.attributes,\n              value: '',\n            })\n            return newCard\n          } else {\n            return card\n          }\n        })\n\n      case EDIT_CARD_DETAILS:\n        if (!action.attributes) return state\n        return state.map((card) =>\n          card.id === action.id ? Object.assign({}, card, action.attributes) : card\n        )\n\n      case EDIT_CARD_COORDINATES: {\n        const diffObj = {\n          beatId: action.beatId,\n          lineId: action.lineId,\n        }\n        return state.map((card) =>\n          card.id === action.id ? Object.assign({}, card, diffObj) : card\n        )\n      }\n\n      case EDIT_CARD_TEMPLATE_ATTRIBUTE:\n        return state.map((card) => {\n          if (card.id === action.id) {\n            return {\n              ...card,\n              templates: card.templates.map((template) =>\n                template.id === action.templateId\n                  ? {\n                      ...template,\n                      attributes: template.attributes.map((attribute) =>\n                        attribute.name === action.name\n                          ? { ...attribute, value: action.value }\n                          : attribute\n                      ),\n                    }\n                  : template\n              ),\n            }\n          }\n          return card\n        })\n\n      case CHANGE_LINE: {\n        const diffObj = {\n          lineId: action.lineId,\n        }\n        return state.map((card) =>\n          card.id === action.id ? Object.assign({}, card, diffObj) : card\n        )\n      }\n\n      case CHANGE_BEAT: {\n        const diffObj = {\n          beatId: action.beatId,\n        }\n        return state.map((card) =>\n          card.id === action.id ? Object.assign({}, card, diffObj) : card\n        )\n      }\n\n      case CHANGE_BOOK:\n        return state.map((card) =>\n          card.id === action.id ? Object.assign({}, card, { bookId: action.bookId }) : card\n        )\n\n      case REORDER_CARDS_WITHIN_LINE:\n        return state.map((card) => {\n          const idx = action.ids.indexOf(card.id)\n          if (idx != -1) {\n            return Object.assign({}, card, {\n              positionWithinLine: idx,\n              beatId: action.beatId,\n              lineId: action.lineId,\n            })\n          } else {\n            return card\n          }\n        })\n\n      case REORDER_CARDS_IN_BEAT:\n        return state.map((card) => {\n          const idxInBeat = action.newOrderInBeat.indexOf(card.id)\n          let idxWithinLine = -1\n          if (action.newOrderWithinLine) idxWithinLine = action.newOrderWithinLine.indexOf(card.id)\n\n          if (idxWithinLine == -1 && idxInBeat == -1) {\n            return card\n          }\n\n          let newCard = { ...card }\n          // set beatId of the new-to-this-beat card (if any)\n          if (card.id == action.newIdInBeat) {\n            newCard.beatId = action.beatId\n          }\n          // change positions\n          if (idxWithinLine != -1) newCard.positionWithinLine = idxWithinLine\n          if (idxInBeat != -1) newCard.positionInBeat = idxInBeat\n\n          return newCard\n        })\n\n      case AUTO_SORT_BEAT:\n        return state.map((card) => {\n          let idToMatch = card.beatId\n          if (action.isSeries) idToMatch = card.beatId\n          if (card.beatId != idToMatch) return card\n\n          return Object.assign({}, card, { positionInBeat: 0 })\n        })\n\n      case DELETE_BOOK:\n        // remove the link for deleted books\n        // and delete cards that are on deleted lines\n        return state.reduce((acc, c) => {\n          if (c.bookId == action.id) {\n            c.bookId = null\n          }\n          if (!action.linesToDelete.includes(c.lineId)) {\n            acc.push(c)\n          }\n          return acc\n        }, [])\n\n      case DELETE_CARD:\n        return state.filter((card) => card.id !== action.id)\n\n      case DELETE_LINE:\n        return state.filter((card) => card.lineId !== action.id)\n\n      case DELETE_BEAT:\n        return state.filter((card) => card.beatId !== action.id)\n\n      case EDIT_CARDS_ATTRIBUTE:\n        if (\n          action.oldAttribute.type !== 'text' &&\n          action.oldAttribute.name === action.newAttribute.name\n        )\n          return state\n\n        return state.map((card) => {\n          const newCard = cloneDeep(card)\n\n          if (action.oldAttribute.name !== action.newAttribute.name) {\n            // Firebase doesn't support undefined, so use null when the attribute isn't set\n            newCard[action.newAttribute.name] = newCard[action.oldAttribute.name] || null\n            delete newCard[action.oldAttribute.name]\n          }\n\n          // reset value to blank string\n          // (if changing to something other than text type)\n          // see ../selectors/customAttributes.js for when this is allowed\n          if (action.oldAttribute.type === 'text') {\n            let description = newCard[action.newAttribute.name]\n            if (\n              !description ||\n              (description && description.length && typeof description !== 'string')\n            ) {\n              description = ''\n            }\n            newCard[action.newAttribute.name] = description\n          }\n          return newCard\n        })\n\n      case ATTACH_CHARACTER_TO_CARD:\n        return state.map((card) => {\n          let characters = cloneDeep(card.characters)\n          characters.push(action.characterId)\n          return card.id === action.id ? Object.assign({}, card, { characters: characters }) : card\n        })\n\n      case REMOVE_CHARACTER_FROM_CARD:\n        return state.map((card) => {\n          let characters = cloneDeep(card.characters)\n          characters.splice(characters.indexOf(action.characterId), 1)\n          return card.id === action.id ? Object.assign({}, card, { characters: characters }) : card\n        })\n\n      case ATTACH_PLACE_TO_CARD:\n        return state.map((card) => {\n          let places = cloneDeep(card.places)\n          places.push(action.placeId)\n          return card.id === action.id ? Object.assign({}, card, { places: places }) : card\n        })\n\n      case REMOVE_PLACE_FROM_CARD:\n        return state.map((card) => {\n          let places = cloneDeep(card.places)\n          places.splice(places.indexOf(action.placeId), 1)\n          return card.id === action.id ? Object.assign({}, card, { places: places }) : card\n        })\n\n      case ATTACH_TAG_TO_CARD:\n        return state.map((card) => {\n          let tags = cloneDeep(card.tags)\n          tags.push(action.tagId)\n          return card.id === action.id ? Object.assign({}, card, { tags: tags }) : card\n        })\n\n      case REMOVE_TAG_FROM_CARD:\n        return state.map((card) => {\n          let tags = cloneDeep(card.tags)\n          tags.splice(tags.indexOf(action.tagId), 1)\n          return card.id === action.id ? Object.assign({}, card, { tags: tags }) : card\n        })\n\n      case REMOVE_TEMPLATE_FROM_CARD:\n        return state.map((card) => {\n          if (card.id !== action.id) return card\n          const newTemplates = card.templates.filter((t) => t.id != action.templateId)\n          return Object.assign({}, card, { templates: newTemplates })\n        })\n\n      case DELETE_TAG:\n        return state.map((card) => {\n          if (card.tags.includes(action.id)) {\n            let tags = cloneDeep(card.tags)\n            tags.splice(tags.indexOf(action.id), 1)\n            return Object.assign({}, card, { tags: tags })\n          } else {\n            return card\n          }\n        })\n\n      case DELETE_CHARACTER:\n        return state.map((card) => {\n          if (card.characters.includes(action.id)) {\n            let characters = cloneDeep(card.characters)\n            characters.splice(characters.indexOf(action.id), 1)\n            return Object.assign({}, card, { characters: characters })\n          } else {\n            return card\n          }\n        })\n\n      case DELETE_PLACE:\n        return state.map((card) => {\n          if (card.places.includes(action.id)) {\n            let places = cloneDeep(card.places)\n            places.splice(places.indexOf(action.id), 1)\n            return Object.assign({}, card, { places: places })\n          } else {\n            return card\n          }\n        })\n\n      case RESET_TIMELINE:\n        // isSeries & beatIds & lineIds come from root reducer\n        return state.filter((card) => action.beatIds[card.beatId] || action.lineIds[card.lineId])\n\n      case CLEAR_TEMPLATE_FROM_TIMELINE:\n        // beatIds & lineIds come from root reducer\n        // they are ones that are NOT being removed\n        return state.filter((card) => action.beatIds[card.beatId] || action.lineIds[card.lineId])\n\n      case RESET:\n      case FILE_LOADED:\n        return action.data.cards.map((card) => {\n          const normalizeRCEContent = repair('normalizeRCEContent')\n          return {\n            ...card,\n            ...applyToCustomAttributes(\n              card,\n              normalizeRCEContent,\n              action.data.customAttributes.scenes,\n              'paragraph'\n            ),\n            description: normalizeRCEContent(card.description),\n          }\n        })\n\n      case NEW_FILE:\n        return newFileCards\n\n      case LOAD_CARDS:\n        return action.cards\n\n      case DUPLICATE_CARD: {\n        const existingCard = state.find(({ id }) => id === action.id)\n\n        // NOP if the card doesn't exist.\n        if (!existingCard) return state\n\n        const newId = nextId(state)\n        const highestPositionInLine = state.reduce((highestPositionInLine, nextCard) => {\n          if (nextCard.beatId !== existingCard.beatId) {\n            return Math.max(highestPositionInLine, nextCard.positionWithinLine)\n          }\n\n          return highestPositionInLine\n        })\n\n        return [\n          ...state,\n          { ...existingCard, id: newId, positionWithinLine: highestPositionInLine + 1 },\n        ]\n      }\n\n      // NOTE: it's undefined behaviour to supply a destinationBeatId\n      // and destinationLineId that don't correspond to actual beats\n      // and lines that intersect in a book.\n      case MOVE_CARD_TO_BOOK: {\n        const { destinationBeatId, destinationLineId, cardId } = action\n\n        // NOP if we're supplied with falsy destinations\n        if (!destinationBeatId || !destinationLineId) {\n          return state\n        }\n\n        const existingCard = state.find(({ id }) => id === cardId)\n\n        // NOP if the card doesn't exist.\n        if (!existingCard) {\n          return state\n        }\n\n        const highestPositionInLine = state.reduce((highestPositionInLine, nextCard) => {\n          if (nextCard.beatId !== existingCard.beatId) {\n            return Math.max(highestPositionInLine, nextCard.positionWithinLine)\n          }\n\n          return highestPositionInLine\n        })\n\n        return [\n          ...state.filter(({ id }) => cardId !== id),\n          {\n            ...existingCard,\n            beatId: destinationBeatId,\n            lineId: destinationLineId,\n            positionWithinLine: highestPositionInLine + 1,\n          },\n        ]\n      }\n\n      case DUPLICATE_LINE: {\n        const cardsOnLine = state.filter(({ lineId }) => lineId === action.id)\n        const newState = cloneDeep(cardsOnLine)\n          .map((card, index) => ({\n            ...card,\n            lineId: action.newLineId,\n          }))\n          .reduce((acc, nextCard) => {\n            return [{ ...nextCard, id: nextId(acc) }, ...acc]\n          }, state)\n        return newState\n      }\n\n      case MOVE_LINE: {\n        const { cardToBeatIdMapping } = action\n        return state.map((card) => {\n          if (cardToBeatIdMapping[card.id]) {\n            return {\n              ...card,\n              beatId: cardToBeatIdMapping[card.id],\n            }\n          } else {\n            return card\n          }\n        })\n      }\n\n      default:\n        return state || INITIAL_STATE\n    }\n  }\n\nexport default cards\n","import {\n  FILE_LOADED,\n  NEW_FILE,\n  RESET,\n  ADD_CHARACTER_CATEGORY,\n  DELETE_CHARACTER_CATEGORY,\n  UPDATE_CHARACTER_CATEGORY,\n  REORDER_CHARACTER_CATEGORY,\n  ADD_NOTE_CATEGORY,\n  DELETE_NOTE_CATEGORY,\n  UPDATE_NOTE_CATEGORY,\n  REORDER_NOTE_CATEGORY,\n  ADD_TAG_CATEGORY,\n  DELETE_TAG_CATEGORY,\n  UPDATE_TAG_CATEGORY,\n  REORDER_TAG_CATEGORY,\n  ADD_PLACE_CATEGORY,\n  DELETE_PLACE_CATEGORY,\n  UPDATE_PLACE_CATEGORY,\n  REORDER_PLACE_CATEGORY,\n  LOAD_CATEGORIES,\n} from '../constants/ActionTypes'\nimport { newFileCategories } from '../store/newFileState'\nimport { categories as defaultCategories } from '../store/initialState'\nimport { nextId } from '../store/newIds'\nimport { positionReset } from '../helpers/lists'\n\nconst categories =\n  (dataRepairers) =>\n  (state = defaultCategories, action) => {\n    switch (action.type) {\n      case RESET:\n      case FILE_LOADED:\n        return action.data.categories\n\n      case NEW_FILE:\n        return newFileCategories\n\n      case ADD_NOTE_CATEGORY:\n        return addCategory('notes', state, action)\n\n      case DELETE_NOTE_CATEGORY:\n        return deleteCategory('notes', state, action.category.id)\n\n      case UPDATE_NOTE_CATEGORY:\n        return updateCategory('notes', state, action)\n\n      case REORDER_NOTE_CATEGORY:\n        return reorderCategory('notes', state, action)\n\n      case ADD_CHARACTER_CATEGORY:\n        return addCategory('characters', state, action)\n\n      case DELETE_CHARACTER_CATEGORY:\n        return deleteCategory('characters', state, action.categoryId)\n\n      case UPDATE_CHARACTER_CATEGORY:\n        return updateCategory('characters', state, action)\n\n      case REORDER_CHARACTER_CATEGORY:\n        return reorderCategory('characters', state, action)\n\n      case ADD_TAG_CATEGORY:\n        return addCategory('tags', state, action)\n\n      case DELETE_TAG_CATEGORY:\n        return deleteCategory('tags', state, action.category.id)\n\n      case UPDATE_TAG_CATEGORY:\n        return updateCategory('tags', state, action)\n\n      case REORDER_TAG_CATEGORY:\n        return reorderCategory('tags', state, action)\n\n      case ADD_PLACE_CATEGORY:\n        return addCategory('places', state, action)\n\n      case DELETE_PLACE_CATEGORY:\n        return deleteCategory('places', state, action.category.id)\n\n      case UPDATE_PLACE_CATEGORY:\n        return updateCategory('places', state, action)\n\n      case REORDER_PLACE_CATEGORY:\n        return reorderCategory('places', state, action)\n\n      case LOAD_CATEGORIES:\n        return action.categories\n\n      default:\n        return state\n    }\n  }\n\nfunction addCategory(key, state, action) {\n  const id = nextId(state[key])\n  return {\n    ...state,\n    [key]: [\n      ...state[key],\n      {\n        id,\n        name: action.name,\n        position: state[key].length,\n      },\n    ],\n  }\n}\n\nfunction deleteCategory(key, state, categoryId) {\n  const index = state[key].findIndex((item) => item.id === categoryId)\n  if (index == -1) return state\n\n  const newArray = [...state[key].slice(0, index), ...state[key].slice(index + 1)]\n  newArray.forEach((category, i) => (category.position = i))\n\n  return {\n    ...state,\n    [key]: newArray,\n  }\n}\n\nfunction updateCategory(key, state, action) {\n  const index = state[key].findIndex((item) => item.id === action.category.id)\n  if (index === -1) return state\n\n  const newArray = [...state[key]]\n  newArray[index] = {\n    ...state[key][index],\n    ...action.category,\n  }\n\n  return {\n    ...state,\n    [key]: newArray,\n  }\n}\n\nfunction reorderCategory(key, state, { toIndex, category }) {\n  const copy = state[key].slice().filter(({ id }) => id != category.id)\n\n  copy.splice(toIndex, 0, category)\n  const newList = positionReset(copy) // have to change the value of the position attribute\n  return {\n    ...state,\n    [key]: newList,\n  }\n}\n\nexport default categories\n","import { cloneDeep, omit, uniq } from 'lodash'\nimport {\n  ADD_CHARACTER,\n  ADD_CHARACTER_WITH_TEMPLATE,\n  FILE_LOADED,\n  NEW_FILE,\n  RESET,\n  ATTACH_CHARACTER_TO_CARD,\n  REMOVE_CHARACTER_FROM_CARD,\n  ATTACH_CHARACTER_TO_NOTE,\n  REMOVE_CHARACTER_FROM_NOTE,\n  DELETE_NOTE,\n  DELETE_CARD,\n  DELETE_CHARACTER,\n  DELETE_IMAGE,\n  ATTACH_TAG_TO_CHARACTER,\n  REMOVE_TAG_FROM_CHARACTER,\n  ATTACH_BOOK_TO_CHARACTER,\n  REMOVE_BOOK_FROM_CHARACTER,\n  DELETE_CHARACTER_CATEGORY,\n  DELETE_TAG,\n  LOAD_CHARACTERS,\n  ADD_TEMPLATE_TO_CHARACTER,\n  REMOVE_TEMPLATE_FROM_CHARACTER,\n  EDIT_CHARACTER_TEMPLATE_ATTRIBUTE,\n  DUPLICATE_CHARACTER,\n  CREATE_CHARACTER_ATTRIBUTE,\n  EDIT_CHARACTER_ATTRIBUTE_VALUE,\n  EDIT_CHARACTER_ATTRIBUTE_METADATA,\n  DELETE_CHARACTER_ATTRIBUTE,\n  EDIT_CHARACTER_SHORT_DESCRIPTION,\n  EDIT_CHARACTER_DESCRIPTION,\n  EDIT_CHARACTER_CATEGORY,\n  DELETE_BOOK,\n  EDIT_CHARACTER_NAME,\n  EDIT_CHARACTER_IMAGE,\n  DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE,\n} from '../constants/ActionTypes'\nimport { character as defaultCharacter } from '../store/initialState'\nimport { newFileCharacters } from '../store/newFileState'\nimport { nextId } from '../store/newIds'\nimport { applyToCustomAttributes } from './applyToCustomAttributes'\nimport { repairIfPresent } from './repairIfPresent'\n\nconst initialState = [defaultCharacter]\n\nconst firstParagraphText = (children) => {\n  if (!Array.isArray(children) || children.length === 0) {\n    return ''\n  }\n\n  const firstElement = children[0]\n  if (typeof firstElement.text === 'string') {\n    return firstElement.text\n  }\n\n  return firstParagraphText(firstElement.children)\n}\n\nconst attachBaseAttribute = (attributeName, value, action, state) => {\n  return state.map((character) => {\n    if (character.id === action.id) {\n      const attributeId = action.attributeId\n      const newAttributes = character.attributes || []\n      const hasAttribute = newAttributes.some((attribute) => {\n        return (\n          attribute.id === attributeId &&\n          attribute.bookId === (action.bookId || action.currentBookId)\n        )\n      })\n      const attributes = attributeId\n        ? hasAttribute\n          ? newAttributes.map((attribute) => {\n              if (attribute.id === attributeId) {\n                return {\n                  ...attribute,\n                  value: uniq([...attribute.value, value]),\n                }\n              }\n              return attribute\n            })\n          : [\n              ...newAttributes,\n              {\n                id: attributeId,\n                bookId: action.bookId || action.currentBookId,\n                value: [value, ...character[attributeName]],\n              },\n            ]\n        : newAttributes\n\n      return {\n        ...character,\n        attributes,\n      }\n    }\n    return character\n  })\n}\n\nconst removeTag = (attributeName, value, action, state) => {\n  return state.map((character) => {\n    if (character.id === action.id) {\n      const attributeId = action.attributeId\n      const newAttributes = character.attributes || []\n      const hasAttribute = newAttributes.some((attribute) => {\n        return (\n          attribute.id === attributeId &&\n          attribute.bookId === (action.bookId || action.currentBookId)\n        )\n      })\n      const attributes = attributeId\n        ? hasAttribute\n          ? newAttributes.map((attribute) => {\n              if (\n                attribute.id === attributeId &&\n                attribute.bookId === (action.bookId || action.currentBookId)\n              ) {\n                return {\n                  ...attribute,\n                  value: attribute.value.filter((x) => x !== value),\n                }\n              }\n              return attribute\n            })\n          : [\n              ...newAttributes,\n              {\n                id: attributeId,\n                bookId: action.bookId || action.currentBookId,\n                value: character[attributeName].filter((x) => x !== value),\n              },\n            ]\n        : newAttributes\n\n      return {\n        ...character,\n        attributes,\n      }\n    }\n\n    return character\n  })\n}\n\nconst DISALLOWED_NAMES = [\n  'notes',\n  'categoryId',\n  'id',\n  'name',\n  'color',\n  'cards',\n  'noteIds',\n  'templates',\n  'tags',\n  'imageId',\n  'bookIds',\n]\n\nconst characters =\n  (dataRepairers) =>\n  (state = initialState, action) => {\n    const repair = repairIfPresent(dataRepairers)\n\n    switch (action.type) {\n      case ADD_CHARACTER:\n        return [\n          ...state,\n          {\n            ...defaultCharacter,\n            id: nextId(state),\n            name: action.name,\n            description: action.description,\n            notes: action.notes,\n            ...(action.currentBookId !== 'all' ? { bookIds: [action.currentBookId] } : {}),\n          },\n        ]\n\n      case ADD_CHARACTER_WITH_TEMPLATE: {\n        const templateData = {\n          id: action.templateData.id,\n          version: action.templateData.version,\n          attributes: action.templateData.attributes,\n          value: '',\n        }\n        return [\n          ...state,\n          {\n            ...defaultCharacter,\n            id: nextId(state),\n            name: action.name,\n            description: action.description,\n            notes: action.notes,\n            templates: [templateData],\n          },\n        ]\n      }\n\n      case EDIT_CHARACTER_NAME: {\n        return state.map((character) => {\n          if (character.id === action.id) {\n            return {\n              ...character,\n              name: action.name,\n            }\n          }\n\n          return character\n        })\n      }\n\n      case EDIT_CHARACTER_IMAGE: {\n        return state.map((character) => {\n          if (character.id === action.id) {\n            return {\n              ...character,\n              imageId: action.imageId,\n            }\n          }\n\n          return character\n        })\n      }\n\n      case EDIT_CHARACTER_TEMPLATE_ATTRIBUTE: {\n        return state.map((character) => {\n          if (character.id === action.id) {\n            return {\n              ...character,\n              templates: character.templates.map((template) => {\n                if (template.id === action.templateId) {\n                  const templateHasAttribute = template.attributes.some((attribute) => {\n                    return attribute.name === action.name\n                  })\n                  if (!templateHasAttribute) {\n                    return template\n                  }\n                  const isAttributeValue = (attribute) => {\n                    return attribute.bookId === action.bookId && attribute.name === action.name\n                  }\n                  const hasAttributeValue = (template.values || []).some(isAttributeValue)\n                  return {\n                    ...template,\n                    values: hasAttributeValue\n                      ? (template.values || []).map((attribute) => {\n                          if (isAttributeValue(attribute))\n                            return {\n                              ...attribute,\n                              value: action.value,\n                            }\n\n                          return attribute\n                        })\n                      : [\n                          ...(template.values || []),\n                          { name: action.name, value: action.value, bookId: action.bookId },\n                        ],\n                  }\n                }\n                return template\n              }),\n            }\n          }\n          return character\n        })\n      }\n\n      case ADD_TEMPLATE_TO_CHARACTER:\n        return state.map((character) => {\n          if (character.id === action.id) {\n            if (character.templates.some(({ id }) => id === action.templateData.id)) {\n              return character\n            }\n            const newCharacter = cloneDeep(character)\n            newCharacter.templates.push({\n              id: action.templateData.id,\n              version: action.templateData.version,\n              attributes: action.templateData.attributes,\n              value: '',\n            })\n            return newCharacter\n          } else {\n            return character\n          }\n        })\n\n      case ATTACH_CHARACTER_TO_CARD:\n        return state.map((character) => {\n          return character.id === action.characterId\n            ? {\n                ...character,\n                bookIds: uniq([action.currentTimeline, ...character.bookIds]),\n                cards: [action.id, ...character.cards],\n              }\n            : character\n        })\n\n      case REMOVE_CHARACTER_FROM_CARD:\n        return state.map((character) => {\n          let cards = cloneDeep(character.cards)\n          cards.splice(cards.indexOf(action.id), 1)\n          return character.id === action.characterId\n            ? Object.assign({}, character, { cards: cards })\n            : character\n        })\n\n      case ATTACH_CHARACTER_TO_NOTE:\n        return state.map((character) => {\n          let notes = cloneDeep(character.noteIds)\n          notes.push(action.id)\n          return character.id === action.characterId\n            ? Object.assign({}, character, { noteIds: notes })\n            : character\n        })\n\n      case REMOVE_CHARACTER_FROM_NOTE:\n        return state.map((character) => {\n          let notes = cloneDeep(character.noteIds)\n          notes.splice(notes.indexOf(action.id), 1)\n          return character.id === action.characterId\n            ? Object.assign({}, character, { noteIds: notes })\n            : character\n        })\n\n      case ATTACH_TAG_TO_CHARACTER: {\n        return attachBaseAttribute('tags', action.tagId, action, state)\n      }\n\n      case REMOVE_TAG_FROM_CHARACTER: {\n        return removeTag('tags', action.tagId, action, state)\n      }\n\n      case DELETE_TAG: {\n        return state.map((character) => {\n          if (!Array.isArray(character.attributes)) {\n            return character\n          }\n\n          const characterHasAttribute = character.attributes.some((attribute) => {\n            return action.attributeId === attribute.id\n          })\n          if (characterHasAttribute) {\n            return {\n              ...character,\n              attributes: character.attributes.map((attribute) => {\n                if (action.attributeId === attribute.id) {\n                  return {\n                    ...attribute,\n                    value: attribute.value.filter((tagId) => {\n                      return tagId !== action.id\n                    }),\n                  }\n                }\n\n                return attribute\n              }),\n            }\n          }\n\n          return character\n        })\n      }\n\n      case ATTACH_BOOK_TO_CHARACTER: {\n        return state.map((character) => {\n          let bookIds = cloneDeep(character.bookIds)\n          bookIds.push(action.bookId)\n          return character.id === action.id\n            ? Object.assign({}, character, { bookIds: bookIds })\n            : character\n        })\n      }\n\n      case REMOVE_BOOK_FROM_CHARACTER: {\n        return state.map((character) => {\n          return character.id === action.id\n            ? { ...character, bookIds: character.bookIds.filter((id) => id !== action.bookId) }\n            : character\n        })\n      }\n\n      case REMOVE_TEMPLATE_FROM_CHARACTER:\n        return state.map((character) => {\n          if (character.id !== action.id) return character\n          const newTemplates = character.templates.filter((t) => t.id != action.templateId)\n          return Object.assign({}, character, { templates: newTemplates })\n        })\n\n      case DELETE_BOOK: {\n        return state.map((character) => {\n          if (character.bookIds.indexOf(action.id) > -1) {\n            return {\n              ...character,\n              bookIds: character.bookIds.filter((bookId) => {\n                return bookId !== action.id\n              }),\n            }\n          }\n\n          return character\n        })\n      }\n\n      case DELETE_NOTE:\n        return state.map((character) => {\n          let notes = cloneDeep(character.noteIds)\n          notes.splice(notes.indexOf(action.id), 1)\n          return Object.assign({}, character, { noteIds: notes })\n        })\n\n      case DELETE_CARD:\n        return state.map((character) => {\n          let cards = cloneDeep(character.cards)\n          cards.splice(cards.indexOf(action.id), 1)\n          return Object.assign({}, character, { cards: cards })\n        })\n\n      case DELETE_CHARACTER:\n        return state.filter((character) => character.id !== action.id)\n\n      case DELETE_IMAGE:\n        return state.map((ch) => {\n          if (action.id == ch.imageId) {\n            return {\n              ...ch,\n              imageId: null,\n            }\n          } else {\n            return ch\n          }\n        })\n\n      case RESET:\n      case FILE_LOADED:\n        return action.data.characters.map((character) => {\n          const normalizeRCEContent = repair('normalizeRCEContent')\n          return {\n            ...character,\n            ...applyToCustomAttributes(\n              character,\n              normalizeRCEContent,\n              action.data.customAttributes.characters,\n              'paragraph'\n            ),\n            notes: normalizeRCEContent(character.notes),\n          }\n        })\n\n      case NEW_FILE:\n        return newFileCharacters\n\n      case DELETE_CHARACTER_CATEGORY: {\n        return state.map((rawCharacter) => {\n          // Problem is here.  Also take a look at whether deleting\n          // tags works now.\n          const character =\n            rawCharacter?.categoryId?.toString() === action.categoryId.toString()\n              ? {\n                  ...rawCharacter,\n                  categoryId: null,\n                }\n              : rawCharacter\n\n          if (!Array.isArray(character.attributes)) {\n            return character\n          }\n\n          const characterHasAttribute = character.attributes.some((attribute) => {\n            return action.attributeId === attribute.id\n          })\n          if (characterHasAttribute) {\n            return {\n              ...character,\n              attributes: character.attributes.map((attribute) => {\n                if (\n                  action.attributeId === attribute.id &&\n                  action.categoryId.toString() === attribute.value?.toString()\n                ) {\n                  return {\n                    ...attribute,\n                    value: null,\n                  }\n                }\n\n                return attribute\n              }),\n            }\n          }\n\n          return character\n        })\n      }\n\n      case LOAD_CHARACTERS:\n        return action.characters\n\n      case DUPLICATE_CHARACTER: {\n        const itemToDuplicate = state.find(({ id }) => id === action.id)\n        if (!itemToDuplicate) {\n          return state\n        }\n        const duplicated = {\n          ...cloneDeep(itemToDuplicate),\n          id: nextId(state),\n        }\n        return [...state, { ...duplicated }]\n      }\n\n      case CREATE_CHARACTER_ATTRIBUTE: {\n        return state.map((character) => {\n          const attributes = character.attributes || []\n\n          const oldValue =\n            DISALLOWED_NAMES.indexOf(action.attribute.name) === -1\n              ? character[action.attribute.name]\n              : undefined\n          const value = action.attribute.value || oldValue\n\n          return {\n            ...character,\n            attributes: [\n              ...attributes,\n              {\n                value,\n                id: action.nextAttributeId,\n                bookId: action.bookId || action.currentBookId,\n              },\n            ],\n          }\n        })\n      }\n\n      case EDIT_CHARACTER_ATTRIBUTE_METADATA: {\n        const nextState = state.map((character) => {\n          if (!Array.isArray(character.attributes)) {\n            return character\n          }\n\n          const attributes = character.attributes\n          return {\n            ...character,\n            attributes: attributes.map((attribute) => {\n              if (attribute.id === action.id) {\n                const newValue =\n                  typeof attribute.value === 'undefined'\n                    ? attribute.value\n                    : action.attributeType === 'text' && typeof attribute.value !== 'string'\n                    ? firstParagraphText(attribute.value)\n                    : attribute.value\n                return {\n                  ...attribute,\n                  value: newValue,\n                }\n              }\n\n              return attribute\n            }),\n          }\n        })\n\n        if (!action.id) {\n          const { oldName, name } = action\n          return nextState.map((character) => {\n            if (character[oldName]) {\n              return omit(\n                {\n                  ...character,\n                  [name]: character[oldName],\n                },\n                oldName\n              )\n            }\n\n            return character\n          })\n        }\n\n        return nextState\n      }\n\n      case EDIT_CHARACTER_CATEGORY:\n      case EDIT_CHARACTER_DESCRIPTION:\n      case EDIT_CHARACTER_SHORT_DESCRIPTION:\n      case EDIT_CHARACTER_ATTRIBUTE_VALUE: {\n        return state.map((character) => {\n          if (character.id === action.characterId) {\n            const attributes = character.attributes || []\n            const isAttributeToEdit = (attribute) => {\n              return (\n                attribute.id === action.attributeId &&\n                attribute.bookId === (action.bookId || action.currentBookId)\n              )\n            }\n            const willEditAnAttribute = attributes.some(isAttributeToEdit)\n\n            if (willEditAnAttribute) {\n              return {\n                ...character,\n                attributes: [\n                  ...attributes.map((attribute) => {\n                    if (isAttributeToEdit(attribute)) {\n                      return {\n                        ...attribute,\n                        value: action.value,\n                      }\n                    }\n\n                    return attribute\n                  }),\n                ],\n              }\n            }\n\n            return {\n              ...character,\n              attributes: [\n                ...attributes,\n                {\n                  bookId: action.bookId || action.currentBookId,\n                  id: action.attributeId,\n                  value: action.value,\n                },\n              ],\n            }\n          }\n\n          return character\n        })\n      }\n\n      case DELETE_CHARACTER_ATTRIBUTE: {\n        return state.map((character) => {\n          if (!Array.isArray(character.attributes)) {\n            return character\n          }\n\n          const attributes = character.attributes || []\n          return {\n            ...character,\n            attributes: attributes.filter((attribute) => {\n              return attribute.id !== action.id\n            }),\n          }\n        })\n      }\n\n      case DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE: {\n        const { attributeName } = action\n\n        return state.map((character) => {\n          if (typeof character[attributeName] !== 'undefined') {\n            return omit(character, attributeName)\n          }\n          return character\n        })\n      }\n\n      default:\n        return state\n    }\n  }\n\nexport default characters\n","import {\n  SET_USER_ID,\n  SET_CLIENT_ID,\n  SET_EMAIL_ADDRESS,\n  SET_HAS_ONBOARDED,\n  SET_HAS_PRO,\n  SET_IS_ON_WEB,\n  SET_CURRENT_APP_STATE,\n} from '../constants/ActionTypes'\n\nconst INITIAL_STATE = {\n  userId: null,\n  clientId: null,\n  emailAddress: null,\n  hasOnboarded: null,\n  hasPro: null,\n  isOnWeb: null,\n  currentAppState: null,\n}\n\nconst clientReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SET_USER_ID:\n      return {\n        ...state,\n        userId: action.userId,\n      }\n    case SET_CLIENT_ID:\n      return {\n        ...state,\n        clientId: action.clientId,\n      }\n    case SET_EMAIL_ADDRESS:\n      return {\n        ...state,\n        emailAddress: action.emailAddress,\n      }\n    case SET_HAS_ONBOARDED: {\n      return {\n        ...state,\n        hasOnboarded: action.hasOnboarded,\n      }\n    }\n    case SET_HAS_PRO:\n      return {\n        ...state,\n        hasPro: action.hasPro,\n      }\n    case SET_IS_ON_WEB: {\n      return {\n        ...state,\n        isOnWeb: true,\n      }\n    }\n    case SET_CURRENT_APP_STATE: {\n      return {\n        ...state,\n        currentAppState: action.appState,\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport default clientReducer\n","import {\n  ADD_PLACES_ATTRIBUTE,\n  ADD_CARDS_ATTRIBUTE,\n  ADD_LINES_ATTRIBUTE,\n  ADD_NOTES_ATTRIBUTE,\n  REMOVE_CARDS_ATTRIBUTE,\n  REMOVE_PLACES_ATTRIBUTE,\n  REMOVE_LINES_ATTRIBUTE,\n  REMOVE_NOTES_ATTRIBUTE,\n  EDIT_PLACES_ATTRIBUTE,\n  EDIT_CARDS_ATTRIBUTE,\n  EDIT_NOTES_ATTRIBUTE,\n  RESET,\n  FILE_LOADED,\n  NEW_FILE,\n  REORDER_CHARACTER_ATTRIBUTE,\n  REORDER_PLACES_ATTRIBUTE,\n  REORDER_CARDS_ATTRIBUTE,\n  REORDER_NOTES_ATTRIBUTE,\n  LOAD_CUSTOM_ATTRIBUTES,\n  DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE,\n  EDIT_CHARACTER_ATTRIBUTE_METADATA,\n} from '../constants/ActionTypes'\nimport { combineReducers } from 'redux'\nimport { newFileCustomAttributes } from '../store/newFileState'\n\nfunction characters(state = [], action) {\n  switch (action.type) {\n    case RESET:\n    case NEW_FILE:\n      return newFileCustomAttributes['characters']\n\n    case FILE_LOADED:\n      return action.data.customAttributes['characters'] || []\n\n    case REORDER_CHARACTER_ATTRIBUTE: {\n      let { toIndex, attribute } = action\n\n      const copy = state.slice().filter(({ name }) => name != attribute.name)\n\n      copy.splice(toIndex, 0, attribute)\n      return copy\n    }\n\n    case EDIT_CHARACTER_ATTRIBUTE_METADATA: {\n      const { id, name, attributeType, oldName } = action\n      if (id || !oldName) {\n        return state\n      }\n\n      return state.map((attribute) => {\n        if (attribute.name === oldName) {\n          return {\n            ...attribute,\n            name,\n            type: attributeType,\n          }\n        }\n        return attribute\n      })\n    }\n\n    case DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE: {\n      const { attributeName } = action\n      return state.filter((attribute) => {\n        return attribute.name !== attributeName\n      })\n    }\n\n    case LOAD_CUSTOM_ATTRIBUTES:\n      return action.customAttributes.characters || []\n\n    default:\n      return state\n  }\n}\n\nfunction places(state = [], action) {\n  switch (action.type) {\n    case ADD_PLACES_ATTRIBUTE:\n      return [...state, action.attribute]\n\n    case REMOVE_PLACES_ATTRIBUTE: // attribute is the attr's name\n      return state.filter((attr) => attr.name !== action.attribute)\n\n    case EDIT_PLACES_ATTRIBUTE: {\n      let newState = [...state]\n      newState[action.index] = action.newAttribute\n      return newState\n    }\n\n    case RESET:\n    case NEW_FILE:\n      return newFileCustomAttributes['places']\n\n    case FILE_LOADED:\n      return action.data.customAttributes['places'] || []\n\n    case REORDER_PLACES_ATTRIBUTE: {\n      let { toIndex, attribute } = action\n\n      const copy = state.slice().filter(({ name }) => name != attribute.name)\n\n      copy.splice(toIndex, 0, attribute)\n      return copy\n    }\n\n    case LOAD_CUSTOM_ATTRIBUTES:\n      return action.customAttributes.places || []\n\n    default:\n      return state\n  }\n}\n\nfunction scenes(state = [], action) {\n  switch (action.type) {\n    case ADD_CARDS_ATTRIBUTE:\n      if (state.some(({ name }) => name === action.attribute.name)) {\n        return state\n      }\n      return [...state, action.attribute]\n\n    case EDIT_CARDS_ATTRIBUTE: {\n      let newState = [...state]\n      newState[action.index] = action.newAttribute\n      return newState\n    }\n\n    case REMOVE_CARDS_ATTRIBUTE:\n      return state.filter((attr) => attr.name !== action.attribute)\n\n    case REORDER_CARDS_ATTRIBUTE: {\n      const { toIndex, attribute } = action\n\n      const copy = state.slice().filter(({ name }) => name != attribute.name)\n\n      copy.splice(toIndex, 0, attribute)\n\n      return copy\n    }\n\n    case RESET:\n    case NEW_FILE:\n      return newFileCustomAttributes['scenes']\n\n    case FILE_LOADED:\n      return action.data.customAttributes['scenes'] || []\n\n    case LOAD_CUSTOM_ATTRIBUTES:\n      return action.customAttributes.scenes || []\n\n    default:\n      return state\n  }\n}\n\nfunction notes(state = [], action) {\n  switch (action.type) {\n    case ADD_NOTES_ATTRIBUTE:\n      return [...state, action.attribute]\n\n    case REMOVE_NOTES_ATTRIBUTE: // attribute is the attr's name\n      return state.filter((attr) => attr.name !== action.attribute)\n\n    case EDIT_NOTES_ATTRIBUTE: {\n      let newState = [...state]\n      newState[action.index] = action.newAttribute\n      return newState\n    }\n\n    case RESET:\n    case NEW_FILE:\n      return newFileCustomAttributes['notes']\n\n    case FILE_LOADED:\n      return action.data.customAttributes['notes'] || []\n\n    case REORDER_NOTES_ATTRIBUTE: {\n      let { toIndex, attribute } = action\n\n      const copy = state.slice().filter(({ name }) => name != attribute.name)\n\n      copy.splice(toIndex, 0, attribute)\n      return copy\n    }\n\n    case LOAD_CUSTOM_ATTRIBUTES:\n      return action.customAttributes.notes || []\n\n    default:\n      return state || []\n  }\n}\n\nfunction lines(state = [], action) {\n  switch (action.type) {\n    case ADD_LINES_ATTRIBUTE:\n      return [...state, action.attribute]\n\n    case REMOVE_LINES_ATTRIBUTE:\n      state.splice(state.indexOf(action.attribute), 1)\n      return [...state]\n\n    case RESET:\n    case NEW_FILE:\n      return newFileCustomAttributes['lines']\n\n    case FILE_LOADED:\n      return action.data.customAttributes['lines'] || []\n\n    case LOAD_CUSTOM_ATTRIBUTES:\n      return action.customAttributes.lines || []\n\n    default:\n      return state\n  }\n}\n\nconst customAttributes = (dataRepairers) =>\n  combineReducers({\n    characters,\n    places,\n    scenes,\n    lines,\n    notes,\n  })\n\nexport default customAttributes\n","import { CLICK_ON_DOM } from '../constants/ActionTypes'\n\nconst INITIAL_STATE = {\n  lastClick: {\n    x: null,\n    y: null,\n    counter: 0,\n  },\n}\n\nconst domEvents = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CLICK_ON_DOM: {\n      return {\n        ...state,\n        lastClick: {\n          x: action.x,\n          y: action.y,\n          counter: state.lastClick.counter + 1,\n        },\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport default domEvents\n","const INITIAL_STATE = {}\n\nconst editorsReducer =\n  (dataRepairers) =>\n  (state = INITIAL_STATE, action) => {\n    if (action.editorMetadata) {\n      const {\n        editorMetadata: { selection, editorPath },\n      } = action\n      if (editorPath && selection) {\n        return {\n          ...state,\n          [editorPath]: selection,\n        }\n      }\n    }\n    return state\n  }\n\nexport default editorsReducer\n","import {\n  CLEAR_ERROR,\n  PERMISSION_ERROR,\n  GENERAL_ERROR,\n  IMPORT_ERROR,\n  SAVE_TEMP_FILE_ERROR,\n} from '../constants/ActionTypes'\n\nconst INITIAL_STATE = {\n  error: null,\n  storeKey: null,\n  action: null,\n}\n\nconst errorReducer =\n  (dataRepairers) =>\n  (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n      case PERMISSION_ERROR: {\n        return {\n          error: action.error,\n          action: action.action,\n          storeKey: action.storeKey,\n        }\n      }\n\n      case GENERAL_ERROR:\n        return {\n          error: action.error,\n        }\n\n      case CLEAR_ERROR:\n        return INITIAL_STATE\n\n      case IMPORT_ERROR:\n        return {\n          error: action.error,\n        }\n\n      case SAVE_TEMP_FILE_ERROR: {\n        return {\n          error: action.error,\n        }\n      }\n\n      default:\n        return state\n    }\n  }\n\nexport default errorReducer\n","import {\n  FILE_LOADED,\n  LOAD_FEATURE_FLAGS,\n  NEW_FILE,\n  RESET,\n  SET_FEATURE_FLAG,\n  UNSET_FEATURE_FLAG,\n} from '../constants/ActionTypes'\nimport { featureFlags } from '../store/initialState'\n\nconst INITIAL_STATE = featureFlags\n\nconst featureFlagsReducer =\n  (dataRepairers) =>\n  (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n      case SET_FEATURE_FLAG:\n        return {\n          ...state,\n          [action.flagName]: true,\n        }\n      case UNSET_FEATURE_FLAG:\n        return {\n          ...state,\n          [action.flagName]: false,\n        }\n\n      case RESET:\n      case FILE_LOADED:\n        return action.data.featureFlags || INITIAL_STATE\n\n      case NEW_FILE:\n        return INITIAL_STATE\n\n      case LOAD_FEATURE_FLAGS:\n        return action.featureFlags\n\n      default:\n        return state\n    }\n  }\n\nexport default featureFlagsReducer\n","import { v4 as uuidv4 } from 'uuid'\n\nimport {\n  FILE_LOADED,\n  FILE_SAVED,\n  NEW_FILE,\n  RESET,\n  EDIT_FILENAME,\n  LOAD_FILE,\n  SET_OFFLINE,\n  SET_RESUMING,\n  RECORD_LAST_ACTION,\n  SELECT_FILE,\n} from '../constants/ActionTypes'\nimport { file as defaultFile } from '../store/initialState'\nimport { SYSTEM_REDUCER_ACTION_TYPES } from './systemReducers'\nimport LoadActions from '../constants/loadActions'\n\nconst file =\n  (dataRepairers) =>\n  (stateWithoutVersionStamp = defaultFile, action) => {\n    const shouldNotUpdateVersionStamp =\n      action.type.startsWith('@') ||\n      action.type === 'FILE_LOADED' ||\n      LoadActions.indexOf(action.type) !== -1 ||\n      SYSTEM_REDUCER_ACTION_TYPES.indexOf(action.type) !== -1 ||\n      stateWithoutVersionStamp?.isResuming\n    const state = stateWithoutVersionStamp && {\n      ...stateWithoutVersionStamp,\n      versionStamp: shouldNotUpdateVersionStamp ? stateWithoutVersionStamp.versionStamp : uuidv4(),\n    }\n    switch (action.type) {\n      case FILE_LOADED:\n        return {\n          fileName: action.fileName,\n          loaded: true,\n          dirty: action.dirty,\n          version: action.version,\n          id: action.data.file.id || null,\n          appliedMigrations: action.data.file.appliedMigrations || [],\n          initialVersion: action.data.file.initialVersion || action.version,\n          isCloudFile: action.data.file.isCloudFile || false,\n        }\n\n      case FILE_SAVED:\n        return Object.assign({}, state, { dirty: false })\n\n      case NEW_FILE:\n        return { fileName: action.fileName, loaded: true, dirty: false, version: action.version }\n\n      case EDIT_FILENAME:\n        return Object.assign({}, state, { fileName: action.newName })\n\n      case RESET:\n        return Object.assign({}, action.data.file, { dirty: true })\n\n      case LOAD_FILE:\n        return action.file\n\n      // We duplicate the resuming state from project here because\n      // it's critical that we don't change timestamps while we resume\n      // and it's possible for other actions to fire in between\n      // setting offline and setting resume.\n      case SET_OFFLINE:\n        if (action.isOffline) {\n          return {\n            ...stateWithoutVersionStamp,\n            originalVersionStamp: state.versionStamp,\n          }\n        } else {\n          return state\n        }\n\n      default:\n        return Object.assign({}, state, { dirty: true })\n    }\n  }\n\nexport default file\n","import {\n  EDIT_HIERARCHY_LEVEL,\n  LOAD_HIERARCHY,\n  SET_HIERARCHY_LEVELS,\n} from '../constants/ActionTypes'\nimport { newFileHierarchies } from '../store/newFileState'\nimport { FILE_LOADED, NEW_FILE, RESET } from '../../v1/constants/ActionTypes'\n\nconst INITIAL_STATE = newFileHierarchies\n\nconst hierarchy =\n  (dataRepairers) =>\n  (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n      case SET_HIERARCHY_LEVELS: {\n        return action.hierarchyLevels.reduce(\n          (acc, next, index) => ({\n            ...acc,\n            [index]: {\n              ...next,\n              level: index,\n            },\n          }),\n          {}\n        )\n      }\n\n      case EDIT_HIERARCHY_LEVEL:\n        return {\n          ...state,\n          [action.hierarchyLevel.level]: {\n            ...state[action.hierarchyLevel.level],\n            ...action.hierarchyLevel,\n          },\n        }\n\n      case RESET:\n      case FILE_LOADED:\n        return action.data.hierarchyLevels || INITIAL_STATE\n\n      case NEW_FILE:\n        return INITIAL_STATE\n\n      case LOAD_HIERARCHY:\n        return action.hierarchy\n\n      default:\n        return state\n    }\n  }\n\nexport default hierarchy\n","import { CACHE_IMAGE } from '../constants/ActionTypes'\n\nconst INITIAL_STATE = {}\n\nconst imageCacheReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CACHE_IMAGE: {\n      return {\n        ...state,\n        [action.storageUrl]: {\n          publicUrl: action.publicUrl,\n          timestamp: action.timestamp,\n        },\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default imageCacheReducer\n","import {\n  ADD_IMAGE,\n  RENAME_IMAGE,\n  DELETE_IMAGE,\n  FILE_LOADED,\n  NEW_FILE,\n  RESET,\n  LOAD_IMAGES,\n} from '../constants/ActionTypes'\nimport { newFileImages } from '../store/newFileState'\nimport { imageId } from '../store/newIds'\n\nconst cards = (dataRepairers) => (state, action) => {\n  switch (action.type) {\n    case ADD_IMAGE: {\n      const newId = imageId(state)\n      const newImage = Object.assign({}, action.image, { id: newId })\n      return {\n        ...state,\n        [newId]: newImage,\n      }\n    }\n\n    case RENAME_IMAGE:\n      return {\n        ...state,\n        [action.id]: {\n          ...state[action.id],\n          name: action.name,\n        },\n      }\n\n    case DELETE_IMAGE:\n      return Object.keys(state).reduce((acc, id) => {\n        if (id != action.id) {\n          acc[id] = state[id]\n        }\n        return acc\n      }, {})\n\n    case RESET:\n    case FILE_LOADED:\n      return action.data.images\n\n    case NEW_FILE:\n      return newFileImages\n\n    case LOAD_IMAGES:\n      return action.images\n\n    default:\n      return state || {}\n  }\n}\n\nexport default cards\n","import { SET_KNOWN_FILES } from '../constants/ActionTypes'\n\n/* e.g. state\n * [\n *   {\n *     \"fileURL\": \"device:///Users/edwardsteere/Downloads/Untitled-Return-of-the-test.pltr\",\n *     \"lastOpened\": 1636969518301,\n *     \"fileName\": \"Untitled. Return of the Test.\",\n *     \"permission\": \"owner\",\n *     \"isOfflineBackup\": false,\n *     \"isBackupFile\": false,\n *     \"isTempFile\": false\n *   },\n * ]\n */\n\nconst INITIAL_STATE = []\n\nconst knownFilesReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SET_KNOWN_FILES: {\n      return action.knownFiles\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default knownFilesReducer\n","import {\n  SET_LICENSE_INFO,\n  SET_TRIAL_INFO,\n  SET_PRO_LICENSE_INFO,\n  RESET_PRO_LICENSE_INFO,\n} from '../constants/ActionTypes'\n\n/** Example pro license info:\n * {\n *   \"id\": \"9999\",\n *   \"customer_id\": \"999\",\n *   \"period\": \"year\",\n *   \"initial_amount\": \"0.00\",\n *   \"initial_tax_rate\": \"\",\n *   \"initial_tax\": \"\",\n *   \"recurring_amount\": \"0.00\",\n *   \"recurring_tax_rate\": \"\",\n *   \"recurring_tax\": \"\",\n *   \"bill_times\": \"0\",\n *   \"transaction_id\": \"\",\n *   \"parent_payment_id\": \"99999\",\n *   \"product_id\": \"104900\", <- NOTE: this is the \"Pro\" product id.\n *   \"price_id\": \"2\",\n *   \"created\": \"2021-09-30 07:43:21\",\n *   \"expiration\": \"2022-09-30 23:59:59\",\n *   \"trial_period\": \"\",\n *   \"status\": \"active\",\n *   \"profile_id\": \"999\",\n *   \"gateway\": \"manual\",\n *   \"customer\": {\n *     \"id\": \"999\",\n *     \"purchase_count\": 1,\n *     \"purchase_value\": 0,\n *     \"email\": \"emailaddress@email.com\",\n *     \"emails\": [\n *       \"emailaddress@email.com\"\n *     ],\n *     \"name\": \"John Doe\",\n *     \"date_created\": \"2020-02-28 00:41:27\",\n *     \"payment_ids\": \"9999,99999\",\n *     \"user_id\": \"999\"\n *   },\n *   \"notes\": \"\"\n * }\n */\nconst INITIAL_STATE = {\n  trialInfo: {\n    startsAt: null,\n    endsAt: null,\n    extensions: null,\n  },\n  licenseInfo: {\n    expires: null,\n    item_name: null,\n    customer_email: null,\n    licenseKey: null,\n    item_id: null,\n    activations_left: null,\n    site_count: null,\n    license: null,\n  },\n  proLicenseInfo: {\n    expiration: null,\n    admin: false,\n    id: null,\n    customer_id: null,\n    period: null,\n    initial_amount: null,\n    initial_tax_rate: null,\n    initial_tax: null,\n    recurring_amount: null,\n    recurring_tax_rate: null,\n    recurring_tax: null,\n    bill_times: null,\n    transaction_id: null,\n    parent_payment_id: null,\n    product_id: null,\n    price_id: null,\n    created: null,\n    trial_period: null,\n    status: null,\n    profile_id: null,\n    gateway: null,\n    customer: {\n      id: null,\n      purchase_count: null,\n      purchase_value: null,\n      email: null,\n      emails: [],\n      name: null,\n      date_created: null,\n      payment_ids: null,\n      user_id: null,\n    },\n    notes: '',\n  },\n}\n\nconst licenseReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SET_TRIAL_INFO: {\n      return {\n        ...state,\n        trialInfo: action.trialInfo,\n      }\n    }\n    case SET_LICENSE_INFO: {\n      return {\n        ...state,\n        licenseInfo: action.licenseInfo,\n      }\n    }\n    case SET_PRO_LICENSE_INFO: {\n      return {\n        ...state,\n        proLicenseInfo: action.proLicenseInfo,\n      }\n    }\n    case RESET_PRO_LICENSE_INFO: {\n      return {\n        ...state,\n        proLicenseInfo: INITIAL_STATE.proLicenseInfo,\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default licenseReducer\n","import { cloneDeep, sortBy } from 'lodash'\nimport { t } from 'plottr_locales'\nimport {\n  ADD_LINE,\n  ADD_LINE_WITH_TITLE,\n  ADD_LINES_FROM_TEMPLATE,\n  EDIT_LINE_TITLE,\n  EXPAND_LINE,\n  COLLAPSE_LINE,\n  EDIT_LINE,\n  EXPAND_TIMELINE,\n  COLLAPSE_TIMELINE,\n  CLEAR_TEMPLATE_FROM_TIMELINE,\n  RESET_TIMELINE,\n  EDIT_LINE_COLOR,\n  REORDER_LINES,\n  DELETE_LINE,\n  FILE_LOADED,\n  NEW_FILE,\n  RESET,\n  DELETE_BOOK,\n  LOAD_LINES,\n  ADD_BOOK_FROM_TEMPLATE,\n  ADD_BOOK,\n  DUPLICATE_LINE,\n  MOVE_LINE,\n} from '../constants/ActionTypes'\nimport { line } from '../store/initialState'\nimport { newFileLines, newFileSeriesLines } from '../store/newFileState'\nimport { nextId } from '../store/newIds'\nimport { nextColor } from '../store/lineColors'\nimport { nextPositionInBook, positionReset } from '../helpers/lists'\nimport { associateWithBroadestScope, isNotSeries } from '../helpers/lines'\n\nconst initialState = [...newFileLines, ...newFileSeriesLines]\n\n// bookId is:\n// Union of:\n//  - bookId: Number,\n//  - \"series\": String literal,\n\nconst lines =\n  (dataRepairers) =>\n  (state = initialState, action) => {\n    const actionBookId = associateWithBroadestScope(action.bookId || action.newBookId)\n\n    switch (action.type) {\n      case ADD_LINE: {\n        const linesInBook = state.filter((l) => l.bookId == actionBookId).length\n        return [\n          {\n            id: nextId(state),\n            bookId: actionBookId,\n            title: '',\n            color: nextColor(linesInBook),\n            position: nextPositionInBook(state, actionBookId),\n            expanded: null,\n            fromTemplateId: null,\n          },\n          ...state,\n        ]\n      }\n\n      case ADD_BOOK:\n      case ADD_LINE_WITH_TITLE: {\n        const linesInBook_ = state.filter((l) => l.bookId == actionBookId).length\n        return [\n          {\n            ...line,\n            id: nextId(state),\n            bookId: actionBookId,\n            title: action.title || t('Main Plot'),\n            color: nextColor(linesInBook_),\n            position: nextPositionInBook(state, actionBookId),\n          },\n          ...state,\n        ]\n      }\n\n      case ADD_LINES_FROM_TEMPLATE:\n      case ADD_BOOK_FROM_TEMPLATE: {\n        const linesInBook = state.filter((l) => l.bookId == actionBookId)\n        const nextPosition = nextPositionInBook(linesInBook, actionBookId)\n        const newLines = action.templateData.lines\n          .filter(({ bookId }) => bookId !== 'series') // this is to protect against a bad template that unnecessarily had a series line\n          .map((l, index) => {\n            const newLine = cloneDeep(l)\n            newLine.id = newLine.id + action.nextLineId // give it a new id\n            newLine.bookId = actionBookId // add it to the new/current book\n            newLine.position = nextPosition + newLine.position // put it in the right position\n            newLine.fromTemplateId = action.templateData.id\n            if (!newLine.color || newLine.color == nextColor(0)) {\n              newLine.color = nextColor(linesInBook.length + index)\n            }\n            return newLine\n          })\n        return [...state, ...newLines]\n      }\n\n      case EDIT_LINE:\n        return state.map((l) =>\n          l.id === action.id\n            ? Object.assign({}, l, { title: action.title, color: action.color })\n            : l\n        )\n\n      case EDIT_LINE_TITLE:\n        return state.map((l) =>\n          l.id === action.id ? Object.assign({}, l, { title: action.title }) : l\n        )\n\n      case EDIT_LINE_COLOR:\n        return state.map((l) =>\n          l.id === action.id ? Object.assign({}, l, { color: action.color }) : l\n        )\n\n      case DELETE_BOOK:\n        return state.filter(({ bookId }) => bookId !== action.id)\n\n      case DELETE_LINE:\n        return state.filter((l) => l.id !== action.id)\n\n      case REORDER_LINES:\n        return [\n          ...state.filter((l) => l && l.bookId != actionBookId),\n          ...positionReset(action.lines),\n        ]\n\n      case EXPAND_LINE:\n        return state.map((l) => (l.id === action.id ? Object.assign({}, l, { expanded: true }) : l))\n\n      case COLLAPSE_LINE:\n        return state.map((l) =>\n          l.id === action.id ? Object.assign({}, l, { expanded: false }) : l\n        )\n\n      case COLLAPSE_TIMELINE:\n      case EXPAND_TIMELINE:\n        return state.map((l) => Object.assign({}, l, { expanded: null }))\n\n      case CLEAR_TEMPLATE_FROM_TIMELINE: {\n        const values = state.reduce(\n          (acc, line) => {\n            if (line.bookId == actionBookId) {\n              if (line.fromTemplateId != action.templateId) acc.book.push(line)\n            } else {\n              acc.notBook.push(line)\n            }\n            return acc\n          },\n          { book: [], notBook: [] }\n        )\n        const bookLines = positionReset(sortBy(values.book, 'position'))\n        return values.notBook.concat(bookLines)\n      }\n\n      case RESET_TIMELINE: {\n        // remove any from this book\n        const linesToKeep = action.isSeries\n          ? state.filter(isNotSeries)\n          : state.filter((line) => line.bookId != actionBookId)\n        // create a new line in the book so there's 1\n        return [\n          {\n            id: nextId(state),\n            bookId: actionBookId,\n            title: t('Main Plot'),\n            color: nextColor(0),\n            position: 0,\n            expanded: null,\n            fromTemplateId: null,\n          },\n          ...linesToKeep,\n        ]\n      }\n\n      case DUPLICATE_LINE: {\n        const lineToDuplicate = state.find(({ id }) => id === action.id)\n        // Couldn't find the requested line\n        if (!lineToDuplicate) {\n          return state\n        }\n        const duplicatedLine = {\n          ...cloneDeep(lineToDuplicate),\n          id: action.newLineId,\n          position: action.position,\n        }\n        const linesInBook = state.filter(({ bookId }) => bookId === lineToDuplicate.bookId)\n        const linesInBookWithUpdatedPositions = linesInBook.map((line) => {\n          if (line.position < action.position) {\n            return line\n          } else {\n            return {\n              ...line,\n              position: line.position + 1,\n            }\n          }\n        })\n        const linesNotInBook = state.filter(({ bookId }) => bookId !== lineToDuplicate.bookId)\n        return [...linesInBookWithUpdatedPositions, ...linesNotInBook, duplicatedLine]\n      }\n\n      case MOVE_LINE: {\n        return state.map((line) => {\n          if (line.id === action.id) {\n            return {\n              ...line,\n              bookId: action.destinationBookId,\n            }\n          }\n          return line\n        })\n      }\n\n      case RESET:\n      case FILE_LOADED:\n        return action.data.lines\n\n      case NEW_FILE:\n        return newFileLines\n\n      case LOAD_LINES:\n        return action.lines\n\n      default:\n        return state\n    }\n  }\n\nexport default lines\n","import { combineReducers } from 'redux'\nimport beats from './beats'\nimport books from './books'\nimport cards from './cards'\nimport categories from './categories'\nimport characters from './characters'\nimport customAttributes from './customAttributes'\nimport attributes from './attributes'\nimport file from './file'\nimport images from './images'\nimport lines from './lines'\nimport notes from './notes'\nimport places from './places'\nimport series from './series'\nimport tags from './tags'\nimport ui from './ui'\nimport hierarchyLevels from './hierarchy'\nimport featureFlags from './featureFlags'\nimport editors from './editors'\nimport error from './error'\nimport permission from './permission'\nimport project from './project'\nimport client from './client'\nimport actions from './actions'\nimport license from './license'\nimport knownFiles from './knownFiles'\nimport templates from './templates'\nimport settings from './settings'\nimport backups from './backups'\nimport applicationState from './applicationState'\nimport imageCache from './imageCache'\nimport notifications from './notifications'\nimport domEvents from './domEvents'\nimport testingAndDiagnosis from './testingAndDiagnosis'\n\n// normally it would make more sense to alphabetize them\n// but for customer service, it helps a lot to have them in a specific order\n// to pick out some important things at the top\nconst mainReducer = (dataRepairers) =>\n  combineReducers({\n    file: file(dataRepairers),\n    ui: ui(dataRepairers),\n    featureFlags: featureFlags(dataRepairers),\n    series: series(dataRepairers),\n    books: books(dataRepairers),\n    beats: beats(dataRepairers),\n    cards: cards(dataRepairers),\n    categories: categories(dataRepairers),\n    characters: characters(dataRepairers),\n    customAttributes: customAttributes(dataRepairers),\n    attributes: attributes(dataRepairers),\n    lines: lines(dataRepairers),\n    notes: notes(dataRepairers),\n    places: places(dataRepairers),\n    tags: tags(dataRepairers),\n    hierarchyLevels: hierarchyLevels(dataRepairers),\n    images: images(dataRepairers),\n    error: error(dataRepairers),\n    permission: permission(dataRepairers),\n    editors: editors(dataRepairers),\n    project,\n    client,\n    actions,\n    license,\n    knownFiles,\n    templates,\n    settings,\n    backups,\n    applicationState,\n    imageCache,\n    notifications,\n    domEvents,\n    testingAndDiagnosis,\n  })\n\nexport default mainReducer\n","import { cloneDeep } from 'lodash'\nimport {\n  ADD_NOTE,\n  EDIT_NOTE,\n  DELETE_NOTE,\n  FILE_LOADED,\n  NEW_FILE,\n  RESET,\n  ATTACH_CHARACTER_TO_NOTE,\n  REMOVE_CHARACTER_FROM_NOTE,\n  ATTACH_PLACE_TO_NOTE,\n  REMOVE_PLACE_FROM_NOTE,\n  ATTACH_TAG_TO_NOTE,\n  REMOVE_TAG_FROM_NOTE,\n  DELETE_TAG,\n  DELETE_CHARACTER,\n  DELETE_PLACE,\n  DELETE_IMAGE,\n  ATTACH_BOOK_TO_NOTE,\n  REMOVE_BOOK_FROM_NOTE,\n  EDIT_NOTES_ATTRIBUTE,\n  DELETE_NOTE_CATEGORY,\n  LOAD_NOTES,\n  EDIT_NOTE_TEMPLATE_ATTRIBUTE,\n  DUPLICATE_NOTE,\n} from '../constants/ActionTypes'\nimport { note } from '../store/initialState'\nimport { newFileNotes } from '../store/newFileState'\nimport { nextId } from '../store/newIds'\nimport { applyToCustomAttributes } from './applyToCustomAttributes'\nimport { repairIfPresent } from './repairIfPresent'\n\nconst initialState = [note]\n\nconst notes =\n  (dataRepairers) =>\n  (state = initialState, action) => {\n    const repair = repairIfPresent(dataRepairers)\n    switch (action.type) {\n      case ADD_NOTE:\n        return [\n          ...state,\n          {\n            ...note,\n            id: nextId(state),\n            title: action.title,\n            content: action.content,\n          },\n        ]\n\n      case EDIT_NOTE: {\n        const lastEdited = { lastEdited: new Date().getTime() }\n        return state.map((note) =>\n          note.id === action.id ? Object.assign({}, note, action.attributes, lastEdited) : note\n        )\n      }\n\n      case DUPLICATE_NOTE: {\n        const itemToDuplicate = state.find(({ id }) => id === action.id)\n        if (!itemToDuplicate) {\n          return state\n        }\n        const duplicated = {\n          ...cloneDeep(itemToDuplicate),\n          id: nextId(state),\n        }\n        return [...state, { ...duplicated, lastEdited: action.lastEdited }]\n      }\n\n      case EDIT_NOTE_TEMPLATE_ATTRIBUTE: {\n        return state.map((note) => {\n          if (note.id === action.id) {\n            return {\n              ...state,\n              templates: note.templates.map((template) => {\n                if (template.id === action.templateId) {\n                  return {\n                    ...template,\n                    [action.name]: action.value,\n                  }\n                }\n                return template\n              }),\n            }\n          }\n          return state\n        })\n      }\n\n      case EDIT_NOTES_ATTRIBUTE:\n        if (\n          action.oldAttribute.type != 'text' &&\n          action.oldAttribute.name == action.newAttribute.name\n        )\n          return state\n\n        return state.map((n) => {\n          let note = cloneDeep(n)\n\n          if (action.oldAttribute.name != action.newAttribute.name) {\n            // Firebase doesn't support undefined, so use null when the attribute isn't set\n            note[action.newAttribute.name] = note[action.oldAttribute.name] || null\n            delete note[action.oldAttribute.name]\n          }\n\n          // reset value to blank string\n          // (if changing to something other than text type)\n          // see ../selectors/customAttributes.js for when this is allowed\n          if (action.oldAttribute.type == 'text') {\n            let desc = note[action.newAttribute.name]\n            if (!desc || (desc && desc.length && typeof desc !== 'string')) {\n              desc = ''\n            }\n            note[action.newAttribute.name] = desc\n          }\n          return note\n        })\n\n      case DELETE_NOTE:\n        return state.filter((note) => note.id !== action.id)\n\n      case ATTACH_CHARACTER_TO_NOTE:\n        return state.map((note) => {\n          let characters = cloneDeep(note.characters)\n          characters.push(action.characterId)\n          return note.id === action.id ? Object.assign({}, note, { characters: characters }) : note\n        })\n\n      case REMOVE_CHARACTER_FROM_NOTE:\n        return state.map((note) => {\n          let characters = cloneDeep(note.characters)\n          characters.splice(characters.indexOf(action.characterId), 1)\n          return note.id === action.id ? Object.assign({}, note, { characters: characters }) : note\n        })\n\n      case ATTACH_PLACE_TO_NOTE:\n        return state.map((note) => {\n          let places = cloneDeep(note.places)\n          places.push(action.placeId)\n          return note.id === action.id ? Object.assign({}, note, { places: places }) : note\n        })\n\n      case DELETE_NOTE_CATEGORY:\n        return state.map((note) => {\n          // In one case the ids are strings and the other they are numbers\n          // so just to be safe string them both\n          if (String(note.categoryId) !== String(action.category.id)) {\n            return note\n          }\n\n          return {\n            ...note,\n            categoryId: null,\n          }\n        })\n\n      case REMOVE_PLACE_FROM_NOTE:\n        return state.map((note) => {\n          let places = cloneDeep(note.places)\n          places.splice(places.indexOf(action.placeId), 1)\n          return note.id === action.id ? Object.assign({}, note, { places: places }) : note\n        })\n\n      case ATTACH_TAG_TO_NOTE:\n        return state.map((note) => {\n          let tags = cloneDeep(note.tags)\n          tags.push(action.tagId)\n          return note.id === action.id ? Object.assign({}, note, { tags: tags }) : note\n        })\n\n      case REMOVE_TAG_FROM_NOTE:\n        return state.map((note) => {\n          let tags = cloneDeep(note.tags)\n          tags.splice(tags.indexOf(action.tagId), 1)\n          return note.id === action.id ? Object.assign({}, note, { tags: tags }) : note\n        })\n\n      case ATTACH_BOOK_TO_NOTE:\n        return state.map((note) => {\n          let bookIds = cloneDeep(note.bookIds)\n          bookIds.push(action.bookId)\n          return note.id === action.id ? Object.assign({}, note, { bookIds: bookIds }) : note\n        })\n\n      case REMOVE_BOOK_FROM_NOTE:\n        return state.map((note) => {\n          let bookIds = cloneDeep(note.bookIds)\n          bookIds.splice(bookIds.indexOf(action.bookId), 1)\n          return note.id === action.id ? Object.assign({}, note, { bookIds: bookIds }) : note\n        })\n\n      case DELETE_TAG:\n        return state.map((note) => {\n          if (note.tags.includes(action.id)) {\n            let tags = cloneDeep(note.tags)\n            tags.splice(tags.indexOf(action.id), 1)\n            return Object.assign({}, note, { tags: tags })\n          } else {\n            return note\n          }\n        })\n\n      case DELETE_CHARACTER:\n        return state.map((note) => {\n          if (note.characters.includes(action.id)) {\n            let characters = cloneDeep(note.characters)\n            characters.splice(characters.indexOf(action.id), 1)\n            return Object.assign({}, note, { characters: characters })\n          } else {\n            return note\n          }\n        })\n\n      case DELETE_PLACE:\n        return state.map((note) => {\n          if (note.places.includes(action.id)) {\n            let places = cloneDeep(note.places)\n            places.splice(places.indexOf(action.id), 1)\n            return Object.assign({}, note, { places: places })\n          } else {\n            return note\n          }\n        })\n\n      case DELETE_IMAGE:\n        return state.map((n) => {\n          if (action.id == n.imageId) {\n            return {\n              ...n,\n              imageId: null,\n            }\n          } else {\n            return n\n          }\n        })\n\n      case RESET:\n      case FILE_LOADED: {\n        const notes = action.data.notes || []\n        return notes.map((note) => {\n          const normalizeRCEContent = repair('normalizeRCEContent')\n          return {\n            ...note,\n            ...applyToCustomAttributes(\n              note,\n              normalizeRCEContent,\n              action.data.customAttributes.notes,\n              'paragraph'\n            ),\n            content: normalizeRCEContent(note.content),\n          }\n        })\n      }\n\n      case NEW_FILE:\n        return newFileNotes\n\n      case LOAD_NOTES:\n        return action.notes\n\n      default:\n        return state\n    }\n  }\n\nexport default notes\n","import { DISMISS_MESSAGE, SHOW_MESSAGE, SHOW_TOAST_NOTIFICATION } from '../constants/ActionTypes'\nimport { notifications } from '../store/initialState'\n\nconst INITIAL_STATE = notifications\n\nconst notificationsReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SHOW_TOAST_NOTIFICATION: {\n      const { visible, cardAction, lineAction, newBookId } = action\n\n      return {\n        ...state,\n        toast: {\n          cardAction,\n          newBookId,\n          visible,\n          lineAction,\n        },\n      }\n    }\n    case SHOW_MESSAGE: {\n      const { message } = action\n      return {\n        ...state,\n        message,\n      }\n    }\n    case DISMISS_MESSAGE: {\n      return {\n        ...state,\n        message: null,\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport default notificationsReducer\n","import { SET_PERMISSION } from '../constants/ActionTypes'\n\nconst INITIAL_STATE = { permission: 'owner' }\n\nconst permissionReducer =\n  (dataRepairers) =>\n  (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n      case SET_PERMISSION:\n        return {\n          permission: action.permission,\n        }\n      default:\n        return state\n    }\n  }\n\nexport default permissionReducer\n","import { cloneDeep } from 'lodash'\nimport {\n  ADD_PLACE,\n  EDIT_PLACE,\n  FILE_LOADED,\n  NEW_FILE,\n  RESET,\n  ADD_PLACE_WITH_VALUES,\n  ATTACH_PLACE_TO_CARD,\n  REMOVE_PLACE_FROM_CARD,\n  ATTACH_PLACE_TO_NOTE,\n  REMOVE_PLACE_FROM_NOTE,\n  DELETE_NOTE,\n  DELETE_CARD,\n  DELETE_PLACE,\n  DELETE_IMAGE,\n  EDIT_PLACES_ATTRIBUTE,\n  ATTACH_TAG_TO_PLACE,\n  REMOVE_TAG_FROM_PLACE,\n  ATTACH_BOOK_TO_PLACE,\n  REMOVE_BOOK_FROM_PLACE,\n  DELETE_TAG,\n  LOAD_PLACES,\n  EDIT_PLACE_TEMPLATE_ATTRIBUTE,\n  DUPLICATE_PLACE,\n  DELETE_PLACE_CATEGORY,\n} from '../constants/ActionTypes'\nimport { place } from '../store/initialState'\nimport { newFilePlaces } from '../store/newFileState'\nimport { nextId } from '../store/newIds'\nimport { applyToCustomAttributes } from './applyToCustomAttributes'\nimport { repairIfPresent } from './repairIfPresent'\n\nconst initialState = [place]\n\nconst places =\n  (dataRepairers) =>\n  (state = initialState, action) => {\n    const repair = repairIfPresent(dataRepairers)\n    switch (action.type) {\n      case ADD_PLACE:\n        return [\n          ...state,\n          {\n            ...place,\n            id: nextId(state),\n            name: action.name,\n            description: action.description,\n            notes: action.notes,\n          },\n        ]\n\n      case ADD_PLACE_WITH_VALUES:\n        return [\n          ...state,\n          {\n            ...place,\n            ...action.place,\n            id: nextId(state),\n          },\n        ]\n\n      case EDIT_PLACE:\n        return state.map((place) =>\n          place.id === action.id ? Object.assign({}, place, action.attributes) : place\n        )\n\n      case EDIT_PLACE_TEMPLATE_ATTRIBUTE: {\n        return state.map((place) => {\n          if (place.id === action.id) {\n            return {\n              ...place,\n              templates: place.templates.map((template) => {\n                if (template.id === action.templateId) {\n                  return {\n                    ...template,\n                    [action.name]: action.value,\n                  }\n                }\n                return template\n              }),\n            }\n          }\n          return place\n        })\n      }\n\n      case EDIT_PLACES_ATTRIBUTE:\n        if (\n          action.oldAttribute.type != 'text' &&\n          action.oldAttribute.name == action.newAttribute.name\n        )\n          return state\n\n        return state.map((p) => {\n          let pl = cloneDeep(p)\n\n          if (action.oldAttribute.name != action.newAttribute.name) {\n            // Firebase doesn't support undefined, so use null when the attribute isn't set\n            pl[action.newAttribute.name] = pl[action.oldAttribute.name] || null\n            delete pl[action.oldAttribute.name]\n          }\n\n          // reset value to blank string\n          // (if changing to something other than text type)\n          // see ../selectors/customAttributes.js for when this is allowed\n          if (action.oldAttribute.type == 'text') {\n            let desc = pl[action.newAttribute.name]\n            if (!desc || (desc && desc.length && typeof desc !== 'string')) {\n              desc = ''\n            }\n            pl[action.newAttribute.name] = desc\n          }\n          return pl\n        })\n\n      case ATTACH_PLACE_TO_CARD:\n        return state.map((place) => {\n          let cards = cloneDeep(place.cards)\n          cards.push(action.id)\n          return place.id === action.placeId ? Object.assign({}, place, { cards: cards }) : place\n        })\n\n      case REMOVE_PLACE_FROM_CARD:\n        return state.map((place) => {\n          let cards = cloneDeep(place.cards)\n          cards.splice(cards.indexOf(action.id), 1)\n          return place.id === action.placeId ? Object.assign({}, place, { cards: cards }) : place\n        })\n\n      case ATTACH_PLACE_TO_NOTE:\n        return state.map((place) => {\n          let notes = cloneDeep(place.noteIds)\n          notes.push(action.id)\n          return place.id === action.placeId ? Object.assign({}, place, { noteIds: notes }) : place\n        })\n\n      case REMOVE_PLACE_FROM_NOTE:\n        return state.map((place) => {\n          let notes = cloneDeep(place.noteIds)\n          notes.splice(notes.indexOf(action.id), 1)\n          return place.id === action.placeId ? Object.assign({}, place, { noteIds: notes }) : place\n        })\n\n      case ATTACH_TAG_TO_PLACE:\n        return state.map((place) => {\n          let tags = cloneDeep(place.tags)\n          tags.push(action.tagId)\n          return place.id === action.id ? Object.assign({}, place, { tags: tags }) : place\n        })\n\n      case REMOVE_TAG_FROM_PLACE:\n        return state.map((place) => {\n          let tags = cloneDeep(place.tags)\n          tags.splice(tags.indexOf(action.tagId), 1)\n          return place.id === action.id ? Object.assign({}, place, { tags: tags }) : place\n        })\n\n      case DELETE_TAG:\n        return state.map((place) => {\n          if (place.tags.includes(action.id)) {\n            let tags = cloneDeep(place.tags)\n            tags.splice(tags.indexOf(action.id), 1)\n            return Object.assign({}, place, { tags: tags })\n          } else {\n            return place\n          }\n        })\n\n      case ATTACH_BOOK_TO_PLACE:\n        return state.map((place) => {\n          let bookIds = cloneDeep(place.bookIds)\n          bookIds.push(action.bookId)\n          return place.id === action.id ? Object.assign({}, place, { bookIds: bookIds }) : place\n        })\n\n      case REMOVE_BOOK_FROM_PLACE:\n        return state.map((place) => {\n          let bookIds = cloneDeep(place.bookIds)\n          bookIds.splice(bookIds.indexOf(action.bookId), 1)\n          return place.id === action.id ? Object.assign({}, place, { bookIds: bookIds }) : place\n        })\n\n      case DELETE_NOTE:\n        return state.map((place) => {\n          let notes = cloneDeep(place.noteIds)\n          if (!notes) return place\n          notes.splice(notes.indexOf(action.id), 1)\n          return Object.assign({}, place, { noteIds: notes })\n        })\n\n      case DELETE_CARD:\n        return state.map((place) => {\n          let cards = cloneDeep(place.cards)\n          if (!cards) return place\n          cards.splice(cards.indexOf(action.id), 1)\n          return Object.assign({}, place, { cards: cards })\n        })\n\n      case DELETE_PLACE:\n        return state.filter((place) => place.id !== action.id)\n\n      case DELETE_IMAGE:\n        return state.map((pl) => {\n          if (action.id == pl.imageId) {\n            return {\n              ...pl,\n              imageId: null,\n            }\n          } else {\n            return pl\n          }\n        })\n\n      case DELETE_PLACE_CATEGORY: {\n        return state.map((place) => {\n          // In one case the ids are strings and the other they are numbers\n          // so just to be safe string them both\n          if (String(place.categoryId) !== String(action.category.id)) {\n            return place\n          }\n\n          return {\n            ...place,\n            categoryId: null,\n          }\n        })\n      }\n\n      case RESET:\n      case FILE_LOADED:\n        return action.data.places.map((place) => {\n          const normalizeRCEContent = repair('normalizeRCEContent')\n          return {\n            ...place,\n            ...applyToCustomAttributes(\n              place,\n              normalizeRCEContent,\n              action.data.customAttributes.places,\n              'paragraph'\n            ),\n            notes: normalizeRCEContent(place.notes),\n          }\n        })\n\n      case NEW_FILE:\n        return newFilePlaces\n\n      case LOAD_PLACES:\n        return action.places\n\n      case DUPLICATE_PLACE: {\n        const itemToDuplicate = state.find(({ id }) => id === action.id)\n        if (!itemToDuplicate) {\n          return state\n        }\n        const duplicated = {\n          ...cloneDeep(itemToDuplicate),\n          id: nextId(state),\n        }\n        return [...state, { ...duplicated }]\n      }\n\n      default:\n        return state\n    }\n  }\n\nexport default places\n","import {\n  SET_FILE_LIST,\n  SELECT_FILE,\n  SELECT_EMPTY_FILE,\n  SET_FILE_LOADED,\n  SHOW_LOADER,\n  UNSET_FILE_LOADED,\n  SET_OFFLINE,\n  SET_RESUMING,\n  SET_CHECKING_FOR_OFFLINE_DRIFT,\n  SET_OVERWRITING_CLOUD_WITH_BACKUP,\n  SET_SHOW_RESUME_MESSAGE_DIALOG,\n  SET_BACKING_UP_OFFLINE_FILE,\n  START_CREATING_NEW_PROJECT,\n  FINISH_CREATING_NEW_PROJECT,\n  EDIT_FILENAME,\n  FILE_LOADED,\n} from '../constants/ActionTypes'\nimport { urlPointsToPlottrCloud } from '../helpers/file'\n\nconst INITIAL_STATE = {\n  selectedFile: null,\n  fileURL: null,\n  userNameSearchResults: [],\n  fileLoaded: false,\n  isLoading: false,\n  isOffline: false,\n  resuming: false,\n  checkingOfflineDrift: false,\n  overwritingCloudWithBackup: false,\n  showResumeMessageDialog: false,\n  backingUpOfflineFile: false,\n}\n\nconst NEW_FILE = { fileName: 'New file', id: -1 }\n\nconst projectReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SELECT_FILE: {\n      // FIXME: this is set from knownFiles sometimes and from the\n      // current file's file record others.  It should only come from\n      // known files in the future.\n      return {\n        ...state,\n        selectedFile: action.selectedFile,\n        fileURL: action.selectedFile === null ? null : state.fileURL,\n        fileLoaded: false,\n      }\n    }\n    case SELECT_EMPTY_FILE:\n      return {\n        ...state,\n        fileURL: null,\n        selectedFile: null,\n      }\n    case SET_FILE_LOADED:\n      return {\n        ...state,\n        fileLoaded: true,\n      }\n    case UNSET_FILE_LOADED:\n      return {\n        ...state,\n        fileURL: null,\n        fileLoaded: false,\n      }\n    case SHOW_LOADER:\n      return {\n        ...state,\n        isLoading: action.isLoading,\n      }\n    case SET_OFFLINE: {\n      if (action.isOffline) {\n        return {\n          ...state,\n          isOffline: true,\n          resuming: false,\n        }\n      } else {\n        return {\n          ...state,\n          isOffline: false,\n          resuming:\n            state.isOffline &&\n            action.offlineModeIsEnabled &&\n            action.fileIsLoaded &&\n            urlPointsToPlottrCloud(state.fileURL),\n        }\n      }\n    }\n    case SET_RESUMING:\n      return {\n        ...state,\n        resuming: action.resuming,\n      }\n    case SET_CHECKING_FOR_OFFLINE_DRIFT:\n      return {\n        ...state,\n        checkingOfflineDrift: action.checkingOfflineDrift,\n      }\n    case SET_OVERWRITING_CLOUD_WITH_BACKUP:\n      return {\n        ...state,\n        overwritingCloudWithBackup: action.overwritingCloudWithBackup,\n      }\n    case SET_SHOW_RESUME_MESSAGE_DIALOG:\n      return {\n        ...state,\n        showResumeMessageDialog: action.showResumeMessageDialog,\n      }\n    case SET_BACKING_UP_OFFLINE_FILE:\n      return {\n        ...state,\n        backingUpOfflineFile: action.backingUpOfflineFile,\n      }\n    case START_CREATING_NEW_PROJECT:\n      return {\n        ...state,\n        projectNamingModalIsVisible: true,\n        template: action.template,\n        defaultName: action.defaultName,\n      }\n    case FINISH_CREATING_NEW_PROJECT:\n      return {\n        ...state,\n        projectNamingModalIsVisible: false,\n        template: null,\n        defaultName: null,\n      }\n    case FILE_LOADED: {\n      return {\n        ...state,\n        fileURL: action.fileURL,\n      }\n    }\n    case EDIT_FILENAME: {\n      return {\n        ...state,\n        selectedFile: {\n          ...state.selectedFile,\n          fileName: action.newName,\n        },\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport default projectReducer\n","export const repairIfPresent = (dataRepairers) => (name) => (data) => {\n  if (dataRepairers[name]) {\n    return dataRepairers[name](data)\n  }\n\n  return data\n}\n","import unrepairedMainReducer from './main'\nimport {\n  ADD_BOOK,\n  DELETE_BOOK,\n  CLEAR_TEMPLATE_FROM_TIMELINE,\n  RESET_TIMELINE,\n  ADD_BOOK_FROM_TEMPLATE,\n  ADD_LINES_FROM_TEMPLATE,\n  MOVE_CARD_TO_BOOK,\n  DUPLICATE_LINE,\n  MOVE_LINE,\n  ADD_BEAT,\n  INSERT_BEAT,\n  DELETE_BEAT,\n  CREATE_CHARACTER_ATTRIBUTE,\n  EDIT_CHARACTER_ATTRIBUTE_VALUE,\n  EDIT_CHARACTER_ATTRIBUTE_METADATA,\n  DELETE_CHARACTER_ATTRIBUTE,\n  REORDER_CHARACTER_ATTRIBUTE_METADATA,\n  ATTACH_TAG_TO_CHARACTER,\n  REMOVE_TAG_FROM_CHARACTER,\n  EDIT_CHARACTER_SHORT_DESCRIPTION,\n  EDIT_CHARACTER_DESCRIPTION,\n  EDIT_CHARACTER_CATEGORY,\n  DELETE_CHARACTER_CATEGORY,\n  ADD_CHARACTER,\n} from '../constants/ActionTypes'\nimport { selectedCharacterAttributeTabSelector, isSeriesSelector } from '../selectors/ui'\nimport { reduce, beatsByPosition, nextId as nextBeatId } from '../helpers/beats'\nimport { nextId, objectId } from '../store/newIds'\nimport * as tree from './tree'\nimport { beat as defaultBeat } from '../store/initialState'\nimport { cloneDeep } from 'lodash'\nimport { firstLineForBookSelector } from '../selectors/lines'\nimport { timelineViewIsTabbedSelector, currentTimelineSelector } from '../selectors/ui'\nimport {\n  sortedBeatsForAnotherBookSelector,\n  firstVisibleBeatForBookSelector,\n  timelineTabBeatIdsSelector,\n  timelineActiveTabSelector,\n} from '../selectors/beats'\nimport { addBeat } from '../actions/beats'\nimport { setTimelineView } from '../actions/ui'\nimport {\n  characterAttributesForBookSelector,\n  characterAttributsForBookByIdSelector,\n} from '../selectors/attributes'\nimport { permissionSelector } from '../selectors/permission'\nimport { ATTACH_CHARACTER_TO_CARD, DELETE_TAG } from '../../v1/constants/ActionTypes'\nimport { userIdSelector } from '../selectors/client'\nimport { shouldBeInProSelector } from '../selectors/shouldBeInPro'\n\nconst addCharacterAttributeDataForModifyingBaseAttribute = (baseAttributeName, state, action) => {\n  const currentBookId = selectedCharacterAttributeTabSelector(state)\n  const characterAttributes = characterAttributesForBookSelector(state)\n  const nextAttributeId = nextId(characterAttributes)\n  const availableAttributes = characterAttributsForBookByIdSelector(state)\n  const isThisTypeOfBaseAttribute = (attribute) => {\n    return attribute.type === 'base-attribute' && attribute.name === baseAttributeName\n  }\n  const existingBookAttribute = Object.values(availableAttributes).find(isThisTypeOfBaseAttribute)\n  const attributeId = existingBookAttribute?.id || nextAttributeId\n  return {\n    ...action,\n    currentBookId,\n    attributeId,\n  }\n}\n\nconst addPermission = (reducer) => {\n  return (state, action) => {\n    return reducer(state, {\n      ...action,\n      currentPermission: state && permissionSelector(state),\n      currentUserId: state && userIdSelector(state),\n      currentlyShouldBeLoggedIn: state && shouldBeInProSelector(state),\n    })\n  }\n}\n\n/**\n * `dataRepairers` is an object which contains various repairs to be\n * made to the data that's loaded from files.  We have it here because\n * often we make fixes to the application which we can't apply to\n * files in the wild.  The best we can do is make sure that the\n * problems are fixed when we load the file into the application.\n * It's the responsibility of each reducer to use applicable data\n * repairers to fix pieces of data which they apply to.\n *\n * The schema of the object is as follows:\n * {\n *   normalizeRCEContent: RCEContent => RCEContent\n * }\n */\nconst root = (dataRepairers) => (state, action) => {\n  const isSeries = action.type.includes('@@') ? false : isSeriesSelector(state)\n  const mainReducer = addPermission(unrepairedMainReducer(dataRepairers))\n  switch (action.type) {\n    case ATTACH_CHARACTER_TO_CARD: {\n      const currentTimeline = currentTimelineSelector(state)\n      return mainReducer(state, {\n        ...action,\n        currentTimeline,\n      })\n    }\n    case ADD_CHARACTER: {\n      const currentBookId = selectedCharacterAttributeTabSelector(state)\n      return mainReducer(state, {\n        ...action,\n        currentBookId,\n      })\n    }\n    // We might need to mint the books attribute when attaching a book\n    // to a character.\n    case EDIT_CHARACTER_CATEGORY:\n    case DELETE_CHARACTER_CATEGORY: {\n      const newAction = addCharacterAttributeDataForModifyingBaseAttribute(\n        'category',\n        state,\n        action\n      )\n      return mainReducer(state, newAction)\n    }\n    case EDIT_CHARACTER_DESCRIPTION: {\n      const newAction = addCharacterAttributeDataForModifyingBaseAttribute(\n        'description',\n        state,\n        action\n      )\n      return mainReducer(state, newAction)\n    }\n    case EDIT_CHARACTER_SHORT_DESCRIPTION: {\n      const newAction = addCharacterAttributeDataForModifyingBaseAttribute(\n        'shortDescription',\n        state,\n        action\n      )\n      return mainReducer(state, newAction)\n    }\n    case ATTACH_TAG_TO_CHARACTER:\n    case REMOVE_TAG_FROM_CHARACTER:\n    case DELETE_TAG: {\n      const newAction = addCharacterAttributeDataForModifyingBaseAttribute('tags', state, action)\n      return mainReducer(state, newAction)\n    }\n    // Actions for new attributes need the current book.\n    case REORDER_CHARACTER_ATTRIBUTE_METADATA:\n    case DELETE_CHARACTER_ATTRIBUTE:\n    case EDIT_CHARACTER_ATTRIBUTE_METADATA:\n    case EDIT_CHARACTER_ATTRIBUTE_VALUE:\n    case CREATE_CHARACTER_ATTRIBUTE: {\n      const bookId = selectedCharacterAttributeTabSelector(state)\n      const characterAttributes = characterAttributesForBookSelector(state)\n      const nextAttributeId = nextId(characterAttributes)\n      const newAction = {\n        ...action,\n        bookId,\n        nextAttributeId,\n      }\n      return mainReducer(state, newAction)\n    }\n    case DELETE_BEAT: {\n      const topLevelbeatIds = timelineTabBeatIdsSelector(state)\n      const position = topLevelbeatIds.indexOf(action.id)\n      if (position !== -1) {\n        if (topLevelbeatIds.length > 1) {\n          if (position === 0) {\n            return mainReducer(state, { ...action, actTab: topLevelbeatIds[1] })\n          } else {\n            return mainReducer(state, { ...action, actTab: topLevelbeatIds[position - 1] })\n          }\n        } else {\n          const withDefaultView = mainReducer(state, setTimelineView('default'))\n          return mainReducer(withDefaultView, { ...action, actTab: topLevelbeatIds[position - 1] })\n        }\n      }\n      return mainReducer(state, action)\n    }\n\n    case INSERT_BEAT: {\n      const timelineViewIsTabbed = timelineViewIsTabbedSelector(state)\n      if (timelineViewIsTabbed) {\n        const activeParentId = timelineActiveTabSelector(state)\n        return mainReducer(state, { ...action, parentId: activeParentId })\n      }\n      return mainReducer(state, action)\n    }\n\n    case ADD_BOOK:\n      return mainReducer(state, { ...action, newBookId: objectId(state.books.allIds) })\n\n    case ADD_BOOK_FROM_TEMPLATE:\n      // cards from the template need to know the new ids of lines and beats from the template\n      // the strategy here is to use the state's next id value + the template id's current value\n      // the card reducer will have access to the state's next id value so it will be able to determine the correct id\n      return mainReducer(state, {\n        ...action,\n        newBookId: objectId(state.books.allIds),\n        nextLineId: nextId(state.lines),\n        nextBeatId: nextBeatId(state.beats),\n        nextCardId: nextId(state.cards),\n      })\n\n    case MOVE_CARD_TO_BOOK: {\n      const destinationLineId = firstLineForBookSelector(state, action.bookId).id\n      const destinationBeatId = firstVisibleBeatForBookSelector(state, action.bookId).id\n\n      const newAction = {\n        ...action,\n        destinationLineId,\n        destinationBeatId,\n      }\n\n      return mainReducer(state, newAction)\n    }\n\n    case DUPLICATE_LINE: {\n      const newLineId = nextId(state.lines)\n      const newAction = {\n        ...action,\n        newLineId,\n      }\n\n      return mainReducer(state, newAction)\n    }\n\n    case ADD_LINES_FROM_TEMPLATE: {\n      // cards from the template need to know the new ids of lines (and sometimes beats) from the template\n      // FOR LINES:\n      // the strategy here is to use the state's next id value + the template id's current value\n      // the card reducer will have access to the state's next id value so it will be able to determine the correct id\n      // FOR BEATS:\n      // cards will use the cardToBeatIdMap to use the current book's beat ids\n      // but if more beats are needed, they will be created with subsequent ids\n      const bookId = state.ui.currentTimeline\n      let nextIdForBeats = nextBeatId(state.beats)\n      let beatTree = cloneDeep(state.beats[bookId])\n      let createdNewBeats = false\n      // make a card -> beatId mapping (beatId is from existing beats  augmented with new ones)\n      const beatPositions = beatsByPosition(() => true)(beatTree).map(({ id }) => id)\n      const cardToBeatIdMap = action.templateData.cards.reduce((acc, card) => {\n        const beat = tree.findNode(action.templateData.beats['1'], card.beatId)\n        if (beatPositions[beat.position]) {\n          // a beat in that position exists, so use it's id\n          acc[card.id] = beatPositions[beat.position]\n        } else {\n          // a beat doesn't exist in that position, so create it\n          const nextBeat = {\n            ...defaultBeat,\n            bookId: bookId,\n            id: ++nextIdForBeats,\n            position: beat.position,\n          }\n          beatTree = tree.addNode('id')(beatTree, null, nextBeat)\n          createdNewBeats = true\n          acc[card.id] = nextIdForBeats\n        }\n        return acc\n      }, {})\n\n      return mainReducer(state, {\n        ...action,\n        bookId: bookId,\n        nextLineId: nextId(state.lines),\n        nextBeatId: ++nextIdForBeats,\n        nextCardId: nextId(state.cards),\n        createdNewBeats: createdNewBeats,\n        newTree: beatTree,\n        cardToBeatIdMap: cardToBeatIdMap,\n      })\n    }\n\n    case DELETE_BOOK: {\n      const linesToDelete = state.lines.filter((l) => l.bookId == action.id).map((l) => l.id)\n      const newAction = {\n        ...action,\n        linesToDelete: linesToDelete,\n      }\n      if (state.ui.currentTimeline == action.id) {\n        const nextBookId = state.books.allIds.find((id) => id != action.id)\n        let newState = { ...state }\n        newState.ui.currentTimeline = nextBookId\n        return mainReducer(newState, newAction)\n      } else {\n        return mainReducer(state, newAction)\n      }\n    }\n\n    case CLEAR_TEMPLATE_FROM_TIMELINE: {\n      // finding beats that will NOT be removed\n      const beatIdsToClear = reduce(\n        state.beats,\n        (acc, beat) => {\n          if (beat.bookId != action.bookId || beat.fromTemplateId != action.templateId) {\n            acc[beat.id] = true\n          }\n          return acc\n        },\n        {}\n      )\n      // finding lines that will NOT be removed\n      const lineIdsToClear = state.lines.reduce((acc, l) => {\n        if (l.bookId != action.bookId || l.fromTemplateId != action.templateId) {\n          acc[l.id] = true\n        }\n        return acc\n      }, {})\n      const newClearAction = { ...action, beatIds: beatIdsToClear, lineIds: lineIdsToClear }\n      return mainReducer(state, newClearAction)\n    }\n\n    case RESET_TIMELINE: {\n      let newResetAction = { ...action, isSeries }\n      // finding beats that will NOT be removed\n      const beatIdsToReset = reduce(\n        state.beats,\n        (acc, beat) => {\n          if (beat.bookId != action.bookId) {\n            acc[beat.id] = true\n          }\n          return acc\n        },\n        {}\n      )\n      // finding lines that will NOT be removed\n      const lineIdsToReset = state.lines.reduce((acc, l) => {\n        if (l.bookId != action.bookId) {\n          acc[l.id] = true\n        }\n        return acc\n      }, {})\n      newResetAction = {\n        ...newResetAction,\n        beatIds: beatIdsToReset,\n        lineIds: lineIdsToReset,\n      }\n      return mainReducer(state, newResetAction)\n    }\n\n    case MOVE_LINE: {\n      const sourceLine = state.lines.find(({ id }) => {\n        return id === action.id\n      })\n\n      if (!sourceLine || sourceLine.bookId === action.destinationBookId) {\n        return state\n      }\n\n      const sourceCards = state.cards.filter(({ lineId }) => {\n        return lineId === action.id\n      })\n      const beatsForLine = sourceCards.map(({ beatId }) => {\n        return beatId\n      })\n\n      const positionOfBeat = (beatId, beatIds) => {\n        return beatIds.indexOf(beatId)\n      }\n\n      const beatsInSourceBook = sortedBeatsForAnotherBookSelector(state, sourceLine.bookId)\n      const beatIdsInSourceBook = beatsInSourceBook.map(({ id }) => id)\n      const cardToPositionMapping = sourceCards.reduce((acc, nextCard) => {\n        return {\n          ...acc,\n          [nextCard.id]: positionOfBeat(nextCard.beatId, beatIdsInSourceBook),\n        }\n      }, {})\n      const beatsInDestinationBook = sortedBeatsForAnotherBookSelector(\n        state,\n        action.destinationBookId\n      )\n      const requiredNumberOfBeats = beatsForLine.reduce((furthestPosition, nextBeat) => {\n        const positionOfCardsBeat = beatIdsInSourceBook.indexOf(nextBeat) + 1\n        return Math.max(positionOfCardsBeat, furthestPosition)\n      }, 0)\n      const numberOfBeatsAtDestination = beatsInDestinationBook.length\n\n      if (numberOfBeatsAtDestination < requiredNumberOfBeats) {\n        let stateWithEnoughBeats = state\n        for (let i = 0; i < requiredNumberOfBeats - numberOfBeatsAtDestination; ++i) {\n          stateWithEnoughBeats = mainReducer(\n            stateWithEnoughBeats,\n            addBeat(action.destinationBookId, null)\n          )\n        }\n        const beatsInDestinationBook = sortedBeatsForAnotherBookSelector(\n          stateWithEnoughBeats,\n          action.destinationBookId\n        )\n        const beatIdsInDestinationBook = beatsInDestinationBook.map(({ id }) => id)\n        const cardToBeatIdMapping = sourceCards.reduce((acc, nextCard) => {\n          return {\n            ...acc,\n            [nextCard.id]: beatIdsInDestinationBook[cardToPositionMapping[nextCard.id]],\n          }\n        }, {})\n        return mainReducer(stateWithEnoughBeats, {\n          ...action,\n          cardToBeatIdMapping,\n        })\n      }\n\n      const beatIdsInDestinationBook = beatsInDestinationBook.map(({ id }) => id)\n      const cardToBeatIdMapping = sourceCards.reduce((acc, nextCard) => {\n        return {\n          ...acc,\n          [nextCard.id]: beatIdsInDestinationBook[cardToPositionMapping[nextCard.id]],\n        }\n      }, {})\n      return mainReducer(state, {\n        ...action,\n        cardToBeatIdMapping,\n      })\n    }\n\n    default:\n      return mainReducer(state, action)\n  }\n}\n\nexport default root\n","import { FILE_LOADED, NEW_FILE, RESET, EDIT_SERIES, LOAD_SERIES } from '../constants/ActionTypes'\nimport { series as defaultSeries } from '../store/initialState'\nimport { newFileSeries } from '../store/newFileState'\n\nconst series =\n  (dataRepairers) =>\n  (state = defaultSeries, action) => {\n    switch (action.type) {\n      case EDIT_SERIES:\n        return {\n          ...state,\n          ...action.attributes,\n        }\n\n      case RESET:\n      case FILE_LOADED:\n        return action.data.series\n\n      case NEW_FILE:\n        return newFileSeries\n\n      case LOAD_SERIES:\n        return action.series\n\n      default:\n        return state\n    }\n  }\n\nexport default series\n","import {\n  SET_EXPORT_SETTINGS,\n  SET_USER_SETTINGS,\n  SET_APP_SETTINGS,\n  SET_DARK_MODE,\n} from '../constants/ActionTypes'\n\nconst INITIAL_STATE = {\n  exportSettings: {\n    saveSettings: true,\n    savedType: 'word',\n    scrivener: {\n      general: {},\n      outline: {\n        export: true,\n        columnOrRow: 'column',\n        sceneCards: true,\n        plotlineInTitle: true,\n        attachments: true,\n        description: true,\n        descriptionHeading: true,\n        where: 'synopsis',\n        customAttributes: true,\n        templates: true,\n        filter: null,\n      },\n      characters: {\n        export: true,\n        heading: true,\n        description: true,\n        descriptionHeading: true,\n        attachments: true,\n        notesHeading: true,\n        notes: true,\n        customAttributes: true,\n        templates: true,\n        tags: true,\n        categoryHeading: true,\n        category: true,\n      },\n      places: {\n        export: true,\n        heading: true,\n        description: true,\n        descriptionHeading: true,\n        attachments: true,\n        notesHeading: true,\n        notes: true,\n        customAttributes: true,\n        tags: true,\n      },\n      notes: {\n        export: true,\n        heading: true,\n        attachments: true,\n        content: true,\n      },\n    },\n    word: {\n      general: {\n        titlePage: true,\n      },\n      outline: {\n        export: true,\n        columnOrRow: 'column',\n        heading: true,\n        sceneCards: true,\n        plotlineInTitle: true,\n        attachments: true,\n        description: true,\n        customAttributes: true,\n        templates: true,\n        filter: null,\n      },\n      characters: {\n        export: true,\n        heading: true,\n        images: true,\n        descriptionHeading: true,\n        description: true,\n        attachments: true,\n        notesHeading: true,\n        notes: true,\n        customAttributes: true,\n        templates: true,\n        categoryHeading: true,\n        category: true,\n      },\n      places: {\n        export: true,\n        heading: true,\n        images: true,\n        descriptionHeading: true,\n        description: true,\n        attachments: true,\n        notesHeading: true,\n        notes: true,\n        customAttributes: true,\n      },\n      notes: {\n        export: true,\n        heading: true,\n        images: true,\n        attachments: true,\n        content: true,\n      },\n    },\n  },\n  appSettings: {\n    showTheTour: false,\n    backup: true,\n    allowPrerelease: false,\n    forceDevTools: false,\n    trialMode: false,\n    canGetUpdates: true,\n    isInGracePeriod: false,\n    gracePeriodEnd: 0,\n    canEdit: true,\n    canExport: true,\n    user: {\n      autoDownloadUpdate: true,\n      autoSave: true,\n      backupDays: null,\n      backupLocation: 'default',\n      dark: 'dark',\n      numberOfBackups: null,\n      openDashboardFirst: true,\n      backupType: 'never-delete',\n      localBackups: false,\n      email: 'test@test.com',\n      beatHierarchy: false,\n      enableOfflineMode: false,\n      useSpellcheck: true,\n      font: 'Forum',\n      fontSize: 20,\n    },\n  },\n  userSettings: {\n    // TODO: these seem to be the same as license data based on the\n    // path of the USER store(!?)\n  },\n}\n\nconst settingsReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SET_EXPORT_SETTINGS: {\n      return {\n        ...state,\n        exportSettings: action.exportSettings,\n      }\n    }\n    case SET_USER_SETTINGS: {\n      return {\n        ...state,\n        userSettings: action.userSettings,\n      }\n    }\n    case SET_APP_SETTINGS: {\n      return {\n        ...state,\n        appSettings: action.appSettings,\n      }\n    }\n    case SET_DARK_MODE: {\n      return {\n        ...state,\n        appSettings: {\n          ...state.appSettings,\n          dark: action.value,\n        },\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default settingsReducer\n","import {\n  ACTION_ACTIONS,\n  CLIENT_ACTIONS,\n  ERROR_ACTIONS,\n  PERMISSION_ACTIONS,\n  PROJECT_ACTIONS,\n  LICENSE_ACTIONS,\n  KNOWN_FILES_ACTIONS,\n  TEMPLATE_ACTIONS,\n  SETTINGS_ACTIONS,\n  BACKUP_ACTIONS,\n  APPLICATION_STATE_ACTIONS,\n  IMAGE_CACHE_ACTIONS,\n  NOTIFICATION_ACTIONS,\n  DOM_EVENT_ACTIONS,\n  TESTING_AND_DIAGNOSIS_ACTIONS,\n} from '../constants/ActionTypes'\n\nexport const SYSTEM_REDUCER_KEYS = [\n  'error',\n  'permission',\n  'project',\n  'actions',\n  'client',\n  'license',\n  'knownFiles',\n  'templates',\n  'settings',\n  'backups',\n  'applicationState',\n  'imageCache',\n  'notifications',\n  'domEvents',\n  'testingAndDiagnosis',\n  'editors',\n]\nexport const SYSTEM_REDUCER_ACTION_TYPES = ERROR_ACTIONS.concat(PERMISSION_ACTIONS)\n  .concat(PROJECT_ACTIONS)\n  .concat(ACTION_ACTIONS)\n  .concat(CLIENT_ACTIONS)\n  .concat(LICENSE_ACTIONS)\n  .concat(KNOWN_FILES_ACTIONS)\n  .concat(TEMPLATE_ACTIONS)\n  .concat(SETTINGS_ACTIONS)\n  .concat(BACKUP_ACTIONS)\n  .concat(APPLICATION_STATE_ACTIONS)\n  .concat(IMAGE_CACHE_ACTIONS)\n  .concat(NOTIFICATION_ACTIONS)\n  .concat(DOM_EVENT_ACTIONS)\n  .concat(TESTING_AND_DIAGNOSIS_ACTIONS)\n\nexport const removeSystemKeys = (jsonData) => {\n  const withoutSystemKeys = {}\n  Object.keys(jsonData).map((key) => {\n    if (SYSTEM_REDUCER_KEYS.indexOf(key) >= 0) return\n    withoutSystemKeys[key] = jsonData[key]\n  })\n  return withoutSystemKeys\n}\n","import { cloneDeep } from 'lodash'\nimport {\n  ADD_TAG,\n  ADD_CREATED_TAG,\n  EDIT_TAG,\n  DELETE_TAG,\n  FILE_LOADED,\n  NEW_FILE,\n  RESET,\n  DELETE_TAG_CATEGORY,\n  LOAD_TAGS,\n  DUPLICATE_TAG,\n} from '../constants/ActionTypes'\nimport { tag } from '../store/initialState'\nimport { newFileTags } from '../store/newFileState'\nimport { nextId } from '../store/newIds'\n\nconst initialState = [tag]\n\nconst tags =\n  (dataRepairers) =>\n  (state = initialState, action) => {\n    switch (action.type) {\n      case ADD_TAG:\n        return [\n          ...state,\n          {\n            id: nextId(state),\n            title: tag.title,\n            color: tag.color,\n          },\n        ]\n\n      case ADD_CREATED_TAG:\n        return [\n          ...state,\n          {\n            ...tag,\n            id: nextId(state),\n            ...action.attributes,\n          },\n        ]\n\n      case EDIT_TAG:\n        return state.map((tag) =>\n          tag.id === action.id\n            ? Object.assign({}, tag, {\n                title: action.title,\n                color: action.color,\n                categoryId: action.categoryId,\n              })\n            : tag\n        )\n\n      case DELETE_TAG:\n        return state.filter((tag) => tag.id !== action.id)\n\n      case RESET:\n      case FILE_LOADED:\n        return action.data.tags\n\n      case NEW_FILE:\n        return newFileTags\n\n      case DELETE_TAG_CATEGORY:\n        return state.map((tag) => {\n          // In one case the ids are strings and the other they are numbers\n          // so just to be safe string them both\n          if (String(tag.categoryId) !== String(action.category.id)) {\n            return tag\n          }\n\n          return {\n            ...tag,\n            categoryId: null,\n          }\n        })\n\n      case LOAD_TAGS:\n        return action.tags\n\n      case DUPLICATE_TAG: {\n        const itemToDuplicate = state.find(({ id }) => id === action.id)\n        if (!itemToDuplicate) {\n          return state\n        }\n        const duplicated = {\n          ...cloneDeep(itemToDuplicate),\n          id: nextId(state),\n        }\n        return [...state, { ...duplicated }]\n      }\n\n      default:\n        return state\n    }\n  }\n\nexport default tags\n","import {\n  SET_TEMPLATES,\n  SET_CUSTOM_TEMPLATES,\n  SET_TEMPLATE_MANIFEST,\n} from '../constants/ActionTypes'\n\nconst INITIAL_STATE = {\n  templates: {},\n  customTemplates: {},\n  templateManifest: {},\n}\n\nconst templatesReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SET_TEMPLATES: {\n      return {\n        ...state,\n        templates: action.templates,\n      }\n    }\n    case SET_CUSTOM_TEMPLATES: {\n      return {\n        ...state,\n        customTemplates: action.customTemplates,\n      }\n    }\n    case SET_TEMPLATE_MANIFEST: {\n      return {\n        ...state,\n        templateManifest: action.templateManifest,\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default templatesReducer\n","import { ENABLE_TEST_UTILITIES } from '../constants/ActionTypes'\n\nconst INITIAL_STATE = {\n  testingAndDiagnosisEnabled: false,\n}\n\nconst testingAndDiagnosis = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case ENABLE_TEST_UTILITIES: {\n      return {\n        ...state,\n        testingAndDiagnosisEnabled: true,\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default testingAndDiagnosis\n","import { clone } from 'lodash'\n\n/* Tree is (minimally):\n *  { id }, { id: node, ... }, { id: [{ id }],... }\n *\n * Where the object is an index of the data associated with each node\n * and { id } is a heap of parent associations.  i.e. node with id 4\n * has a parent of { id } at key 4.  The third object is a tree of\n * child associations.\n *\n * The root node is null.  i.e. children(null) => all top level nodes\n * in the hierarchy.\n */\n\nexport const children = ({ children, index }, nodeId) => {\n  if (index[nodeId] === undefined && nodeId !== null) return undefined\n\n  return children[nodeId].map((key) => index[key])\n}\n\n/* If A null parentId is supplied then add node at the top level.\n */\nexport const addNode = (idProp) => (tree, parentId, node) => {\n  const { heap, index } = tree\n  if (parentId && !index[parentId]) return tree\n\n  if (!index[node[idProp]]) {\n    const parentChildren = children(tree, parentId)\n    return {\n      children: {\n        ...tree.children,\n        ...(parentChildren ? { [parentId]: [...tree.children[parentId], node[idProp]] } : {}),\n        [node[idProp]]: [],\n      },\n      heap: { ...heap, [node[idProp]]: parentId },\n      index: { ...tree.index, [node[idProp]]: node },\n    }\n  }\n\n  return tree\n}\n\nexport const findNode = ({ index }, nodeId) => {\n  return index[nodeId]\n}\n\nexport const nodeParent = ({ heap }, nodeId) => {\n  return heap[nodeId]\n}\n\nexport const rootParentId = (tree, nodeId) => {\n  let rootParent = nodeId\n  while (nodeParent(tree, rootParent) !== null) {\n    rootParent = nodeParent(tree, rootParent)\n  }\n  return rootParent\n}\n\nexport const depth = ({ heap, index }, nodeId) => {\n  if (index[nodeId] === undefined && nodeId !== null) return undefined\n\n  let depth = 0\n  let current = heap[nodeId]\n  while (current !== undefined && current !== null) {\n    ++depth\n    current = heap[current]\n  }\n  return depth\n}\n\nexport const deleteNode = (tree, nodeId) => {\n  if (!tree.index[nodeId]) return tree\n\n  const parentId = nodeParent(tree, nodeId)\n  const newTree = {\n    children: clone({\n      ...tree.children,\n      ...(parentId !== undefined\n        ? { [parentId]: tree.children[parentId].filter((id) => id !== nodeId) }\n        : {}),\n    }),\n    heap: clone(tree.heap),\n    index: clone(tree.index),\n  }\n  const toDelete = [nodeId]\n  while (toDelete.length) {\n    const idToDelete = toDelete.pop()\n    tree.children[idToDelete].forEach((id) => {\n      toDelete.push(id)\n    })\n    delete newTree.children[idToDelete]\n    delete newTree.heap[idToDelete]\n    delete newTree.index[idToDelete]\n  }\n  return newTree\n}\n\nexport const moveNode = (tree, nodeId, newParent) => {\n  // Con't move root of tree\n  if (nodeId === null) return tree\n  // Can't move non-existant node\n  if (tree.index[nodeId] === undefined && nodeId !== null) return tree\n  // Can't move to non-existant parent\n  if (tree.index[newParent] === undefined && newParent !== null) return tree\n  // Can't move to same spot\n  if (nodeId === newParent) return tree\n\n  const { index, heap, children } = tree\n\n  const oldParentId = heap[nodeId]\n  if (newParent === oldParentId) return tree\n\n  return {\n    index,\n    heap: {\n      ...heap,\n      [nodeId]: newParent,\n    },\n    children: {\n      ...children,\n      [newParent]: [...children[newParent], nodeId],\n      [oldParentId]: [...children[oldParentId]].filter((x) => x !== nodeId),\n    },\n  }\n}\n\nexport const nextId =\n  (idProp) =>\n  ({ index }) => {\n    return (\n      Object.values(index)\n        .map((x) => x[idProp])\n        .reduce((maxId, id) => Math.max(id, maxId), 0) + 1\n    )\n  }\n\nexport const newTree = (idProp, ...rootEntities) => {\n  const tree = {\n    children: {\n      null: rootEntities.map((x) => x[idProp]),\n      // Children to be added...\n    },\n    heap: {\n      // Parents to be added\n    },\n    index: {\n      // Items to be added\n    },\n  }\n\n  rootEntities.forEach((entity) => {\n    const entityId = entity[idProp]\n    tree.children[entityId] = []\n    tree.heap[entityId] = null\n    tree.index[entityId] = entity\n  })\n\n  return tree\n}\n\nexport const editNode = (tree, nodeId, newAttributes) => {\n  if (!nodeId || !tree.index[nodeId]) return tree\n\n  const { index, children, heap } = tree\n\n  return {\n    children,\n    heap,\n    index: {\n      ...index,\n      [nodeId]: {\n        ...index[nodeId],\n        ...newAttributes,\n      },\n    },\n  }\n}\n\nexport const replaceNode = (tree, nodeId, newNode) => {\n  if (!nodeId || !tree.index[nodeId]) return tree\n\n  const { index, children, heap } = tree\n\n  return {\n    children,\n    heap,\n    index: {\n      ...index,\n      [nodeId]: newNode,\n    },\n  }\n}\n\nexport const map = (tree, f) => {\n  return Object.keys(tree.index).reduce((acc, nodeId) => {\n    const node = findNode(acc, nodeId)\n    return replaceNode(acc, nodeId, f(node))\n  }, tree)\n}\n\nexport const forEach = (tree, f) => {\n  return Object.keys(tree.index).forEach((nodeId) => {\n    const node = findNode(tree, nodeId)\n    f(node)\n  }, tree)\n}\n\nexport const filter = (tree, f) => {\n  return Object.keys(tree.index).reduce((acc, nodeId) => {\n    // We could have filtered this child already...\n    if (!findNode(acc, nodeId)) return acc\n    if (f(findNode(acc, nodeId))) {\n      return acc\n    } else {\n      return deleteNode(acc, parseInt(nodeId))\n    }\n  }, tree)\n}\n\n// Contract: reduce must process the nodes in the supplied tree, from the root node, down to the children.\n// This is important to the consumers of this function who might want to process the tree, knowing, that all\n// ancestors of the current node were already processed.\nexport const reduce = (idProp) => (tree, f, initialValue) => {\n  function iter(acc, nodeId, parentId) {\n    const next = nodeId === null ? acc : f(acc, findNode(tree, nodeId), parentId)\n    return children(tree, nodeId).reduce((acc, entity) => {\n      return iter(acc, entity[idProp], nodeId)\n    }, next)\n  }\n\n  return iter(initialValue, null, null)\n}\n","import { omit } from 'lodash'\n\nimport {\n  ADD_PLACES_ATTRIBUTE,\n  CHANGE_CURRENT_TIMELINE,\n  CHANGE_CURRENT_VIEW,\n  CHANGE_ORIENTATION,\n  CLOSE_ATTRIBUTES_DIALOG,\n  COLLAPSE_TIMELINE,\n  EDIT_PLACES_ATTRIBUTE,\n  EXPAND_TIMELINE,\n  FILE_LOADED,\n  LOAD_UI,\n  LOAD_BEATS,\n  NAVIGATE_TO_BOOK_TIMELINE,\n  NEW_FILE,\n  OPEN_ATTRIBUTES_DIALOG,\n  RECORD_SCROLL_POSITION,\n  REMOVE_PLACES_ATTRIBUTE,\n  SET_CHARACTER_FILTER,\n  SET_CHARACTER_SORT,\n  SET_NOTE_FILTER,\n  SET_NOTE_SORT,\n  SET_OUTLINE_FILTER,\n  SET_PLACE_FILTER,\n  SET_PLACE_SORT,\n  SET_TIMELINE_FILTER,\n  SET_TIMELINE_SIZE,\n  SET_NOTES_SEARCH_TERM,\n  SET_TAGS_SEARCH_TERM,\n  SET_PLACES_SEARCH_TERM,\n  SET_CHARACTERS_SEARCH_TERM,\n  SET_OUTLINE_SEARCH_TERM,\n  SET_TIMELINE_SEARCH_TERM,\n  ADD_NOTE,\n  ADD_CHARACTER,\n  ADD_PLACE,\n  ADD_TAG,\n  ADD_CARD,\n  ADD_CREATED_TAG,\n  SET_ACTIVE_TIMELINE_TAB,\n  SET_TIMELINE_VIEW,\n  DELETE_BEAT,\n  SELECT_CHARACTER_ATTRIBUTE_BOOK_TAB,\n  SELECT_CHARACTER,\n  DELETE_CHARACTER_ATTRIBUTE,\n  DELETE_BOOK,\n  REORDER_CHARACTER_ATTRIBUTE_METADATA,\n  CREATE_CHARACTER_ATTRIBUTE,\n  DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE,\n  EDIT_CHARACTER_ATTRIBUTE_METADATA,\n  SET_CARD_DIALOG_OPEN,\n  SET_CARD_DIALOG_CLOSE,\n  DELETE_CARD,\n  CHANGE_BEAT,\n  CHANGE_LINE,\n  OPEN_NEW_BOOK_DIALOG,\n  OPEN_EDIT_BOOK_DIALOG,\n  CLOSE_BOOK_DIALOG,\n  MOVE_CARD_TO_BOOK,\n} from '../constants/ActionTypes'\nimport { ui as defaultUI } from '../store/initialState'\nimport { newFileUI } from '../store/newFileState'\nimport { characterAttributesForCurrentBookSelector } from '../selectors/attributes'\n\nconst removeCustomAttributeFilter = (state, action) => {\n  if (!state.characterFilter || !state.characterFilter[(action.id || action.name).toString()]) {\n    return state\n  }\n\n  const currentFilter = state.characterFilter\n\n  return {\n    ...state,\n    characterFilter: omit(currentFilter, action.id.toString()),\n  }\n}\n\nconst addCustomAttributeOrdering = (state, fullState) => {\n  const toAttributeOrderEntry = (attribute) => {\n    if (attribute.id) {\n      return {\n        type: 'attributes',\n        id: attribute.id,\n      }\n    }\n\n    return {\n      type: 'customAttributes',\n      name: attribute.name,\n    }\n  }\n\n  // Case 1: there is no custom attribute ordering\n  if (!state.customAttributeOrder) {\n    const attributes = fullState?.ui ? characterAttributesForCurrentBookSelector(fullState) : []\n    return {\n      ...state,\n      customAttributeOrder: {\n        characters: attributes.map(toAttributeOrderEntry),\n      },\n    }\n  }\n\n  // Case 2: there is an incomplete custom attribute ordering\n  const attributes = fullState?.ui ? characterAttributesForCurrentBookSelector(fullState) : []\n  const notOrdered = attributes.filter((attribute) => {\n    return !state.customAttributeOrder.characters.some((orderEntry) => {\n      if (attribute.id) {\n        return orderEntry.type === 'attributes' && orderEntry.id === attribute.id\n      }\n\n      return orderEntry.type === 'customAttributes' && orderEntry.name === attribute.name\n    })\n  })\n  if (notOrdered.length > 0) {\n    return {\n      ...state,\n      customAttributeOrder: {\n        characters: [\n          ...state.customAttributeOrder.characters,\n          ...notOrdered.map(toAttributeOrderEntry),\n        ],\n      },\n    }\n  }\n\n  return state\n}\n\nconst updateUI = (state, action) => {\n  let filter\n\n  switch (action.type) {\n    case CHANGE_CURRENT_VIEW:\n      return Object.assign({}, state, { currentView: action.view })\n\n    case CHANGE_ORIENTATION:\n      return Object.assign({}, state, { orientation: action.orientation })\n\n    case CHANGE_CURRENT_TIMELINE:\n      return Object.assign({}, state, {\n        currentTimeline: action.id,\n        timelineScrollPosition: { x: 0, y: 0 },\n      })\n\n    case LOAD_BEATS: {\n      if (!action.beats[state.currentTimeline]) {\n        return {\n          ...state,\n          currentTimeline: Object.keys(action.beats)[0],\n        }\n      }\n      return state\n    }\n\n    case NAVIGATE_TO_BOOK_TIMELINE:\n      return Object.assign({}, state, {\n        currentTimeline: action.bookId,\n        currentView: 'timeline',\n        timelineScrollPosition: { x: 0, y: 0 },\n      })\n\n    case EXPAND_TIMELINE:\n      return Object.assign({}, state, { timelineIsExpanded: true })\n\n    case COLLAPSE_TIMELINE:\n      return Object.assign({}, state, { timelineIsExpanded: false })\n\n    case SET_CHARACTER_SORT:\n      return Object.assign({}, state, { characterSort: `${action.attr}~${action.direction}` })\n\n    case SET_PLACE_SORT:\n      return Object.assign({}, state, { placeSort: `${action.attr}~${action.direction}` })\n\n    case SET_NOTE_SORT:\n      return Object.assign({}, state, { noteSort: `${action.attr}~${action.direction}` })\n\n    case SET_NOTE_FILTER:\n      return Object.assign({}, state, { noteFilter: action.filter })\n\n    case SET_CHARACTER_FILTER:\n      return Object.assign({}, state, { characterFilter: action.filter })\n\n    case ADD_PLACES_ATTRIBUTE:\n      filter = { ...state.placeFilter }\n      if (action.attribute.type == 'paragraph') return state\n      filter[action.attribute.name] = []\n      return Object.assign({}, state, { placeFilter: filter })\n\n    case REMOVE_PLACES_ATTRIBUTE:\n      filter = { ...state.placeFilter }\n      delete filter[action.attribute]\n      return Object.assign({}, state, { placeFilter: filter })\n\n    case EDIT_PLACES_ATTRIBUTE:\n      filter = { ...state.placeFilter }\n      delete filter[action.oldAttribute.name]\n      if (action.newAttribute.type == 'paragraph') return state\n      filter[action.newAttribute.name] = []\n      return Object.assign({}, state, { placeFilter: filter })\n\n    case SET_PLACE_FILTER:\n      return Object.assign({}, state, { placeFilter: action.filter })\n\n    case SET_TIMELINE_FILTER:\n      return Object.assign({}, state, { timelineFilter: action.filter })\n\n    case SET_OUTLINE_FILTER: {\n      if (!action.filter || !Object.values(action.filter)) {\n        filter = null\n      } else if (typeof action.filter === 'object') {\n        filter = action.filter\n      } else if (\n        Array.isArray(state.outlineFilter) &&\n        state.outlineFilter.includes(action.filter)\n      ) {\n        filter = state.outlineFilter.filter((item) => item !== action.filter)\n        if (filter.length === 0) {\n          filter = null\n        }\n      } else if (!Array.isArray(state.outlineFilter)) {\n        filter = [action.filter]\n      } else if (Array.isArray(state.outlineFilter)) {\n        filter = [...state.outlineFilter, action.filter]\n      }\n\n      return Object.assign({}, state, { outlineFilter: filter })\n    }\n\n    case FILE_LOADED: {\n      const initialState = action.data.ui || newFileUI\n      return addCustomAttributeOrdering(initialState, action.data)\n    }\n\n    case CREATE_CHARACTER_ATTRIBUTE: {\n      if (action.fromLegacyAttribute) {\n        return {\n          ...state,\n          customAttributeOrder: {\n            ...state.customAttributeOrder,\n            characters: state.customAttributeOrder.characters.map((attribute) => {\n              if (attribute.name === action.attribute.name) {\n                return {\n                  type: 'attributes',\n                  id: action.nextAttributeId,\n                }\n              }\n\n              return attribute\n            }),\n          },\n        }\n      }\n\n      return {\n        ...state,\n        customAttributeOrder: {\n          ...state.customAttributeOrder,\n          characters: [\n            ...state.customAttributeOrder.characters,\n            {\n              type: 'attributes',\n              id: action.nextAttributeId,\n            },\n          ],\n        },\n      }\n    }\n\n    case DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE: {\n      return {\n        ...state,\n        customAttributeOrder: {\n          ...state.customAttributeOrder,\n          characters: state.customAttributeOrder.characters.filter((attribute) => {\n            return attribute.name !== action.attributeName\n          }),\n        },\n      }\n    }\n\n    case DELETE_CHARACTER_ATTRIBUTE: {\n      const nextState = removeCustomAttributeFilter(state, action)\n\n      return {\n        ...nextState,\n        customAttributeOrder: {\n          ...nextState.customAttributeOrder,\n          characters: nextState.customAttributeOrder.characters.filter((attribute) => {\n            return attribute.id !== action.id\n          }),\n        },\n      }\n    }\n\n    case EDIT_CHARACTER_ATTRIBUTE_METADATA: {\n      const { id, name, oldName } = action\n      if (id) {\n        return state\n      }\n\n      const isAttribute = (attribute) => {\n        return attribute.type === 'customAttributes' && attribute.name === oldName\n      }\n      const existingAttribute = state.customAttributeOrder.characters.some(isAttribute)\n\n      if (existingAttribute) {\n        return {\n          ...state,\n          customAttributeOrder: {\n            ...state.customAttributeOrder,\n            characters: state.customAttributeOrder.characters.map((attribute) => {\n              if (isAttribute(attribute)) {\n                return {\n                  ...attribute,\n                  name,\n                }\n              }\n\n              return attribute\n            }),\n          },\n        }\n      }\n\n      return state\n    }\n\n    case REORDER_CHARACTER_ATTRIBUTE_METADATA: {\n      const { toIndex, attributeId, attributeName } = action\n\n      const characterAttributeOrder = state.customAttributeOrder.characters\n\n      const isAttribute = (existingAttribute) => {\n        return (\n          (existingAttribute.type === 'attributes' && existingAttribute.id === attributeId) ||\n          (existingAttribute.type === 'customAttributes' &&\n            existingAttribute.name === attributeName)\n        )\n      }\n      const existingAttribute = characterAttributeOrder.find(isAttribute)\n      if (!existingAttribute) {\n        return state\n      }\n      const copy = characterAttributeOrder.slice().filter((attribute) => !isAttribute(attribute))\n      copy.splice(toIndex, 0, existingAttribute)\n\n      return {\n        ...state,\n        customAttributeOrder: {\n          characters: copy,\n        },\n      }\n    }\n\n    case NEW_FILE:\n      return newFileUI\n\n    case RECORD_SCROLL_POSITION:\n      return {\n        ...state,\n        timelineScrollPosition: {\n          x: action.x,\n          y: action.y,\n        },\n      }\n\n    case OPEN_ATTRIBUTES_DIALOG:\n      return {\n        ...state,\n        attributesDialogIsOpen: true,\n      }\n\n    case CLOSE_ATTRIBUTES_DIALOG:\n      return {\n        ...state,\n        attributesDialogIsOpen: false,\n      }\n\n    case SET_TIMELINE_SIZE:\n      return {\n        ...state,\n        timeline: timeline(state.timeline, action),\n      }\n\n    case SET_NOTES_SEARCH_TERM: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          notes: action.searchTerm,\n        },\n      }\n    }\n\n    case ADD_NOTE: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          notes: null,\n        },\n      }\n    }\n\n    case SET_CHARACTERS_SEARCH_TERM: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          characters: action.searchTerm,\n        },\n      }\n    }\n\n    case ADD_CHARACTER: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          characters: null,\n        },\n      }\n    }\n\n    case SET_PLACES_SEARCH_TERM: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          places: action.searchTerm,\n        },\n      }\n    }\n\n    case ADD_PLACE: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          places: null,\n        },\n      }\n    }\n\n    case SET_TAGS_SEARCH_TERM: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          tags: action.searchTerm,\n        },\n      }\n    }\n\n    case ADD_CREATED_TAG:\n    case ADD_TAG: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          tags: null,\n        },\n      }\n    }\n\n    case SET_OUTLINE_SEARCH_TERM: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          outline: action.searchTerm,\n        },\n      }\n    }\n\n    case SET_TIMELINE_SEARCH_TERM: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          timeline: action.searchTerm,\n        },\n      }\n    }\n\n    case ADD_CARD: {\n      return {\n        ...state,\n        searchTerms: {\n          ...state.searchTerms,\n          outline: null,\n          timeline: null,\n        },\n      }\n    }\n\n    case SET_ACTIVE_TIMELINE_TAB: {\n      return {\n        ...state,\n        timeline: {\n          ...state.timeline,\n          actTab: action.activeTab,\n        },\n      }\n    }\n\n    case SET_TIMELINE_VIEW: {\n      return {\n        ...state,\n        timeline: {\n          ...state.timeline,\n          view: action.timelineView,\n        },\n      }\n    }\n\n    case DELETE_BEAT: {\n      return {\n        ...state,\n        timeline: {\n          ...state.timeline,\n          actTab: action.actTab || state.timeline.actTab,\n        },\n      }\n    }\n\n    case SELECT_CHARACTER_ATTRIBUTE_BOOK_TAB: {\n      return {\n        ...state,\n        characterFilter: {},\n        attributeTabs: {\n          ...state.attributeTabs,\n          characters: action.bookId,\n        },\n      }\n    }\n\n    case DELETE_BOOK: {\n      const selectedBook = state.attributeTabs?.characters\n\n      return {\n        ...state,\n        characterFilter: selectedBook === action.id ? {} : state.characterFilter,\n        attributeTabs: {\n          ...state.attributeTabs,\n          characters: selectedBook === action.id ? 'all' : selectedBook,\n        },\n      }\n    }\n\n    case SELECT_CHARACTER: {\n      return {\n        ...state,\n        characterTab: {\n          ...state.characterTab,\n          selectedCharacter: action.id,\n        },\n      }\n    }\n\n    case CHANGE_BEAT:\n      return {\n        ...state,\n        cardDialog: {\n          ...state.cardDialog,\n          beatId: action.beatId,\n        },\n      }\n\n    case CHANGE_LINE:\n      return {\n        ...state,\n        cardDialog: {\n          ...state.cardDialog,\n          lineId: action.lineId,\n        },\n      }\n\n    case SET_CARD_DIALOG_OPEN: {\n      return {\n        ...state,\n        cardDialog: {\n          cardId: action.cardId,\n          lineId: action.lineId,\n          beatId: action.beatId,\n          isOpen: true,\n        },\n      }\n    }\n\n    case MOVE_CARD_TO_BOOK:\n    case DELETE_CARD:\n    case SET_CARD_DIALOG_CLOSE: {\n      return {\n        ...state,\n        cardDialog: {\n          cardId: null,\n          lineId: null,\n          beatId: null,\n          isOpen: false,\n        },\n      }\n    }\n\n    case OPEN_EDIT_BOOK_DIALOG:\n      return {\n        ...state,\n        bookDialog: {\n          bookId: action.bookId,\n          isOpen: true,\n        },\n      }\n\n    case OPEN_NEW_BOOK_DIALOG: {\n      return {\n        ...state,\n        bookDialog: {\n          bookId: null,\n          isOpen: true,\n        },\n      }\n    }\n\n    case CLOSE_BOOK_DIALOG: {\n      return {\n        ...state,\n        bookDialog: {\n          bookId: null,\n          isOpen: false,\n        },\n      }\n    }\n\n    default:\n      return state\n  }\n}\n\nconst ui =\n  (dataRepairers) =>\n  (state = defaultUI, action) => {\n    if (action.type === 'LOAD_UI') {\n      return action.ui\n    }\n\n    if (\n      action.currentlyShouldBeLoggedIn &&\n      !action.currentUserId &&\n      action.currentPermission !== 'owner'\n    ) {\n      return state\n    }\n    if (action.currentlyShouldBeLoggedIn && action.currentUserId) {\n      if (!action.currentPermission) {\n        return state\n      }\n      if (action.currentPermission === 'owner') {\n        return updateUI(state, action)\n      } else if (action.currentPermission === 'collaborator') {\n        if (!state.collaborators || !state.collaborators.collaborators) {\n          return {\n            ...state,\n            collaborators: {\n              collaborators: [\n                {\n                  ...updateUI(state, action),\n                  id: action.currentUserId,\n                },\n              ],\n              viewers: state?.collaborators?.viewers || [],\n            },\n          }\n        }\n\n        const collaboratorExists = state?.collaborators?.collaborators?.some((uiState) => {\n          return uiState.id === action.currentUserId\n        })\n\n        if (collaboratorExists) {\n          return {\n            ...state,\n            collaborators: {\n              ...state.collaborators,\n              collaborators: state.collaborators.collaborators.map((collaboratorUI) => {\n                if (collaboratorUI.id === action.currentUserId) {\n                  return updateUI(collaboratorUI, action)\n                } else {\n                  return collaboratorUI\n                }\n              }),\n            },\n          }\n        } else {\n          return {\n            ...state,\n            collaborators: {\n              ...state.collaborators,\n              collaborators: [\n                ...state.collaborators.collaborators,\n                {\n                  ...updateUI(omit(state, 'collaborators'), action),\n                  id: action.currentUserId,\n                },\n              ],\n            },\n          }\n        }\n      } else if (action.currentPermission === 'viewer') {\n        if (!state.collaborators || !state.collaborators.viewers) {\n          return {\n            ...state,\n            collaborators: {\n              viewers: [\n                {\n                  ...updateUI(state, action),\n                  id: action.currentUserId,\n                },\n              ],\n              collaborators: state?.collaborators?.collaborators || [],\n            },\n          }\n        }\n\n        const collaboratorExists = state?.collaborators?.viewers?.some((uiState) => {\n          return uiState.id === action.currentUserId\n        })\n\n        if (collaboratorExists) {\n          return {\n            ...state,\n            collaborators: {\n              ...state.collaborators,\n              viewers: state.collaborators.viewers.map((collaboratorUI) => {\n                if (collaboratorUI.id === action.currentUserId) {\n                  return updateUI(collaboratorUI, action)\n                } else {\n                  return collaboratorUI\n                }\n              }),\n            },\n          }\n        } else {\n          return {\n            ...state,\n            collaborators: {\n              ...state.collaborators,\n              viewers: [\n                ...state.collaborators.viewers,\n                {\n                  ...updateUI(omit(state, 'collaborators'), action),\n                  id: action.currentUserId,\n                },\n              ],\n            },\n          }\n        }\n      } else {\n        return state\n      }\n    }\n    return updateUI(state, action)\n  }\n\nfunction timeline(state = defaultUI.timeline, action) {\n  switch (action.type) {\n    case SET_TIMELINE_SIZE:\n      return Object.assign({}, state, { size: action.newSize })\n    default:\n      return state\n  }\n}\n\nexport default ui\n","export const undoIdSelector = (state) => state.actions.startTimestamp\n","import { createSelector } from 'reselect'\nimport { hasProSelector, isLoggedInSelector } from './client'\nimport {\n  hasLicenseSelector,\n  isFirstTimeSelector,\n  isInTrialModeSelector,\n  isInTrialModeWithExpiredTrialSelector,\n} from './license'\nimport {\n  isCloudFileSelector,\n  isOfflineSelector,\n  isResumingSelector,\n  loadingFileSelector as deprecatedLoadingFileSelector,\n} from './project'\nimport { offlineModeEnabledSelector } from './settings'\nimport { shouldBeInProSelector } from './shouldBeInPro'\n\nexport { shouldBeInProSelector }\n\nexport const applicationStateSelector = (state) => state.applicationState\n\nexport const projectStateSelector = createSelector(\n  applicationStateSelector,\n  ({ project }) => project\n)\nexport const fileListLoadedSelector = createSelector(\n  projectStateSelector,\n  ({ fileListLoaded }) => fileListLoaded\n)\nexport const fileListIsLoadingSelector = createSelector(\n  projectStateSelector,\n  ({ loadingFileList }) => loadingFileList\n)\n\nexport const importingNewProjectSelector = createSelector(\n  projectStateSelector,\n  ({ isImportingNewProject }) => isImportingNewProject\n)\n\nexport const applicationSettingsSelector = createSelector(\n  applicationStateSelector,\n  ({ settings }) => settings\n)\nexport const applicationSettingsAreLoadedSelector = createSelector(\n  applicationSettingsSelector,\n  ({ settingsLoaded }) => settingsLoaded\n)\nexport const applicationSettingsAreLoadingSelector = createSelector(\n  applicationSettingsSelector,\n  ({ loadingSettings }) => loadingSettings\n)\nexport const exportConfigSettingsAreLoadedSelector = createSelector(\n  applicationSettingsSelector,\n  ({ exportConfigLoaded }) => exportConfigLoaded\n)\nexport const exportConfigSettingsAreLoadingSelector = createSelector(\n  applicationSettingsSelector,\n  ({ loadingExportConfig }) => loadingExportConfig\n)\n\nexport const fileStateSelector = createSelector(applicationStateSelector, ({ file }) => file)\nexport const checkingFileToLoadSelector = createSelector(\n  fileStateSelector,\n  ({ checkingFileToLoad }) => checkingFileToLoad\n)\nexport const checkedFileToLoadSelector = createSelector(\n  fileStateSelector,\n  ({ checkedFileToLoad }) => checkedFileToLoad\n)\nexport const fileIsLoadedSelector = createSelector(\n  fileStateSelector,\n  ({ fileLoaded }) => fileLoaded\n)\nexport const isRenamingFileSelector = createSelector(\n  fileStateSelector,\n  ({ renamingFile }) => renamingFile\n)\nexport const creatingCloudFileSelector = createSelector(\n  fileStateSelector,\n  ({ creatingCloudFile }) => creatingCloudFile\n)\nexport const uploadingFileToCloudSelector = createSelector(\n  fileStateSelector,\n  ({ uploadingFileToCloud }) => uploadingFileToCloud\n)\nexport const loadingFileSelector = createSelector(\n  fileStateSelector,\n  ({ loadingFile }) => loadingFile\n)\nexport const errorLoadingFileSelector = createSelector(\n  fileStateSelector,\n  ({ errorLoadingFile }) => errorLoadingFile\n)\nexport const errorIsUpdateErrorSelector = createSelector(\n  fileStateSelector,\n  ({ errorIsUpdateError }) => errorIsUpdateError\n)\nexport const deletingFileSelector = createSelector(\n  fileStateSelector,\n  ({ deletingFile }) => deletingFile\n)\nexport const savingFileAsSelector = createSelector(\n  fileStateSelector,\n  ({ savingFileAs }) => savingFileAs\n)\nexport const filePathToUploadSelector = createSelector(\n  fileStateSelector,\n  ({ filePathToUpload }) => filePathToUpload\n)\n\nexport const sessionStateSelector = createSelector(\n  applicationStateSelector,\n  ({ session }) => session\n)\nexport const sessionCheckedSelector = createSelector(\n  sessionStateSelector,\n  ({ sessionChecked }) => sessionChecked\n)\nexport const checkingSessionSelector = createSelector(\n  sessionStateSelector,\n  ({ checkingSession }) => checkingSession\n)\nexport const isLoggingInSelector = createSelector(\n  sessionStateSelector,\n  ({ loggingIn }) => loggingIn\n)\n\nexport const licenseStateSelector = createSelector(\n  applicationStateSelector,\n  ({ license }) => license\n)\nexport const checkedTrialSelector = createSelector(\n  licenseStateSelector,\n  ({ trialLoaded }) => trialLoaded\n)\nexport const checkingTrialSelector = createSelector(\n  licenseStateSelector,\n  ({ loadingTrial }) => loadingTrial\n)\nexport const checkedLicenseSelector = createSelector(\n  licenseStateSelector,\n  ({ licenseLoaded }) => licenseLoaded\n)\nexport const checkingLicenseSelector = createSelector(\n  licenseStateSelector,\n  ({ loadingLicense }) => loadingLicense\n)\nexport const checkedProSubscriptionSelector = createSelector(\n  licenseStateSelector,\n  ({ proSubscriptionChecked }) => proSubscriptionChecked\n)\nexport const checkingProSubscriptionSelector = createSelector(\n  licenseStateSelector,\n  ({ checkingProSubscription }) => checkingProSubscription\n)\n\nexport const proOnboardingStateSelector = createSelector(\n  applicationStateSelector,\n  ({ proOnboarding }) => proOnboarding\n)\nexport const currentProOnboardingStepSelector = createSelector(\n  proOnboardingStateSelector,\n  ({ onboardingStep }) => onboardingStep\n)\nexport const isOnboardingToProSelector = createSelector(\n  proOnboardingStateSelector,\n  ({ isOnboarding }) => isOnboarding\n)\nexport const isOnboardingToProFromRootSelector = createSelector(\n  proOnboardingStateSelector,\n  ({ isOnboardingFromRoot }) => isOnboardingFromRoot\n)\n\nexport const needToCheckProSubscriptionSelector = createSelector(\n  shouldBeInProSelector,\n  checkedProSubscriptionSelector,\n  (shouldBeInPro, checkedProSubscription) => {\n    return shouldBeInPro && !checkedProSubscription\n  }\n)\n\nconst busyLoadingFileOrNeedToLoadFileSelector = createSelector(\n  deprecatedLoadingFileSelector,\n  loadingFileSelector,\n  fileIsLoadedSelector,\n  (fileIsLoadingDeprecated, fileIsLoading, loadedAFileBefore) => {\n    return fileIsLoadingDeprecated || fileIsLoading || !loadedAFileBefore\n  }\n)\n\nconst checkingWhatToLoadOrNeedToCheckWhatToLoadSelector = createSelector(\n  checkingFileToLoadSelector,\n  checkedFileToLoadSelector,\n  (checkingFileToLoad, checkedFileToLoad) => {\n    return checkingFileToLoad || !checkedFileToLoad\n  }\n)\n\nexport const manipulatingAFileSelector = createSelector(\n  isRenamingFileSelector,\n  creatingCloudFileSelector,\n  uploadingFileToCloudSelector,\n  deletingFileSelector,\n  savingFileAsSelector,\n  (isRenamingFile, creatingCloudFile, uploadingFileToCloud, deletingFile, savingFileAs) => {\n    return (\n      isRenamingFile || creatingCloudFile || uploadingFileToCloud || deletingFile || savingFileAs\n    )\n  }\n)\n\nexport const isInOfflineModeSelector = createSelector(\n  isOfflineSelector,\n  shouldBeInProSelector,\n  offlineModeEnabledSelector,\n  (isOffline, shouldBeInPro, offlineModeEnabled) => {\n    return isOffline && shouldBeInPro && offlineModeEnabled\n  }\n)\n\nconst checkingSessionOrNeedToCheckSessionSelector = createSelector(\n  sessionCheckedSelector,\n  checkingSessionSelector,\n  isInOfflineModeSelector,\n  (sessionChecked, checkingSession, isInOfflineMode) => {\n    return !isInOfflineMode && (checkingSession || !sessionChecked)\n  }\n)\n\nexport const applicationIsBusyAndUninterruptableSelector = createSelector(\n  busyLoadingFileOrNeedToLoadFileSelector,\n  checkingWhatToLoadOrNeedToCheckWhatToLoadSelector,\n  manipulatingAFileSelector,\n  applicationSettingsAreLoadedSelector,\n  checkingSessionOrNeedToCheckSessionSelector,\n  isOnboardingToProSelector,\n  importingNewProjectSelector,\n  isLoggedInSelector,\n  shouldBeInProSelector,\n  checkedProSubscriptionSelector,\n  checkedLicenseSelector,\n  checkedTrialSelector,\n  (\n    busyLoadingFileOrNeedToLoadFile,\n    checkingWhatToLoadOrNeedToCheckWhatToLoad,\n    manipulatingAFile,\n    applicationSettingsAreLoaded,\n    checkingSessionOrNeedToCheckSession,\n    isOnboardingToPro,\n    isImportingNewProject,\n    isLoggedIn,\n    shouldBeInPro,\n    checkedProSubscription,\n    checkedLicense,\n    checkedTrial\n  ) => {\n    return (\n      busyLoadingFileOrNeedToLoadFile ||\n      checkingWhatToLoadOrNeedToCheckWhatToLoad ||\n      manipulatingAFile ||\n      !applicationSettingsAreLoaded ||\n      (checkingSessionOrNeedToCheckSession && !isOnboardingToPro) ||\n      isImportingNewProject ||\n      (isLoggedIn && shouldBeInPro && !checkedProSubscription) ||\n      // TODO: Web doesn't have trials or licenses to load.\n      !checkedLicense ||\n      !checkedTrial\n    )\n  }\n)\n\nexport const applicationIsBusyButFileCouldBeUnloadedSelector = createSelector(\n  isFirstTimeSelector,\n  isInTrialModeWithExpiredTrialSelector,\n  checkingWhatToLoadOrNeedToCheckWhatToLoadSelector,\n  loadingFileSelector,\n  manipulatingAFileSelector,\n  applicationSettingsAreLoadedSelector,\n  isInOfflineModeSelector,\n  checkingSessionOrNeedToCheckSessionSelector,\n  isLoggedInSelector,\n  shouldBeInProSelector,\n  checkedProSubscriptionSelector,\n  checkedLicenseSelector,\n  checkedTrialSelector,\n  (\n    firstTime,\n    isInTrialModeWithExpiredTrial,\n    checkingWhatToLoadOrNeedToCheckWhatToLoad,\n    loadingFile,\n    manipulatingAFile,\n    applicationSettingsAreLoaded,\n    isInOfflineMode,\n    checkingSessionOrNeedToCheckSession,\n    isLoggedIn,\n    shouldBeInPro,\n    checkedProSubscription,\n    checkedLicense,\n    checkedTrial\n  ) => {\n    return (\n      // We only check what to load when we're in a valid license\n      // state.  So we need to account for there being no license or\n      // there being an expired trial.\n      (!firstTime && !isInTrialModeWithExpiredTrial && checkingWhatToLoadOrNeedToCheckWhatToLoad) ||\n      loadingFile ||\n      manipulatingAFile ||\n      !applicationSettingsAreLoaded ||\n      (!isInOfflineMode && checkingSessionOrNeedToCheckSession) ||\n      (isLoggedIn && shouldBeInPro && !checkedProSubscription) ||\n      // TODO: Web doesn't have trials or licenses to load.\n      !checkedLicense ||\n      !checkedTrial\n    )\n  }\n)\n\nexport const loadingStateSelector = createSelector(\n  checkingWhatToLoadOrNeedToCheckWhatToLoadSelector,\n  loadingFileSelector,\n  manipulatingAFileSelector,\n  applicationSettingsAreLoadedSelector,\n  checkingSessionOrNeedToCheckSessionSelector,\n  isLoggedInSelector,\n  shouldBeInProSelector,\n  checkedProSubscriptionSelector,\n  checkingLicenseSelector,\n  checkingTrialSelector,\n  (\n    checkingWhatToLoadOrNeedToCheckWhatToLoad,\n    loadingFile,\n    manipulatingAFile,\n    applicationSettingsAreLoaded,\n    checkingSessionOrNeedToCheckSession,\n    isLoggedIn,\n    shouldBeInPro,\n    checkedProSubscription,\n    checkingLicense,\n    checkingTrial\n  ) => {\n    if (checkingWhatToLoadOrNeedToCheckWhatToLoad) {\n      return 'Locating document...'\n    }\n    if (loadingFile) {\n      return 'Placing document on table...'\n    }\n    if (manipulatingAFile) {\n      return 'Spilling ink on desk...'\n    }\n    if (!applicationSettingsAreLoaded) {\n      return 'Loading settings...'\n    }\n    if (checkingSessionOrNeedToCheckSession) {\n      return 'Security checkpoint...'\n    }\n    if (\n      (isLoggedIn && shouldBeInPro && !checkedProSubscription) ||\n      checkingLicense ||\n      checkingTrial\n    ) {\n      return 'Checking your ticket...'\n    }\n    return 'Done!'\n  }\n)\n\nexport const loadingProgressSelector = createSelector(\n  checkingWhatToLoadOrNeedToCheckWhatToLoadSelector,\n  loadingFileSelector,\n  manipulatingAFileSelector,\n  applicationSettingsAreLoadedSelector,\n  checkingSessionOrNeedToCheckSessionSelector,\n  isLoggedInSelector,\n  shouldBeInProSelector,\n  checkedProSubscriptionSelector,\n  checkedLicenseSelector,\n  checkedTrialSelector,\n  (\n    checkingWhatToLoadOrNeedToCheckWhatToLoad,\n    loadingFile,\n    manipulatingAFile,\n    applicationSettingsAreLoaded,\n    checkingSessionOrNeedToCheckSession,\n    isLoggedIn,\n    shouldBeInPro,\n    checkedProSubscription,\n    checkedLicense,\n    checkedTrial\n  ) => {\n    let progress = 0\n    if (!checkingWhatToLoadOrNeedToCheckWhatToLoad) {\n      progress++\n    }\n    if (!applicationSettingsAreLoaded) {\n      progress++\n    }\n    if (!checkingSessionOrNeedToCheckSession) {\n      progress++\n    }\n    if (!(isLoggedIn && shouldBeInPro && !checkedProSubscription)) {\n      progress++\n    }\n    if (checkedLicense) {\n      progress++\n    }\n    if (checkedTrial) {\n      progress++\n    }\n    return 100.0 * (progress / 6.0)\n  }\n)\n\nexport const userNeedsToLoginSelector = createSelector(\n  applicationSettingsAreLoadedSelector,\n  shouldBeInProSelector,\n  sessionCheckedSelector,\n  isLoggedInSelector,\n  (settingsAreLoaded, shouldBeInPro, sessionChecked, isLoggedIn) => {\n    return settingsAreLoaded && shouldBeInPro && sessionChecked && !isLoggedIn\n  }\n)\n\nexport const isInSomeValidLicenseStateSelector = createSelector(\n  applicationSettingsAreLoadedSelector,\n  sessionCheckedSelector,\n  userNeedsToLoginSelector,\n\n  isInOfflineModeSelector,\n  needToCheckProSubscriptionSelector,\n  hasProSelector,\n  hasLicenseSelector,\n  isInTrialModeSelector,\n  (\n    applicationSettingsAreLoaded,\n    sessionChecked,\n    needsToLogin,\n\n    isInOfflineMode,\n    needToCheckProSubscription,\n    hasPro,\n    hasLicense,\n    isInTrialMode\n  ) => {\n    return (\n      applicationSettingsAreLoaded &&\n      (isInOfflineMode ||\n        (sessionChecked &&\n          !needsToLogin &&\n          !needToCheckProSubscription &&\n          (hasPro || hasLicense || isInTrialMode)))\n    )\n  }\n)\n\nexport const readyToCheckFileToLoadSelector = createSelector(\n  isInSomeValidLicenseStateSelector,\n  filePathToUploadSelector,\n  (inValidLicenseState, filePathToUpload) => {\n    return !filePathToUpload && inValidLicenseState\n  }\n)\n\nexport const cantShowFileSelector = createSelector(\n  fileIsLoadedSelector,\n  hasProSelector,\n  isCloudFileSelector,\n  isResumingSelector,\n  isOfflineSelector,\n  isInOfflineModeSelector,\n  shouldBeInProSelector,\n  (\n    fileLoaded,\n    hasActiveProSubscription,\n    selectedFileIsACloudFile,\n    isResuming,\n    isOffline,\n    isInOfflineMode,\n    shouldBeInPro\n  ) => {\n    return (\n      !isResuming &&\n      (!fileLoaded ||\n        (!isInOfflineMode && isOffline && shouldBeInPro) ||\n        (!isInOfflineMode && !!hasActiveProSubscription !== !!selectedFileIsACloudFile))\n    )\n  }\n)\n\nconst updateStateSelector = createSelector(applicationStateSelector, ({ update }) => {\n  return update\n})\n\nexport const shouldCheckForUpdatesSelector = createSelector(\n  updateStateSelector,\n  ({ shouldCheck }) => {\n    return shouldCheck\n  }\n)\n\nexport const updateAvailableSelector = createSelector(updateStateSelector, ({ available }) => {\n  return available\n})\n\nexport const downloadInProgressSelector = createSelector(\n  updateStateSelector,\n  ({ percentDownloaded }) => {\n    return percentDownloaded > 0 && percentDownloaded < 100\n  }\n)\n\nexport const percentDownloadedSelector = createSelector(\n  updateStateSelector,\n  ({ percentDownloaded }) => {\n    return percentDownloaded\n  }\n)\n\nexport const finishedDownloadingSelector = createSelector(\n  updateStateSelector,\n  ({ percentDownloaded }) => {\n    return percentDownloaded === 100\n  }\n)\n\nexport const updateErrorSelector = createSelector(updateStateSelector, ({ error }) => {\n  return error\n})\n\nexport const updateInfoSelector = createSelector(updateStateSelector, ({ info }) => {\n  return info\n})\n\nexport const updateNotificationHiddenSelector = createSelector(\n  updateStateSelector,\n  ({ notifierHidden }) => {\n    return notifierHidden\n  }\n)\n\nexport const checkingForUpdatesSelector = createSelector(updateStateSelector, ({ checking }) => {\n  return checking\n})\n\nconst workSelector = createSelector(applicationStateSelector, ({ work }) => {\n  return work\n})\n\nexport const busyWithWorkThatPreventsQuittingSelector = createSelector(workSelector, ({ busy }) => {\n  return busy\n})\n","export const showBookTabs = (bookIds, characters) => {\n  const aCharacterHasABook = characters.some((character) => {\n    return character.bookIds && character.bookIds.length > 0\n  })\n\n  return bookIds.length > 1 && aCharacterHasABook\n}\n","import { createSelector } from 'reselect'\nimport { differenceWith, groupBy, isEqual, mapValues } from 'lodash'\n\nimport { selectedCharacterAttributeTabSelector, characterCustomAttributeOrderSelector } from './ui'\n\nexport const attributesSelector = (state) => state.attributes || []\n\nconst legacyCharacterCustomAttributesSelector = (state) => state.customAttributes.characters\n\nexport const characterAttributesForBookSelector = createSelector(\n  attributesSelector,\n  (attributes) => {\n    return (attributes && attributes.characters) || []\n  }\n)\n\nexport const allCharacterAttributesSelector = createSelector(attributesSelector, (attributes) => {\n  return (attributes && attributes.characters) || []\n})\n\nexport const allNonBaseCharacterAttributesSelector = createSelector(\n  attributesSelector,\n  (attributes) => {\n    return ((attributes && attributes.characters) || []).filter((attribute) => {\n      return attribute.type !== 'base-attribute'\n    })\n  }\n)\n\nexport const overriddenBookIdSelector = (_state, _characterId, bookId) => bookId\n\nexport const characterAttributsForBookByIdSelector = createSelector(\n  characterAttributesForBookSelector,\n  (attributeDescriptors) => {\n    return mapValues(groupBy(attributeDescriptors, 'id'), '0')\n  }\n)\n\nexport const characterAttributesForCurrentBookSelector = createSelector(\n  attributesSelector,\n  legacyCharacterCustomAttributesSelector,\n  selectedCharacterAttributeTabSelector,\n  characterCustomAttributeOrderSelector,\n  (attributes, legacyAttributes, bookId, order) => {\n    const bookAttributes = (attributes && attributes.characters) || []\n    const newAttributes = bookAttributes.filter((attribute) => {\n      return attribute.type !== 'base-attribute'\n    })\n    const ordered = order.map((entry) => {\n      if (entry.type === 'attributes') {\n        return newAttributes.find(({ id }) => {\n          return id === entry.id\n        })\n      } else {\n        return legacyAttributes.find(({ name }) => {\n          return name === entry.name\n        })\n      }\n    })\n    const missing = differenceWith([...newAttributes, ...legacyAttributes], ordered, isEqual)\n    return [...ordered, ...missing]\n  }\n)\n","import { createSelector } from 'reselect'\nimport { sortBy } from 'lodash'\n\nimport { t } from 'plottr_locales'\n\nimport { parseStringDate } from '../helpers/date'\n\nexport const backupFoldersSelector = (state) => state.backups.folders\n\nexport const nonEmptyBackupFoldersSelector = createSelector(\n  backupFoldersSelector,\n  (backupFolders) => {\n    return backupFolders.filter(({ backups }) => {\n      return backups.length > 0\n    })\n  }\n)\n\nconst visualDateStringFromDateString = (dateString) => {\n  return t('{date, date, medium}', {\n    date: parseStringDate(dateString),\n  })\n}\nconst searchTermSelector = (state, searchTerm) => searchTerm\nconst folderSearchSelector = (state, _searchTerm, folderSearch) => folderSearch\nconst sortFolders = (folders) => {\n  return sortBy(folders, (folder) => {\n    return parseStringDate(folder.date)\n  }).reverse()\n}\nconst matchesSearchTerm = (searchTerm) => (file) => {\n  return file.fileName && file.fileName.toLowerCase().includes(searchTerm.toLowerCase())\n}\nexport const filteredSortedBackupsSelector = createSelector(\n  nonEmptyBackupFoldersSelector,\n  searchTermSelector,\n  folderSearchSelector,\n  (backupFolders, searchTerm, folderSearch) => {\n    if (searchTerm && searchTerm.length > 1) {\n      const matchingFolders = backupFolders.reduce((acc, obj) => {\n        const matches = folderSearch\n          ? obj.backups\n          : obj.backups.filter(matchesSearchTerm(searchTerm))\n        const folderDate = visualDateStringFromDateString(\n          typeof obj.date === 'string' ? obj.date : obj.path.toString()\n        ).toLowerCase()\n        if (folderDate.includes(searchTerm.toLowerCase()) || (matches.length && !folderSearch)) {\n          acc.push({ ...obj, backups: matches })\n        }\n        return acc\n      }, [])\n      return sortFolders(matchingFolders)\n    }\n\n    return sortFolders(backupFolders)\n  }\n)\n","import { createSelector } from 'reselect'\nimport { times } from 'lodash'\n\nimport {\n  currentTimelineSelector,\n  isSeriesSelector,\n  isSmallSelector,\n  timelineSelectedTabSelector,\n  timelineViewIsStackedSelector,\n  timelineViewIsTabbedSelector,\n} from './ui'\nimport {\n  maxDepth,\n  nextId,\n  beatsByPosition,\n  numberOfPriorChildrenAtSameDepth,\n  beatTitle,\n  beatOneIsPrologue,\n  rootParentId,\n} from '../helpers/beats'\nimport { findNode, children, depth, reduce, forEach, nodeParent } from '../reducers/tree'\nimport { sortedHierarchyLevels } from './hierarchy'\nimport { beatHierarchyIsOn } from './featureFlags'\n\nexport const bookIdSelector = (state, bookId) => bookId\n\nexport const allBeatsSelector = (state) => state.beats\nexport const beatIdSelector = (state, beatId) => beatId\n\nexport const nextBeatIdSelector = createSelector(allBeatsSelector, (beats) => nextId(beats))\n\nexport const beatsByBookSelector = createSelector(\n  allBeatsSelector,\n  currentTimelineSelector,\n  (beats, bookId) => {\n    return beats[bookId]\n  }\n)\n\nexport const beatsForAnotherBookSelector = createSelector(\n  bookIdSelector,\n  allBeatsSelector,\n  (bookId, beats) => {\n    return beats[bookId]\n  }\n)\n\nexport const firstVisibleBeatForBookSelector = createSelector(\n  allBeatsSelector,\n  bookIdSelector,\n  beatHierarchyIsOn,\n  timelineViewIsTabbedSelector,\n  (beats, bookId, beatHierarchyIsOn, timelineIsTabbed) => {\n    const firstVisibleBeat = visibleBeatsByPosition(\n      beats[bookId],\n      beatHierarchyIsOn,\n      timelineIsTabbed\n    )[0]\n    return firstVisibleBeat\n  }\n)\n\nexport const beatsForBookOne = createSelector(allBeatsSelector, (beats) => {\n  return beats[1]\n})\n\nconst visibleBeatsByPosition = (beats, beatHierarchyIsOn, timelineViewIsTabbed) =>\n  beatsByPosition(({ expanded }) => {\n    return expanded || !beatHierarchyIsOn || timelineViewIsTabbed\n  })(beats).filter(({ id }) => {\n    const maximumDepth = maxDepth(beats)\n    const currentDepth = depth(beats, id)\n    const beatIsVisible = beatHierarchyIsOn || currentDepth === maximumDepth\n    return (\n      (timelineViewIsTabbed && currentDepth !== 0 && beatIsVisible) ||\n      (!timelineViewIsTabbed && beatIsVisible)\n    )\n  })\n\nconst visibleBeatsByPositionForTimeline = (\n  beats,\n  beatHierarchyIsOn,\n  timelineViewIsTabbed,\n  activeTab,\n  timelineViewIsStacked,\n  timelineViewIsSmall\n) => {\n  const activeParentId = activeTab\n  return visibleBeatsForTopLevelParentByPosition(\n    beats,\n    beatHierarchyIsOn,\n    timelineViewIsTabbed,\n    activeParentId,\n    timelineViewIsStacked,\n    timelineViewIsSmall\n  )\n}\n\nconst visibleBeatsForTopLevelParentByPosition = (\n  beats,\n  beatHierarchyIsOn,\n  timelineViewIsTabbed,\n  topLevelParentId,\n  timelineViewIsStacked,\n  timelineViewIsSmall\n) => {\n  const maximumDepth = maxDepth(beats)\n\n  return beatsByPosition(({ id, expanded }) => {\n    return expanded || !beatHierarchyIsOn || timelineViewIsTabbed || timelineViewIsStacked\n  })(beats)\n    .filter(({ id }) => {\n      const nodeChildren = children(beats, id)\n      const currentDepth = depth(beats, id)\n      const rootParentNodeId = rootParentId(beats, id)\n      const beatIsVisible = beatHierarchyIsOn || currentDepth === maximumDepth\n      return (\n        (timelineViewIsTabbed &&\n          rootParentNodeId === topLevelParentId &&\n          currentDepth !== 0 &&\n          beatIsVisible) ||\n        (timelineViewIsStacked &&\n          (timelineViewIsSmall || nodeChildren.length === 0) &&\n          beatIsVisible) ||\n        (!timelineViewIsTabbed && !timelineViewIsStacked && beatIsVisible)\n      )\n    })\n    .map((beat) => {\n      const currentDepth = depth(beats, beat.id)\n      if (!timelineViewIsSmall && timelineViewIsStacked && currentDepth !== maximumDepth) {\n        return {\n          ...beat,\n          isInsertChildCell: true,\n        }\n      }\n      return beat\n    })\n}\n\nexport const visibleBeatPositions = createSelector(\n  beatsByBookSelector,\n  beatHierarchyIsOn,\n  timelineViewIsTabbedSelector,\n  (beats, beatHierarchyIsOn, timelineViewIsTabbed) => {\n    let lastRootIndex = 0\n    let lastParentNodeId = null\n    const reducer = timelineViewIsTabbed\n      ? (acc, beat, index) => {\n          const rootParentNodeId = rootParentId(beats, beat.id)\n          if (lastParentNodeId !== rootParentNodeId) {\n            lastRootIndex = index\n            lastParentNodeId = rootParentNodeId\n          }\n          return {\n            ...acc,\n            [beat.id]: index - lastRootIndex,\n          }\n        }\n      : (acc, beat, index) => {\n          return {\n            ...acc,\n            [beat.id]: index,\n          }\n        }\n    return visibleBeatsByPosition(beats, beatHierarchyIsOn, timelineViewIsTabbed).reduce(\n      reducer,\n      {}\n    )\n  }\n)\n\nconst visibleBeatsByPositionIgnoringCollapsed = (beats, beatHierarchyIsOn) =>\n  beatsByPosition(() => {\n    return true\n  })(beats).filter(({ id }) => {\n    const maximumDepth = maxDepth(beats)\n    const currentDepth = depth(beats, id)\n    return beatHierarchyIsOn || currentDepth === maximumDepth\n  })\n\n// This version ignores the view that the timeline is on so it's intended for the *Outline*.\nexport const sparceBeatMap = createSelector(\n  beatsByBookSelector,\n  beatHierarchyIsOn,\n  (beats, beatHierarchyIsOn) =>\n    visibleBeatsByPosition(beats, beatHierarchyIsOn, false).reduce((acc, beat, index) => {\n      acc[index] = beat.id\n      return acc\n    }, {})\n)\n\nexport const sortedBeatsByBookSelector = createSelector(\n  beatsByBookSelector,\n  beatsByPosition(() => true)\n)\n\nexport const sortedBeatsForAnotherBookSelector = createSelector(\n  beatsForAnotherBookSelector,\n  beatsByPosition(() => true)\n)\n\nexport const templateBeatsForBookOne = createSelector(\n  beatsForBookOne,\n  beatsByPosition(() => true)\n)\n\nexport const visibleSortedBeatsByBookSelector = createSelector(\n  beatsByBookSelector,\n  beatHierarchyIsOn,\n  timelineViewIsTabbedSelector,\n  visibleBeatsByPosition\n)\n\nexport const visibleSortedBeatsByBookIgnoringCollapsedSelector = createSelector(\n  beatsByBookSelector,\n  beatHierarchyIsOn,\n  visibleBeatsByPositionIgnoringCollapsed\n)\n\nexport const skipPrologueSelector = createSelector(sortedBeatsByBookSelector, (beats) =>\n  beatOneIsPrologue(beats)\n)\n\nexport const positionOffsetSelector = createSelector(skipPrologueSelector, (skip) =>\n  skip ? -1 : 0\n)\n\nexport const makeBeatSelector = () => createSelector(beatsByBookSelector, beatIdSelector, findNode)\n\nexport const beatHasChildrenSelector = createSelector(beatsByBookSelector, (beats) => {\n  return reduce('id')(\n    beats,\n    (beatsHaveChildren, beat) => {\n      beatsHaveChildren.set(beat.id, children(beats, beat.id).length > 0)\n      return beatsHaveChildren\n    },\n    new Map()\n  )\n})\n\nexport const beatIndexSelector = createSelector(\n  beatsByBookSelector,\n  sortedBeatsByBookSelector,\n  beatIdSelector,\n  numberOfPriorChildrenAtSameDepth\n)\n\nexport const makeBeatTitleSelector = () =>\n  createSelector(\n    beatIndexSelector,\n    beatsByBookSelector,\n    beatIdSelector,\n    sortedHierarchyLevels,\n    positionOffsetSelector,\n    beatHierarchyIsOn,\n    isSeriesSelector,\n    (beatIndex, beats, beatId, hierarchyLevels, positionOffset, hierarchyEnabled, isSeries) => {\n      const beat = findNode(beats, beatId)\n      if (!beat) return ''\n      return beatTitle(\n        beatIndex,\n        beats,\n        beat,\n        hierarchyLevels,\n        positionOffset,\n        hierarchyEnabled,\n        isSeries\n      )\n    }\n  )\n\nexport const timelineTabsSelector = createSelector(\n  beatsByBookSelector,\n  sortedBeatsByBookSelector,\n  sortedHierarchyLevels,\n  skipPrologueSelector,\n  (beats, sortedBeats, hierarchyLevels, skipPrologue) => {\n    const atTopLevel = (beat) => {\n      const currentDepth = depth(beats, beat.id)\n      return currentDepth === 0\n    }\n    return beatsByPosition(atTopLevel)(beats)\n      .filter(atTopLevel)\n      .map((beat) => {\n        const positionOffset = skipPrologue ? -1 : 0\n        const hierarchyEnabled = true\n        const isSeries = true\n        const beatNode = findNode(beats, beat.id)\n        const beatIndex = numberOfPriorChildrenAtSameDepth(beats, sortedBeats, beat.id)\n        return beatTitle(\n          beatIndex,\n          beats,\n          beatNode,\n          hierarchyLevels,\n          positionOffset,\n          hierarchyEnabled,\n          isSeries\n        )\n      })\n  }\n)\n\nexport const timelineTabBeatIdsSelector = createSelector(beatsByBookSelector, (beats) => {\n  const atTopLevel = (beat) => {\n    const currentDepth = depth(beats, beat.id)\n    return currentDepth === 0\n  }\n  return beatsByPosition(atTopLevel)(beats)\n    .filter(atTopLevel)\n    .map((beat) => {\n      return beat.id\n    })\n})\n\nexport const timelineActiveTabSelector = createSelector(\n  timelineSelectedTabSelector,\n  timelineTabBeatIdsSelector,\n  (tab, tabBeatIds) => {\n    if (tabBeatIds.indexOf(tab) !== -1) {\n      return tab\n    }\n    return tabBeatIds[0]\n  }\n)\n\nexport const visibleSortedBeatsForTimelineByBookSelector = createSelector(\n  beatsByBookSelector,\n  beatHierarchyIsOn,\n  timelineViewIsTabbedSelector,\n  timelineActiveTabSelector,\n  timelineViewIsStackedSelector,\n  isSmallSelector,\n  visibleBeatsByPositionForTimeline\n)\n\nexport const timelineSparceBeatMap = createSelector(\n  beatsByBookSelector,\n  beatHierarchyIsOn,\n  timelineViewIsTabbedSelector,\n  timelineActiveTabSelector,\n  timelineViewIsStackedSelector,\n  isSmallSelector,\n  (beats, beatHierarchyIsOn, timelineViewIsTabbed, activeTab, timelineViewIsStacked, isSmall) => {\n    const activeParentId = activeTab\n\n    return visibleBeatsForTopLevelParentByPosition(\n      beats,\n      beatHierarchyIsOn,\n      timelineViewIsTabbed,\n      activeParentId,\n      timelineViewIsStacked,\n      isSmall\n    ).reduce((acc, beat, index) => {\n      acc[index] = beat.id\n      return acc\n    }, {})\n  }\n)\n\nexport const topTierBeatsInThreeTierArrangementSelector = createSelector(\n  sortedHierarchyLevels,\n  sortedBeatsByBookSelector,\n  beatsByBookSelector,\n  (hierarchyLevels, sortedBeats, beats) => {\n    if (hierarchyLevels.length < 3) {\n      return []\n    }\n    return sortedBeats.filter((beat) => {\n      return depth(beats, beat.id) === 0\n    })\n  }\n)\n\nexport const secondTierBeatsInAtLeastTwoTierArrangementSelector = createSelector(\n  sortedHierarchyLevels,\n  sortedBeatsByBookSelector,\n  beatsByBookSelector,\n  topTierBeatsInThreeTierArrangementSelector,\n  (hierarchyLevels, sortedBeats, beats, topTierBeats) => {\n    if (hierarchyLevels.length < 2) {\n      return []\n    }\n    return sortedBeats\n      .filter((beat) => {\n        const currentDepth = depth(beats, beat.id)\n        return (\n          (hierarchyLevels.length === 3 && currentDepth === 1) ||\n          (hierarchyLevels.length === 2 && currentDepth === 0)\n        )\n      })\n      .flatMap((beat) => {\n        const currentDepth = depth(beats, beat.id)\n        // Beat must be at the right level.\n        if (currentDepth === 0) {\n          return [beat]\n        }\n        const beatParent = nodeParent(beats, beat.id)\n        const indexOfParentInParents = topTierBeats.findIndex(({ id }) => {\n          return id === beatParent\n        })\n        // There must be a parent beat for this beat, that's not in position zero\n        if (indexOfParentInParents > 0) {\n          // How many palceholders do we add?\n          //  - Count the number of beats at the parent level of the current\n          //    beat that have no children.\n          let furthestIndexBackwardOfParentWithNoChildren\n          for (\n            furthestIndexBackwardOfParentWithNoChildren = indexOfParentInParents - 1;\n            furthestIndexBackwardOfParentWithNoChildren > 0;\n            furthestIndexBackwardOfParentWithNoChildren--\n          ) {\n            const priorParent = topTierBeats[furthestIndexBackwardOfParentWithNoChildren]\n            const childrenOfPriorParent = children(beats, priorParent.id)\n            // This is the furthest beat back that has children\n            if (childrenOfPriorParent.length > 0) {\n              break\n            }\n          }\n          // If there was a beat with no children, then it was one\n          // beat along.\n          furthestIndexBackwardOfParentWithNoChildren++\n          if (furthestIndexBackwardOfParentWithNoChildren < indexOfParentInParents) {\n            // Insert placeholders for all of the missing beats\n            return [\n              ...times(indexOfParentInParents - furthestIndexBackwardOfParentWithNoChildren, () => {\n                return {\n                  type: 'insert-placeholder',\n                }\n              }),\n              beat,\n            ]\n          }\n          return [beat]\n        }\n        return [beat]\n      })\n  }\n)\n\nexport const leavesPerBeatSelector = createSelector(beatsByBookSelector, (beats) => {\n  const index = new Map()\n  const leavesForBeat = (id) => {\n    const currentCount = index.get(id)\n    if (currentCount) {\n      return currentCount\n    }\n\n    const nodeChildren = children(beats, id)\n    if (nodeChildren.length === 0) {\n      return 1\n    }\n\n    return nodeChildren\n      .map(({ id }) => id)\n      .map(leavesForBeat)\n      .reduce((acc, childCount) => {\n        return acc + childCount\n      }, 0)\n  }\n\n  forEach(beats, ({ id }) => {\n    index.set(id, leavesForBeat(id))\n  })\n  return index\n})\n","import { createSelector } from 'reselect'\n\nexport const allBookIdsSelector = (state) => state.books.allIds\nexport const allBooksSelector = (state) => state.books\n\nexport const canDeleteBookSelector = createSelector(\n  allBookIdsSelector,\n  (bookIds) => bookIds.length > 1\n)\n","import { createSelector } from 'reselect'\nimport { createSelectorCreator, defaultMemoize } from 'reselect'\nimport { isEqual } from 'lodash'\nimport { sortBy } from 'lodash'\nimport {\n  outlineSearchTermSelector,\n  timelineFilterIsEmptySelector,\n  timelineFilterSelector,\n  timelineSearchTermSelector,\n  timelineViewIsntDefaultSelector,\n  timelineViewIsStackedSelector,\n} from './ui'\nimport { findNode, nodeParent } from '../reducers/tree'\nimport { nextId } from '../store/newIds'\nimport {\n  beatsByBookSelector,\n  sortedBeatsByBookSelector,\n  visibleSortedBeatsByBookIgnoringCollapsedSelector,\n  visibleSortedBeatsForTimelineByBookSelector,\n} from './beats'\nimport { beatHierarchyIsOn } from './featureFlags'\nimport { outOfOrderSearch } from '../helpers/outOfOrderSearch'\nimport { hierarchyLevelCount } from './hierarchy'\nimport { depth } from '../reducers/tree'\n\nexport const allCardsSelector = (state) => state.cards\n\nconst selectId = (state, id) => id\n\nexport const singleCardSelector = createSelector(allCardsSelector, selectId, (cards, propId) =>\n  cards.find(({ id }) => id === propId)\n)\n\nconst templateMetadata = (template) => {\n  return {\n    ...template,\n    attributes: template.attributes.map((attribute) => {\n      const { name, type, description, link } = attribute\n      return { name, type, description, link }\n    }),\n  }\n}\n\nconst cardIsNonEmpty = (children) => {\n  return (\n    children.length > 1 ||\n    children.some((element) => {\n      return (\n        (element.text && element.text !== '') ||\n        (Array.isArray(element.children) && cardIsNonEmpty(element.children))\n      )\n    })\n  )\n}\n\nconst cardMetaData = (card) => {\n  const {\n    id,\n    beatId,\n    lineId,\n    tags,\n    color,\n    places,\n    characters,\n    bookId,\n    title,\n    templates,\n    positionWithinLine,\n    description,\n  } = card\n\n  return {\n    id,\n    beatId,\n    lineId,\n    tags,\n    color,\n    places,\n    characters,\n    bookId,\n    title,\n    templates: templates.map(templateMetadata),\n    positionWithinLine,\n    hasDescription: cardIsNonEmpty(description),\n  }\n}\n\nexport const allCardMetaDataSelector = (state) => state.cards.map(cardMetaData)\n\nexport const cardsExistOnTimelineSelector = createSelector(\n  allCardMetaDataSelector,\n  visibleSortedBeatsByBookIgnoringCollapsedSelector,\n  (allCardsMetaData, visibleSortedBeats) => {\n    return (\n      allCardsMetaData.filter(({ beatId }) => visibleSortedBeats.find(({ id }) => id === beatId))\n        .length > 0\n    )\n  }\n)\n\nexport const nextCardIdSelector = createSelector(allCardsSelector, (cards) => nextId(cards))\n\nexport const cardIdSelector = (state, cardId) => cardId\n\nexport const cardByIdSelector = createSelector(\n  cardIdSelector,\n  allCardsSelector,\n  (cardId, cards) => {\n    return cards.find((card) => card.id === cardId)\n  }\n)\n\nexport const cardDescriptionByIdSelector = createSelector(\n  cardByIdSelector,\n  (card) => card && card.description\n)\n\nconst createDeepEqualSelector = createSelectorCreator(defaultMemoize, isEqual)\n\nconst _cardMetaDataSelector = createSelector(cardByIdSelector, (card) => {\n  if (!card) return null\n\n  return cardMetaData(card)\n})\n\nexport const cardMetaDataSelector = createDeepEqualSelector(_cardMetaDataSelector, (metadata) => {\n  return metadata\n})\n\nexport const attributeValueSelector = (cardId, attributeName) => (state) =>\n  cardByIdSelector(state, cardId)[attributeName]\n\nexport const templateAttributeValueSelector = (cardId, templateId, attributeName) => (state) => {\n  const card = cardByIdSelector(state, cardId)\n  const templateOnCard = card && card.templates.find(({ id }) => id === templateId)\n  const valueInAttributes =\n    templateOnCard && templateOnCard.attributes.find(({ name }) => name === attributeName).value\n  const valueOnTemplate = templateOnCard && templateOnCard[attributeName]\n  return valueInAttributes || valueOnTemplate\n}\n\nexport const collapsedBeatSelector = createSelector(\n  beatsByBookSelector,\n  sortedBeatsByBookSelector,\n  (beatTree, sortedBeats) => {\n    const collapsedBeats = new Map()\n    const firstCollapsedParent = (beatId) => {\n      if (!beatId) return null\n      if (collapsedBeats.has(beatId)) {\n        return collapsedBeats.get(beatId)\n      }\n      const directParentId = nodeParent(beatTree, beatId)\n      const collapsedParentId = firstCollapsedParent(directParentId)\n      if (collapsedParentId) {\n        collapsedBeats.set(beatId, collapsedParentId)\n        return collapsedParentId\n      }\n      const thisBeat = findNode(beatTree, beatId)\n      if (!thisBeat.expanded) {\n        collapsedBeats.set(beatId, beatId)\n        return beatId\n      }\n      collapsedBeats.set(beatId, null)\n      return null\n    }\n    sortedBeats.forEach((beat) => {\n      firstCollapsedParent(beat.id)\n    })\n    return collapsedBeats\n  }\n)\n\nexport const cardMapSelector = createSelector(\n  allCardsSelector,\n  collapsedBeatSelector,\n  sortedBeatsByBookSelector,\n  beatHierarchyIsOn,\n  timelineViewIsntDefaultSelector,\n  (cards, collapsedBeats, allSortedBeats, hierarchyIsOn, timelineViewIsntDefault) => {\n    const beatIds = allSortedBeats.map(({ id }) => id)\n    const beatPositions = beatIds.map((x) => x)\n    beatIds.forEach((beatId, index) => (beatPositions[beatId] = index))\n    return cards.reduce(\n      cardReduce(\n        'lineId',\n        'beatId',\n        hierarchyIsOn && !timelineViewIsntDefault && collapsedBeats,\n        beatPositions\n      ),\n      {}\n    )\n  }\n)\n\nconst stringifiedCardsByIdSelector = createSelector(allCardsSelector, (cards) => {\n  return cards.reduce((acc, nextCard) => {\n    return {\n      ...acc,\n      [nextCard.id]: JSON.stringify(nextCard).toLowerCase(),\n    }\n  }, {})\n})\n\nexport const outlineSearchedCardMapSelector = createSelector(\n  allCardsSelector,\n  collapsedBeatSelector,\n  sortedBeatsByBookSelector,\n  beatHierarchyIsOn,\n  outlineSearchTermSelector,\n  stringifiedCardsByIdSelector,\n  (cards, collapsedBeats, allSortedBeats, hierarchyIsOn, outlineSearchTerm, stringifiedCards) => {\n    const beatIds = allSortedBeats.map(({ id }) => id)\n    const beatPositions = beatIds.map((x) => x)\n    beatIds.forEach((beatId, index) => (beatPositions[beatId] = index))\n    const lowerCaseSearchTerms =\n      outlineSearchTerm &&\n      outlineSearchTerm\n        .toLowerCase()\n        .split(' ')\n        .filter((x) => x)\n    const filteredCards = lowerCaseSearchTerms\n      ? cards.filter(({ id }) => {\n          return outOfOrderSearch(lowerCaseSearchTerms, stringifiedCards[id])\n        })\n      : cards\n    return filteredCards.reduce(\n      cardReduce('lineId', 'beatId', hierarchyIsOn && collapsedBeats, beatPositions),\n      {}\n    )\n  }\n)\n\nexport const cardMetaDataMapSelector = createDeepEqualSelector(\n  allCardMetaDataSelector,\n  collapsedBeatSelector,\n  sortedBeatsByBookSelector,\n  beatHierarchyIsOn,\n  (cards, collapsedBeats, allSortedBeats, hierarchyIsOn) => {\n    const beatIds = allSortedBeats.map(({ id }) => id)\n    const beatPositions = beatIds.map((x) => x)\n    beatIds.forEach((beatId, index) => (beatPositions[beatId] = index))\n    return cards.reduce(\n      cardReduce('lineId', 'beatId', hierarchyIsOn && collapsedBeats, beatPositions),\n      {}\n    )\n  }\n)\n\nexport const searchedCardMetaDataMapSelector = createDeepEqualSelector(\n  allCardMetaDataSelector,\n  collapsedBeatSelector,\n  visibleSortedBeatsForTimelineByBookSelector,\n  beatHierarchyIsOn,\n  timelineSearchTermSelector,\n  stringifiedCardsByIdSelector,\n  beatsByBookSelector,\n  timelineViewIsStackedSelector,\n  hierarchyLevelCount,\n  timelineViewIsntDefaultSelector,\n  (\n    cards,\n    collapsedBeats,\n    allSortedBeats,\n    hierarchyIsOn,\n    timelineSearchTerm,\n    stringifiedCards,\n    beats,\n    timelineViewIsStacked,\n    hierarchyLevelCount,\n    timelineViewIsntDefault\n  ) => {\n    const beatIds = allSortedBeats.map(({ id }) => id)\n    const beatPositions = beatIds.map((x) => x)\n    beatIds.forEach((beatId, index) => (beatPositions[beatId] = index))\n    const lowerCaseSearchTerms =\n      timelineSearchTerm &&\n      timelineSearchTerm\n        .toLowerCase()\n        .split(' ')\n        .filter((x) => x)\n\n    const filteredCards = (\n      lowerCaseSearchTerms\n        ? cards.filter(({ id, beatId }) => {\n            return outOfOrderSearch(lowerCaseSearchTerms, stringifiedCards[id])\n          })\n        : cards\n    ).filter(({ beatId }) => {\n      const beatIsALeaf = depth(beats, beatId) === hierarchyLevelCount - 1\n      return !timelineViewIsStacked || beatIsALeaf\n    })\n\n    return filteredCards.reduce(\n      cardReduce(\n        'lineId',\n        'beatId',\n        hierarchyIsOn && !timelineViewIsntDefault && collapsedBeats,\n        beatPositions\n      ),\n      {}\n    )\n  }\n)\n\nexport const visibleCardsSelector = createSelector(\n  allCardsSelector,\n  timelineFilterSelector,\n  timelineFilterIsEmptySelector,\n  (cards, filter, filterIsEmpty) => {\n    return cards.reduce((acc, c) => {\n      acc[c.id] = cardIsVisible(c, filter, filterIsEmpty)\n      return acc\n    }, {})\n  }\n)\n\nfunction cardReduce(lineAttr, beatAttr, collapsedBeats, beatPositions) {\n  return (acc, card) => {\n    const cardBeatId = card[beatAttr]\n    const beatId = (collapsedBeats && collapsedBeats.get(cardBeatId)) || cardBeatId\n    const val = acc[`${card[lineAttr]}-${beatId}`]\n    if (val && val.length) {\n      const cards = [...val, card]\n      const sortedCards = sortBy(sortBy(cards, 'positionWithinLine'), (card) => {\n        const beatId = card[beatAttr]\n        return beatPositions[beatId]\n      })\n      acc[`${card[lineAttr]}-${beatId}`] = sortedCards\n    } else {\n      acc[`${card[lineAttr]}-${beatId}`] = [card]\n    }\n\n    return acc\n  }\n}\n\nfunction cardIsVisible(card, filter, filterIsEmpty) {\n  if (filterIsEmpty) return true\n\n  return Object.keys(filter).some((attr) => {\n    return filter[attr].some((val) => {\n      if (card[attr] !== undefined) {\n        return card[attr] === val\n      }\n      if (val === '' && card[attr] === undefined) {\n        return true\n      }\n      if (attr == 'tag') {\n        return card.tags.includes(val)\n      }\n      if (attr == 'character') {\n        return card.characters.includes(val)\n      }\n      if (attr == 'place') {\n        return card.places.includes(val)\n      }\n      return false\n    })\n  })\n}\n","import { sortBy } from 'lodash'\nimport { createSelector } from 'reselect'\n\nexport const allCategoriesSelector = (state) => state.categories\nexport const characterCategoriesSelector = (state) => state.categories.characters\nexport const noteCategoriesSelector = (state) => state.categories.notes\nexport const tagCategoriesSelector = (state) => state.categories.tags\nexport const placeCategoriesSelector = (state) => state.categories.places\n\nexport const sortedCharacterCategoriesSelector = createSelector(\n  characterCategoriesSelector,\n  (categories) => sortBy(categories, 'position')\n)\n\nexport const sortedNoteCategoriesSelector = createSelector(noteCategoriesSelector, (categories) =>\n  sortBy(categories, 'position')\n)\n\nexport const sortedTagCategoriesSelector = createSelector(tagCategoriesSelector, (categories) =>\n  sortBy(categories, 'position')\n)\n\nexport const sortedPlaceCategoriesSelector = createSelector(placeCategoriesSelector, (categories) =>\n  sortBy(categories, 'position')\n)\n","import { createSelector } from 'reselect'\nimport { sortBy, groupBy, uniq, mapValues, differenceWith, isEqual, omit } from 'lodash'\nimport {\n  characterSortSelector,\n  characterFilterSelector,\n  currentTimelineSelector,\n  charactersSearchTermSelector,\n  selectedCharacterAttributeTabSelector,\n  characterCustomAttributeOrderSelector,\n} from './ui'\nimport { isSeries } from '../helpers/books'\nimport { outOfOrderSearch } from '../helpers/outOfOrderSearch'\nimport {\n  attributesSelector,\n  characterAttributesForCurrentBookSelector,\n  characterAttributsForBookByIdSelector,\n  overriddenBookIdSelector,\n} from './attributes'\nimport { allBookIdsSelector, allBooksSelector } from './books'\nimport { showBookTabs } from './attributeTabs'\n\nexport const allCharactersSelector = (state) => state.characters\n\nexport const showBookTabsSelector = createSelector(\n  allBookIdsSelector,\n  allCharactersSelector,\n  showBookTabs\n)\n\nexport const characterAttributeTabSelector = createSelector(\n  selectedCharacterAttributeTabSelector,\n  showBookTabsSelector,\n  (selectedTab, showTabs) => {\n    return !showTabs ? 'all' : selectedTab\n  }\n)\n\n// this one also lives in ./customAttributes.js but it causes a circular dependency to import it here\n\nconst selectId = (state, id) => id\n\nexport const singleCharacterSelector = createSelector(\n  allCharactersSelector,\n  selectId,\n  (characters, propId) => characters.find((ch) => ch.id == propId)\n)\n\nconst displayedSingleCharacter = (character, bookId, currentBookAttributeDescirptorsById) => {\n  const currentBookAttributes = character.attributes || []\n\n  const tags =\n    currentBookAttributes.find((attribute) => {\n      return (\n        attribute.bookId === bookId &&\n        currentBookAttributeDescirptorsById[attribute.id].type === 'base-attribute' &&\n        currentBookAttributeDescirptorsById[attribute.id].name === 'tags'\n      )\n    })?.value ||\n    (bookId === 'all' && character.tags) ||\n    []\n\n  const description =\n    currentBookAttributes.find((attribute) => {\n      return (\n        attribute.bookId === bookId &&\n        currentBookAttributeDescirptorsById[attribute.id].type === 'base-attribute' &&\n        currentBookAttributeDescirptorsById[attribute.id].name === 'shortDescription'\n      )\n    })?.value ||\n    (bookId === 'all' && character.description) ||\n    ''\n\n  const notes =\n    currentBookAttributes.find((attribute) => {\n      return (\n        attribute.bookId === bookId &&\n        currentBookAttributeDescirptorsById[attribute.id].type === 'base-attribute' &&\n        currentBookAttributeDescirptorsById[attribute.id].name === 'description'\n      )\n    })?.value ||\n    (bookId === 'all' && character.notes) ||\n    ''\n\n  const categoryId =\n    currentBookAttributes.find((attribute) => {\n      return (\n        attribute.bookId === bookId &&\n        currentBookAttributeDescirptorsById[attribute.id].type === 'base-attribute' &&\n        currentBookAttributeDescirptorsById[attribute.id].name === 'category'\n      )\n    })?.value ||\n    (bookId === 'all' && character.categoryId) ||\n    null\n\n  return {\n    ...character,\n    tags,\n    description,\n    notes,\n    categoryId,\n  }\n}\n\n// This selector produces a character with overridden attributes based\n// on the book we're looking at.\nexport const displayedSingleCharacterSelector = createSelector(\n  singleCharacterSelector,\n  characterAttributeTabSelector,\n  characterAttributsForBookByIdSelector,\n  displayedSingleCharacter\n)\n\nexport const charactersByCategorySelector = createSelector(allCharactersSelector, (characters) =>\n  groupBy(characters, 'categoryId')\n)\n\nexport const allDisplayedCharactersSelector = createSelector(\n  allCharactersSelector,\n  characterAttributeTabSelector,\n  characterAttributsForBookByIdSelector,\n  overriddenBookIdSelector,\n  (characters, bookId, currentBookAttributeDescirptorsById, overridenBookId) => {\n    return characters.map((character) =>\n      displayedSingleCharacter(\n        character,\n        overridenBookId || bookId,\n        currentBookAttributeDescirptorsById\n      )\n    )\n  }\n)\n\nexport const allDisplayedCharactersForCurrentBookSelector = createSelector(\n  allDisplayedCharactersSelector,\n  characterAttributeTabSelector,\n  overriddenBookIdSelector,\n  (characters, selectedBookId, overriddenBookId) => {\n    const bookId = overriddenBookId || selectedBookId || 'series'\n    if (bookId === 'all' || bookId === 'series') {\n      return characters\n    }\n\n    return characters.filter((character) => {\n      return character.bookIds.indexOf(bookId) > -1\n    })\n  }\n)\n\nexport const displayedCharactersByCategorySelector = createSelector(\n  allDisplayedCharactersSelector,\n  (characters) => groupBy(characters, 'categoryId')\n)\n\nexport const characterTemplateAttributeValueSelector =\n  (characterId, templateId, attributeName) => (state) => {\n    const bookId = characterAttributeTabSelector(state)\n    const character = singleCharacterSelector(state, characterId)\n    const templateOnCharacter = character && character.templates.find(({ id }) => id === templateId)\n    const valueInAttributes =\n      templateOnCharacter &&\n      templateOnCharacter.attributes.find(({ name }) => name === attributeName).value\n    const valueOnTemplate = templateOnCharacter && templateOnCharacter[attributeName]\n    const valueForBook =\n      templateOnCharacter.values &&\n      templateOnCharacter.values.find((value) => {\n        return value.name === attributeName && value.bookId === bookId\n      })?.value\n    return valueForBook || (bookId === 'all' && (valueInAttributes || valueOnTemplate))\n  }\n\nexport const characterFilterIsEmptySelector = createSelector(\n  characterFilterSelector,\n  characterAttributesForCurrentBookSelector,\n  (filter, attributes) => {\n    if (!filter) return true\n    const allAttributes = [{ name: 'tag' }, { name: 'book' }, { name: 'category' }, ...attributes]\n    return !allAttributes.some((attr) => {\n      const key = attr.id || attr.name\n      return filter[key] && filter[key].length\n    })\n  }\n)\n\nexport const visibleSortedCharactersByCategorySelector = createSelector(\n  allDisplayedCharactersSelector,\n  displayedCharactersByCategorySelector,\n  characterFilterSelector,\n  characterFilterIsEmptySelector,\n  characterSortSelector,\n  characterAttributesForCurrentBookSelector,\n  characterAttributeTabSelector,\n  (allCharacters, charactersByCategory, filter, filterIsEmpty, sort, allAttributes, bookId) => {\n    if (!allCharacters.length) return {}\n\n    let visible = charactersByCategory\n    if (!filterIsEmpty) {\n      visible = {}\n      allCharacters.forEach((ch) => {\n        const matches = Object.keys(filter).some((attr) => {\n          return filter[attr].some((val) => {\n            if (attr == 'tag') {\n              return ch.tags.includes(val)\n            }\n            if (attr == 'book') {\n              return ch.bookIds.includes(val)\n            }\n            if (attr == 'category') {\n              return ch.categoryId == val\n            }\n\n            // It could be a new attribute\n            const characterAttributes = ch.attributes || []\n            const attributeFound = characterAttributes.find((attribute) => {\n              return attribute?.id?.toString() === attr && attribute.bookId === bookId\n            })\n            const definesAttribute =\n              attributeFound?.value === val ||\n              (attributeFound && attributeFound.value === undefined && val === '')\n            if (definesAttribute) {\n              return true\n            }\n\n            // Or it could be a legacy attribute\n            if (!attributeFound) {\n              if (val == '') {\n                if (!ch[attr] || ch[attr] == '') return true\n              } else {\n                if (ch[attr] && ch[attr] == val) return true\n              }\n            }\n\n            return false\n          })\n        })\n        if (matches) {\n          if (visible[ch.categoryId] && visible[ch.categoryId].length) {\n            visible[ch.categoryId].push(ch)\n          } else {\n            visible[ch.categoryId] = [ch]\n          }\n        }\n      })\n    } else {\n      visible = mapValues(visible, (ch) => {\n        return ch.filter((c) => bookId === 'all' || c.bookIds.includes(bookId))\n      })\n    }\n\n    return sortEachCategory(visible, sort)\n  }\n)\n\nconst stringifiedCharactersByIdSelector = createSelector(allCharactersSelector, (characters) => {\n  return characters.reduce((acc, nextCharacter) => {\n    return {\n      ...acc,\n      [nextCharacter.id]: JSON.stringify(nextCharacter).toLowerCase(),\n    }\n  }, {})\n})\n\nexport const visibleSortedSearchedCharactersByCategorySelector = createSelector(\n  visibleSortedCharactersByCategorySelector,\n  charactersSearchTermSelector,\n  stringifiedCharactersByIdSelector,\n  (characterCategories, searchTerm, stringifiedCharacters) => {\n    if (!searchTerm) return characterCategories\n\n    const lowSearchTerms = searchTerm\n      .toLowerCase()\n      .split(' ')\n      .filter((x) => x)\n    return Object.entries(characterCategories).reduce((acc, nextCategory) => {\n      const [key, characters] = nextCategory\n      const newCharacters = characters.filter(({ id }) => {\n        return outOfOrderSearch(lowSearchTerms, stringifiedCharacters[id])\n      })\n      if (newCharacters.length > 0) {\n        return {\n          ...acc,\n          [key]: newCharacters,\n        }\n      } else {\n        return acc\n      }\n    }, {})\n  }\n)\n\nfunction sortEachCategory(visibleByCategory, sort) {\n  let sortOperands = sort.split('~')\n  let attrName = sortOperands[0]\n  let direction = sortOperands[1]\n  let sortByOperand = attrName === 'name' ? [attrName, 'id'] : [attrName, 'name']\n\n  Object.keys(visibleByCategory).forEach((k) => {\n    let characters = visibleByCategory[k]\n\n    let sorted = sortBy(characters, sortByOperand)\n    if (direction == 'desc') sorted.reverse()\n    visibleByCategory[k] = sorted\n  })\n  return visibleByCategory\n}\n\nexport const charactersSortedAtoZSelector = createSelector(allCharactersSelector, (characters) =>\n  sortBy(characters, 'name')\n)\n\nexport const charactersSortedInBookSelector = createSelector(\n  charactersSortedAtoZSelector,\n  currentTimelineSelector,\n  (characters, bookId) =>\n    characters.filter((character) => {\n      if (character.bookIds.length === 0) return true\n      if (character.bookIds.some(isSeries)) return true\n      return character.bookIds.includes(bookId)\n    })\n)\n\nconst characterCustomAttributes = (state) => state.customAttributes.characters\n\nconst combinedAttributesForCharacter = (\n  character,\n  attributes,\n  customAttributes,\n  selectedBookId,\n  overridenBookId,\n  order\n) => {\n  const characterBookAttributes = character.attributes || []\n  const allAttributes = attributes.characters || []\n  const bookId = overridenBookId || selectedBookId\n  const newAttributes = allAttributes\n    .filter((bookAttribute) => {\n      return bookAttribute.type !== 'base-attribute'\n    })\n    .map((bookAttribute) => {\n      const value = characterBookAttributes.find((attributeValue) => {\n        return attributeValue.id === bookAttribute.id && attributeValue.bookId === bookId\n      })\n      return {\n        value: '',\n        ...bookAttribute,\n        ...value,\n      }\n    })\n\n  const legacyAttributes = customAttributes.map((customAttribute) => {\n    const value = character[customAttribute.name] || ''\n    return {\n      ...customAttribute,\n      value,\n    }\n  })\n\n  const ordered = order.map((entry) => {\n    if (entry.type === 'attributes') {\n      return newAttributes.find(({ id }) => {\n        return id === entry.id\n      })\n    } else {\n      return legacyAttributes.find(({ name }) => {\n        return name === entry.name\n      })\n    }\n  })\n  const missing = differenceWith([...newAttributes, ...legacyAttributes], ordered, isEqual)\n\n  return [...ordered, ...missing]\n}\n\nexport const characterAttributesSelector = createSelector(\n  singleCharacterSelector,\n  attributesSelector,\n  characterCustomAttributes,\n  characterAttributeTabSelector,\n  overriddenBookIdSelector,\n  characterCustomAttributeOrderSelector,\n  combinedAttributesForCharacter\n)\n\nexport const characterAttributeValuesForCurrentBookSelector = createSelector(\n  allCharactersSelector,\n  attributesSelector,\n  characterCustomAttributes,\n  characterAttributeTabSelector,\n  characterCustomAttributeOrderSelector,\n  (characters, attributes, customAttributes, bookId, order) => {\n    const newAttributeValues = characters.reduce((acc, character) => {\n      const attributesForCharacter = combinedAttributesForCharacter(\n        character,\n        attributes,\n        customAttributes,\n        bookId,\n        null,\n        order\n      )\n      attributesForCharacter.forEach((attribute) => {\n        if (attribute.value !== undefined && attribute.value !== null && attribute.value !== '') {\n          if (!Array.isArray(acc[attribute.id])) {\n            acc[attribute.id] = [attribute.value]\n          }\n          acc[attribute.id].push(attribute.value)\n          acc[attribute.id] = uniq(acc[attribute.id])\n        }\n      })\n      return acc\n    }, {})\n\n    const legacyAttributes = customAttributes.reduce((acc, customAttribute) => {\n      const values = characters\n        .map((character) => {\n          return character[customAttribute.name]\n        })\n        .filter((value) => {\n          return value !== undefined && value !== null && value !== ''\n        })\n      return {\n        ...acc,\n        [customAttribute.name]: uniq(values),\n      }\n    }, {})\n\n    return {\n      ...newAttributeValues,\n      ...legacyAttributes,\n    }\n  }\n)\n\nexport const characterBookCategoriesSelector = createSelector(\n  currentTimelineSelector,\n  allCharactersSelector,\n  (bookId, characters) => {\n    const categoryMembership = characters.reduce((acc, character) => {\n      if (character.bookIds.indexOf(bookId) > -1) {\n        return {\n          ...acc,\n          'Characters In Book': [character.id, ...(acc['Characters In Book'] || [])],\n        }\n      }\n\n      return {\n        ...acc,\n        'Not in Book': [character.id, ...(acc['Not in Book'] || [])],\n      }\n    }, {})\n    return [\n      categoryMembership['Characters In Book']?.length > 0\n        ? [\n            {\n              displayHeading: false,\n              key: 'Characters In Book',\n              'Characters In Book': categoryMembership['Characters In Book'],\n            },\n          ]\n        : [],\n      categoryMembership['Not in Book']?.length > 0\n        ? [\n            {\n              glyph: 'plus',\n              displayHeading: true,\n              key: 'Not in Book',\n              'Not in Book': categoryMembership['Not in Book'],\n              lineAbove: true,\n            },\n          ]\n        : [],\n    ].flatMap((x) => x)\n  }\n)\n\nexport const allBooksWithCharactersInThemSelector = createSelector(\n  allBooksSelector,\n  allCharactersSelector,\n  showBookTabsSelector,\n  (books, characters, showBookTabs) => {\n    if (!showBookTabs) {\n      return omit(books, 'allIds')\n    }\n\n    console.log('DOING THIS BRANCH')\n\n    return Object.values(books)\n      .filter((value) => {\n        return characters.some((character) => {\n          return character.bookIds.indexOf(value.id) !== -1\n        })\n      })\n      .reduce((acc, next) => {\n        return {\n          ...acc,\n          [next.id]: next,\n        }\n      }, {})\n  }\n)\n","import { createSelector } from 'reselect'\n\nconst clientSelector = (state) => {\n  return state.client || {}\n}\nexport const userIdSelector = createSelector(clientSelector, ({ userId }) => userId)\nexport const clientIdSelector = createSelector(clientSelector, ({ clientId }) => clientId)\nexport const emailAddressSelector = createSelector(\n  clientSelector,\n  ({ emailAddress }) => emailAddress\n)\nexport const hasOnboardedSelector = createSelector(\n  clientSelector,\n  ({ hasOnboarded }) => hasOnboarded\n)\nexport const hasProSelector = createSelector(clientSelector, ({ hasPro }) => hasPro)\nexport const isLoggedInSelector = createSelector(clientSelector, (client) => !!client.userId)\nexport const isOnWebSelector = createSelector(clientSelector, ({ isOnWeb }) => isOnWeb)\nexport const currentAppStateSelector = createSelector(\n  clientSelector,\n  ({ currentAppState }) => currentAppState\n)\nexport const currentAppStateIsDashboardSelector = createSelector(\n  currentAppStateSelector,\n  (currentAppState) => currentAppState === 'dashboard'\n)\n","import { createSelector } from 'reselect'\nimport { allCharactersSelector } from './characters'\nimport { allPlacesSelector } from './places'\nimport { allCardsSelector } from './cards'\nimport { allNotesSelector } from './notes'\nimport { character, place } from '../store/initialState'\nimport { attributesSelector } from './attributes'\n\nconst characterKeys = Object.keys(character)\nconst placeKeys = Object.keys(place)\n\nexport const allCustomAttributesSelector = (state) => state.customAttributes\nexport const characterCustomAttributesSelector = (state) => state.customAttributes.characters\nexport const placeCustomAttributesSelector = (state) => state.customAttributes.places\nexport const cardsCustomAttributesSelector = (state) => state.customAttributes.scenes\nexport const noteCustomAttributesSelector = (state) => state.customAttributes.notes\n\nexport const characterSortCAnamesSelector = createSelector(\n  characterCustomAttributesSelector,\n  (attributes) => attributes.filter((attr) => attr.type == 'text').map((attr) => attr.name)\n)\n\nexport const placeSortCAnamesSelector = createSelector(\n  placeCustomAttributesSelector,\n  (attributes) => attributes.filter((attr) => attr.type == 'text').map((attr) => attr.name)\n)\n\nexport const noteSortCAnamesSelector = createSelector(noteCustomAttributesSelector, (attributes) =>\n  attributes.filter((attr) => attr.type == 'text').map((attr) => attr.name)\n)\n\nconst noEntityHasLegacyAttributeBound = (entities, attrs) => {\n  return attrs.reduce((acc, attr) => {\n    if (attr.type == 'text') {\n      acc.push(attr.name)\n      return acc\n    }\n\n    const changeable = entities.every((ch) => hasNoLegacyValue(ch, attr.name))\n    if (changeable) acc.push(attr.name)\n    return acc\n  }, [])\n}\n\n// you can change a paragraph type back to text if:\n// 1. It has no value\n// 2. It is a string\n// 3. It's value is the same as RCE_INITIAL_VALUE\n// 4. It's value is an empty paragraph\n// Otherwise, a paragraph type can not be changed back\nfunction hasNoValue(item, id) {\n  const attributeValues = item.attributes || []\n  const val = attributeValues.find((item) => {\n    return item.id === id\n  })?.value\n  if (!val) return true\n  if (typeof val === 'string') return true\n\n  if (!val.length) return true\n  if (val.length > 1) return false // more than 1 paragraph\n  if (val[0].children.length > 1) return false // more than 1 text node\n  if (val[0].children[0].text == '') return true // no text\n  return false\n}\n\nconst noEntityHasAttributeBound = (entities, attrs) => {\n  return attrs.reduce((acc, attr) => {\n    if (attr.type === 'base-attribute') {\n      return acc\n    }\n\n    if (attr.type == 'text') {\n      acc.push(attr.name)\n      return acc\n    }\n\n    const changeable = entities.every((ch) => hasNoValue(ch, attr.id))\n    if (changeable) acc.push(attr.name)\n    return acc\n  }, [])\n}\n\nexport const characterCustomAttributesThatCanChangeSelector = createSelector(\n  allCharactersSelector,\n  characterCustomAttributesSelector,\n  attributesSelector,\n  (characters, legacyAttributes, attributes) => {\n    const characterBookAttributes = attributes.characters || []\n    return [\n      ...noEntityHasLegacyAttributeBound(characters, legacyAttributes),\n      ...noEntityHasAttributeBound(characters, characterBookAttributes),\n    ]\n  }\n)\n\nexport const placeCustomAttributesThatCanChangeSelector = createSelector(\n  allPlacesSelector,\n  placeCustomAttributesSelector,\n  noEntityHasLegacyAttributeBound\n)\n\nexport const cardsCustomAttributesThatCanChangeSelector = createSelector(\n  allCardsSelector,\n  cardsCustomAttributesSelector,\n  noEntityHasLegacyAttributeBound\n)\n\nexport const notesCustomAttributesThatCanChangeSelector = createSelector(\n  allNotesSelector,\n  noteCustomAttributesSelector,\n  noEntityHasLegacyAttributeBound\n)\n\n// you can change a paragraph type back to text if:\n// 1. It has no value\n// 2. It is a string\n// 3. It's value is the same as RCE_INITIAL_VALUE\n// 4. It's value is an empty paragraph\n// Otherwise, a paragraph type can not be changed back\nfunction hasNoLegacyValue(item, attr) {\n  const val = item[attr]\n  if (!val) return true\n  if (typeof val === 'string') return true\n\n  if (!val.length) return true\n  if (val.length > 1) return false // more than 1 paragraph\n  if (val[0].children) {\n    if (val[0].children.length > 1) return false // more than 1 text node\n    if (val[0].children[0].text == '') return true // no text\n  }\n  return false\n}\n\nexport const characterCustomAttributesRestrictedValues = createSelector(\n  characterCustomAttributesSelector,\n  (attrs) => characterKeys.concat(attrs.map((a) => a.name))\n)\n\nexport const placeCustomAttributesRestrictedValues = createSelector(\n  placeCustomAttributesSelector,\n  (attrs) => placeKeys.concat(attrs.map((a) => a.name))\n)\n\nexport const noteCustomAttributesRestrictedValues = createSelector(\n  noteCustomAttributesSelector,\n  (attrs) => placeKeys.concat(attrs.map((a) => a.name))\n)\n\nconst attributeNameSelector = (_state, attributeName) => {\n  return attributeName\n}\n\nexport const legacyCustomCharacterAttributeByName = createSelector(\n  characterCustomAttributesSelector,\n  attributeNameSelector,\n  (customAttributes, name) => {\n    return customAttributes.find((attribute) => {\n      return attribute.name === name\n    })\n  }\n)\n","import { createSelector } from 'reselect'\n\nconst domEventsSelector = (state) => {\n  return state.domEvents\n}\n\nexport const lastClickSelector = createSelector(domEventsSelector, ({ lastClick }) => {\n  return lastClick\n})\n","export const selectionSelector = (state, path) => state.editors[path] || null\n","export const errorMessageSelector = (state) => state.error && state.error.error\nexport const partOfStoreWhereErrorOccured = (state) => state.error && state.error.storeKey\n","import { BEAT_HIERARCHY_FLAG } from '../constants/featureFlags'\n\nexport const beatHierarchyIsOn = (state) => state.featureFlags[BEAT_HIERARCHY_FLAG]\n\nexport const featureFlags = (state) => state.featureFlags\n","import { get } from 'lodash'\n\nexport const fileNameSelector = (state) => get(state, 'file.fileName')\nexport const fileIsLoadedSelector = (state) => get(state, 'file.loaded')\nexport const originalFileNameSelector = (state) => get(state, 'file.originalFileName')\nexport const cloudFilePathSelector = (state) => {\n  const file = state.file\n  if (!file) {\n    return null\n  }\n  return file.isCloudFile ? `plottr://${file.id}` : null\n}\nexport const fileIdSelector = (state) => {\n  const file = state.file\n  if (!file) {\n    return null\n  }\n  return file.id\n}\n","import { createSelector } from 'reselect'\n\nexport const hierarchyLevels = (state) => state.hierarchyLevels\n\nexport const hierarchyLevelCount = createSelector(\n  hierarchyLevels,\n  (hierarchyLevels) => Object.keys(hierarchyLevels).length\n)\n\nexport const sortedHierarchyLevels = createSelector(\n  hierarchyLevelCount,\n  hierarchyLevels,\n  (levels, hierarchyLevels) => {\n    const sortedLevels = []\n    for (let i = 0; i < levels; ++i) {\n      sortedLevels.push(hierarchyLevels[i])\n    }\n    return sortedLevels\n  }\n)\n\nexport const topLevelBeatNameSelector = createSelector(sortedHierarchyLevels, (levels) => {\n  return levels[0].name\n})\n","import { createSelector } from 'reselect'\nimport { repeat } from 'lodash'\n\nimport { depth } from '../reducers/tree'\nimport { beatIdSelector, beatsByBookSelector } from './beats'\nimport { sortedHierarchyLevels } from './hierarchy'\nimport { timelineViewIsTabbedSelector } from './ui'\n\nexport const hierarchyLevelSelector = createSelector(\n  beatsByBookSelector,\n  beatIdSelector,\n  sortedHierarchyLevels,\n  (beats, beatId, hierarchyLevels) => {\n    return hierarchyLevels[depth(beats, beatId)] || hierarchyLevels[hierarchyLevels.length - 1]\n  }\n)\n\nexport const atMaximumHierarchyDepthSelector = createSelector(\n  beatsByBookSelector,\n  beatIdSelector,\n  sortedHierarchyLevels,\n  (beats, beatId, hierarchyLevels) => {\n    return depth(beats, beatId) === hierarchyLevels.length - 1\n  }\n)\n\nexport const hierarchyLevelNameSelector = createSelector(\n  beatsByBookSelector,\n  beatIdSelector,\n  sortedHierarchyLevels,\n  (beats, beatId, hierarchyLevels) => {\n    if (!beatId) return hierarchyLevels[0].name\n    return (hierarchyLevels[depth(beats, beatId)] || hierarchyLevels[hierarchyLevels.length - 1])\n      .name\n  }\n)\n\nexport const beatInsertControlHierarchyLevelNameSelector = createSelector(\n  beatsByBookSelector,\n  beatIdSelector,\n  sortedHierarchyLevels,\n  timelineViewIsTabbedSelector,\n  (beats, beatId, hierarchyLevels, timelineViewIsTabbed) => {\n    if (timelineViewIsTabbed && (!beatId || depth(beats, beatId) === 0)) {\n      return (hierarchyLevels[1] || hierarchyLevels[0]).name\n    }\n\n    return (hierarchyLevels[depth(beats, beatId)] || hierarchyLevels[hierarchyLevels.length - 1])\n      .name\n  }\n)\n\nexport const hierarchyChildLevelNameSelector = createSelector(\n  beatsByBookSelector,\n  beatIdSelector,\n  sortedHierarchyLevels,\n  (beats, beatId, hierarchyLevels) => {\n    if (!beatId) return (hierarchyLevels[1] || hierarchyLevels[0]).name\n    const newDepth = depth(beats, beatId) + 1\n    const level = hierarchyLevels[newDepth]\n    if (level) {\n      return level.name\n    } else {\n      return `${repeat('Sub-', newDepth - hierarchyLevels.length + 1)}${\n        (hierarchyLevels[hierarchyLevels.length - 1] || { name: '' }).name\n      }`\n    }\n  }\n)\n","export const imageCacheSelector = (state) => state.imageCache\n","export const imagesSelector = (state) => state.images\n","import { createSelector } from 'reselect'\nimport { sortBy } from 'lodash'\nimport { isLoggedInSelector } from './client'\nimport { shouldBeInProSelector } from './shouldBeInPro'\nimport { getDateValue, isDeviceFileURL } from '../helpers/file'\n\nexport const knownFilesSelector = (state) => state.knownFiles\nconst selectId = (state, id) => id\nexport const fileFromFileIdSelector = createSelector(\n  knownFilesSelector,\n  selectId,\n  (fileList, fileId) => {\n    return fileList.find(({ id }) => id === fileId)\n  }\n)\nconst selectURL = (state, url) => url\nexport const fileFromFileURLSelector = createSelector(\n  knownFilesSelector,\n  selectURL,\n  (fileList, searchFileURL) => {\n    return fileList.find(({ fileURL }) => fileURL === searchFileURL)\n  }\n)\nexport const fileSystemKnownFilesSelector = createSelector(knownFilesSelector, (files) => {\n  return files.filter(({ fileURL }) => {\n    return isDeviceFileURL(fileURL)\n  })\n})\nexport const cloudFileListSelector = createSelector(knownFilesSelector, (files) => {\n  return files.filter(({ isCloudFile }) => isCloudFile)\n})\nconst searchTermSelector = (state, searchTerm) => searchTerm\nexport const sortedFileSystemKnownFilesByIdSelector = createSelector(\n  fileSystemKnownFilesSelector,\n  searchTermSelector,\n  (files, searchTerm) => {\n    const filteredFileIds = files\n      .filter((f) => {\n        if (searchTerm && searchTerm.length > 1) {\n          return (f.fileName || f.path).toLowerCase().includes(searchTerm.toLowerCase())\n        } else {\n          return true\n        }\n      })\n      .map(({ id }) => {\n        return id\n      })\n    const sortedIds = sortBy(filteredFileIds, (id) =>\n      getDateValue(files.find((file) => file.id === id))\n    ).reverse()\n    const filesById = files.reduce((acc, nextFile) => {\n      return {\n        ...acc,\n        [nextFile.id]: nextFile,\n      }\n    }, {})\n    return [sortedIds, filesById]\n  }\n)\nconst filesByPosition = (filesArray) => {\n  const byPosition = {}\n  filesArray.forEach((file, index) => {\n    byPosition[index + 1] = file\n  })\n  return byPosition\n}\nconst filesById = (filesArray) => {\n  const byId = {}\n  filesArray.forEach((file, index) => {\n    byId[file.id] = file\n  })\n  return byId\n}\nexport const sortedKnownFilesSelector = createSelector(\n  fileSystemKnownFilesSelector,\n  cloudFileListSelector,\n  shouldBeInProSelector,\n  isLoggedInSelector,\n  searchTermSelector,\n  (fileSystemFiles, cloudFiles, shouldBeInPro, isLoggedIn, searchTerm) => {\n    if (shouldBeInPro && !isLoggedIn) {\n      return [[], {}]\n    }\n    const files = shouldBeInPro ? filesByPosition(cloudFiles) : filesById(fileSystemFiles)\n    const filteredFileIds = Object.keys(files).filter((id) => {\n      if (searchTerm && searchTerm.length > 1) {\n        const f = files[`${id}`]\n        return (f.fileName || f.path).toLowerCase().includes(searchTerm.toLowerCase())\n      } else {\n        return true\n      }\n    })\n    const sortedIds = sortBy(filteredFileIds, (id) => getDateValue(files[`${id}`])).reverse()\n\n    return [sortedIds, files]\n  }\n)\n\nexport const flatSortedKnownFilesSelector = createSelector(\n  fileSystemKnownFilesSelector,\n  cloudFileListSelector,\n  shouldBeInProSelector,\n  isLoggedInSelector,\n  searchTermSelector,\n  (fileSystemFiles, cloudFiles, shouldBeInPro, isLoggedIn, searchTerm) => {\n    if (shouldBeInPro && !isLoggedIn) {\n      return []\n    }\n    const files = shouldBeInPro ? cloudFiles : fileSystemFiles\n    const filteredFiles = files.filter((file) => {\n      if (searchTerm && searchTerm.length > 1) {\n        return file.fileName.toLowerCase().includes(searchTerm.toLowerCase())\n      } else {\n        return true\n      }\n    })\n    const sorted = sortBy(filteredFiles, (file) => getDateValue(file)).reverse()\n\n    return sorted\n  }\n)\n\nconst fileURLSelector = (state, fileURL) => {\n  return fileURL\n}\n\nexport const isTempFileSelector = createSelector(\n  fileSystemKnownFilesSelector,\n  fileURLSelector,\n  (files, fileURL) => {\n    const file = files.find((file) => {\n      return file.fileURL === fileURL\n    })\n    return file && file.isTempFile\n  }\n)\n\nexport const sortedProKnownFilesByIdSelector = createSelector(\n  cloudFileListSelector,\n  searchTermSelector,\n  (files, searchTerm) => {\n    const filteredFileIds = files\n      .filter((f) => {\n        if (searchTerm && searchTerm.length > 1) {\n          return (f.fileName || f.path).toLowerCase().includes(searchTerm.toLowerCase())\n        } else {\n          return true\n        }\n      })\n      .map(({ id }) => {\n        return id\n      })\n    const sortedIds = sortBy(filteredFileIds, (id) =>\n      getDateValue(files.find((file) => file.id === id))\n    ).reverse()\n    const filesById = files.reduce((acc, nextFile) => {\n      return {\n        ...acc,\n        [nextFile.id]: nextFile,\n      }\n    }, {})\n    return [sortedIds, filesById]\n  }\n)\n\nexport const sortedFlatProKnownFilesByIdSelector = createSelector(\n  sortedProKnownFilesByIdSelector,\n  (proFiles) => {\n    return proFiles[0].map((id) => proFiles[1][id])\n  }\n)\n","import { createSelector } from 'reselect'\n\nimport { hasProSelector } from './client'\nimport { shouldBeInProSelector } from './shouldBeInPro'\n\nexport const trialInfoSelector = (state) => state.license.trialInfo\nexport const trialEndSelector = createSelector(trialInfoSelector, ({ endsAt }) => endsAt)\nexport const daysLeftOfTrialSelector = createSelector(trialEndSelector, (endsAt) => {\n  let oneDay = 24 * 60 * 60 * 1000\n  var today = new Date()\n  return Math.round((endsAt - today.getTime()) / oneDay)\n})\nexport const trialExpiredSelector = createSelector(\n  daysLeftOfTrialSelector,\n  (daysLeft) => daysLeft <= 0\n)\nexport const canExtendSelector = createSelector(\n  trialInfoSelector,\n  ({ extensions }) => extensions > 0\n)\nexport const trialStartedSelector = createSelector(\n  trialInfoSelector,\n  ({ startsAt, endsAt, extensions }) => {\n    return (\n      startsAt !== null &&\n      startsAt !== undefined &&\n      endsAt !== null &&\n      endsAt !== undefined &&\n      extensions !== null &&\n      extensions !== undefined\n    )\n  }\n)\nexport const trialStartedOnSelector = createSelector(trialInfoSelector, ({ startsAt }) => startsAt)\nexport const trialEndsOnSelector = createSelector(trialInfoSelector, ({ endsAt }) => endsAt)\n\nexport const licenseInfoSelector = (state) => state.license.licenseInfo\nexport const licenseExpiresSelector = createSelector(licenseInfoSelector, ({ expires }) => expires)\nexport const licenseItemNameSelector = createSelector(\n  licenseInfoSelector,\n  ({ item_name }) => item_name && item_name.replace('&#8211;', '-')\n)\nexport const licenseCustomerEmailSelector = createSelector(\n  licenseInfoSelector,\n  ({ customer_email }) => customer_email\n)\nexport const licenseKeySelector = createSelector(\n  licenseInfoSelector,\n  ({ licenseKey }) => licenseKey\n)\nexport const itemIdSelector = createSelector(licenseInfoSelector, ({ item_id }) => item_id)\nexport const activationsLeftSelector = createSelector(\n  licenseInfoSelector,\n  ({ activations_left }) => activations_left\n)\nexport const siteCountSelector = createSelector(licenseInfoSelector, ({ site_count }) => site_count)\nexport const licenseLicenseSelector = createSelector(licenseInfoSelector, ({ license }) => license)\nexport const hasLicenseSelector = createSelector(\n  licenseExpiresSelector,\n  licenseItemNameSelector,\n  licenseCustomerEmailSelector,\n  licenseKeySelector,\n  itemIdSelector,\n  activationsLeftSelector,\n  siteCountSelector,\n  licenseLicenseSelector,\n  (\n    expires,\n    itemName,\n    customerEmail,\n    licenseKey,\n    itemId,\n    activationsLeft,\n    siteCount,\n    licenseLicense\n  ) => {\n    return (\n      expires !== null &&\n      expires !== undefined &&\n      itemName !== null &&\n      itemName !== undefined &&\n      customerEmail !== null &&\n      customerEmail !== undefined &&\n      licenseKey !== null &&\n      licenseKey !== undefined &&\n      itemId !== null &&\n      itemId !== undefined &&\n      activationsLeft !== null &&\n      activationsLeft !== undefined &&\n      siteCount !== null &&\n      siteCount !== undefined &&\n      licenseLicense !== null &&\n      licenseLicense !== undefined\n    )\n  }\n)\n\nexport const proInfoSelector = (state) => state.license.proLicenseInfo\n\n// More complicated logic\nexport const isInTrialModeSelector = createSelector(\n  trialStartedSelector,\n  trialExpiredSelector,\n  hasLicenseSelector,\n  hasProSelector,\n  shouldBeInProSelector,\n  (started, trialExpired, hasLicense, hasCurrentProLicense, shouldBeInPro) => {\n    return started && !trialExpired && !hasLicense && !hasCurrentProLicense && !shouldBeInPro\n  }\n)\nexport const isInTrialModeWithExpiredTrialSelector = createSelector(\n  trialExpiredSelector,\n  hasLicenseSelector,\n  hasProSelector,\n  (trialExpired, hasLicense, hasCurrentProLicense) => {\n    return trialExpired && !hasLicense && !hasCurrentProLicense\n  }\n)\nexport const isFirstTimeSelector = createSelector(\n  hasLicenseSelector,\n  trialStartedSelector,\n  hasProSelector,\n  shouldBeInProSelector,\n  (hasLicense, trialStarted, hasCurrentProLicense, shouldBeInPro) => {\n    return !hasLicense && !trialStarted && !hasCurrentProLicense && !shouldBeInPro\n  }\n)\n\nexport const proLicenseInfoSelector = (state) => state.license.proLicenseInfo\nexport const proLicenseExpirationSelector = createSelector(\n  proLicenseInfoSelector,\n  ({ expiration }) => expiration\n)\nexport const proLicenseAdminSelector = createSelector(proLicenseInfoSelector, ({ admin }) => admin)\n","import { sortBy, keyBy } from 'lodash'\nimport { createSelector } from 'reselect'\nimport { currentTimelineSelector, timelineIsExpandedSelector } from './ui'\nimport { cardMapSelector } from './cards'\nimport { visibleSortedBeatsByBookSelector } from './beats'\nimport { nextId } from '../store/newIds'\nimport { isSeries } from '../helpers/lines'\n\nexport const allSeriesLinesSelector = (state) => state.lines.filter(isSeries)\n\nexport const allLinesSelector = (state) => state.lines\n\nexport const nextLineIdSelector = createSelector(allLinesSelector, (lines) => nextId(lines))\n\nexport const bookIdSelector = (state, bookId) => bookId\n\nexport const linesForBookSelector = createSelector(\n  allLinesSelector,\n  bookIdSelector,\n  (lines, bookId) => {\n    return lines.filter((l) => l && l.bookId == bookId)\n  }\n)\n\nexport const firstLineForBookSelector = createSelector(linesForBookSelector, (lines) => {\n  return sortBy(lines, 'position')[0]\n})\n\nexport const linesByBookSelector = createSelector(\n  allLinesSelector,\n  currentTimelineSelector,\n  (lines, bookId) => {\n    return lines.filter((l) => l && l.bookId == bookId)\n  }\n)\n\nexport const sortedLinesByBookSelector = createSelector(linesByBookSelector, (lines) =>\n  sortBy(lines, 'position')\n)\n\nexport const lineIsExpandedSelector = createSelector(\n  linesByBookSelector,\n  timelineIsExpandedSelector,\n  (lines, isExpanded) => {\n    return lines.reduce((acc, l) => {\n      // if line.expanded is null, then use timelineIsExpanded\n      // else use line.expanded\n      if (l.expanded == null) acc[l.id] = isExpanded\n      else acc[l.id] = l.expanded\n\n      return acc\n    }, {})\n  }\n)\n\nexport const linePositionMappingSelector = createSelector(linesByBookSelector, (lines) => {\n  return lines.reduce((acc, line) => {\n    acc[line.position] = line\n    return acc\n  }, {})\n})\n\nexport const lineMaxCardsSelector = createSelector(\n  linesByBookSelector,\n  cardMapSelector,\n  visibleSortedBeatsByBookSelector,\n  (lines, cardMap, beats) => {\n    return lines.reduce((acc, l) => {\n      let max = 0\n      beats.forEach((beat) => {\n        const cards = cardMap[`${l.id}-${beat.id}`]\n        if (cards && cards.length > max) max = cards.length\n      })\n      acc[l.id] = max\n      return acc\n    }, {})\n  }\n)\n\nexport const linesById = createSelector(sortedLinesByBookSelector, (lines) => {\n  return keyBy(lines, 'id')\n})\n","import { createSelector } from 'reselect'\nimport {\n  currentTimelineSelector,\n  noteFilterSelector,\n  noteSortSelector,\n  notesSearchTermSelector,\n} from './ui'\nimport { isSeries } from '../helpers/books'\nimport { sortBy, groupBy } from 'lodash'\nimport { outOfOrderSearch } from '../helpers/outOfOrderSearch'\n\nexport const allNotesSelector = (state) => state.notes\nconst noteCustomAttributesSelector = (state) => state.customAttributes.notes\n\nconst selectId = (state, id) => id\n\nexport const singleNoteSelector = createSelector(allNotesSelector, selectId, (notes, propId) =>\n  notes.find((n) => n.id == propId)\n)\n\nexport const allNotesInBookSelector = createSelector(\n  allNotesSelector,\n  currentTimelineSelector,\n  (notes, bookId) =>\n    notes.filter((note) => {\n      if (note.bookIds.length === 0) return true\n      if (note.bookIds.some(isSeries)) return true\n      return note.bookIds.includes(bookId)\n    })\n)\n\nexport const notesByCategorySelector = createSelector(allNotesSelector, (notes) => {\n  const grouped = groupBy(notes, 'categoryId')\n  if (grouped[undefined] !== undefined) {\n    grouped[null] = grouped[undefined].concat(grouped[null] || [])\n    delete grouped[undefined]\n  }\n  return grouped\n})\n\nexport const noteFilterIsEmptySelector = createSelector(\n  noteFilterSelector,\n  noteCustomAttributesSelector,\n  (filter, attributes) => {\n    if (!filter) return true\n    const allAttributes = [\n      { name: 'place' },\n      { name: 'tag' },\n      { name: 'book' },\n      { name: 'noteCategory' },\n      { name: 'character' },\n      ...attributes,\n    ]\n    return !allAttributes.some((attr) => filter[attr.name] && filter[attr.name].length)\n  }\n)\n\nexport const visibleSortedNotesByCategorySelector = createSelector(\n  allNotesSelector,\n  notesByCategorySelector,\n  noteFilterSelector,\n  noteFilterIsEmptySelector,\n  noteSortSelector,\n  (allNotes, notesByCategory, filter, filterIsEmpty, sort) => {\n    if (!allNotes.length) return {}\n\n    let visible = notesByCategory\n    if (!filterIsEmpty) {\n      visible = {}\n      allNotes.forEach((n) => {\n        const matches = Object.keys(filter).some((attr) => {\n          return filter[attr].some((val) => {\n            if (attr == 'tag') {\n              return n.tags.includes(val)\n            }\n            if (attr == 'character') {\n              return n.characters.includes(val)\n            }\n            if (attr == 'book') {\n              return n.bookIds.includes(val)\n            }\n            if (attr == 'noteCategory') {\n              return n.categoryId == val\n            }\n            if (attr == 'place') {\n              return n.places.includes(val)\n            }\n            if (val == '') {\n              if (!n[attr] || n[attr] == '') return true\n            } else {\n              if (n[attr] && n[attr] == val) return true\n            }\n            return false\n          })\n        })\n        if (matches) {\n          const categoryId = n.categoryId === undefined ? null : n.categoryId\n          if (visible[categoryId] && visible[categoryId].length) {\n            visible[categoryId].push(n)\n          } else {\n            visible[categoryId] = [n]\n          }\n        }\n      })\n      if (visible[undefined] !== undefined) {\n        visible[null] = visible[undefined]\n        delete visible[undefined]\n      }\n    }\n\n    return sortEachCategory(visible, sort)\n  }\n)\n\nconst stringifiedNotesByIdSelector = createSelector(allNotesSelector, (notes) => {\n  return notes.reduce((acc, note) => {\n    return {\n      ...acc,\n      [note.id]: JSON.stringify(note).toLowerCase(),\n    }\n  }, {})\n})\n\nexport const visibleSortedSearchedNotesByCategorySelector = createSelector(\n  visibleSortedNotesByCategorySelector,\n  notesSearchTermSelector,\n  stringifiedNotesByIdSelector,\n  (noteCategories, searchTerm, stringifiedNotes) => {\n    if (!searchTerm) return noteCategories\n\n    const lowSearchTerms = searchTerm\n      .toLowerCase()\n      .split(' ')\n      .filter((x) => x)\n    return Object.entries(noteCategories).reduce((acc, nextCategory) => {\n      const [key, notes] = nextCategory\n      const newNotes = notes.filter(({ id }) => {\n        return outOfOrderSearch(lowSearchTerms, stringifiedNotes[id])\n      })\n      if (newNotes.length > 0) {\n        return {\n          ...acc,\n          [key]: newNotes,\n        }\n      } else {\n        return acc\n      }\n    }, {})\n  }\n)\n\nfunction sortEachCategory(visibleByCategory, sort) {\n  const sortOperands = sort.split('~')\n  const attrName = sortOperands[0]\n  const attrExtractor = attrName === 'last edited' ? 'lastEdited' : attrName\n  const direction = sortOperands[1]\n  const sortByOperand = attrName === 'name' ? [attrExtractor, 'id'] : [attrExtractor, 'name']\n\n  Object.keys(visibleByCategory).forEach((k) => {\n    const notes = visibleByCategory[k]\n\n    const sorted = sortBy(notes, sortByOperand)\n    if (direction == 'desc') sorted.reverse()\n    visibleByCategory[k] = sorted\n  })\n  return visibleByCategory\n}\n","export const toastNotificationSelector = (state) => state.notifications.toast\nexport const messageSelector = (state) => state.notifications.message\n","import { createSelector } from 'reselect'\n\nexport const permissionSelector = (state) => state.permission && state.permission.permission\nexport const canReadSelector = createSelector(\n  permissionSelector,\n  (permission) => permission === 'owner' || permission === 'collaborator' || permission === 'viewer'\n)\nexport const canWriteSelector = createSelector(\n  permissionSelector,\n  (permission) => permission === 'owner' || permission === 'collaborator'\n)\nexport const canAdministrateSelector = createSelector(\n  permissionSelector,\n  (permission) => permission === 'owner'\n)\n","import { createSelector } from 'reselect'\nimport { sortBy, groupBy } from 'lodash'\nimport {\n  placeSortSelector,\n  placeFilterSelector,\n  currentTimelineSelector,\n  placesSearchTermSelector,\n} from './ui'\nimport { isSeries } from '../helpers/books'\nimport { outOfOrderSearch } from '../helpers/outOfOrderSearch'\n\nexport const allPlacesSelector = (state) => state.places\n// this one also lives in ./customAttributes.js but it causes a circular dependency to import it here\nexport const placeCustomAttributesSelector = (state) => state.customAttributes.places\n\nconst selectId = (state, id) => id\n\nexport const singlePlaceSelector = createSelector(allPlacesSelector, selectId, (places, propId) =>\n  places.find(({ id }) => id === propId)\n)\n\nexport const placesSortedAtoZSelector = createSelector(allPlacesSelector, (places) =>\n  sortBy(places, 'name')\n)\n\nexport const placesByCategorySelector = createSelector(allPlacesSelector, (places) =>\n  groupBy(places, 'categoryId')\n)\n\nexport const placeFilterIsEmptySelector = createSelector(\n  placeFilterSelector,\n  placeCustomAttributesSelector,\n  (filter, attributes) => {\n    if (!filter) return true\n    const allAttributes = [{ name: 'tag' }, { name: 'book' }, ...attributes]\n    return !allAttributes.some((attr) => filter[attr.name] && filter[attr.name].length)\n  }\n)\n\nexport const visibleSortedPlacesSelector = createSelector(\n  allPlacesSelector,\n  placeFilterSelector,\n  placeFilterIsEmptySelector,\n  placeSortSelector,\n  (allPlaces, filter, filterIsEmpty, sort) => {\n    if (!allPlaces.length) return []\n\n    let visible = allPlaces\n    if (!filterIsEmpty) {\n      visible = []\n      visible = allPlaces.filter((pl) => {\n        return Object.keys(filter).some((attr) => {\n          return filter[attr].some((val) => {\n            if (attr == 'tag') {\n              return pl.tags.includes(val)\n            }\n            if (attr == 'book') {\n              return pl.bookIds.includes(val)\n            }\n            if (val == '') {\n              if (!pl[attr] || pl[attr] == '') return true\n            } else {\n              if (pl[attr] && pl[attr] == val) return true\n            }\n            return false\n          })\n        })\n      })\n    }\n\n    let sortOperands = sort.split('~')\n    let attrName = sortOperands[0]\n    let direction = sortOperands[1]\n    let sortOperand = attrName === 'name' ? [attrName, 'id'] : [attrName, 'name']\n    let sorted = sortBy(visible, sortOperand)\n    if (direction == 'desc') sorted.reverse()\n    return sorted\n  }\n)\n\nexport const visibleSortedPlacesByCategorySelector = createSelector(\n  allPlacesSelector,\n  placesByCategorySelector,\n  placeFilterSelector,\n  placeFilterIsEmptySelector,\n  placeSortSelector,\n  (allPlaces, placesByCategory, filter, filterIsEmpty, sort) => {\n    if (!allPlaces.length) return {}\n\n    let visible = placesByCategory\n    if (!filterIsEmpty) {\n      visible = {}\n      allPlaces.forEach((ch) => {\n        const matches = Object.keys(filter).some((attr) => {\n          return filter[attr].some((val) => {\n            if (attr == 'tag') {\n              return ch.tags.includes(val)\n            }\n            if (attr == 'book') {\n              return ch.bookIds.includes(val)\n            }\n            if (attr == 'category') {\n              return ch.categoryId == val\n            }\n            if (val == '') {\n              if (!ch[attr] || ch[attr] == '') return true\n            } else {\n              if (ch[attr] && ch[attr] == val) return true\n            }\n            return false\n          })\n        })\n        if (matches) {\n          if (visible[ch.categoryId] && visible[ch.categoryId].length) {\n            visible[ch.categoryId].push(ch)\n          } else {\n            visible[ch.categoryId] = [ch]\n          }\n        }\n      })\n    }\n\n    return sortEachCategory(visible, sort)\n  }\n)\n\nconst stringifiedPlacesByIdSelector = createSelector(allPlacesSelector, (places) => {\n  return places.reduce((acc, nextPlace) => {\n    return {\n      ...acc,\n      [nextPlace.id]: JSON.stringify(nextPlace).toLowerCase(),\n    }\n  }, {})\n})\n\nexport const visibleSortedSearchedPlacesByCategorySelector = createSelector(\n  visibleSortedPlacesByCategorySelector,\n  placesSearchTermSelector,\n  stringifiedPlacesByIdSelector,\n  (placeCategories, searchTerm, stringifiedPlaces) => {\n    if (!searchTerm) return placeCategories\n\n    const lowSearchTerms = searchTerm\n      .toLowerCase()\n      .split(' ')\n      .filter((x) => x)\n    return Object.entries(placeCategories).reduce((acc, nextCategory) => {\n      const [key, places] = nextCategory\n      const newPlaces = places.filter(({ id }) => {\n        return outOfOrderSearch(lowSearchTerms, stringifiedPlaces[id])\n      })\n      if (newPlaces.length > 0) {\n        return {\n          ...acc,\n          [key]: newPlaces,\n        }\n      } else {\n        return acc\n      }\n    }, {})\n  }\n)\n\nfunction sortEachCategory(visibleByCategory, sort) {\n  let sortOperands = sort.split('~')\n  let attrName = sortOperands[0]\n  let direction = sortOperands[1]\n  let sortByOperand = attrName === 'name' ? [attrName, 'id'] : [attrName, 'name']\n\n  Object.keys(visibleByCategory).forEach((k) => {\n    let characters = visibleByCategory[k]\n\n    let sorted = sortBy(characters, sortByOperand)\n    if (direction == 'desc') sorted.reverse()\n    visibleByCategory[k] = sorted\n  })\n  return visibleByCategory\n}\n\nexport const placesSortedInBookSelector = createSelector(\n  placesSortedAtoZSelector,\n  currentTimelineSelector,\n  (places, bookId) =>\n    places.filter((place) => {\n      if (place.bookIds.length === 0) return true\n      if (place.bookIds.some(isSeries)) return true\n      return place.bookIds.includes(bookId)\n    })\n)\n","import { createSelector } from 'reselect'\nimport { isDeviceFileURL, urlPointsToPlottrCloud } from '../helpers/file'\nimport { isOnWebSelector } from './client'\nimport {\n  backupEnabledSelector,\n  localBackupsEnabledSelector,\n  offlineModeEnabledSelector,\n} from './settings'\nimport { emptyFile } from '../store/newFileState'\nimport { SYSTEM_REDUCER_KEYS } from '../reducers/systemReducers'\nimport { difference } from 'lodash'\n\nexport const projectSelector = (state) => state.project\nexport const selectedFileSelector = (state) => state.project.selectedFile\nexport const loadingFileSelector = (state) => state.project.isLoading\nexport const projectNamingModalIsVisibleSelector = (state) =>\n  state.project.projectNamingModalIsVisible\nexport const newProjectTemplateSelector = (state) => state.project.template\nexport const selectedFileIdSelector = (state) =>\n  state.project && state.project.selectedFile && state.project.selectedFile.id\nexport const fileLoadedSelector = (state) => state.project && state.project.fileLoaded\nexport const isCloudFileSelector = createSelector(\n  projectSelector,\n  isOnWebSelector,\n  (project, isOnWeb) => {\n    return isOnWeb || (project && project.fileURL && urlPointsToPlottrCloud(project.fileURL))\n  }\n)\nexport const isOfflineSelector = (state) => state.project && state.project.isOffline\nexport const isResumingSelector = (state) => state.project.resuming\nexport const isCheckingForOfflineDriftSelector = (state) => state.project.checkingOfflineDrift\nexport const isOverwritingCloudWithBackupSelector = (state) =>\n  state.project.overwritingCloudWithBackup\nexport const showResumeMessageDialogSelector = (state) => state.project.showResumeMessageDialog\nexport const backingUpOfflineFileSelector = (state) => state.project.backingUpOfflineFile\nexport const fileURLSelector = (state) => state.project.fileURL\nexport const isDeviceFileSelector = createSelector(fileURLSelector, (fileURL) =>\n  isDeviceFileURL(fileURL)\n)\nconst emptyFileState = emptyFile('DummyFile', '2022.11.2')\nexport const hasAllKeysSelector = (state) => {\n  const withoutSystemKeys = difference(Object.keys(state), SYSTEM_REDUCER_KEYS)\n  return difference(Object.keys(emptyFileState), withoutSystemKeys).length === 0\n}\nexport const canSaveSelector = createSelector(\n  fileURLSelector,\n  isResumingSelector,\n  isOfflineSelector,\n  offlineModeEnabledSelector,\n  hasAllKeysSelector,\n  isCloudFileSelector,\n  (fileURL, isResuming, isOffline, offlineModeEnabled, hasAllKeys, isCloudFile) => {\n    return (\n      !!fileURL &&\n      !isResuming &&\n      (!isCloudFile || !(isCloudFile && isOffline && !offlineModeEnabled)) &&\n      hasAllKeys\n    )\n  }\n)\nexport const canBackupSelector = createSelector(\n  fileURLSelector,\n  isResumingSelector,\n  isOfflineSelector,\n  offlineModeEnabledSelector,\n  hasAllKeysSelector,\n  isCloudFileSelector,\n  localBackupsEnabledSelector,\n  backupEnabledSelector,\n  (\n    fileURL,\n    isResuming,\n    isOffline,\n    offlineModeEnabled,\n    hasAllKeys,\n    isCloudFile,\n    localBackupsEnabled,\n    backupEnabled\n  ) => {\n    return (\n      backupEnabled &&\n      !!fileURL &&\n      !isResuming &&\n      !(isOffline && isCloudFile) &&\n      ((isCloudFile && localBackupsEnabled) || !isCloudFile) &&\n      hasAllKeys\n    )\n  }\n)\nexport const shouldSaveOfflineFileSelector = createSelector(\n  canSaveSelector,\n  offlineModeEnabledSelector,\n  isCloudFileSelector,\n  (canSave, offlineModeEnabled, isCloudFile) => {\n    return isCloudFile && canSave && offlineModeEnabled\n  }\n)\n","import { createSelector } from 'reselect'\n\nconst settingsSelector = (state) => {\n  return state.settings || {}\n}\nexport const exportSettingsSelector = createSelector(\n  settingsSelector,\n  ({ exportSettings }) => exportSettings\n)\nexport const userSettingsSelector = createSelector(\n  settingsSelector,\n  ({ userSettings }) => userSettings\n)\nexport const appSettingsSelector = createSelector(settingsSelector, (settings) => {\n  return settings.appSettings\n})\nexport const appUserSettingsSelector = createSelector(appSettingsSelector, ({ user }) => user || {})\nexport const previouslyLoggedIntoProSelector = createSelector(\n  appSettingsSelector,\n  (appSettings) => {\n    return appSettings && appSettings && appSettings.user && appSettings.user.frbId\n  }\n)\nexport const backupEnabledSelector = createSelector(appSettingsSelector, ({ backup }) => {\n  return backup\n})\nexport const showDashboardOnBootSelector = createSelector(\n  appUserSettingsSelector,\n  ({ openDashboardFirst }) => openDashboardFirst\n)\nexport const isDarkModeSelector = createSelector(\n  appUserSettingsSelector,\n  ({ dark }) => dark === 'dark'\n)\nexport const offlineModeEnabledSelector = createSelector(\n  appUserSettingsSelector,\n  ({ enableOfflineMode }) => enableOfflineMode\n)\nexport const actStructureEnabled = createSelector(\n  appUserSettingsSelector,\n  ({ beatHierarchy }) => beatHierarchy\n)\nexport const localBackupsEnabledSelector = createSelector(\n  appUserSettingsSelector,\n  ({ localBackups }) => localBackups\n)\nexport const useSpellcheckSelector = createSelector(\n  appUserSettingsSelector,\n  ({ useSpellcheck }) => useSpellcheck\n)\nexport const trialModeSelector = createSelector(appSettingsSelector, ({ trialMode }) => trialMode)\nexport const canGetUpdatesSelector = createSelector(\n  appSettingsSelector,\n  ({ canGetUpdates }) => canGetUpdates\n)\n","import { createSelector } from 'reselect'\n\nimport { previouslyLoggedIntoProSelector } from './settings'\nimport { isOnWebSelector } from './client'\n\nexport const shouldBeInProSelector = createSelector(\n  previouslyLoggedIntoProSelector,\n  isOnWebSelector,\n  (previouslyLoggedIntoPro, isOnWeb) => {\n    return !!(previouslyLoggedIntoPro || isOnWeb)\n  }\n)\n","import { sortBy, groupBy } from 'lodash'\nimport { createSelector } from 'reselect'\nimport { outOfOrderSearch } from '../helpers/outOfOrderSearch'\nimport { tagsSearchTermSelector } from './ui'\n\nexport const allTagsSelector = (state) => state.tags\nconst selectId = (state, id) => id\n\nexport const sortedTagsSelector = createSelector(allTagsSelector, (tags) =>\n  sortBy(tags, ['title', 'id'])\n)\n\nexport const singleTagSelector = createSelector(allTagsSelector, selectId, (tags, propId) =>\n  tags.find((tag) => tag.id == propId)\n)\n\nexport const tagsByCategorySelector = createSelector(allTagsSelector, (tags) => {\n  const grouped = groupBy(tags, 'categoryId')\n  if (grouped[undefined] !== undefined) {\n    grouped[null] = grouped[undefined].concat(grouped[null] || [])\n    delete grouped[undefined]\n  }\n  return grouped\n})\n\nconst stringifiedTagsByIdSelector = createSelector(allTagsSelector, (tags) => {\n  return tags.reduce((acc, nextTag) => {\n    return {\n      ...acc,\n      [nextTag.id]: JSON.stringify(nextTag).toLowerCase(),\n    }\n  }, {})\n})\n\nexport const searchedTagsByCategorySelector = createSelector(\n  tagsByCategorySelector,\n  tagsSearchTermSelector,\n  stringifiedTagsByIdSelector,\n  (tagCategories, searchTerm, stringifiedTags) => {\n    if (!searchTerm) return tagCategories\n\n    const lowSearchTerms = searchTerm\n      .toLowerCase()\n      .split(' ')\n      .filter((x) => x)\n    return Object.entries(tagCategories).reduce((acc, nextCategory) => {\n      const [key, notes] = nextCategory\n      const newNotes = notes.filter(({ id }) => {\n        return outOfOrderSearch(lowSearchTerms, stringifiedTags[id])\n      })\n      if (newNotes.length > 0) {\n        return {\n          ...acc,\n          [key]: newNotes,\n        }\n      } else {\n        return acc\n      }\n    }, {})\n  }\n)\n","import { createSelector } from 'reselect'\nimport { sortBy } from 'lodash'\n\nimport { isLoggedInSelector } from './client'\n\nconst unsortedStarterTemplatesSelector = (state) => state.templates.templates\nexport const templatesSelector = createSelector(unsortedStarterTemplatesSelector, (templates) =>\n  sortBy(Object.values(templates), 'name')\n)\nexport const allCustomTemplatesSelector = (state) => state.templates.customTemplates\nexport const customTemplatesSelector = createSelector(\n  allCustomTemplatesSelector,\n  isLoggedInSelector,\n  (allCustomTemplates, isLoggedIn) => {\n    // Produce cloud templates when logged in and non-cloud templates\n    // when not logged in.\n    return sortBy(\n      allCustomTemplates.filter(({ isCloudTemplate }) => !!isCloudTemplate === !!isLoggedIn),\n      'name'\n    )\n  }\n)\nexport const fileSystemCustomTemplatesSelector = createSelector(\n  allCustomTemplatesSelector,\n  (customTemplates) => {\n    return customTemplates.filter(({ isCloudTemplate }) => !isCloudTemplate)\n  }\n)\nexport const templateManifestSelector = (state) => state.templates.templateManifets\nconst templateIdSelector = (state, templateId) => templateId\nexport const templateByIdSelector = createSelector(\n  templatesSelector,\n  customTemplatesSelector,\n  templateIdSelector,\n  (templates, customTemplates, templateId) => {\n    const finder = ({ id }) => id === templateId\n    return templates.find(finder) || customTemplates.find(finder)\n  }\n)\nexport const templateByIdFnSelector = createSelector(\n  templatesSelector,\n  customTemplatesSelector,\n  (templates, customTemplates) => (templateId) => {\n    const finder = ({ id }) => id === templateId\n    return templates.find(finder) || customTemplates.find(finder)\n  }\n)\nconst templateTypeSelector = (state, type) => type\nconst templateSearchTermSelector = (state, _, searchTerm) => searchTerm\nexport const filteredSortedStarterTemplatesSelector = createSelector(\n  templatesSelector,\n  templateTypeSelector,\n  templateSearchTermSelector,\n  (templates, type, searchTerm) => {\n    return sortBy(\n      templates.filter((t) => {\n        if (searchTerm && searchTerm.length > 1) {\n          return t.name.toLowerCase().includes(searchTerm) && t.type == type\n        } else if (type) {\n          return t.type == type\n        } else {\n          return true\n        }\n      }),\n      'name'\n    )\n  }\n)\nexport const filteredSortedCustomTemplatesSelector = createSelector(\n  customTemplatesSelector,\n  templateTypeSelector,\n  templateSearchTermSelector,\n  (templates, type, searchTerm) => {\n    return sortBy(\n      templates.filter((t) => {\n        if (searchTerm && searchTerm.length > 1) {\n          return t.name.toLowerCase().includes(searchTerm) && t.type == type\n        } else if (type) {\n          return t.type == type\n        } else {\n          return true\n        }\n      }),\n      'name'\n    )\n  }\n)\n","import { createSelector } from 'reselect'\n\nconst testingAndDiagnosisSelector = ({ testingAndDiagnosis }) => {\n  return testingAndDiagnosis\n}\n\nexport const testingAndDiagnosisEnabledSelector = createSelector(\n  testingAndDiagnosisSelector,\n  ({ testingAndDiagnosisEnabled }) => {\n    return testingAndDiagnosisEnabled\n  }\n)\n","import { createSelector } from 'reselect'\nimport { isSeries } from '../helpers/books'\nimport { beatHierarchyIsOn } from './featureFlags'\nimport { allBookIdsSelector } from './books'\nimport { hierarchyLevelCount } from './hierarchy'\nimport { isDarkModeSelector } from './settings'\nimport { showBookTabs } from './attributeTabs'\nimport { shouldBeInProSelector } from './shouldBeInPro'\nimport { userIdSelector } from './client'\nimport { permissionSelector } from './permission'\n\nconst rootUiSelector = (state) => state.ui\nexport const uiSelector = createSelector(\n  shouldBeInProSelector,\n  userIdSelector,\n  permissionSelector,\n  rootUiSelector,\n  (shouldBeLoggedIn, userId, permission, ui) => {\n    if (!shouldBeLoggedIn) {\n      return ui\n    } else if (!userId || !permission) {\n      return ui\n    } else if (permission === 'owner') {\n      return ui\n    } else if (permission === 'collaborator') {\n      const existingUI = ui.collaborators?.collaborators?.find((collaborator) => {\n        if (collaborator.id === userId) {\n          return true\n        }\n        return false\n      })\n\n      return existingUI || ui\n    } else if (permission === 'viewer') {\n      const existingUI = ui.collaborators?.viewers?.find((viewer) => {\n        if (viewer.id === userId) {\n          return true\n        }\n        return false\n      })\n\n      return existingUI || ui\n    } else {\n      return ui\n    }\n  }\n)\n\nexport const currentTimelineSelector = createSelector(\n  uiSelector,\n  allBookIdsSelector,\n  (ui, bookIds) => {\n    const currentTimeline = ui.currentTimeline\n    if (currentTimeline == 'series') return currentTimeline\n    if (bookIds.includes(currentTimeline)) {\n      return currentTimeline\n    } else {\n      return bookIds[0] || 1\n    }\n  }\n)\nexport const timelineIsExpandedSelector = createSelector(uiSelector, ({ timelineIsExpanded }) => {\n  return timelineIsExpanded\n})\nexport const characterFilterSelector = createSelector(uiSelector, ({ characterFilter }) => {\n  return characterFilter\n})\nexport const characterSortSelector = createSelector(uiSelector, ({ characterSort }) => {\n  return characterSort\n})\nexport const noteFilterSelector = createSelector(uiSelector, ({ noteFilter }) => {\n  return noteFilter\n})\nexport const noteSortSelector = createSelector(uiSelector, ({ noteSort }) => {\n  return noteSort\n})\nexport const placeFilterSelector = createSelector(uiSelector, ({ placeFilter }) => {\n  return placeFilter\n})\nexport const placeSortSelector = createSelector(uiSelector, ({ placeSort }) => {\n  return placeSort\n})\nexport const timelineFilterSelector = createSelector(uiSelector, ({ timelineFilter }) => {\n  return timelineFilter\n})\nexport const outlineFilterSelector = createSelector(uiSelector, ({ outlineFilter }) => {\n  return outlineFilter\n})\nconst timelineSelector = createSelector(uiSelector, ({ timeline }) => {\n  return timeline\n})\nexport const timelineSizeSelector = createSelector(timelineSelector, ({ size }) => {\n  return size\n})\nexport const isSmallSelector = createSelector(timelineSizeSelector, (size) => {\n  return size == 'small'\n})\nexport const isMediumSelector = createSelector(timelineSizeSelector, (size) => {\n  return size === 'medium'\n})\nexport const isLargeSelector = createSelector(timelineSizeSelector, (size) => {\n  return size == 'large'\n})\nexport const timelineScrollPositionSelector = createSelector(\n  uiSelector,\n  ({ timelineScrollPosition }) => {\n    return timelineScrollPosition\n  }\n)\nexport const attributesDialogIsOpenSelector = createSelector(\n  uiSelector,\n  ({ attributesDialogIsOpen }) => {\n    return attributesDialogIsOpen\n  }\n)\nexport const currentViewSelector = createSelector(uiSelector, ({ currentView }) => {\n  return currentView\n})\nconst cardDialogSelector = createSelector(uiSelector, ({ cardDialog }) => {\n  return cardDialog\n})\nconst bookDialogSelector = createSelector(uiSelector, ({ bookDialog }) => {\n  return bookDialog\n})\n\nexport const cardDialogCardIdSelector = createSelector(cardDialogSelector, (cardDialog) => {\n  return cardDialog?.cardId\n})\nexport const cardDialogLineIdSelector = createSelector(cardDialogSelector, (cardDialog) => {\n  return cardDialog?.lineId\n})\nexport const cardDialogBeatIdSelector = createSelector(cardDialogSelector, (cardDialog) => {\n  return cardDialog?.beatId\n})\nexport const isCardDialogVisibleSelector = createSelector(cardDialogSelector, (cardDialog) => {\n  return cardDialog?.isOpen\n})\n\nexport const isBookDialogVisibleSelector = createSelector(bookDialogSelector, (bookDialog) => {\n  return bookDialog?.isOpen\n})\n\nexport const bookDialogBookIdSelector = createSelector(bookDialogSelector, (bookDialog) => {\n  return bookDialog?.bookId\n})\n\nexport const bookNumberSelector = createSelector(\n  allBookIdsSelector,\n  bookDialogBookIdSelector,\n  (allBookIds, bookDialogBookId) => {\n    if (bookDialogBookId) {\n      return allBookIds.indexOf(bookDialogBookId) + 1\n    }\n\n    return allBookIds.length + 1\n  }\n)\n\nexport const isSeriesSelector = createSelector(currentTimelineSelector, isSeries)\n\nexport const timelineFilterIsEmptySelector = createSelector(\n  timelineFilterSelector,\n  (filter) => filter == null || Object.keys(filter).every((key) => !filter[key].length)\n)\n\nconst searchTermSelector = createSelector(uiSelector, ({ searchTerms }) => {\n  return searchTerms\n})\nexport const notesSearchTermSelector = createSelector(searchTermSelector, (searchTerms) => {\n  return searchTerms?.notes\n})\nexport const charactersSearchTermSelector = createSelector(searchTermSelector, (searchTerms) => {\n  return searchTerms?.characters\n})\nexport const placesSearchTermSelector = createSelector(searchTermSelector, (searchTerms) => {\n  return searchTerms?.places\n})\nexport const tagsSearchTermSelector = createSelector(searchTermSelector, (searchTerms) => {\n  return searchTerms?.tags\n})\nexport const outlineSearchTermSelector = createSelector(searchTermSelector, (searchTerms) => {\n  return searchTerms?.outline\n})\nexport const timelineSearchTermSelector = createSelector(searchTermSelector, (searchTerms) => {\n  return searchTerms?.timeline\n})\n\nexport const selectedTimelineViewSelector = createSelector(timelineSelector, (timeline) => {\n  return timeline?.view || 'default'\n})\nexport const timelineViewSelector = createSelector(\n  selectedTimelineViewSelector,\n  hierarchyLevelCount,\n  beatHierarchyIsOn,\n  (selectedView, levelsOfHierarchy, actStructureEnabled) => {\n    if (!actStructureEnabled || (selectedView === 'tabbed' && levelsOfHierarchy < 2)) {\n      return 'default'\n    }\n    return selectedView\n  }\n)\nexport const timelineViewIsTabbedSelector = createSelector(timelineViewSelector, (view) => {\n  return view === 'tabbed'\n})\nexport const timelineViewIsStackedSelector = createSelector(timelineViewSelector, (view) => {\n  return view === 'stacked'\n})\nexport const timelineSelectedTabSelector = createSelector(timelineSelector, (timeline) => {\n  return timeline?.actTab || 0\n})\nexport const timelineViewIsDefaultSelector = createSelector(timelineViewSelector, (view) => {\n  return view === 'default'\n})\nexport const timelineViewIsntDefaultSelector = createSelector(timelineViewSelector, (view) => {\n  return view !== 'default'\n})\nconst selectedOrientationSelector = createSelector(uiSelector, ({ orientation }) => {\n  return orientation\n})\nexport const orientationSelector = createSelector(\n  selectedOrientationSelector,\n  isSmallSelector,\n  timelineViewIsStackedSelector,\n  (selectedOrientation, isSmall, timelineViewIsStacked) => {\n    // Force horizontal view when we're on the stacked timeline.\n    // Wehaven't thought through how flipped should look.\n    if (selectedOrientation === 'vertical' && !isSmall && timelineViewIsStacked) {\n      return 'horizontal'\n    }\n    return selectedOrientation\n  }\n)\n\nexport const timelineBundleSelector = createSelector(\n  timelineScrollPositionSelector,\n  currentTimelineSelector,\n  orientationSelector,\n  timelineSizeSelector,\n  timelineIsExpandedSelector,\n  isDarkModeSelector,\n  attributesDialogIsOpenSelector,\n  timelineFilterIsEmptySelector,\n  isSmallSelector,\n  isMediumSelector,\n  isLargeSelector,\n  (\n    timelineScrollPosition,\n    currentTimeline,\n    orientation,\n    timelineSize,\n    timelineIsExpanded,\n    darkMode,\n    attributesDialogIsOpen,\n    filterIsEmpty,\n    isSmall,\n    isMedium,\n    isLarge\n  ) => ({\n    timelineScrollPosition,\n    currentTimeline,\n    orientation,\n    timelineSize,\n    timelineIsExpanded,\n    darkMode,\n    attributesDialogIsOpen,\n    filterIsEmpty,\n    isSmall,\n    isMedium,\n    isLarge,\n  })\n)\n\nconst allCharactersSelector = (state) => state.characters\n\nconst showBookTabsSelector = createSelector(allBookIdsSelector, allCharactersSelector, showBookTabs)\n\nexport const attributeTabsSelector = createSelector(uiSelector, ({ attributeTabs }) => {\n  return attributeTabs || {}\n})\nexport const selectedCharacterAttributeTabSelector = createSelector(\n  attributeTabsSelector,\n  showBookTabsSelector,\n  ({ characters }, showTabs) => {\n    return showTabs ? characters || 'all' : 'all'\n  }\n)\nexport const characterTabSelector = createSelector(uiSelector, ({ characterTab }) => {\n  return characterTab || {}\n})\nexport const selectedCharacterSelector = createSelector(\n  characterTabSelector,\n  ({ selectedCharacter }) => {\n    if (selectedCharacter || selectedCharacter === 0) {\n      return selectedCharacter\n    }\n\n    return null\n  }\n)\nconst customAttributeOrderSelector = createSelector(uiSelector, ({ customAttributeOrder }) => {\n  return customAttributeOrder || []\n})\nexport const characterCustomAttributeOrderSelector = createSelector(\n  customAttributeOrderSelector,\n  ({ characters }) => characters || []\n)\n","import { Node } from 'slate'\n\nexport const serialize = (nodes, isWindows) => {\n  const joiner = isWindows ? '\\r\\n' : '\\n'\n\n  if (!nodes || !nodes.map) return ''\n  if (typeof nodes === 'string') return isWindows ? nodes.replace(/\\n/g, joiner) : nodes\n\n  return nodes\n    .map((n) => {\n      const nodeString = Node.string(n)\n\n      switch (n.type) {\n        case 'numbered-list':\n          return n.children.map((li) => `- ${Node.string(li)}`).join(joiner)\n        case 'bulleted-list':\n          return n.children.map((li, idx) => `${idx + 1}. ${Node.string(li)}`).join(joiner)\n        case 'heading-one':\n        case 'heading-two':\n          return nodeString + joiner\n        case 'link':\n          return n.url\n        case 'image-link':\n          return n.url || nodeString\n        case 'image-data':\n        case 'list-item':\n        case 'block-quote':\n        case 'paragraph':\n        default:\n          return nodeString\n      }\n    })\n    .join(joiner)\n}\n","/*\n * Some documentation on RTF documents can be found here:\n * https://www.oreilly.com/library/view/rtf-pocket-guide/9781449302047/ch01.html\n */\n\nimport rtf from 'jsrtf'\nimport { t as i18n } from 'plottr_locales'\n\nconst space = 100\n\nconst styleH1 = new rtf.Format({\n  bold: true,\n  paragraph: true,\n  spaceBefore: space,\n  spaceAfter: space,\n  fontSize: 18,\n  alignCenter: true,\n})\nconst styleH2 = new rtf.Format({\n  bold: true,\n  paragraph: true,\n  spaceBefore: space,\n  spaceAfter: space,\n  fontSize: 16,\n  alignCenter: true,\n})\nconst styleBold = new rtf.Format({ bold: true })\nconst styleItalic = new rtf.Format({ italic: true })\nconst styleUnderline = new rtf.Format({ underline: true })\nconst styleStrike = new rtf.Format({ strike: true })\nconst styleParagraph = new rtf.Format({ paragraph: true, spaceBefore: space, spaceAfter: space })\n\n// useful functions\n// doc.addTab\n// doc.addLine\n\nexport default function serialize(nodes, doc) {\n  if (!nodes) return doc\n  if (typeof nodes === 'string') return doc.writeText(nodes)\n\n  return nodes.flatMap((n) => {\n    if (!n.children) return leaf(n, doc)\n\n    switch (n.type) {\n      case 'numbered-list':\n      case 'bulleted-list':\n        doc.addLine()\n        return makeList(n, doc)\n      case 'heading-one':\n      case 'heading-two': {\n        const headingStyle = n.type === 'heading-one' ? styleH1 : styleH2\n        return n.children.map((child) => {\n          if (child.text != null) {\n            return doc.addElement([leafInElement(child)], headingStyle)\n          } else {\n            return child.children.map((text) => {\n              return doc.addElement([leafInElement(text)], headingStyle)\n            })\n          }\n        })\n      }\n      case 'list-item': // shouldn't get here because we handle the numbered-list and bulleted-list above\n      case 'link':\n        return doc.writeText(n.url)\n      case 'image-link':\n        return doc.writeText(n.url, styleParagraph)\n      case 'image-data':\n        return doc.writeText(i18n('[image]'), styleParagraph) // TODO: print the name of the image file too\n      case 'block-quote':\n        return doc.writeText(n.children[0].text, styleParagraph)\n      case 'paragraph':\n      default:\n        return doc.addElement([n.children.map(leafInElement)], styleParagraph)\n    }\n  })\n}\n\nconst leaf = (node, doc) => {\n  if (node.bold) {\n    return doc.writeText(node.text, styleBold)\n  }\n\n  if (node.italic) {\n    return doc.writeText(node.text, styleItalic)\n  }\n\n  if (node.underline) {\n    return doc.writeText(node.text, styleUnderline)\n  }\n\n  if (node.strike) {\n    return doc.writeText(node.text, styleStrike)\n  }\n\n  return doc.writeText(node.text)\n}\n\nconst leafInElement = (node) => {\n  if (node.bold) {\n    return new rtf.TextElement(node.text, styleBold)\n  }\n\n  if (node.italic) {\n    return new rtf.TextElement(node.text, styleItalic)\n  }\n\n  if (node.underline) {\n    return new rtf.TextElement(node.text, styleUnderline)\n  }\n\n  return new rtf.TextElement(node.text)\n}\n\nconst makeList = (node, doc) => {\n  const items = node.children.map(makeListItem).join('\\n')\n  doc.addCommand(items)\n}\n\n// There seems to be one thing about these lists that is weird\n// The first list item has some extra spacing between the left margin\n// and the bullet point. The rest of the items do not have this and I\n// can't figure out why it is there. (Matt)\nconst makeListItem = (node) => {\n  const text = node.children.flatMap((ch) => ch.text).join(' ')\n  return `{\\\\pard\\\\fi-300\\\\li100\\\\bullet\\\\tab ${text} \\\\par}`\n}\n","export const NONE = 'NONE'\nexport const DASHED = 'DASHED'\nexport const SOLID = 'SOLID'\nexport const DOTTED = 'DOTTED'\nexport const ALL_STYLES = [NONE, DASHED, SOLID, DOTTED]\n\nexport function nextBorderStyle(length) {\n  return ALL_STYLES[length % ALL_STYLES.length]\n}\n","// data structure\n\nimport { nextLevelName } from '../helpers/hierarchy'\nimport { nextBorderStyle } from './borderStyle'\nimport { nextColor, nextDarkColor } from './lineColors'\n\nexport const RCE_INITIAL_VALUE = [{ type: 'paragraph', children: [{ text: '' }] }]\n\nexport const series = {\n  name: '',\n  premise: '',\n  genre: '',\n  theme: '',\n  templates: [],\n}\n\nexport const book = {\n  id: 1,\n  title: '',\n  premise: '',\n  genre: '',\n  theme: '',\n  templates: [],\n  timelineTemplates: [],\n  imageId: null,\n}\n\nexport const beat = {\n  id: 1,\n  bookId: 'series',\n  position: 0,\n  title: 'auto',\n  time: 0, // ? can also be a string\n  templates: [],\n  autoOutlineSort: true,\n  fromTemplateId: null,\n  expanded: true,\n}\n\nexport const chapter = {\n  id: 2,\n  bookId: 1,\n  position: 0,\n  title: 'auto',\n  time: 0, // ? can also be a string\n  templates: [],\n  autoOutlineSort: true,\n  fromTemplateId: null,\n  expanded: true,\n}\n\nexport const uiState = {\n  currentView: 'timeline',\n  currentTimeline: 1, // bookId or 'series'\n  timelineIsExpanded: true,\n  orientation: 'horizontal',\n  darkMode: false, // <- Deprecated, but keep here for a while for backwards compatibility.\n  characterSort: 'name~asc',\n  characterFilter: null,\n  placeSort: 'name~asc',\n  placeFilter: null,\n  noteSort: 'title~asc',\n  noteFilter: null,\n  outlineFilter: null,\n  timelineFilter: null,\n  timelineScrollPosition: {\n    x: 0,\n    y: 0,\n  },\n  timeline: {\n    size: 'large',\n    view: 'default',\n    actTab: 0,\n  },\n  searchTerms: {\n    notes: null,\n    characters: null,\n    places: null,\n    tags: null,\n    outline: null,\n    timeline: null,\n  },\n  attributeTabs: {\n    characters: null,\n  },\n  characterTab: {\n    selectedCharacter: null,\n  },\n  customAttributeOrder: {\n    characters: [],\n  },\n  cardDialog: {\n    isOpen: false,\n    cardId: null,\n    lineId: null,\n    beatId: null,\n  },\n  collaborators: {},\n  bookDialog: {\n    isOpen: false,\n    bookId: null,\n  },\n}\n\nexport const ui = {\n  ...uiState,\n  collaborators: {\n    collaborators: [],\n    viewers: [],\n  },\n}\n\nexport const attributes = {\n  characters: [],\n}\n\nexport const notifications = {\n  message: null,\n  toast: {\n    cardAction: null,\n    newBookId: null,\n    visible: false,\n  },\n}\n\nexport const file = {\n  fileName: '',\n  loaded: false,\n  dirty: false,\n  version: '',\n}\n\nexport const character = {\n  id: 1,\n  name: '',\n  description: '',\n  notes: RCE_INITIAL_VALUE,\n  color: null,\n  cards: [],\n  noteIds: [],\n  templates: [],\n  tags: [],\n  categoryId: null,\n  imageId: null,\n  bookIds: [],\n}\n\nexport const categories = {\n  characters: [],\n  places: [],\n  notes: [],\n  tags: [],\n}\n\nexport const category = {\n  id: '',\n  name: '',\n  position: 0,\n}\n\nexport const place = {\n  id: 1,\n  name: '',\n  description: '',\n  notes: RCE_INITIAL_VALUE,\n  color: null,\n  cards: [],\n  noteIds: [],\n  templates: [],\n  tags: [],\n  imageId: null,\n  bookIds: [],\n}\n\nexport const tag = {\n  id: 1,\n  title: '',\n  color: null,\n}\n\nexport const card = {\n  id: 1,\n  lineId: null,\n  beatId: null,\n  bookId: null,\n  positionWithinLine: 0,\n  positionInBeat: 0,\n  title: '',\n  description: RCE_INITIAL_VALUE,\n  tags: [],\n  characters: [],\n  places: [],\n  templates: [],\n  imageId: null,\n  fromTemplateId: null,\n  color: null,\n}\n\nexport const line = {\n  id: 1,\n  bookId: 1,\n  color: '#6cace4',\n  title: '',\n  position: 0,\n  characterId: null,\n  expanded: null,\n  fromTemplateId: null,\n}\n\nexport const seriesLine = {\n  id: 2,\n  bookId: 'series',\n  color: '#6cace4',\n  title: '',\n  position: 0,\n  characterId: null,\n  expanded: null,\n  fromTemplateId: null,\n}\n\nexport const customAttributes = {\n  characters: [],\n  places: [],\n  cards: [],\n  scenes: [],\n  lines: [],\n  notes: [],\n}\n\nexport const attribute = {\n  name: '',\n  type: 'text',\n}\n\nexport const note = {\n  id: 1,\n  title: '',\n  content: RCE_INITIAL_VALUE,\n  tags: [],\n  characters: [],\n  places: [],\n  lastEdited: null,\n  templates: [],\n  imageId: null,\n  bookIds: [],\n}\n\nexport const image = {\n  id: 1,\n  name: '',\n  path: '',\n  data: '',\n}\n\n// example template for reference\n// NOT exported\n// const templates = [\n//   { id: 'ch1', version: '2020.3.4', attributes: [{ name: 'Motivation', type: 'text', value: '' }] },\n// ]\n\nexport const hierarchyLevel = {\n  name: nextLevelName('default'),\n  level: 0,\n  autoNumber: true,\n  textSize: 24,\n  borderStyle: nextBorderStyle(0),\n  backgroundColor: 'none', // Same as app canvas\n  textColor: nextColor('default'),\n  borderColor: nextColor(0),\n  dark: {\n    borderColor: nextDarkColor(0),\n    textColor: nextDarkColor(0),\n  },\n  light: {\n    borderColor: nextColor(0),\n    textColor: nextColor('default'),\n  },\n}\n\nexport const featureFlags = {\n  BEAT_HIERARCHY: false,\n}\n\nexport const tour = {\n  showTour: false,\n  // feature:{\n  //   name:'',\n  //   id:0,\n  //   endstep:null\n  // }, // XXXXXX use this blank object once the user can select the feature to tour\n  feature: {\n    name: 'acts',\n    id: 1,\n    endStep: 8,\n  },\n  run: true,\n  //continuous: true, // won't they all be either continuous or not? - may need to include a continuous key/value in the 'feature' object above depending on which feature, some may not be continuous\n  stepIndex: 0,\n  steps: [],\n  loading: false,\n  action: 'start',\n  transitioning: false,\n  b2bTransition: false,\n  toursTaken: {},\n  // key: new Date(), // may need this to restart tours when more tours are added\n}\n","import tinycolor from 'tinycolor2'\n\nexport function nextColor(length) {\n  switch (length) {\n    case 0:\n      return '#6cace4' // blue\n    case 1:\n      return '#78be20' // green\n    case 2:\n      return '#e5554f' // red\n    case 3:\n      return '#ff7f32' // orange\n    case 4:\n      return '#ffc72c' // yellow\n    default:\n      return '#0b1117' // black\n  }\n}\n\nexport function nextDarkColor(length) {\n  switch (length) {\n    case 0:\n      return '#c9e6ff'\n    case 1:\n      return '#baed79'\n    case 2:\n      return '#ffb8b5'\n    case 3:\n      return '#ffac7a'\n    case 4:\n      return '#fff373'\n    default:\n      return '#d4d4d4'\n  }\n}\n\nexport function lightBackground(color) {\n  return tinycolor(color).setAlpha(0.1).toHslString()\n}\n","import { t as i18n } from 'plottr_locales'\nimport {\n  series,\n  book,\n  chapter,\n  beat,\n  ui,\n  file,\n  line,\n  customAttributes,\n  seriesLine,\n  categories,\n  hierarchyLevel,\n  featureFlags,\n  attributes,\n} from './initialState'\nimport { newTree } from '../reducers/tree'\n\n// data structure\n\nexport const newFileSeries = series\n\nexport const newFileBooks = {\n  allIds: [1],\n  1: book,\n}\n\nexport const newFileBeats = [beat]\n\nexport const newFileChapters = [{ ...chapter, id: 2 }]\n\nexport const newFileUI = ui\n\nexport const newFileFile = file\n\nexport const newFileCharacters = []\n\nexport const newFilePlaces = []\n\nexport const newFileTags = []\n\nexport const newFileCards = []\n\nexport const newFileLines = [Object.assign({}, line, { title: i18n('Main Plot') })]\nexport const newFileSeriesLines = [Object.assign({}, seriesLine, { title: i18n('Main Plot') })]\n\nexport const newFileCustomAttributes = customAttributes\n\nexport const newFileNotes = []\nexport const newFileImages = {}\n\nexport const newFileCharacterCategories = [\n  { id: 1, name: i18n('Main'), position: 0 },\n  { id: 2, name: i18n('Supporting'), position: 1 },\n  { id: 3, name: i18n('Other'), position: 2 },\n]\n\nexport const newFileNoteCategories = [{ id: 1, name: i18n('Main'), position: 0 }]\nexport const newFileTagCategories = [{ id: 1, name: i18n('Main'), position: 0 }]\n\nexport const newFileCategories = Object.assign({}, categories, {\n  characters: newFileCharacterCategories,\n  notes: newFileNoteCategories,\n  tags: newFileTagCategories,\n})\n\nexport const newFileHierarchies = { 0: hierarchyLevel }\n\nexport function emptyFile(name, version) {\n  const books = {\n    ...newFileBooks,\n    1: {\n      ...newFileBooks[1],\n      title: name,\n    },\n  }\n  return {\n    ui: newFileUI,\n    file: Object.assign({}, newFileFile, { version }),\n    series: name ? Object.assign({}, newFileSeries, { name: name }) : newFileSeries,\n    books: books,\n    characters: newFileCharacters,\n    cards: newFileCards,\n    lines: [...newFileLines, ...newFileSeriesLines],\n    customAttributes: newFileCustomAttributes,\n    places: newFilePlaces,\n    tags: newFileTags,\n    notes: newFileNotes,\n    beats: {\n      1: newTree('id', ...newFileChapters),\n      series: newTree('id', ...newFileBeats),\n    },\n    categories: newFileCategories,\n    images: newFileImages,\n    hierarchyLevels: newFileHierarchies,\n    featureFlags,\n    attributes,\n  }\n}\n","export function objectId(allIds) {\n  if (!allIds.length) return 1\n  return allIds.reduce((maxId, nextId) => Math.max(maxId, nextId)) + 1\n}\n\nexport function nextId(arr) {\n  return arr.reduce((maxId, item) => Math.max(item.id, maxId), 0) + 1\n}\n\n// TODO: when you change images to have an allIds key, use the objectId function above\nexport function imageId(images) {\n  return Object.keys(images).reduce((maxId, id) => Math.max(id, maxId), 0) + 1\n}\n","import migrateIfNeeded from '../migrator/migration_manager'\nimport { emptyFile } from '../store/newFileState'\n\nconst fromTemplate = (forLines) => (template, appVersion, projectTitle, callback, log) => {\n  const emptyPlottrFile = emptyFile(projectTitle, appVersion)\n  if (forLines) emptyPlottrFile.lines = []\n  const version = template.version || guessVersion(template.templateData)\n  if (!version) {\n    callback(new Error(`Couldn't determine version of template: ${template.name}`))\n    return\n  }\n  migrateIfNeeded(\n    appVersion,\n    {\n      ...template.templateData,\n      name: template.name,\n      file: { version },\n      id: template.id,\n    },\n    null, // Migrate in memory.  No File needed.\n    null, // No backup function because there is no file.\n    (error, didMigrate, state) => {\n      const mergedWithEmptyFile = Object.assign({}, emptyPlottrFile, state)\n      callback(error, mergedWithEmptyFile)\n    },\n    log\n  )\n}\n\nexport const projectFromTemplate = fromTemplate(false)\n\nexport const lineFromTemplate = fromTemplate(true)\n\n/* This function is useful for custom templates created from 2021.2.8\n * backwards because in those versions we didn't attach an version to\n * custom templates.\n *\n * This function was written by inspecting the migrations to figure\n * out what markers there could be for a template to belong to a\n * version.\n *\n * NOTE: custom templates were added to plottr in May 2020.  So we\n * don't need to check very old versions of plottr.  All built-in\n * templates have versions.\n *\n * ALSO NOTE: at the time of writing this, it was only possible to\n * create a custom template with beats, cards, and lines.  We're only\n * interested in migrations which effect those attributes.\n */\nexport const guessVersion = (partialPlottrFile) => {\n  if (\n    partialPlottrFile.lines &&\n    partialPlottrFile.lines.length &&\n    partialPlottrFile.lines[0].expanded === undefined\n  ) {\n    // 2020.7.7 didn't have the expanded property\n    return '2020.7.6'\n  } else if (\n    (partialPlottrFile.lines &&\n      partialPlottrFile.lines.length &&\n      partialPlottrFile.lines[0].fromTemplateId === undefined) ||\n    (partialPlottrFile.cards &&\n      partialPlottrFile.cards.length &&\n      partialPlottrFile.cards[0].fromTemplateId === undefined) ||\n    (partialPlottrFile.chapters &&\n      partialPlottrFile.chapters.length &&\n      partialPlottrFile.chapters[0].fromTemplateId === undefined)\n  ) {\n    // 2020.8.28 didn't have a from template id\n    return '2020.8.27'\n  } else if (partialPlottrFile.chapters) {\n    // 2020.2.8 had chapters rather than beats\n    return '2021.2.7'\n  }\n  // We don't know what version we're working with.  Bail out!\n  return null\n}\n","'use strict';\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nconst mask = (source, mask, output, offset, length) => {\n  for (var i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n};\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nconst unmask = (buffer, mask) => {\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n  const length = buffer.length;\n  for (var i = 0; i < length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n};\n\nmodule.exports = { mask, unmask };\n","'use strict';\n\ntry {\n  module.exports = require('node-gyp-build')(__dirname);\n} catch (e) {\n  module.exports = require('./fallback');\n}\n","// @flow\nvar LONG = 'long'\nvar SHORT = 'short'\nvar NARROW = 'narrow'\nvar NUMERIC = 'numeric'\nvar TWODIGIT = '2-digit'\n\n/**\n * formatting information\n **/\nmodule.exports = {\n  number: {\n    decimal: {\n      style: 'decimal'\n    },\n    integer: {\n      style: 'decimal',\n      maximumFractionDigits: 0\n    },\n    currency: {\n      style: 'currency',\n      currency: 'USD'\n    },\n    percent: {\n      style: 'percent'\n    },\n    default: {\n      style: 'decimal'\n    }\n  },\n  date: {\n    short: {\n      month: NUMERIC,\n      day: NUMERIC,\n      year: TWODIGIT\n    },\n    medium: {\n      month: SHORT,\n      day: NUMERIC,\n      year: NUMERIC\n    },\n    long: {\n      month: LONG,\n      day: NUMERIC,\n      year: NUMERIC\n    },\n    full: {\n      month: LONG,\n      day: NUMERIC,\n      year: NUMERIC,\n      weekday: LONG\n    },\n    default: {\n      month: SHORT,\n      day: NUMERIC,\n      year: NUMERIC\n    }\n  },\n  time: {\n    short: {\n      hour: NUMERIC,\n      minute: NUMERIC\n    },\n    medium: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC\n    },\n    long: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC,\n      timeZoneName: SHORT\n    },\n    full: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC,\n      timeZoneName: SHORT\n    },\n    default: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC\n    }\n  },\n  duration: {\n    default: {\n      hours: {\n        minimumIntegerDigits: 1,\n        maximumFractionDigits: 0\n      },\n      minutes: {\n        minimumIntegerDigits: 2,\n        maximumFractionDigits: 0\n      },\n      seconds: {\n        minimumIntegerDigits: 2,\n        maximumFractionDigits: 3\n      }\n    }\n  },\n  parseNumberPattern: function (pattern/*: ?string */) {\n    if (!pattern) return\n    var options = {}\n    var currency = pattern.match(/\\b[A-Z]{3}\\b/i)\n    var syms = pattern.replace(/[^]/g, '').length\n    if (!syms && currency) syms = 1\n    if (syms) {\n      options.style = 'currency'\n      options.currencyDisplay = syms === 1 ? 'symbol' : syms === 2 ? 'code' : 'name'\n      options.currency = currency ? currency[0].toUpperCase() : 'USD'\n    } else if (pattern.indexOf('%') >= 0) {\n      options.style = 'percent'\n    }\n    if (!/[@#0]/.test(pattern)) return options.style ? options : undefined\n    options.useGrouping = pattern.indexOf(',') >= 0\n    if (/E\\+?[@#0]+/i.test(pattern) || pattern.indexOf('@') >= 0) {\n      var size = pattern.replace(/E\\+?[@#0]+|[^@#0]/gi, '')\n      options.minimumSignificantDigits = Math.min(Math.max(size.replace(/[^@0]/g, '').length, 1), 21)\n      options.maximumSignificantDigits = Math.min(Math.max(size.length, 1), 21)\n    } else {\n      var parts = pattern.replace(/[^#0.]/g, '').split('.')\n      var integer = parts[0]\n      var n = integer.length - 1\n      while (integer[n] === '0') --n\n      options.minimumIntegerDigits = Math.min(Math.max(integer.length - 1 - n, 1), 21)\n      var fraction = parts[1] || ''\n      n = 0\n      while (fraction[n] === '0') ++n\n      options.minimumFractionDigits = Math.min(Math.max(n, 0), 20)\n      while (fraction[n] === '#') ++n\n      options.maximumFractionDigits = Math.min(Math.max(n, 0), 20)\n    }\n    return options\n  },\n  parseDatePattern: function (pattern/*: ?string */) {\n    if (!pattern) return\n    var options = {}\n    for (var i = 0; i < pattern.length;) {\n      var current = pattern[i]\n      var n = 1\n      while (pattern[++i] === current) ++n\n      switch (current) {\n        case 'G':\n          options.era = n === 5 ? NARROW : n === 4 ? LONG : SHORT\n          break\n        case 'y':\n        case 'Y':\n          options.year = n === 2 ? TWODIGIT : NUMERIC\n          break\n        case 'M':\n        case 'L':\n          n = Math.min(Math.max(n - 1, 0), 4)\n          options.month = [NUMERIC, TWODIGIT, SHORT, LONG, NARROW][n]\n          break\n        case 'E':\n        case 'e':\n        case 'c':\n          options.weekday = n === 5 ? NARROW : n === 4 ? LONG : SHORT\n          break\n        case 'd':\n        case 'D':\n          options.day = n === 2 ? TWODIGIT : NUMERIC\n          break\n        case 'h':\n        case 'K':\n          options.hour12 = true\n          options.hour = n === 2 ? TWODIGIT : NUMERIC\n          break\n        case 'H':\n        case 'k':\n          options.hour12 = false\n          options.hour = n === 2 ? TWODIGIT : NUMERIC\n          break\n        case 'm':\n          options.minute = n === 2 ? TWODIGIT : NUMERIC\n          break\n        case 's':\n        case 'S':\n          options.second = n === 2 ? TWODIGIT : NUMERIC\n          break\n        case 'z':\n        case 'Z':\n        case 'v':\n        case 'V':\n          options.timeZoneName = n === 1 ? SHORT : LONG\n          break\n      }\n    }\n    return Object.keys(options).length ? options : undefined\n  }\n}\n","// @flow\n'use strict'\nvar formats = require('format-message-formats')\nvar lookupClosestLocale = require('lookup-closest-locale')\nvar plurals = require('./plurals')\n\n/*::\nimport type {\n  AST,\n  SubMessages\n} from '../format-message-parse'\ntype Locale = string\ntype Locales = Locale | Locale[]\ntype Placeholder = any[] // https://github.com/facebook/flow/issues/4050\nexport type Type = (Placeholder, Locales) => (any, ?Object) => any\nexport type Types = { [string]: Type }\n*/\n\nexports = module.exports = function interpret (\n  ast/*: AST */,\n  locale/*:: ?: Locales */,\n  types/*:: ?: Types */\n)/*: (args?: Object) => string */ {\n  return interpretAST(ast, null, locale || 'en', types || {}, true)\n}\n\nexports.toParts = function toParts (\n  ast/*: AST */,\n  locale/*:: ?: Locales */,\n  types/*:: ?: Types */\n)/*: (args?: Object) => any[] */ {\n  return interpretAST(ast, null, locale || 'en', types || {}, false)\n}\n\nfunction interpretAST (\n  elements/*: any[] */,\n  parent/*: ?Placeholder */,\n  locale/*: Locales */,\n  types/*: Types */,\n  join/*: boolean */\n)/*: Function */ {\n  var parts = elements.map(function (element) {\n    return interpretElement(element, parent, locale, types, join)\n  })\n\n  if (!join) {\n    return function format (args) {\n      return parts.reduce(function (parts, part) {\n        return parts.concat(part(args))\n      }, [])\n    }\n  }\n\n  if (parts.length === 1) return parts[0]\n  return function format (args) {\n    var message = ''\n    for (var e = 0; e < parts.length; ++e) {\n      message += parts[e](args)\n    }\n    return message\n  }\n}\n\nfunction interpretElement (\n  element/*: Placeholder */,\n  parent/*: ?Placeholder */,\n  locale/*: Locales */,\n  types/*: Types */,\n  join/*: boolean */\n)/*: Function */ {\n  if (typeof element === 'string') {\n    var value/*: string */ = element\n    return function format () { return value }\n  }\n\n  var id = element[0]\n  var type = element[1]\n\n  if (parent && element[0] === '#') {\n    id = parent[0]\n    var offset = parent[2]\n    var formatter = (types.number || defaults.number)([id, 'number'], locale)\n    return function format (args) {\n      return formatter(getArg(id, args) - offset, args)\n    }\n  }\n\n  // pre-process children\n  var children\n  if (type === 'plural' || type === 'selectordinal') {\n    children = {}\n    Object.keys(element[3]).forEach(function (key) {\n      children[key] = interpretAST(element[3][key], element, locale, types, join)\n    })\n    element = [element[0], element[1], element[2], children]\n  } else if (element[2] && typeof element[2] === 'object') {\n    children = {}\n    Object.keys(element[2]).forEach(function (key) {\n      children[key] = interpretAST(element[2][key], element, locale, types, join)\n    })\n    element = [element[0], element[1], children]\n  }\n\n  var getFrmt = type && (types[type] || defaults[type])\n  if (getFrmt) {\n    var frmt = getFrmt(element, locale)\n    return function format (args) {\n      return frmt(getArg(id, args), args)\n    }\n  }\n\n  return join\n    ? function format (args) { return String(getArg(id, args)) }\n    : function format (args) { return getArg(id, args) }\n}\n\nfunction getArg (id/*: string */, args/*: ?Object */)/*: any */ {\n  if (args && (id in args)) return args[id]\n  var parts = id.split('.')\n  var a = args\n  for (var i = 0, ii = parts.length; a && i < ii; ++i) {\n    a = a[parts[i]]\n  }\n  return a\n}\n\nfunction interpretNumber (element/*: Placeholder */, locales/*: Locales */) {\n  var style = element[2]\n  var options = formats.number[style] || formats.parseNumberPattern(style) || formats.number.default\n  return new Intl.NumberFormat(locales, options).format\n}\n\nfunction interpretDuration (element/*: Placeholder */, locales/*: Locales */) {\n  var style = element[2]\n  var options = formats.duration[style] || formats.duration.default\n  var fs = new Intl.NumberFormat(locales, options.seconds).format\n  var fm = new Intl.NumberFormat(locales, options.minutes).format\n  var fh = new Intl.NumberFormat(locales, options.hours).format\n  var sep = /^fi$|^fi-|^da/.test(String(locales)) ? '.' : ':'\n\n  return function (s, args) {\n    s = +s\n    if (!isFinite(s)) return fs(s)\n    var h = ~~(s / 60 / 60) // ~~ acts much like Math.trunc\n    var m = ~~(s / 60 % 60)\n    var dur = (h ? (fh(Math.abs(h)) + sep) : '') +\n      fm(Math.abs(m)) + sep + fs(Math.abs(s % 60))\n    return s < 0 ? fh(-1).replace(fh(1), dur) : dur\n  }\n}\n\nfunction interpretDateTime (element/*: Placeholder */, locales/*: Locales */) {\n  var type = element[1]\n  var style = element[2]\n  var options = formats[type][style] || formats.parseDatePattern(style) || formats[type].default\n  return new Intl.DateTimeFormat(locales, options).format\n}\n\nfunction interpretPlural (element/*: Placeholder */, locales/*: Locales */) {\n  var type = element[1]\n  var pluralType = type === 'selectordinal' ? 'ordinal' : 'cardinal'\n  var offset = element[2]\n  var children = element[3]\n  var pluralRules\n  if (Intl.PluralRules && Intl.PluralRules.supportedLocalesOf(locales).length > 0) {\n    pluralRules = new Intl.PluralRules(locales, { type: pluralType })\n  } else {\n    var locale = lookupClosestLocale(locales, plurals)\n    var select = (locale && plurals[locale][pluralType]) || returnOther\n    pluralRules = { select: select }\n  }\n\n  return function (value, args) {\n    var clause =\n      children['=' + +value] ||\n      children[pluralRules.select(value - offset)] ||\n      children.other\n    return clause(args)\n  }\n}\n\nfunction returnOther (/*:: n:number */) { return 'other' }\n\nfunction interpretSelect (element/*: Placeholder */, locales/*: Locales */) {\n  var children = element[2]\n  return function (value, args) {\n    var clause = children[value] || children.other\n    return clause(args)\n  }\n}\n\nvar defaults/*: Types */ = {\n  number: interpretNumber,\n  ordinal: interpretNumber, // TODO: support rbnf\n  spellout: interpretNumber, // TODO: support rbnf\n  duration: interpretDuration,\n  date: interpretDateTime,\n  time: interpretDateTime,\n  plural: interpretPlural,\n  selectordinal: interpretPlural,\n  select: interpretSelect\n}\nexports.types = defaults\n","// @flow\n'use strict'\n\n/*:: export type Rule = 'zero' | 'one' | 'two' | 'few' | 'many' | 'other' */\nvar zero = 'zero', one = 'one', two = 'two', few = 'few', many = 'many', other = 'other'\nvar f = [\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return 0 <= n && n <= 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var n = +s\n    return i === 0 || n === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 0 ? zero\n      : n === 1 ? one\n      : n === 2 ? two\n      : 3 <= n % 100 && n % 100 <= 10 ? few\n      : 11 <= n % 100 && n % 100 <= 99 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    return i === 1 && v === 0 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n % 10 === 1 && n % 100 !== 11 ? one\n      : (2 <= n % 10 && n % 10 <= 4) && (n % 100 < 12 || 14 < n % 100) ? few\n      : n % 10 === 0 || (5 <= n % 10 && n % 10 <= 9) || (11 <= n % 100 && n % 100 <= 14) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n % 10 === 1 && (n % 100 !== 11 && n % 100 !== 71 && n % 100 !== 91) ? one\n      : n % 10 === 2 && (n % 100 !== 12 && n % 100 !== 72 && n % 100 !== 92) ? two\n      : ((3 <= n % 10 && n % 10 <= 4) || n % 10 === 9) && ((n % 100 < 10 || 19 < n % 100) && (n % 100 < 70 || 79 < n % 100) && (n % 100 < 90 || 99 < n % 100)) ? few\n      : n !== 0 && n % 1000000 === 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    var f = +(s + '.').split('.')[1]\n    return v === 0 && i % 10 === 1 && i % 100 !== 11 || f % 10 === 1 && f % 100 !== 11 ? one\n      : v === 0 && (2 <= i % 10 && i % 10 <= 4) && (i % 100 < 12 || 14 < i % 100) || (2 <= f % 10 && f % 10 <= 4) && (f % 100 < 12 || 14 < f % 100) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    return i === 1 && v === 0 ? one\n      : (2 <= i && i <= 4) && v === 0 ? few\n      : v !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 0 ? zero\n      : n === 1 ? one\n      : n === 2 ? two\n      : n === 3 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var t = +('' + s).replace(/^[^.]*.?|0+$/g, '')\n    var n = +s\n    return n === 1 || t !== 0 && (i === 0 || i === 1) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    var f = +(s + '.').split('.')[1]\n    return v === 0 && i % 100 === 1 || f % 100 === 1 ? one\n      : v === 0 && i % 100 === 2 || f % 100 === 2 ? two\n      : v === 0 && (3 <= i % 100 && i % 100 <= 4) || (3 <= f % 100 && f % 100 <= 4) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    return i === 0 || i === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    var f = +(s + '.').split('.')[1]\n    return v === 0 && (i === 1 || i === 2 || i === 3) || v === 0 && (i % 10 !== 4 && i % 10 !== 6 && i % 10 !== 9) || v !== 0 && (f % 10 !== 4 && f % 10 !== 6 && f % 10 !== 9) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 ? one\n      : n === 2 ? two\n      : 3 <= n && n <= 6 ? few\n      : 7 <= n && n <= 10 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 || n === 11 ? one\n      : n === 2 || n === 12 ? two\n      : ((3 <= n && n <= 10) || (13 <= n && n <= 19)) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    return v === 0 && i % 10 === 1 ? one\n      : v === 0 && i % 10 === 2 ? two\n      : v === 0 && (i % 100 === 0 || i % 100 === 20 || i % 100 === 40 || i % 100 === 60 || i % 100 === 80) ? few\n      : v !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    var n = +s\n    return i === 1 && v === 0 ? one\n      : i === 2 && v === 0 ? two\n      : v === 0 && (n < 0 || 10 < n) && n % 10 === 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var t = +('' + s).replace(/^[^.]*.?|0+$/g, '')\n    return t === 0 && i % 10 === 1 && i % 100 !== 11 || t !== 0 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 ? one\n      : n === 2 ? two\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 0 ? zero\n      : n === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var n = +s\n    return n === 0 ? zero\n      : (i === 0 || i === 1) && n !== 0 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var f = +(s + '.').split('.')[1]\n    var n = +s\n    return n % 10 === 1 && (n % 100 < 11 || 19 < n % 100) ? one\n      : (2 <= n % 10 && n % 10 <= 9) && (n % 100 < 11 || 19 < n % 100) ? few\n      : f !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var v = (s + '.').split('.')[1].length\n    var f = +(s + '.').split('.')[1]\n    var n = +s\n    return n % 10 === 0 || (11 <= n % 100 && n % 100 <= 19) || v === 2 && (11 <= f % 100 && f % 100 <= 19) ? zero\n      : n % 10 === 1 && n % 100 !== 11 || v === 2 && f % 10 === 1 && f % 100 !== 11 || v !== 2 && f % 10 === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    var f = +(s + '.').split('.')[1]\n    return v === 0 && i % 10 === 1 && i % 100 !== 11 || f % 10 === 1 && f % 100 !== 11 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    var n = +s\n    return i === 1 && v === 0 ? one\n      : v !== 0 || n === 0 || n !== 1 && (1 <= n % 100 && n % 100 <= 19) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 ? one\n      : n === 0 || (2 <= n % 100 && n % 100 <= 10) ? few\n      : 11 <= n % 100 && n % 100 <= 19 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    return i === 1 && v === 0 ? one\n      : v === 0 && (2 <= i % 10 && i % 10 <= 4) && (i % 100 < 12 || 14 < i % 100) ? few\n      : v === 0 && i !== 1 && (0 <= i % 10 && i % 10 <= 1) || v === 0 && (5 <= i % 10 && i % 10 <= 9) || v === 0 && (12 <= i % 100 && i % 100 <= 14) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    return 0 <= i && i <= 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    return v === 0 && i % 10 === 1 && i % 100 !== 11 ? one\n      : v === 0 && (2 <= i % 10 && i % 10 <= 4) && (i % 100 < 12 || 14 < i % 100) ? few\n      : v === 0 && i % 10 === 0 || v === 0 && (5 <= i % 10 && i % 10 <= 9) || v === 0 && (11 <= i % 100 && i % 100 <= 14) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var n = +s\n    return i === 0 || n === 1 ? one\n      : 2 <= n && n <= 10 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var f = +(s + '.').split('.')[1]\n    var n = +s\n    return (n === 0 || n === 1) || i === 0 && f === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    var v = (s + '.').split('.')[1].length\n    return v === 0 && i % 100 === 1 ? one\n      : v === 0 && i % 100 === 2 ? two\n      : v === 0 && (3 <= i % 100 && i % 100 <= 4) || v !== 0 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return (0 <= n && n <= 1) || (11 <= n && n <= 99) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 || n === 5 || n === 7 || n === 8 || n === 9 || n === 10 ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    return (i % 10 === 1 || i % 10 === 2 || i % 10 === 5 || i % 10 === 7 || i % 10 === 8) || (i % 100 === 20 || i % 100 === 50 || i % 100 === 70 || i % 100 === 80) ? one\n      : (i % 10 === 3 || i % 10 === 4) || (i % 1000 === 100 || i % 1000 === 200 || i % 1000 === 300 || i % 1000 === 400 || i % 1000 === 500 || i % 1000 === 600 || i % 1000 === 700 || i % 1000 === 800 || i % 1000 === 900) ? few\n      : i === 0 || i % 10 === 6 || (i % 100 === 40 || i % 100 === 60 || i % 100 === 90) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return (n % 10 === 2 || n % 10 === 3) && (n % 100 !== 12 && n % 100 !== 13) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 || n === 3 ? one\n      : n === 2 ? two\n      : n === 4 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 0 || n === 7 || n === 8 || n === 9 ? zero\n      : n === 1 ? one\n      : n === 2 ? two\n      : n === 3 || n === 4 ? few\n      : n === 5 || n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n % 10 === 1 && n % 100 !== 11 ? one\n      : n % 10 === 2 && n % 100 !== 12 ? two\n      : n % 10 === 3 && n % 100 !== 13 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 || n === 11 ? one\n      : n === 2 || n === 12 ? two\n      : n === 3 || n === 13 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 || n === 5 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 11 || n === 8 || n === 80 || n === 800 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    return i === 1 ? one\n      : i === 0 || ((2 <= i % 100 && i % 100 <= 20) || i % 100 === 40 || i % 100 === 60 || i % 100 === 80) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n % 10 === 6 || n % 10 === 9 || n % 10 === 0 && n !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s))\n    return i % 10 === 1 && i % 100 !== 11 ? one\n      : i % 10 === 2 && i % 100 !== 12 ? two\n      : (i % 10 === 7 || i % 10 === 8) && (i % 100 !== 17 && i % 100 !== 18) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return 1 <= n && n <= 4 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return (n === 1 || n === 5 || (7 <= n && n <= 9)) ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n === 1 ? one\n      : n % 10 === 4 && n % 100 !== 14 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return (n % 10 === 1 || n % 10 === 2) && (n % 100 !== 11 && n % 100 !== 12) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return (n % 10 === 6 || n % 10 === 9) || n === 10 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s\n    return n % 10 === 3 && n % 100 !== 13 ? few\n      : other\n  }\n]\n\nmodule.exports = {\n  af: { cardinal: f[0] },\n  ak: { cardinal: f[1] },\n  am: { cardinal: f[2] },\n  ar: { cardinal: f[3] },\n  ars: { cardinal: f[3] },\n  as: { cardinal: f[2], ordinal: f[34] },\n  asa: { cardinal: f[0] },\n  ast: { cardinal: f[4] },\n  az: { cardinal: f[0], ordinal: f[35] },\n  be: { cardinal: f[5], ordinal: f[36] },\n  bem: { cardinal: f[0] },\n  bez: { cardinal: f[0] },\n  bg: { cardinal: f[0] },\n  bh: { cardinal: f[1] },\n  bn: { cardinal: f[2], ordinal: f[34] },\n  br: { cardinal: f[6] },\n  brx: { cardinal: f[0] },\n  bs: { cardinal: f[7] },\n  ca: { cardinal: f[4], ordinal: f[37] },\n  ce: { cardinal: f[0] },\n  cgg: { cardinal: f[0] },\n  chr: { cardinal: f[0] },\n  ckb: { cardinal: f[0] },\n  cs: { cardinal: f[8] },\n  cy: { cardinal: f[9], ordinal: f[38] },\n  da: { cardinal: f[10] },\n  de: { cardinal: f[4] },\n  dsb: { cardinal: f[11] },\n  dv: { cardinal: f[0] },\n  ee: { cardinal: f[0] },\n  el: { cardinal: f[0] },\n  en: { cardinal: f[4], ordinal: f[39] },\n  eo: { cardinal: f[0] },\n  es: { cardinal: f[0] },\n  et: { cardinal: f[4] },\n  eu: { cardinal: f[0] },\n  fa: { cardinal: f[2] },\n  ff: { cardinal: f[12] },\n  fi: { cardinal: f[4] },\n  fil: { cardinal: f[13], ordinal: f[0] },\n  fo: { cardinal: f[0] },\n  fr: { cardinal: f[12], ordinal: f[0] },\n  fur: { cardinal: f[0] },\n  fy: { cardinal: f[4] },\n  ga: { cardinal: f[14], ordinal: f[0] },\n  gd: { cardinal: f[15], ordinal: f[40] },\n  gl: { cardinal: f[4] },\n  gsw: { cardinal: f[0] },\n  gu: { cardinal: f[2], ordinal: f[41] },\n  guw: { cardinal: f[1] },\n  gv: { cardinal: f[16] },\n  ha: { cardinal: f[0] },\n  haw: { cardinal: f[0] },\n  he: { cardinal: f[17] },\n  hi: { cardinal: f[2], ordinal: f[41] },\n  hr: { cardinal: f[7] },\n  hsb: { cardinal: f[11] },\n  hu: { cardinal: f[0], ordinal: f[42] },\n  hy: { cardinal: f[12], ordinal: f[0] },\n  ia: { cardinal: f[4] },\n  io: { cardinal: f[4] },\n  is: { cardinal: f[18] },\n  it: { cardinal: f[4], ordinal: f[43] },\n  iu: { cardinal: f[19] },\n  iw: { cardinal: f[17] },\n  jgo: { cardinal: f[0] },\n  ji: { cardinal: f[4] },\n  jmc: { cardinal: f[0] },\n  ka: { cardinal: f[0], ordinal: f[44] },\n  kab: { cardinal: f[12] },\n  kaj: { cardinal: f[0] },\n  kcg: { cardinal: f[0] },\n  kk: { cardinal: f[0], ordinal: f[45] },\n  kkj: { cardinal: f[0] },\n  kl: { cardinal: f[0] },\n  kn: { cardinal: f[2] },\n  ks: { cardinal: f[0] },\n  ksb: { cardinal: f[0] },\n  ksh: { cardinal: f[20] },\n  ku: { cardinal: f[0] },\n  kw: { cardinal: f[19] },\n  ky: { cardinal: f[0] },\n  lag: { cardinal: f[21] },\n  lb: { cardinal: f[0] },\n  lg: { cardinal: f[0] },\n  ln: { cardinal: f[1] },\n  lt: { cardinal: f[22] },\n  lv: { cardinal: f[23] },\n  mas: { cardinal: f[0] },\n  mg: { cardinal: f[1] },\n  mgo: { cardinal: f[0] },\n  mk: { cardinal: f[24], ordinal: f[46] },\n  ml: { cardinal: f[0] },\n  mn: { cardinal: f[0] },\n  mo: { cardinal: f[25], ordinal: f[0] },\n  mr: { cardinal: f[2], ordinal: f[47] },\n  mt: { cardinal: f[26] },\n  nah: { cardinal: f[0] },\n  naq: { cardinal: f[19] },\n  nb: { cardinal: f[0] },\n  nd: { cardinal: f[0] },\n  ne: { cardinal: f[0], ordinal: f[48] },\n  nl: { cardinal: f[4] },\n  nn: { cardinal: f[0] },\n  nnh: { cardinal: f[0] },\n  no: { cardinal: f[0] },\n  nr: { cardinal: f[0] },\n  nso: { cardinal: f[1] },\n  ny: { cardinal: f[0] },\n  nyn: { cardinal: f[0] },\n  om: { cardinal: f[0] },\n  or: { cardinal: f[0], ordinal: f[49] },\n  os: { cardinal: f[0] },\n  pa: { cardinal: f[1] },\n  pap: { cardinal: f[0] },\n  pl: { cardinal: f[27] },\n  prg: { cardinal: f[23] },\n  ps: { cardinal: f[0] },\n  pt: { cardinal: f[28] },\n  'pt-PT': { cardinal: f[4] },\n  rm: { cardinal: f[0] },\n  ro: { cardinal: f[25], ordinal: f[0] },\n  rof: { cardinal: f[0] },\n  ru: { cardinal: f[29] },\n  rwk: { cardinal: f[0] },\n  saq: { cardinal: f[0] },\n  sc: { cardinal: f[4], ordinal: f[43] },\n  scn: { cardinal: f[4], ordinal: f[43] },\n  sd: { cardinal: f[0] },\n  sdh: { cardinal: f[0] },\n  se: { cardinal: f[19] },\n  seh: { cardinal: f[0] },\n  sh: { cardinal: f[7] },\n  shi: { cardinal: f[30] },\n  si: { cardinal: f[31] },\n  sk: { cardinal: f[8] },\n  sl: { cardinal: f[32] },\n  sma: { cardinal: f[19] },\n  smi: { cardinal: f[19] },\n  smj: { cardinal: f[19] },\n  smn: { cardinal: f[19] },\n  sms: { cardinal: f[19] },\n  sn: { cardinal: f[0] },\n  so: { cardinal: f[0] },\n  sq: { cardinal: f[0], ordinal: f[50] },\n  sr: { cardinal: f[7] },\n  ss: { cardinal: f[0] },\n  ssy: { cardinal: f[0] },\n  st: { cardinal: f[0] },\n  sv: { cardinal: f[4], ordinal: f[51] },\n  sw: { cardinal: f[4] },\n  syr: { cardinal: f[0] },\n  ta: { cardinal: f[0] },\n  te: { cardinal: f[0] },\n  teo: { cardinal: f[0] },\n  ti: { cardinal: f[1] },\n  tig: { cardinal: f[0] },\n  tk: { cardinal: f[0], ordinal: f[52] },\n  tl: { cardinal: f[13], ordinal: f[0] },\n  tn: { cardinal: f[0] },\n  tr: { cardinal: f[0] },\n  ts: { cardinal: f[0] },\n  tzm: { cardinal: f[33] },\n  ug: { cardinal: f[0] },\n  uk: { cardinal: f[29], ordinal: f[53] },\n  ur: { cardinal: f[4] },\n  uz: { cardinal: f[0] },\n  ve: { cardinal: f[0] },\n  vo: { cardinal: f[0] },\n  vun: { cardinal: f[0] },\n  wa: { cardinal: f[1] },\n  wae: { cardinal: f[0] },\n  xh: { cardinal: f[0] },\n  xog: { cardinal: f[0] },\n  yi: { cardinal: f[4] },\n  zu: { cardinal: f[2] },\n  lo: { ordinal: f[0] },\n  ms: { ordinal: f[0] },\n  vi: { ordinal: f[0] }\n}\n","// @flow\n'use strict'\n\n/*::\nexport type AST = Element[]\nexport type Element = string | Placeholder\nexport type Placeholder = Plural | Styled | Typed | Simple\nexport type Plural = [ string, 'plural' | 'selectordinal', number, SubMessages ]\nexport type Styled = [ string, string, string | SubMessages ]\nexport type Typed = [ string, string ]\nexport type Simple = [ string ]\nexport type SubMessages = { [string]: AST }\nexport type Token = [ TokenType, string ]\nexport type TokenType = 'text' | 'space' | 'id' | 'type' | 'style' | 'offset' | 'number' | 'selector' | 'syntax'\ntype Context = {|\n  pattern: string,\n  index: number,\n  tagsType: ?string,\n  tokens: ?Token[]\n|}\n*/\n\nvar ARG_OPN = '{'\nvar ARG_CLS = '}'\nvar ARG_SEP = ','\nvar NUM_ARG = '#'\nvar TAG_OPN = '<'\nvar TAG_CLS = '>'\nvar TAG_END = '</'\nvar TAG_SELF_CLS = '/>'\nvar ESC = '\\''\nvar OFFSET = 'offset:'\nvar simpleTypes = [\n  'number',\n  'date',\n  'time',\n  'ordinal',\n  'duration',\n  'spellout'\n]\nvar submTypes = [\n  'plural',\n  'select',\n  'selectordinal'\n]\n\n/**\n * parse\n *\n * Turns this:\n *  `You have { numBananas, plural,\n *       =0 {no bananas}\n *      one {a banana}\n *    other {# bananas}\n *  } for sale`\n *\n * into this:\n *  [ \"You have \", [ \"numBananas\", \"plural\", 0, {\n *       \"=0\": [ \"no bananas\" ],\n *      \"one\": [ \"a banana\" ],\n *    \"other\": [ [ '#' ], \" bananas\" ]\n *  } ], \" for sale.\" ]\n *\n * tokens:\n *  [\n *    [ \"text\", \"You have \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"space\", \" \" ],\n *    [ \"id\", \"numBananas\" ],\n *    [ \"syntax\", \", \" ],\n *    [ \"space\", \" \" ],\n *    [ \"type\", \"plural\" ],\n *    [ \"syntax\", \",\" ],\n *    [ \"space\", \"\\n     \" ],\n *    [ \"selector\", \"=0\" ],\n *    [ \"space\", \" \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"text\", \"no bananas\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"space\", \"\\n    \" ],\n *    [ \"selector\", \"one\" ],\n *    [ \"space\", \" \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"text\", \"a banana\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"space\", \"\\n  \" ],\n *    [ \"selector\", \"other\" ],\n *    [ \"space\", \" \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"syntax\", \"#\" ],\n *    [ \"text\", \" bananas\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"space\", \"\\n\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"text\", \" for sale.\" ]\n *  ]\n **/\nexports = module.exports = function parse (\n  pattern/*: string */,\n  options/*:: ?: { tagsType?: string, tokens?: Token[] } */\n)/*: AST */ {\n  return parseAST({\n    pattern: String(pattern),\n    index: 0,\n    tagsType: (options && options.tagsType) || null,\n    tokens: (options && options.tokens) || null\n  }, '')\n}\n\nfunction parseAST (current/*: Context */, parentType/*: string */)/*: AST */ {\n  var pattern = current.pattern\n  var length = pattern.length\n  var elements/*: AST */ = []\n  var start = current.index\n  var text = parseText(current, parentType)\n  if (text) elements.push(text)\n  if (text && current.tokens) current.tokens.push(['text', pattern.slice(start, current.index)])\n  while (current.index < length) {\n    if (pattern[current.index] === ARG_CLS) {\n      if (!parentType) throw expected(current)\n      break\n    }\n    if (parentType && current.tagsType && pattern.slice(current.index, current.index + TAG_END.length) === TAG_END) break\n    elements.push(parsePlaceholder(current))\n    start = current.index\n    text = parseText(current, parentType)\n    if (text) elements.push(text)\n    if (text && current.tokens) current.tokens.push(['text', pattern.slice(start, current.index)])\n  }\n  return elements\n}\n\nfunction parseText (current/*: Context */, parentType/*: string */)/*: string */ {\n  var pattern = current.pattern\n  var length = pattern.length\n  var isHashSpecial = (parentType === 'plural' || parentType === 'selectordinal')\n  var isAngleSpecial = !!current.tagsType\n  var isArgStyle = (parentType === '{style}')\n  var text = ''\n  while (current.index < length) {\n    var char = pattern[current.index]\n    if (\n      char === ARG_OPN || char === ARG_CLS ||\n      (isHashSpecial && char === NUM_ARG) ||\n      (isAngleSpecial && char === TAG_OPN) ||\n      (isArgStyle && isWhitespace(char.charCodeAt(0)))\n    ) {\n      break\n    } else if (char === ESC) {\n      char = pattern[++current.index]\n      if (char === ESC) { // double is always 1 '\n        text += char\n        ++current.index\n      } else if (\n        // only when necessary\n        char === ARG_OPN || char === ARG_CLS ||\n        (isHashSpecial && char === NUM_ARG) ||\n        (isAngleSpecial && char === TAG_OPN) ||\n        isArgStyle\n      ) {\n        text += char\n        while (++current.index < length) {\n          char = pattern[current.index]\n          if (char === ESC && pattern[current.index + 1] === ESC) { // double is always 1 '\n            text += ESC\n            ++current.index\n          } else if (char === ESC) { // end of quoted\n            ++current.index\n            break\n          } else {\n            text += char\n          }\n        }\n      } else { // lone ' is just a '\n        text += ESC\n        // already incremented\n      }\n    } else {\n      text += char\n      ++current.index\n    }\n  }\n  return text\n}\n\nfunction isWhitespace (code/*: number */)/*: boolean */ {\n  return (\n    (code >= 0x09 && code <= 0x0D) ||\n    code === 0x20 || code === 0x85 || code === 0xA0 || code === 0x180E ||\n    (code >= 0x2000 && code <= 0x200D) ||\n    code === 0x2028 || code === 0x2029 || code === 0x202F || code === 0x205F ||\n    code === 0x2060 || code === 0x3000 || code === 0xFEFF\n  )\n}\n\nfunction skipWhitespace (current/*: Context */)/*: void */ {\n  var pattern = current.pattern\n  var length = pattern.length\n  var start = current.index\n  while (current.index < length && isWhitespace(pattern.charCodeAt(current.index))) {\n    ++current.index\n  }\n  if (start < current.index && current.tokens) {\n    current.tokens.push(['space', current.pattern.slice(start, current.index)])\n  }\n}\n\nfunction parsePlaceholder (current/*: Context */)/*: Placeholder */ {\n  var pattern = current.pattern\n  if (pattern[current.index] === NUM_ARG) {\n    if (current.tokens) current.tokens.push(['syntax', NUM_ARG])\n    ++current.index // move passed #\n    return [NUM_ARG]\n  }\n\n  var tag = parseTag(current)\n  if (tag) return tag\n\n  /* istanbul ignore if should be unreachable if parseAST and parseText are right */\n  if (pattern[current.index] !== ARG_OPN) throw expected(current, ARG_OPN)\n  if (current.tokens) current.tokens.push(['syntax', ARG_OPN])\n  ++current.index // move passed {\n  skipWhitespace(current)\n\n  var id = parseId(current)\n  if (!id) throw expected(current, 'placeholder id')\n  if (current.tokens) current.tokens.push(['id', id])\n  skipWhitespace(current)\n\n  var char = pattern[current.index]\n  if (char === ARG_CLS) { // end placeholder\n    if (current.tokens) current.tokens.push(['syntax', ARG_CLS])\n    ++current.index // move passed }\n    return [id]\n  }\n\n  if (char !== ARG_SEP) throw expected(current, ARG_SEP + ' or ' + ARG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', ARG_SEP])\n  ++current.index // move passed ,\n  skipWhitespace(current)\n\n  var type = parseId(current)\n  if (!type) throw expected(current, 'placeholder type')\n  if (current.tokens) current.tokens.push(['type', type])\n  skipWhitespace(current)\n  char = pattern[current.index]\n  if (char === ARG_CLS) { // end placeholder\n    if (current.tokens) current.tokens.push(['syntax', ARG_CLS])\n    if (type === 'plural' || type === 'selectordinal' || type === 'select') {\n      throw expected(current, type + ' sub-messages')\n    }\n    ++current.index // move passed }\n    return [id, type]\n  }\n\n  if (char !== ARG_SEP) throw expected(current, ARG_SEP + ' or ' + ARG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', ARG_SEP])\n  ++current.index // move passed ,\n  skipWhitespace(current)\n\n  var arg\n  if (type === 'plural' || type === 'selectordinal') {\n    var offset = parsePluralOffset(current)\n    skipWhitespace(current)\n    arg = [id, type, offset, parseSubMessages(current, type)]\n  } else if (type === 'select') {\n    arg = [id, type, parseSubMessages(current, type)]\n  } else if (simpleTypes.indexOf(type) >= 0) {\n    arg = [id, type, parseSimpleFormat(current)]\n  } else { // custom placeholder type\n    var index = current.index\n    var format/*: string | SubMessages */ = parseSimpleFormat(current)\n    skipWhitespace(current)\n    if (pattern[current.index] === ARG_OPN) {\n      current.index = index // rewind, since should have been submessages\n      format = parseSubMessages(current, type)\n    }\n    arg = [id, type, format]\n  }\n\n  skipWhitespace(current)\n  if (pattern[current.index] !== ARG_CLS) throw expected(current, ARG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', ARG_CLS])\n  ++current.index // move passed }\n  return arg\n}\n\nfunction parseTag (current/*: Context */)/*: ?Placeholder */ {\n  var tagsType = current.tagsType\n  if (!tagsType || current.pattern[current.index] !== TAG_OPN) return\n\n  if (current.pattern.slice(current.index, current.index + TAG_END.length) === TAG_END) {\n    throw expected(current, null, 'closing tag without matching opening tag')\n  }\n  if (current.tokens) current.tokens.push(['syntax', TAG_OPN])\n  ++current.index // move passed <\n\n  var id = parseId(current, true)\n  if (!id) throw expected(current, 'placeholder id')\n  if (current.tokens) current.tokens.push(['id', id])\n  skipWhitespace(current)\n\n  if (current.pattern.slice(current.index, current.index + TAG_SELF_CLS.length) === TAG_SELF_CLS) {\n    if (current.tokens) current.tokens.push(['syntax', TAG_SELF_CLS])\n    current.index += TAG_SELF_CLS.length\n    return [id, tagsType]\n  }\n  if (current.pattern[current.index] !== TAG_CLS) throw expected(current, TAG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', TAG_CLS])\n  ++current.index // move passed >\n\n  var children = parseAST(current, tagsType)\n\n  var end = current.index\n  if (current.pattern.slice(current.index, current.index + TAG_END.length) !== TAG_END) throw expected(current, TAG_END + id + TAG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', TAG_END])\n  current.index += TAG_END.length\n  var closeId = parseId(current, true)\n  if (closeId && current.tokens) current.tokens.push(['id', closeId])\n  if (id !== closeId) {\n    current.index = end // rewind for better error message\n    throw expected(current, TAG_END + id + TAG_CLS, TAG_END + closeId + TAG_CLS)\n  }\n  skipWhitespace(current)\n  if (current.pattern[current.index] !== TAG_CLS) throw expected(current, TAG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', TAG_CLS])\n  ++current.index // move passed >\n\n  return [id, tagsType, { children: children }]\n}\n\nfunction parseId (current/*: Context */, isTag/*:: ?: boolean */)/*: string */ {\n  var pattern = current.pattern\n  var length = pattern.length\n  var id = ''\n  while (current.index < length) {\n    var char = pattern[current.index]\n    if (\n      char === ARG_OPN || char === ARG_CLS || char === ARG_SEP ||\n      char === NUM_ARG || char === ESC || isWhitespace(char.charCodeAt(0)) ||\n      (isTag && (char === TAG_OPN || char === TAG_CLS || char === '/'))\n    ) break\n    id += char\n    ++current.index\n  }\n  return id\n}\n\nfunction parseSimpleFormat (current/*: Context */)/*: string */ {\n  var start = current.index\n  var style = parseText(current, '{style}')\n  if (!style) throw expected(current, 'placeholder style name')\n  if (current.tokens) current.tokens.push(['style', current.pattern.slice(start, current.index)])\n  return style\n}\n\nfunction parsePluralOffset (current/*: Context */)/*: number */ {\n  var pattern = current.pattern\n  var length = pattern.length\n  var offset = 0\n  if (pattern.slice(current.index, current.index + OFFSET.length) === OFFSET) {\n    if (current.tokens) current.tokens.push(['offset', 'offset'], ['syntax', ':'])\n    current.index += OFFSET.length // move passed offset:\n    skipWhitespace(current)\n    var start = current.index\n    while (current.index < length && isDigit(pattern.charCodeAt(current.index))) {\n      ++current.index\n    }\n    if (start === current.index) throw expected(current, 'offset number')\n    if (current.tokens) current.tokens.push(['number', pattern.slice(start, current.index)])\n    offset = +pattern.slice(start, current.index)\n  }\n  return offset\n}\n\nfunction isDigit (code/*: number */)/*: boolean */ {\n  return (code >= 0x30 && code <= 0x39)\n}\n\nfunction parseSubMessages (current/*: Context */, parentType/*: string */)/*: SubMessages */ {\n  var pattern = current.pattern\n  var length = pattern.length\n  var options/*: SubMessages */ = {}\n  while (current.index < length && pattern[current.index] !== ARG_CLS) {\n    var selector = parseId(current)\n    if (!selector) throw expected(current, 'sub-message selector')\n    if (current.tokens) current.tokens.push(['selector', selector])\n    skipWhitespace(current)\n    options[selector] = parseSubMessage(current, parentType)\n    skipWhitespace(current)\n  }\n  if (!options.other && submTypes.indexOf(parentType) >= 0) {\n    throw expected(current, null, null, '\"other\" sub-message must be specified in ' + parentType)\n  }\n  return options\n}\n\nfunction parseSubMessage (current/*: Context */, parentType/*: string */)/*: AST */ {\n  if (current.pattern[current.index] !== ARG_OPN) throw expected(current, ARG_OPN + ' to start sub-message')\n  if (current.tokens) current.tokens.push(['syntax', ARG_OPN])\n  ++current.index // move passed {\n  var message = parseAST(current, parentType)\n  if (current.pattern[current.index] !== ARG_CLS) throw expected(current, ARG_CLS + ' to end sub-message')\n  if (current.tokens) current.tokens.push(['syntax', ARG_CLS])\n  ++current.index // move passed }\n  return message\n}\n\nfunction expected (current/*: Context */, expected/*:: ?: ?string */, found/*:: ?: ?string */, message/*:: ?: string */) {\n  var pattern = current.pattern\n  var lines = pattern.slice(0, current.index).split(/\\r?\\n/)\n  var offset = current.index\n  var line = lines.length\n  var column = lines.slice(-1)[0].length\n  found = found || (\n    (current.index >= pattern.length) ? 'end of message pattern'\n      : (parseId(current) || pattern[current.index])\n  )\n  if (!message) message = errorMessage(expected, found)\n  message += ' in ' + pattern.replace(/\\r?\\n/g, '\\n')\n  return new SyntaxError(message, expected, found, offset, line, column)\n}\n\nfunction errorMessage (expected/*: ?string */, found/* string */) {\n  if (!expected) return 'Unexpected ' + found + ' found'\n  return 'Expected ' + expected + ' but found ' + found\n}\n\n/**\n * SyntaxError\n *  Holds information about bad syntax found in a message pattern\n **/\nfunction SyntaxError (message/*: string */, expected/*: ?string */, found/*: ?string */, offset/*: number */, line/*: number */, column/*: number */) {\n  Error.call(this, message)\n  this.name = 'SyntaxError'\n  this.message = message\n  this.expected = expected\n  this.found = found\n  this.offset = offset\n  this.line = line\n  this.column = column\n}\nSyntaxError.prototype = Object.create(Error.prototype)\nexports.SyntaxError = SyntaxError\n","// @flow\n'use strict'\nvar parse = require('format-message-parse')\nvar interpret = require('format-message-interpret')\nvar plurals = require('format-message-interpret/plurals')\nvar lookupClosestLocale = require('lookup-closest-locale')\nvar origFormats = require('format-message-formats')\n\n/*::\nimport type { Types } from 'format-message-interpret'\ntype Locale = string\ntype Locales = Locale | Locale[]\ntype Message = string | {|\n  id?: string,\n  default: string,\n  description?: string\n|}\ntype Translations = { [string]: ?{ [string]: string | Translation } }\ntype Translation = {\n  message: string,\n  format?: (args?: Object) => string,\n  toParts?: (args?: Object) => any[],\n}\ntype Replacement = ?string | (string, string, locales?: Locales) => ?string\ntype GenerateId = (string) => string\ntype MissingTranslation = 'ignore' | 'warning' | 'error'\ntype FormatObject = { [string]: * }\ntype Options = {\n  locale?: Locales,\n  translations?: ?Translations,\n  generateId?: GenerateId,\n  missingReplacement?: Replacement,\n  missingTranslation?: MissingTranslation,\n  formats?: {\n    number?: FormatObject,\n    date?: FormatObject,\n    time?: FormatObject\n  },\n  types?: Types\n}\ntype Setup = {|\n  locale: Locales,\n  translations: Translations,\n  generateId: GenerateId,\n  missingReplacement: Replacement,\n  missingTranslation: MissingTranslation,\n  formats: {\n    number: FormatObject,\n    date: FormatObject,\n    time: FormatObject\n  },\n  types: Types\n|}\ntype FormatMessage = {\n  (msg: Message, args?: Object, locales?: Locales): string,\n  rich (msg: Message, args?: Object, locales?: Locales): any[],\n  setup (opt?: Options): Setup,\n  number (value: number, style?: string, locales?: Locales): string,\n  date (value: number | Date, style?: string, locales?: Locales): string,\n  time (value: number | Date, style?: string, locales?: Locales): string,\n  select (value: any, options: Object): any,\n  custom (placeholder: any[], locales: Locales, value: any, args: Object): any,\n  plural (value: number, offset: any, options: any, locale: any): any,\n  selectordinal (value: number, offset: any, options: any, locale: any): any,\n  namespace (): FormatMessage\n}\n*/\n\nfunction assign/*:: <T: Object> */ (target/*: T */, source/*: Object */) {\n  Object.keys(source).forEach(function (key) { target[key] = source[key] })\n  return target\n}\n\nfunction namespace ()/*: FormatMessage */ {\n  var formats = assign({}, origFormats)\n  var currentLocales/*: Locales */ = 'en'\n  var translations/*: Translations */ = {}\n  var generateId/*: GenerateId */ = function (pattern) { return pattern }\n  var missingReplacement/*: Replacement */ = null\n  var missingTranslation/*: MissingTranslation */ = 'warning'\n  var types/*: Types */ = {}\n\n  function formatMessage (msg/*: Message */, args/*:: ?: Object */, locales/*:: ?: Locales */) {\n    var pattern = typeof msg === 'string' ? msg : msg.default\n    var id = (typeof msg === 'object' && msg.id) || generateId(pattern)\n    var translated = translate(pattern, id, locales || currentLocales)\n    var format = translated.format || (\n      translated.format = interpret(parse(translated.message), locales || currentLocales, types)\n    )\n    return format(args)\n  }\n\n  formatMessage.rich = function rich (msg/*: Message */, args/*:: ?: Object */, locales/*:: ?: Locales */) {\n    var pattern = typeof msg === 'string' ? msg : msg.default\n    var id = (typeof msg === 'object' && msg.id) || generateId(pattern)\n    var translated = translate(pattern, id, locales || currentLocales)\n    var format = translated.toParts || (\n      translated.toParts = interpret.toParts(parse(translated.message, { tagsType: tagsType }), locales || currentLocales, types)\n    )\n    return format(args)\n  }\n\n  var tagsType = '<>'\n  function richType (node/*: any[] */, locales/*: Locales */) {\n    var style = node[2]\n    return function (fn, args) {\n      var props = typeof style === 'object' ? mapObject(style, args) : style\n      return typeof fn === 'function' ? fn(props) : fn\n    }\n  }\n  types[tagsType] = richType\n\n  function mapObject (object/* { [string]: (args?: Object) => any } */, args/*: ?Object */) {\n    return Object.keys(object).reduce(function (mapped, key) {\n      mapped[key] = object[key](args)\n      return mapped\n    }, {})\n  }\n\n  function translate (pattern/*: string */, id/*: string */, locales/*: Locales */)/*: Translation */ {\n    var locale = lookupClosestLocale(locales, translations) || 'en'\n    var messages = translations[locale] || (translations[locale] = {})\n    var translated = messages[id]\n    if (typeof translated === 'string') {\n      translated = messages[id] = { message: translated }\n    }\n    if (!translated) {\n      var message = 'Translation for \"' + id + '\" in \"' + locale + '\" is missing'\n      if (missingTranslation === 'warning') {\n        /* istanbul ignore else */\n        if (typeof console !== 'undefined') console.warn(message)\n      } else if (missingTranslation !== 'ignore') { // 'error'\n        throw new Error(message)\n      }\n      var replacement = typeof missingReplacement === 'function'\n        ? missingReplacement(pattern, id, locale) || pattern\n        : missingReplacement || pattern\n      translated = messages[id] = { message: replacement }\n    }\n    return translated\n  }\n\n  formatMessage.setup = function setup (opt/*:: ?: Options */) {\n    opt = opt || {}\n    if (opt.locale) currentLocales = opt.locale\n    if ('translations' in opt) translations = opt.translations || {}\n    if (opt.generateId) generateId = opt.generateId\n    if ('missingReplacement' in opt) missingReplacement = opt.missingReplacement\n    if (opt.missingTranslation) missingTranslation = opt.missingTranslation\n    if (opt.formats) {\n      if (opt.formats.number) assign(formats.number, opt.formats.number)\n      if (opt.formats.date) assign(formats.date, opt.formats.date)\n      if (opt.formats.time) assign(formats.time, opt.formats.time)\n    }\n    if (opt.types) {\n      types = opt.types\n      types[tagsType] = richType\n    }\n    return {\n      locale: currentLocales,\n      translations: translations,\n      generateId: generateId,\n      missingReplacement: missingReplacement,\n      missingTranslation: missingTranslation,\n      formats: formats,\n      types: types\n    }\n  }\n\n  formatMessage.number = function (value/*: number */, style/*:: ?: string */, locales/*:: ?: Locales */) {\n    var options = (style && formats.number[style]) ||\n      formats.parseNumberPattern(style) ||\n      formats.number.default\n    return new Intl.NumberFormat(locales || currentLocales, options).format(value)\n  }\n\n  formatMessage.date = function (value/*:: ?: number | Date */, style/*:: ?: string */, locales/*:: ?: Locales */) {\n    var options = (style && formats.date[style]) ||\n      formats.parseDatePattern(style) ||\n      formats.date.default\n    return new Intl.DateTimeFormat(locales || currentLocales, options).format(value)\n  }\n\n  formatMessage.time = function (value/*:: ?: number | Date */, style/*:: ?: string */, locales/*:: ?: Locales */) {\n    var options = (style && formats.time[style]) ||\n      formats.parseDatePattern(style) ||\n      formats.time.default\n    return new Intl.DateTimeFormat(locales || currentLocales, options).format(value)\n  }\n\n  formatMessage.select = function (value/*: any */, options/*: Object */) {\n    return options[value] || options.other\n  }\n\n  formatMessage.custom = function (placeholder/*: any[] */, locales/*: Locales */, value/*: any */, args/*: Object */) {\n    if (!(placeholder[1] in types)) return value\n    return types[placeholder[1]](placeholder, locales)(value, args)\n  }\n\n  formatMessage.plural = plural.bind(null, 'cardinal')\n  formatMessage.selectordinal = plural.bind(null, 'ordinal')\n  function plural (\n    pluralType/*: 'cardinal' | 'ordinal' */,\n    value/*: number */,\n    offset/*: any */,\n    options/*: any */,\n    locale/*: any */\n  ) {\n    if (typeof offset === 'object' && typeof options !== 'object') { // offset is optional\n      locale = options\n      options = offset\n      offset = 0\n    }\n    var closest = lookupClosestLocale(locale || currentLocales, plurals)\n    var plural = (closest && plurals[closest][pluralType]) || returnOther\n    return options['=' + +value] || options[plural(value - offset)] || options.other\n  }\n  function returnOther (/*:: n:number */) { return 'other' }\n\n  formatMessage.namespace = namespace\n\n  return formatMessage\n}\n\nmodule.exports = exports = namespace()\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","// @flow\n// \"lookup\" algorithm http://tools.ietf.org/html/rfc4647#section-3.4\n// assumes normalized language tags, and matches in a case sensitive manner\nmodule.exports = function lookupClosestLocale (locale/*: string | string[] | void */, available/*: { [string]: any } */)/*: ?string */ {\n  if (typeof locale === 'string' && available[locale]) return locale\n  var locales = [].concat(locale || [])\n  for (var l = 0, ll = locales.length; l < ll; ++l) {\n    var current = locales[l].split('-')\n    while (current.length) {\n      var candidate = current.join('-')\n      if (available[candidate]) return candidate\n      current.pop()\n    }\n  }\n}\n","var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __esm = (fn, res) => function __init() {\n  return fn && (res = (0, fn[Object.keys(fn)[0]])(fn = 0)), res;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);\n};\n\n// node_modules/web-streams-polyfill/dist/ponyfill.es2018.js\nvar require_ponyfill_es2018 = __commonJS({\n  \"node_modules/web-streams-polyfill/dist/ponyfill.es2018.js\"(exports, module2) {\n    (function(global2, factory) {\n      typeof exports === \"object\" && typeof module2 !== \"undefined\" ? factory(exports) : typeof define === \"function\" && define.amd ? define([\"exports\"], factory) : (global2 = typeof globalThis !== \"undefined\" ? globalThis : global2 || self, factory(global2.WebStreamsPolyfill = {}));\n    })(exports, function(exports2) {\n      \"use strict\";\n      const SymbolPolyfill = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? Symbol : (description) => `Symbol(${description})`;\n      function noop2() {\n        return void 0;\n      }\n      function getGlobals() {\n        if (typeof self !== \"undefined\") {\n          return self;\n        } else if (typeof window !== \"undefined\") {\n          return window;\n        } else if (typeof global !== \"undefined\") {\n          return global;\n        }\n        return void 0;\n      }\n      const globals = getGlobals();\n      function typeIsObject(x2) {\n        return typeof x2 === \"object\" && x2 !== null || typeof x2 === \"function\";\n      }\n      const rethrowAssertionErrorRejection = noop2;\n      const originalPromise = Promise;\n      const originalPromiseThen = Promise.prototype.then;\n      const originalPromiseResolve = Promise.resolve.bind(originalPromise);\n      const originalPromiseReject = Promise.reject.bind(originalPromise);\n      function newPromise(executor) {\n        return new originalPromise(executor);\n      }\n      function promiseResolvedWith(value) {\n        return originalPromiseResolve(value);\n      }\n      function promiseRejectedWith(reason) {\n        return originalPromiseReject(reason);\n      }\n      function PerformPromiseThen(promise, onFulfilled, onRejected) {\n        return originalPromiseThen.call(promise, onFulfilled, onRejected);\n      }\n      function uponPromise(promise, onFulfilled, onRejected) {\n        PerformPromiseThen(PerformPromiseThen(promise, onFulfilled, onRejected), void 0, rethrowAssertionErrorRejection);\n      }\n      function uponFulfillment(promise, onFulfilled) {\n        uponPromise(promise, onFulfilled);\n      }\n      function uponRejection(promise, onRejected) {\n        uponPromise(promise, void 0, onRejected);\n      }\n      function transformPromiseWith(promise, fulfillmentHandler, rejectionHandler) {\n        return PerformPromiseThen(promise, fulfillmentHandler, rejectionHandler);\n      }\n      function setPromiseIsHandledToTrue(promise) {\n        PerformPromiseThen(promise, void 0, rethrowAssertionErrorRejection);\n      }\n      const queueMicrotask = (() => {\n        const globalQueueMicrotask = globals && globals.queueMicrotask;\n        if (typeof globalQueueMicrotask === \"function\") {\n          return globalQueueMicrotask;\n        }\n        const resolvedPromise = promiseResolvedWith(void 0);\n        return (fn) => PerformPromiseThen(resolvedPromise, fn);\n      })();\n      function reflectCall(F2, V, args) {\n        if (typeof F2 !== \"function\") {\n          throw new TypeError(\"Argument is not a function\");\n        }\n        return Function.prototype.apply.call(F2, V, args);\n      }\n      function promiseCall(F2, V, args) {\n        try {\n          return promiseResolvedWith(reflectCall(F2, V, args));\n        } catch (value) {\n          return promiseRejectedWith(value);\n        }\n      }\n      const QUEUE_MAX_ARRAY_SIZE = 16384;\n      class SimpleQueue {\n        constructor() {\n          this._cursor = 0;\n          this._size = 0;\n          this._front = {\n            _elements: [],\n            _next: void 0\n          };\n          this._back = this._front;\n          this._cursor = 0;\n          this._size = 0;\n        }\n        get length() {\n          return this._size;\n        }\n        push(element) {\n          const oldBack = this._back;\n          let newBack = oldBack;\n          if (oldBack._elements.length === QUEUE_MAX_ARRAY_SIZE - 1) {\n            newBack = {\n              _elements: [],\n              _next: void 0\n            };\n          }\n          oldBack._elements.push(element);\n          if (newBack !== oldBack) {\n            this._back = newBack;\n            oldBack._next = newBack;\n          }\n          ++this._size;\n        }\n        shift() {\n          const oldFront = this._front;\n          let newFront = oldFront;\n          const oldCursor = this._cursor;\n          let newCursor = oldCursor + 1;\n          const elements = oldFront._elements;\n          const element = elements[oldCursor];\n          if (newCursor === QUEUE_MAX_ARRAY_SIZE) {\n            newFront = oldFront._next;\n            newCursor = 0;\n          }\n          --this._size;\n          this._cursor = newCursor;\n          if (oldFront !== newFront) {\n            this._front = newFront;\n          }\n          elements[oldCursor] = void 0;\n          return element;\n        }\n        forEach(callback) {\n          let i2 = this._cursor;\n          let node = this._front;\n          let elements = node._elements;\n          while (i2 !== elements.length || node._next !== void 0) {\n            if (i2 === elements.length) {\n              node = node._next;\n              elements = node._elements;\n              i2 = 0;\n              if (elements.length === 0) {\n                break;\n              }\n            }\n            callback(elements[i2]);\n            ++i2;\n          }\n        }\n        peek() {\n          const front = this._front;\n          const cursor = this._cursor;\n          return front._elements[cursor];\n        }\n      }\n      function ReadableStreamReaderGenericInitialize(reader, stream) {\n        reader._ownerReadableStream = stream;\n        stream._reader = reader;\n        if (stream._state === \"readable\") {\n          defaultReaderClosedPromiseInitialize(reader);\n        } else if (stream._state === \"closed\") {\n          defaultReaderClosedPromiseInitializeAsResolved(reader);\n        } else {\n          defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n        }\n      }\n      function ReadableStreamReaderGenericCancel(reader, reason) {\n        const stream = reader._ownerReadableStream;\n        return ReadableStreamCancel(stream, reason);\n      }\n      function ReadableStreamReaderGenericRelease(reader) {\n        if (reader._ownerReadableStream._state === \"readable\") {\n          defaultReaderClosedPromiseReject(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n        } else {\n          defaultReaderClosedPromiseResetToRejected(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n        }\n        reader._ownerReadableStream._reader = void 0;\n        reader._ownerReadableStream = void 0;\n      }\n      function readerLockException(name) {\n        return new TypeError(\"Cannot \" + name + \" a stream using a released reader\");\n      }\n      function defaultReaderClosedPromiseInitialize(reader) {\n        reader._closedPromise = newPromise((resolve, reject) => {\n          reader._closedPromise_resolve = resolve;\n          reader._closedPromise_reject = reject;\n        });\n      }\n      function defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseReject(reader, reason);\n      }\n      function defaultReaderClosedPromiseInitializeAsResolved(reader) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseResolve(reader);\n      }\n      function defaultReaderClosedPromiseReject(reader, reason) {\n        if (reader._closedPromise_reject === void 0) {\n          return;\n        }\n        setPromiseIsHandledToTrue(reader._closedPromise);\n        reader._closedPromise_reject(reason);\n        reader._closedPromise_resolve = void 0;\n        reader._closedPromise_reject = void 0;\n      }\n      function defaultReaderClosedPromiseResetToRejected(reader, reason) {\n        defaultReaderClosedPromiseInitializeAsRejected(reader, reason);\n      }\n      function defaultReaderClosedPromiseResolve(reader) {\n        if (reader._closedPromise_resolve === void 0) {\n          return;\n        }\n        reader._closedPromise_resolve(void 0);\n        reader._closedPromise_resolve = void 0;\n        reader._closedPromise_reject = void 0;\n      }\n      const AbortSteps = SymbolPolyfill(\"[[AbortSteps]]\");\n      const ErrorSteps = SymbolPolyfill(\"[[ErrorSteps]]\");\n      const CancelSteps = SymbolPolyfill(\"[[CancelSteps]]\");\n      const PullSteps = SymbolPolyfill(\"[[PullSteps]]\");\n      const NumberIsFinite = Number.isFinite || function(x2) {\n        return typeof x2 === \"number\" && isFinite(x2);\n      };\n      const MathTrunc = Math.trunc || function(v) {\n        return v < 0 ? Math.ceil(v) : Math.floor(v);\n      };\n      function isDictionary(x2) {\n        return typeof x2 === \"object\" || typeof x2 === \"function\";\n      }\n      function assertDictionary(obj, context) {\n        if (obj !== void 0 && !isDictionary(obj)) {\n          throw new TypeError(`${context} is not an object.`);\n        }\n      }\n      function assertFunction(x2, context) {\n        if (typeof x2 !== \"function\") {\n          throw new TypeError(`${context} is not a function.`);\n        }\n      }\n      function isObject(x2) {\n        return typeof x2 === \"object\" && x2 !== null || typeof x2 === \"function\";\n      }\n      function assertObject(x2, context) {\n        if (!isObject(x2)) {\n          throw new TypeError(`${context} is not an object.`);\n        }\n      }\n      function assertRequiredArgument(x2, position, context) {\n        if (x2 === void 0) {\n          throw new TypeError(`Parameter ${position} is required in '${context}'.`);\n        }\n      }\n      function assertRequiredField(x2, field, context) {\n        if (x2 === void 0) {\n          throw new TypeError(`${field} is required in '${context}'.`);\n        }\n      }\n      function convertUnrestrictedDouble(value) {\n        return Number(value);\n      }\n      function censorNegativeZero(x2) {\n        return x2 === 0 ? 0 : x2;\n      }\n      function integerPart(x2) {\n        return censorNegativeZero(MathTrunc(x2));\n      }\n      function convertUnsignedLongLongWithEnforceRange(value, context) {\n        const lowerBound = 0;\n        const upperBound = Number.MAX_SAFE_INTEGER;\n        let x2 = Number(value);\n        x2 = censorNegativeZero(x2);\n        if (!NumberIsFinite(x2)) {\n          throw new TypeError(`${context} is not a finite number`);\n        }\n        x2 = integerPart(x2);\n        if (x2 < lowerBound || x2 > upperBound) {\n          throw new TypeError(`${context} is outside the accepted range of ${lowerBound} to ${upperBound}, inclusive`);\n        }\n        if (!NumberIsFinite(x2) || x2 === 0) {\n          return 0;\n        }\n        return x2;\n      }\n      function assertReadableStream(x2, context) {\n        if (!IsReadableStream(x2)) {\n          throw new TypeError(`${context} is not a ReadableStream.`);\n        }\n      }\n      function AcquireReadableStreamDefaultReader(stream) {\n        return new ReadableStreamDefaultReader(stream);\n      }\n      function ReadableStreamAddReadRequest(stream, readRequest) {\n        stream._reader._readRequests.push(readRequest);\n      }\n      function ReadableStreamFulfillReadRequest(stream, chunk, done) {\n        const reader = stream._reader;\n        const readRequest = reader._readRequests.shift();\n        if (done) {\n          readRequest._closeSteps();\n        } else {\n          readRequest._chunkSteps(chunk);\n        }\n      }\n      function ReadableStreamGetNumReadRequests(stream) {\n        return stream._reader._readRequests.length;\n      }\n      function ReadableStreamHasDefaultReader(stream) {\n        const reader = stream._reader;\n        if (reader === void 0) {\n          return false;\n        }\n        if (!IsReadableStreamDefaultReader(reader)) {\n          return false;\n        }\n        return true;\n      }\n      class ReadableStreamDefaultReader {\n        constructor(stream) {\n          assertRequiredArgument(stream, 1, \"ReadableStreamDefaultReader\");\n          assertReadableStream(stream, \"First parameter\");\n          if (IsReadableStreamLocked(stream)) {\n            throw new TypeError(\"This stream has already been locked for exclusive reading by another reader\");\n          }\n          ReadableStreamReaderGenericInitialize(this, stream);\n          this._readRequests = new SimpleQueue();\n        }\n        get closed() {\n          if (!IsReadableStreamDefaultReader(this)) {\n            return promiseRejectedWith(defaultReaderBrandCheckException(\"closed\"));\n          }\n          return this._closedPromise;\n        }\n        cancel(reason = void 0) {\n          if (!IsReadableStreamDefaultReader(this)) {\n            return promiseRejectedWith(defaultReaderBrandCheckException(\"cancel\"));\n          }\n          if (this._ownerReadableStream === void 0) {\n            return promiseRejectedWith(readerLockException(\"cancel\"));\n          }\n          return ReadableStreamReaderGenericCancel(this, reason);\n        }\n        read() {\n          if (!IsReadableStreamDefaultReader(this)) {\n            return promiseRejectedWith(defaultReaderBrandCheckException(\"read\"));\n          }\n          if (this._ownerReadableStream === void 0) {\n            return promiseRejectedWith(readerLockException(\"read from\"));\n          }\n          let resolvePromise;\n          let rejectPromise;\n          const promise = newPromise((resolve, reject) => {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n          });\n          const readRequest = {\n            _chunkSteps: (chunk) => resolvePromise({ value: chunk, done: false }),\n            _closeSteps: () => resolvePromise({ value: void 0, done: true }),\n            _errorSteps: (e2) => rejectPromise(e2)\n          };\n          ReadableStreamDefaultReaderRead(this, readRequest);\n          return promise;\n        }\n        releaseLock() {\n          if (!IsReadableStreamDefaultReader(this)) {\n            throw defaultReaderBrandCheckException(\"releaseLock\");\n          }\n          if (this._ownerReadableStream === void 0) {\n            return;\n          }\n          if (this._readRequests.length > 0) {\n            throw new TypeError(\"Tried to release a reader lock when that reader has pending read() calls un-settled\");\n          }\n          ReadableStreamReaderGenericRelease(this);\n        }\n      }\n      Object.defineProperties(ReadableStreamDefaultReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(ReadableStreamDefaultReader.prototype, SymbolPolyfill.toStringTag, {\n          value: \"ReadableStreamDefaultReader\",\n          configurable: true\n        });\n      }\n      function IsReadableStreamDefaultReader(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_readRequests\")) {\n          return false;\n        }\n        return x2 instanceof ReadableStreamDefaultReader;\n      }\n      function ReadableStreamDefaultReaderRead(reader, readRequest) {\n        const stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === \"closed\") {\n          readRequest._closeSteps();\n        } else if (stream._state === \"errored\") {\n          readRequest._errorSteps(stream._storedError);\n        } else {\n          stream._readableStreamController[PullSteps](readRequest);\n        }\n      }\n      function defaultReaderBrandCheckException(name) {\n        return new TypeError(`ReadableStreamDefaultReader.prototype.${name} can only be used on a ReadableStreamDefaultReader`);\n      }\n      const AsyncIteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf(async function* () {\n      }).prototype);\n      class ReadableStreamAsyncIteratorImpl {\n        constructor(reader, preventCancel) {\n          this._ongoingPromise = void 0;\n          this._isFinished = false;\n          this._reader = reader;\n          this._preventCancel = preventCancel;\n        }\n        next() {\n          const nextSteps = () => this._nextSteps();\n          this._ongoingPromise = this._ongoingPromise ? transformPromiseWith(this._ongoingPromise, nextSteps, nextSteps) : nextSteps();\n          return this._ongoingPromise;\n        }\n        return(value) {\n          const returnSteps = () => this._returnSteps(value);\n          return this._ongoingPromise ? transformPromiseWith(this._ongoingPromise, returnSteps, returnSteps) : returnSteps();\n        }\n        _nextSteps() {\n          if (this._isFinished) {\n            return Promise.resolve({ value: void 0, done: true });\n          }\n          const reader = this._reader;\n          if (reader._ownerReadableStream === void 0) {\n            return promiseRejectedWith(readerLockException(\"iterate\"));\n          }\n          let resolvePromise;\n          let rejectPromise;\n          const promise = newPromise((resolve, reject) => {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n          });\n          const readRequest = {\n            _chunkSteps: (chunk) => {\n              this._ongoingPromise = void 0;\n              queueMicrotask(() => resolvePromise({ value: chunk, done: false }));\n            },\n            _closeSteps: () => {\n              this._ongoingPromise = void 0;\n              this._isFinished = true;\n              ReadableStreamReaderGenericRelease(reader);\n              resolvePromise({ value: void 0, done: true });\n            },\n            _errorSteps: (reason) => {\n              this._ongoingPromise = void 0;\n              this._isFinished = true;\n              ReadableStreamReaderGenericRelease(reader);\n              rejectPromise(reason);\n            }\n          };\n          ReadableStreamDefaultReaderRead(reader, readRequest);\n          return promise;\n        }\n        _returnSteps(value) {\n          if (this._isFinished) {\n            return Promise.resolve({ value, done: true });\n          }\n          this._isFinished = true;\n          const reader = this._reader;\n          if (reader._ownerReadableStream === void 0) {\n            return promiseRejectedWith(readerLockException(\"finish iterating\"));\n          }\n          if (!this._preventCancel) {\n            const result = ReadableStreamReaderGenericCancel(reader, value);\n            ReadableStreamReaderGenericRelease(reader);\n            return transformPromiseWith(result, () => ({ value, done: true }));\n          }\n          ReadableStreamReaderGenericRelease(reader);\n          return promiseResolvedWith({ value, done: true });\n        }\n      }\n      const ReadableStreamAsyncIteratorPrototype = {\n        next() {\n          if (!IsReadableStreamAsyncIterator(this)) {\n            return promiseRejectedWith(streamAsyncIteratorBrandCheckException(\"next\"));\n          }\n          return this._asyncIteratorImpl.next();\n        },\n        return(value) {\n          if (!IsReadableStreamAsyncIterator(this)) {\n            return promiseRejectedWith(streamAsyncIteratorBrandCheckException(\"return\"));\n          }\n          return this._asyncIteratorImpl.return(value);\n        }\n      };\n      if (AsyncIteratorPrototype !== void 0) {\n        Object.setPrototypeOf(ReadableStreamAsyncIteratorPrototype, AsyncIteratorPrototype);\n      }\n      function AcquireReadableStreamAsyncIterator(stream, preventCancel) {\n        const reader = AcquireReadableStreamDefaultReader(stream);\n        const impl = new ReadableStreamAsyncIteratorImpl(reader, preventCancel);\n        const iterator = Object.create(ReadableStreamAsyncIteratorPrototype);\n        iterator._asyncIteratorImpl = impl;\n        return iterator;\n      }\n      function IsReadableStreamAsyncIterator(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_asyncIteratorImpl\")) {\n          return false;\n        }\n        try {\n          return x2._asyncIteratorImpl instanceof ReadableStreamAsyncIteratorImpl;\n        } catch (_a) {\n          return false;\n        }\n      }\n      function streamAsyncIteratorBrandCheckException(name) {\n        return new TypeError(`ReadableStreamAsyncIterator.${name} can only be used on a ReadableSteamAsyncIterator`);\n      }\n      const NumberIsNaN = Number.isNaN || function(x2) {\n        return x2 !== x2;\n      };\n      function CreateArrayFromList(elements) {\n        return elements.slice();\n      }\n      function CopyDataBlockBytes(dest, destOffset, src, srcOffset, n) {\n        new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n      }\n      function TransferArrayBuffer(O) {\n        return O;\n      }\n      function IsDetachedBuffer(O) {\n        return false;\n      }\n      function ArrayBufferSlice(buffer, begin, end) {\n        if (buffer.slice) {\n          return buffer.slice(begin, end);\n        }\n        const length = end - begin;\n        const slice = new ArrayBuffer(length);\n        CopyDataBlockBytes(slice, 0, buffer, begin, length);\n        return slice;\n      }\n      function IsNonNegativeNumber(v) {\n        if (typeof v !== \"number\") {\n          return false;\n        }\n        if (NumberIsNaN(v)) {\n          return false;\n        }\n        if (v < 0) {\n          return false;\n        }\n        return true;\n      }\n      function CloneAsUint8Array(O) {\n        const buffer = ArrayBufferSlice(O.buffer, O.byteOffset, O.byteOffset + O.byteLength);\n        return new Uint8Array(buffer);\n      }\n      function DequeueValue(container) {\n        const pair = container._queue.shift();\n        container._queueTotalSize -= pair.size;\n        if (container._queueTotalSize < 0) {\n          container._queueTotalSize = 0;\n        }\n        return pair.value;\n      }\n      function EnqueueValueWithSize(container, value, size) {\n        if (!IsNonNegativeNumber(size) || size === Infinity) {\n          throw new RangeError(\"Size must be a finite, non-NaN, non-negative number.\");\n        }\n        container._queue.push({ value, size });\n        container._queueTotalSize += size;\n      }\n      function PeekQueueValue(container) {\n        const pair = container._queue.peek();\n        return pair.value;\n      }\n      function ResetQueue(container) {\n        container._queue = new SimpleQueue();\n        container._queueTotalSize = 0;\n      }\n      class ReadableStreamBYOBRequest {\n        constructor() {\n          throw new TypeError(\"Illegal constructor\");\n        }\n        get view() {\n          if (!IsReadableStreamBYOBRequest(this)) {\n            throw byobRequestBrandCheckException(\"view\");\n          }\n          return this._view;\n        }\n        respond(bytesWritten) {\n          if (!IsReadableStreamBYOBRequest(this)) {\n            throw byobRequestBrandCheckException(\"respond\");\n          }\n          assertRequiredArgument(bytesWritten, 1, \"respond\");\n          bytesWritten = convertUnsignedLongLongWithEnforceRange(bytesWritten, \"First parameter\");\n          if (this._associatedReadableByteStreamController === void 0) {\n            throw new TypeError(\"This BYOB request has been invalidated\");\n          }\n          if (IsDetachedBuffer(this._view.buffer))\n            ;\n          ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n        }\n        respondWithNewView(view) {\n          if (!IsReadableStreamBYOBRequest(this)) {\n            throw byobRequestBrandCheckException(\"respondWithNewView\");\n          }\n          assertRequiredArgument(view, 1, \"respondWithNewView\");\n          if (!ArrayBuffer.isView(view)) {\n            throw new TypeError(\"You can only respond with array buffer views\");\n          }\n          if (this._associatedReadableByteStreamController === void 0) {\n            throw new TypeError(\"This BYOB request has been invalidated\");\n          }\n          if (IsDetachedBuffer(view.buffer))\n            ;\n          ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n        }\n      }\n      Object.defineProperties(ReadableStreamBYOBRequest.prototype, {\n        respond: { enumerable: true },\n        respondWithNewView: { enumerable: true },\n        view: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(ReadableStreamBYOBRequest.prototype, SymbolPolyfill.toStringTag, {\n          value: \"ReadableStreamBYOBRequest\",\n          configurable: true\n        });\n      }\n      class ReadableByteStreamController {\n        constructor() {\n          throw new TypeError(\"Illegal constructor\");\n        }\n        get byobRequest() {\n          if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException(\"byobRequest\");\n          }\n          return ReadableByteStreamControllerGetBYOBRequest(this);\n        }\n        get desiredSize() {\n          if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException(\"desiredSize\");\n          }\n          return ReadableByteStreamControllerGetDesiredSize(this);\n        }\n        close() {\n          if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException(\"close\");\n          }\n          if (this._closeRequested) {\n            throw new TypeError(\"The stream has already been closed; do not close it again!\");\n          }\n          const state = this._controlledReadableByteStream._state;\n          if (state !== \"readable\") {\n            throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be closed`);\n          }\n          ReadableByteStreamControllerClose(this);\n        }\n        enqueue(chunk) {\n          if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException(\"enqueue\");\n          }\n          assertRequiredArgument(chunk, 1, \"enqueue\");\n          if (!ArrayBuffer.isView(chunk)) {\n            throw new TypeError(\"chunk must be an array buffer view\");\n          }\n          if (chunk.byteLength === 0) {\n            throw new TypeError(\"chunk must have non-zero byteLength\");\n          }\n          if (chunk.buffer.byteLength === 0) {\n            throw new TypeError(`chunk's buffer must have non-zero byteLength`);\n          }\n          if (this._closeRequested) {\n            throw new TypeError(\"stream is closed or draining\");\n          }\n          const state = this._controlledReadableByteStream._state;\n          if (state !== \"readable\") {\n            throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be enqueued to`);\n          }\n          ReadableByteStreamControllerEnqueue(this, chunk);\n        }\n        error(e2 = void 0) {\n          if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException(\"error\");\n          }\n          ReadableByteStreamControllerError(this, e2);\n        }\n        [CancelSteps](reason) {\n          ReadableByteStreamControllerClearPendingPullIntos(this);\n          ResetQueue(this);\n          const result = this._cancelAlgorithm(reason);\n          ReadableByteStreamControllerClearAlgorithms(this);\n          return result;\n        }\n        [PullSteps](readRequest) {\n          const stream = this._controlledReadableByteStream;\n          if (this._queueTotalSize > 0) {\n            const entry = this._queue.shift();\n            this._queueTotalSize -= entry.byteLength;\n            ReadableByteStreamControllerHandleQueueDrain(this);\n            const view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n            readRequest._chunkSteps(view);\n            return;\n          }\n          const autoAllocateChunkSize = this._autoAllocateChunkSize;\n          if (autoAllocateChunkSize !== void 0) {\n            let buffer;\n            try {\n              buffer = new ArrayBuffer(autoAllocateChunkSize);\n            } catch (bufferE) {\n              readRequest._errorSteps(bufferE);\n              return;\n            }\n            const pullIntoDescriptor = {\n              buffer,\n              bufferByteLength: autoAllocateChunkSize,\n              byteOffset: 0,\n              byteLength: autoAllocateChunkSize,\n              bytesFilled: 0,\n              elementSize: 1,\n              viewConstructor: Uint8Array,\n              readerType: \"default\"\n            };\n            this._pendingPullIntos.push(pullIntoDescriptor);\n          }\n          ReadableStreamAddReadRequest(stream, readRequest);\n          ReadableByteStreamControllerCallPullIfNeeded(this);\n        }\n      }\n      Object.defineProperties(ReadableByteStreamController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        byobRequest: { enumerable: true },\n        desiredSize: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(ReadableByteStreamController.prototype, SymbolPolyfill.toStringTag, {\n          value: \"ReadableByteStreamController\",\n          configurable: true\n        });\n      }\n      function IsReadableByteStreamController(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_controlledReadableByteStream\")) {\n          return false;\n        }\n        return x2 instanceof ReadableByteStreamController;\n      }\n      function IsReadableStreamBYOBRequest(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_associatedReadableByteStreamController\")) {\n          return false;\n        }\n        return x2 instanceof ReadableStreamBYOBRequest;\n      }\n      function ReadableByteStreamControllerCallPullIfNeeded(controller) {\n        const shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n        if (!shouldPull) {\n          return;\n        }\n        if (controller._pulling) {\n          controller._pullAgain = true;\n          return;\n        }\n        controller._pulling = true;\n        const pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, () => {\n          controller._pulling = false;\n          if (controller._pullAgain) {\n            controller._pullAgain = false;\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n          }\n        }, (e2) => {\n          ReadableByteStreamControllerError(controller, e2);\n        });\n      }\n      function ReadableByteStreamControllerClearPendingPullIntos(controller) {\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        controller._pendingPullIntos = new SimpleQueue();\n      }\n      function ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n        let done = false;\n        if (stream._state === \"closed\") {\n          done = true;\n        }\n        const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n        if (pullIntoDescriptor.readerType === \"default\") {\n          ReadableStreamFulfillReadRequest(stream, filledView, done);\n        } else {\n          ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n        }\n      }\n      function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n        const bytesFilled = pullIntoDescriptor.bytesFilled;\n        const elementSize = pullIntoDescriptor.elementSize;\n        return new pullIntoDescriptor.viewConstructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n      }\n      function ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n        controller._queue.push({ buffer, byteOffset, byteLength });\n        controller._queueTotalSize += byteLength;\n      }\n      function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n        const elementSize = pullIntoDescriptor.elementSize;\n        const currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n        const maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n        const maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n        const maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n        let totalBytesToCopyRemaining = maxBytesToCopy;\n        let ready = false;\n        if (maxAlignedBytes > currentAlignedBytes) {\n          totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n          ready = true;\n        }\n        const queue = controller._queue;\n        while (totalBytesToCopyRemaining > 0) {\n          const headOfQueue = queue.peek();\n          const bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n          const destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n          CopyDataBlockBytes(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n          if (headOfQueue.byteLength === bytesToCopy) {\n            queue.shift();\n          } else {\n            headOfQueue.byteOffset += bytesToCopy;\n            headOfQueue.byteLength -= bytesToCopy;\n          }\n          controller._queueTotalSize -= bytesToCopy;\n          ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n          totalBytesToCopyRemaining -= bytesToCopy;\n        }\n        return ready;\n      }\n      function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n        pullIntoDescriptor.bytesFilled += size;\n      }\n      function ReadableByteStreamControllerHandleQueueDrain(controller) {\n        if (controller._queueTotalSize === 0 && controller._closeRequested) {\n          ReadableByteStreamControllerClearAlgorithms(controller);\n          ReadableStreamClose(controller._controlledReadableByteStream);\n        } else {\n          ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }\n      }\n      function ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n        if (controller._byobRequest === null) {\n          return;\n        }\n        controller._byobRequest._associatedReadableByteStreamController = void 0;\n        controller._byobRequest._view = null;\n        controller._byobRequest = null;\n      }\n      function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n        while (controller._pendingPullIntos.length > 0) {\n          if (controller._queueTotalSize === 0) {\n            return;\n          }\n          const pullIntoDescriptor = controller._pendingPullIntos.peek();\n          if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n            ReadableByteStreamControllerShiftPendingPullInto(controller);\n            ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n          }\n        }\n      }\n      function ReadableByteStreamControllerPullInto(controller, view, readIntoRequest) {\n        const stream = controller._controlledReadableByteStream;\n        let elementSize = 1;\n        if (view.constructor !== DataView) {\n          elementSize = view.constructor.BYTES_PER_ELEMENT;\n        }\n        const ctor = view.constructor;\n        const buffer = TransferArrayBuffer(view.buffer);\n        const pullIntoDescriptor = {\n          buffer,\n          bufferByteLength: buffer.byteLength,\n          byteOffset: view.byteOffset,\n          byteLength: view.byteLength,\n          bytesFilled: 0,\n          elementSize,\n          viewConstructor: ctor,\n          readerType: \"byob\"\n        };\n        if (controller._pendingPullIntos.length > 0) {\n          controller._pendingPullIntos.push(pullIntoDescriptor);\n          ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n          return;\n        }\n        if (stream._state === \"closed\") {\n          const emptyView = new ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n          readIntoRequest._closeSteps(emptyView);\n          return;\n        }\n        if (controller._queueTotalSize > 0) {\n          if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n            const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n            ReadableByteStreamControllerHandleQueueDrain(controller);\n            readIntoRequest._chunkSteps(filledView);\n            return;\n          }\n          if (controller._closeRequested) {\n            const e2 = new TypeError(\"Insufficient bytes to fill elements in the given buffer\");\n            ReadableByteStreamControllerError(controller, e2);\n            readIntoRequest._errorSteps(e2);\n            return;\n          }\n        }\n        controller._pendingPullIntos.push(pullIntoDescriptor);\n        ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n      }\n      function ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n        const stream = controller._controlledReadableByteStream;\n        if (ReadableStreamHasBYOBReader(stream)) {\n          while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n            const pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n            ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n          }\n        }\n      }\n      function ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n        ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n        if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n          return;\n        }\n        ReadableByteStreamControllerShiftPendingPullInto(controller);\n        const remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n        if (remainderSize > 0) {\n          const end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n          const remainder = ArrayBufferSlice(pullIntoDescriptor.buffer, end - remainderSize, end);\n          ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n        }\n        pullIntoDescriptor.bytesFilled -= remainderSize;\n        ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n        ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n      }\n      function ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        const state = controller._controlledReadableByteStream._state;\n        if (state === \"closed\") {\n          ReadableByteStreamControllerRespondInClosedState(controller);\n        } else {\n          ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n      }\n      function ReadableByteStreamControllerShiftPendingPullInto(controller) {\n        const descriptor = controller._pendingPullIntos.shift();\n        return descriptor;\n      }\n      function ReadableByteStreamControllerShouldCallPull(controller) {\n        const stream = controller._controlledReadableByteStream;\n        if (stream._state !== \"readable\") {\n          return false;\n        }\n        if (controller._closeRequested) {\n          return false;\n        }\n        if (!controller._started) {\n          return false;\n        }\n        if (ReadableStreamHasDefaultReader(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n          return true;\n        }\n        if (ReadableStreamHasBYOBReader(stream) && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n          return true;\n        }\n        const desiredSize = ReadableByteStreamControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n          return true;\n        }\n        return false;\n      }\n      function ReadableByteStreamControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = void 0;\n        controller._cancelAlgorithm = void 0;\n      }\n      function ReadableByteStreamControllerClose(controller) {\n        const stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== \"readable\") {\n          return;\n        }\n        if (controller._queueTotalSize > 0) {\n          controller._closeRequested = true;\n          return;\n        }\n        if (controller._pendingPullIntos.length > 0) {\n          const firstPendingPullInto = controller._pendingPullIntos.peek();\n          if (firstPendingPullInto.bytesFilled > 0) {\n            const e2 = new TypeError(\"Insufficient bytes to fill elements in the given buffer\");\n            ReadableByteStreamControllerError(controller, e2);\n            throw e2;\n          }\n        }\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamClose(stream);\n      }\n      function ReadableByteStreamControllerEnqueue(controller, chunk) {\n        const stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== \"readable\") {\n          return;\n        }\n        const buffer = chunk.buffer;\n        const byteOffset = chunk.byteOffset;\n        const byteLength = chunk.byteLength;\n        const transferredBuffer = TransferArrayBuffer(buffer);\n        if (controller._pendingPullIntos.length > 0) {\n          const firstPendingPullInto = controller._pendingPullIntos.peek();\n          if (IsDetachedBuffer(firstPendingPullInto.buffer))\n            ;\n          firstPendingPullInto.buffer = TransferArrayBuffer(firstPendingPullInto.buffer);\n        }\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        if (ReadableStreamHasDefaultReader(stream)) {\n          if (ReadableStreamGetNumReadRequests(stream) === 0) {\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n          } else {\n            if (controller._pendingPullIntos.length > 0) {\n              ReadableByteStreamControllerShiftPendingPullInto(controller);\n            }\n            const transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n            ReadableStreamFulfillReadRequest(stream, transferredView, false);\n          }\n        } else if (ReadableStreamHasBYOBReader(stream)) {\n          ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n          ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n        } else {\n          ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n      }\n      function ReadableByteStreamControllerError(controller, e2) {\n        const stream = controller._controlledReadableByteStream;\n        if (stream._state !== \"readable\") {\n          return;\n        }\n        ReadableByteStreamControllerClearPendingPullIntos(controller);\n        ResetQueue(controller);\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e2);\n      }\n      function ReadableByteStreamControllerGetBYOBRequest(controller) {\n        if (controller._byobRequest === null && controller._pendingPullIntos.length > 0) {\n          const firstDescriptor = controller._pendingPullIntos.peek();\n          const view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n          const byobRequest = Object.create(ReadableStreamBYOBRequest.prototype);\n          SetUpReadableStreamBYOBRequest(byobRequest, controller, view);\n          controller._byobRequest = byobRequest;\n        }\n        return controller._byobRequest;\n      }\n      function ReadableByteStreamControllerGetDesiredSize(controller) {\n        const state = controller._controlledReadableByteStream._state;\n        if (state === \"errored\") {\n          return null;\n        }\n        if (state === \"closed\") {\n          return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n      }\n      function ReadableByteStreamControllerRespond(controller, bytesWritten) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        const state = controller._controlledReadableByteStream._state;\n        if (state === \"closed\") {\n          if (bytesWritten !== 0) {\n            throw new TypeError(\"bytesWritten must be 0 when calling respond() on a closed stream\");\n          }\n        } else {\n          if (bytesWritten === 0) {\n            throw new TypeError(\"bytesWritten must be greater than 0 when calling respond() on a readable stream\");\n          }\n          if (firstDescriptor.bytesFilled + bytesWritten > firstDescriptor.byteLength) {\n            throw new RangeError(\"bytesWritten out of range\");\n          }\n        }\n        firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n      }\n      function ReadableByteStreamControllerRespondWithNewView(controller, view) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        const state = controller._controlledReadableByteStream._state;\n        if (state === \"closed\") {\n          if (view.byteLength !== 0) {\n            throw new TypeError(\"The view's length must be 0 when calling respondWithNewView() on a closed stream\");\n          }\n        } else {\n          if (view.byteLength === 0) {\n            throw new TypeError(\"The view's length must be greater than 0 when calling respondWithNewView() on a readable stream\");\n          }\n        }\n        if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n          throw new RangeError(\"The region specified by view does not match byobRequest\");\n        }\n        if (firstDescriptor.bufferByteLength !== view.buffer.byteLength) {\n          throw new RangeError(\"The buffer of view has different capacity than byobRequest\");\n        }\n        if (firstDescriptor.bytesFilled + view.byteLength > firstDescriptor.byteLength) {\n          throw new RangeError(\"The region specified by view is larger than byobRequest\");\n        }\n        const viewByteLength = view.byteLength;\n        firstDescriptor.buffer = TransferArrayBuffer(view.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, viewByteLength);\n      }\n      function SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize) {\n        controller._controlledReadableByteStream = stream;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._byobRequest = null;\n        controller._queue = controller._queueTotalSize = void 0;\n        ResetQueue(controller);\n        controller._closeRequested = false;\n        controller._started = false;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        controller._autoAllocateChunkSize = autoAllocateChunkSize;\n        controller._pendingPullIntos = new SimpleQueue();\n        stream._readableStreamController = controller;\n        const startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), () => {\n          controller._started = true;\n          ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }, (r2) => {\n          ReadableByteStreamControllerError(controller, r2);\n        });\n      }\n      function SetUpReadableByteStreamControllerFromUnderlyingSource(stream, underlyingByteSource, highWaterMark) {\n        const controller = Object.create(ReadableByteStreamController.prototype);\n        let startAlgorithm = () => void 0;\n        let pullAlgorithm = () => promiseResolvedWith(void 0);\n        let cancelAlgorithm = () => promiseResolvedWith(void 0);\n        if (underlyingByteSource.start !== void 0) {\n          startAlgorithm = () => underlyingByteSource.start(controller);\n        }\n        if (underlyingByteSource.pull !== void 0) {\n          pullAlgorithm = () => underlyingByteSource.pull(controller);\n        }\n        if (underlyingByteSource.cancel !== void 0) {\n          cancelAlgorithm = (reason) => underlyingByteSource.cancel(reason);\n        }\n        const autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n        if (autoAllocateChunkSize === 0) {\n          throw new TypeError(\"autoAllocateChunkSize must be greater than 0\");\n        }\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize);\n      }\n      function SetUpReadableStreamBYOBRequest(request, controller, view) {\n        request._associatedReadableByteStreamController = controller;\n        request._view = view;\n      }\n      function byobRequestBrandCheckException(name) {\n        return new TypeError(`ReadableStreamBYOBRequest.prototype.${name} can only be used on a ReadableStreamBYOBRequest`);\n      }\n      function byteStreamControllerBrandCheckException(name) {\n        return new TypeError(`ReadableByteStreamController.prototype.${name} can only be used on a ReadableByteStreamController`);\n      }\n      function AcquireReadableStreamBYOBReader(stream) {\n        return new ReadableStreamBYOBReader(stream);\n      }\n      function ReadableStreamAddReadIntoRequest(stream, readIntoRequest) {\n        stream._reader._readIntoRequests.push(readIntoRequest);\n      }\n      function ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n        const reader = stream._reader;\n        const readIntoRequest = reader._readIntoRequests.shift();\n        if (done) {\n          readIntoRequest._closeSteps(chunk);\n        } else {\n          readIntoRequest._chunkSteps(chunk);\n        }\n      }\n      function ReadableStreamGetNumReadIntoRequests(stream) {\n        return stream._reader._readIntoRequests.length;\n      }\n      function ReadableStreamHasBYOBReader(stream) {\n        const reader = stream._reader;\n        if (reader === void 0) {\n          return false;\n        }\n        if (!IsReadableStreamBYOBReader(reader)) {\n          return false;\n        }\n        return true;\n      }\n      class ReadableStreamBYOBReader {\n        constructor(stream) {\n          assertRequiredArgument(stream, 1, \"ReadableStreamBYOBReader\");\n          assertReadableStream(stream, \"First parameter\");\n          if (IsReadableStreamLocked(stream)) {\n            throw new TypeError(\"This stream has already been locked for exclusive reading by another reader\");\n          }\n          if (!IsReadableByteStreamController(stream._readableStreamController)) {\n            throw new TypeError(\"Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source\");\n          }\n          ReadableStreamReaderGenericInitialize(this, stream);\n          this._readIntoRequests = new SimpleQueue();\n        }\n        get closed() {\n          if (!IsReadableStreamBYOBReader(this)) {\n            return promiseRejectedWith(byobReaderBrandCheckException(\"closed\"));\n          }\n          return this._closedPromise;\n        }\n        cancel(reason = void 0) {\n          if (!IsReadableStreamBYOBReader(this)) {\n            return promiseRejectedWith(byobReaderBrandCheckException(\"cancel\"));\n          }\n          if (this._ownerReadableStream === void 0) {\n            return promiseRejectedWith(readerLockException(\"cancel\"));\n          }\n          return ReadableStreamReaderGenericCancel(this, reason);\n        }\n        read(view) {\n          if (!IsReadableStreamBYOBReader(this)) {\n            return promiseRejectedWith(byobReaderBrandCheckException(\"read\"));\n          }\n          if (!ArrayBuffer.isView(view)) {\n            return promiseRejectedWith(new TypeError(\"view must be an array buffer view\"));\n          }\n          if (view.byteLength === 0) {\n            return promiseRejectedWith(new TypeError(\"view must have non-zero byteLength\"));\n          }\n          if (view.buffer.byteLength === 0) {\n            return promiseRejectedWith(new TypeError(`view's buffer must have non-zero byteLength`));\n          }\n          if (IsDetachedBuffer(view.buffer))\n            ;\n          if (this._ownerReadableStream === void 0) {\n            return promiseRejectedWith(readerLockException(\"read from\"));\n          }\n          let resolvePromise;\n          let rejectPromise;\n          const promise = newPromise((resolve, reject) => {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n          });\n          const readIntoRequest = {\n            _chunkSteps: (chunk) => resolvePromise({ value: chunk, done: false }),\n            _closeSteps: (chunk) => resolvePromise({ value: chunk, done: true }),\n            _errorSteps: (e2) => rejectPromise(e2)\n          };\n          ReadableStreamBYOBReaderRead(this, view, readIntoRequest);\n          return promise;\n        }\n        releaseLock() {\n          if (!IsReadableStreamBYOBReader(this)) {\n            throw byobReaderBrandCheckException(\"releaseLock\");\n          }\n          if (this._ownerReadableStream === void 0) {\n            return;\n          }\n          if (this._readIntoRequests.length > 0) {\n            throw new TypeError(\"Tried to release a reader lock when that reader has pending read() calls un-settled\");\n          }\n          ReadableStreamReaderGenericRelease(this);\n        }\n      }\n      Object.defineProperties(ReadableStreamBYOBReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(ReadableStreamBYOBReader.prototype, SymbolPolyfill.toStringTag, {\n          value: \"ReadableStreamBYOBReader\",\n          configurable: true\n        });\n      }\n      function IsReadableStreamBYOBReader(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_readIntoRequests\")) {\n          return false;\n        }\n        return x2 instanceof ReadableStreamBYOBReader;\n      }\n      function ReadableStreamBYOBReaderRead(reader, view, readIntoRequest) {\n        const stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === \"errored\") {\n          readIntoRequest._errorSteps(stream._storedError);\n        } else {\n          ReadableByteStreamControllerPullInto(stream._readableStreamController, view, readIntoRequest);\n        }\n      }\n      function byobReaderBrandCheckException(name) {\n        return new TypeError(`ReadableStreamBYOBReader.prototype.${name} can only be used on a ReadableStreamBYOBReader`);\n      }\n      function ExtractHighWaterMark(strategy, defaultHWM) {\n        const { highWaterMark } = strategy;\n        if (highWaterMark === void 0) {\n          return defaultHWM;\n        }\n        if (NumberIsNaN(highWaterMark) || highWaterMark < 0) {\n          throw new RangeError(\"Invalid highWaterMark\");\n        }\n        return highWaterMark;\n      }\n      function ExtractSizeAlgorithm(strategy) {\n        const { size } = strategy;\n        if (!size) {\n          return () => 1;\n        }\n        return size;\n      }\n      function convertQueuingStrategy(init, context) {\n        assertDictionary(init, context);\n        const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        const size = init === null || init === void 0 ? void 0 : init.size;\n        return {\n          highWaterMark: highWaterMark === void 0 ? void 0 : convertUnrestrictedDouble(highWaterMark),\n          size: size === void 0 ? void 0 : convertQueuingStrategySize(size, `${context} has member 'size' that`)\n        };\n      }\n      function convertQueuingStrategySize(fn, context) {\n        assertFunction(fn, context);\n        return (chunk) => convertUnrestrictedDouble(fn(chunk));\n      }\n      function convertUnderlyingSink(original, context) {\n        assertDictionary(original, context);\n        const abort = original === null || original === void 0 ? void 0 : original.abort;\n        const close = original === null || original === void 0 ? void 0 : original.close;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const type = original === null || original === void 0 ? void 0 : original.type;\n        const write = original === null || original === void 0 ? void 0 : original.write;\n        return {\n          abort: abort === void 0 ? void 0 : convertUnderlyingSinkAbortCallback(abort, original, `${context} has member 'abort' that`),\n          close: close === void 0 ? void 0 : convertUnderlyingSinkCloseCallback(close, original, `${context} has member 'close' that`),\n          start: start === void 0 ? void 0 : convertUnderlyingSinkStartCallback(start, original, `${context} has member 'start' that`),\n          write: write === void 0 ? void 0 : convertUnderlyingSinkWriteCallback(write, original, `${context} has member 'write' that`),\n          type\n        };\n      }\n      function convertUnderlyingSinkAbortCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (reason) => promiseCall(fn, original, [reason]);\n      }\n      function convertUnderlyingSinkCloseCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return () => promiseCall(fn, original, []);\n      }\n      function convertUnderlyingSinkStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n      }\n      function convertUnderlyingSinkWriteCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n      }\n      function assertWritableStream(x2, context) {\n        if (!IsWritableStream(x2)) {\n          throw new TypeError(`${context} is not a WritableStream.`);\n        }\n      }\n      function isAbortSignal2(value) {\n        if (typeof value !== \"object\" || value === null) {\n          return false;\n        }\n        try {\n          return typeof value.aborted === \"boolean\";\n        } catch (_a) {\n          return false;\n        }\n      }\n      const supportsAbortController = typeof AbortController === \"function\";\n      function createAbortController() {\n        if (supportsAbortController) {\n          return new AbortController();\n        }\n        return void 0;\n      }\n      class WritableStream {\n        constructor(rawUnderlyingSink = {}, rawStrategy = {}) {\n          if (rawUnderlyingSink === void 0) {\n            rawUnderlyingSink = null;\n          } else {\n            assertObject(rawUnderlyingSink, \"First parameter\");\n          }\n          const strategy = convertQueuingStrategy(rawStrategy, \"Second parameter\");\n          const underlyingSink = convertUnderlyingSink(rawUnderlyingSink, \"First parameter\");\n          InitializeWritableStream(this);\n          const type = underlyingSink.type;\n          if (type !== void 0) {\n            throw new RangeError(\"Invalid type is specified\");\n          }\n          const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n          const highWaterMark = ExtractHighWaterMark(strategy, 1);\n          SetUpWritableStreamDefaultControllerFromUnderlyingSink(this, underlyingSink, highWaterMark, sizeAlgorithm);\n        }\n        get locked() {\n          if (!IsWritableStream(this)) {\n            throw streamBrandCheckException$2(\"locked\");\n          }\n          return IsWritableStreamLocked(this);\n        }\n        abort(reason = void 0) {\n          if (!IsWritableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$2(\"abort\"));\n          }\n          if (IsWritableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError(\"Cannot abort a stream that already has a writer\"));\n          }\n          return WritableStreamAbort(this, reason);\n        }\n        close() {\n          if (!IsWritableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$2(\"close\"));\n          }\n          if (IsWritableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError(\"Cannot close a stream that already has a writer\"));\n          }\n          if (WritableStreamCloseQueuedOrInFlight(this)) {\n            return promiseRejectedWith(new TypeError(\"Cannot close an already-closing stream\"));\n          }\n          return WritableStreamClose(this);\n        }\n        getWriter() {\n          if (!IsWritableStream(this)) {\n            throw streamBrandCheckException$2(\"getWriter\");\n          }\n          return AcquireWritableStreamDefaultWriter(this);\n        }\n      }\n      Object.defineProperties(WritableStream.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        getWriter: { enumerable: true },\n        locked: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(WritableStream.prototype, SymbolPolyfill.toStringTag, {\n          value: \"WritableStream\",\n          configurable: true\n        });\n      }\n      function AcquireWritableStreamDefaultWriter(stream) {\n        return new WritableStreamDefaultWriter(stream);\n      }\n      function CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n        const stream = Object.create(WritableStream.prototype);\n        InitializeWritableStream(stream);\n        const controller = Object.create(WritableStreamDefaultController.prototype);\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n      }\n      function InitializeWritableStream(stream) {\n        stream._state = \"writable\";\n        stream._storedError = void 0;\n        stream._writer = void 0;\n        stream._writableStreamController = void 0;\n        stream._writeRequests = new SimpleQueue();\n        stream._inFlightWriteRequest = void 0;\n        stream._closeRequest = void 0;\n        stream._inFlightCloseRequest = void 0;\n        stream._pendingAbortRequest = void 0;\n        stream._backpressure = false;\n      }\n      function IsWritableStream(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_writableStreamController\")) {\n          return false;\n        }\n        return x2 instanceof WritableStream;\n      }\n      function IsWritableStreamLocked(stream) {\n        if (stream._writer === void 0) {\n          return false;\n        }\n        return true;\n      }\n      function WritableStreamAbort(stream, reason) {\n        var _a;\n        if (stream._state === \"closed\" || stream._state === \"errored\") {\n          return promiseResolvedWith(void 0);\n        }\n        stream._writableStreamController._abortReason = reason;\n        (_a = stream._writableStreamController._abortController) === null || _a === void 0 ? void 0 : _a.abort();\n        const state = stream._state;\n        if (state === \"closed\" || state === \"errored\") {\n          return promiseResolvedWith(void 0);\n        }\n        if (stream._pendingAbortRequest !== void 0) {\n          return stream._pendingAbortRequest._promise;\n        }\n        let wasAlreadyErroring = false;\n        if (state === \"erroring\") {\n          wasAlreadyErroring = true;\n          reason = void 0;\n        }\n        const promise = newPromise((resolve, reject) => {\n          stream._pendingAbortRequest = {\n            _promise: void 0,\n            _resolve: resolve,\n            _reject: reject,\n            _reason: reason,\n            _wasAlreadyErroring: wasAlreadyErroring\n          };\n        });\n        stream._pendingAbortRequest._promise = promise;\n        if (!wasAlreadyErroring) {\n          WritableStreamStartErroring(stream, reason);\n        }\n        return promise;\n      }\n      function WritableStreamClose(stream) {\n        const state = stream._state;\n        if (state === \"closed\" || state === \"errored\") {\n          return promiseRejectedWith(new TypeError(`The stream (in ${state} state) is not in the writable state and cannot be closed`));\n        }\n        const promise = newPromise((resolve, reject) => {\n          const closeRequest = {\n            _resolve: resolve,\n            _reject: reject\n          };\n          stream._closeRequest = closeRequest;\n        });\n        const writer = stream._writer;\n        if (writer !== void 0 && stream._backpressure && state === \"writable\") {\n          defaultWriterReadyPromiseResolve(writer);\n        }\n        WritableStreamDefaultControllerClose(stream._writableStreamController);\n        return promise;\n      }\n      function WritableStreamAddWriteRequest(stream) {\n        const promise = newPromise((resolve, reject) => {\n          const writeRequest = {\n            _resolve: resolve,\n            _reject: reject\n          };\n          stream._writeRequests.push(writeRequest);\n        });\n        return promise;\n      }\n      function WritableStreamDealWithRejection(stream, error) {\n        const state = stream._state;\n        if (state === \"writable\") {\n          WritableStreamStartErroring(stream, error);\n          return;\n        }\n        WritableStreamFinishErroring(stream);\n      }\n      function WritableStreamStartErroring(stream, reason) {\n        const controller = stream._writableStreamController;\n        stream._state = \"erroring\";\n        stream._storedError = reason;\n        const writer = stream._writer;\n        if (writer !== void 0) {\n          WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n        }\n        if (!WritableStreamHasOperationMarkedInFlight(stream) && controller._started) {\n          WritableStreamFinishErroring(stream);\n        }\n      }\n      function WritableStreamFinishErroring(stream) {\n        stream._state = \"errored\";\n        stream._writableStreamController[ErrorSteps]();\n        const storedError = stream._storedError;\n        stream._writeRequests.forEach((writeRequest) => {\n          writeRequest._reject(storedError);\n        });\n        stream._writeRequests = new SimpleQueue();\n        if (stream._pendingAbortRequest === void 0) {\n          WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n          return;\n        }\n        const abortRequest = stream._pendingAbortRequest;\n        stream._pendingAbortRequest = void 0;\n        if (abortRequest._wasAlreadyErroring) {\n          abortRequest._reject(storedError);\n          WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n          return;\n        }\n        const promise = stream._writableStreamController[AbortSteps](abortRequest._reason);\n        uponPromise(promise, () => {\n          abortRequest._resolve();\n          WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        }, (reason) => {\n          abortRequest._reject(reason);\n          WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        });\n      }\n      function WritableStreamFinishInFlightWrite(stream) {\n        stream._inFlightWriteRequest._resolve(void 0);\n        stream._inFlightWriteRequest = void 0;\n      }\n      function WritableStreamFinishInFlightWriteWithError(stream, error) {\n        stream._inFlightWriteRequest._reject(error);\n        stream._inFlightWriteRequest = void 0;\n        WritableStreamDealWithRejection(stream, error);\n      }\n      function WritableStreamFinishInFlightClose(stream) {\n        stream._inFlightCloseRequest._resolve(void 0);\n        stream._inFlightCloseRequest = void 0;\n        const state = stream._state;\n        if (state === \"erroring\") {\n          stream._storedError = void 0;\n          if (stream._pendingAbortRequest !== void 0) {\n            stream._pendingAbortRequest._resolve();\n            stream._pendingAbortRequest = void 0;\n          }\n        }\n        stream._state = \"closed\";\n        const writer = stream._writer;\n        if (writer !== void 0) {\n          defaultWriterClosedPromiseResolve(writer);\n        }\n      }\n      function WritableStreamFinishInFlightCloseWithError(stream, error) {\n        stream._inFlightCloseRequest._reject(error);\n        stream._inFlightCloseRequest = void 0;\n        if (stream._pendingAbortRequest !== void 0) {\n          stream._pendingAbortRequest._reject(error);\n          stream._pendingAbortRequest = void 0;\n        }\n        WritableStreamDealWithRejection(stream, error);\n      }\n      function WritableStreamCloseQueuedOrInFlight(stream) {\n        if (stream._closeRequest === void 0 && stream._inFlightCloseRequest === void 0) {\n          return false;\n        }\n        return true;\n      }\n      function WritableStreamHasOperationMarkedInFlight(stream) {\n        if (stream._inFlightWriteRequest === void 0 && stream._inFlightCloseRequest === void 0) {\n          return false;\n        }\n        return true;\n      }\n      function WritableStreamMarkCloseRequestInFlight(stream) {\n        stream._inFlightCloseRequest = stream._closeRequest;\n        stream._closeRequest = void 0;\n      }\n      function WritableStreamMarkFirstWriteRequestInFlight(stream) {\n        stream._inFlightWriteRequest = stream._writeRequests.shift();\n      }\n      function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n        if (stream._closeRequest !== void 0) {\n          stream._closeRequest._reject(stream._storedError);\n          stream._closeRequest = void 0;\n        }\n        const writer = stream._writer;\n        if (writer !== void 0) {\n          defaultWriterClosedPromiseReject(writer, stream._storedError);\n        }\n      }\n      function WritableStreamUpdateBackpressure(stream, backpressure) {\n        const writer = stream._writer;\n        if (writer !== void 0 && backpressure !== stream._backpressure) {\n          if (backpressure) {\n            defaultWriterReadyPromiseReset(writer);\n          } else {\n            defaultWriterReadyPromiseResolve(writer);\n          }\n        }\n        stream._backpressure = backpressure;\n      }\n      class WritableStreamDefaultWriter {\n        constructor(stream) {\n          assertRequiredArgument(stream, 1, \"WritableStreamDefaultWriter\");\n          assertWritableStream(stream, \"First parameter\");\n          if (IsWritableStreamLocked(stream)) {\n            throw new TypeError(\"This stream has already been locked for exclusive writing by another writer\");\n          }\n          this._ownerWritableStream = stream;\n          stream._writer = this;\n          const state = stream._state;\n          if (state === \"writable\") {\n            if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._backpressure) {\n              defaultWriterReadyPromiseInitialize(this);\n            } else {\n              defaultWriterReadyPromiseInitializeAsResolved(this);\n            }\n            defaultWriterClosedPromiseInitialize(this);\n          } else if (state === \"erroring\") {\n            defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n            defaultWriterClosedPromiseInitialize(this);\n          } else if (state === \"closed\") {\n            defaultWriterReadyPromiseInitializeAsResolved(this);\n            defaultWriterClosedPromiseInitializeAsResolved(this);\n          } else {\n            const storedError = stream._storedError;\n            defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n            defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n          }\n        }\n        get closed() {\n          if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException(\"closed\"));\n          }\n          return this._closedPromise;\n        }\n        get desiredSize() {\n          if (!IsWritableStreamDefaultWriter(this)) {\n            throw defaultWriterBrandCheckException(\"desiredSize\");\n          }\n          if (this._ownerWritableStream === void 0) {\n            throw defaultWriterLockException(\"desiredSize\");\n          }\n          return WritableStreamDefaultWriterGetDesiredSize(this);\n        }\n        get ready() {\n          if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException(\"ready\"));\n          }\n          return this._readyPromise;\n        }\n        abort(reason = void 0) {\n          if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException(\"abort\"));\n          }\n          if (this._ownerWritableStream === void 0) {\n            return promiseRejectedWith(defaultWriterLockException(\"abort\"));\n          }\n          return WritableStreamDefaultWriterAbort(this, reason);\n        }\n        close() {\n          if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException(\"close\"));\n          }\n          const stream = this._ownerWritableStream;\n          if (stream === void 0) {\n            return promiseRejectedWith(defaultWriterLockException(\"close\"));\n          }\n          if (WritableStreamCloseQueuedOrInFlight(stream)) {\n            return promiseRejectedWith(new TypeError(\"Cannot close an already-closing stream\"));\n          }\n          return WritableStreamDefaultWriterClose(this);\n        }\n        releaseLock() {\n          if (!IsWritableStreamDefaultWriter(this)) {\n            throw defaultWriterBrandCheckException(\"releaseLock\");\n          }\n          const stream = this._ownerWritableStream;\n          if (stream === void 0) {\n            return;\n          }\n          WritableStreamDefaultWriterRelease(this);\n        }\n        write(chunk = void 0) {\n          if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException(\"write\"));\n          }\n          if (this._ownerWritableStream === void 0) {\n            return promiseRejectedWith(defaultWriterLockException(\"write to\"));\n          }\n          return WritableStreamDefaultWriterWrite(this, chunk);\n        }\n      }\n      Object.defineProperties(WritableStreamDefaultWriter.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        releaseLock: { enumerable: true },\n        write: { enumerable: true },\n        closed: { enumerable: true },\n        desiredSize: { enumerable: true },\n        ready: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(WritableStreamDefaultWriter.prototype, SymbolPolyfill.toStringTag, {\n          value: \"WritableStreamDefaultWriter\",\n          configurable: true\n        });\n      }\n      function IsWritableStreamDefaultWriter(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_ownerWritableStream\")) {\n          return false;\n        }\n        return x2 instanceof WritableStreamDefaultWriter;\n      }\n      function WritableStreamDefaultWriterAbort(writer, reason) {\n        const stream = writer._ownerWritableStream;\n        return WritableStreamAbort(stream, reason);\n      }\n      function WritableStreamDefaultWriterClose(writer) {\n        const stream = writer._ownerWritableStream;\n        return WritableStreamClose(stream);\n      }\n      function WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n        const stream = writer._ownerWritableStream;\n        const state = stream._state;\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === \"closed\") {\n          return promiseResolvedWith(void 0);\n        }\n        if (state === \"errored\") {\n          return promiseRejectedWith(stream._storedError);\n        }\n        return WritableStreamDefaultWriterClose(writer);\n      }\n      function WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n        if (writer._closedPromiseState === \"pending\") {\n          defaultWriterClosedPromiseReject(writer, error);\n        } else {\n          defaultWriterClosedPromiseResetToRejected(writer, error);\n        }\n      }\n      function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n        if (writer._readyPromiseState === \"pending\") {\n          defaultWriterReadyPromiseReject(writer, error);\n        } else {\n          defaultWriterReadyPromiseResetToRejected(writer, error);\n        }\n      }\n      function WritableStreamDefaultWriterGetDesiredSize(writer) {\n        const stream = writer._ownerWritableStream;\n        const state = stream._state;\n        if (state === \"errored\" || state === \"erroring\") {\n          return null;\n        }\n        if (state === \"closed\") {\n          return 0;\n        }\n        return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n      }\n      function WritableStreamDefaultWriterRelease(writer) {\n        const stream = writer._ownerWritableStream;\n        const releasedError = new TypeError(`Writer was released and can no longer be used to monitor the stream's closedness`);\n        WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n        WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n        stream._writer = void 0;\n        writer._ownerWritableStream = void 0;\n      }\n      function WritableStreamDefaultWriterWrite(writer, chunk) {\n        const stream = writer._ownerWritableStream;\n        const controller = stream._writableStreamController;\n        const chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n        if (stream !== writer._ownerWritableStream) {\n          return promiseRejectedWith(defaultWriterLockException(\"write to\"));\n        }\n        const state = stream._state;\n        if (state === \"errored\") {\n          return promiseRejectedWith(stream._storedError);\n        }\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === \"closed\") {\n          return promiseRejectedWith(new TypeError(\"The stream is closing or closed and cannot be written to\"));\n        }\n        if (state === \"erroring\") {\n          return promiseRejectedWith(stream._storedError);\n        }\n        const promise = WritableStreamAddWriteRequest(stream);\n        WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n        return promise;\n      }\n      const closeSentinel = {};\n      class WritableStreamDefaultController {\n        constructor() {\n          throw new TypeError(\"Illegal constructor\");\n        }\n        get abortReason() {\n          if (!IsWritableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$2(\"abortReason\");\n          }\n          return this._abortReason;\n        }\n        get signal() {\n          if (!IsWritableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$2(\"signal\");\n          }\n          if (this._abortController === void 0) {\n            throw new TypeError(\"WritableStreamDefaultController.prototype.signal is not supported\");\n          }\n          return this._abortController.signal;\n        }\n        error(e2 = void 0) {\n          if (!IsWritableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$2(\"error\");\n          }\n          const state = this._controlledWritableStream._state;\n          if (state !== \"writable\") {\n            return;\n          }\n          WritableStreamDefaultControllerError(this, e2);\n        }\n        [AbortSteps](reason) {\n          const result = this._abortAlgorithm(reason);\n          WritableStreamDefaultControllerClearAlgorithms(this);\n          return result;\n        }\n        [ErrorSteps]() {\n          ResetQueue(this);\n        }\n      }\n      Object.defineProperties(WritableStreamDefaultController.prototype, {\n        abortReason: { enumerable: true },\n        signal: { enumerable: true },\n        error: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(WritableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n          value: \"WritableStreamDefaultController\",\n          configurable: true\n        });\n      }\n      function IsWritableStreamDefaultController(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_controlledWritableStream\")) {\n          return false;\n        }\n        return x2 instanceof WritableStreamDefaultController;\n      }\n      function SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledWritableStream = stream;\n        stream._writableStreamController = controller;\n        controller._queue = void 0;\n        controller._queueTotalSize = void 0;\n        ResetQueue(controller);\n        controller._abortReason = void 0;\n        controller._abortController = createAbortController();\n        controller._started = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._writeAlgorithm = writeAlgorithm;\n        controller._closeAlgorithm = closeAlgorithm;\n        controller._abortAlgorithm = abortAlgorithm;\n        const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n        WritableStreamUpdateBackpressure(stream, backpressure);\n        const startResult = startAlgorithm();\n        const startPromise = promiseResolvedWith(startResult);\n        uponPromise(startPromise, () => {\n          controller._started = true;\n          WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }, (r2) => {\n          controller._started = true;\n          WritableStreamDealWithRejection(stream, r2);\n        });\n      }\n      function SetUpWritableStreamDefaultControllerFromUnderlyingSink(stream, underlyingSink, highWaterMark, sizeAlgorithm) {\n        const controller = Object.create(WritableStreamDefaultController.prototype);\n        let startAlgorithm = () => void 0;\n        let writeAlgorithm = () => promiseResolvedWith(void 0);\n        let closeAlgorithm = () => promiseResolvedWith(void 0);\n        let abortAlgorithm = () => promiseResolvedWith(void 0);\n        if (underlyingSink.start !== void 0) {\n          startAlgorithm = () => underlyingSink.start(controller);\n        }\n        if (underlyingSink.write !== void 0) {\n          writeAlgorithm = (chunk) => underlyingSink.write(chunk, controller);\n        }\n        if (underlyingSink.close !== void 0) {\n          closeAlgorithm = () => underlyingSink.close();\n        }\n        if (underlyingSink.abort !== void 0) {\n          abortAlgorithm = (reason) => underlyingSink.abort(reason);\n        }\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n      }\n      function WritableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._writeAlgorithm = void 0;\n        controller._closeAlgorithm = void 0;\n        controller._abortAlgorithm = void 0;\n        controller._strategySizeAlgorithm = void 0;\n      }\n      function WritableStreamDefaultControllerClose(controller) {\n        EnqueueValueWithSize(controller, closeSentinel, 0);\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n      }\n      function WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n        try {\n          return controller._strategySizeAlgorithm(chunk);\n        } catch (chunkSizeE) {\n          WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n          return 1;\n        }\n      }\n      function WritableStreamDefaultControllerGetDesiredSize(controller) {\n        return controller._strategyHWM - controller._queueTotalSize;\n      }\n      function WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n        try {\n          EnqueueValueWithSize(controller, chunk, chunkSize);\n        } catch (enqueueE) {\n          WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n          return;\n        }\n        const stream = controller._controlledWritableStream;\n        if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._state === \"writable\") {\n          const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n          WritableStreamUpdateBackpressure(stream, backpressure);\n        }\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n      }\n      function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n        const stream = controller._controlledWritableStream;\n        if (!controller._started) {\n          return;\n        }\n        if (stream._inFlightWriteRequest !== void 0) {\n          return;\n        }\n        const state = stream._state;\n        if (state === \"erroring\") {\n          WritableStreamFinishErroring(stream);\n          return;\n        }\n        if (controller._queue.length === 0) {\n          return;\n        }\n        const value = PeekQueueValue(controller);\n        if (value === closeSentinel) {\n          WritableStreamDefaultControllerProcessClose(controller);\n        } else {\n          WritableStreamDefaultControllerProcessWrite(controller, value);\n        }\n      }\n      function WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n        if (controller._controlledWritableStream._state === \"writable\") {\n          WritableStreamDefaultControllerError(controller, error);\n        }\n      }\n      function WritableStreamDefaultControllerProcessClose(controller) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamMarkCloseRequestInFlight(stream);\n        DequeueValue(controller);\n        const sinkClosePromise = controller._closeAlgorithm();\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        uponPromise(sinkClosePromise, () => {\n          WritableStreamFinishInFlightClose(stream);\n        }, (reason) => {\n          WritableStreamFinishInFlightCloseWithError(stream, reason);\n        });\n      }\n      function WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamMarkFirstWriteRequestInFlight(stream);\n        const sinkWritePromise = controller._writeAlgorithm(chunk);\n        uponPromise(sinkWritePromise, () => {\n          WritableStreamFinishInFlightWrite(stream);\n          const state = stream._state;\n          DequeueValue(controller);\n          if (!WritableStreamCloseQueuedOrInFlight(stream) && state === \"writable\") {\n            const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n          }\n          WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }, (reason) => {\n          if (stream._state === \"writable\") {\n            WritableStreamDefaultControllerClearAlgorithms(controller);\n          }\n          WritableStreamFinishInFlightWriteWithError(stream, reason);\n        });\n      }\n      function WritableStreamDefaultControllerGetBackpressure(controller) {\n        const desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n        return desiredSize <= 0;\n      }\n      function WritableStreamDefaultControllerError(controller, error) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        WritableStreamStartErroring(stream, error);\n      }\n      function streamBrandCheckException$2(name) {\n        return new TypeError(`WritableStream.prototype.${name} can only be used on a WritableStream`);\n      }\n      function defaultControllerBrandCheckException$2(name) {\n        return new TypeError(`WritableStreamDefaultController.prototype.${name} can only be used on a WritableStreamDefaultController`);\n      }\n      function defaultWriterBrandCheckException(name) {\n        return new TypeError(`WritableStreamDefaultWriter.prototype.${name} can only be used on a WritableStreamDefaultWriter`);\n      }\n      function defaultWriterLockException(name) {\n        return new TypeError(\"Cannot \" + name + \" a stream using a released writer\");\n      }\n      function defaultWriterClosedPromiseInitialize(writer) {\n        writer._closedPromise = newPromise((resolve, reject) => {\n          writer._closedPromise_resolve = resolve;\n          writer._closedPromise_reject = reject;\n          writer._closedPromiseState = \"pending\";\n        });\n      }\n      function defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseReject(writer, reason);\n      }\n      function defaultWriterClosedPromiseInitializeAsResolved(writer) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseResolve(writer);\n      }\n      function defaultWriterClosedPromiseReject(writer, reason) {\n        if (writer._closedPromise_reject === void 0) {\n          return;\n        }\n        setPromiseIsHandledToTrue(writer._closedPromise);\n        writer._closedPromise_reject(reason);\n        writer._closedPromise_resolve = void 0;\n        writer._closedPromise_reject = void 0;\n        writer._closedPromiseState = \"rejected\";\n      }\n      function defaultWriterClosedPromiseResetToRejected(writer, reason) {\n        defaultWriterClosedPromiseInitializeAsRejected(writer, reason);\n      }\n      function defaultWriterClosedPromiseResolve(writer) {\n        if (writer._closedPromise_resolve === void 0) {\n          return;\n        }\n        writer._closedPromise_resolve(void 0);\n        writer._closedPromise_resolve = void 0;\n        writer._closedPromise_reject = void 0;\n        writer._closedPromiseState = \"resolved\";\n      }\n      function defaultWriterReadyPromiseInitialize(writer) {\n        writer._readyPromise = newPromise((resolve, reject) => {\n          writer._readyPromise_resolve = resolve;\n          writer._readyPromise_reject = reject;\n        });\n        writer._readyPromiseState = \"pending\";\n      }\n      function defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseReject(writer, reason);\n      }\n      function defaultWriterReadyPromiseInitializeAsResolved(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseResolve(writer);\n      }\n      function defaultWriterReadyPromiseReject(writer, reason) {\n        if (writer._readyPromise_reject === void 0) {\n          return;\n        }\n        setPromiseIsHandledToTrue(writer._readyPromise);\n        writer._readyPromise_reject(reason);\n        writer._readyPromise_resolve = void 0;\n        writer._readyPromise_reject = void 0;\n        writer._readyPromiseState = \"rejected\";\n      }\n      function defaultWriterReadyPromiseReset(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n      }\n      function defaultWriterReadyPromiseResetToRejected(writer, reason) {\n        defaultWriterReadyPromiseInitializeAsRejected(writer, reason);\n      }\n      function defaultWriterReadyPromiseResolve(writer) {\n        if (writer._readyPromise_resolve === void 0) {\n          return;\n        }\n        writer._readyPromise_resolve(void 0);\n        writer._readyPromise_resolve = void 0;\n        writer._readyPromise_reject = void 0;\n        writer._readyPromiseState = \"fulfilled\";\n      }\n      const NativeDOMException = typeof DOMException !== \"undefined\" ? DOMException : void 0;\n      function isDOMExceptionConstructor(ctor) {\n        if (!(typeof ctor === \"function\" || typeof ctor === \"object\")) {\n          return false;\n        }\n        try {\n          new ctor();\n          return true;\n        } catch (_a) {\n          return false;\n        }\n      }\n      function createDOMExceptionPolyfill() {\n        const ctor = function DOMException3(message, name) {\n          this.message = message || \"\";\n          this.name = name || \"Error\";\n          if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n          }\n        };\n        ctor.prototype = Object.create(Error.prototype);\n        Object.defineProperty(ctor.prototype, \"constructor\", { value: ctor, writable: true, configurable: true });\n        return ctor;\n      }\n      const DOMException$1 = isDOMExceptionConstructor(NativeDOMException) ? NativeDOMException : createDOMExceptionPolyfill();\n      function ReadableStreamPipeTo(source, dest, preventClose, preventAbort, preventCancel, signal) {\n        const reader = AcquireReadableStreamDefaultReader(source);\n        const writer = AcquireWritableStreamDefaultWriter(dest);\n        source._disturbed = true;\n        let shuttingDown = false;\n        let currentWrite = promiseResolvedWith(void 0);\n        return newPromise((resolve, reject) => {\n          let abortAlgorithm;\n          if (signal !== void 0) {\n            abortAlgorithm = () => {\n              const error = new DOMException$1(\"Aborted\", \"AbortError\");\n              const actions = [];\n              if (!preventAbort) {\n                actions.push(() => {\n                  if (dest._state === \"writable\") {\n                    return WritableStreamAbort(dest, error);\n                  }\n                  return promiseResolvedWith(void 0);\n                });\n              }\n              if (!preventCancel) {\n                actions.push(() => {\n                  if (source._state === \"readable\") {\n                    return ReadableStreamCancel(source, error);\n                  }\n                  return promiseResolvedWith(void 0);\n                });\n              }\n              shutdownWithAction(() => Promise.all(actions.map((action) => action())), true, error);\n            };\n            if (signal.aborted) {\n              abortAlgorithm();\n              return;\n            }\n            signal.addEventListener(\"abort\", abortAlgorithm);\n          }\n          function pipeLoop() {\n            return newPromise((resolveLoop, rejectLoop) => {\n              function next(done) {\n                if (done) {\n                  resolveLoop();\n                } else {\n                  PerformPromiseThen(pipeStep(), next, rejectLoop);\n                }\n              }\n              next(false);\n            });\n          }\n          function pipeStep() {\n            if (shuttingDown) {\n              return promiseResolvedWith(true);\n            }\n            return PerformPromiseThen(writer._readyPromise, () => {\n              return newPromise((resolveRead, rejectRead) => {\n                ReadableStreamDefaultReaderRead(reader, {\n                  _chunkSteps: (chunk) => {\n                    currentWrite = PerformPromiseThen(WritableStreamDefaultWriterWrite(writer, chunk), void 0, noop2);\n                    resolveRead(false);\n                  },\n                  _closeSteps: () => resolveRead(true),\n                  _errorSteps: rejectRead\n                });\n              });\n            });\n          }\n          isOrBecomesErrored(source, reader._closedPromise, (storedError) => {\n            if (!preventAbort) {\n              shutdownWithAction(() => WritableStreamAbort(dest, storedError), true, storedError);\n            } else {\n              shutdown(true, storedError);\n            }\n          });\n          isOrBecomesErrored(dest, writer._closedPromise, (storedError) => {\n            if (!preventCancel) {\n              shutdownWithAction(() => ReadableStreamCancel(source, storedError), true, storedError);\n            } else {\n              shutdown(true, storedError);\n            }\n          });\n          isOrBecomesClosed(source, reader._closedPromise, () => {\n            if (!preventClose) {\n              shutdownWithAction(() => WritableStreamDefaultWriterCloseWithErrorPropagation(writer));\n            } else {\n              shutdown();\n            }\n          });\n          if (WritableStreamCloseQueuedOrInFlight(dest) || dest._state === \"closed\") {\n            const destClosed = new TypeError(\"the destination writable stream closed before all data could be piped to it\");\n            if (!preventCancel) {\n              shutdownWithAction(() => ReadableStreamCancel(source, destClosed), true, destClosed);\n            } else {\n              shutdown(true, destClosed);\n            }\n          }\n          setPromiseIsHandledToTrue(pipeLoop());\n          function waitForWritesToFinish() {\n            const oldCurrentWrite = currentWrite;\n            return PerformPromiseThen(currentWrite, () => oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : void 0);\n          }\n          function isOrBecomesErrored(stream, promise, action) {\n            if (stream._state === \"errored\") {\n              action(stream._storedError);\n            } else {\n              uponRejection(promise, action);\n            }\n          }\n          function isOrBecomesClosed(stream, promise, action) {\n            if (stream._state === \"closed\") {\n              action();\n            } else {\n              uponFulfillment(promise, action);\n            }\n          }\n          function shutdownWithAction(action, originalIsError, originalError) {\n            if (shuttingDown) {\n              return;\n            }\n            shuttingDown = true;\n            if (dest._state === \"writable\" && !WritableStreamCloseQueuedOrInFlight(dest)) {\n              uponFulfillment(waitForWritesToFinish(), doTheRest);\n            } else {\n              doTheRest();\n            }\n            function doTheRest() {\n              uponPromise(action(), () => finalize(originalIsError, originalError), (newError) => finalize(true, newError));\n            }\n          }\n          function shutdown(isError, error) {\n            if (shuttingDown) {\n              return;\n            }\n            shuttingDown = true;\n            if (dest._state === \"writable\" && !WritableStreamCloseQueuedOrInFlight(dest)) {\n              uponFulfillment(waitForWritesToFinish(), () => finalize(isError, error));\n            } else {\n              finalize(isError, error);\n            }\n          }\n          function finalize(isError, error) {\n            WritableStreamDefaultWriterRelease(writer);\n            ReadableStreamReaderGenericRelease(reader);\n            if (signal !== void 0) {\n              signal.removeEventListener(\"abort\", abortAlgorithm);\n            }\n            if (isError) {\n              reject(error);\n            } else {\n              resolve(void 0);\n            }\n          }\n        });\n      }\n      class ReadableStreamDefaultController {\n        constructor() {\n          throw new TypeError(\"Illegal constructor\");\n        }\n        get desiredSize() {\n          if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1(\"desiredSize\");\n          }\n          return ReadableStreamDefaultControllerGetDesiredSize(this);\n        }\n        close() {\n          if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1(\"close\");\n          }\n          if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n            throw new TypeError(\"The stream is not in a state that permits close\");\n          }\n          ReadableStreamDefaultControllerClose(this);\n        }\n        enqueue(chunk = void 0) {\n          if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1(\"enqueue\");\n          }\n          if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n            throw new TypeError(\"The stream is not in a state that permits enqueue\");\n          }\n          return ReadableStreamDefaultControllerEnqueue(this, chunk);\n        }\n        error(e2 = void 0) {\n          if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1(\"error\");\n          }\n          ReadableStreamDefaultControllerError(this, e2);\n        }\n        [CancelSteps](reason) {\n          ResetQueue(this);\n          const result = this._cancelAlgorithm(reason);\n          ReadableStreamDefaultControllerClearAlgorithms(this);\n          return result;\n        }\n        [PullSteps](readRequest) {\n          const stream = this._controlledReadableStream;\n          if (this._queue.length > 0) {\n            const chunk = DequeueValue(this);\n            if (this._closeRequested && this._queue.length === 0) {\n              ReadableStreamDefaultControllerClearAlgorithms(this);\n              ReadableStreamClose(stream);\n            } else {\n              ReadableStreamDefaultControllerCallPullIfNeeded(this);\n            }\n            readRequest._chunkSteps(chunk);\n          } else {\n            ReadableStreamAddReadRequest(stream, readRequest);\n            ReadableStreamDefaultControllerCallPullIfNeeded(this);\n          }\n        }\n      }\n      Object.defineProperties(ReadableStreamDefaultController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        desiredSize: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(ReadableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n          value: \"ReadableStreamDefaultController\",\n          configurable: true\n        });\n      }\n      function IsReadableStreamDefaultController(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_controlledReadableStream\")) {\n          return false;\n        }\n        return x2 instanceof ReadableStreamDefaultController;\n      }\n      function ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n        const shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n        if (!shouldPull) {\n          return;\n        }\n        if (controller._pulling) {\n          controller._pullAgain = true;\n          return;\n        }\n        controller._pulling = true;\n        const pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, () => {\n          controller._pulling = false;\n          if (controller._pullAgain) {\n            controller._pullAgain = false;\n            ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n          }\n        }, (e2) => {\n          ReadableStreamDefaultControllerError(controller, e2);\n        });\n      }\n      function ReadableStreamDefaultControllerShouldCallPull(controller) {\n        const stream = controller._controlledReadableStream;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n          return false;\n        }\n        if (!controller._started) {\n          return false;\n        }\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n          return true;\n        }\n        const desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n          return true;\n        }\n        return false;\n      }\n      function ReadableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = void 0;\n        controller._cancelAlgorithm = void 0;\n        controller._strategySizeAlgorithm = void 0;\n      }\n      function ReadableStreamDefaultControllerClose(controller) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n          return;\n        }\n        const stream = controller._controlledReadableStream;\n        controller._closeRequested = true;\n        if (controller._queue.length === 0) {\n          ReadableStreamDefaultControllerClearAlgorithms(controller);\n          ReadableStreamClose(stream);\n        }\n      }\n      function ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n          return;\n        }\n        const stream = controller._controlledReadableStream;\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n          ReadableStreamFulfillReadRequest(stream, chunk, false);\n        } else {\n          let chunkSize;\n          try {\n            chunkSize = controller._strategySizeAlgorithm(chunk);\n          } catch (chunkSizeE) {\n            ReadableStreamDefaultControllerError(controller, chunkSizeE);\n            throw chunkSizeE;\n          }\n          try {\n            EnqueueValueWithSize(controller, chunk, chunkSize);\n          } catch (enqueueE) {\n            ReadableStreamDefaultControllerError(controller, enqueueE);\n            throw enqueueE;\n          }\n        }\n        ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n      }\n      function ReadableStreamDefaultControllerError(controller, e2) {\n        const stream = controller._controlledReadableStream;\n        if (stream._state !== \"readable\") {\n          return;\n        }\n        ResetQueue(controller);\n        ReadableStreamDefaultControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e2);\n      }\n      function ReadableStreamDefaultControllerGetDesiredSize(controller) {\n        const state = controller._controlledReadableStream._state;\n        if (state === \"errored\") {\n          return null;\n        }\n        if (state === \"closed\") {\n          return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n      }\n      function ReadableStreamDefaultControllerHasBackpressure(controller) {\n        if (ReadableStreamDefaultControllerShouldCallPull(controller)) {\n          return false;\n        }\n        return true;\n      }\n      function ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) {\n        const state = controller._controlledReadableStream._state;\n        if (!controller._closeRequested && state === \"readable\") {\n          return true;\n        }\n        return false;\n      }\n      function SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledReadableStream = stream;\n        controller._queue = void 0;\n        controller._queueTotalSize = void 0;\n        ResetQueue(controller);\n        controller._started = false;\n        controller._closeRequested = false;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        stream._readableStreamController = controller;\n        const startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), () => {\n          controller._started = true;\n          ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n        }, (r2) => {\n          ReadableStreamDefaultControllerError(controller, r2);\n        });\n      }\n      function SetUpReadableStreamDefaultControllerFromUnderlyingSource(stream, underlyingSource, highWaterMark, sizeAlgorithm) {\n        const controller = Object.create(ReadableStreamDefaultController.prototype);\n        let startAlgorithm = () => void 0;\n        let pullAlgorithm = () => promiseResolvedWith(void 0);\n        let cancelAlgorithm = () => promiseResolvedWith(void 0);\n        if (underlyingSource.start !== void 0) {\n          startAlgorithm = () => underlyingSource.start(controller);\n        }\n        if (underlyingSource.pull !== void 0) {\n          pullAlgorithm = () => underlyingSource.pull(controller);\n        }\n        if (underlyingSource.cancel !== void 0) {\n          cancelAlgorithm = (reason) => underlyingSource.cancel(reason);\n        }\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n      }\n      function defaultControllerBrandCheckException$1(name) {\n        return new TypeError(`ReadableStreamDefaultController.prototype.${name} can only be used on a ReadableStreamDefaultController`);\n      }\n      function ReadableStreamTee(stream, cloneForBranch2) {\n        if (IsReadableByteStreamController(stream._readableStreamController)) {\n          return ReadableByteStreamTee(stream);\n        }\n        return ReadableStreamDefaultTee(stream);\n      }\n      function ReadableStreamDefaultTee(stream, cloneForBranch2) {\n        const reader = AcquireReadableStreamDefaultReader(stream);\n        let reading = false;\n        let readAgain = false;\n        let canceled1 = false;\n        let canceled2 = false;\n        let reason1;\n        let reason2;\n        let branch1;\n        let branch2;\n        let resolveCancelPromise;\n        const cancelPromise = newPromise((resolve) => {\n          resolveCancelPromise = resolve;\n        });\n        function pullAlgorithm() {\n          if (reading) {\n            readAgain = true;\n            return promiseResolvedWith(void 0);\n          }\n          reading = true;\n          const readRequest = {\n            _chunkSteps: (chunk) => {\n              queueMicrotask(() => {\n                readAgain = false;\n                const chunk1 = chunk;\n                const chunk2 = chunk;\n                if (!canceled1) {\n                  ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController, chunk1);\n                }\n                if (!canceled2) {\n                  ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController, chunk2);\n                }\n                reading = false;\n                if (readAgain) {\n                  pullAlgorithm();\n                }\n              });\n            },\n            _closeSteps: () => {\n              reading = false;\n              if (!canceled1) {\n                ReadableStreamDefaultControllerClose(branch1._readableStreamController);\n              }\n              if (!canceled2) {\n                ReadableStreamDefaultControllerClose(branch2._readableStreamController);\n              }\n              if (!canceled1 || !canceled2) {\n                resolveCancelPromise(void 0);\n              }\n            },\n            _errorSteps: () => {\n              reading = false;\n            }\n          };\n          ReadableStreamDefaultReaderRead(reader, readRequest);\n          return promiseResolvedWith(void 0);\n        }\n        function cancel1Algorithm(reason) {\n          canceled1 = true;\n          reason1 = reason;\n          if (canceled2) {\n            const compositeReason = CreateArrayFromList([reason1, reason2]);\n            const cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n          }\n          return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n          canceled2 = true;\n          reason2 = reason;\n          if (canceled1) {\n            const compositeReason = CreateArrayFromList([reason1, reason2]);\n            const cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n          }\n          return cancelPromise;\n        }\n        function startAlgorithm() {\n        }\n        branch1 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel1Algorithm);\n        branch2 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel2Algorithm);\n        uponRejection(reader._closedPromise, (r2) => {\n          ReadableStreamDefaultControllerError(branch1._readableStreamController, r2);\n          ReadableStreamDefaultControllerError(branch2._readableStreamController, r2);\n          if (!canceled1 || !canceled2) {\n            resolveCancelPromise(void 0);\n          }\n        });\n        return [branch1, branch2];\n      }\n      function ReadableByteStreamTee(stream) {\n        let reader = AcquireReadableStreamDefaultReader(stream);\n        let reading = false;\n        let readAgainForBranch1 = false;\n        let readAgainForBranch2 = false;\n        let canceled1 = false;\n        let canceled2 = false;\n        let reason1;\n        let reason2;\n        let branch1;\n        let branch2;\n        let resolveCancelPromise;\n        const cancelPromise = newPromise((resolve) => {\n          resolveCancelPromise = resolve;\n        });\n        function forwardReaderError(thisReader) {\n          uponRejection(thisReader._closedPromise, (r2) => {\n            if (thisReader !== reader) {\n              return;\n            }\n            ReadableByteStreamControllerError(branch1._readableStreamController, r2);\n            ReadableByteStreamControllerError(branch2._readableStreamController, r2);\n            if (!canceled1 || !canceled2) {\n              resolveCancelPromise(void 0);\n            }\n          });\n        }\n        function pullWithDefaultReader() {\n          if (IsReadableStreamBYOBReader(reader)) {\n            ReadableStreamReaderGenericRelease(reader);\n            reader = AcquireReadableStreamDefaultReader(stream);\n            forwardReaderError(reader);\n          }\n          const readRequest = {\n            _chunkSteps: (chunk) => {\n              queueMicrotask(() => {\n                readAgainForBranch1 = false;\n                readAgainForBranch2 = false;\n                const chunk1 = chunk;\n                let chunk2 = chunk;\n                if (!canceled1 && !canceled2) {\n                  try {\n                    chunk2 = CloneAsUint8Array(chunk);\n                  } catch (cloneE) {\n                    ReadableByteStreamControllerError(branch1._readableStreamController, cloneE);\n                    ReadableByteStreamControllerError(branch2._readableStreamController, cloneE);\n                    resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                    return;\n                  }\n                }\n                if (!canceled1) {\n                  ReadableByteStreamControllerEnqueue(branch1._readableStreamController, chunk1);\n                }\n                if (!canceled2) {\n                  ReadableByteStreamControllerEnqueue(branch2._readableStreamController, chunk2);\n                }\n                reading = false;\n                if (readAgainForBranch1) {\n                  pull1Algorithm();\n                } else if (readAgainForBranch2) {\n                  pull2Algorithm();\n                }\n              });\n            },\n            _closeSteps: () => {\n              reading = false;\n              if (!canceled1) {\n                ReadableByteStreamControllerClose(branch1._readableStreamController);\n              }\n              if (!canceled2) {\n                ReadableByteStreamControllerClose(branch2._readableStreamController);\n              }\n              if (branch1._readableStreamController._pendingPullIntos.length > 0) {\n                ReadableByteStreamControllerRespond(branch1._readableStreamController, 0);\n              }\n              if (branch2._readableStreamController._pendingPullIntos.length > 0) {\n                ReadableByteStreamControllerRespond(branch2._readableStreamController, 0);\n              }\n              if (!canceled1 || !canceled2) {\n                resolveCancelPromise(void 0);\n              }\n            },\n            _errorSteps: () => {\n              reading = false;\n            }\n          };\n          ReadableStreamDefaultReaderRead(reader, readRequest);\n        }\n        function pullWithBYOBReader(view, forBranch2) {\n          if (IsReadableStreamDefaultReader(reader)) {\n            ReadableStreamReaderGenericRelease(reader);\n            reader = AcquireReadableStreamBYOBReader(stream);\n            forwardReaderError(reader);\n          }\n          const byobBranch = forBranch2 ? branch2 : branch1;\n          const otherBranch = forBranch2 ? branch1 : branch2;\n          const readIntoRequest = {\n            _chunkSteps: (chunk) => {\n              queueMicrotask(() => {\n                readAgainForBranch1 = false;\n                readAgainForBranch2 = false;\n                const byobCanceled = forBranch2 ? canceled2 : canceled1;\n                const otherCanceled = forBranch2 ? canceled1 : canceled2;\n                if (!otherCanceled) {\n                  let clonedChunk;\n                  try {\n                    clonedChunk = CloneAsUint8Array(chunk);\n                  } catch (cloneE) {\n                    ReadableByteStreamControllerError(byobBranch._readableStreamController, cloneE);\n                    ReadableByteStreamControllerError(otherBranch._readableStreamController, cloneE);\n                    resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                    return;\n                  }\n                  if (!byobCanceled) {\n                    ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                  }\n                  ReadableByteStreamControllerEnqueue(otherBranch._readableStreamController, clonedChunk);\n                } else if (!byobCanceled) {\n                  ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                }\n                reading = false;\n                if (readAgainForBranch1) {\n                  pull1Algorithm();\n                } else if (readAgainForBranch2) {\n                  pull2Algorithm();\n                }\n              });\n            },\n            _closeSteps: (chunk) => {\n              reading = false;\n              const byobCanceled = forBranch2 ? canceled2 : canceled1;\n              const otherCanceled = forBranch2 ? canceled1 : canceled2;\n              if (!byobCanceled) {\n                ReadableByteStreamControllerClose(byobBranch._readableStreamController);\n              }\n              if (!otherCanceled) {\n                ReadableByteStreamControllerClose(otherBranch._readableStreamController);\n              }\n              if (chunk !== void 0) {\n                if (!byobCanceled) {\n                  ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                }\n                if (!otherCanceled && otherBranch._readableStreamController._pendingPullIntos.length > 0) {\n                  ReadableByteStreamControllerRespond(otherBranch._readableStreamController, 0);\n                }\n              }\n              if (!byobCanceled || !otherCanceled) {\n                resolveCancelPromise(void 0);\n              }\n            },\n            _errorSteps: () => {\n              reading = false;\n            }\n          };\n          ReadableStreamBYOBReaderRead(reader, view, readIntoRequest);\n        }\n        function pull1Algorithm() {\n          if (reading) {\n            readAgainForBranch1 = true;\n            return promiseResolvedWith(void 0);\n          }\n          reading = true;\n          const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch1._readableStreamController);\n          if (byobRequest === null) {\n            pullWithDefaultReader();\n          } else {\n            pullWithBYOBReader(byobRequest._view, false);\n          }\n          return promiseResolvedWith(void 0);\n        }\n        function pull2Algorithm() {\n          if (reading) {\n            readAgainForBranch2 = true;\n            return promiseResolvedWith(void 0);\n          }\n          reading = true;\n          const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch2._readableStreamController);\n          if (byobRequest === null) {\n            pullWithDefaultReader();\n          } else {\n            pullWithBYOBReader(byobRequest._view, true);\n          }\n          return promiseResolvedWith(void 0);\n        }\n        function cancel1Algorithm(reason) {\n          canceled1 = true;\n          reason1 = reason;\n          if (canceled2) {\n            const compositeReason = CreateArrayFromList([reason1, reason2]);\n            const cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n          }\n          return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n          canceled2 = true;\n          reason2 = reason;\n          if (canceled1) {\n            const compositeReason = CreateArrayFromList([reason1, reason2]);\n            const cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n          }\n          return cancelPromise;\n        }\n        function startAlgorithm() {\n          return;\n        }\n        branch1 = CreateReadableByteStream(startAlgorithm, pull1Algorithm, cancel1Algorithm);\n        branch2 = CreateReadableByteStream(startAlgorithm, pull2Algorithm, cancel2Algorithm);\n        forwardReaderError(reader);\n        return [branch1, branch2];\n      }\n      function convertUnderlyingDefaultOrByteSource(source, context) {\n        assertDictionary(source, context);\n        const original = source;\n        const autoAllocateChunkSize = original === null || original === void 0 ? void 0 : original.autoAllocateChunkSize;\n        const cancel = original === null || original === void 0 ? void 0 : original.cancel;\n        const pull = original === null || original === void 0 ? void 0 : original.pull;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const type = original === null || original === void 0 ? void 0 : original.type;\n        return {\n          autoAllocateChunkSize: autoAllocateChunkSize === void 0 ? void 0 : convertUnsignedLongLongWithEnforceRange(autoAllocateChunkSize, `${context} has member 'autoAllocateChunkSize' that`),\n          cancel: cancel === void 0 ? void 0 : convertUnderlyingSourceCancelCallback(cancel, original, `${context} has member 'cancel' that`),\n          pull: pull === void 0 ? void 0 : convertUnderlyingSourcePullCallback(pull, original, `${context} has member 'pull' that`),\n          start: start === void 0 ? void 0 : convertUnderlyingSourceStartCallback(start, original, `${context} has member 'start' that`),\n          type: type === void 0 ? void 0 : convertReadableStreamType(type, `${context} has member 'type' that`)\n        };\n      }\n      function convertUnderlyingSourceCancelCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (reason) => promiseCall(fn, original, [reason]);\n      }\n      function convertUnderlyingSourcePullCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => promiseCall(fn, original, [controller]);\n      }\n      function convertUnderlyingSourceStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n      }\n      function convertReadableStreamType(type, context) {\n        type = `${type}`;\n        if (type !== \"bytes\") {\n          throw new TypeError(`${context} '${type}' is not a valid enumeration value for ReadableStreamType`);\n        }\n        return type;\n      }\n      function convertReaderOptions(options, context) {\n        assertDictionary(options, context);\n        const mode = options === null || options === void 0 ? void 0 : options.mode;\n        return {\n          mode: mode === void 0 ? void 0 : convertReadableStreamReaderMode(mode, `${context} has member 'mode' that`)\n        };\n      }\n      function convertReadableStreamReaderMode(mode, context) {\n        mode = `${mode}`;\n        if (mode !== \"byob\") {\n          throw new TypeError(`${context} '${mode}' is not a valid enumeration value for ReadableStreamReaderMode`);\n        }\n        return mode;\n      }\n      function convertIteratorOptions(options, context) {\n        assertDictionary(options, context);\n        const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        return { preventCancel: Boolean(preventCancel) };\n      }\n      function convertPipeOptions(options, context) {\n        assertDictionary(options, context);\n        const preventAbort = options === null || options === void 0 ? void 0 : options.preventAbort;\n        const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        const preventClose = options === null || options === void 0 ? void 0 : options.preventClose;\n        const signal = options === null || options === void 0 ? void 0 : options.signal;\n        if (signal !== void 0) {\n          assertAbortSignal(signal, `${context} has member 'signal' that`);\n        }\n        return {\n          preventAbort: Boolean(preventAbort),\n          preventCancel: Boolean(preventCancel),\n          preventClose: Boolean(preventClose),\n          signal\n        };\n      }\n      function assertAbortSignal(signal, context) {\n        if (!isAbortSignal2(signal)) {\n          throw new TypeError(`${context} is not an AbortSignal.`);\n        }\n      }\n      function convertReadableWritablePair(pair, context) {\n        assertDictionary(pair, context);\n        const readable = pair === null || pair === void 0 ? void 0 : pair.readable;\n        assertRequiredField(readable, \"readable\", \"ReadableWritablePair\");\n        assertReadableStream(readable, `${context} has member 'readable' that`);\n        const writable = pair === null || pair === void 0 ? void 0 : pair.writable;\n        assertRequiredField(writable, \"writable\", \"ReadableWritablePair\");\n        assertWritableStream(writable, `${context} has member 'writable' that`);\n        return { readable, writable };\n      }\n      class ReadableStream2 {\n        constructor(rawUnderlyingSource = {}, rawStrategy = {}) {\n          if (rawUnderlyingSource === void 0) {\n            rawUnderlyingSource = null;\n          } else {\n            assertObject(rawUnderlyingSource, \"First parameter\");\n          }\n          const strategy = convertQueuingStrategy(rawStrategy, \"Second parameter\");\n          const underlyingSource = convertUnderlyingDefaultOrByteSource(rawUnderlyingSource, \"First parameter\");\n          InitializeReadableStream(this);\n          if (underlyingSource.type === \"bytes\") {\n            if (strategy.size !== void 0) {\n              throw new RangeError(\"The strategy for a byte stream cannot have a size function\");\n            }\n            const highWaterMark = ExtractHighWaterMark(strategy, 0);\n            SetUpReadableByteStreamControllerFromUnderlyingSource(this, underlyingSource, highWaterMark);\n          } else {\n            const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n            const highWaterMark = ExtractHighWaterMark(strategy, 1);\n            SetUpReadableStreamDefaultControllerFromUnderlyingSource(this, underlyingSource, highWaterMark, sizeAlgorithm);\n          }\n        }\n        get locked() {\n          if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1(\"locked\");\n          }\n          return IsReadableStreamLocked(this);\n        }\n        cancel(reason = void 0) {\n          if (!IsReadableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$1(\"cancel\"));\n          }\n          if (IsReadableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError(\"Cannot cancel a stream that already has a reader\"));\n          }\n          return ReadableStreamCancel(this, reason);\n        }\n        getReader(rawOptions = void 0) {\n          if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1(\"getReader\");\n          }\n          const options = convertReaderOptions(rawOptions, \"First parameter\");\n          if (options.mode === void 0) {\n            return AcquireReadableStreamDefaultReader(this);\n          }\n          return AcquireReadableStreamBYOBReader(this);\n        }\n        pipeThrough(rawTransform, rawOptions = {}) {\n          if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1(\"pipeThrough\");\n          }\n          assertRequiredArgument(rawTransform, 1, \"pipeThrough\");\n          const transform = convertReadableWritablePair(rawTransform, \"First parameter\");\n          const options = convertPipeOptions(rawOptions, \"Second parameter\");\n          if (IsReadableStreamLocked(this)) {\n            throw new TypeError(\"ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream\");\n          }\n          if (IsWritableStreamLocked(transform.writable)) {\n            throw new TypeError(\"ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream\");\n          }\n          const promise = ReadableStreamPipeTo(this, transform.writable, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n          setPromiseIsHandledToTrue(promise);\n          return transform.readable;\n        }\n        pipeTo(destination, rawOptions = {}) {\n          if (!IsReadableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$1(\"pipeTo\"));\n          }\n          if (destination === void 0) {\n            return promiseRejectedWith(`Parameter 1 is required in 'pipeTo'.`);\n          }\n          if (!IsWritableStream(destination)) {\n            return promiseRejectedWith(new TypeError(`ReadableStream.prototype.pipeTo's first argument must be a WritableStream`));\n          }\n          let options;\n          try {\n            options = convertPipeOptions(rawOptions, \"Second parameter\");\n          } catch (e2) {\n            return promiseRejectedWith(e2);\n          }\n          if (IsReadableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError(\"ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream\"));\n          }\n          if (IsWritableStreamLocked(destination)) {\n            return promiseRejectedWith(new TypeError(\"ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream\"));\n          }\n          return ReadableStreamPipeTo(this, destination, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n        }\n        tee() {\n          if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1(\"tee\");\n          }\n          const branches = ReadableStreamTee(this);\n          return CreateArrayFromList(branches);\n        }\n        values(rawOptions = void 0) {\n          if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1(\"values\");\n          }\n          const options = convertIteratorOptions(rawOptions, \"First parameter\");\n          return AcquireReadableStreamAsyncIterator(this, options.preventCancel);\n        }\n      }\n      Object.defineProperties(ReadableStream2.prototype, {\n        cancel: { enumerable: true },\n        getReader: { enumerable: true },\n        pipeThrough: { enumerable: true },\n        pipeTo: { enumerable: true },\n        tee: { enumerable: true },\n        values: { enumerable: true },\n        locked: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(ReadableStream2.prototype, SymbolPolyfill.toStringTag, {\n          value: \"ReadableStream\",\n          configurable: true\n        });\n      }\n      if (typeof SymbolPolyfill.asyncIterator === \"symbol\") {\n        Object.defineProperty(ReadableStream2.prototype, SymbolPolyfill.asyncIterator, {\n          value: ReadableStream2.prototype.values,\n          writable: true,\n          configurable: true\n        });\n      }\n      function CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n        const stream = Object.create(ReadableStream2.prototype);\n        InitializeReadableStream(stream);\n        const controller = Object.create(ReadableStreamDefaultController.prototype);\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n      }\n      function CreateReadableByteStream(startAlgorithm, pullAlgorithm, cancelAlgorithm) {\n        const stream = Object.create(ReadableStream2.prototype);\n        InitializeReadableStream(stream);\n        const controller = Object.create(ReadableByteStreamController.prototype);\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, 0, void 0);\n        return stream;\n      }\n      function InitializeReadableStream(stream) {\n        stream._state = \"readable\";\n        stream._reader = void 0;\n        stream._storedError = void 0;\n        stream._disturbed = false;\n      }\n      function IsReadableStream(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_readableStreamController\")) {\n          return false;\n        }\n        return x2 instanceof ReadableStream2;\n      }\n      function IsReadableStreamLocked(stream) {\n        if (stream._reader === void 0) {\n          return false;\n        }\n        return true;\n      }\n      function ReadableStreamCancel(stream, reason) {\n        stream._disturbed = true;\n        if (stream._state === \"closed\") {\n          return promiseResolvedWith(void 0);\n        }\n        if (stream._state === \"errored\") {\n          return promiseRejectedWith(stream._storedError);\n        }\n        ReadableStreamClose(stream);\n        const reader = stream._reader;\n        if (reader !== void 0 && IsReadableStreamBYOBReader(reader)) {\n          reader._readIntoRequests.forEach((readIntoRequest) => {\n            readIntoRequest._closeSteps(void 0);\n          });\n          reader._readIntoRequests = new SimpleQueue();\n        }\n        const sourceCancelPromise = stream._readableStreamController[CancelSteps](reason);\n        return transformPromiseWith(sourceCancelPromise, noop2);\n      }\n      function ReadableStreamClose(stream) {\n        stream._state = \"closed\";\n        const reader = stream._reader;\n        if (reader === void 0) {\n          return;\n        }\n        defaultReaderClosedPromiseResolve(reader);\n        if (IsReadableStreamDefaultReader(reader)) {\n          reader._readRequests.forEach((readRequest) => {\n            readRequest._closeSteps();\n          });\n          reader._readRequests = new SimpleQueue();\n        }\n      }\n      function ReadableStreamError(stream, e2) {\n        stream._state = \"errored\";\n        stream._storedError = e2;\n        const reader = stream._reader;\n        if (reader === void 0) {\n          return;\n        }\n        defaultReaderClosedPromiseReject(reader, e2);\n        if (IsReadableStreamDefaultReader(reader)) {\n          reader._readRequests.forEach((readRequest) => {\n            readRequest._errorSteps(e2);\n          });\n          reader._readRequests = new SimpleQueue();\n        } else {\n          reader._readIntoRequests.forEach((readIntoRequest) => {\n            readIntoRequest._errorSteps(e2);\n          });\n          reader._readIntoRequests = new SimpleQueue();\n        }\n      }\n      function streamBrandCheckException$1(name) {\n        return new TypeError(`ReadableStream.prototype.${name} can only be used on a ReadableStream`);\n      }\n      function convertQueuingStrategyInit(init, context) {\n        assertDictionary(init, context);\n        const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        assertRequiredField(highWaterMark, \"highWaterMark\", \"QueuingStrategyInit\");\n        return {\n          highWaterMark: convertUnrestrictedDouble(highWaterMark)\n        };\n      }\n      const byteLengthSizeFunction = (chunk) => {\n        return chunk.byteLength;\n      };\n      try {\n        Object.defineProperty(byteLengthSizeFunction, \"name\", {\n          value: \"size\",\n          configurable: true\n        });\n      } catch (_a) {\n      }\n      class ByteLengthQueuingStrategy {\n        constructor(options) {\n          assertRequiredArgument(options, 1, \"ByteLengthQueuingStrategy\");\n          options = convertQueuingStrategyInit(options, \"First parameter\");\n          this._byteLengthQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        get highWaterMark() {\n          if (!IsByteLengthQueuingStrategy(this)) {\n            throw byteLengthBrandCheckException(\"highWaterMark\");\n          }\n          return this._byteLengthQueuingStrategyHighWaterMark;\n        }\n        get size() {\n          if (!IsByteLengthQueuingStrategy(this)) {\n            throw byteLengthBrandCheckException(\"size\");\n          }\n          return byteLengthSizeFunction;\n        }\n      }\n      Object.defineProperties(ByteLengthQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(ByteLengthQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n          value: \"ByteLengthQueuingStrategy\",\n          configurable: true\n        });\n      }\n      function byteLengthBrandCheckException(name) {\n        return new TypeError(`ByteLengthQueuingStrategy.prototype.${name} can only be used on a ByteLengthQueuingStrategy`);\n      }\n      function IsByteLengthQueuingStrategy(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_byteLengthQueuingStrategyHighWaterMark\")) {\n          return false;\n        }\n        return x2 instanceof ByteLengthQueuingStrategy;\n      }\n      const countSizeFunction = () => {\n        return 1;\n      };\n      try {\n        Object.defineProperty(countSizeFunction, \"name\", {\n          value: \"size\",\n          configurable: true\n        });\n      } catch (_a) {\n      }\n      class CountQueuingStrategy {\n        constructor(options) {\n          assertRequiredArgument(options, 1, \"CountQueuingStrategy\");\n          options = convertQueuingStrategyInit(options, \"First parameter\");\n          this._countQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        get highWaterMark() {\n          if (!IsCountQueuingStrategy(this)) {\n            throw countBrandCheckException(\"highWaterMark\");\n          }\n          return this._countQueuingStrategyHighWaterMark;\n        }\n        get size() {\n          if (!IsCountQueuingStrategy(this)) {\n            throw countBrandCheckException(\"size\");\n          }\n          return countSizeFunction;\n        }\n      }\n      Object.defineProperties(CountQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(CountQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n          value: \"CountQueuingStrategy\",\n          configurable: true\n        });\n      }\n      function countBrandCheckException(name) {\n        return new TypeError(`CountQueuingStrategy.prototype.${name} can only be used on a CountQueuingStrategy`);\n      }\n      function IsCountQueuingStrategy(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_countQueuingStrategyHighWaterMark\")) {\n          return false;\n        }\n        return x2 instanceof CountQueuingStrategy;\n      }\n      function convertTransformer(original, context) {\n        assertDictionary(original, context);\n        const flush = original === null || original === void 0 ? void 0 : original.flush;\n        const readableType = original === null || original === void 0 ? void 0 : original.readableType;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const transform = original === null || original === void 0 ? void 0 : original.transform;\n        const writableType = original === null || original === void 0 ? void 0 : original.writableType;\n        return {\n          flush: flush === void 0 ? void 0 : convertTransformerFlushCallback(flush, original, `${context} has member 'flush' that`),\n          readableType,\n          start: start === void 0 ? void 0 : convertTransformerStartCallback(start, original, `${context} has member 'start' that`),\n          transform: transform === void 0 ? void 0 : convertTransformerTransformCallback(transform, original, `${context} has member 'transform' that`),\n          writableType\n        };\n      }\n      function convertTransformerFlushCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => promiseCall(fn, original, [controller]);\n      }\n      function convertTransformerStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n      }\n      function convertTransformerTransformCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n      }\n      class TransformStream {\n        constructor(rawTransformer = {}, rawWritableStrategy = {}, rawReadableStrategy = {}) {\n          if (rawTransformer === void 0) {\n            rawTransformer = null;\n          }\n          const writableStrategy = convertQueuingStrategy(rawWritableStrategy, \"Second parameter\");\n          const readableStrategy = convertQueuingStrategy(rawReadableStrategy, \"Third parameter\");\n          const transformer = convertTransformer(rawTransformer, \"First parameter\");\n          if (transformer.readableType !== void 0) {\n            throw new RangeError(\"Invalid readableType specified\");\n          }\n          if (transformer.writableType !== void 0) {\n            throw new RangeError(\"Invalid writableType specified\");\n          }\n          const readableHighWaterMark = ExtractHighWaterMark(readableStrategy, 0);\n          const readableSizeAlgorithm = ExtractSizeAlgorithm(readableStrategy);\n          const writableHighWaterMark = ExtractHighWaterMark(writableStrategy, 1);\n          const writableSizeAlgorithm = ExtractSizeAlgorithm(writableStrategy);\n          let startPromise_resolve;\n          const startPromise = newPromise((resolve) => {\n            startPromise_resolve = resolve;\n          });\n          InitializeTransformStream(this, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n          SetUpTransformStreamDefaultControllerFromTransformer(this, transformer);\n          if (transformer.start !== void 0) {\n            startPromise_resolve(transformer.start(this._transformStreamController));\n          } else {\n            startPromise_resolve(void 0);\n          }\n        }\n        get readable() {\n          if (!IsTransformStream(this)) {\n            throw streamBrandCheckException(\"readable\");\n          }\n          return this._readable;\n        }\n        get writable() {\n          if (!IsTransformStream(this)) {\n            throw streamBrandCheckException(\"writable\");\n          }\n          return this._writable;\n        }\n      }\n      Object.defineProperties(TransformStream.prototype, {\n        readable: { enumerable: true },\n        writable: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(TransformStream.prototype, SymbolPolyfill.toStringTag, {\n          value: \"TransformStream\",\n          configurable: true\n        });\n      }\n      function InitializeTransformStream(stream, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm) {\n        function startAlgorithm() {\n          return startPromise;\n        }\n        function writeAlgorithm(chunk) {\n          return TransformStreamDefaultSinkWriteAlgorithm(stream, chunk);\n        }\n        function abortAlgorithm(reason) {\n          return TransformStreamDefaultSinkAbortAlgorithm(stream, reason);\n        }\n        function closeAlgorithm() {\n          return TransformStreamDefaultSinkCloseAlgorithm(stream);\n        }\n        stream._writable = CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, writableHighWaterMark, writableSizeAlgorithm);\n        function pullAlgorithm() {\n          return TransformStreamDefaultSourcePullAlgorithm(stream);\n        }\n        function cancelAlgorithm(reason) {\n          TransformStreamErrorWritableAndUnblockWrite(stream, reason);\n          return promiseResolvedWith(void 0);\n        }\n        stream._readable = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n        stream._backpressure = void 0;\n        stream._backpressureChangePromise = void 0;\n        stream._backpressureChangePromise_resolve = void 0;\n        TransformStreamSetBackpressure(stream, true);\n        stream._transformStreamController = void 0;\n      }\n      function IsTransformStream(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_transformStreamController\")) {\n          return false;\n        }\n        return x2 instanceof TransformStream;\n      }\n      function TransformStreamError(stream, e2) {\n        ReadableStreamDefaultControllerError(stream._readable._readableStreamController, e2);\n        TransformStreamErrorWritableAndUnblockWrite(stream, e2);\n      }\n      function TransformStreamErrorWritableAndUnblockWrite(stream, e2) {\n        TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController);\n        WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController, e2);\n        if (stream._backpressure) {\n          TransformStreamSetBackpressure(stream, false);\n        }\n      }\n      function TransformStreamSetBackpressure(stream, backpressure) {\n        if (stream._backpressureChangePromise !== void 0) {\n          stream._backpressureChangePromise_resolve();\n        }\n        stream._backpressureChangePromise = newPromise((resolve) => {\n          stream._backpressureChangePromise_resolve = resolve;\n        });\n        stream._backpressure = backpressure;\n      }\n      class TransformStreamDefaultController {\n        constructor() {\n          throw new TypeError(\"Illegal constructor\");\n        }\n        get desiredSize() {\n          if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException(\"desiredSize\");\n          }\n          const readableController = this._controlledTransformStream._readable._readableStreamController;\n          return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n        }\n        enqueue(chunk = void 0) {\n          if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException(\"enqueue\");\n          }\n          TransformStreamDefaultControllerEnqueue(this, chunk);\n        }\n        error(reason = void 0) {\n          if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException(\"error\");\n          }\n          TransformStreamDefaultControllerError(this, reason);\n        }\n        terminate() {\n          if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException(\"terminate\");\n          }\n          TransformStreamDefaultControllerTerminate(this);\n        }\n      }\n      Object.defineProperties(TransformStreamDefaultController.prototype, {\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        terminate: { enumerable: true },\n        desiredSize: { enumerable: true }\n      });\n      if (typeof SymbolPolyfill.toStringTag === \"symbol\") {\n        Object.defineProperty(TransformStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n          value: \"TransformStreamDefaultController\",\n          configurable: true\n        });\n      }\n      function IsTransformStreamDefaultController(x2) {\n        if (!typeIsObject(x2)) {\n          return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x2, \"_controlledTransformStream\")) {\n          return false;\n        }\n        return x2 instanceof TransformStreamDefaultController;\n      }\n      function SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm) {\n        controller._controlledTransformStream = stream;\n        stream._transformStreamController = controller;\n        controller._transformAlgorithm = transformAlgorithm;\n        controller._flushAlgorithm = flushAlgorithm;\n      }\n      function SetUpTransformStreamDefaultControllerFromTransformer(stream, transformer) {\n        const controller = Object.create(TransformStreamDefaultController.prototype);\n        let transformAlgorithm = (chunk) => {\n          try {\n            TransformStreamDefaultControllerEnqueue(controller, chunk);\n            return promiseResolvedWith(void 0);\n          } catch (transformResultE) {\n            return promiseRejectedWith(transformResultE);\n          }\n        };\n        let flushAlgorithm = () => promiseResolvedWith(void 0);\n        if (transformer.transform !== void 0) {\n          transformAlgorithm = (chunk) => transformer.transform(chunk, controller);\n        }\n        if (transformer.flush !== void 0) {\n          flushAlgorithm = () => transformer.flush(controller);\n        }\n        SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm);\n      }\n      function TransformStreamDefaultControllerClearAlgorithms(controller) {\n        controller._transformAlgorithm = void 0;\n        controller._flushAlgorithm = void 0;\n      }\n      function TransformStreamDefaultControllerEnqueue(controller, chunk) {\n        const stream = controller._controlledTransformStream;\n        const readableController = stream._readable._readableStreamController;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)) {\n          throw new TypeError(\"Readable side is not in a state that permits enqueue\");\n        }\n        try {\n          ReadableStreamDefaultControllerEnqueue(readableController, chunk);\n        } catch (e2) {\n          TransformStreamErrorWritableAndUnblockWrite(stream, e2);\n          throw stream._readable._storedError;\n        }\n        const backpressure = ReadableStreamDefaultControllerHasBackpressure(readableController);\n        if (backpressure !== stream._backpressure) {\n          TransformStreamSetBackpressure(stream, true);\n        }\n      }\n      function TransformStreamDefaultControllerError(controller, e2) {\n        TransformStreamError(controller._controlledTransformStream, e2);\n      }\n      function TransformStreamDefaultControllerPerformTransform(controller, chunk) {\n        const transformPromise = controller._transformAlgorithm(chunk);\n        return transformPromiseWith(transformPromise, void 0, (r2) => {\n          TransformStreamError(controller._controlledTransformStream, r2);\n          throw r2;\n        });\n      }\n      function TransformStreamDefaultControllerTerminate(controller) {\n        const stream = controller._controlledTransformStream;\n        const readableController = stream._readable._readableStreamController;\n        ReadableStreamDefaultControllerClose(readableController);\n        const error = new TypeError(\"TransformStream terminated\");\n        TransformStreamErrorWritableAndUnblockWrite(stream, error);\n      }\n      function TransformStreamDefaultSinkWriteAlgorithm(stream, chunk) {\n        const controller = stream._transformStreamController;\n        if (stream._backpressure) {\n          const backpressureChangePromise = stream._backpressureChangePromise;\n          return transformPromiseWith(backpressureChangePromise, () => {\n            const writable = stream._writable;\n            const state = writable._state;\n            if (state === \"erroring\") {\n              throw writable._storedError;\n            }\n            return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n          });\n        }\n        return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n      }\n      function TransformStreamDefaultSinkAbortAlgorithm(stream, reason) {\n        TransformStreamError(stream, reason);\n        return promiseResolvedWith(void 0);\n      }\n      function TransformStreamDefaultSinkCloseAlgorithm(stream) {\n        const readable = stream._readable;\n        const controller = stream._transformStreamController;\n        const flushPromise = controller._flushAlgorithm();\n        TransformStreamDefaultControllerClearAlgorithms(controller);\n        return transformPromiseWith(flushPromise, () => {\n          if (readable._state === \"errored\") {\n            throw readable._storedError;\n          }\n          ReadableStreamDefaultControllerClose(readable._readableStreamController);\n        }, (r2) => {\n          TransformStreamError(stream, r2);\n          throw readable._storedError;\n        });\n      }\n      function TransformStreamDefaultSourcePullAlgorithm(stream) {\n        TransformStreamSetBackpressure(stream, false);\n        return stream._backpressureChangePromise;\n      }\n      function defaultControllerBrandCheckException(name) {\n        return new TypeError(`TransformStreamDefaultController.prototype.${name} can only be used on a TransformStreamDefaultController`);\n      }\n      function streamBrandCheckException(name) {\n        return new TypeError(`TransformStream.prototype.${name} can only be used on a TransformStream`);\n      }\n      exports2.ByteLengthQueuingStrategy = ByteLengthQueuingStrategy;\n      exports2.CountQueuingStrategy = CountQueuingStrategy;\n      exports2.ReadableByteStreamController = ReadableByteStreamController;\n      exports2.ReadableStream = ReadableStream2;\n      exports2.ReadableStreamBYOBReader = ReadableStreamBYOBReader;\n      exports2.ReadableStreamBYOBRequest = ReadableStreamBYOBRequest;\n      exports2.ReadableStreamDefaultController = ReadableStreamDefaultController;\n      exports2.ReadableStreamDefaultReader = ReadableStreamDefaultReader;\n      exports2.TransformStream = TransformStream;\n      exports2.TransformStreamDefaultController = TransformStreamDefaultController;\n      exports2.WritableStream = WritableStream;\n      exports2.WritableStreamDefaultController = WritableStreamDefaultController;\n      exports2.WritableStreamDefaultWriter = WritableStreamDefaultWriter;\n      Object.defineProperty(exports2, \"__esModule\", { value: true });\n    });\n  }\n});\n\n// node_modules/fetch-blob/streams.cjs\nvar require_streams = __commonJS({\n  \"node_modules/fetch-blob/streams.cjs\"() {\n    var POOL_SIZE2 = 65536;\n    if (!globalThis.ReadableStream) {\n      try {\n        const process2 = require(\"process\");\n        const { emitWarning } = process2;\n        try {\n          process2.emitWarning = () => {\n          };\n          Object.assign(globalThis, require(\"stream/web\"));\n          process2.emitWarning = emitWarning;\n        } catch (error) {\n          process2.emitWarning = emitWarning;\n          throw error;\n        }\n      } catch (error) {\n        Object.assign(globalThis, require_ponyfill_es2018());\n      }\n    }\n    try {\n      const { Blob: Blob3 } = require(\"buffer\");\n      if (Blob3 && !Blob3.prototype.stream) {\n        Blob3.prototype.stream = function name(params) {\n          let position = 0;\n          const blob = this;\n          return new ReadableStream({\n            type: \"bytes\",\n            async pull(ctrl) {\n              const chunk = blob.slice(position, Math.min(blob.size, position + POOL_SIZE2));\n              const buffer = await chunk.arrayBuffer();\n              position += buffer.byteLength;\n              ctrl.enqueue(new Uint8Array(buffer));\n              if (position === blob.size) {\n                ctrl.close();\n              }\n            }\n          });\n        };\n      }\n    } catch (error) {\n    }\n  }\n});\n\n// node_modules/fetch-blob/index.js\nasync function* toIterator(parts, clone2 = true) {\n  for (const part of parts) {\n    if (\"stream\" in part) {\n      yield* part.stream();\n    } else if (ArrayBuffer.isView(part)) {\n      if (clone2) {\n        let position = part.byteOffset;\n        const end = part.byteOffset + part.byteLength;\n        while (position !== end) {\n          const size = Math.min(end - position, POOL_SIZE);\n          const chunk = part.buffer.slice(position, position + size);\n          position += chunk.byteLength;\n          yield new Uint8Array(chunk);\n        }\n      } else {\n        yield part;\n      }\n    } else {\n      let position = 0, b = part;\n      while (position !== b.size) {\n        const chunk = b.slice(position, Math.min(b.size, position + POOL_SIZE));\n        const buffer = await chunk.arrayBuffer();\n        position += buffer.byteLength;\n        yield new Uint8Array(buffer);\n      }\n    }\n  }\n}\nvar import_streams, POOL_SIZE, _Blob, Blob2, fetch_blob_default;\nvar init_fetch_blob = __esm({\n  \"node_modules/fetch-blob/index.js\"() {\n    import_streams = __toModule(require_streams());\n    POOL_SIZE = 65536;\n    _Blob = class Blob {\n      #parts = [];\n      #type = \"\";\n      #size = 0;\n      #endings = \"transparent\";\n      constructor(blobParts = [], options = {}) {\n        if (typeof blobParts !== \"object\" || blobParts === null) {\n          throw new TypeError(\"Failed to construct 'Blob': The provided value cannot be converted to a sequence.\");\n        }\n        if (typeof blobParts[Symbol.iterator] !== \"function\") {\n          throw new TypeError(\"Failed to construct 'Blob': The object must have a callable @@iterator property.\");\n        }\n        if (typeof options !== \"object\" && typeof options !== \"function\") {\n          throw new TypeError(\"Failed to construct 'Blob': parameter 2 cannot convert to dictionary.\");\n        }\n        if (options === null)\n          options = {};\n        const encoder = new TextEncoder();\n        for (const element of blobParts) {\n          let part;\n          if (ArrayBuffer.isView(element)) {\n            part = new Uint8Array(element.buffer.slice(element.byteOffset, element.byteOffset + element.byteLength));\n          } else if (element instanceof ArrayBuffer) {\n            part = new Uint8Array(element.slice(0));\n          } else if (element instanceof Blob) {\n            part = element;\n          } else {\n            part = encoder.encode(`${element}`);\n          }\n          this.#size += ArrayBuffer.isView(part) ? part.byteLength : part.size;\n          this.#parts.push(part);\n        }\n        this.#endings = `${options.endings === void 0 ? \"transparent\" : options.endings}`;\n        const type = options.type === void 0 ? \"\" : String(options.type);\n        this.#type = /^[\\x20-\\x7E]*$/.test(type) ? type : \"\";\n      }\n      get size() {\n        return this.#size;\n      }\n      get type() {\n        return this.#type;\n      }\n      async text() {\n        const decoder = new TextDecoder();\n        let str = \"\";\n        for await (const part of toIterator(this.#parts, false)) {\n          str += decoder.decode(part, { stream: true });\n        }\n        str += decoder.decode();\n        return str;\n      }\n      async arrayBuffer() {\n        const data = new Uint8Array(this.size);\n        let offset = 0;\n        for await (const chunk of toIterator(this.#parts, false)) {\n          data.set(chunk, offset);\n          offset += chunk.length;\n        }\n        return data.buffer;\n      }\n      stream() {\n        const it = toIterator(this.#parts, true);\n        return new globalThis.ReadableStream({\n          type: \"bytes\",\n          async pull(ctrl) {\n            const chunk = await it.next();\n            chunk.done ? ctrl.close() : ctrl.enqueue(chunk.value);\n          },\n          async cancel() {\n            await it.return();\n          }\n        });\n      }\n      slice(start = 0, end = this.size, type = \"\") {\n        const { size } = this;\n        let relativeStart = start < 0 ? Math.max(size + start, 0) : Math.min(start, size);\n        let relativeEnd = end < 0 ? Math.max(size + end, 0) : Math.min(end, size);\n        const span = Math.max(relativeEnd - relativeStart, 0);\n        const parts = this.#parts;\n        const blobParts = [];\n        let added = 0;\n        for (const part of parts) {\n          if (added >= span) {\n            break;\n          }\n          const size2 = ArrayBuffer.isView(part) ? part.byteLength : part.size;\n          if (relativeStart && size2 <= relativeStart) {\n            relativeStart -= size2;\n            relativeEnd -= size2;\n          } else {\n            let chunk;\n            if (ArrayBuffer.isView(part)) {\n              chunk = part.subarray(relativeStart, Math.min(size2, relativeEnd));\n              added += chunk.byteLength;\n            } else {\n              chunk = part.slice(relativeStart, Math.min(size2, relativeEnd));\n              added += chunk.size;\n            }\n            relativeEnd -= size2;\n            blobParts.push(chunk);\n            relativeStart = 0;\n          }\n        }\n        const blob = new Blob([], { type: String(type).toLowerCase() });\n        blob.#size = span;\n        blob.#parts = blobParts;\n        return blob;\n      }\n      get [Symbol.toStringTag]() {\n        return \"Blob\";\n      }\n      static [Symbol.hasInstance](object) {\n        return object && typeof object === \"object\" && typeof object.constructor === \"function\" && (typeof object.stream === \"function\" || typeof object.arrayBuffer === \"function\") && /^(Blob|File)$/.test(object[Symbol.toStringTag]);\n      }\n    };\n    Object.defineProperties(_Blob.prototype, {\n      size: { enumerable: true },\n      type: { enumerable: true },\n      slice: { enumerable: true }\n    });\n    Blob2 = _Blob;\n    fetch_blob_default = Blob2;\n  }\n});\n\n// node_modules/fetch-blob/file.js\nvar _File, File2, file_default;\nvar init_file = __esm({\n  \"node_modules/fetch-blob/file.js\"() {\n    init_fetch_blob();\n    _File = class File extends fetch_blob_default {\n      #lastModified = 0;\n      #name = \"\";\n      constructor(fileBits, fileName, options = {}) {\n        if (arguments.length < 2) {\n          throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);\n        }\n        super(fileBits, options);\n        if (options === null)\n          options = {};\n        const lastModified = options.lastModified === void 0 ? Date.now() : Number(options.lastModified);\n        if (!Number.isNaN(lastModified)) {\n          this.#lastModified = lastModified;\n        }\n        this.#name = String(fileName);\n      }\n      get name() {\n        return this.#name;\n      }\n      get lastModified() {\n        return this.#lastModified;\n      }\n      get [Symbol.toStringTag]() {\n        return \"File\";\n      }\n      static [Symbol.hasInstance](object) {\n        return !!object && object instanceof fetch_blob_default && /^(File)$/.test(object[Symbol.toStringTag]);\n      }\n    };\n    File2 = _File;\n    file_default = File2;\n  }\n});\n\n// node_modules/formdata-polyfill/esm.min.js\nfunction formDataToBlob(F2, B = fetch_blob_default) {\n  var b = `${r()}${r()}`.replace(/\\./g, \"\").slice(-28).padStart(32, \"-\"), c = [], p = `--${b}\\r\nContent-Disposition: form-data; name=\"`;\n  F2.forEach((v, n) => typeof v == \"string\" ? c.push(p + e(n) + `\"\\r\n\\r\n${v.replace(/\\r(?!\\n)|(?<!\\r)\\n/g, \"\\r\\n\")}\\r\n`) : c.push(p + e(n) + `\"; filename=\"${e(v.name, 1)}\"\\r\nContent-Type: ${v.type || \"application/octet-stream\"}\\r\n\\r\n`, v, \"\\r\\n\"));\n  c.push(`--${b}--`);\n  return new B(c, { type: \"multipart/form-data; boundary=\" + b });\n}\nvar t, i, h, r, m, f, e, x, FormData;\nvar init_esm_min = __esm({\n  \"node_modules/formdata-polyfill/esm.min.js\"() {\n    init_fetch_blob();\n    init_file();\n    ({ toStringTag: t, iterator: i, hasInstance: h } = Symbol);\n    r = Math.random;\n    m = \"append,set,get,getAll,delete,keys,values,entries,forEach,constructor\".split(\",\");\n    f = (a, b, c) => (a += \"\", /^(Blob|File)$/.test(b && b[t]) ? [(c = c !== void 0 ? c + \"\" : b[t] == \"File\" ? b.name : \"blob\", a), b.name !== c || b[t] == \"blob\" ? new file_default([b], c, b) : b] : [a, b + \"\"]);\n    e = (c, f3) => (f3 ? c : c.replace(/\\r?\\n|\\r/g, \"\\r\\n\")).replace(/\\n/g, \"%0A\").replace(/\\r/g, \"%0D\").replace(/\"/g, \"%22\");\n    x = (n, a, e2) => {\n      if (a.length < e2) {\n        throw new TypeError(`Failed to execute '${n}' on 'FormData': ${e2} arguments required, but only ${a.length} present.`);\n      }\n    };\n    FormData = class FormData2 {\n      #d = [];\n      constructor(...a) {\n        if (a.length)\n          throw new TypeError(`Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.`);\n      }\n      get [t]() {\n        return \"FormData\";\n      }\n      [i]() {\n        return this.entries();\n      }\n      static [h](o) {\n        return o && typeof o === \"object\" && o[t] === \"FormData\" && !m.some((m2) => typeof o[m2] != \"function\");\n      }\n      append(...a) {\n        x(\"append\", arguments, 2);\n        this.#d.push(f(...a));\n      }\n      delete(a) {\n        x(\"delete\", arguments, 1);\n        a += \"\";\n        this.#d = this.#d.filter(([b]) => b !== a);\n      }\n      get(a) {\n        x(\"get\", arguments, 1);\n        a += \"\";\n        for (var b = this.#d, l = b.length, c = 0; c < l; c++)\n          if (b[c][0] === a)\n            return b[c][1];\n        return null;\n      }\n      getAll(a, b) {\n        x(\"getAll\", arguments, 1);\n        b = [];\n        a += \"\";\n        this.#d.forEach((c) => c[0] === a && b.push(c[1]));\n        return b;\n      }\n      has(a) {\n        x(\"has\", arguments, 1);\n        a += \"\";\n        return this.#d.some((b) => b[0] === a);\n      }\n      forEach(a, b) {\n        x(\"forEach\", arguments, 1);\n        for (var [c, d] of this)\n          a.call(b, d, c, this);\n      }\n      set(...a) {\n        x(\"set\", arguments, 2);\n        var b = [], c = true;\n        a = f(...a);\n        this.#d.forEach((d) => {\n          d[0] === a[0] ? c && (c = !b.push(a)) : b.push(d);\n        });\n        c && b.push(a);\n        this.#d = b;\n      }\n      *entries() {\n        yield* this.#d;\n      }\n      *keys() {\n        for (var [a] of this)\n          yield a;\n      }\n      *values() {\n        for (var [, a] of this)\n          yield a;\n      }\n    };\n  }\n});\n\n// node_modules/node-domexception/index.js\nvar require_node_domexception = __commonJS({\n  \"node_modules/node-domexception/index.js\"(exports, module2) {\n    if (!globalThis.DOMException) {\n      try {\n        const { MessageChannel } = require(\"worker_threads\"), port = new MessageChannel().port1, ab = new ArrayBuffer();\n        port.postMessage(ab, [ab, ab]);\n      } catch (err) {\n        err.constructor.name === \"DOMException\" && (globalThis.DOMException = err.constructor);\n      }\n    }\n    module2.exports = globalThis.DOMException;\n  }\n});\n\n// node_modules/fetch-blob/from.js\nvar import_node_fs, import_node_path, import_node_domexception, stat, blobFromSync, blobFrom, fileFrom, fileFromSync, fromBlob, fromFile, BlobDataItem;\nvar init_from = __esm({\n  \"node_modules/fetch-blob/from.js\"() {\n    import_node_fs = __toModule(require(\"fs\"));\n    import_node_path = __toModule(require(\"path\"));\n    import_node_domexception = __toModule(require_node_domexception());\n    init_file();\n    init_fetch_blob();\n    ({ stat } = import_node_fs.promises);\n    blobFromSync = (path, type) => fromBlob((0, import_node_fs.statSync)(path), path, type);\n    blobFrom = (path, type) => stat(path).then((stat2) => fromBlob(stat2, path, type));\n    fileFrom = (path, type) => stat(path).then((stat2) => fromFile(stat2, path, type));\n    fileFromSync = (path, type) => fromFile((0, import_node_fs.statSync)(path), path, type);\n    fromBlob = (stat2, path, type = \"\") => new fetch_blob_default([new BlobDataItem({\n      path,\n      size: stat2.size,\n      lastModified: stat2.mtimeMs,\n      start: 0\n    })], { type });\n    fromFile = (stat2, path, type = \"\") => new file_default([new BlobDataItem({\n      path,\n      size: stat2.size,\n      lastModified: stat2.mtimeMs,\n      start: 0\n    })], (0, import_node_path.basename)(path), { type, lastModified: stat2.mtimeMs });\n    BlobDataItem = class {\n      #path;\n      #start;\n      constructor(options) {\n        this.#path = options.path;\n        this.#start = options.start;\n        this.size = options.size;\n        this.lastModified = options.lastModified;\n      }\n      slice(start, end) {\n        return new BlobDataItem({\n          path: this.#path,\n          lastModified: this.lastModified,\n          size: end - start,\n          start: this.#start + start\n        });\n      }\n      async *stream() {\n        const { mtimeMs } = await stat(this.#path);\n        if (mtimeMs > this.lastModified) {\n          throw new import_node_domexception.default(\"The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.\", \"NotReadableError\");\n        }\n        yield* (0, import_node_fs.createReadStream)(this.#path, {\n          start: this.#start,\n          end: this.#start + this.size - 1\n        });\n      }\n      get [Symbol.toStringTag]() {\n        return \"Blob\";\n      }\n    };\n  }\n});\n\n// node_modules/node-fetch/src/utils/multipart-parser.js\nvar multipart_parser_exports = {};\n__export(multipart_parser_exports, {\n  toFormData: () => toFormData\n});\nfunction _fileName(headerValue) {\n  const m2 = headerValue.match(/\\bfilename=(\"(.*?)\"|([^()<>@,;:\\\\\"/[\\]?={}\\s\\t]+))($|;\\s)/i);\n  if (!m2) {\n    return;\n  }\n  const match = m2[2] || m2[3] || \"\";\n  let filename = match.slice(match.lastIndexOf(\"\\\\\") + 1);\n  filename = filename.replace(/%22/g, '\"');\n  filename = filename.replace(/&#(\\d{4});/g, (m3, code) => {\n    return String.fromCharCode(code);\n  });\n  return filename;\n}\nasync function toFormData(Body2, ct) {\n  if (!/multipart/i.test(ct)) {\n    throw new TypeError(\"Failed to fetch\");\n  }\n  const m2 = ct.match(/boundary=(?:\"([^\"]+)\"|([^;]+))/i);\n  if (!m2) {\n    throw new TypeError(\"no or bad content-type header, no multipart boundary\");\n  }\n  const parser = new MultipartParser(m2[1] || m2[2]);\n  let headerField;\n  let headerValue;\n  let entryValue;\n  let entryName;\n  let contentType;\n  let filename;\n  const entryChunks = [];\n  const formData = new FormData();\n  const onPartData = (ui8a) => {\n    entryValue += decoder.decode(ui8a, { stream: true });\n  };\n  const appendToFile = (ui8a) => {\n    entryChunks.push(ui8a);\n  };\n  const appendFileToFormData = () => {\n    const file = new file_default(entryChunks, filename, { type: contentType });\n    formData.append(entryName, file);\n  };\n  const appendEntryToFormData = () => {\n    formData.append(entryName, entryValue);\n  };\n  const decoder = new TextDecoder(\"utf-8\");\n  decoder.decode();\n  parser.onPartBegin = function() {\n    parser.onPartData = onPartData;\n    parser.onPartEnd = appendEntryToFormData;\n    headerField = \"\";\n    headerValue = \"\";\n    entryValue = \"\";\n    entryName = \"\";\n    contentType = \"\";\n    filename = null;\n    entryChunks.length = 0;\n  };\n  parser.onHeaderField = function(ui8a) {\n    headerField += decoder.decode(ui8a, { stream: true });\n  };\n  parser.onHeaderValue = function(ui8a) {\n    headerValue += decoder.decode(ui8a, { stream: true });\n  };\n  parser.onHeaderEnd = function() {\n    headerValue += decoder.decode();\n    headerField = headerField.toLowerCase();\n    if (headerField === \"content-disposition\") {\n      const m3 = headerValue.match(/\\bname=(\"([^\"]*)\"|([^()<>@,;:\\\\\"/[\\]?={}\\s\\t]+))/i);\n      if (m3) {\n        entryName = m3[2] || m3[3] || \"\";\n      }\n      filename = _fileName(headerValue);\n      if (filename) {\n        parser.onPartData = appendToFile;\n        parser.onPartEnd = appendFileToFormData;\n      }\n    } else if (headerField === \"content-type\") {\n      contentType = headerValue;\n    }\n    headerValue = \"\";\n    headerField = \"\";\n  };\n  for await (const chunk of Body2) {\n    parser.write(chunk);\n  }\n  parser.end();\n  return formData;\n}\nvar s, S, f2, F, LF, CR, SPACE, HYPHEN, COLON, A, Z, lower, noop, MultipartParser;\nvar init_multipart_parser = __esm({\n  \"node_modules/node-fetch/src/utils/multipart-parser.js\"() {\n    init_from();\n    init_esm_min();\n    s = 0;\n    S = {\n      START_BOUNDARY: s++,\n      HEADER_FIELD_START: s++,\n      HEADER_FIELD: s++,\n      HEADER_VALUE_START: s++,\n      HEADER_VALUE: s++,\n      HEADER_VALUE_ALMOST_DONE: s++,\n      HEADERS_ALMOST_DONE: s++,\n      PART_DATA_START: s++,\n      PART_DATA: s++,\n      END: s++\n    };\n    f2 = 1;\n    F = {\n      PART_BOUNDARY: f2,\n      LAST_BOUNDARY: f2 *= 2\n    };\n    LF = 10;\n    CR = 13;\n    SPACE = 32;\n    HYPHEN = 45;\n    COLON = 58;\n    A = 97;\n    Z = 122;\n    lower = (c) => c | 32;\n    noop = () => {\n    };\n    MultipartParser = class {\n      constructor(boundary) {\n        this.index = 0;\n        this.flags = 0;\n        this.onHeaderEnd = noop;\n        this.onHeaderField = noop;\n        this.onHeadersEnd = noop;\n        this.onHeaderValue = noop;\n        this.onPartBegin = noop;\n        this.onPartData = noop;\n        this.onPartEnd = noop;\n        this.boundaryChars = {};\n        boundary = \"\\r\\n--\" + boundary;\n        const ui8a = new Uint8Array(boundary.length);\n        for (let i2 = 0; i2 < boundary.length; i2++) {\n          ui8a[i2] = boundary.charCodeAt(i2);\n          this.boundaryChars[ui8a[i2]] = true;\n        }\n        this.boundary = ui8a;\n        this.lookbehind = new Uint8Array(this.boundary.length + 8);\n        this.state = S.START_BOUNDARY;\n      }\n      write(data) {\n        let i2 = 0;\n        const length_ = data.length;\n        let previousIndex = this.index;\n        let { lookbehind, boundary, boundaryChars, index, state, flags } = this;\n        const boundaryLength = this.boundary.length;\n        const boundaryEnd = boundaryLength - 1;\n        const bufferLength = data.length;\n        let c;\n        let cl;\n        const mark = (name) => {\n          this[name + \"Mark\"] = i2;\n        };\n        const clear = (name) => {\n          delete this[name + \"Mark\"];\n        };\n        const callback = (callbackSymbol, start, end, ui8a) => {\n          if (start === void 0 || start !== end) {\n            this[callbackSymbol](ui8a && ui8a.subarray(start, end));\n          }\n        };\n        const dataCallback = (name, clear2) => {\n          const markSymbol = name + \"Mark\";\n          if (!(markSymbol in this)) {\n            return;\n          }\n          if (clear2) {\n            callback(name, this[markSymbol], i2, data);\n            delete this[markSymbol];\n          } else {\n            callback(name, this[markSymbol], data.length, data);\n            this[markSymbol] = 0;\n          }\n        };\n        for (i2 = 0; i2 < length_; i2++) {\n          c = data[i2];\n          switch (state) {\n            case S.START_BOUNDARY:\n              if (index === boundary.length - 2) {\n                if (c === HYPHEN) {\n                  flags |= F.LAST_BOUNDARY;\n                } else if (c !== CR) {\n                  return;\n                }\n                index++;\n                break;\n              } else if (index - 1 === boundary.length - 2) {\n                if (flags & F.LAST_BOUNDARY && c === HYPHEN) {\n                  state = S.END;\n                  flags = 0;\n                } else if (!(flags & F.LAST_BOUNDARY) && c === LF) {\n                  index = 0;\n                  callback(\"onPartBegin\");\n                  state = S.HEADER_FIELD_START;\n                } else {\n                  return;\n                }\n                break;\n              }\n              if (c !== boundary[index + 2]) {\n                index = -2;\n              }\n              if (c === boundary[index + 2]) {\n                index++;\n              }\n              break;\n            case S.HEADER_FIELD_START:\n              state = S.HEADER_FIELD;\n              mark(\"onHeaderField\");\n              index = 0;\n            case S.HEADER_FIELD:\n              if (c === CR) {\n                clear(\"onHeaderField\");\n                state = S.HEADERS_ALMOST_DONE;\n                break;\n              }\n              index++;\n              if (c === HYPHEN) {\n                break;\n              }\n              if (c === COLON) {\n                if (index === 1) {\n                  return;\n                }\n                dataCallback(\"onHeaderField\", true);\n                state = S.HEADER_VALUE_START;\n                break;\n              }\n              cl = lower(c);\n              if (cl < A || cl > Z) {\n                return;\n              }\n              break;\n            case S.HEADER_VALUE_START:\n              if (c === SPACE) {\n                break;\n              }\n              mark(\"onHeaderValue\");\n              state = S.HEADER_VALUE;\n            case S.HEADER_VALUE:\n              if (c === CR) {\n                dataCallback(\"onHeaderValue\", true);\n                callback(\"onHeaderEnd\");\n                state = S.HEADER_VALUE_ALMOST_DONE;\n              }\n              break;\n            case S.HEADER_VALUE_ALMOST_DONE:\n              if (c !== LF) {\n                return;\n              }\n              state = S.HEADER_FIELD_START;\n              break;\n            case S.HEADERS_ALMOST_DONE:\n              if (c !== LF) {\n                return;\n              }\n              callback(\"onHeadersEnd\");\n              state = S.PART_DATA_START;\n              break;\n            case S.PART_DATA_START:\n              state = S.PART_DATA;\n              mark(\"onPartData\");\n            case S.PART_DATA:\n              previousIndex = index;\n              if (index === 0) {\n                i2 += boundaryEnd;\n                while (i2 < bufferLength && !(data[i2] in boundaryChars)) {\n                  i2 += boundaryLength;\n                }\n                i2 -= boundaryEnd;\n                c = data[i2];\n              }\n              if (index < boundary.length) {\n                if (boundary[index] === c) {\n                  if (index === 0) {\n                    dataCallback(\"onPartData\", true);\n                  }\n                  index++;\n                } else {\n                  index = 0;\n                }\n              } else if (index === boundary.length) {\n                index++;\n                if (c === CR) {\n                  flags |= F.PART_BOUNDARY;\n                } else if (c === HYPHEN) {\n                  flags |= F.LAST_BOUNDARY;\n                } else {\n                  index = 0;\n                }\n              } else if (index - 1 === boundary.length) {\n                if (flags & F.PART_BOUNDARY) {\n                  index = 0;\n                  if (c === LF) {\n                    flags &= ~F.PART_BOUNDARY;\n                    callback(\"onPartEnd\");\n                    callback(\"onPartBegin\");\n                    state = S.HEADER_FIELD_START;\n                    break;\n                  }\n                } else if (flags & F.LAST_BOUNDARY) {\n                  if (c === HYPHEN) {\n                    callback(\"onPartEnd\");\n                    state = S.END;\n                    flags = 0;\n                  } else {\n                    index = 0;\n                  }\n                } else {\n                  index = 0;\n                }\n              }\n              if (index > 0) {\n                lookbehind[index - 1] = c;\n              } else if (previousIndex > 0) {\n                const _lookbehind = new Uint8Array(lookbehind.buffer, lookbehind.byteOffset, lookbehind.byteLength);\n                callback(\"onPartData\", 0, previousIndex, _lookbehind);\n                previousIndex = 0;\n                mark(\"onPartData\");\n                i2--;\n              }\n              break;\n            case S.END:\n              break;\n            default:\n              throw new Error(`Unexpected state entered: ${state}`);\n          }\n        }\n        dataCallback(\"onHeaderField\");\n        dataCallback(\"onHeaderValue\");\n        dataCallback(\"onPartData\");\n        this.index = index;\n        this.state = state;\n        this.flags = flags;\n      }\n      end() {\n        if (this.state === S.HEADER_FIELD_START && this.index === 0 || this.state === S.PART_DATA && this.index === this.boundary.length) {\n          this.onPartEnd();\n        } else if (this.state !== S.END) {\n          throw new Error(\"MultipartParser.end(): stream ended unexpectedly\");\n        }\n      }\n    };\n  }\n});\n\n// src/index.js\n__export(exports, {\n  AbortError: () => AbortError,\n  Blob: () => Blob2,\n  FetchError: () => FetchError,\n  File: () => file_default,\n  FormData: () => FormData,\n  Headers: () => Headers,\n  Request: () => Request,\n  Response: () => Response,\n  blobFrom: () => blobFrom,\n  blobFromSync: () => blobFromSync,\n  default: () => fetch,\n  fileFrom: () => fileFrom,\n  fileFromSync: () => fileFromSync,\n  isRedirect: () => isRedirect\n});\n\n// node_modules/node-fetch/src/index.js\nvar import_node_http2 = __toModule(require(\"http\"));\nvar import_node_https = __toModule(require(\"https\"));\nvar import_node_zlib = __toModule(require(\"zlib\"));\nvar import_node_stream2 = __toModule(require(\"stream\"));\nvar import_node_buffer2 = __toModule(require(\"buffer\"));\n\n// node_modules/data-uri-to-buffer/dist/index.js\nfunction dataUriToBuffer(uri) {\n  if (!/^data:/i.test(uri)) {\n    throw new TypeError('`uri` does not appear to be a Data URI (must begin with \"data:\")');\n  }\n  uri = uri.replace(/\\r?\\n/g, \"\");\n  const firstComma = uri.indexOf(\",\");\n  if (firstComma === -1 || firstComma <= 4) {\n    throw new TypeError(\"malformed data: URI\");\n  }\n  const meta = uri.substring(5, firstComma).split(\";\");\n  let charset = \"\";\n  let base64 = false;\n  const type = meta[0] || \"text/plain\";\n  let typeFull = type;\n  for (let i2 = 1; i2 < meta.length; i2++) {\n    if (meta[i2] === \"base64\") {\n      base64 = true;\n    } else {\n      typeFull += `;${meta[i2]}`;\n      if (meta[i2].indexOf(\"charset=\") === 0) {\n        charset = meta[i2].substring(8);\n      }\n    }\n  }\n  if (!meta[0] && !charset.length) {\n    typeFull += \";charset=US-ASCII\";\n    charset = \"US-ASCII\";\n  }\n  const encoding = base64 ? \"base64\" : \"ascii\";\n  const data = unescape(uri.substring(firstComma + 1));\n  const buffer = Buffer.from(data, encoding);\n  buffer.type = type;\n  buffer.typeFull = typeFull;\n  buffer.charset = charset;\n  return buffer;\n}\nvar dist_default = dataUriToBuffer;\n\n// node_modules/node-fetch/src/body.js\nvar import_node_stream = __toModule(require(\"stream\"));\nvar import_node_util = __toModule(require(\"util\"));\nvar import_node_buffer = __toModule(require(\"buffer\"));\ninit_fetch_blob();\ninit_esm_min();\n\n// node_modules/node-fetch/src/errors/base.js\nvar FetchBaseError = class extends Error {\n  constructor(message, type) {\n    super(message);\n    Error.captureStackTrace(this, this.constructor);\n    this.type = type;\n  }\n  get name() {\n    return this.constructor.name;\n  }\n  get [Symbol.toStringTag]() {\n    return this.constructor.name;\n  }\n};\n\n// node_modules/node-fetch/src/errors/fetch-error.js\nvar FetchError = class extends FetchBaseError {\n  constructor(message, type, systemError) {\n    super(message, type);\n    if (systemError) {\n      this.code = this.errno = systemError.code;\n      this.erroredSysCall = systemError.syscall;\n    }\n  }\n};\n\n// node_modules/node-fetch/src/utils/is.js\nvar NAME = Symbol.toStringTag;\nvar isURLSearchParameters = (object) => {\n  return typeof object === \"object\" && typeof object.append === \"function\" && typeof object.delete === \"function\" && typeof object.get === \"function\" && typeof object.getAll === \"function\" && typeof object.has === \"function\" && typeof object.set === \"function\" && typeof object.sort === \"function\" && object[NAME] === \"URLSearchParams\";\n};\nvar isBlob = (object) => {\n  return object && typeof object === \"object\" && typeof object.arrayBuffer === \"function\" && typeof object.type === \"string\" && typeof object.stream === \"function\" && typeof object.constructor === \"function\" && /^(Blob|File)$/.test(object[NAME]);\n};\nvar isAbortSignal = (object) => {\n  return typeof object === \"object\" && (object[NAME] === \"AbortSignal\" || object[NAME] === \"EventTarget\");\n};\nvar isDomainOrSubdomain = (destination, original) => {\n  const orig = new URL(original).hostname;\n  const dest = new URL(destination).hostname;\n  return orig === dest || orig.endsWith(`.${dest}`);\n};\nvar isSameProtocol = (destination, original) => {\n  const orig = new URL(original).protocol;\n  const dest = new URL(destination).protocol;\n  return orig === dest;\n};\n\n// node_modules/node-fetch/src/body.js\nvar pipeline = (0, import_node_util.promisify)(import_node_stream.default.pipeline);\nvar INTERNALS = Symbol(\"Body internals\");\nvar Body = class {\n  constructor(body, {\n    size = 0\n  } = {}) {\n    let boundary = null;\n    if (body === null) {\n      body = null;\n    } else if (isURLSearchParameters(body)) {\n      body = import_node_buffer.Buffer.from(body.toString());\n    } else if (isBlob(body)) {\n    } else if (import_node_buffer.Buffer.isBuffer(body)) {\n    } else if (import_node_util.types.isAnyArrayBuffer(body)) {\n      body = import_node_buffer.Buffer.from(body);\n    } else if (ArrayBuffer.isView(body)) {\n      body = import_node_buffer.Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n    } else if (body instanceof import_node_stream.default) {\n    } else if (body instanceof FormData) {\n      body = formDataToBlob(body);\n      boundary = body.type.split(\"=\")[1];\n    } else {\n      body = import_node_buffer.Buffer.from(String(body));\n    }\n    let stream = body;\n    if (import_node_buffer.Buffer.isBuffer(body)) {\n      stream = import_node_stream.default.Readable.from(body);\n    } else if (isBlob(body)) {\n      stream = import_node_stream.default.Readable.from(body.stream());\n    }\n    this[INTERNALS] = {\n      body,\n      stream,\n      boundary,\n      disturbed: false,\n      error: null\n    };\n    this.size = size;\n    if (body instanceof import_node_stream.default) {\n      body.on(\"error\", (error_) => {\n        const error = error_ instanceof FetchBaseError ? error_ : new FetchError(`Invalid response body while trying to fetch ${this.url}: ${error_.message}`, \"system\", error_);\n        this[INTERNALS].error = error;\n      });\n    }\n  }\n  get body() {\n    return this[INTERNALS].stream;\n  }\n  get bodyUsed() {\n    return this[INTERNALS].disturbed;\n  }\n  async arrayBuffer() {\n    const { buffer, byteOffset, byteLength } = await consumeBody(this);\n    return buffer.slice(byteOffset, byteOffset + byteLength);\n  }\n  async formData() {\n    const ct = this.headers.get(\"content-type\");\n    if (ct.startsWith(\"application/x-www-form-urlencoded\")) {\n      const formData = new FormData();\n      const parameters = new URLSearchParams(await this.text());\n      for (const [name, value] of parameters) {\n        formData.append(name, value);\n      }\n      return formData;\n    }\n    const { toFormData: toFormData2 } = await Promise.resolve().then(() => (init_multipart_parser(), multipart_parser_exports));\n    return toFormData2(this.body, ct);\n  }\n  async blob() {\n    const ct = this.headers && this.headers.get(\"content-type\") || this[INTERNALS].body && this[INTERNALS].body.type || \"\";\n    const buf = await this.arrayBuffer();\n    return new fetch_blob_default([buf], {\n      type: ct\n    });\n  }\n  async json() {\n    const text = await this.text();\n    return JSON.parse(text);\n  }\n  async text() {\n    const buffer = await consumeBody(this);\n    return new TextDecoder().decode(buffer);\n  }\n  buffer() {\n    return consumeBody(this);\n  }\n};\nBody.prototype.buffer = (0, import_node_util.deprecate)(Body.prototype.buffer, \"Please use 'response.arrayBuffer()' instead of 'response.buffer()'\", \"node-fetch#buffer\");\nObject.defineProperties(Body.prototype, {\n  body: { enumerable: true },\n  bodyUsed: { enumerable: true },\n  arrayBuffer: { enumerable: true },\n  blob: { enumerable: true },\n  json: { enumerable: true },\n  text: { enumerable: true },\n  data: { get: (0, import_node_util.deprecate)(() => {\n  }, \"data doesn't exist, use json(), text(), arrayBuffer(), or body instead\", \"https://github.com/node-fetch/node-fetch/issues/1000 (response)\") }\n});\nasync function consumeBody(data) {\n  if (data[INTERNALS].disturbed) {\n    throw new TypeError(`body used already for: ${data.url}`);\n  }\n  data[INTERNALS].disturbed = true;\n  if (data[INTERNALS].error) {\n    throw data[INTERNALS].error;\n  }\n  const { body } = data;\n  if (body === null) {\n    return import_node_buffer.Buffer.alloc(0);\n  }\n  if (!(body instanceof import_node_stream.default)) {\n    return import_node_buffer.Buffer.alloc(0);\n  }\n  const accum = [];\n  let accumBytes = 0;\n  try {\n    for await (const chunk of body) {\n      if (data.size > 0 && accumBytes + chunk.length > data.size) {\n        const error = new FetchError(`content size at ${data.url} over limit: ${data.size}`, \"max-size\");\n        body.destroy(error);\n        throw error;\n      }\n      accumBytes += chunk.length;\n      accum.push(chunk);\n    }\n  } catch (error) {\n    const error_ = error instanceof FetchBaseError ? error : new FetchError(`Invalid response body while trying to fetch ${data.url}: ${error.message}`, \"system\", error);\n    throw error_;\n  }\n  if (body.readableEnded === true || body._readableState.ended === true) {\n    try {\n      if (accum.every((c) => typeof c === \"string\")) {\n        return import_node_buffer.Buffer.from(accum.join(\"\"));\n      }\n      return import_node_buffer.Buffer.concat(accum, accumBytes);\n    } catch (error) {\n      throw new FetchError(`Could not create Buffer from response body for ${data.url}: ${error.message}`, \"system\", error);\n    }\n  } else {\n    throw new FetchError(`Premature close of server response while trying to fetch ${data.url}`);\n  }\n}\nvar clone = (instance, highWaterMark) => {\n  let p1;\n  let p2;\n  let { body } = instance[INTERNALS];\n  if (instance.bodyUsed) {\n    throw new Error(\"cannot clone body after it is used\");\n  }\n  if (body instanceof import_node_stream.default && typeof body.getBoundary !== \"function\") {\n    p1 = new import_node_stream.PassThrough({ highWaterMark });\n    p2 = new import_node_stream.PassThrough({ highWaterMark });\n    body.pipe(p1);\n    body.pipe(p2);\n    instance[INTERNALS].stream = p1;\n    body = p2;\n  }\n  return body;\n};\nvar getNonSpecFormDataBoundary = (0, import_node_util.deprecate)((body) => body.getBoundary(), \"form-data doesn't follow the spec and requires special treatment. Use alternative package\", \"https://github.com/node-fetch/node-fetch/issues/1167\");\nvar extractContentType = (body, request) => {\n  if (body === null) {\n    return null;\n  }\n  if (typeof body === \"string\") {\n    return \"text/plain;charset=UTF-8\";\n  }\n  if (isURLSearchParameters(body)) {\n    return \"application/x-www-form-urlencoded;charset=UTF-8\";\n  }\n  if (isBlob(body)) {\n    return body.type || null;\n  }\n  if (import_node_buffer.Buffer.isBuffer(body) || import_node_util.types.isAnyArrayBuffer(body) || ArrayBuffer.isView(body)) {\n    return null;\n  }\n  if (body instanceof FormData) {\n    return `multipart/form-data; boundary=${request[INTERNALS].boundary}`;\n  }\n  if (body && typeof body.getBoundary === \"function\") {\n    return `multipart/form-data;boundary=${getNonSpecFormDataBoundary(body)}`;\n  }\n  if (body instanceof import_node_stream.default) {\n    return null;\n  }\n  return \"text/plain;charset=UTF-8\";\n};\nvar getTotalBytes = (request) => {\n  const { body } = request[INTERNALS];\n  if (body === null) {\n    return 0;\n  }\n  if (isBlob(body)) {\n    return body.size;\n  }\n  if (import_node_buffer.Buffer.isBuffer(body)) {\n    return body.length;\n  }\n  if (body && typeof body.getLengthSync === \"function\") {\n    return body.hasKnownLength && body.hasKnownLength() ? body.getLengthSync() : null;\n  }\n  return null;\n};\nvar writeToStream = async (dest, { body }) => {\n  if (body === null) {\n    dest.end();\n  } else {\n    await pipeline(body, dest);\n  }\n};\n\n// node_modules/node-fetch/src/headers.js\nvar import_node_util2 = __toModule(require(\"util\"));\nvar import_node_http = __toModule(require(\"http\"));\nvar validateHeaderName = typeof import_node_http.default.validateHeaderName === \"function\" ? import_node_http.default.validateHeaderName : (name) => {\n  if (!/^[\\^`\\-\\w!#$%&'*+.|~]+$/.test(name)) {\n    const error = new TypeError(`Header name must be a valid HTTP token [${name}]`);\n    Object.defineProperty(error, \"code\", { value: \"ERR_INVALID_HTTP_TOKEN\" });\n    throw error;\n  }\n};\nvar validateHeaderValue = typeof import_node_http.default.validateHeaderValue === \"function\" ? import_node_http.default.validateHeaderValue : (name, value) => {\n  if (/[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/.test(value)) {\n    const error = new TypeError(`Invalid character in header content [\"${name}\"]`);\n    Object.defineProperty(error, \"code\", { value: \"ERR_INVALID_CHAR\" });\n    throw error;\n  }\n};\nvar Headers = class extends URLSearchParams {\n  constructor(init) {\n    let result = [];\n    if (init instanceof Headers) {\n      const raw = init.raw();\n      for (const [name, values] of Object.entries(raw)) {\n        result.push(...values.map((value) => [name, value]));\n      }\n    } else if (init == null) {\n    } else if (typeof init === \"object\" && !import_node_util2.types.isBoxedPrimitive(init)) {\n      const method = init[Symbol.iterator];\n      if (method == null) {\n        result.push(...Object.entries(init));\n      } else {\n        if (typeof method !== \"function\") {\n          throw new TypeError(\"Header pairs must be iterable\");\n        }\n        result = [...init].map((pair) => {\n          if (typeof pair !== \"object\" || import_node_util2.types.isBoxedPrimitive(pair)) {\n            throw new TypeError(\"Each header pair must be an iterable object\");\n          }\n          return [...pair];\n        }).map((pair) => {\n          if (pair.length !== 2) {\n            throw new TypeError(\"Each header pair must be a name/value tuple\");\n          }\n          return [...pair];\n        });\n      }\n    } else {\n      throw new TypeError(\"Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)\");\n    }\n    result = result.length > 0 ? result.map(([name, value]) => {\n      validateHeaderName(name);\n      validateHeaderValue(name, String(value));\n      return [String(name).toLowerCase(), String(value)];\n    }) : void 0;\n    super(result);\n    return new Proxy(this, {\n      get(target, p, receiver) {\n        switch (p) {\n          case \"append\":\n          case \"set\":\n            return (name, value) => {\n              validateHeaderName(name);\n              validateHeaderValue(name, String(value));\n              return URLSearchParams.prototype[p].call(target, String(name).toLowerCase(), String(value));\n            };\n          case \"delete\":\n          case \"has\":\n          case \"getAll\":\n            return (name) => {\n              validateHeaderName(name);\n              return URLSearchParams.prototype[p].call(target, String(name).toLowerCase());\n            };\n          case \"keys\":\n            return () => {\n              target.sort();\n              return new Set(URLSearchParams.prototype.keys.call(target)).keys();\n            };\n          default:\n            return Reflect.get(target, p, receiver);\n        }\n      }\n    });\n  }\n  get [Symbol.toStringTag]() {\n    return this.constructor.name;\n  }\n  toString() {\n    return Object.prototype.toString.call(this);\n  }\n  get(name) {\n    const values = this.getAll(name);\n    if (values.length === 0) {\n      return null;\n    }\n    let value = values.join(\", \");\n    if (/^content-encoding$/i.test(name)) {\n      value = value.toLowerCase();\n    }\n    return value;\n  }\n  forEach(callback, thisArg = void 0) {\n    for (const name of this.keys()) {\n      Reflect.apply(callback, thisArg, [this.get(name), name, this]);\n    }\n  }\n  *values() {\n    for (const name of this.keys()) {\n      yield this.get(name);\n    }\n  }\n  *entries() {\n    for (const name of this.keys()) {\n      yield [name, this.get(name)];\n    }\n  }\n  [Symbol.iterator]() {\n    return this.entries();\n  }\n  raw() {\n    return [...this.keys()].reduce((result, key) => {\n      result[key] = this.getAll(key);\n      return result;\n    }, {});\n  }\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    return [...this.keys()].reduce((result, key) => {\n      const values = this.getAll(key);\n      if (key === \"host\") {\n        result[key] = values[0];\n      } else {\n        result[key] = values.length > 1 ? values : values[0];\n      }\n      return result;\n    }, {});\n  }\n};\nObject.defineProperties(Headers.prototype, [\"get\", \"entries\", \"forEach\", \"values\"].reduce((result, property) => {\n  result[property] = { enumerable: true };\n  return result;\n}, {}));\nfunction fromRawHeaders(headers = []) {\n  return new Headers(headers.reduce((result, value, index, array) => {\n    if (index % 2 === 0) {\n      result.push(array.slice(index, index + 2));\n    }\n    return result;\n  }, []).filter(([name, value]) => {\n    try {\n      validateHeaderName(name);\n      validateHeaderValue(name, String(value));\n      return true;\n    } catch {\n      return false;\n    }\n  }));\n}\n\n// node_modules/node-fetch/src/utils/is-redirect.js\nvar redirectStatus = new Set([301, 302, 303, 307, 308]);\nvar isRedirect = (code) => {\n  return redirectStatus.has(code);\n};\n\n// node_modules/node-fetch/src/response.js\nvar INTERNALS2 = Symbol(\"Response internals\");\nvar Response = class extends Body {\n  constructor(body = null, options = {}) {\n    super(body, options);\n    const status = options.status != null ? options.status : 200;\n    const headers = new Headers(options.headers);\n    if (body !== null && !headers.has(\"Content-Type\")) {\n      const contentType = extractContentType(body, this);\n      if (contentType) {\n        headers.append(\"Content-Type\", contentType);\n      }\n    }\n    this[INTERNALS2] = {\n      type: \"default\",\n      url: options.url,\n      status,\n      statusText: options.statusText || \"\",\n      headers,\n      counter: options.counter,\n      highWaterMark: options.highWaterMark\n    };\n  }\n  get type() {\n    return this[INTERNALS2].type;\n  }\n  get url() {\n    return this[INTERNALS2].url || \"\";\n  }\n  get status() {\n    return this[INTERNALS2].status;\n  }\n  get ok() {\n    return this[INTERNALS2].status >= 200 && this[INTERNALS2].status < 300;\n  }\n  get redirected() {\n    return this[INTERNALS2].counter > 0;\n  }\n  get statusText() {\n    return this[INTERNALS2].statusText;\n  }\n  get headers() {\n    return this[INTERNALS2].headers;\n  }\n  get highWaterMark() {\n    return this[INTERNALS2].highWaterMark;\n  }\n  clone() {\n    return new Response(clone(this, this.highWaterMark), {\n      type: this.type,\n      url: this.url,\n      status: this.status,\n      statusText: this.statusText,\n      headers: this.headers,\n      ok: this.ok,\n      redirected: this.redirected,\n      size: this.size,\n      highWaterMark: this.highWaterMark\n    });\n  }\n  static redirect(url, status = 302) {\n    if (!isRedirect(status)) {\n      throw new RangeError('Failed to execute \"redirect\" on \"response\": Invalid status code');\n    }\n    return new Response(null, {\n      headers: {\n        location: new URL(url).toString()\n      },\n      status\n    });\n  }\n  static error() {\n    const response = new Response(null, { status: 0, statusText: \"\" });\n    response[INTERNALS2].type = \"error\";\n    return response;\n  }\n  get [Symbol.toStringTag]() {\n    return \"Response\";\n  }\n};\nObject.defineProperties(Response.prototype, {\n  type: { enumerable: true },\n  url: { enumerable: true },\n  status: { enumerable: true },\n  ok: { enumerable: true },\n  redirected: { enumerable: true },\n  statusText: { enumerable: true },\n  headers: { enumerable: true },\n  clone: { enumerable: true }\n});\n\n// node_modules/node-fetch/src/request.js\nvar import_node_url = __toModule(require(\"url\"));\nvar import_node_util3 = __toModule(require(\"util\"));\n\n// node_modules/node-fetch/src/utils/get-search.js\nvar getSearch = (parsedURL) => {\n  if (parsedURL.search) {\n    return parsedURL.search;\n  }\n  const lastOffset = parsedURL.href.length - 1;\n  const hash = parsedURL.hash || (parsedURL.href[lastOffset] === \"#\" ? \"#\" : \"\");\n  return parsedURL.href[lastOffset - hash.length] === \"?\" ? \"?\" : \"\";\n};\n\n// node_modules/node-fetch/src/utils/referrer.js\nvar import_node_net = __toModule(require(\"net\"));\nfunction stripURLForUseAsAReferrer(url, originOnly = false) {\n  if (url == null) {\n    return \"no-referrer\";\n  }\n  url = new URL(url);\n  if (/^(about|blob|data):$/.test(url.protocol)) {\n    return \"no-referrer\";\n  }\n  url.username = \"\";\n  url.password = \"\";\n  url.hash = \"\";\n  if (originOnly) {\n    url.pathname = \"\";\n    url.search = \"\";\n  }\n  return url;\n}\nvar ReferrerPolicy = new Set([\n  \"\",\n  \"no-referrer\",\n  \"no-referrer-when-downgrade\",\n  \"same-origin\",\n  \"origin\",\n  \"strict-origin\",\n  \"origin-when-cross-origin\",\n  \"strict-origin-when-cross-origin\",\n  \"unsafe-url\"\n]);\nvar DEFAULT_REFERRER_POLICY = \"strict-origin-when-cross-origin\";\nfunction validateReferrerPolicy(referrerPolicy) {\n  if (!ReferrerPolicy.has(referrerPolicy)) {\n    throw new TypeError(`Invalid referrerPolicy: ${referrerPolicy}`);\n  }\n  return referrerPolicy;\n}\nfunction isOriginPotentiallyTrustworthy(url) {\n  if (/^(http|ws)s:$/.test(url.protocol)) {\n    return true;\n  }\n  const hostIp = url.host.replace(/(^\\[)|(]$)/g, \"\");\n  const hostIPVersion = (0, import_node_net.isIP)(hostIp);\n  if (hostIPVersion === 4 && /^127\\./.test(hostIp)) {\n    return true;\n  }\n  if (hostIPVersion === 6 && /^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(hostIp)) {\n    return true;\n  }\n  if (url.host === \"localhost\" || url.host.endsWith(\".localhost\")) {\n    return false;\n  }\n  if (url.protocol === \"file:\") {\n    return true;\n  }\n  return false;\n}\nfunction isUrlPotentiallyTrustworthy(url) {\n  if (/^about:(blank|srcdoc)$/.test(url)) {\n    return true;\n  }\n  if (url.protocol === \"data:\") {\n    return true;\n  }\n  if (/^(blob|filesystem):$/.test(url.protocol)) {\n    return true;\n  }\n  return isOriginPotentiallyTrustworthy(url);\n}\nfunction determineRequestsReferrer(request, { referrerURLCallback, referrerOriginCallback } = {}) {\n  if (request.referrer === \"no-referrer\" || request.referrerPolicy === \"\") {\n    return null;\n  }\n  const policy = request.referrerPolicy;\n  if (request.referrer === \"about:client\") {\n    return \"no-referrer\";\n  }\n  const referrerSource = request.referrer;\n  let referrerURL = stripURLForUseAsAReferrer(referrerSource);\n  let referrerOrigin = stripURLForUseAsAReferrer(referrerSource, true);\n  if (referrerURL.toString().length > 4096) {\n    referrerURL = referrerOrigin;\n  }\n  if (referrerURLCallback) {\n    referrerURL = referrerURLCallback(referrerURL);\n  }\n  if (referrerOriginCallback) {\n    referrerOrigin = referrerOriginCallback(referrerOrigin);\n  }\n  const currentURL = new URL(request.url);\n  switch (policy) {\n    case \"no-referrer\":\n      return \"no-referrer\";\n    case \"origin\":\n      return referrerOrigin;\n    case \"unsafe-url\":\n      return referrerURL;\n    case \"strict-origin\":\n      if (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n        return \"no-referrer\";\n      }\n      return referrerOrigin.toString();\n    case \"strict-origin-when-cross-origin\":\n      if (referrerURL.origin === currentURL.origin) {\n        return referrerURL;\n      }\n      if (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n        return \"no-referrer\";\n      }\n      return referrerOrigin;\n    case \"same-origin\":\n      if (referrerURL.origin === currentURL.origin) {\n        return referrerURL;\n      }\n      return \"no-referrer\";\n    case \"origin-when-cross-origin\":\n      if (referrerURL.origin === currentURL.origin) {\n        return referrerURL;\n      }\n      return referrerOrigin;\n    case \"no-referrer-when-downgrade\":\n      if (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n        return \"no-referrer\";\n      }\n      return referrerURL;\n    default:\n      throw new TypeError(`Invalid referrerPolicy: ${policy}`);\n  }\n}\nfunction parseReferrerPolicyFromHeader(headers) {\n  const policyTokens = (headers.get(\"referrer-policy\") || \"\").split(/[,\\s]+/);\n  let policy = \"\";\n  for (const token of policyTokens) {\n    if (token && ReferrerPolicy.has(token)) {\n      policy = token;\n    }\n  }\n  return policy;\n}\n\n// node_modules/node-fetch/src/request.js\nvar INTERNALS3 = Symbol(\"Request internals\");\nvar isRequest = (object) => {\n  return typeof object === \"object\" && typeof object[INTERNALS3] === \"object\";\n};\nvar doBadDataWarn = (0, import_node_util3.deprecate)(() => {\n}, \".data is not a valid RequestInit property, use .body instead\", \"https://github.com/node-fetch/node-fetch/issues/1000 (request)\");\nvar Request = class extends Body {\n  constructor(input, init = {}) {\n    let parsedURL;\n    if (isRequest(input)) {\n      parsedURL = new URL(input.url);\n    } else {\n      parsedURL = new URL(input);\n      input = {};\n    }\n    if (parsedURL.username !== \"\" || parsedURL.password !== \"\") {\n      throw new TypeError(`${parsedURL} is an url with embedded credentials.`);\n    }\n    let method = init.method || input.method || \"GET\";\n    if (/^(delete|get|head|options|post|put)$/i.test(method)) {\n      method = method.toUpperCase();\n    }\n    if (!isRequest(init) && \"data\" in init) {\n      doBadDataWarn();\n    }\n    if ((init.body != null || isRequest(input) && input.body !== null) && (method === \"GET\" || method === \"HEAD\")) {\n      throw new TypeError(\"Request with GET/HEAD method cannot have body\");\n    }\n    const inputBody = init.body ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n    super(inputBody, {\n      size: init.size || input.size || 0\n    });\n    const headers = new Headers(init.headers || input.headers || {});\n    if (inputBody !== null && !headers.has(\"Content-Type\")) {\n      const contentType = extractContentType(inputBody, this);\n      if (contentType) {\n        headers.set(\"Content-Type\", contentType);\n      }\n    }\n    let signal = isRequest(input) ? input.signal : null;\n    if (\"signal\" in init) {\n      signal = init.signal;\n    }\n    if (signal != null && !isAbortSignal(signal)) {\n      throw new TypeError(\"Expected signal to be an instanceof AbortSignal or EventTarget\");\n    }\n    let referrer = init.referrer == null ? input.referrer : init.referrer;\n    if (referrer === \"\") {\n      referrer = \"no-referrer\";\n    } else if (referrer) {\n      const parsedReferrer = new URL(referrer);\n      referrer = /^about:(\\/\\/)?client$/.test(parsedReferrer) ? \"client\" : parsedReferrer;\n    } else {\n      referrer = void 0;\n    }\n    this[INTERNALS3] = {\n      method,\n      redirect: init.redirect || input.redirect || \"follow\",\n      headers,\n      parsedURL,\n      signal,\n      referrer\n    };\n    this.follow = init.follow === void 0 ? input.follow === void 0 ? 20 : input.follow : init.follow;\n    this.compress = init.compress === void 0 ? input.compress === void 0 ? true : input.compress : init.compress;\n    this.counter = init.counter || input.counter || 0;\n    this.agent = init.agent || input.agent;\n    this.highWaterMark = init.highWaterMark || input.highWaterMark || 16384;\n    this.insecureHTTPParser = init.insecureHTTPParser || input.insecureHTTPParser || false;\n    this.referrerPolicy = init.referrerPolicy || input.referrerPolicy || \"\";\n  }\n  get method() {\n    return this[INTERNALS3].method;\n  }\n  get url() {\n    return (0, import_node_url.format)(this[INTERNALS3].parsedURL);\n  }\n  get headers() {\n    return this[INTERNALS3].headers;\n  }\n  get redirect() {\n    return this[INTERNALS3].redirect;\n  }\n  get signal() {\n    return this[INTERNALS3].signal;\n  }\n  get referrer() {\n    if (this[INTERNALS3].referrer === \"no-referrer\") {\n      return \"\";\n    }\n    if (this[INTERNALS3].referrer === \"client\") {\n      return \"about:client\";\n    }\n    if (this[INTERNALS3].referrer) {\n      return this[INTERNALS3].referrer.toString();\n    }\n    return void 0;\n  }\n  get referrerPolicy() {\n    return this[INTERNALS3].referrerPolicy;\n  }\n  set referrerPolicy(referrerPolicy) {\n    this[INTERNALS3].referrerPolicy = validateReferrerPolicy(referrerPolicy);\n  }\n  clone() {\n    return new Request(this);\n  }\n  get [Symbol.toStringTag]() {\n    return \"Request\";\n  }\n};\nObject.defineProperties(Request.prototype, {\n  method: { enumerable: true },\n  url: { enumerable: true },\n  headers: { enumerable: true },\n  redirect: { enumerable: true },\n  clone: { enumerable: true },\n  signal: { enumerable: true },\n  referrer: { enumerable: true },\n  referrerPolicy: { enumerable: true }\n});\nvar getNodeRequestOptions = (request) => {\n  const { parsedURL } = request[INTERNALS3];\n  const headers = new Headers(request[INTERNALS3].headers);\n  if (!headers.has(\"Accept\")) {\n    headers.set(\"Accept\", \"*/*\");\n  }\n  let contentLengthValue = null;\n  if (request.body === null && /^(post|put)$/i.test(request.method)) {\n    contentLengthValue = \"0\";\n  }\n  if (request.body !== null) {\n    const totalBytes = getTotalBytes(request);\n    if (typeof totalBytes === \"number\" && !Number.isNaN(totalBytes)) {\n      contentLengthValue = String(totalBytes);\n    }\n  }\n  if (contentLengthValue) {\n    headers.set(\"Content-Length\", contentLengthValue);\n  }\n  if (request.referrerPolicy === \"\") {\n    request.referrerPolicy = DEFAULT_REFERRER_POLICY;\n  }\n  if (request.referrer && request.referrer !== \"no-referrer\") {\n    request[INTERNALS3].referrer = determineRequestsReferrer(request);\n  } else {\n    request[INTERNALS3].referrer = \"no-referrer\";\n  }\n  if (request[INTERNALS3].referrer instanceof URL) {\n    headers.set(\"Referer\", request.referrer);\n  }\n  if (!headers.has(\"User-Agent\")) {\n    headers.set(\"User-Agent\", \"node-fetch\");\n  }\n  if (request.compress && !headers.has(\"Accept-Encoding\")) {\n    headers.set(\"Accept-Encoding\", \"gzip, deflate, br\");\n  }\n  let { agent } = request;\n  if (typeof agent === \"function\") {\n    agent = agent(parsedURL);\n  }\n  if (!headers.has(\"Connection\") && !agent) {\n    headers.set(\"Connection\", \"close\");\n  }\n  const search = getSearch(parsedURL);\n  const options = {\n    path: parsedURL.pathname + search,\n    method: request.method,\n    headers: headers[Symbol.for(\"nodejs.util.inspect.custom\")](),\n    insecureHTTPParser: request.insecureHTTPParser,\n    agent\n  };\n  return {\n    parsedURL,\n    options\n  };\n};\n\n// node_modules/node-fetch/src/errors/abort-error.js\nvar AbortError = class extends FetchBaseError {\n  constructor(message, type = \"aborted\") {\n    super(message, type);\n  }\n};\n\n// node_modules/node-fetch/src/index.js\ninit_esm_min();\ninit_from();\nvar supportedSchemas = new Set([\"data:\", \"http:\", \"https:\"]);\nasync function fetch(url, options_) {\n  return new Promise((resolve, reject) => {\n    const request = new Request(url, options_);\n    const { parsedURL, options } = getNodeRequestOptions(request);\n    if (!supportedSchemas.has(parsedURL.protocol)) {\n      throw new TypeError(`node-fetch cannot load ${url}. URL scheme \"${parsedURL.protocol.replace(/:$/, \"\")}\" is not supported.`);\n    }\n    if (parsedURL.protocol === \"data:\") {\n      const data = dist_default(request.url);\n      const response2 = new Response(data, { headers: { \"Content-Type\": data.typeFull } });\n      resolve(response2);\n      return;\n    }\n    const send = (parsedURL.protocol === \"https:\" ? import_node_https.default : import_node_http2.default).request;\n    const { signal } = request;\n    let response = null;\n    const abort = () => {\n      const error = new AbortError(\"The operation was aborted.\");\n      reject(error);\n      if (request.body && request.body instanceof import_node_stream2.default.Readable) {\n        request.body.destroy(error);\n      }\n      if (!response || !response.body) {\n        return;\n      }\n      response.body.emit(\"error\", error);\n    };\n    if (signal && signal.aborted) {\n      abort();\n      return;\n    }\n    const abortAndFinalize = () => {\n      abort();\n      finalize();\n    };\n    const request_ = send(parsedURL.toString(), options);\n    if (signal) {\n      signal.addEventListener(\"abort\", abortAndFinalize);\n    }\n    const finalize = () => {\n      request_.abort();\n      if (signal) {\n        signal.removeEventListener(\"abort\", abortAndFinalize);\n      }\n    };\n    request_.on(\"error\", (error) => {\n      reject(new FetchError(`request to ${request.url} failed, reason: ${error.message}`, \"system\", error));\n      finalize();\n    });\n    fixResponseChunkedTransferBadEnding(request_, (error) => {\n      if (response && response.body) {\n        response.body.destroy(error);\n      }\n    });\n    if (process.version < \"v14\") {\n      request_.on(\"socket\", (s2) => {\n        let endedWithEventsCount;\n        s2.prependListener(\"end\", () => {\n          endedWithEventsCount = s2._eventsCount;\n        });\n        s2.prependListener(\"close\", (hadError) => {\n          if (response && endedWithEventsCount < s2._eventsCount && !hadError) {\n            const error = new Error(\"Premature close\");\n            error.code = \"ERR_STREAM_PREMATURE_CLOSE\";\n            response.body.emit(\"error\", error);\n          }\n        });\n      });\n    }\n    request_.on(\"response\", (response_) => {\n      request_.setTimeout(0);\n      const headers = fromRawHeaders(response_.rawHeaders);\n      if (isRedirect(response_.statusCode)) {\n        const location = headers.get(\"Location\");\n        let locationURL = null;\n        try {\n          locationURL = location === null ? null : new URL(location, request.url);\n        } catch {\n          if (request.redirect !== \"manual\") {\n            reject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, \"invalid-redirect\"));\n            finalize();\n            return;\n          }\n        }\n        switch (request.redirect) {\n          case \"error\":\n            reject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, \"no-redirect\"));\n            finalize();\n            return;\n          case \"manual\":\n            break;\n          case \"follow\": {\n            if (locationURL === null) {\n              break;\n            }\n            if (request.counter >= request.follow) {\n              reject(new FetchError(`maximum redirect reached at: ${request.url}`, \"max-redirect\"));\n              finalize();\n              return;\n            }\n            const requestOptions = {\n              headers: new Headers(request.headers),\n              follow: request.follow,\n              counter: request.counter + 1,\n              agent: request.agent,\n              compress: request.compress,\n              method: request.method,\n              body: clone(request),\n              signal: request.signal,\n              size: request.size,\n              referrer: request.referrer,\n              referrerPolicy: request.referrerPolicy\n            };\n            if (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n              for (const name of [\"authorization\", \"www-authenticate\", \"cookie\", \"cookie2\"]) {\n                requestOptions.headers.delete(name);\n              }\n            }\n            if (response_.statusCode !== 303 && request.body && options_.body instanceof import_node_stream2.default.Readable) {\n              reject(new FetchError(\"Cannot follow redirect with body being a readable stream\", \"unsupported-redirect\"));\n              finalize();\n              return;\n            }\n            if (response_.statusCode === 303 || (response_.statusCode === 301 || response_.statusCode === 302) && request.method === \"POST\") {\n              requestOptions.method = \"GET\";\n              requestOptions.body = void 0;\n              requestOptions.headers.delete(\"content-length\");\n            }\n            const responseReferrerPolicy = parseReferrerPolicyFromHeader(headers);\n            if (responseReferrerPolicy) {\n              requestOptions.referrerPolicy = responseReferrerPolicy;\n            }\n            resolve(fetch(new Request(locationURL, requestOptions)));\n            finalize();\n            return;\n          }\n          default:\n            return reject(new TypeError(`Redirect option '${request.redirect}' is not a valid value of RequestRedirect`));\n        }\n      }\n      if (signal) {\n        response_.once(\"end\", () => {\n          signal.removeEventListener(\"abort\", abortAndFinalize);\n        });\n      }\n      let body = (0, import_node_stream2.pipeline)(response_, new import_node_stream2.PassThrough(), (error) => {\n        if (error) {\n          reject(error);\n        }\n      });\n      if (process.version < \"v12.10\") {\n        response_.on(\"aborted\", abortAndFinalize);\n      }\n      const responseOptions = {\n        url: request.url,\n        status: response_.statusCode,\n        statusText: response_.statusMessage,\n        headers,\n        size: request.size,\n        counter: request.counter,\n        highWaterMark: request.highWaterMark\n      };\n      const codings = headers.get(\"Content-Encoding\");\n      if (!request.compress || request.method === \"HEAD\" || codings === null || response_.statusCode === 204 || response_.statusCode === 304) {\n        response = new Response(body, responseOptions);\n        resolve(response);\n        return;\n      }\n      const zlibOptions = {\n        flush: import_node_zlib.default.Z_SYNC_FLUSH,\n        finishFlush: import_node_zlib.default.Z_SYNC_FLUSH\n      };\n      if (codings === \"gzip\" || codings === \"x-gzip\") {\n        body = (0, import_node_stream2.pipeline)(body, import_node_zlib.default.createGunzip(zlibOptions), (error) => {\n          if (error) {\n            reject(error);\n          }\n        });\n        response = new Response(body, responseOptions);\n        resolve(response);\n        return;\n      }\n      if (codings === \"deflate\" || codings === \"x-deflate\") {\n        const raw = (0, import_node_stream2.pipeline)(response_, new import_node_stream2.PassThrough(), (error) => {\n          if (error) {\n            reject(error);\n          }\n        });\n        raw.once(\"data\", (chunk) => {\n          if ((chunk[0] & 15) === 8) {\n            body = (0, import_node_stream2.pipeline)(body, import_node_zlib.default.createInflate(), (error) => {\n              if (error) {\n                reject(error);\n              }\n            });\n          } else {\n            body = (0, import_node_stream2.pipeline)(body, import_node_zlib.default.createInflateRaw(), (error) => {\n              if (error) {\n                reject(error);\n              }\n            });\n          }\n          response = new Response(body, responseOptions);\n          resolve(response);\n        });\n        raw.once(\"end\", () => {\n          if (!response) {\n            response = new Response(body, responseOptions);\n            resolve(response);\n          }\n        });\n        return;\n      }\n      if (codings === \"br\") {\n        body = (0, import_node_stream2.pipeline)(body, import_node_zlib.default.createBrotliDecompress(), (error) => {\n          if (error) {\n            reject(error);\n          }\n        });\n        response = new Response(body, responseOptions);\n        resolve(response);\n        return;\n      }\n      response = new Response(body, responseOptions);\n      resolve(response);\n    });\n    writeToStream(request_, request).catch(reject);\n  });\n}\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n  const LAST_CHUNK = import_node_buffer2.Buffer.from(\"0\\r\\n\\r\\n\");\n  let isChunkedTransfer = false;\n  let properLastChunkReceived = false;\n  let previousChunk;\n  request.on(\"response\", (response) => {\n    const { headers } = response;\n    isChunkedTransfer = headers[\"transfer-encoding\"] === \"chunked\" && !headers[\"content-length\"];\n  });\n  request.on(\"socket\", (socket) => {\n    const onSocketClose = () => {\n      if (isChunkedTransfer && !properLastChunkReceived) {\n        const error = new Error(\"Premature close\");\n        error.code = \"ERR_STREAM_PREMATURE_CLOSE\";\n        errorCallback(error);\n      }\n    };\n    const onData = (buf) => {\n      properLastChunkReceived = import_node_buffer2.Buffer.compare(buf.slice(-5), LAST_CHUNK) === 0;\n      if (!properLastChunkReceived && previousChunk) {\n        properLastChunkReceived = import_node_buffer2.Buffer.compare(previousChunk.slice(-3), LAST_CHUNK.slice(0, 3)) === 0 && import_node_buffer2.Buffer.compare(buf.slice(-2), LAST_CHUNK.slice(3)) === 0;\n      }\n      previousChunk = buf;\n    };\n    socket.prependListener(\"close\", onSocketClose);\n    socket.on(\"data\", onData);\n    request.on(\"close\", () => {\n      socket.removeListener(\"close\", onSocketClose);\n      socket.removeListener(\"data\", onData);\n    });\n  });\n}\n\n// src/index.js\ninit_fetch_blob();\ninit_esm_min();\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  AbortError,\n  Blob,\n  FetchError,\n  File,\n  FormData,\n  Headers,\n  Request,\n  Response,\n  blobFrom,\n  blobFromSync,\n  fileFrom,\n  fileFromSync,\n  isRedirect\n});\n/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */\n/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */\n/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */\n","var fs = require('fs')\nvar path = require('path')\nvar os = require('os')\n\n// Workaround to fix webpack's build warnings: 'the request of a dependency is an expression'\nvar runtimeRequire = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require // eslint-disable-line\n\nvar vars = (process.config && process.config.variables) || {}\nvar prebuildsOnly = !!process.env.PREBUILDS_ONLY\nvar abi = process.versions.modules // TODO: support old node where this is undef\nvar runtime = isElectron() ? 'electron' : (isNwjs() ? 'node-webkit' : 'node')\n\nvar arch = process.env.npm_config_arch || os.arch()\nvar platform = process.env.npm_config_platform || os.platform()\nvar libc = process.env.LIBC || (isAlpine(platform) ? 'musl' : 'glibc')\nvar armv = process.env.ARM_VERSION || (arch === 'arm64' ? '8' : vars.arm_version) || ''\nvar uv = (process.versions.uv || '').split('.')[0]\n\nmodule.exports = load\n\nfunction load (dir) {\n  return runtimeRequire(load.path(dir))\n}\n\nload.path = function (dir) {\n  dir = path.resolve(dir || '.')\n\n  try {\n    var name = runtimeRequire(path.join(dir, 'package.json')).name.toUpperCase().replace(/-/g, '_')\n    if (process.env[name + '_PREBUILD']) dir = process.env[name + '_PREBUILD']\n  } catch (err) {}\n\n  if (!prebuildsOnly) {\n    var release = getFirst(path.join(dir, 'build/Release'), matchBuild)\n    if (release) return release\n\n    var debug = getFirst(path.join(dir, 'build/Debug'), matchBuild)\n    if (debug) return debug\n  }\n\n  var prebuild = resolve(dir)\n  if (prebuild) return prebuild\n\n  var nearby = resolve(path.dirname(process.execPath))\n  if (nearby) return nearby\n\n  var target = [\n    'platform=' + platform,\n    'arch=' + arch,\n    'runtime=' + runtime,\n    'abi=' + abi,\n    'uv=' + uv,\n    armv ? 'armv=' + armv : '',\n    'libc=' + libc,\n    'node=' + process.versions.node,\n    process.versions.electron ? 'electron=' + process.versions.electron : '',\n    typeof __webpack_require__ === 'function' ? 'webpack=true' : '' // eslint-disable-line\n  ].filter(Boolean).join(' ')\n\n  throw new Error('No native build was found for ' + target + '\\n    loaded from: ' + dir + '\\n')\n\n  function resolve (dir) {\n    // Find matching \"prebuilds/<platform>-<arch>\" directory\n    var tuples = readdirSync(path.join(dir, 'prebuilds')).map(parseTuple)\n    var tuple = tuples.filter(matchTuple(platform, arch)).sort(compareTuples)[0]\n    if (!tuple) return\n\n    // Find most specific flavor first\n    var prebuilds = path.join(dir, 'prebuilds', tuple.name)\n    var parsed = readdirSync(prebuilds).map(parseTags)\n    var candidates = parsed.filter(matchTags(runtime, abi))\n    var winner = candidates.sort(compareTags(runtime))[0]\n    if (winner) return path.join(prebuilds, winner.file)\n  }\n}\n\nfunction readdirSync (dir) {\n  try {\n    return fs.readdirSync(dir)\n  } catch (err) {\n    return []\n  }\n}\n\nfunction getFirst (dir, filter) {\n  var files = readdirSync(dir).filter(filter)\n  return files[0] && path.join(dir, files[0])\n}\n\nfunction matchBuild (name) {\n  return /\\.node$/.test(name)\n}\n\nfunction parseTuple (name) {\n  // Example: darwin-x64+arm64\n  var arr = name.split('-')\n  if (arr.length !== 2) return\n\n  var platform = arr[0]\n  var architectures = arr[1].split('+')\n\n  if (!platform) return\n  if (!architectures.length) return\n  if (!architectures.every(Boolean)) return\n\n  return { name, platform, architectures }\n}\n\nfunction matchTuple (platform, arch) {\n  return function (tuple) {\n    if (tuple == null) return false\n    if (tuple.platform !== platform) return false\n    return tuple.architectures.includes(arch)\n  }\n}\n\nfunction compareTuples (a, b) {\n  // Prefer single-arch prebuilds over multi-arch\n  return a.architectures.length - b.architectures.length\n}\n\nfunction parseTags (file) {\n  var arr = file.split('.')\n  var extension = arr.pop()\n  var tags = { file: file, specificity: 0 }\n\n  if (extension !== 'node') return\n\n  for (var i = 0; i < arr.length; i++) {\n    var tag = arr[i]\n\n    if (tag === 'node' || tag === 'electron' || tag === 'node-webkit') {\n      tags.runtime = tag\n    } else if (tag === 'napi') {\n      tags.napi = true\n    } else if (tag.slice(0, 3) === 'abi') {\n      tags.abi = tag.slice(3)\n    } else if (tag.slice(0, 2) === 'uv') {\n      tags.uv = tag.slice(2)\n    } else if (tag.slice(0, 4) === 'armv') {\n      tags.armv = tag.slice(4)\n    } else if (tag === 'glibc' || tag === 'musl') {\n      tags.libc = tag\n    } else {\n      continue\n    }\n\n    tags.specificity++\n  }\n\n  return tags\n}\n\nfunction matchTags (runtime, abi) {\n  return function (tags) {\n    if (tags == null) return false\n    if (tags.runtime !== runtime && !runtimeAgnostic(tags)) return false\n    if (tags.abi !== abi && !tags.napi) return false\n    if (tags.uv && tags.uv !== uv) return false\n    if (tags.armv && tags.armv !== armv) return false\n    if (tags.libc && tags.libc !== libc) return false\n\n    return true\n  }\n}\n\nfunction runtimeAgnostic (tags) {\n  return tags.runtime === 'node' && tags.napi\n}\n\nfunction compareTags (runtime) {\n  // Precedence: non-agnostic runtime, abi over napi, then by specificity.\n  return function (a, b) {\n    if (a.runtime !== b.runtime) {\n      return a.runtime === runtime ? -1 : 1\n    } else if (a.abi !== b.abi) {\n      return a.abi ? -1 : 1\n    } else if (a.specificity !== b.specificity) {\n      return a.specificity > b.specificity ? -1 : 1\n    } else {\n      return 0\n    }\n  }\n}\n\nfunction isNwjs () {\n  return !!(process.versions && process.versions.nw)\n}\n\nfunction isElectron () {\n  if (process.versions && process.versions.electron) return true\n  if (process.env.ELECTRON_RUN_AS_NODE) return true\n  return typeof window !== 'undefined' && window.process && window.process.type === 'renderer'\n}\n\nfunction isAlpine (platform) {\n  return platform === 'linux' && fs.existsSync('/etc/alpine-release')\n}\n\n// Exposed for unit tests\n// TODO: move to lib\nload.parseTags = parseTags\nload.matchTags = matchTags\nload.compareTags = compareTags\nload.parseTuple = parseTuple\nload.matchTuple = matchTuple\nload.compareTuples = compareTuples\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((o, k) => {\n    o[k] = true\n    return o\n  }, {})\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","'use strict';\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0x00) {  // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {  // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0  // overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {  // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80 ||  // overlong\n        buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0  // surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {  // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80 ||  // overlong\n        buf[i] === 0xf4 && buf[i + 1] > 0x8f || buf[i] > 0xf4  // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = isValidUTF8;\n","'use strict';\n\ntry {\n  module.exports = require('node-gyp-build')(__dirname);\n} catch (e) {\n  module.exports = require('./fallback');\n}\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {Function} listener The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, listener, options = {}) {\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        listener.call(this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        listener.call(this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        listener.call(this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        listener.call(this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = listener;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {Function} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data, true);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf, false);\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n'use strict';\n\nconst net = require('net');\nconst tls = require('tls');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER } = require('./constants');\nconst { isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        randomFillSync(mask, 0, 4);\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        [kByteLength]: byteLength,\n        fin: options.fin,\n        generateMask: this._generateMask,\n        mask: options.mask,\n        maskBuffer: this._maskBuffer,\n        opcode,\n        readOnly,\n        rsv1\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n      } else {\n        this.dispatch(data, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(data, {\n          [kByteLength]: byteLength,\n          fin: options.fin,\n          generateMask: this._generateMask,\n          mask: options.mask,\n          maskBuffer: this._maskBuffer,\n          opcode,\n          readOnly,\n          rsv1: false\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const params = this._queue[i];\n          const callback = params[params.length - 1];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst https = require('https');\nconst net = require('net');\nconst tls = require('tls');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!key || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    this._sender = new Sender(socket, this._extensions, options.generateMask);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n\n    websocket._url = address;\n  }\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isUnixSocket = parsedUrl.protocol === 'ws+unix:';\n  let invalidURLMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isUnixSocket) {\n    invalidURLMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"';\n  } else if (isUnixSocket && !parsedUrl.pathname) {\n    invalidURLMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidURLMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidURLMessage) {\n    const err = new SyntaxError(invalidURLMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isUnixSocket) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalUnixSocket = isUnixSocket;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isUnixSocket\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isUnixSocket\n        ? websocket._originalUnixSocket\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalUnixSocket\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  req.end();\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","module.exports = {\n  showTheTour: false,\n  backup: true,\n  allowPrerelease: false,\n  forceDevTools: false,\n  trialMode: false,\n  canGetUpdates: true,\n  isInGracePeriod: false,\n  gracePeriodEnd: 0,\n  canEdit: true,\n  canExport: true,\n  user: {\n    autoDownloadUpdate: true,\n    autoSave: true,\n    backupDays: 30,\n    backupLocation: 'default',\n    dark: 'system',\n    themeSource: 'system',\n    numberOfBackups: 30,\n    backupType: 'never-delete',\n    localBackups: false,\n    openDashboardFirst: true,\n    beatHierarchy: false,\n    enableOfflineMode: false,\n    streamFriendly: false,\n    useSpellcheck: true,\n    font: 'Forum',\n    fontSize: 20,\n  },\n}\n","module.exports = require(\"buffer\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"process\");","module.exports = require(\"stream\");","module.exports = require(\"stream/web\");","module.exports = require(\"tls\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"worker_threads\");","module.exports = require(\"zlib\");","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","export const PING = 'PING'\nexport const RM_RF = 'RM_RF'\nexport const SAVE_FILE = 'SAVE_FILE'\nexport const SAVE_OFFLINE_FILE = 'SAVE_OFFLINE_FILE'\nexport const FILE_BASENAME = 'FILE_BASENAME'\nexport const READ_FILE = 'READ_FILE'\nexport const BACKUP_FILE = 'BACKUP_FILE'\nexport const SAVE_BACKUP_ERROR = 'SAVE_BACKUP_ERROR'\nexport const ENSURE_BACKUP_FULL_PATH = 'ENSURE_BACKUP_FULL_PATH'\nexport const ENSURE_BACKUP_TODAY_PATH = 'ENSURE_BACKUP_TODAY_PATH'\nexport const LOG_INFO = 'LOG_INFO'\nexport const LOG_WARN = 'LOG_WARN'\nexport const LOG_ERROR = 'LOG_ERROR'\nexport const FILE_EXISTS = 'FILE_EXISTS'\nexport const BACKUP_OFFLINE_BACKUP_FOR_RESUME = 'BACKUP_OFFLINE_BACKUP_FOR_RESUME'\nexport const READ_OFFLINE_FILES = 'READ_OFFLINE_FILES'\nexport const IS_TEMP_FILE = 'IS_TEMP_FILE'\nexport const SET_TEMPLATE = 'SET_TEMPLATE'\nexport const SET_CUSTOM_TEMPLATE = 'SET_CUSTOM_TEMPLATE'\nexport const DELETE_CUSTOM_TEMPLATE = 'DELETE_CUSTOM_TEMPLATE'\nexport const DEFAULT_BACKUP_LOCATION = 'DEFAULT_BACKUP_LOCATION'\nexport const ATTEMPT_TO_FETCH_TEMPLATES = 'ATTEMPT_TO_FETCH_TEMPLATES'\nexport const SAVE_AS_TEMP_FILE = 'SAVE_AS_TEMP_FILE'\nexport const REMOVE_FROM_KNOWN_FILES = 'REMOVE_FROM_KNOWN_FILES'\nexport const DELETE_KNOWN_FILE = 'DELETE_KNOWN_FILE'\nexport const UPDATE_KNOWN_FILE_NAME = 'UPDATE_KNOWN_FILE_NAME'\nexport const ADD_KNOWN_FILE = 'ADD_KNOWN_FILE'\nexport const ADD_KNOWN_FILE_WITH_FIX = 'ADD_KNOWN_FILE_WITH_FIX'\nexport const EDIT_KNOWN_FILE_PATH = 'EDIT_KNOWN_FILE_PATH'\nexport const UPDATE_LAST_OPENED_DATE = 'UPDATE_LAST_OPENED_DATE'\nexport const REMOVE_FROM_TEMP_FILES = 'REMOVE_FROM_TEMP_FILES'\nexport const SAVE_TO_TEMP_FILE = 'SAVE_TO_TEMP_FILE'\nexport const LAST_OPENED_FILE = 'LAST_OPENED_FILE'\nexport const SET_LAST_OPENED_FILE = 'SET_LAST_OPENED_FILE'\nexport const NUKE_LAST_OPENED_FILE_URL = 'NUKE_LAST_OPENED_FILE_URL'\nexport const SHUTDOWN = 'SHUTDOWN'\n\nexport const RM_RF_ERROR_REPLY = 'RM_RF_ERROR_REPLY'\nexport const SAVE_FILE_ERROR_REPLY = 'SAVE_FILE_ERROR_REPLY'\nexport const SAVE_OFFLINE_FILE_ERROR_REPLY = 'SAVE_OFFLINE_FILE_ERROR_REPLY'\nexport const FILE_BASENAME_ERROR_REPLY = 'FILE_BASENAME_ERROR_REPLY'\nexport const READ_FILE_ERROR_REPLY = 'READ_FILE_ERROR_REPLY'\nexport const BACKUP_FILE_ERROR_REPLY = 'BACKUP_FILE_ERROR_REPLY'\nexport const ENSURE_BACKUP_FULL_PATH_ERROR_REPLY = 'ENSURE_BACKUP_FULL_PATH_ERROR_REPLY'\nexport const ENSURE_BACKUP_TODAY_PATH_ERROR_REPLY = 'ENSURE_BACKUP_TODAY_PATH_ERROR_REPLY'\nexport const FILE_EXISTS_ERROR_REPLY = 'FILE_EXISTS_ERROR_REPLY'\nexport const BACKUP_OFFLINE_BACKUP_FOR_RESUME_ERROR_REPLY =\n  'BACKUP_OFFLINE_BACKUP_FOR_RESUME_ERROR_REPLY'\nexport const READ_OFFLINE_FILES_ERROR_REPLY = 'READ_OFFLINE_FILES_ERROR_REPLY'\nexport const IS_TEMP_FILE_ERROR_REPLY = 'IS_TEMP_FILE_ERROR_REPLY'\nexport const SET_TEMPLATE_ERROR_REPLY = 'SET_TEMPLATE_ERROR_REPLY'\nexport const SET_CUSTOM_TEMPLATE_ERROR_REPLY = 'SET_CUSTOM_TEMPLATE_ERROR_REPLY'\nexport const DELETE_CUSTOM_TEMPLATE_ERROR_REPLY = 'DELETE_CUSTOM_TEMPLATE_ERROR_REPLY'\nexport const DEFAULT_BACKUP_LOCATION_ERROR_REPLY = 'DEFAULT_BACKUP_LOCATION_ERROR_REPLY'\nexport const ATTEMPT_TO_FETCH_TEMPLATES_ERROR_REPLY = 'ATTEMPT_TO_FETCH_TEMPLATES_ERROR_REPLY'\nexport const SAVE_AS_TEMP_FILE_ERROR_REPLY = 'SAVE_AS_TEMP_FILE_ERROR_REPLY'\nexport const REMOVE_FROM_KNOWN_FILES_ERROR_REPLY = 'bREMOVE_FROM_KNOWN_FILES_ERROR_REPLY'\nexport const DELETE_KNOWN_FILE_ERROR_REPLY = 'DELETE_KNOWN_FILE_ERROR_REPLY'\nexport const UPDATE_KNOWN_FILE_NAME_ERROR_REPLY = 'UPDATE_KNOWN_FILE_NAME_ERROR_REPLY'\nexport const ADD_KNOWN_FILE_ERROR_REPLY = 'ADD_KNOWN_FILE_ERROR_REPLY'\nexport const ADD_KNOWN_FILE_WITH_FIX_ERROR_REPLY = 'ADD_KNOWN_FILE_WITH_FIX_ERROR_REPLY'\nexport const EDIT_KNOWN_FILE_PATH_ERROR_REPLY = 'EDIT_KNOWN_FILE_PATH_ERROR_REPLY'\nexport const UPDATE_LAST_OPENED_DATE_ERROR_REPLY = 'UPDATE_LAST_OPENED_DATE_ERROR_REPLY'\nexport const REMOVE_FROM_TEMP_FILES_ERROR_REPLY = 'REMOVE_FROM_TEMP_FILES_ERROR_REPLY'\nexport const SAVE_TO_TEMP_FILE_ERROR_REPLY = 'SAVE_TO_TEMP_FILE_ERROR_REPLY'\nexport const LAST_OPENED_FILE_ERROR_REPLY = 'LAST_OPENED_FILE_ERROR_REPLY'\nexport const SET_LAST_OPENED_FILE_ERROR_REPLY = 'SET_LAST_OPENED_FILE_ERROR_REPLY'\nexport const NUKE_LAST_OPENED_FILE_URL_ERROR_REPLY = 'NUKE_LAST_OPENED_FILE_URL_ERROR_REPLY'\nexport const SHUTDOWN_ERROR_REPLY = 'SHUTDOWN_ERROR_REPLY'\n\n// File system APIs\nexport const BACKUP_BASE_PATH = 'BACKUP_BASE_PATH'\nexport const LISTEN_TO_TRIAL_CHANGES = 'LISTEN_TO_TRIAL_CHANGES'\nexport const CURRENT_TRIAL = 'CURRENT_TRIAL'\nexport const START_TRIAL = 'START_TRIAL'\nexport const EXTEND_TRIAL_WITH_RESET = 'EXTEND_TRIAL_WITH_RESET'\nexport const LISTEN_TO_LICENSE_CHANGES = 'LISTEN_TO_LICENSE_CHANGES'\nexport const CURRENT_LICENSE = 'CURRENT_LICENSE'\nexport const DELETE_LICENSE = 'DELETE_LICENSE'\nexport const SAVE_LICENSE_INFO = 'SAVE_LICENSE_INFO'\nexport const LISTEN_TO_KNOWN_FILES_CHANGES = 'LISTEN_TO_KNOWN_FILES_CHANGES'\nexport const CURRENT_KNOWN_FILES = 'CURRENT_KNOWN_FILES'\nexport const LISTEN_TO_TEMPLATES_CHANGES = 'LISTEN_TO_TEMPLATES_CHANGES'\nexport const CURRENT_TEMPLATES = 'CURRENT_TEMPLATES'\nexport const LISTEN_TO_CUSTOM_TEMPLATES_CHANGES = 'LISTEN_TO_CUSTOM_TEMPLATES_CHANGES'\nexport const CURRENT_CUSTOM_TEMPLATES = 'CURRENT_CUSTOM_TEMPLATES'\nexport const LISTEN_TO_TEMPLATE_MANIFEST_CHANGES = 'LISTEN_TO_TEMPLATE_MANIFEST_CHANGES'\nexport const CURRENT_TEMPLATE_MANIFEST = 'CURRENT_TEMPLATE_MANIFEST'\nexport const LISTEN_TO_EXPORT_CONFIG_SETTINGS_CHANGES = 'LISTEN_TO_EXPORT_CONFIG_SETTINGS_CHANGES'\nexport const CURRENT_EXPORT_CONFIG_SETTINGS = 'CURRENT_EXPORT_CONFIG_SETTINGS'\nexport const SAVE_EXPORT_CONFIG_SETTINGS = 'SAVE_EXPORT_CONFIG_SETTINGS'\nexport const LISTEN_TO_APP_SETTINGS_CHANGES = 'LISTEN_TO_APP_SETTINGS_CHANGES'\nexport const CURRENT_APP_SETTINGS = 'CURRENT_APP_SETTINGS'\nexport const SAVE_APP_SETTING = 'SAVE_APP_SETTING'\nexport const LISTEN_TO_USER_SETTINGS_CHANGES = 'LISTEN_TO_USER_SETTINGS_CHANGES'\nexport const CURRENT_USER_SETTINGS = 'CURRENT_USER_SETTINGS'\nexport const LISTEN_TO_BACKUPS_CHANGES = 'LISTEN_TO_BACKUPS_CHANGES'\nexport const CURRENT_BACKUPS = 'CURRENT_BACKUPS'\nexport const CUSTOM_TEMPLATES_PATH = 'CUSTOM_TEMPLATES_PATH'\nexport const OFFLINE_FILE_PATH = 'OFFLINE_FILE_PATH'\nexport const COPY_FILE = 'COPY_FILE'\n\n// File system unsubscribe types\nexport const LISTEN_TO_TRIAL_CHANGES_UNSUBSCRIBE = 'LISTEN_TO_TRIAL_CHANGES_UNSUBSCRRIBE'\nexport const LISTEN_TO_LICENSE_CHANGES_UNSUBSCRIBE = 'LISTEN_TO_LICENSE_CHANGES_UNSUBSCRRIBE'\nexport const LISTEN_TO_KNOWN_FILES_CHANGES_UNSUBSCRIBE =\n  'LISTEN_TO_KNOWN_FILES_CHANGES_UNSUBSCRRIBE'\nexport const LISTEN_TO_TEMPLATES_CHANGES_UNSUBSCRIBE = 'LISTEN_TO_TEMPLATES_CHANGES_UNSUBSCRRIBE'\nexport const LISTEN_TO_CUSTOM_TEMPLATES_CHANGES_UNSUBSCRIBE =\n  'LISTEN_TO_CUSTOM_TEMPLATES_CHANGES_UNSUBSCRRIBE'\nexport const LISTEN_TO_TEMPLATE_MANIFEST_CHANGES_UNSUBSCRIBE =\n  'LISTEN_TO_TEMPLATE_MANIFEST_CHANGES_UNSUBSCRRIBE'\nexport const LISTEN_TO_EXPORT_CONFIG_SETTINGS_CHANGES_UNSUBSCRIBE =\n  'LISTEN_TO_EXPORT_CONFIG_SETTINGS_CHANGES_UNSUBSCRRIBE'\nexport const LISTEN_TO_APP_SETTINGS_CHANGES_UNSUBSCRIBE =\n  'LISTEN_TO_APP_SETTINGS_CHANGES_UNSUBSCRRIBE'\nexport const LISTEN_TO_USER_SETTINGS_CHANGES_UNSUBSCRIBE =\n  'LISTEN_TO_USER_SETTINGS_CHANGES_UNSUBSCRRIBE'\nexport const LISTEN_TO_BACKUPS_CHANGES_UNSUBSCRIBE = 'LISTEN_TO_BACKUPS_CHANGES_UNSUBSCRRIBE'\n\n// File system error reply types\nexport const CUSTOM_TEMPLATES_PATH_ERROR_REPLY = 'CUSTOM_TEMPLATES_PATH_ERROR_REPLY'\nexport const BACKUP_BASE_PATH_ERROR_REPLY = 'BACKUP_BASE_PATH_ERROR_REPLY'\nexport const CURRENT_TRIAL_ERROR_REPLY = 'CURRENT_TRIAL_ERROR_REPLY'\nexport const START_TRIAL_ERROR_REPLY = 'START_TRIAL_ERROR_REPLY'\nexport const EXTEND_TRIAL_WITH_RESET_ERROR_REPLY = 'EXTEND_TRIAL_WITH_RESET_ERROR_REPLY'\nexport const CURRENT_LICENSE_ERROR_REPLY = 'CURRENT_LICENSE_ERROR_REPLY'\nexport const DELETE_LICENSE_ERROR_REPLY = 'DELETE_LICENSE_ERROR_REPLY'\nexport const SAVE_LICENSE_INFO_ERROR_REPLY = 'SAVE_LICENSE_INFO_ERROR_REPLY'\nexport const CURRENT_KNOWN_FILES_ERROR_REPLY = 'CURRENT_KNOWN_FILES_ERROR_REPLY'\nexport const CURRENT_TEMPLATES_ERROR_REPLY = 'CURRENT_TEMPLATES_ERROR_REPLY'\nexport const CURRENT_CUSTOM_TEMPLATES_ERROR_REPLY = 'CURRENT_CUSTOM_TEMPLATES_ERROR_REPLY'\nexport const CURRENT_TEMPLATE_MANIFEST_ERROR_REPLY = 'CURRENT_TEMPLATE_MANIFEST_ERROR_REPLY'\nexport const CURRENT_EXPORT_CONFIG_SETTINGS_ERROR_REPLY =\n  'CURRENT_EXPORT_CONFIG_SETTINGS_ERROR_REPLY'\nexport const SAVE_EXPORT_CONFIG_SETTINGS_ERROR_REPLY = 'SAVE_EXPORT_CONFIG_SETTINGS_ERROR_REPLY'\nexport const CURRENT_APP_SETTINGS_ERROR_REPLY = 'CURRENT_APP_SETTINGS_ERROR_REPLY'\nexport const SAVE_APP_SETTING_ERROR_REPLY = 'SAVE_APP_SETTING_ERROR_REPLY'\nexport const CURRENT_USER_SETTINGS_ERROR_REPLY = 'CURRENT_USER_SETTINGS_ERROR_REPLY'\nexport const CURRENT_BACKUPS_ERROR_REPLY = 'CURRENT_BACKUPS_ERROR_REPLY'\nexport const OFFLINE_FILE_PATH_ERROR_REPLY = 'OFFLINE_FILE_PATH_ERROR_REPLY'\nexport const COPY_FILE_ERROR_REPLY = 'COPY_FILE_ERROR_REPLY'\n\n// Status\nexport const BUSY = 'BUSY'\nexport const DONE = 'DONE'\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import fs from 'fs'\nimport path from 'path'\nimport { v4 as uuidv4 } from 'uuid'\n\nimport { emptyFile, SYSTEM_REDUCER_KEYS, helpers } from 'pltr/v2'\n\nconst { readFile, lstat, writeFile, open, unlink, readdir, mkdir } = fs.promises\n\nconst basename = path.basename\n\nfunction removeSystemKeys(jsonData) {\n  const withoutSystemKeys = {}\n  Object.keys(jsonData).map((key) => {\n    if (SYSTEM_REDUCER_KEYS.indexOf(key) >= 0) return\n    withoutSystemKeys[key] = jsonData[key]\n  })\n  return withoutSystemKeys\n}\n\nconst fileModule = (userDataPath) => {\n  const OFFLINE_FILE_FILES_PATH = path.join(userDataPath, 'offline')\n  const TEMP_FILES_PATH = path.join(userDataPath, 'tmp')\n\n  function offlineFileURL(fileURL) {\n    if (!helpers.file.urlPointsToPlottrCloud(fileURL)) {\n      return null\n    }\n\n    const fileId = helpers.file.fileIdFromPlottrProFile(fileURL)\n    return helpers.file.filePathToFileURL(path.join(OFFLINE_FILE_FILES_PATH, fileId))\n  }\n\n  function offlineFileBackupForResumeURL(fileName) {\n    if (!fileName) {\n      return null\n    }\n\n    return helpers.file.filePathToFileURL(path.join(OFFLINE_FILE_FILES_PATH, fileName))\n  }\n\n  const fileExists = (filePath) => {\n    return lstat(filePath)\n      .then(() => true)\n      .catch((error) => {\n        if (error.code === 'ENOENT') {\n          return Promise.resolve(false)\n        } else {\n          return Promise.reject(error)\n        }\n      })\n  }\n\n  return (backupModule, settingsModule, logger) => {\n    const { backupBasePath } = backupModule\n\n    const writeAndWaitForFlush = (filePath, data) => {\n      return open(filePath, 'w+').then((fileHandle) => {\n        return writeFile(fileHandle, data).then(() => {\n          return fileHandle.sync().then(() => {\n            return fileHandle.close()\n          })\n        })\n      })\n    }\n\n    const checkForMinimalSetOfKeys = (file, filePath) => {\n      const BLANK_FILE = emptyFile()\n\n      const hasMinimalSetOfKeys = Object.keys(BLANK_FILE).every((key) => key in file)\n      if (!hasMinimalSetOfKeys) {\n        const missingKeys = Object.keys(BLANK_FILE).reduce((acc, key) => {\n          if (key in file) return acc\n          else return [key, ...acc]\n        }, [])\n        const errorMessage = `Tried to save file at ${filePath} but after removing system keys it lacks the following expected keys: ${missingKeys}`\n        logger.error(errorMessage)\n        return Promise.reject(new Error(errorMessage))\n      }\n\n      return Promise.resolve(file)\n    }\n\n    function saveFile(fileURL, jsonData) {\n      const isDeviceFile = helpers.file.isDeviceFileURL(fileURL)\n      if (!isDeviceFile) {\n        const message = `Attempted to save non-device file to device: ${fileURL}`\n        logger.error(message)\n        return Promise.reject(new Error(message))\n      }\n      return backupBasePath().then((backupPath) => {\n        const filePath = helpers.file.withoutProtocol(fileURL)\n        if (path.normalize(filePath).startsWith(path.normalize(backupPath))) {\n          const message = `Attempting to save a file that's in the backup folder (${filePath})!  Backups are in ${backupPath}`\n          logger.error(message)\n          return Promise.reject(message)\n        }\n        const withoutSystemKeys = removeSystemKeys(jsonData)\n        return checkForMinimalSetOfKeys(withoutSystemKeys, filePath).then(() => {\n          const payload =\n            process.env.NODE_ENV == 'development'\n              ? JSON.stringify(withoutSystemKeys, null, 2)\n              : JSON.stringify(withoutSystemKeys)\n          return writeAndWaitForFlush(filePath, payload)\n        })\n      })\n    }\n\n    const isResumeBackup = (fileName) => {\n      return fileName.includes('_resume-backup_')\n    }\n\n    function listOfflineFiles() {\n      return readdir(OFFLINE_FILE_FILES_PATH)\n        .then((entries) => {\n          return Promise.all(\n            entries.map((entry) => {\n              return lstat(path.join(OFFLINE_FILE_FILES_PATH, entry)).then((folder) => ({\n                keep: folder.isFile() && !isResumeBackup(entry),\n                payload: path.join(OFFLINE_FILE_FILES_PATH, entry),\n              }))\n            })\n          ).then((results) => results.filter(({ keep }) => keep).map(({ payload }) => payload))\n        })\n        .catch((error) => {\n          logger.error(\n            `Couldn't list the offline files directory: ${OFFLINE_FILE_FILES_PATH}`,\n            error\n          )\n          return Promise.reject(error)\n        })\n    }\n\n    function readOfflineFiles() {\n      return listOfflineFiles().then((files) => {\n        return Promise.all(\n          files.map((filePath) => {\n            return readFile(filePath).then((jsonString) => {\n              try {\n                const fileId = basename(filePath, '.pltr')\n                const fileData = JSON.parse(jsonString).file\n                return [\n                  {\n                    fileURL: `plottr://${fileId}`,\n                    lastOpened: fileData.timeStamp,\n                    fileName: fileData.fileName,\n                    isOfflineBackup: true,\n                  },\n                ]\n              } catch (error) {\n                logger.error(`Error reading offline file: ${filePath}`, error)\n                return []\n              }\n            })\n          })\n        ).then((results) => results.flatMap((x) => x))\n      })\n    }\n\n    function cleanOfflineBackups(knownFiles) {\n      const expectedOfflineFiles = knownFiles\n        .filter(({ isCloudFile, fileURL }) => isCloudFile && fileURL)\n        .map(({ fileURL }) => fileURL)\n        .filter((x) => x)\n      return listOfflineFiles().then((files) => {\n        const filesToClean = files.filter((filePath) => {\n          if (isResumeBackup(filePath)) {\n            logger.info(`Not cleaning file at ${filePath} because it's a resume backup.`)\n            return false\n          }\n          const fileURL = helpers.file.fileIdToPlottrCloudFileURL(basename(filePath))\n          return expectedOfflineFiles.indexOf(fileURL) === -1\n        })\n        return Promise.all(\n          filesToClean.map((filePath) => {\n            logger.info(\n              'Removing offline backup: \"',\n              filePath,\n              '\" because the online counterpart no longer exists'\n            )\n            return unlink(filePath)\n          })\n        )\n      })\n    }\n\n    function ensureOfflineBackupPathExists() {\n      return lstat(OFFLINE_FILE_FILES_PATH).catch((error) => {\n        if (error.code === 'ENOENT') {\n          return mkdir(OFFLINE_FILE_FILES_PATH, { recursive: true })\n        }\n        return Promise.reject(error)\n      })\n    }\n\n    function checkForFileRecord(file) {\n      if (!file || !file.file || !file.file.fileName || !file.project || !file.project.fileURL) {\n        logger.error('Trying to save a file but there is no file record on it.', file)\n        return Promise.reject(\n          new Error(`Trying to save a file (${file.file}) but there is no file record on it.`)\n        )\n      }\n      return Promise.resolve(file)\n    }\n\n    function saveOfflineFile(file) {\n      return ensureOfflineBackupPathExists().then(() => {\n        return checkForFileRecord(file).then(() => {\n          const fileURL = offlineFileURL(file.project.fileURL)\n          if (!fileURL) {\n            const message = `Attempting to save offline file but we couldn't compute the offline url: ${file.project.fileURL}`\n            logger.error(message)\n            return Promise.reject(new Error(message))\n          }\n          return cleanOfflineBackups(file.knownFiles).then(() => {\n            return saveFile(fileURL, file)\n          })\n        })\n      })\n    }\n\n    function backupOfflineBackupForResume(file) {\n      return ensureOfflineBackupPathExists().then(() => {\n        return checkForFileRecord(file).then(() => {\n          const date = new Date()\n          const fileURL = offlineFileBackupForResumeURL(\n            `_resume-backup_${\n              date.getMonth() + 1\n            }-${date.getDate()}-${date.getFullYear()}-${date.getHours()}h${date.getMinutes()}m${date.getSeconds()}_${\n              file.file.fileName\n            }`\n          )\n          if (!fileURL) {\n            const message = `Failed to create fileURL for resume backup for ${file.file.fileName}`\n            logger.error(message)\n            return Promise.reject(new Error(message))\n          }\n          return saveFile(fileURL, file)\n        })\n      })\n    }\n\n    function isTempFile(file) {\n      logger.info(\n        `Does ${file.project.fileURL} include ${TEMP_FILES_PATH} when we strip the URL from it?`\n      )\n      return helpers.file.withoutProtocol(file.project.fileURL).includes(TEMP_FILES_PATH)\n    }\n\n    function saveTempFile(file) {\n      // Does the tmp file directory exist?\n      return lstat(TEMP_FILES_PATH)\n        .catch((error) => {\n          logger.info(`Temp file directory ${TEMP_FILES_PATH} doesn't exist.  Creating it.`)\n          if (error.code === 'ENOENT') {\n            return mkdir(TEMP_FILES_PATH, { recursive: true })\n          }\n          return Promise.reject(error)\n        })\n        .then(() => {\n          // It's fine to use the fileName to derive a path/URL here\n          // because we're *creating* the temp file.\n          const fileBasename = basename(file.file.fileName)\n          const newFilepath = `${TEMP_FILES_PATH}/${fileBasename}`\n          logger.info(`Saving ${file.file.fileName} to ${TEMP_FILES_PATH}`)\n          // We don't want to overwrite an existing file.\n          return lstat(newFilepath)\n            .then(() => {\n              // We'll assume that one file, generated with a UUID in the name, is good enough.\n              const baseNameWithoutExtension = basename(file.file.fileName, '.pltr')\n              return path.join(TEMP_FILES_PATH, `${baseNameWithoutExtension}-${uuidv4()}.pltr`)\n            })\n            .catch((error) => {\n              if (error.code === 'ENOENT') {\n                return Promise.resolve(newFilepath)\n              }\n              return Promise.reject(error)\n            })\n            .then((filePath) => {\n              const fileURL = helpers.file.filePathToFileURL(filePath)\n              return saveFile(fileURL, file).then(() => {\n                return fileURL\n              })\n            })\n        })\n    }\n\n    const readFileToString = (filePath) => {\n      return readFile(filePath).then((data) => {\n        return data.toString()\n      })\n    }\n\n    return {\n      saveFile,\n      saveOfflineFile,\n      basename,\n      readFile: readFileToString,\n      fileExists,\n      backupOfflineBackupForResume,\n      readOfflineFiles,\n      isTempFile,\n      offlineFilesFilesPath: OFFLINE_FILE_FILES_PATH,\n      OFFLINE_FILE_FILES_PATH,\n      saveTempFile,\n    }\n  }\n}\n\nexport default fileModule\n","// these aren't really private, but nor are they really useful to document\n\n/**\n * @private\n */\nclass LuxonError extends Error {}\n\n/**\n * @private\n */\nexport class InvalidDateTimeError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid DateTime: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidIntervalError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid Interval: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidDurationError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid Duration: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class ConflictingSpecificationError extends LuxonError {}\n\n/**\n * @private\n */\nexport class InvalidUnitError extends LuxonError {\n  constructor(unit) {\n    super(`Invalid unit ${unit}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidArgumentError extends LuxonError {}\n\n/**\n * @private\n */\nexport class ZoneIsAbstractError extends LuxonError {\n  constructor() {\n    super(\"Zone is an abstract class\");\n  }\n}\n","/**\n * @private\n */\n\nconst n = \"numeric\",\n  s = \"short\",\n  l = \"long\";\n\nexport const DATE_SHORT = {\n  year: n,\n  month: n,\n  day: n,\n};\n\nexport const DATE_MED = {\n  year: n,\n  month: s,\n  day: n,\n};\n\nexport const DATE_MED_WITH_WEEKDAY = {\n  year: n,\n  month: s,\n  day: n,\n  weekday: s,\n};\n\nexport const DATE_FULL = {\n  year: n,\n  month: l,\n  day: n,\n};\n\nexport const DATE_HUGE = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n};\n\nexport const TIME_SIMPLE = {\n  hour: n,\n  minute: n,\n};\n\nexport const TIME_WITH_SECONDS = {\n  hour: n,\n  minute: n,\n  second: n,\n};\n\nexport const TIME_WITH_SHORT_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: s,\n};\n\nexport const TIME_WITH_LONG_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: l,\n};\n\nexport const TIME_24_SIMPLE = {\n  hour: n,\n  minute: n,\n  hourCycle: \"h23\",\n};\n\nexport const TIME_24_WITH_SECONDS = {\n  hour: n,\n  minute: n,\n  second: n,\n  hourCycle: \"h23\",\n};\n\nexport const TIME_24_WITH_SHORT_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  hourCycle: \"h23\",\n  timeZoneName: s,\n};\n\nexport const TIME_24_WITH_LONG_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  hourCycle: \"h23\",\n  timeZoneName: l,\n};\n\nexport const DATETIME_SHORT = {\n  year: n,\n  month: n,\n  day: n,\n  hour: n,\n  minute: n,\n};\n\nexport const DATETIME_SHORT_WITH_SECONDS = {\n  year: n,\n  month: n,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n};\n\nexport const DATETIME_MED = {\n  year: n,\n  month: s,\n  day: n,\n  hour: n,\n  minute: n,\n};\n\nexport const DATETIME_MED_WITH_SECONDS = {\n  year: n,\n  month: s,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n};\n\nexport const DATETIME_MED_WITH_WEEKDAY = {\n  year: n,\n  month: s,\n  day: n,\n  weekday: s,\n  hour: n,\n  minute: n,\n};\n\nexport const DATETIME_FULL = {\n  year: n,\n  month: l,\n  day: n,\n  hour: n,\n  minute: n,\n  timeZoneName: s,\n};\n\nexport const DATETIME_FULL_WITH_SECONDS = {\n  year: n,\n  month: l,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: s,\n};\n\nexport const DATETIME_HUGE = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n  hour: n,\n  minute: n,\n  timeZoneName: l,\n};\n\nexport const DATETIME_HUGE_WITH_SECONDS = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: l,\n};\n","/*\n  This is just a junk drawer, containing anything used across multiple classes.\n  Because Luxon is small(ish), this should stay small and we won't worry about splitting\n  it up into, say, parsingUtil.js and basicUtil.js and so on. But they are divided up by feature area.\n*/\n\nimport { InvalidArgumentError } from \"../errors.js\";\n\n/**\n * @private\n */\n\n// TYPES\n\nexport function isUndefined(o) {\n  return typeof o === \"undefined\";\n}\n\nexport function isNumber(o) {\n  return typeof o === \"number\";\n}\n\nexport function isInteger(o) {\n  return typeof o === \"number\" && o % 1 === 0;\n}\n\nexport function isString(o) {\n  return typeof o === \"string\";\n}\n\nexport function isDate(o) {\n  return Object.prototype.toString.call(o) === \"[object Date]\";\n}\n\n// CAPABILITIES\n\nexport function hasRelative() {\n  try {\n    return typeof Intl !== \"undefined\" && !!Intl.RelativeTimeFormat;\n  } catch (e) {\n    return false;\n  }\n}\n\n// OBJECTS AND ARRAYS\n\nexport function maybeArray(thing) {\n  return Array.isArray(thing) ? thing : [thing];\n}\n\nexport function bestBy(arr, by, compare) {\n  if (arr.length === 0) {\n    return undefined;\n  }\n  return arr.reduce((best, next) => {\n    const pair = [by(next), next];\n    if (!best) {\n      return pair;\n    } else if (compare(best[0], pair[0]) === best[0]) {\n      return best;\n    } else {\n      return pair;\n    }\n  }, null)[1];\n}\n\nexport function pick(obj, keys) {\n  return keys.reduce((a, k) => {\n    a[k] = obj[k];\n    return a;\n  }, {});\n}\n\nexport function hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n// NUMBERS AND STRINGS\n\nexport function integerBetween(thing, bottom, top) {\n  return isInteger(thing) && thing >= bottom && thing <= top;\n}\n\n// x % n but takes the sign of n instead of x\nexport function floorMod(x, n) {\n  return x - n * Math.floor(x / n);\n}\n\nexport function padStart(input, n = 2) {\n  const isNeg = input < 0;\n  let padded;\n  if (isNeg) {\n    padded = \"-\" + (\"\" + -input).padStart(n, \"0\");\n  } else {\n    padded = (\"\" + input).padStart(n, \"0\");\n  }\n  return padded;\n}\n\nexport function parseInteger(string) {\n  if (isUndefined(string) || string === null || string === \"\") {\n    return undefined;\n  } else {\n    return parseInt(string, 10);\n  }\n}\n\nexport function parseFloating(string) {\n  if (isUndefined(string) || string === null || string === \"\") {\n    return undefined;\n  } else {\n    return parseFloat(string);\n  }\n}\n\nexport function parseMillis(fraction) {\n  // Return undefined (instead of 0) in these cases, where fraction is not set\n  if (isUndefined(fraction) || fraction === null || fraction === \"\") {\n    return undefined;\n  } else {\n    const f = parseFloat(\"0.\" + fraction) * 1000;\n    return Math.floor(f);\n  }\n}\n\nexport function roundTo(number, digits, towardZero = false) {\n  const factor = 10 ** digits,\n    rounder = towardZero ? Math.trunc : Math.round;\n  return rounder(number * factor) / factor;\n}\n\n// DATE BASICS\n\nexport function isLeapYear(year) {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\nexport function daysInYear(year) {\n  return isLeapYear(year) ? 366 : 365;\n}\n\nexport function daysInMonth(year, month) {\n  const modMonth = floorMod(month - 1, 12) + 1,\n    modYear = year + (month - modMonth) / 12;\n\n  if (modMonth === 2) {\n    return isLeapYear(modYear) ? 29 : 28;\n  } else {\n    return [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][modMonth - 1];\n  }\n}\n\n// covert a calendar object to a local timestamp (epoch, but with the offset baked in)\nexport function objToLocalTS(obj) {\n  let d = Date.UTC(\n    obj.year,\n    obj.month - 1,\n    obj.day,\n    obj.hour,\n    obj.minute,\n    obj.second,\n    obj.millisecond\n  );\n\n  // for legacy reasons, years between 0 and 99 are interpreted as 19XX; revert that\n  if (obj.year < 100 && obj.year >= 0) {\n    d = new Date(d);\n    d.setUTCFullYear(d.getUTCFullYear() - 1900);\n  }\n  return +d;\n}\n\nexport function weeksInWeekYear(weekYear) {\n  const p1 =\n      (weekYear +\n        Math.floor(weekYear / 4) -\n        Math.floor(weekYear / 100) +\n        Math.floor(weekYear / 400)) %\n      7,\n    last = weekYear - 1,\n    p2 = (last + Math.floor(last / 4) - Math.floor(last / 100) + Math.floor(last / 400)) % 7;\n  return p1 === 4 || p2 === 3 ? 53 : 52;\n}\n\nexport function untruncateYear(year) {\n  if (year > 99) {\n    return year;\n  } else return year > 60 ? 1900 + year : 2000 + year;\n}\n\n// PARSING\n\nexport function parseZoneInfo(ts, offsetFormat, locale, timeZone = null) {\n  const date = new Date(ts),\n    intlOpts = {\n      hourCycle: \"h23\",\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    };\n\n  if (timeZone) {\n    intlOpts.timeZone = timeZone;\n  }\n\n  const modified = { timeZoneName: offsetFormat, ...intlOpts };\n\n  const parsed = new Intl.DateTimeFormat(locale, modified)\n    .formatToParts(date)\n    .find((m) => m.type.toLowerCase() === \"timezonename\");\n  return parsed ? parsed.value : null;\n}\n\n// signedOffset('-5', '30') -> -330\nexport function signedOffset(offHourStr, offMinuteStr) {\n  let offHour = parseInt(offHourStr, 10);\n\n  // don't || this because we want to preserve -0\n  if (Number.isNaN(offHour)) {\n    offHour = 0;\n  }\n\n  const offMin = parseInt(offMinuteStr, 10) || 0,\n    offMinSigned = offHour < 0 || Object.is(offHour, -0) ? -offMin : offMin;\n  return offHour * 60 + offMinSigned;\n}\n\n// COERCION\n\nexport function asNumber(value) {\n  const numericValue = Number(value);\n  if (typeof value === \"boolean\" || value === \"\" || Number.isNaN(numericValue))\n    throw new InvalidArgumentError(`Invalid unit value ${value}`);\n  return numericValue;\n}\n\nexport function normalizeObject(obj, normalizer) {\n  const normalized = {};\n  for (const u in obj) {\n    if (hasOwnProperty(obj, u)) {\n      const v = obj[u];\n      if (v === undefined || v === null) continue;\n      normalized[normalizer(u)] = asNumber(v);\n    }\n  }\n  return normalized;\n}\n\nexport function formatOffset(offset, format) {\n  const hours = Math.trunc(Math.abs(offset / 60)),\n    minutes = Math.trunc(Math.abs(offset % 60)),\n    sign = offset >= 0 ? \"+\" : \"-\";\n\n  switch (format) {\n    case \"short\":\n      return `${sign}${padStart(hours, 2)}:${padStart(minutes, 2)}`;\n    case \"narrow\":\n      return `${sign}${hours}${minutes > 0 ? `:${minutes}` : \"\"}`;\n    case \"techie\":\n      return `${sign}${padStart(hours, 2)}${padStart(minutes, 2)}`;\n    default:\n      throw new RangeError(`Value format ${format} is out of range for property format`);\n  }\n}\n\nexport function timeObject(obj) {\n  return pick(obj, [\"hour\", \"minute\", \"second\", \"millisecond\"]);\n}\n\nexport const ianaRegex =\n  /[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;\n","import * as Formats from \"./formats.js\";\nimport { pick } from \"./util.js\";\n\nfunction stringify(obj) {\n  return JSON.stringify(obj, Object.keys(obj).sort());\n}\n\n/**\n * @private\n */\n\nexport const monthsLong = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\",\n];\n\nexport const monthsShort = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\nexport const monthsNarrow = [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"];\n\nexport function months(length) {\n  switch (length) {\n    case \"narrow\":\n      return [...monthsNarrow];\n    case \"short\":\n      return [...monthsShort];\n    case \"long\":\n      return [...monthsLong];\n    case \"numeric\":\n      return [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"];\n    case \"2-digit\":\n      return [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"];\n    default:\n      return null;\n  }\n}\n\nexport const weekdaysLong = [\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n  \"Sunday\",\n];\n\nexport const weekdaysShort = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\nexport const weekdaysNarrow = [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"];\n\nexport function weekdays(length) {\n  switch (length) {\n    case \"narrow\":\n      return [...weekdaysNarrow];\n    case \"short\":\n      return [...weekdaysShort];\n    case \"long\":\n      return [...weekdaysLong];\n    case \"numeric\":\n      return [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"];\n    default:\n      return null;\n  }\n}\n\nexport const meridiems = [\"AM\", \"PM\"];\n\nexport const erasLong = [\"Before Christ\", \"Anno Domini\"];\n\nexport const erasShort = [\"BC\", \"AD\"];\n\nexport const erasNarrow = [\"B\", \"A\"];\n\nexport function eras(length) {\n  switch (length) {\n    case \"narrow\":\n      return [...erasNarrow];\n    case \"short\":\n      return [...erasShort];\n    case \"long\":\n      return [...erasLong];\n    default:\n      return null;\n  }\n}\n\nexport function meridiemForDateTime(dt) {\n  return meridiems[dt.hour < 12 ? 0 : 1];\n}\n\nexport function weekdayForDateTime(dt, length) {\n  return weekdays(length)[dt.weekday - 1];\n}\n\nexport function monthForDateTime(dt, length) {\n  return months(length)[dt.month - 1];\n}\n\nexport function eraForDateTime(dt, length) {\n  return eras(length)[dt.year < 0 ? 0 : 1];\n}\n\nexport function formatRelativeTime(unit, count, numeric = \"always\", narrow = false) {\n  const units = {\n    years: [\"year\", \"yr.\"],\n    quarters: [\"quarter\", \"qtr.\"],\n    months: [\"month\", \"mo.\"],\n    weeks: [\"week\", \"wk.\"],\n    days: [\"day\", \"day\", \"days\"],\n    hours: [\"hour\", \"hr.\"],\n    minutes: [\"minute\", \"min.\"],\n    seconds: [\"second\", \"sec.\"],\n  };\n\n  const lastable = [\"hours\", \"minutes\", \"seconds\"].indexOf(unit) === -1;\n\n  if (numeric === \"auto\" && lastable) {\n    const isDay = unit === \"days\";\n    switch (count) {\n      case 1:\n        return isDay ? \"tomorrow\" : `next ${units[unit][0]}`;\n      case -1:\n        return isDay ? \"yesterday\" : `last ${units[unit][0]}`;\n      case 0:\n        return isDay ? \"today\" : `this ${units[unit][0]}`;\n      default: // fall through\n    }\n  }\n\n  const isInPast = Object.is(count, -0) || count < 0,\n    fmtValue = Math.abs(count),\n    singular = fmtValue === 1,\n    lilUnits = units[unit],\n    fmtUnit = narrow\n      ? singular\n        ? lilUnits[1]\n        : lilUnits[2] || lilUnits[1]\n      : singular\n      ? units[unit][0]\n      : unit;\n  return isInPast ? `${fmtValue} ${fmtUnit} ago` : `in ${fmtValue} ${fmtUnit}`;\n}\n\nexport function formatString(knownFormat) {\n  // these all have the offsets removed because we don't have access to them\n  // without all the intl stuff this is backfilling\n  const filtered = pick(knownFormat, [\n      \"weekday\",\n      \"era\",\n      \"year\",\n      \"month\",\n      \"day\",\n      \"hour\",\n      \"minute\",\n      \"second\",\n      \"timeZoneName\",\n      \"hourCycle\",\n    ]),\n    key = stringify(filtered),\n    dateTimeHuge = \"EEEE, LLLL d, yyyy, h:mm a\";\n  switch (key) {\n    case stringify(Formats.DATE_SHORT):\n      return \"M/d/yyyy\";\n    case stringify(Formats.DATE_MED):\n      return \"LLL d, yyyy\";\n    case stringify(Formats.DATE_MED_WITH_WEEKDAY):\n      return \"EEE, LLL d, yyyy\";\n    case stringify(Formats.DATE_FULL):\n      return \"LLLL d, yyyy\";\n    case stringify(Formats.DATE_HUGE):\n      return \"EEEE, LLLL d, yyyy\";\n    case stringify(Formats.TIME_SIMPLE):\n      return \"h:mm a\";\n    case stringify(Formats.TIME_WITH_SECONDS):\n      return \"h:mm:ss a\";\n    case stringify(Formats.TIME_WITH_SHORT_OFFSET):\n      return \"h:mm a\";\n    case stringify(Formats.TIME_WITH_LONG_OFFSET):\n      return \"h:mm a\";\n    case stringify(Formats.TIME_24_SIMPLE):\n      return \"HH:mm\";\n    case stringify(Formats.TIME_24_WITH_SECONDS):\n      return \"HH:mm:ss\";\n    case stringify(Formats.TIME_24_WITH_SHORT_OFFSET):\n      return \"HH:mm\";\n    case stringify(Formats.TIME_24_WITH_LONG_OFFSET):\n      return \"HH:mm\";\n    case stringify(Formats.DATETIME_SHORT):\n      return \"M/d/yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_MED):\n      return \"LLL d, yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_FULL):\n      return \"LLLL d, yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_HUGE):\n      return dateTimeHuge;\n    case stringify(Formats.DATETIME_SHORT_WITH_SECONDS):\n      return \"M/d/yyyy, h:mm:ss a\";\n    case stringify(Formats.DATETIME_MED_WITH_SECONDS):\n      return \"LLL d, yyyy, h:mm:ss a\";\n    case stringify(Formats.DATETIME_MED_WITH_WEEKDAY):\n      return \"EEE, d LLL yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_FULL_WITH_SECONDS):\n      return \"LLLL d, yyyy, h:mm:ss a\";\n    case stringify(Formats.DATETIME_HUGE_WITH_SECONDS):\n      return \"EEEE, LLLL d, yyyy, h:mm:ss a\";\n    default:\n      return dateTimeHuge;\n  }\n}\n","import * as English from \"./english.js\";\nimport * as Formats from \"./formats.js\";\nimport { padStart } from \"./util.js\";\n\nfunction stringifyTokens(splits, tokenToString) {\n  let s = \"\";\n  for (const token of splits) {\n    if (token.literal) {\n      s += token.val;\n    } else {\n      s += tokenToString(token.val);\n    }\n  }\n  return s;\n}\n\nconst macroTokenToFormatOpts = {\n  D: Formats.DATE_SHORT,\n  DD: Formats.DATE_MED,\n  DDD: Formats.DATE_FULL,\n  DDDD: Formats.DATE_HUGE,\n  t: Formats.TIME_SIMPLE,\n  tt: Formats.TIME_WITH_SECONDS,\n  ttt: Formats.TIME_WITH_SHORT_OFFSET,\n  tttt: Formats.TIME_WITH_LONG_OFFSET,\n  T: Formats.TIME_24_SIMPLE,\n  TT: Formats.TIME_24_WITH_SECONDS,\n  TTT: Formats.TIME_24_WITH_SHORT_OFFSET,\n  TTTT: Formats.TIME_24_WITH_LONG_OFFSET,\n  f: Formats.DATETIME_SHORT,\n  ff: Formats.DATETIME_MED,\n  fff: Formats.DATETIME_FULL,\n  ffff: Formats.DATETIME_HUGE,\n  F: Formats.DATETIME_SHORT_WITH_SECONDS,\n  FF: Formats.DATETIME_MED_WITH_SECONDS,\n  FFF: Formats.DATETIME_FULL_WITH_SECONDS,\n  FFFF: Formats.DATETIME_HUGE_WITH_SECONDS,\n};\n\n/**\n * @private\n */\n\nexport default class Formatter {\n  static create(locale, opts = {}) {\n    return new Formatter(locale, opts);\n  }\n\n  static parseFormat(fmt) {\n    let current = null,\n      currentFull = \"\",\n      bracketed = false;\n    const splits = [];\n    for (let i = 0; i < fmt.length; i++) {\n      const c = fmt.charAt(i);\n      if (c === \"'\") {\n        if (currentFull.length > 0) {\n          splits.push({ literal: bracketed, val: currentFull });\n        }\n        current = null;\n        currentFull = \"\";\n        bracketed = !bracketed;\n      } else if (bracketed) {\n        currentFull += c;\n      } else if (c === current) {\n        currentFull += c;\n      } else {\n        if (currentFull.length > 0) {\n          splits.push({ literal: false, val: currentFull });\n        }\n        currentFull = c;\n        current = c;\n      }\n    }\n\n    if (currentFull.length > 0) {\n      splits.push({ literal: bracketed, val: currentFull });\n    }\n\n    return splits;\n  }\n\n  static macroTokenToFormatOpts(token) {\n    return macroTokenToFormatOpts[token];\n  }\n\n  constructor(locale, formatOpts) {\n    this.opts = formatOpts;\n    this.loc = locale;\n    this.systemLoc = null;\n  }\n\n  formatWithSystemDefault(dt, opts) {\n    if (this.systemLoc === null) {\n      this.systemLoc = this.loc.redefaultToSystem();\n    }\n    const df = this.systemLoc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.format();\n  }\n\n  formatDateTime(dt, opts = {}) {\n    const df = this.loc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.format();\n  }\n\n  formatDateTimeParts(dt, opts = {}) {\n    const df = this.loc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.formatToParts();\n  }\n\n  resolvedOptions(dt, opts = {}) {\n    const df = this.loc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.resolvedOptions();\n  }\n\n  num(n, p = 0) {\n    // we get some perf out of doing this here, annoyingly\n    if (this.opts.forceSimple) {\n      return padStart(n, p);\n    }\n\n    const opts = { ...this.opts };\n\n    if (p > 0) {\n      opts.padTo = p;\n    }\n\n    return this.loc.numberFormatter(opts).format(n);\n  }\n\n  formatDateTimeFromString(dt, fmt) {\n    const knownEnglish = this.loc.listingMode() === \"en\",\n      useDateTimeFormatter = this.loc.outputCalendar && this.loc.outputCalendar !== \"gregory\",\n      string = (opts, extract) => this.loc.extract(dt, opts, extract),\n      formatOffset = (opts) => {\n        if (dt.isOffsetFixed && dt.offset === 0 && opts.allowZ) {\n          return \"Z\";\n        }\n\n        return dt.isValid ? dt.zone.formatOffset(dt.ts, opts.format) : \"\";\n      },\n      meridiem = () =>\n        knownEnglish\n          ? English.meridiemForDateTime(dt)\n          : string({ hour: \"numeric\", hourCycle: \"h12\" }, \"dayperiod\"),\n      month = (length, standalone) =>\n        knownEnglish\n          ? English.monthForDateTime(dt, length)\n          : string(standalone ? { month: length } : { month: length, day: \"numeric\" }, \"month\"),\n      weekday = (length, standalone) =>\n        knownEnglish\n          ? English.weekdayForDateTime(dt, length)\n          : string(\n              standalone ? { weekday: length } : { weekday: length, month: \"long\", day: \"numeric\" },\n              \"weekday\"\n            ),\n      maybeMacro = (token) => {\n        const formatOpts = Formatter.macroTokenToFormatOpts(token);\n        if (formatOpts) {\n          return this.formatWithSystemDefault(dt, formatOpts);\n        } else {\n          return token;\n        }\n      },\n      era = (length) =>\n        knownEnglish ? English.eraForDateTime(dt, length) : string({ era: length }, \"era\"),\n      tokenToString = (token) => {\n        // Where possible: http://cldr.unicode.org/translation/date-time-1/date-time#TOC-Standalone-vs.-Format-Styles\n        switch (token) {\n          // ms\n          case \"S\":\n            return this.num(dt.millisecond);\n          case \"u\":\n          // falls through\n          case \"SSS\":\n            return this.num(dt.millisecond, 3);\n          // seconds\n          case \"s\":\n            return this.num(dt.second);\n          case \"ss\":\n            return this.num(dt.second, 2);\n          // fractional seconds\n          case \"uu\":\n            return this.num(Math.floor(dt.millisecond / 10), 2);\n          case \"uuu\":\n            return this.num(Math.floor(dt.millisecond / 100));\n          // minutes\n          case \"m\":\n            return this.num(dt.minute);\n          case \"mm\":\n            return this.num(dt.minute, 2);\n          // hours\n          case \"h\":\n            return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12);\n          case \"hh\":\n            return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12, 2);\n          case \"H\":\n            return this.num(dt.hour);\n          case \"HH\":\n            return this.num(dt.hour, 2);\n          // offset\n          case \"Z\":\n            // like +6\n            return formatOffset({ format: \"narrow\", allowZ: this.opts.allowZ });\n          case \"ZZ\":\n            // like +06:00\n            return formatOffset({ format: \"short\", allowZ: this.opts.allowZ });\n          case \"ZZZ\":\n            // like +0600\n            return formatOffset({ format: \"techie\", allowZ: this.opts.allowZ });\n          case \"ZZZZ\":\n            // like EST\n            return dt.zone.offsetName(dt.ts, { format: \"short\", locale: this.loc.locale });\n          case \"ZZZZZ\":\n            // like Eastern Standard Time\n            return dt.zone.offsetName(dt.ts, { format: \"long\", locale: this.loc.locale });\n          // zone\n          case \"z\":\n            // like America/New_York\n            return dt.zoneName;\n          // meridiems\n          case \"a\":\n            return meridiem();\n          // dates\n          case \"d\":\n            return useDateTimeFormatter ? string({ day: \"numeric\" }, \"day\") : this.num(dt.day);\n          case \"dd\":\n            return useDateTimeFormatter ? string({ day: \"2-digit\" }, \"day\") : this.num(dt.day, 2);\n          // weekdays - standalone\n          case \"c\":\n            // like 1\n            return this.num(dt.weekday);\n          case \"ccc\":\n            // like 'Tues'\n            return weekday(\"short\", true);\n          case \"cccc\":\n            // like 'Tuesday'\n            return weekday(\"long\", true);\n          case \"ccccc\":\n            // like 'T'\n            return weekday(\"narrow\", true);\n          // weekdays - format\n          case \"E\":\n            // like 1\n            return this.num(dt.weekday);\n          case \"EEE\":\n            // like 'Tues'\n            return weekday(\"short\", false);\n          case \"EEEE\":\n            // like 'Tuesday'\n            return weekday(\"long\", false);\n          case \"EEEEE\":\n            // like 'T'\n            return weekday(\"narrow\", false);\n          // months - standalone\n          case \"L\":\n            // like 1\n            return useDateTimeFormatter\n              ? string({ month: \"numeric\", day: \"numeric\" }, \"month\")\n              : this.num(dt.month);\n          case \"LL\":\n            // like 01, doesn't seem to work\n            return useDateTimeFormatter\n              ? string({ month: \"2-digit\", day: \"numeric\" }, \"month\")\n              : this.num(dt.month, 2);\n          case \"LLL\":\n            // like Jan\n            return month(\"short\", true);\n          case \"LLLL\":\n            // like January\n            return month(\"long\", true);\n          case \"LLLLL\":\n            // like J\n            return month(\"narrow\", true);\n          // months - format\n          case \"M\":\n            // like 1\n            return useDateTimeFormatter\n              ? string({ month: \"numeric\" }, \"month\")\n              : this.num(dt.month);\n          case \"MM\":\n            // like 01\n            return useDateTimeFormatter\n              ? string({ month: \"2-digit\" }, \"month\")\n              : this.num(dt.month, 2);\n          case \"MMM\":\n            // like Jan\n            return month(\"short\", false);\n          case \"MMMM\":\n            // like January\n            return month(\"long\", false);\n          case \"MMMMM\":\n            // like J\n            return month(\"narrow\", false);\n          // years\n          case \"y\":\n            // like 2014\n            return useDateTimeFormatter ? string({ year: \"numeric\" }, \"year\") : this.num(dt.year);\n          case \"yy\":\n            // like 14\n            return useDateTimeFormatter\n              ? string({ year: \"2-digit\" }, \"year\")\n              : this.num(dt.year.toString().slice(-2), 2);\n          case \"yyyy\":\n            // like 0012\n            return useDateTimeFormatter\n              ? string({ year: \"numeric\" }, \"year\")\n              : this.num(dt.year, 4);\n          case \"yyyyyy\":\n            // like 000012\n            return useDateTimeFormatter\n              ? string({ year: \"numeric\" }, \"year\")\n              : this.num(dt.year, 6);\n          // eras\n          case \"G\":\n            // like AD\n            return era(\"short\");\n          case \"GG\":\n            // like Anno Domini\n            return era(\"long\");\n          case \"GGGGG\":\n            return era(\"narrow\");\n          case \"kk\":\n            return this.num(dt.weekYear.toString().slice(-2), 2);\n          case \"kkkk\":\n            return this.num(dt.weekYear, 4);\n          case \"W\":\n            return this.num(dt.weekNumber);\n          case \"WW\":\n            return this.num(dt.weekNumber, 2);\n          case \"o\":\n            return this.num(dt.ordinal);\n          case \"ooo\":\n            return this.num(dt.ordinal, 3);\n          case \"q\":\n            // like 1\n            return this.num(dt.quarter);\n          case \"qq\":\n            // like 01\n            return this.num(dt.quarter, 2);\n          case \"X\":\n            return this.num(Math.floor(dt.ts / 1000));\n          case \"x\":\n            return this.num(dt.ts);\n          default:\n            return maybeMacro(token);\n        }\n      };\n\n    return stringifyTokens(Formatter.parseFormat(fmt), tokenToString);\n  }\n\n  formatDurationFromString(dur, fmt) {\n    const tokenToField = (token) => {\n        switch (token[0]) {\n          case \"S\":\n            return \"millisecond\";\n          case \"s\":\n            return \"second\";\n          case \"m\":\n            return \"minute\";\n          case \"h\":\n            return \"hour\";\n          case \"d\":\n            return \"day\";\n          case \"w\":\n            return \"week\";\n          case \"M\":\n            return \"month\";\n          case \"y\":\n            return \"year\";\n          default:\n            return null;\n        }\n      },\n      tokenToString = (lildur) => (token) => {\n        const mapped = tokenToField(token);\n        if (mapped) {\n          return this.num(lildur.get(mapped), token.length);\n        } else {\n          return token;\n        }\n      },\n      tokens = Formatter.parseFormat(fmt),\n      realTokens = tokens.reduce(\n        (found, { literal, val }) => (literal ? found : found.concat(val)),\n        []\n      ),\n      collapsed = dur.shiftTo(...realTokens.map(tokenToField).filter((t) => t));\n    return stringifyTokens(tokens, tokenToString(collapsed));\n  }\n}\n","export default class Invalid {\n  constructor(reason, explanation) {\n    this.reason = reason;\n    this.explanation = explanation;\n  }\n\n  toMessage() {\n    if (this.explanation) {\n      return `${this.reason}: ${this.explanation}`;\n    } else {\n      return this.reason;\n    }\n  }\n}\n","import { ZoneIsAbstractError } from \"./errors.js\";\n\n/**\n * @interface\n */\nexport default class Zone {\n  /**\n   * The type of zone\n   * @abstract\n   * @type {string}\n   */\n  get type() {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * The name of this zone.\n   * @abstract\n   * @type {string}\n   */\n  get name() {\n    throw new ZoneIsAbstractError();\n  }\n\n  get ianaName() {\n    return this.name;\n  }\n\n  /**\n   * Returns whether the offset is known to be fixed for the whole year.\n   * @abstract\n   * @type {boolean}\n   */\n  get isUniversal() {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Returns the offset's common name (such as EST) at the specified timestamp\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the name\n   * @param {Object} opts - Options to affect the format\n   * @param {string} opts.format - What style of offset to return. Accepts 'long' or 'short'.\n   * @param {string} opts.locale - What locale to return the offset name in.\n   * @return {string}\n   */\n  offsetName(ts, opts) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Returns the offset's value as a string\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the offset\n   * @param {string} format - What style of offset to return.\n   *                          Accepts 'narrow', 'short', or 'techie'. Returning '+6', '+06:00', or '+0600' respectively\n   * @return {string}\n   */\n  formatOffset(ts, format) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return the offset in minutes for this zone at the specified timestamp.\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to compute the offset\n   * @return {number}\n   */\n  offset(ts) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return whether this Zone is equal to another zone\n   * @abstract\n   * @param {Zone} otherZone - the zone to compare\n   * @return {boolean}\n   */\n  equals(otherZone) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return whether this Zone is valid.\n   * @abstract\n   * @type {boolean}\n   */\n  get isValid() {\n    throw new ZoneIsAbstractError();\n  }\n}\n","import { formatOffset, parseZoneInfo } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet singleton = null;\n\n/**\n * Represents the local zone for this JavaScript environment.\n * @implements {Zone}\n */\nexport default class SystemZone extends Zone {\n  /**\n   * Get a singleton instance of the local zone\n   * @return {SystemZone}\n   */\n  static get instance() {\n    if (singleton === null) {\n      singleton = new SystemZone();\n    }\n    return singleton;\n  }\n\n  /** @override **/\n  get type() {\n    return \"system\";\n  }\n\n  /** @override **/\n  get name() {\n    return new Intl.DateTimeFormat().resolvedOptions().timeZone;\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return false;\n  }\n\n  /** @override **/\n  offsetName(ts, { format, locale }) {\n    return parseZoneInfo(ts, format, locale);\n  }\n\n  /** @override **/\n  formatOffset(ts, format) {\n    return formatOffset(this.offset(ts), format);\n  }\n\n  /** @override **/\n  offset(ts) {\n    return -new Date(ts).getTimezoneOffset();\n  }\n\n  /** @override **/\n  equals(otherZone) {\n    return otherZone.type === \"system\";\n  }\n\n  /** @override **/\n  get isValid() {\n    return true;\n  }\n}\n","import { formatOffset, parseZoneInfo, isUndefined, objToLocalTS } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet dtfCache = {};\nfunction makeDTF(zone) {\n  if (!dtfCache[zone]) {\n    dtfCache[zone] = new Intl.DateTimeFormat(\"en-US\", {\n      hour12: false,\n      timeZone: zone,\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      era: \"short\",\n    });\n  }\n  return dtfCache[zone];\n}\n\nconst typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  era: 3,\n  hour: 4,\n  minute: 5,\n  second: 6,\n};\n\nfunction hackyOffset(dtf, date) {\n  const formatted = dtf.format(date).replace(/\\u200E/g, \"\"),\n    parsed = /(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(formatted),\n    [, fMonth, fDay, fYear, fadOrBc, fHour, fMinute, fSecond] = parsed;\n  return [fYear, fMonth, fDay, fadOrBc, fHour, fMinute, fSecond];\n}\n\nfunction partsOffset(dtf, date) {\n  const formatted = dtf.formatToParts(date);\n  const filled = [];\n  for (let i = 0; i < formatted.length; i++) {\n    const { type, value } = formatted[i];\n    const pos = typeToPos[type];\n\n    if (type === \"era\") {\n      filled[pos] = value;\n    } else if (!isUndefined(pos)) {\n      filled[pos] = parseInt(value, 10);\n    }\n  }\n  return filled;\n}\n\nlet ianaZoneCache = {};\n/**\n * A zone identified by an IANA identifier, like America/New_York\n * @implements {Zone}\n */\nexport default class IANAZone extends Zone {\n  /**\n   * @param {string} name - Zone name\n   * @return {IANAZone}\n   */\n  static create(name) {\n    if (!ianaZoneCache[name]) {\n      ianaZoneCache[name] = new IANAZone(name);\n    }\n    return ianaZoneCache[name];\n  }\n\n  /**\n   * Reset local caches. Should only be necessary in testing scenarios.\n   * @return {void}\n   */\n  static resetCache() {\n    ianaZoneCache = {};\n    dtfCache = {};\n  }\n\n  /**\n   * Returns whether the provided string is a valid specifier. This only checks the string's format, not that the specifier identifies a known zone; see isValidZone for that.\n   * @param {string} s - The string to check validity on\n   * @example IANAZone.isValidSpecifier(\"America/New_York\") //=> true\n   * @example IANAZone.isValidSpecifier(\"Sport~~blorp\") //=> false\n   * @deprecated This method returns false for some valid IANA names. Use isValidZone instead.\n   * @return {boolean}\n   */\n  static isValidSpecifier(s) {\n    return this.isValidZone(s);\n  }\n\n  /**\n   * Returns whether the provided string identifies a real zone\n   * @param {string} zone - The string to check\n   * @example IANAZone.isValidZone(\"America/New_York\") //=> true\n   * @example IANAZone.isValidZone(\"Fantasia/Castle\") //=> false\n   * @example IANAZone.isValidZone(\"Sport~~blorp\") //=> false\n   * @return {boolean}\n   */\n  static isValidZone(zone) {\n    if (!zone) {\n      return false;\n    }\n    try {\n      new Intl.DateTimeFormat(\"en-US\", { timeZone: zone }).format();\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  constructor(name) {\n    super();\n    /** @private **/\n    this.zoneName = name;\n    /** @private **/\n    this.valid = IANAZone.isValidZone(name);\n  }\n\n  /** @override **/\n  get type() {\n    return \"iana\";\n  }\n\n  /** @override **/\n  get name() {\n    return this.zoneName;\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return false;\n  }\n\n  /** @override **/\n  offsetName(ts, { format, locale }) {\n    return parseZoneInfo(ts, format, locale, this.name);\n  }\n\n  /** @override **/\n  formatOffset(ts, format) {\n    return formatOffset(this.offset(ts), format);\n  }\n\n  /** @override **/\n  offset(ts) {\n    const date = new Date(ts);\n\n    if (isNaN(date)) return NaN;\n\n    const dtf = makeDTF(this.name);\n    let [year, month, day, adOrBc, hour, minute, second] = dtf.formatToParts\n      ? partsOffset(dtf, date)\n      : hackyOffset(dtf, date);\n\n    if (adOrBc === \"BC\") {\n      year = -Math.abs(year) + 1;\n    }\n\n    // because we're using hour12 and https://bugs.chromium.org/p/chromium/issues/detail?id=1025564&can=2&q=%2224%3A00%22%20datetimeformat\n    const adjustedHour = hour === 24 ? 0 : hour;\n\n    const asUTC = objToLocalTS({\n      year,\n      month,\n      day,\n      hour: adjustedHour,\n      minute,\n      second,\n      millisecond: 0,\n    });\n\n    let asTS = +date;\n    const over = asTS % 1000;\n    asTS -= over >= 0 ? over : 1000 + over;\n    return (asUTC - asTS) / (60 * 1000);\n  }\n\n  /** @override **/\n  equals(otherZone) {\n    return otherZone.type === \"iana\" && otherZone.name === this.name;\n  }\n\n  /** @override **/\n  get isValid() {\n    return this.valid;\n  }\n}\n","import { formatOffset, signedOffset } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet singleton = null;\n\n/**\n * A zone with a fixed offset (meaning no DST)\n * @implements {Zone}\n */\nexport default class FixedOffsetZone extends Zone {\n  /**\n   * Get a singleton instance of UTC\n   * @return {FixedOffsetZone}\n   */\n  static get utcInstance() {\n    if (singleton === null) {\n      singleton = new FixedOffsetZone(0);\n    }\n    return singleton;\n  }\n\n  /**\n   * Get an instance with a specified offset\n   * @param {number} offset - The offset in minutes\n   * @return {FixedOffsetZone}\n   */\n  static instance(offset) {\n    return offset === 0 ? FixedOffsetZone.utcInstance : new FixedOffsetZone(offset);\n  }\n\n  /**\n   * Get an instance of FixedOffsetZone from a UTC offset string, like \"UTC+6\"\n   * @param {string} s - The offset string to parse\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+6\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+06\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC-6:00\")\n   * @return {FixedOffsetZone}\n   */\n  static parseSpecifier(s) {\n    if (s) {\n      const r = s.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);\n      if (r) {\n        return new FixedOffsetZone(signedOffset(r[1], r[2]));\n      }\n    }\n    return null;\n  }\n\n  constructor(offset) {\n    super();\n    /** @private **/\n    this.fixed = offset;\n  }\n\n  /** @override **/\n  get type() {\n    return \"fixed\";\n  }\n\n  /** @override **/\n  get name() {\n    return this.fixed === 0 ? \"UTC\" : `UTC${formatOffset(this.fixed, \"narrow\")}`;\n  }\n\n  get ianaName() {\n    if (this.fixed === 0) {\n      return \"Etc/UTC\";\n    } else {\n      return `Etc/GMT${formatOffset(-this.fixed, \"narrow\")}`;\n    }\n  }\n\n  /** @override **/\n  offsetName() {\n    return this.name;\n  }\n\n  /** @override **/\n  formatOffset(ts, format) {\n    return formatOffset(this.fixed, format);\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return true;\n  }\n\n  /** @override **/\n  offset() {\n    return this.fixed;\n  }\n\n  /** @override **/\n  equals(otherZone) {\n    return otherZone.type === \"fixed\" && otherZone.fixed === this.fixed;\n  }\n\n  /** @override **/\n  get isValid() {\n    return true;\n  }\n}\n","import Zone from \"../zone.js\";\n\n/**\n * A zone that failed to parse. You should never need to instantiate this.\n * @implements {Zone}\n */\nexport default class InvalidZone extends Zone {\n  constructor(zoneName) {\n    super();\n    /**  @private */\n    this.zoneName = zoneName;\n  }\n\n  /** @override **/\n  get type() {\n    return \"invalid\";\n  }\n\n  /** @override **/\n  get name() {\n    return this.zoneName;\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return false;\n  }\n\n  /** @override **/\n  offsetName() {\n    return null;\n  }\n\n  /** @override **/\n  formatOffset() {\n    return \"\";\n  }\n\n  /** @override **/\n  offset() {\n    return NaN;\n  }\n\n  /** @override **/\n  equals() {\n    return false;\n  }\n\n  /** @override **/\n  get isValid() {\n    return false;\n  }\n}\n","/**\n * @private\n */\n\nimport Zone from \"../zone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport InvalidZone from \"../zones/invalidZone.js\";\n\nimport { isUndefined, isString, isNumber } from \"./util.js\";\n\nexport function normalizeZone(input, defaultZone) {\n  let offset;\n  if (isUndefined(input) || input === null) {\n    return defaultZone;\n  } else if (input instanceof Zone) {\n    return input;\n  } else if (isString(input)) {\n    const lowered = input.toLowerCase();\n    if (lowered === \"local\" || lowered === \"system\") return defaultZone;\n    else if (lowered === \"utc\" || lowered === \"gmt\") return FixedOffsetZone.utcInstance;\n    else return FixedOffsetZone.parseSpecifier(lowered) || IANAZone.create(input);\n  } else if (isNumber(input)) {\n    return FixedOffsetZone.instance(input);\n  } else if (typeof input === \"object\" && input.offset && typeof input.offset === \"number\") {\n    // This is dumb, but the instanceof check above doesn't seem to really work\n    // so we're duck checking it\n    return input;\n  } else {\n    return new InvalidZone(input);\n  }\n}\n","import SystemZone from \"./zones/systemZone.js\";\nimport IANAZone from \"./zones/IANAZone.js\";\nimport Locale from \"./impl/locale.js\";\n\nimport { normalizeZone } from \"./impl/zoneUtil.js\";\n\nlet now = () => Date.now(),\n  defaultZone = \"system\",\n  defaultLocale = null,\n  defaultNumberingSystem = null,\n  defaultOutputCalendar = null,\n  throwOnInvalid;\n\n/**\n * Settings contains static getters and setters that control Luxon's overall behavior. Luxon is a simple library with few options, but the ones it does have live here.\n */\nexport default class Settings {\n  /**\n   * Get the callback for returning the current timestamp.\n   * @type {function}\n   */\n  static get now() {\n    return now;\n  }\n\n  /**\n   * Set the callback for returning the current timestamp.\n   * The function should return a number, which will be interpreted as an Epoch millisecond count\n   * @type {function}\n   * @example Settings.now = () => Date.now() + 3000 // pretend it is 3 seconds in the future\n   * @example Settings.now = () => 0 // always pretend it's Jan 1, 1970 at midnight in UTC time\n   */\n  static set now(n) {\n    now = n;\n  }\n\n  /**\n   * Set the default time zone to create DateTimes in. Does not affect existing instances.\n   * Use the value \"system\" to reset this value to the system's time zone.\n   * @type {string}\n   */\n  static set defaultZone(zone) {\n    defaultZone = zone;\n  }\n\n  /**\n   * Get the default time zone object currently used to create DateTimes. Does not affect existing instances.\n   * The default value is the system's time zone (the one set on the machine that runs this code).\n   * @type {Zone}\n   */\n  static get defaultZone() {\n    return normalizeZone(defaultZone, SystemZone.instance);\n  }\n\n  /**\n   * Get the default locale to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static get defaultLocale() {\n    return defaultLocale;\n  }\n\n  /**\n   * Set the default locale to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static set defaultLocale(locale) {\n    defaultLocale = locale;\n  }\n\n  /**\n   * Get the default numbering system to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static get defaultNumberingSystem() {\n    return defaultNumberingSystem;\n  }\n\n  /**\n   * Set the default numbering system to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static set defaultNumberingSystem(numberingSystem) {\n    defaultNumberingSystem = numberingSystem;\n  }\n\n  /**\n   * Get the default output calendar to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static get defaultOutputCalendar() {\n    return defaultOutputCalendar;\n  }\n\n  /**\n   * Set the default output calendar to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static set defaultOutputCalendar(outputCalendar) {\n    defaultOutputCalendar = outputCalendar;\n  }\n\n  /**\n   * Get whether Luxon will throw when it encounters invalid DateTimes, Durations, or Intervals\n   * @type {boolean}\n   */\n  static get throwOnInvalid() {\n    return throwOnInvalid;\n  }\n\n  /**\n   * Set whether Luxon will throw when it encounters invalid DateTimes, Durations, or Intervals\n   * @type {boolean}\n   */\n  static set throwOnInvalid(t) {\n    throwOnInvalid = t;\n  }\n\n  /**\n   * Reset Luxon's global caches. Should only be necessary in testing scenarios.\n   * @return {void}\n   */\n  static resetCaches() {\n    Locale.resetCache();\n    IANAZone.resetCache();\n  }\n}\n","import { padStart, roundTo, hasRelative } from \"./util.js\";\nimport * as English from \"./english.js\";\nimport Settings from \"../settings.js\";\nimport DateTime from \"../datetime.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\n\n// todo - remap caching\n\nlet intlLFCache = {};\nfunction getCachedLF(locString, opts = {}) {\n  const key = JSON.stringify([locString, opts]);\n  let dtf = intlLFCache[key];\n  if (!dtf) {\n    dtf = new Intl.ListFormat(locString, opts);\n    intlLFCache[key] = dtf;\n  }\n  return dtf;\n}\n\nlet intlDTCache = {};\nfunction getCachedDTF(locString, opts = {}) {\n  const key = JSON.stringify([locString, opts]);\n  let dtf = intlDTCache[key];\n  if (!dtf) {\n    dtf = new Intl.DateTimeFormat(locString, opts);\n    intlDTCache[key] = dtf;\n  }\n  return dtf;\n}\n\nlet intlNumCache = {};\nfunction getCachedINF(locString, opts = {}) {\n  const key = JSON.stringify([locString, opts]);\n  let inf = intlNumCache[key];\n  if (!inf) {\n    inf = new Intl.NumberFormat(locString, opts);\n    intlNumCache[key] = inf;\n  }\n  return inf;\n}\n\nlet intlRelCache = {};\nfunction getCachedRTF(locString, opts = {}) {\n  const { base, ...cacheKeyOpts } = opts; // exclude `base` from the options\n  const key = JSON.stringify([locString, cacheKeyOpts]);\n  let inf = intlRelCache[key];\n  if (!inf) {\n    inf = new Intl.RelativeTimeFormat(locString, opts);\n    intlRelCache[key] = inf;\n  }\n  return inf;\n}\n\nlet sysLocaleCache = null;\nfunction systemLocale() {\n  if (sysLocaleCache) {\n    return sysLocaleCache;\n  } else {\n    sysLocaleCache = new Intl.DateTimeFormat().resolvedOptions().locale;\n    return sysLocaleCache;\n  }\n}\n\nfunction parseLocaleString(localeStr) {\n  // I really want to avoid writing a BCP 47 parser\n  // see, e.g. https://github.com/wooorm/bcp-47\n  // Instead, we'll do this:\n\n  // a) if the string has no -u extensions, just leave it alone\n  // b) if it does, use Intl to resolve everything\n  // c) if Intl fails, try again without the -u\n\n  const uIndex = localeStr.indexOf(\"-u-\");\n  if (uIndex === -1) {\n    return [localeStr];\n  } else {\n    let options;\n    const smaller = localeStr.substring(0, uIndex);\n    try {\n      options = getCachedDTF(localeStr).resolvedOptions();\n    } catch (e) {\n      options = getCachedDTF(smaller).resolvedOptions();\n    }\n\n    const { numberingSystem, calendar } = options;\n    // return the smaller one so that we can append the calendar and numbering overrides to it\n    return [smaller, numberingSystem, calendar];\n  }\n}\n\nfunction intlConfigString(localeStr, numberingSystem, outputCalendar) {\n  if (outputCalendar || numberingSystem) {\n    localeStr += \"-u\";\n\n    if (outputCalendar) {\n      localeStr += `-ca-${outputCalendar}`;\n    }\n\n    if (numberingSystem) {\n      localeStr += `-nu-${numberingSystem}`;\n    }\n    return localeStr;\n  } else {\n    return localeStr;\n  }\n}\n\nfunction mapMonths(f) {\n  const ms = [];\n  for (let i = 1; i <= 12; i++) {\n    const dt = DateTime.utc(2016, i, 1);\n    ms.push(f(dt));\n  }\n  return ms;\n}\n\nfunction mapWeekdays(f) {\n  const ms = [];\n  for (let i = 1; i <= 7; i++) {\n    const dt = DateTime.utc(2016, 11, 13 + i);\n    ms.push(f(dt));\n  }\n  return ms;\n}\n\nfunction listStuff(loc, length, defaultOK, englishFn, intlFn) {\n  const mode = loc.listingMode(defaultOK);\n\n  if (mode === \"error\") {\n    return null;\n  } else if (mode === \"en\") {\n    return englishFn(length);\n  } else {\n    return intlFn(length);\n  }\n}\n\nfunction supportsFastNumbers(loc) {\n  if (loc.numberingSystem && loc.numberingSystem !== \"latn\") {\n    return false;\n  } else {\n    return (\n      loc.numberingSystem === \"latn\" ||\n      !loc.locale ||\n      loc.locale.startsWith(\"en\") ||\n      new Intl.DateTimeFormat(loc.intl).resolvedOptions().numberingSystem === \"latn\"\n    );\n  }\n}\n\n/**\n * @private\n */\n\nclass PolyNumberFormatter {\n  constructor(intl, forceSimple, opts) {\n    this.padTo = opts.padTo || 0;\n    this.floor = opts.floor || false;\n\n    const { padTo, floor, ...otherOpts } = opts;\n\n    if (!forceSimple || Object.keys(otherOpts).length > 0) {\n      const intlOpts = { useGrouping: false, ...opts };\n      if (opts.padTo > 0) intlOpts.minimumIntegerDigits = opts.padTo;\n      this.inf = getCachedINF(intl, intlOpts);\n    }\n  }\n\n  format(i) {\n    if (this.inf) {\n      const fixed = this.floor ? Math.floor(i) : i;\n      return this.inf.format(fixed);\n    } else {\n      // to match the browser's numberformatter defaults\n      const fixed = this.floor ? Math.floor(i) : roundTo(i, 3);\n      return padStart(fixed, this.padTo);\n    }\n  }\n}\n\n/**\n * @private\n */\n\nclass PolyDateFormatter {\n  constructor(dt, intl, opts) {\n    this.opts = opts;\n\n    let z;\n    if (dt.zone.isUniversal) {\n      // UTC-8 or Etc/UTC-8 are not part of tzdata, only Etc/GMT+8 and the like.\n      // That is why fixed-offset TZ is set to that unless it is:\n      // 1. Representing offset 0 when UTC is used to maintain previous behavior and does not become GMT.\n      // 2. Unsupported by the browser:\n      //    - some do not support Etc/\n      //    - < Etc/GMT-14, > Etc/GMT+12, and 30-minute or 45-minute offsets are not part of tzdata\n      const gmtOffset = -1 * (dt.offset / 60);\n      const offsetZ = gmtOffset >= 0 ? `Etc/GMT+${gmtOffset}` : `Etc/GMT${gmtOffset}`;\n      if (dt.offset !== 0 && IANAZone.create(offsetZ).valid) {\n        z = offsetZ;\n        this.dt = dt;\n      } else {\n        // Not all fixed-offset zones like Etc/+4:30 are present in tzdata.\n        // So we have to make do. Two cases:\n        // 1. The format options tell us to show the zone. We can't do that, so the best\n        // we can do is format the date in UTC.\n        // 2. The format options don't tell us to show the zone. Then we can adjust them\n        // the time and tell the formatter to show it to us in UTC, so that the time is right\n        // and the bad zone doesn't show up.\n        z = \"UTC\";\n        if (opts.timeZoneName) {\n          this.dt = dt;\n        } else {\n          this.dt = dt.offset === 0 ? dt : DateTime.fromMillis(dt.ts + dt.offset * 60 * 1000);\n        }\n      }\n    } else if (dt.zone.type === \"system\") {\n      this.dt = dt;\n    } else {\n      this.dt = dt;\n      z = dt.zone.name;\n    }\n\n    const intlOpts = { ...this.opts };\n    if (z) {\n      intlOpts.timeZone = z;\n    }\n    this.dtf = getCachedDTF(intl, intlOpts);\n  }\n\n  format() {\n    return this.dtf.format(this.dt.toJSDate());\n  }\n\n  formatToParts() {\n    return this.dtf.formatToParts(this.dt.toJSDate());\n  }\n\n  resolvedOptions() {\n    return this.dtf.resolvedOptions();\n  }\n}\n\n/**\n * @private\n */\nclass PolyRelFormatter {\n  constructor(intl, isEnglish, opts) {\n    this.opts = { style: \"long\", ...opts };\n    if (!isEnglish && hasRelative()) {\n      this.rtf = getCachedRTF(intl, opts);\n    }\n  }\n\n  format(count, unit) {\n    if (this.rtf) {\n      return this.rtf.format(count, unit);\n    } else {\n      return English.formatRelativeTime(unit, count, this.opts.numeric, this.opts.style !== \"long\");\n    }\n  }\n\n  formatToParts(count, unit) {\n    if (this.rtf) {\n      return this.rtf.formatToParts(count, unit);\n    } else {\n      return [];\n    }\n  }\n}\n\n/**\n * @private\n */\n\nexport default class Locale {\n  static fromOpts(opts) {\n    return Locale.create(opts.locale, opts.numberingSystem, opts.outputCalendar, opts.defaultToEN);\n  }\n\n  static create(locale, numberingSystem, outputCalendar, defaultToEN = false) {\n    const specifiedLocale = locale || Settings.defaultLocale;\n    // the system locale is useful for human readable strings but annoying for parsing/formatting known formats\n    const localeR = specifiedLocale || (defaultToEN ? \"en-US\" : systemLocale());\n    const numberingSystemR = numberingSystem || Settings.defaultNumberingSystem;\n    const outputCalendarR = outputCalendar || Settings.defaultOutputCalendar;\n    return new Locale(localeR, numberingSystemR, outputCalendarR, specifiedLocale);\n  }\n\n  static resetCache() {\n    sysLocaleCache = null;\n    intlDTCache = {};\n    intlNumCache = {};\n    intlRelCache = {};\n  }\n\n  static fromObject({ locale, numberingSystem, outputCalendar } = {}) {\n    return Locale.create(locale, numberingSystem, outputCalendar);\n  }\n\n  constructor(locale, numbering, outputCalendar, specifiedLocale) {\n    const [parsedLocale, parsedNumberingSystem, parsedOutputCalendar] = parseLocaleString(locale);\n\n    this.locale = parsedLocale;\n    this.numberingSystem = numbering || parsedNumberingSystem || null;\n    this.outputCalendar = outputCalendar || parsedOutputCalendar || null;\n    this.intl = intlConfigString(this.locale, this.numberingSystem, this.outputCalendar);\n\n    this.weekdaysCache = { format: {}, standalone: {} };\n    this.monthsCache = { format: {}, standalone: {} };\n    this.meridiemCache = null;\n    this.eraCache = {};\n\n    this.specifiedLocale = specifiedLocale;\n    this.fastNumbersCached = null;\n  }\n\n  get fastNumbers() {\n    if (this.fastNumbersCached == null) {\n      this.fastNumbersCached = supportsFastNumbers(this);\n    }\n\n    return this.fastNumbersCached;\n  }\n\n  listingMode() {\n    const isActuallyEn = this.isEnglish();\n    const hasNoWeirdness =\n      (this.numberingSystem === null || this.numberingSystem === \"latn\") &&\n      (this.outputCalendar === null || this.outputCalendar === \"gregory\");\n    return isActuallyEn && hasNoWeirdness ? \"en\" : \"intl\";\n  }\n\n  clone(alts) {\n    if (!alts || Object.getOwnPropertyNames(alts).length === 0) {\n      return this;\n    } else {\n      return Locale.create(\n        alts.locale || this.specifiedLocale,\n        alts.numberingSystem || this.numberingSystem,\n        alts.outputCalendar || this.outputCalendar,\n        alts.defaultToEN || false\n      );\n    }\n  }\n\n  redefaultToEN(alts = {}) {\n    return this.clone({ ...alts, defaultToEN: true });\n  }\n\n  redefaultToSystem(alts = {}) {\n    return this.clone({ ...alts, defaultToEN: false });\n  }\n\n  months(length, format = false, defaultOK = true) {\n    return listStuff(this, length, defaultOK, English.months, () => {\n      const intl = format ? { month: length, day: \"numeric\" } : { month: length },\n        formatStr = format ? \"format\" : \"standalone\";\n      if (!this.monthsCache[formatStr][length]) {\n        this.monthsCache[formatStr][length] = mapMonths((dt) => this.extract(dt, intl, \"month\"));\n      }\n      return this.monthsCache[formatStr][length];\n    });\n  }\n\n  weekdays(length, format = false, defaultOK = true) {\n    return listStuff(this, length, defaultOK, English.weekdays, () => {\n      const intl = format\n          ? { weekday: length, year: \"numeric\", month: \"long\", day: \"numeric\" }\n          : { weekday: length },\n        formatStr = format ? \"format\" : \"standalone\";\n      if (!this.weekdaysCache[formatStr][length]) {\n        this.weekdaysCache[formatStr][length] = mapWeekdays((dt) =>\n          this.extract(dt, intl, \"weekday\")\n        );\n      }\n      return this.weekdaysCache[formatStr][length];\n    });\n  }\n\n  meridiems(defaultOK = true) {\n    return listStuff(\n      this,\n      undefined,\n      defaultOK,\n      () => English.meridiems,\n      () => {\n        // In theory there could be aribitrary day periods. We're gonna assume there are exactly two\n        // for AM and PM. This is probably wrong, but it's makes parsing way easier.\n        if (!this.meridiemCache) {\n          const intl = { hour: \"numeric\", hourCycle: \"h12\" };\n          this.meridiemCache = [DateTime.utc(2016, 11, 13, 9), DateTime.utc(2016, 11, 13, 19)].map(\n            (dt) => this.extract(dt, intl, \"dayperiod\")\n          );\n        }\n\n        return this.meridiemCache;\n      }\n    );\n  }\n\n  eras(length, defaultOK = true) {\n    return listStuff(this, length, defaultOK, English.eras, () => {\n      const intl = { era: length };\n\n      // This is problematic. Different calendars are going to define eras totally differently. What I need is the minimum set of dates\n      // to definitely enumerate them.\n      if (!this.eraCache[length]) {\n        this.eraCache[length] = [DateTime.utc(-40, 1, 1), DateTime.utc(2017, 1, 1)].map((dt) =>\n          this.extract(dt, intl, \"era\")\n        );\n      }\n\n      return this.eraCache[length];\n    });\n  }\n\n  extract(dt, intlOpts, field) {\n    const df = this.dtFormatter(dt, intlOpts),\n      results = df.formatToParts(),\n      matching = results.find((m) => m.type.toLowerCase() === field);\n    return matching ? matching.value : null;\n  }\n\n  numberFormatter(opts = {}) {\n    // this forcesimple option is never used (the only caller short-circuits on it, but it seems safer to leave)\n    // (in contrast, the rest of the condition is used heavily)\n    return new PolyNumberFormatter(this.intl, opts.forceSimple || this.fastNumbers, opts);\n  }\n\n  dtFormatter(dt, intlOpts = {}) {\n    return new PolyDateFormatter(dt, this.intl, intlOpts);\n  }\n\n  relFormatter(opts = {}) {\n    return new PolyRelFormatter(this.intl, this.isEnglish(), opts);\n  }\n\n  listFormatter(opts = {}) {\n    return getCachedLF(this.intl, opts);\n  }\n\n  isEnglish() {\n    return (\n      this.locale === \"en\" ||\n      this.locale.toLowerCase() === \"en-us\" ||\n      new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith(\"en-us\")\n    );\n  }\n\n  equals(other) {\n    return (\n      this.locale === other.locale &&\n      this.numberingSystem === other.numberingSystem &&\n      this.outputCalendar === other.outputCalendar\n    );\n  }\n}\n","import {\n  untruncateYear,\n  signedOffset,\n  parseInteger,\n  parseMillis,\n  ianaRegex,\n  isUndefined,\n  parseFloating,\n} from \"./util.js\";\nimport * as English from \"./english.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\n\n/*\n * This file handles parsing for well-specified formats. Here's how it works:\n * Two things go into parsing: a regex to match with and an extractor to take apart the groups in the match.\n * An extractor is just a function that takes a regex match array and returns a { year: ..., month: ... } object\n * parse() does the work of executing the regex and applying the extractor. It takes multiple regex/extractor pairs to try in sequence.\n * Extractors can take a \"cursor\" representing the offset in the match to look at. This makes it easy to combine extractors.\n * combineExtractors() does the work of combining them, keeping track of the cursor through multiple extractions.\n * Some extractions are super dumb and simpleParse and fromStrings help DRY them.\n */\n\nfunction combineRegexes(...regexes) {\n  const full = regexes.reduce((f, r) => f + r.source, \"\");\n  return RegExp(`^${full}$`);\n}\n\nfunction combineExtractors(...extractors) {\n  return (m) =>\n    extractors\n      .reduce(\n        ([mergedVals, mergedZone, cursor], ex) => {\n          const [val, zone, next] = ex(m, cursor);\n          return [{ ...mergedVals, ...val }, zone || mergedZone, next];\n        },\n        [{}, null, 1]\n      )\n      .slice(0, 2);\n}\n\nfunction parse(s, ...patterns) {\n  if (s == null) {\n    return [null, null];\n  }\n\n  for (const [regex, extractor] of patterns) {\n    const m = regex.exec(s);\n    if (m) {\n      return extractor(m);\n    }\n  }\n  return [null, null];\n}\n\nfunction simpleParse(...keys) {\n  return (match, cursor) => {\n    const ret = {};\n    let i;\n\n    for (i = 0; i < keys.length; i++) {\n      ret[keys[i]] = parseInteger(match[cursor + i]);\n    }\n    return [ret, null, cursor + i];\n  };\n}\n\n// ISO and SQL parsing\nconst offsetRegex = /(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/;\nconst isoExtendedZone = `(?:${offsetRegex.source}?(?:\\\\[(${ianaRegex.source})\\\\])?)?`;\nconst isoTimeBaseRegex = /(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/;\nconst isoTimeRegex = RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`);\nconst isoTimeExtensionRegex = RegExp(`(?:T${isoTimeRegex.source})?`);\nconst isoYmdRegex = /([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/;\nconst isoWeekRegex = /(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/;\nconst isoOrdinalRegex = /(\\d{4})-?(\\d{3})/;\nconst extractISOWeekData = simpleParse(\"weekYear\", \"weekNumber\", \"weekDay\");\nconst extractISOOrdinalData = simpleParse(\"year\", \"ordinal\");\nconst sqlYmdRegex = /(\\d{4})-(\\d\\d)-(\\d\\d)/; // dumbed-down version of the ISO one\nconst sqlTimeRegex = RegExp(\n  `${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`\n);\nconst sqlTimeExtensionRegex = RegExp(`(?: ${sqlTimeRegex.source})?`);\n\nfunction int(match, pos, fallback) {\n  const m = match[pos];\n  return isUndefined(m) ? fallback : parseInteger(m);\n}\n\nfunction extractISOYmd(match, cursor) {\n  const item = {\n    year: int(match, cursor),\n    month: int(match, cursor + 1, 1),\n    day: int(match, cursor + 2, 1),\n  };\n\n  return [item, null, cursor + 3];\n}\n\nfunction extractISOTime(match, cursor) {\n  const item = {\n    hours: int(match, cursor, 0),\n    minutes: int(match, cursor + 1, 0),\n    seconds: int(match, cursor + 2, 0),\n    milliseconds: parseMillis(match[cursor + 3]),\n  };\n\n  return [item, null, cursor + 4];\n}\n\nfunction extractISOOffset(match, cursor) {\n  const local = !match[cursor] && !match[cursor + 1],\n    fullOffset = signedOffset(match[cursor + 1], match[cursor + 2]),\n    zone = local ? null : FixedOffsetZone.instance(fullOffset);\n  return [{}, zone, cursor + 3];\n}\n\nfunction extractIANAZone(match, cursor) {\n  const zone = match[cursor] ? IANAZone.create(match[cursor]) : null;\n  return [{}, zone, cursor + 1];\n}\n\n// ISO time parsing\n\nconst isoTimeOnly = RegExp(`^T?${isoTimeBaseRegex.source}$`);\n\n// ISO duration parsing\n\nconst isoDuration =\n  /^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;\n\nfunction extractISODuration(match) {\n  const [s, yearStr, monthStr, weekStr, dayStr, hourStr, minuteStr, secondStr, millisecondsStr] =\n    match;\n\n  const hasNegativePrefix = s[0] === \"-\";\n  const negativeSeconds = secondStr && secondStr[0] === \"-\";\n\n  const maybeNegate = (num, force = false) =>\n    num !== undefined && (force || (num && hasNegativePrefix)) ? -num : num;\n\n  return [\n    {\n      years: maybeNegate(parseFloating(yearStr)),\n      months: maybeNegate(parseFloating(monthStr)),\n      weeks: maybeNegate(parseFloating(weekStr)),\n      days: maybeNegate(parseFloating(dayStr)),\n      hours: maybeNegate(parseFloating(hourStr)),\n      minutes: maybeNegate(parseFloating(minuteStr)),\n      seconds: maybeNegate(parseFloating(secondStr), secondStr === \"-0\"),\n      milliseconds: maybeNegate(parseMillis(millisecondsStr), negativeSeconds),\n    },\n  ];\n}\n\n// These are a little braindead. EDT *should* tell us that we're in, say, America/New_York\n// and not just that we're in -240 *right now*. But since I don't think these are used that often\n// I'm just going to ignore that\nconst obsOffsets = {\n  GMT: 0,\n  EDT: -4 * 60,\n  EST: -5 * 60,\n  CDT: -5 * 60,\n  CST: -6 * 60,\n  MDT: -6 * 60,\n  MST: -7 * 60,\n  PDT: -7 * 60,\n  PST: -8 * 60,\n};\n\nfunction fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n  const result = {\n    year: yearStr.length === 2 ? untruncateYear(parseInteger(yearStr)) : parseInteger(yearStr),\n    month: English.monthsShort.indexOf(monthStr) + 1,\n    day: parseInteger(dayStr),\n    hour: parseInteger(hourStr),\n    minute: parseInteger(minuteStr),\n  };\n\n  if (secondStr) result.second = parseInteger(secondStr);\n  if (weekdayStr) {\n    result.weekday =\n      weekdayStr.length > 3\n        ? English.weekdaysLong.indexOf(weekdayStr) + 1\n        : English.weekdaysShort.indexOf(weekdayStr) + 1;\n  }\n\n  return result;\n}\n\n// RFC 2822/5322\nconst rfc2822 =\n  /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;\n\nfunction extractRFC2822(match) {\n  const [\n      ,\n      weekdayStr,\n      dayStr,\n      monthStr,\n      yearStr,\n      hourStr,\n      minuteStr,\n      secondStr,\n      obsOffset,\n      milOffset,\n      offHourStr,\n      offMinuteStr,\n    ] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n\n  let offset;\n  if (obsOffset) {\n    offset = obsOffsets[obsOffset];\n  } else if (milOffset) {\n    offset = 0;\n  } else {\n    offset = signedOffset(offHourStr, offMinuteStr);\n  }\n\n  return [result, new FixedOffsetZone(offset)];\n}\n\nfunction preprocessRFC2822(s) {\n  // Remove comments and folding whitespace and replace multiple-spaces with a single space\n  return s\n    .replace(/\\([^)]*\\)|[\\n\\t]/g, \" \")\n    .replace(/(\\s\\s+)/g, \" \")\n    .trim();\n}\n\n// http date\n\nconst rfc1123 =\n    /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n  rfc850 =\n    /^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n  ascii =\n    /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;\n\nfunction extractRFC1123Or850(match) {\n  const [, weekdayStr, dayStr, monthStr, yearStr, hourStr, minuteStr, secondStr] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nfunction extractASCII(match) {\n  const [, weekdayStr, monthStr, dayStr, hourStr, minuteStr, secondStr, yearStr] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nconst isoYmdWithTimeExtensionRegex = combineRegexes(isoYmdRegex, isoTimeExtensionRegex);\nconst isoWeekWithTimeExtensionRegex = combineRegexes(isoWeekRegex, isoTimeExtensionRegex);\nconst isoOrdinalWithTimeExtensionRegex = combineRegexes(isoOrdinalRegex, isoTimeExtensionRegex);\nconst isoTimeCombinedRegex = combineRegexes(isoTimeRegex);\n\nconst extractISOYmdTimeAndOffset = combineExtractors(\n  extractISOYmd,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOWeekTimeAndOffset = combineExtractors(\n  extractISOWeekData,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOOrdinalDateAndTime = combineExtractors(\n  extractISOOrdinalData,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOTimeAndOffset = combineExtractors(\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\n\n/*\n * @private\n */\n\nexport function parseISODate(s) {\n  return parse(\n    s,\n    [isoYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset],\n    [isoWeekWithTimeExtensionRegex, extractISOWeekTimeAndOffset],\n    [isoOrdinalWithTimeExtensionRegex, extractISOOrdinalDateAndTime],\n    [isoTimeCombinedRegex, extractISOTimeAndOffset]\n  );\n}\n\nexport function parseRFC2822Date(s) {\n  return parse(preprocessRFC2822(s), [rfc2822, extractRFC2822]);\n}\n\nexport function parseHTTPDate(s) {\n  return parse(\n    s,\n    [rfc1123, extractRFC1123Or850],\n    [rfc850, extractRFC1123Or850],\n    [ascii, extractASCII]\n  );\n}\n\nexport function parseISODuration(s) {\n  return parse(s, [isoDuration, extractISODuration]);\n}\n\nconst extractISOTimeOnly = combineExtractors(extractISOTime);\n\nexport function parseISOTimeOnly(s) {\n  return parse(s, [isoTimeOnly, extractISOTimeOnly]);\n}\n\nconst sqlYmdWithTimeExtensionRegex = combineRegexes(sqlYmdRegex, sqlTimeExtensionRegex);\nconst sqlTimeCombinedRegex = combineRegexes(sqlTimeRegex);\n\nconst extractISOTimeOffsetAndIANAZone = combineExtractors(\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\n\nexport function parseSQL(s) {\n  return parse(\n    s,\n    [sqlYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset],\n    [sqlTimeCombinedRegex, extractISOTimeOffsetAndIANAZone]\n  );\n}\n","import { InvalidArgumentError, InvalidDurationError, InvalidUnitError } from \"./errors.js\";\nimport Formatter from \"./impl/formatter.js\";\nimport Invalid from \"./impl/invalid.js\";\nimport Locale from \"./impl/locale.js\";\nimport { parseISODuration, parseISOTimeOnly } from \"./impl/regexParser.js\";\nimport {\n  asNumber,\n  hasOwnProperty,\n  isNumber,\n  isUndefined,\n  normalizeObject,\n  roundTo,\n} from \"./impl/util.js\";\nimport Settings from \"./settings.js\";\n\nconst INVALID = \"Invalid Duration\";\n\n// unit conversion constants\nexport const lowOrderMatrix = {\n    weeks: {\n      days: 7,\n      hours: 7 * 24,\n      minutes: 7 * 24 * 60,\n      seconds: 7 * 24 * 60 * 60,\n      milliseconds: 7 * 24 * 60 * 60 * 1000,\n    },\n    days: {\n      hours: 24,\n      minutes: 24 * 60,\n      seconds: 24 * 60 * 60,\n      milliseconds: 24 * 60 * 60 * 1000,\n    },\n    hours: { minutes: 60, seconds: 60 * 60, milliseconds: 60 * 60 * 1000 },\n    minutes: { seconds: 60, milliseconds: 60 * 1000 },\n    seconds: { milliseconds: 1000 },\n  },\n  casualMatrix = {\n    years: {\n      quarters: 4,\n      months: 12,\n      weeks: 52,\n      days: 365,\n      hours: 365 * 24,\n      minutes: 365 * 24 * 60,\n      seconds: 365 * 24 * 60 * 60,\n      milliseconds: 365 * 24 * 60 * 60 * 1000,\n    },\n    quarters: {\n      months: 3,\n      weeks: 13,\n      days: 91,\n      hours: 91 * 24,\n      minutes: 91 * 24 * 60,\n      seconds: 91 * 24 * 60 * 60,\n      milliseconds: 91 * 24 * 60 * 60 * 1000,\n    },\n    months: {\n      weeks: 4,\n      days: 30,\n      hours: 30 * 24,\n      minutes: 30 * 24 * 60,\n      seconds: 30 * 24 * 60 * 60,\n      milliseconds: 30 * 24 * 60 * 60 * 1000,\n    },\n\n    ...lowOrderMatrix,\n  },\n  daysInYearAccurate = 146097.0 / 400,\n  daysInMonthAccurate = 146097.0 / 4800,\n  accurateMatrix = {\n    years: {\n      quarters: 4,\n      months: 12,\n      weeks: daysInYearAccurate / 7,\n      days: daysInYearAccurate,\n      hours: daysInYearAccurate * 24,\n      minutes: daysInYearAccurate * 24 * 60,\n      seconds: daysInYearAccurate * 24 * 60 * 60,\n      milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1000,\n    },\n    quarters: {\n      months: 3,\n      weeks: daysInYearAccurate / 28,\n      days: daysInYearAccurate / 4,\n      hours: (daysInYearAccurate * 24) / 4,\n      minutes: (daysInYearAccurate * 24 * 60) / 4,\n      seconds: (daysInYearAccurate * 24 * 60 * 60) / 4,\n      milliseconds: (daysInYearAccurate * 24 * 60 * 60 * 1000) / 4,\n    },\n    months: {\n      weeks: daysInMonthAccurate / 7,\n      days: daysInMonthAccurate,\n      hours: daysInMonthAccurate * 24,\n      minutes: daysInMonthAccurate * 24 * 60,\n      seconds: daysInMonthAccurate * 24 * 60 * 60,\n      milliseconds: daysInMonthAccurate * 24 * 60 * 60 * 1000,\n    },\n    ...lowOrderMatrix,\n  };\n\n// units ordered by size\nconst orderedUnits = [\n  \"years\",\n  \"quarters\",\n  \"months\",\n  \"weeks\",\n  \"days\",\n  \"hours\",\n  \"minutes\",\n  \"seconds\",\n  \"milliseconds\",\n];\n\nconst reverseUnits = orderedUnits.slice(0).reverse();\n\n// clone really means \"create another instance just like this one, but with these changes\"\nfunction clone(dur, alts, clear = false) {\n  // deep merge for vals\n  const conf = {\n    values: clear ? alts.values : { ...dur.values, ...(alts.values || {}) },\n    loc: dur.loc.clone(alts.loc),\n    conversionAccuracy: alts.conversionAccuracy || dur.conversionAccuracy,\n  };\n  return new Duration(conf);\n}\n\nfunction antiTrunc(n) {\n  return n < 0 ? Math.floor(n) : Math.ceil(n);\n}\n\n// NB: mutates parameters\nfunction convert(matrix, fromMap, fromUnit, toMap, toUnit) {\n  const conv = matrix[toUnit][fromUnit],\n    raw = fromMap[fromUnit] / conv,\n    sameSign = Math.sign(raw) === Math.sign(toMap[toUnit]),\n    // ok, so this is wild, but see the matrix in the tests\n    added =\n      !sameSign && toMap[toUnit] !== 0 && Math.abs(raw) <= 1 ? antiTrunc(raw) : Math.trunc(raw);\n  toMap[toUnit] += added;\n  fromMap[fromUnit] -= added * conv;\n}\n\n// NB: mutates parameters\nfunction normalizeValues(matrix, vals) {\n  reverseUnits.reduce((previous, current) => {\n    if (!isUndefined(vals[current])) {\n      if (previous) {\n        convert(matrix, vals, previous, vals, current);\n      }\n      return current;\n    } else {\n      return previous;\n    }\n  }, null);\n}\n\n/**\n * A Duration object represents a period of time, like \"2 months\" or \"1 day, 1 hour\". Conceptually, it's just a map of units to their quantities, accompanied by some additional configuration and methods for creating, parsing, interrogating, transforming, and formatting them. They can be used on their own or in conjunction with other Luxon types; for example, you can use {@link DateTime#plus} to add a Duration object to a DateTime, producing another DateTime.\n *\n * Here is a brief overview of commonly used methods and getters in Duration:\n *\n * * **Creation** To create a Duration, use {@link Duration#fromMillis}, {@link Duration#fromObject}, or {@link Duration#fromISO}.\n * * **Unit values** See the {@link Duration#years}, {@link Duration#months}, {@link Duration#weeks}, {@link Duration#days}, {@link Duration#hours}, {@link Duration#minutes}, {@link Duration#seconds}, {@link Duration#milliseconds} accessors.\n * * **Configuration** See  {@link Duration#locale} and {@link Duration#numberingSystem} accessors.\n * * **Transformation** To create new Durations out of old ones use {@link Duration#plus}, {@link Duration#minus}, {@link Duration#normalize}, {@link Duration#set}, {@link Duration#reconfigure}, {@link Duration#shiftTo}, and {@link Duration#negate}.\n * * **Output** To convert the Duration into other representations, see {@link Duration#as}, {@link Duration#toISO}, {@link Duration#toFormat}, and {@link Duration#toJSON}\n *\n * There's are more methods documented below. In addition, for more information on subtler topics like internationalization and validity, see the external documentation.\n */\nexport default class Duration {\n  /**\n   * @private\n   */\n  constructor(config) {\n    const accurate = config.conversionAccuracy === \"longterm\" || false;\n    /**\n     * @access private\n     */\n    this.values = config.values;\n    /**\n     * @access private\n     */\n    this.loc = config.loc || Locale.create();\n    /**\n     * @access private\n     */\n    this.conversionAccuracy = accurate ? \"longterm\" : \"casual\";\n    /**\n     * @access private\n     */\n    this.invalid = config.invalid || null;\n    /**\n     * @access private\n     */\n    this.matrix = accurate ? accurateMatrix : casualMatrix;\n    /**\n     * @access private\n     */\n    this.isLuxonDuration = true;\n  }\n\n  /**\n   * Create Duration from a number of milliseconds.\n   * @param {number} count of milliseconds\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  static fromMillis(count, opts) {\n    return Duration.fromObject({ milliseconds: count }, opts);\n  }\n\n  /**\n   * Create a Duration from a JavaScript object with keys like 'years' and 'hours'.\n   * If this object is empty then a zero milliseconds duration is returned.\n   * @param {Object} obj - the object to create the DateTime from\n   * @param {number} obj.years\n   * @param {number} obj.quarters\n   * @param {number} obj.months\n   * @param {number} obj.weeks\n   * @param {number} obj.days\n   * @param {number} obj.hours\n   * @param {number} obj.minutes\n   * @param {number} obj.seconds\n   * @param {number} obj.milliseconds\n   * @param {Object} [opts=[]] - options for creating this Duration\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  static fromObject(obj, opts = {}) {\n    if (obj == null || typeof obj !== \"object\") {\n      throw new InvalidArgumentError(\n        `Duration.fromObject: argument expected to be an object, got ${\n          obj === null ? \"null\" : typeof obj\n        }`\n      );\n    }\n\n    return new Duration({\n      values: normalizeObject(obj, Duration.normalizeUnit),\n      loc: Locale.fromObject(opts),\n      conversionAccuracy: opts.conversionAccuracy,\n    });\n  }\n\n  /**\n   * Create a Duration from DurationLike.\n   *\n   * @param {Object | number | Duration} durationLike\n   * One of:\n   * - object with keys like 'years' and 'hours'.\n   * - number representing milliseconds\n   * - Duration instance\n   * @return {Duration}\n   */\n  static fromDurationLike(durationLike) {\n    if (isNumber(durationLike)) {\n      return Duration.fromMillis(durationLike);\n    } else if (Duration.isDuration(durationLike)) {\n      return durationLike;\n    } else if (typeof durationLike === \"object\") {\n      return Duration.fromObject(durationLike);\n    } else {\n      throw new InvalidArgumentError(\n        `Unknown duration argument ${durationLike} of type ${typeof durationLike}`\n      );\n    }\n  }\n\n  /**\n   * Create a Duration from an ISO 8601 duration string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromISO('P3Y6M1W4DT12H30M5S').toObject() //=> { years: 3, months: 6, weeks: 1, days: 4, hours: 12, minutes: 30, seconds: 5 }\n   * @example Duration.fromISO('PT23H').toObject() //=> { hours: 23 }\n   * @example Duration.fromISO('P5Y3M').toObject() //=> { years: 5, months: 3 }\n   * @return {Duration}\n   */\n  static fromISO(text, opts) {\n    const [parsed] = parseISODuration(text);\n    if (parsed) {\n      return Duration.fromObject(parsed, opts);\n    } else {\n      return Duration.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n    }\n  }\n\n  /**\n   * Create a Duration from an ISO 8601 time string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @example Duration.fromISOTime('11:22:33.444').toObject() //=> { hours: 11, minutes: 22, seconds: 33, milliseconds: 444 }\n   * @example Duration.fromISOTime('11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @return {Duration}\n   */\n  static fromISOTime(text, opts) {\n    const [parsed] = parseISOTimeOnly(text);\n    if (parsed) {\n      return Duration.fromObject(parsed, opts);\n    } else {\n      return Duration.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n    }\n  }\n\n  /**\n   * Create an invalid Duration.\n   * @param {string} reason - simple string of why this datetime is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {Duration}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the Duration is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidDurationError(invalid);\n    } else {\n      return new Duration({ invalid });\n    }\n  }\n\n  /**\n   * @private\n   */\n  static normalizeUnit(unit) {\n    const normalized = {\n      year: \"years\",\n      years: \"years\",\n      quarter: \"quarters\",\n      quarters: \"quarters\",\n      month: \"months\",\n      months: \"months\",\n      week: \"weeks\",\n      weeks: \"weeks\",\n      day: \"days\",\n      days: \"days\",\n      hour: \"hours\",\n      hours: \"hours\",\n      minute: \"minutes\",\n      minutes: \"minutes\",\n      second: \"seconds\",\n      seconds: \"seconds\",\n      millisecond: \"milliseconds\",\n      milliseconds: \"milliseconds\",\n    }[unit ? unit.toLowerCase() : unit];\n\n    if (!normalized) throw new InvalidUnitError(unit);\n\n    return normalized;\n  }\n\n  /**\n   * Check if an object is a Duration. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isDuration(o) {\n    return (o && o.isLuxonDuration) || false;\n  }\n\n  /**\n   * Get  the locale of a Duration, such 'en-GB'\n   * @type {string}\n   */\n  get locale() {\n    return this.isValid ? this.loc.locale : null;\n  }\n\n  /**\n   * Get the numbering system of a Duration, such 'beng'. The numbering system is used when formatting the Duration\n   *\n   * @type {string}\n   */\n  get numberingSystem() {\n    return this.isValid ? this.loc.numberingSystem : null;\n  }\n\n  /**\n   * Returns a string representation of this Duration formatted according to the specified format string. You may use these tokens:\n   * * `S` for milliseconds\n   * * `s` for seconds\n   * * `m` for minutes\n   * * `h` for hours\n   * * `d` for days\n   * * `w` for weeks\n   * * `M` for months\n   * * `y` for years\n   * Notes:\n   * * Add padding by repeating the token, e.g. \"yy\" pads the years to two digits, \"hhhh\" pads the hours out to four digits\n   * * Tokens can be escaped by wrapping with single quotes.\n   * * The duration will be converted to the set of units in the format string using {@link Duration#shiftTo} and the Durations's conversion accuracy setting.\n   * @param {string} fmt - the format string\n   * @param {Object} opts - options\n   * @param {boolean} [opts.floor=true] - floor numerical values\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"y d s\") //=> \"1 6 2\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"yy dd sss\") //=> \"01 06 002\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"M S\") //=> \"12 518402000\"\n   * @return {string}\n   */\n  toFormat(fmt, opts = {}) {\n    // reverse-compat since 1.2; we always round down now, never up, and we do it by default\n    const fmtOpts = {\n      ...opts,\n      floor: opts.round !== false && opts.floor !== false,\n    };\n    return this.isValid\n      ? Formatter.create(this.loc, fmtOpts).formatDurationFromString(this, fmt)\n      : INVALID;\n  }\n\n  /**\n   * Returns a string representation of a Duration with all units included.\n   * To modify its behavior use the `listStyle` and any Intl.NumberFormat option, though `unitDisplay` is especially relevant.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat\n   * @param opts - On option object to override the formatting. Accepts the same keys as the options parameter of the native `Int.NumberFormat` constructor, as well as `listStyle`.\n   * @example\n   * ```js\n   * var dur = Duration.fromObject({ days: 1, hours: 5, minutes: 6 })\n   * dur.toHuman() //=> '1 day, 5 hours, 6 minutes'\n   * dur.toHuman({ listStyle: \"long\" }) //=> '1 day, 5 hours, and 6 minutes'\n   * dur.toHuman({ unitDisplay: \"short\" }) //=> '1 day, 5 hr, 6 min'\n   * ```\n   */\n  toHuman(opts = {}) {\n    const l = orderedUnits\n      .map((unit) => {\n        const val = this.values[unit];\n        if (isUndefined(val)) {\n          return null;\n        }\n        return this.loc\n          .numberFormatter({ style: \"unit\", unitDisplay: \"long\", ...opts, unit: unit.slice(0, -1) })\n          .format(val);\n      })\n      .filter((n) => n);\n\n    return this.loc\n      .listFormatter({ type: \"conjunction\", style: opts.listStyle || \"narrow\", ...opts })\n      .format(l);\n  }\n\n  /**\n   * Returns a JavaScript object with this Duration's values.\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toObject() //=> { years: 1, days: 6, seconds: 2 }\n   * @return {Object}\n   */\n  toObject() {\n    if (!this.isValid) return {};\n    return { ...this.values };\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromObject({ years: 3, seconds: 45 }).toISO() //=> 'P3YT45S'\n   * @example Duration.fromObject({ months: 4, seconds: 45 }).toISO() //=> 'P4MT45S'\n   * @example Duration.fromObject({ months: 5 }).toISO() //=> 'P5M'\n   * @example Duration.fromObject({ minutes: 5 }).toISO() //=> 'PT5M'\n   * @example Duration.fromObject({ milliseconds: 6 }).toISO() //=> 'PT0.006S'\n   * @return {string}\n   */\n  toISO() {\n    // we could use the formatter, but this is an easier way to get the minimum string\n    if (!this.isValid) return null;\n\n    let s = \"P\";\n    if (this.years !== 0) s += this.years + \"Y\";\n    if (this.months !== 0 || this.quarters !== 0) s += this.months + this.quarters * 3 + \"M\";\n    if (this.weeks !== 0) s += this.weeks + \"W\";\n    if (this.days !== 0) s += this.days + \"D\";\n    if (this.hours !== 0 || this.minutes !== 0 || this.seconds !== 0 || this.milliseconds !== 0)\n      s += \"T\";\n    if (this.hours !== 0) s += this.hours + \"H\";\n    if (this.minutes !== 0) s += this.minutes + \"M\";\n    if (this.seconds !== 0 || this.milliseconds !== 0)\n      // this will handle \"floating point madness\" by removing extra decimal places\n      // https://stackoverflow.com/questions/588004/is-floating-point-math-broken\n      s += roundTo(this.seconds + this.milliseconds / 1000, 3) + \"S\";\n    if (s === \"P\") s += \"T0S\";\n    return s;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration, formatted as a time of day.\n   * Note that this will return null if the duration is invalid, negative, or equal to or greater than 24 hours.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includePrefix=false] - include the `T` prefix\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example Duration.fromObject({ hours: 11 }).toISOTime() //=> '11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressMilliseconds: true }) //=> '11:00:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressSeconds: true }) //=> '11:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ includePrefix: true }) //=> 'T11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ format: 'basic' }) //=> '110000.000'\n   * @return {string}\n   */\n  toISOTime(opts = {}) {\n    if (!this.isValid) return null;\n\n    const millis = this.toMillis();\n    if (millis < 0 || millis >= 86400000) return null;\n\n    opts = {\n      suppressMilliseconds: false,\n      suppressSeconds: false,\n      includePrefix: false,\n      format: \"extended\",\n      ...opts,\n    };\n\n    const value = this.shiftTo(\"hours\", \"minutes\", \"seconds\", \"milliseconds\");\n\n    let fmt = opts.format === \"basic\" ? \"hhmm\" : \"hh:mm\";\n\n    if (!opts.suppressSeconds || value.seconds !== 0 || value.milliseconds !== 0) {\n      fmt += opts.format === \"basic\" ? \"ss\" : \":ss\";\n      if (!opts.suppressMilliseconds || value.milliseconds !== 0) {\n        fmt += \".SSS\";\n      }\n    }\n\n    let str = value.toFormat(fmt);\n\n    if (opts.includePrefix) {\n      str = \"T\" + str;\n    }\n\n    return str;\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in JSON.\n   * @return {string}\n   */\n  toJSON() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in debugging.\n   * @return {string}\n   */\n  toString() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns an milliseconds value of this Duration.\n   * @return {number}\n   */\n  toMillis() {\n    return this.as(\"milliseconds\");\n  }\n\n  /**\n   * Returns an milliseconds value of this Duration. Alias of {@link toMillis}\n   * @return {number}\n   */\n  valueOf() {\n    return this.toMillis();\n  }\n\n  /**\n   * Make this Duration longer by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to add. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  plus(duration) {\n    if (!this.isValid) return this;\n\n    const dur = Duration.fromDurationLike(duration),\n      result = {};\n\n    for (const k of orderedUnits) {\n      if (hasOwnProperty(dur.values, k) || hasOwnProperty(this.values, k)) {\n        result[k] = dur.get(k) + this.get(k);\n      }\n    }\n\n    return clone(this, { values: result }, true);\n  }\n\n  /**\n   * Make this Duration shorter by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to subtract. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  minus(duration) {\n    if (!this.isValid) return this;\n\n    const dur = Duration.fromDurationLike(duration);\n    return this.plus(dur.negate());\n  }\n\n  /**\n   * Scale this Duration by the specified amount. Return a newly-constructed Duration.\n   * @param {function} fn - The function to apply to each unit. Arity is 1 or 2: the value of the unit and, optionally, the unit name. Must return a number.\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnits(x => x * 2) //=> { hours: 2, minutes: 60 }\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnits((x, u) => u === \"hour\" ? x * 2 : x) //=> { hours: 2, minutes: 30 }\n   * @return {Duration}\n   */\n  mapUnits(fn) {\n    if (!this.isValid) return this;\n    const result = {};\n    for (const k of Object.keys(this.values)) {\n      result[k] = asNumber(fn(this.values[k], k));\n    }\n    return clone(this, { values: result }, true);\n  }\n\n  /**\n   * Get the value of unit.\n   * @param {string} unit - a unit such as 'minute' or 'day'\n   * @example Duration.fromObject({years: 2, days: 3}).get('years') //=> 2\n   * @example Duration.fromObject({years: 2, days: 3}).get('months') //=> 0\n   * @example Duration.fromObject({years: 2, days: 3}).get('days') //=> 3\n   * @return {number}\n   */\n  get(unit) {\n    return this[Duration.normalizeUnit(unit)];\n  }\n\n  /**\n   * \"Set\" the values of specified units. Return a newly-constructed Duration.\n   * @param {Object} values - a mapping of units to numbers\n   * @example dur.set({ years: 2017 })\n   * @example dur.set({ hours: 8, minutes: 30 })\n   * @return {Duration}\n   */\n  set(values) {\n    if (!this.isValid) return this;\n\n    const mixed = { ...this.values, ...normalizeObject(values, Duration.normalizeUnit) };\n    return clone(this, { values: mixed });\n  }\n\n  /**\n   * \"Set\" the locale and/or numberingSystem.  Returns a newly-constructed Duration.\n   * @example dur.reconfigure({ locale: 'en-GB' })\n   * @return {Duration}\n   */\n  reconfigure({ locale, numberingSystem, conversionAccuracy } = {}) {\n    const loc = this.loc.clone({ locale, numberingSystem }),\n      opts = { loc };\n\n    if (conversionAccuracy) {\n      opts.conversionAccuracy = conversionAccuracy;\n    }\n\n    return clone(this, opts);\n  }\n\n  /**\n   * Return the length of the duration in the specified unit.\n   * @param {string} unit - a unit such as 'minutes' or 'days'\n   * @example Duration.fromObject({years: 1}).as('days') //=> 365\n   * @example Duration.fromObject({years: 1}).as('months') //=> 12\n   * @example Duration.fromObject({hours: 60}).as('days') //=> 2.5\n   * @return {number}\n   */\n  as(unit) {\n    return this.isValid ? this.shiftTo(unit).get(unit) : NaN;\n  }\n\n  /**\n   * Reduce this Duration to its canonical representation in its current units.\n   * @example Duration.fromObject({ years: 2, days: 5000 }).normalize().toObject() //=> { years: 15, days: 255 }\n   * @example Duration.fromObject({ hours: 12, minutes: -45 }).normalize().toObject() //=> { hours: 11, minutes: 15 }\n   * @return {Duration}\n   */\n  normalize() {\n    if (!this.isValid) return this;\n    const vals = this.toObject();\n    normalizeValues(this.matrix, vals);\n    return clone(this, { values: vals }, true);\n  }\n\n  /**\n   * Convert this Duration into its representation in a different set of units.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).shiftTo('minutes', 'milliseconds').toObject() //=> { minutes: 60, milliseconds: 30000 }\n   * @return {Duration}\n   */\n  shiftTo(...units) {\n    if (!this.isValid) return this;\n\n    if (units.length === 0) {\n      return this;\n    }\n\n    units = units.map((u) => Duration.normalizeUnit(u));\n\n    const built = {},\n      accumulated = {},\n      vals = this.toObject();\n    let lastUnit;\n\n    for (const k of orderedUnits) {\n      if (units.indexOf(k) >= 0) {\n        lastUnit = k;\n\n        let own = 0;\n\n        // anything we haven't boiled down yet should get boiled to this unit\n        for (const ak in accumulated) {\n          own += this.matrix[ak][k] * accumulated[ak];\n          accumulated[ak] = 0;\n        }\n\n        // plus anything that's already in this unit\n        if (isNumber(vals[k])) {\n          own += vals[k];\n        }\n\n        const i = Math.trunc(own);\n        built[k] = i;\n        accumulated[k] = (own * 1000 - i * 1000) / 1000;\n\n        // plus anything further down the chain that should be rolled up in to this\n        for (const down in vals) {\n          if (orderedUnits.indexOf(down) > orderedUnits.indexOf(k)) {\n            convert(this.matrix, vals, down, built, k);\n          }\n        }\n        // otherwise, keep it in the wings to boil it later\n      } else if (isNumber(vals[k])) {\n        accumulated[k] = vals[k];\n      }\n    }\n\n    // anything leftover becomes the decimal for the last unit\n    // lastUnit must be defined since units is not empty\n    for (const key in accumulated) {\n      if (accumulated[key] !== 0) {\n        built[lastUnit] +=\n          key === lastUnit ? accumulated[key] : accumulated[key] / this.matrix[lastUnit][key];\n      }\n    }\n\n    return clone(this, { values: built }, true).normalize();\n  }\n\n  /**\n   * Return the negative of this Duration.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).negate().toObject() //=> { hours: -1, seconds: -30 }\n   * @return {Duration}\n   */\n  negate() {\n    if (!this.isValid) return this;\n    const negated = {};\n    for (const k of Object.keys(this.values)) {\n      negated[k] = this.values[k] === 0 ? 0 : -this.values[k];\n    }\n    return clone(this, { values: negated }, true);\n  }\n\n  /**\n   * Get the years.\n   * @type {number}\n   */\n  get years() {\n    return this.isValid ? this.values.years || 0 : NaN;\n  }\n\n  /**\n   * Get the quarters.\n   * @type {number}\n   */\n  get quarters() {\n    return this.isValid ? this.values.quarters || 0 : NaN;\n  }\n\n  /**\n   * Get the months.\n   * @type {number}\n   */\n  get months() {\n    return this.isValid ? this.values.months || 0 : NaN;\n  }\n\n  /**\n   * Get the weeks\n   * @type {number}\n   */\n  get weeks() {\n    return this.isValid ? this.values.weeks || 0 : NaN;\n  }\n\n  /**\n   * Get the days.\n   * @type {number}\n   */\n  get days() {\n    return this.isValid ? this.values.days || 0 : NaN;\n  }\n\n  /**\n   * Get the hours.\n   * @type {number}\n   */\n  get hours() {\n    return this.isValid ? this.values.hours || 0 : NaN;\n  }\n\n  /**\n   * Get the minutes.\n   * @type {number}\n   */\n  get minutes() {\n    return this.isValid ? this.values.minutes || 0 : NaN;\n  }\n\n  /**\n   * Get the seconds.\n   * @return {number}\n   */\n  get seconds() {\n    return this.isValid ? this.values.seconds || 0 : NaN;\n  }\n\n  /**\n   * Get the milliseconds.\n   * @return {number}\n   */\n  get milliseconds() {\n    return this.isValid ? this.values.milliseconds || 0 : NaN;\n  }\n\n  /**\n   * Returns whether the Duration is invalid. Invalid durations are returned by diff operations\n   * on invalid DateTimes or Intervals.\n   * @return {boolean}\n   */\n  get isValid() {\n    return this.invalid === null;\n  }\n\n  /**\n   * Returns an error code if this Duration became invalid, or null if the Duration is valid\n   * @return {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this Duration became invalid, or null if the Duration is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Equality check\n   * Two Durations are equal iff they have the same units and the same values for each unit.\n   * @param {Duration} other\n   * @return {boolean}\n   */\n  equals(other) {\n    if (!this.isValid || !other.isValid) {\n      return false;\n    }\n\n    if (!this.loc.equals(other.loc)) {\n      return false;\n    }\n\n    function eq(v1, v2) {\n      // Consider 0 and undefined as equal\n      if (v1 === undefined || v1 === 0) return v2 === undefined || v2 === 0;\n      return v1 === v2;\n    }\n\n    for (const u of orderedUnits) {\n      if (!eq(this.values[u], other.values[u])) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","import DateTime, { friendlyDateTime } from \"./datetime.js\";\nimport Duration from \"./duration.js\";\nimport Settings from \"./settings.js\";\nimport { InvalidArgumentError, InvalidIntervalError } from \"./errors.js\";\nimport Invalid from \"./impl/invalid.js\";\n\nconst INVALID = \"Invalid Interval\";\n\n// checks if the start is equal to or before the end\nfunction validateStartEnd(start, end) {\n  if (!start || !start.isValid) {\n    return Interval.invalid(\"missing or invalid start\");\n  } else if (!end || !end.isValid) {\n    return Interval.invalid(\"missing or invalid end\");\n  } else if (end < start) {\n    return Interval.invalid(\n      \"end before start\",\n      `The end of an interval must be after its start, but you had start=${start.toISO()} and end=${end.toISO()}`\n    );\n  } else {\n    return null;\n  }\n}\n\n/**\n * An Interval object represents a half-open interval of time, where each endpoint is a {@link DateTime}. Conceptually, it's a container for those two endpoints, accompanied by methods for creating, parsing, interrogating, comparing, transforming, and formatting them.\n *\n * Here is a brief overview of the most commonly used methods and getters in Interval:\n *\n * * **Creation** To create an Interval, use {@link Interval#fromDateTimes}, {@link Interval#after}, {@link Interval#before}, or {@link Interval#fromISO}.\n * * **Accessors** Use {@link Interval#start} and {@link Interval#end} to get the start and end.\n * * **Interrogation** To analyze the Interval, use {@link Interval#count}, {@link Interval#length}, {@link Interval#hasSame}, {@link Interval#contains}, {@link Interval#isAfter}, or {@link Interval#isBefore}.\n * * **Transformation** To create other Intervals out of this one, use {@link Interval#set}, {@link Interval#splitAt}, {@link Interval#splitBy}, {@link Interval#divideEqually}, {@link Interval#merge}, {@link Interval#xor}, {@link Interval#union}, {@link Interval#intersection}, or {@link Interval#difference}.\n * * **Comparison** To compare this Interval to another one, use {@link Interval#equals}, {@link Interval#overlaps}, {@link Interval#abutsStart}, {@link Interval#abutsEnd}, {@link Interval#engulfs}\n * * **Output** To convert the Interval into other representations, see {@link Interval#toString}, {@link Interval#toISO}, {@link Interval#toISODate}, {@link Interval#toISOTime}, {@link Interval#toFormat}, and {@link Interval#toDuration}.\n */\nexport default class Interval {\n  /**\n   * @private\n   */\n  constructor(config) {\n    /**\n     * @access private\n     */\n    this.s = config.start;\n    /**\n     * @access private\n     */\n    this.e = config.end;\n    /**\n     * @access private\n     */\n    this.invalid = config.invalid || null;\n    /**\n     * @access private\n     */\n    this.isLuxonInterval = true;\n  }\n\n  /**\n   * Create an invalid Interval.\n   * @param {string} reason - simple string of why this Interval is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {Interval}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the Interval is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidIntervalError(invalid);\n    } else {\n      return new Interval({ invalid });\n    }\n  }\n\n  /**\n   * Create an Interval from a start DateTime and an end DateTime. Inclusive of the start but not the end.\n   * @param {DateTime|Date|Object} start\n   * @param {DateTime|Date|Object} end\n   * @return {Interval}\n   */\n  static fromDateTimes(start, end) {\n    const builtStart = friendlyDateTime(start),\n      builtEnd = friendlyDateTime(end);\n\n    const validateError = validateStartEnd(builtStart, builtEnd);\n\n    if (validateError == null) {\n      return new Interval({\n        start: builtStart,\n        end: builtEnd,\n      });\n    } else {\n      return validateError;\n    }\n  }\n\n  /**\n   * Create an Interval from a start DateTime and a Duration to extend to.\n   * @param {DateTime|Date|Object} start\n   * @param {Duration|Object|number} duration - the length of the Interval.\n   * @return {Interval}\n   */\n  static after(start, duration) {\n    const dur = Duration.fromDurationLike(duration),\n      dt = friendlyDateTime(start);\n    return Interval.fromDateTimes(dt, dt.plus(dur));\n  }\n\n  /**\n   * Create an Interval from an end DateTime and a Duration to extend backwards to.\n   * @param {DateTime|Date|Object} end\n   * @param {Duration|Object|number} duration - the length of the Interval.\n   * @return {Interval}\n   */\n  static before(end, duration) {\n    const dur = Duration.fromDurationLike(duration),\n      dt = friendlyDateTime(end);\n    return Interval.fromDateTimes(dt.minus(dur), dt);\n  }\n\n  /**\n   * Create an Interval from an ISO 8601 string.\n   * Accepts `<start>/<end>`, `<start>/<duration>`, and `<duration>/<end>` formats.\n   * @param {string} text - the ISO string to parse\n   * @param {Object} [opts] - options to pass {@link DateTime#fromISO} and optionally {@link Duration#fromISO}\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @return {Interval}\n   */\n  static fromISO(text, opts) {\n    const [s, e] = (text || \"\").split(\"/\", 2);\n    if (s && e) {\n      let start, startIsValid;\n      try {\n        start = DateTime.fromISO(s, opts);\n        startIsValid = start.isValid;\n      } catch (e) {\n        startIsValid = false;\n      }\n\n      let end, endIsValid;\n      try {\n        end = DateTime.fromISO(e, opts);\n        endIsValid = end.isValid;\n      } catch (e) {\n        endIsValid = false;\n      }\n\n      if (startIsValid && endIsValid) {\n        return Interval.fromDateTimes(start, end);\n      }\n\n      if (startIsValid) {\n        const dur = Duration.fromISO(e, opts);\n        if (dur.isValid) {\n          return Interval.after(start, dur);\n        }\n      } else if (endIsValid) {\n        const dur = Duration.fromISO(s, opts);\n        if (dur.isValid) {\n          return Interval.before(end, dur);\n        }\n      }\n    }\n    return Interval.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n  }\n\n  /**\n   * Check if an object is an Interval. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isInterval(o) {\n    return (o && o.isLuxonInterval) || false;\n  }\n\n  /**\n   * Returns the start of the Interval\n   * @type {DateTime}\n   */\n  get start() {\n    return this.isValid ? this.s : null;\n  }\n\n  /**\n   * Returns the end of the Interval\n   * @type {DateTime}\n   */\n  get end() {\n    return this.isValid ? this.e : null;\n  }\n\n  /**\n   * Returns whether this Interval's end is at least its start, meaning that the Interval isn't 'backwards'.\n   * @type {boolean}\n   */\n  get isValid() {\n    return this.invalidReason === null;\n  }\n\n  /**\n   * Returns an error code if this Interval is invalid, or null if the Interval is valid\n   * @type {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this Interval became invalid, or null if the Interval is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Returns the length of the Interval in the specified unit.\n   * @param {string} unit - the unit (such as 'hours' or 'days') to return the length in.\n   * @return {number}\n   */\n  length(unit = \"milliseconds\") {\n    return this.isValid ? this.toDuration(...[unit]).get(unit) : NaN;\n  }\n\n  /**\n   * Returns the count of minutes, hours, days, months, or years included in the Interval, even in part.\n   * Unlike {@link Interval#length} this counts sections of the calendar, not periods of time, e.g. specifying 'day'\n   * asks 'what dates are included in this interval?', not 'how many days long is this interval?'\n   * @param {string} [unit='milliseconds'] - the unit of time to count.\n   * @return {number}\n   */\n  count(unit = \"milliseconds\") {\n    if (!this.isValid) return NaN;\n    const start = this.start.startOf(unit),\n      end = this.end.startOf(unit);\n    return Math.floor(end.diff(start, unit).get(unit)) + 1;\n  }\n\n  /**\n   * Returns whether this Interval's start and end are both in the same unit of time\n   * @param {string} unit - the unit of time to check sameness on\n   * @return {boolean}\n   */\n  hasSame(unit) {\n    return this.isValid ? this.isEmpty() || this.e.minus(1).hasSame(this.s, unit) : false;\n  }\n\n  /**\n   * Return whether this Interval has the same start and end DateTimes.\n   * @return {boolean}\n   */\n  isEmpty() {\n    return this.s.valueOf() === this.e.valueOf();\n  }\n\n  /**\n   * Return whether this Interval's start is after the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  isAfter(dateTime) {\n    if (!this.isValid) return false;\n    return this.s > dateTime;\n  }\n\n  /**\n   * Return whether this Interval's end is before the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  isBefore(dateTime) {\n    if (!this.isValid) return false;\n    return this.e <= dateTime;\n  }\n\n  /**\n   * Return whether this Interval contains the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  contains(dateTime) {\n    if (!this.isValid) return false;\n    return this.s <= dateTime && this.e > dateTime;\n  }\n\n  /**\n   * \"Sets\" the start and/or end dates. Returns a newly-constructed Interval.\n   * @param {Object} values - the values to set\n   * @param {DateTime} values.start - the starting DateTime\n   * @param {DateTime} values.end - the ending DateTime\n   * @return {Interval}\n   */\n  set({ start, end } = {}) {\n    if (!this.isValid) return this;\n    return Interval.fromDateTimes(start || this.s, end || this.e);\n  }\n\n  /**\n   * Split this Interval at each of the specified DateTimes\n   * @param {...DateTime} dateTimes - the unit of time to count.\n   * @return {Array}\n   */\n  splitAt(...dateTimes) {\n    if (!this.isValid) return [];\n    const sorted = dateTimes\n        .map(friendlyDateTime)\n        .filter((d) => this.contains(d))\n        .sort(),\n      results = [];\n    let { s } = this,\n      i = 0;\n\n    while (s < this.e) {\n      const added = sorted[i] || this.e,\n        next = +added > +this.e ? this.e : added;\n      results.push(Interval.fromDateTimes(s, next));\n      s = next;\n      i += 1;\n    }\n\n    return results;\n  }\n\n  /**\n   * Split this Interval into smaller Intervals, each of the specified length.\n   * Left over time is grouped into a smaller interval\n   * @param {Duration|Object|number} duration - The length of each resulting interval.\n   * @return {Array}\n   */\n  splitBy(duration) {\n    const dur = Duration.fromDurationLike(duration);\n\n    if (!this.isValid || !dur.isValid || dur.as(\"milliseconds\") === 0) {\n      return [];\n    }\n\n    let { s } = this,\n      idx = 1,\n      next;\n\n    const results = [];\n    while (s < this.e) {\n      const added = this.start.plus(dur.mapUnits((x) => x * idx));\n      next = +added > +this.e ? this.e : added;\n      results.push(Interval.fromDateTimes(s, next));\n      s = next;\n      idx += 1;\n    }\n\n    return results;\n  }\n\n  /**\n   * Split this Interval into the specified number of smaller intervals.\n   * @param {number} numberOfParts - The number of Intervals to divide the Interval into.\n   * @return {Array}\n   */\n  divideEqually(numberOfParts) {\n    if (!this.isValid) return [];\n    return this.splitBy(this.length() / numberOfParts).slice(0, numberOfParts);\n  }\n\n  /**\n   * Return whether this Interval overlaps with the specified Interval\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  overlaps(other) {\n    return this.e > other.s && this.s < other.e;\n  }\n\n  /**\n   * Return whether this Interval's end is adjacent to the specified Interval's start.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  abutsStart(other) {\n    if (!this.isValid) return false;\n    return +this.e === +other.s;\n  }\n\n  /**\n   * Return whether this Interval's start is adjacent to the specified Interval's end.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  abutsEnd(other) {\n    if (!this.isValid) return false;\n    return +other.e === +this.s;\n  }\n\n  /**\n   * Return whether this Interval engulfs the start and end of the specified Interval.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  engulfs(other) {\n    if (!this.isValid) return false;\n    return this.s <= other.s && this.e >= other.e;\n  }\n\n  /**\n   * Return whether this Interval has the same start and end as the specified Interval.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  equals(other) {\n    if (!this.isValid || !other.isValid) {\n      return false;\n    }\n\n    return this.s.equals(other.s) && this.e.equals(other.e);\n  }\n\n  /**\n   * Return an Interval representing the intersection of this Interval and the specified Interval.\n   * Specifically, the resulting Interval has the maximum start time and the minimum end time of the two Intervals.\n   * Returns null if the intersection is empty, meaning, the intervals don't intersect.\n   * @param {Interval} other\n   * @return {Interval}\n   */\n  intersection(other) {\n    if (!this.isValid) return this;\n    const s = this.s > other.s ? this.s : other.s,\n      e = this.e < other.e ? this.e : other.e;\n\n    if (s >= e) {\n      return null;\n    } else {\n      return Interval.fromDateTimes(s, e);\n    }\n  }\n\n  /**\n   * Return an Interval representing the union of this Interval and the specified Interval.\n   * Specifically, the resulting Interval has the minimum start time and the maximum end time of the two Intervals.\n   * @param {Interval} other\n   * @return {Interval}\n   */\n  union(other) {\n    if (!this.isValid) return this;\n    const s = this.s < other.s ? this.s : other.s,\n      e = this.e > other.e ? this.e : other.e;\n    return Interval.fromDateTimes(s, e);\n  }\n\n  /**\n   * Merge an array of Intervals into a equivalent minimal set of Intervals.\n   * Combines overlapping and adjacent Intervals.\n   * @param {Array} intervals\n   * @return {Array}\n   */\n  static merge(intervals) {\n    const [found, final] = intervals\n      .sort((a, b) => a.s - b.s)\n      .reduce(\n        ([sofar, current], item) => {\n          if (!current) {\n            return [sofar, item];\n          } else if (current.overlaps(item) || current.abutsStart(item)) {\n            return [sofar, current.union(item)];\n          } else {\n            return [sofar.concat([current]), item];\n          }\n        },\n        [[], null]\n      );\n    if (final) {\n      found.push(final);\n    }\n    return found;\n  }\n\n  /**\n   * Return an array of Intervals representing the spans of time that only appear in one of the specified Intervals.\n   * @param {Array} intervals\n   * @return {Array}\n   */\n  static xor(intervals) {\n    let start = null,\n      currentCount = 0;\n    const results = [],\n      ends = intervals.map((i) => [\n        { time: i.s, type: \"s\" },\n        { time: i.e, type: \"e\" },\n      ]),\n      flattened = Array.prototype.concat(...ends),\n      arr = flattened.sort((a, b) => a.time - b.time);\n\n    for (const i of arr) {\n      currentCount += i.type === \"s\" ? 1 : -1;\n\n      if (currentCount === 1) {\n        start = i.time;\n      } else {\n        if (start && +start !== +i.time) {\n          results.push(Interval.fromDateTimes(start, i.time));\n        }\n\n        start = null;\n      }\n    }\n\n    return Interval.merge(results);\n  }\n\n  /**\n   * Return an Interval representing the span of time in this Interval that doesn't overlap with any of the specified Intervals.\n   * @param {...Interval} intervals\n   * @return {Array}\n   */\n  difference(...intervals) {\n    return Interval.xor([this].concat(intervals))\n      .map((i) => this.intersection(i))\n      .filter((i) => i && !i.isEmpty());\n  }\n\n  /**\n   * Returns a string representation of this Interval appropriate for debugging.\n   * @return {string}\n   */\n  toString() {\n    if (!this.isValid) return INVALID;\n    return `[${this.s.toISO()}  ${this.e.toISO()})`;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Interval.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @param {Object} opts - The same options as {@link DateTime#toISO}\n   * @return {string}\n   */\n  toISO(opts) {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toISO(opts)}/${this.e.toISO(opts)}`;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of date of this Interval.\n   * The time components are ignored.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @return {string}\n   */\n  toISODate() {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toISODate()}/${this.e.toISODate()}`;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of time of this Interval.\n   * The date components are ignored.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @param {Object} opts - The same options as {@link DateTime#toISO}\n   * @return {string}\n   */\n  toISOTime(opts) {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toISOTime(opts)}/${this.e.toISOTime(opts)}`;\n  }\n\n  /**\n   * Returns a string representation of this Interval formatted according to the specified format string.\n   * @param {string} dateFormat - the format string. This string formats the start and end time. See {@link DateTime#toFormat} for details.\n   * @param {Object} opts - options\n   * @param {string} [opts.separator =  '  '] - a separator to place between the start and end representations\n   * @return {string}\n   */\n  toFormat(dateFormat, { separator = \"  \" } = {}) {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toFormat(dateFormat)}${separator}${this.e.toFormat(dateFormat)}`;\n  }\n\n  /**\n   * Return a Duration representing the time spanned by this interval.\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or units (such as 'hours' or 'days') to include in the duration.\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration().toObject() //=> { milliseconds: 88489257 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration('days').toObject() //=> { days: 1.0241812152777778 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration(['hours', 'minutes']).toObject() //=> { hours: 24, minutes: 34.82095 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration(['hours', 'minutes', 'seconds']).toObject() //=> { hours: 24, minutes: 34, seconds: 49.257 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration('seconds').toObject() //=> { seconds: 88489.257 }\n   * @return {Duration}\n   */\n  toDuration(unit, opts) {\n    if (!this.isValid) {\n      return Duration.invalid(this.invalidReason);\n    }\n    return this.e.diff(this.s, unit, opts);\n  }\n\n  /**\n   * Run mapFn on the interval start and end, returning a new Interval from the resulting DateTimes\n   * @param {function} mapFn\n   * @return {Interval}\n   * @example Interval.fromDateTimes(dt1, dt2).mapEndpoints(endpoint => endpoint.toUTC())\n   * @example Interval.fromDateTimes(dt1, dt2).mapEndpoints(endpoint => endpoint.plus({ hours: 2 }))\n   */\n  mapEndpoints(mapFn) {\n    return Interval.fromDateTimes(mapFn(this.s), mapFn(this.e));\n  }\n}\n","import DateTime from \"./datetime.js\";\nimport Settings from \"./settings.js\";\nimport Locale from \"./impl/locale.js\";\nimport IANAZone from \"./zones/IANAZone.js\";\nimport { normalizeZone } from \"./impl/zoneUtil.js\";\n\nimport { hasRelative } from \"./impl/util.js\";\n\n/**\n * The Info class contains static methods for retrieving general time and date related data. For example, it has methods for finding out if a time zone has a DST, for listing the months in any supported locale, and for discovering which of Luxon features are available in the current environment.\n */\nexport default class Info {\n  /**\n   * Return whether the specified zone contains a DST.\n   * @param {string|Zone} [zone='local'] - Zone to check. Defaults to the environment's local zone.\n   * @return {boolean}\n   */\n  static hasDST(zone = Settings.defaultZone) {\n    const proto = DateTime.now().setZone(zone).set({ month: 12 });\n\n    return !zone.isUniversal && proto.offset !== proto.set({ month: 6 }).offset;\n  }\n\n  /**\n   * Return whether the specified zone is a valid IANA specifier.\n   * @param {string} zone - Zone to check\n   * @return {boolean}\n   */\n  static isValidIANAZone(zone) {\n    return IANAZone.isValidZone(zone);\n  }\n\n  /**\n   * Converts the input into a {@link Zone} instance.\n   *\n   * * If `input` is already a Zone instance, it is returned unchanged.\n   * * If `input` is a string containing a valid time zone name, a Zone instance\n   *   with that name is returned.\n   * * If `input` is a string that doesn't refer to a known time zone, a Zone\n   *   instance with {@link Zone#isValid} == false is returned.\n   * * If `input is a number, a Zone instance with the specified fixed offset\n   *   in minutes is returned.\n   * * If `input` is `null` or `undefined`, the default zone is returned.\n   * @param {string|Zone|number} [input] - the value to be converted\n   * @return {Zone}\n   */\n  static normalizeZone(input) {\n    return normalizeZone(input, Settings.defaultZone);\n  }\n\n  /**\n   * Return an array of standalone month names.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {string} [length='long'] - the length of the month representation, such as \"numeric\", \"2-digit\", \"narrow\", \"short\", \"long\"\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @param {string} [opts.outputCalendar='gregory'] - the calendar\n   * @example Info.months()[0] //=> 'January'\n   * @example Info.months('short')[0] //=> 'Jan'\n   * @example Info.months('numeric')[0] //=> '1'\n   * @example Info.months('short', { locale: 'fr-CA' } )[0] //=> 'janv.'\n   * @example Info.months('numeric', { locale: 'ar' })[0] //=> ''\n   * @example Info.months('long', { outputCalendar: 'islamic' })[0] //=> 'Rabi I'\n   * @return {Array}\n   */\n  static months(\n    length = \"long\",\n    { locale = null, numberingSystem = null, locObj = null, outputCalendar = \"gregory\" } = {}\n  ) {\n    return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length);\n  }\n\n  /**\n   * Return an array of format month names.\n   * Format months differ from standalone months in that they're meant to appear next to the day of the month. In some languages, that\n   * changes the string.\n   * See {@link Info#months}\n   * @param {string} [length='long'] - the length of the month representation, such as \"numeric\", \"2-digit\", \"narrow\", \"short\", \"long\"\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @param {string} [opts.outputCalendar='gregory'] - the calendar\n   * @return {Array}\n   */\n  static monthsFormat(\n    length = \"long\",\n    { locale = null, numberingSystem = null, locObj = null, outputCalendar = \"gregory\" } = {}\n  ) {\n    return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length, true);\n  }\n\n  /**\n   * Return an array of standalone week names.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {string} [length='long'] - the length of the weekday representation, such as \"narrow\", \"short\", \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @example Info.weekdays()[0] //=> 'Monday'\n   * @example Info.weekdays('short')[0] //=> 'Mon'\n   * @example Info.weekdays('short', { locale: 'fr-CA' })[0] //=> 'lun.'\n   * @example Info.weekdays('short', { locale: 'ar' })[0] //=> ''\n   * @return {Array}\n   */\n  static weekdays(length = \"long\", { locale = null, numberingSystem = null, locObj = null } = {}) {\n    return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length);\n  }\n\n  /**\n   * Return an array of format week names.\n   * Format weekdays differ from standalone weekdays in that they're meant to appear next to more date information. In some languages, that\n   * changes the string.\n   * See {@link Info#weekdays}\n   * @param {string} [length='long'] - the length of the month representation, such as \"narrow\", \"short\", \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale=null] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @return {Array}\n   */\n  static weekdaysFormat(\n    length = \"long\",\n    { locale = null, numberingSystem = null, locObj = null } = {}\n  ) {\n    return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length, true);\n  }\n\n  /**\n   * Return an array of meridiems.\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @example Info.meridiems() //=> [ 'AM', 'PM' ]\n   * @example Info.meridiems({ locale: 'my' }) //=> [ '', '' ]\n   * @return {Array}\n   */\n  static meridiems({ locale = null } = {}) {\n    return Locale.create(locale).meridiems();\n  }\n\n  /**\n   * Return an array of eras, such as ['BC', 'AD']. The locale can be specified, but the calendar system is always Gregorian.\n   * @param {string} [length='short'] - the length of the era representation, such as \"short\" or \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @example Info.eras() //=> [ 'BC', 'AD' ]\n   * @example Info.eras('long') //=> [ 'Before Christ', 'Anno Domini' ]\n   * @example Info.eras('long', { locale: 'fr' }) //=> [ 'avant Jsus-Christ', 'aprs Jsus-Christ' ]\n   * @return {Array}\n   */\n  static eras(length = \"short\", { locale = null } = {}) {\n    return Locale.create(locale, null, \"gregory\").eras(length);\n  }\n\n  /**\n   * Return the set of available features in this environment.\n   * Some features of Luxon are not available in all environments. For example, on older browsers, relative time formatting support is not available. Use this function to figure out if that's the case.\n   * Keys:\n   * * `relative`: whether this environment supports relative time formatting\n   * @example Info.features() //=> { relative: false }\n   * @return {Object}\n   */\n  static features() {\n    return { relative: hasRelative() };\n  }\n}\n","import Duration from \"../duration.js\";\n\nfunction dayDiff(earlier, later) {\n  const utcDayStart = (dt) => dt.toUTC(0, { keepLocalTime: true }).startOf(\"day\").valueOf(),\n    ms = utcDayStart(later) - utcDayStart(earlier);\n  return Math.floor(Duration.fromMillis(ms).as(\"days\"));\n}\n\nfunction highOrderDiffs(cursor, later, units) {\n  const differs = [\n    [\"years\", (a, b) => b.year - a.year],\n    [\"quarters\", (a, b) => b.quarter - a.quarter],\n    [\"months\", (a, b) => b.month - a.month + (b.year - a.year) * 12],\n    [\n      \"weeks\",\n      (a, b) => {\n        const days = dayDiff(a, b);\n        return (days - (days % 7)) / 7;\n      },\n    ],\n    [\"days\", dayDiff],\n  ];\n\n  const results = {};\n  let lowestOrder, highWater;\n\n  for (const [unit, differ] of differs) {\n    if (units.indexOf(unit) >= 0) {\n      lowestOrder = unit;\n\n      let delta = differ(cursor, later);\n      highWater = cursor.plus({ [unit]: delta });\n\n      if (highWater > later) {\n        cursor = cursor.plus({ [unit]: delta - 1 });\n        delta -= 1;\n      } else {\n        cursor = highWater;\n      }\n\n      results[unit] = delta;\n    }\n  }\n\n  return [cursor, results, highWater, lowestOrder];\n}\n\nexport default function (earlier, later, units, opts) {\n  let [cursor, results, highWater, lowestOrder] = highOrderDiffs(earlier, later, units);\n\n  const remainingMillis = later - cursor;\n\n  const lowerOrderUnits = units.filter(\n    (u) => [\"hours\", \"minutes\", \"seconds\", \"milliseconds\"].indexOf(u) >= 0\n  );\n\n  if (lowerOrderUnits.length === 0) {\n    if (highWater < later) {\n      highWater = cursor.plus({ [lowestOrder]: 1 });\n    }\n\n    if (highWater !== cursor) {\n      results[lowestOrder] = (results[lowestOrder] || 0) + remainingMillis / (highWater - cursor);\n    }\n  }\n\n  const duration = Duration.fromObject(results, opts);\n\n  if (lowerOrderUnits.length > 0) {\n    return Duration.fromMillis(remainingMillis, opts)\n      .shiftTo(...lowerOrderUnits)\n      .plus(duration);\n  } else {\n    return duration;\n  }\n}\n","const numberingSystems = {\n  arab: \"[\\u0660-\\u0669]\",\n  arabext: \"[\\u06F0-\\u06F9]\",\n  bali: \"[\\u1B50-\\u1B59]\",\n  beng: \"[\\u09E6-\\u09EF]\",\n  deva: \"[\\u0966-\\u096F]\",\n  fullwide: \"[\\uFF10-\\uFF19]\",\n  gujr: \"[\\u0AE6-\\u0AEF]\",\n  hanidec: \"[|||||||||]\",\n  khmr: \"[\\u17E0-\\u17E9]\",\n  knda: \"[\\u0CE6-\\u0CEF]\",\n  laoo: \"[\\u0ED0-\\u0ED9]\",\n  limb: \"[\\u1946-\\u194F]\",\n  mlym: \"[\\u0D66-\\u0D6F]\",\n  mong: \"[\\u1810-\\u1819]\",\n  mymr: \"[\\u1040-\\u1049]\",\n  orya: \"[\\u0B66-\\u0B6F]\",\n  tamldec: \"[\\u0BE6-\\u0BEF]\",\n  telu: \"[\\u0C66-\\u0C6F]\",\n  thai: \"[\\u0E50-\\u0E59]\",\n  tibt: \"[\\u0F20-\\u0F29]\",\n  latn: \"\\\\d\",\n};\n\nconst numberingSystemsUTF16 = {\n  arab: [1632, 1641],\n  arabext: [1776, 1785],\n  bali: [6992, 7001],\n  beng: [2534, 2543],\n  deva: [2406, 2415],\n  fullwide: [65296, 65303],\n  gujr: [2790, 2799],\n  khmr: [6112, 6121],\n  knda: [3302, 3311],\n  laoo: [3792, 3801],\n  limb: [6470, 6479],\n  mlym: [3430, 3439],\n  mong: [6160, 6169],\n  mymr: [4160, 4169],\n  orya: [2918, 2927],\n  tamldec: [3046, 3055],\n  telu: [3174, 3183],\n  thai: [3664, 3673],\n  tibt: [3872, 3881],\n};\n\nconst hanidecChars = numberingSystems.hanidec.replace(/[\\[|\\]]/g, \"\").split(\"\");\n\nexport function parseDigits(str) {\n  let value = parseInt(str, 10);\n  if (isNaN(value)) {\n    value = \"\";\n    for (let i = 0; i < str.length; i++) {\n      const code = str.charCodeAt(i);\n\n      if (str[i].search(numberingSystems.hanidec) !== -1) {\n        value += hanidecChars.indexOf(str[i]);\n      } else {\n        for (const key in numberingSystemsUTF16) {\n          const [min, max] = numberingSystemsUTF16[key];\n          if (code >= min && code <= max) {\n            value += code - min;\n          }\n        }\n      }\n    }\n    return parseInt(value, 10);\n  } else {\n    return value;\n  }\n}\n\nexport function digitRegex({ numberingSystem }, append = \"\") {\n  return new RegExp(`${numberingSystems[numberingSystem || \"latn\"]}${append}`);\n}\n","import { parseMillis, isUndefined, untruncateYear, signedOffset, hasOwnProperty } from \"./util.js\";\nimport Formatter from \"./formatter.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\nimport DateTime from \"../datetime.js\";\nimport { digitRegex, parseDigits } from \"./digits.js\";\nimport { ConflictingSpecificationError } from \"../errors.js\";\n\nconst MISSING_FTP = \"missing Intl.DateTimeFormat.formatToParts support\";\n\nfunction intUnit(regex, post = (i) => i) {\n  return { regex, deser: ([s]) => post(parseDigits(s)) };\n}\n\nconst NBSP = String.fromCharCode(160);\nconst spaceOrNBSP = `[ ${NBSP}]`;\nconst spaceOrNBSPRegExp = new RegExp(spaceOrNBSP, \"g\");\n\nfunction fixListRegex(s) {\n  // make dots optional and also make them literal\n  // make space and non breakable space characters interchangeable\n  return s.replace(/\\./g, \"\\\\.?\").replace(spaceOrNBSPRegExp, spaceOrNBSP);\n}\n\nfunction stripInsensitivities(s) {\n  return s\n    .replace(/\\./g, \"\") // ignore dots that were made optional\n    .replace(spaceOrNBSPRegExp, \" \") // interchange space and nbsp\n    .toLowerCase();\n}\n\nfunction oneOf(strings, startIndex) {\n  if (strings === null) {\n    return null;\n  } else {\n    return {\n      regex: RegExp(strings.map(fixListRegex).join(\"|\")),\n      deser: ([s]) =>\n        strings.findIndex((i) => stripInsensitivities(s) === stripInsensitivities(i)) + startIndex,\n    };\n  }\n}\n\nfunction offset(regex, groups) {\n  return { regex, deser: ([, h, m]) => signedOffset(h, m), groups };\n}\n\nfunction simple(regex) {\n  return { regex, deser: ([s]) => s };\n}\n\nfunction escapeToken(value) {\n  return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n}\n\nfunction unitForToken(token, loc) {\n  const one = digitRegex(loc),\n    two = digitRegex(loc, \"{2}\"),\n    three = digitRegex(loc, \"{3}\"),\n    four = digitRegex(loc, \"{4}\"),\n    six = digitRegex(loc, \"{6}\"),\n    oneOrTwo = digitRegex(loc, \"{1,2}\"),\n    oneToThree = digitRegex(loc, \"{1,3}\"),\n    oneToSix = digitRegex(loc, \"{1,6}\"),\n    oneToNine = digitRegex(loc, \"{1,9}\"),\n    twoToFour = digitRegex(loc, \"{2,4}\"),\n    fourToSix = digitRegex(loc, \"{4,6}\"),\n    literal = (t) => ({ regex: RegExp(escapeToken(t.val)), deser: ([s]) => s, literal: true }),\n    unitate = (t) => {\n      if (token.literal) {\n        return literal(t);\n      }\n      switch (t.val) {\n        // era\n        case \"G\":\n          return oneOf(loc.eras(\"short\", false), 0);\n        case \"GG\":\n          return oneOf(loc.eras(\"long\", false), 0);\n        // years\n        case \"y\":\n          return intUnit(oneToSix);\n        case \"yy\":\n          return intUnit(twoToFour, untruncateYear);\n        case \"yyyy\":\n          return intUnit(four);\n        case \"yyyyy\":\n          return intUnit(fourToSix);\n        case \"yyyyyy\":\n          return intUnit(six);\n        // months\n        case \"M\":\n          return intUnit(oneOrTwo);\n        case \"MM\":\n          return intUnit(two);\n        case \"MMM\":\n          return oneOf(loc.months(\"short\", true, false), 1);\n        case \"MMMM\":\n          return oneOf(loc.months(\"long\", true, false), 1);\n        case \"L\":\n          return intUnit(oneOrTwo);\n        case \"LL\":\n          return intUnit(two);\n        case \"LLL\":\n          return oneOf(loc.months(\"short\", false, false), 1);\n        case \"LLLL\":\n          return oneOf(loc.months(\"long\", false, false), 1);\n        // dates\n        case \"d\":\n          return intUnit(oneOrTwo);\n        case \"dd\":\n          return intUnit(two);\n        // ordinals\n        case \"o\":\n          return intUnit(oneToThree);\n        case \"ooo\":\n          return intUnit(three);\n        // time\n        case \"HH\":\n          return intUnit(two);\n        case \"H\":\n          return intUnit(oneOrTwo);\n        case \"hh\":\n          return intUnit(two);\n        case \"h\":\n          return intUnit(oneOrTwo);\n        case \"mm\":\n          return intUnit(two);\n        case \"m\":\n          return intUnit(oneOrTwo);\n        case \"q\":\n          return intUnit(oneOrTwo);\n        case \"qq\":\n          return intUnit(two);\n        case \"s\":\n          return intUnit(oneOrTwo);\n        case \"ss\":\n          return intUnit(two);\n        case \"S\":\n          return intUnit(oneToThree);\n        case \"SSS\":\n          return intUnit(three);\n        case \"u\":\n          return simple(oneToNine);\n        case \"uu\":\n          return simple(oneOrTwo);\n        case \"uuu\":\n          return intUnit(one);\n        // meridiem\n        case \"a\":\n          return oneOf(loc.meridiems(), 0);\n        // weekYear (k)\n        case \"kkkk\":\n          return intUnit(four);\n        case \"kk\":\n          return intUnit(twoToFour, untruncateYear);\n        // weekNumber (W)\n        case \"W\":\n          return intUnit(oneOrTwo);\n        case \"WW\":\n          return intUnit(two);\n        // weekdays\n        case \"E\":\n        case \"c\":\n          return intUnit(one);\n        case \"EEE\":\n          return oneOf(loc.weekdays(\"short\", false, false), 1);\n        case \"EEEE\":\n          return oneOf(loc.weekdays(\"long\", false, false), 1);\n        case \"ccc\":\n          return oneOf(loc.weekdays(\"short\", true, false), 1);\n        case \"cccc\":\n          return oneOf(loc.weekdays(\"long\", true, false), 1);\n        // offset/zone\n        case \"Z\":\n        case \"ZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(?::(${two.source}))?`), 2);\n        case \"ZZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(${two.source})?`), 2);\n        // we don't support ZZZZ (PST) or ZZZZZ (Pacific Standard Time) in parsing\n        // because we don't have any way to figure out what they are\n        case \"z\":\n          return simple(/[a-z_+-/]{1,256}?/i);\n        default:\n          return literal(t);\n      }\n    };\n\n  const unit = unitate(token) || {\n    invalidReason: MISSING_FTP,\n  };\n\n  unit.token = token;\n\n  return unit;\n}\n\nconst partTypeStyleToTokenVal = {\n  year: {\n    \"2-digit\": \"yy\",\n    numeric: \"yyyyy\",\n  },\n  month: {\n    numeric: \"M\",\n    \"2-digit\": \"MM\",\n    short: \"MMM\",\n    long: \"MMMM\",\n  },\n  day: {\n    numeric: \"d\",\n    \"2-digit\": \"dd\",\n  },\n  weekday: {\n    short: \"EEE\",\n    long: \"EEEE\",\n  },\n  dayperiod: \"a\",\n  dayPeriod: \"a\",\n  hour: {\n    numeric: \"h\",\n    \"2-digit\": \"hh\",\n  },\n  minute: {\n    numeric: \"m\",\n    \"2-digit\": \"mm\",\n  },\n  second: {\n    numeric: \"s\",\n    \"2-digit\": \"ss\",\n  },\n};\n\nfunction tokenForPart(part, locale, formatOpts) {\n  const { type, value } = part;\n\n  if (type === \"literal\") {\n    return {\n      literal: true,\n      val: value,\n    };\n  }\n\n  const style = formatOpts[type];\n\n  let val = partTypeStyleToTokenVal[type];\n  if (typeof val === \"object\") {\n    val = val[style];\n  }\n\n  if (val) {\n    return {\n      literal: false,\n      val,\n    };\n  }\n\n  return undefined;\n}\n\nfunction buildRegex(units) {\n  const re = units.map((u) => u.regex).reduce((f, r) => `${f}(${r.source})`, \"\");\n  return [`^${re}$`, units];\n}\n\nfunction match(input, regex, handlers) {\n  const matches = input.match(regex);\n\n  if (matches) {\n    const all = {};\n    let matchIndex = 1;\n    for (const i in handlers) {\n      if (hasOwnProperty(handlers, i)) {\n        const h = handlers[i],\n          groups = h.groups ? h.groups + 1 : 1;\n        if (!h.literal && h.token) {\n          all[h.token.val[0]] = h.deser(matches.slice(matchIndex, matchIndex + groups));\n        }\n        matchIndex += groups;\n      }\n    }\n    return [matches, all];\n  } else {\n    return [matches, {}];\n  }\n}\n\nfunction dateTimeFromMatches(matches) {\n  const toField = (token) => {\n    switch (token) {\n      case \"S\":\n        return \"millisecond\";\n      case \"s\":\n        return \"second\";\n      case \"m\":\n        return \"minute\";\n      case \"h\":\n      case \"H\":\n        return \"hour\";\n      case \"d\":\n        return \"day\";\n      case \"o\":\n        return \"ordinal\";\n      case \"L\":\n      case \"M\":\n        return \"month\";\n      case \"y\":\n        return \"year\";\n      case \"E\":\n      case \"c\":\n        return \"weekday\";\n      case \"W\":\n        return \"weekNumber\";\n      case \"k\":\n        return \"weekYear\";\n      case \"q\":\n        return \"quarter\";\n      default:\n        return null;\n    }\n  };\n\n  let zone = null;\n  let specificOffset;\n  if (!isUndefined(matches.z)) {\n    zone = IANAZone.create(matches.z);\n  }\n\n  if (!isUndefined(matches.Z)) {\n    if (!zone) {\n      zone = new FixedOffsetZone(matches.Z);\n    }\n    specificOffset = matches.Z;\n  }\n\n  if (!isUndefined(matches.q)) {\n    matches.M = (matches.q - 1) * 3 + 1;\n  }\n\n  if (!isUndefined(matches.h)) {\n    if (matches.h < 12 && matches.a === 1) {\n      matches.h += 12;\n    } else if (matches.h === 12 && matches.a === 0) {\n      matches.h = 0;\n    }\n  }\n\n  if (matches.G === 0 && matches.y) {\n    matches.y = -matches.y;\n  }\n\n  if (!isUndefined(matches.u)) {\n    matches.S = parseMillis(matches.u);\n  }\n\n  const vals = Object.keys(matches).reduce((r, k) => {\n    const f = toField(k);\n    if (f) {\n      r[f] = matches[k];\n    }\n\n    return r;\n  }, {});\n\n  return [vals, zone, specificOffset];\n}\n\nlet dummyDateTimeCache = null;\n\nfunction getDummyDateTime() {\n  if (!dummyDateTimeCache) {\n    dummyDateTimeCache = DateTime.fromMillis(1555555555555);\n  }\n\n  return dummyDateTimeCache;\n}\n\nfunction maybeExpandMacroToken(token, locale) {\n  if (token.literal) {\n    return token;\n  }\n\n  const formatOpts = Formatter.macroTokenToFormatOpts(token.val);\n\n  if (!formatOpts) {\n    return token;\n  }\n\n  const formatter = Formatter.create(locale, formatOpts);\n  const parts = formatter.formatDateTimeParts(getDummyDateTime());\n\n  const tokens = parts.map((p) => tokenForPart(p, locale, formatOpts));\n\n  if (tokens.includes(undefined)) {\n    return token;\n  }\n\n  return tokens;\n}\n\nfunction expandMacroTokens(tokens, locale) {\n  return Array.prototype.concat(...tokens.map((t) => maybeExpandMacroToken(t, locale)));\n}\n\n/**\n * @private\n */\n\nexport function explainFromTokens(locale, input, format) {\n  const tokens = expandMacroTokens(Formatter.parseFormat(format), locale),\n    units = tokens.map((t) => unitForToken(t, locale)),\n    disqualifyingUnit = units.find((t) => t.invalidReason);\n\n  if (disqualifyingUnit) {\n    return { input, tokens, invalidReason: disqualifyingUnit.invalidReason };\n  } else {\n    const [regexString, handlers] = buildRegex(units),\n      regex = RegExp(regexString, \"i\"),\n      [rawMatches, matches] = match(input, regex, handlers),\n      [result, zone, specificOffset] = matches\n        ? dateTimeFromMatches(matches)\n        : [null, null, undefined];\n    if (hasOwnProperty(matches, \"a\") && hasOwnProperty(matches, \"H\")) {\n      throw new ConflictingSpecificationError(\n        \"Can't include meridiem when specifying 24-hour format\"\n      );\n    }\n    return { input, tokens, regex, rawMatches, matches, result, zone, specificOffset };\n  }\n}\n\nexport function parseFromTokens(locale, input, format) {\n  const { result, zone, specificOffset, invalidReason } = explainFromTokens(locale, input, format);\n  return [result, zone, specificOffset, invalidReason];\n}\n","import {\n  integerBetween,\n  isLeapYear,\n  timeObject,\n  daysInYear,\n  daysInMonth,\n  weeksInWeekYear,\n  isInteger,\n} from \"./util.js\";\nimport Invalid from \"./invalid.js\";\n\nconst nonLeapLadder = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334],\n  leapLadder = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];\n\nfunction unitOutOfRange(unit, value) {\n  return new Invalid(\n    \"unit out of range\",\n    `you specified ${value} (of type ${typeof value}) as a ${unit}, which is invalid`\n  );\n}\n\nfunction dayOfWeek(year, month, day) {\n  const d = new Date(Date.UTC(year, month - 1, day));\n\n  if (year < 100 && year >= 0) {\n    d.setUTCFullYear(d.getUTCFullYear() - 1900);\n  }\n\n  const js = d.getUTCDay();\n\n  return js === 0 ? 7 : js;\n}\n\nfunction computeOrdinal(year, month, day) {\n  return day + (isLeapYear(year) ? leapLadder : nonLeapLadder)[month - 1];\n}\n\nfunction uncomputeOrdinal(year, ordinal) {\n  const table = isLeapYear(year) ? leapLadder : nonLeapLadder,\n    month0 = table.findIndex((i) => i < ordinal),\n    day = ordinal - table[month0];\n  return { month: month0 + 1, day };\n}\n\n/**\n * @private\n */\n\nexport function gregorianToWeek(gregObj) {\n  const { year, month, day } = gregObj,\n    ordinal = computeOrdinal(year, month, day),\n    weekday = dayOfWeek(year, month, day);\n\n  let weekNumber = Math.floor((ordinal - weekday + 10) / 7),\n    weekYear;\n\n  if (weekNumber < 1) {\n    weekYear = year - 1;\n    weekNumber = weeksInWeekYear(weekYear);\n  } else if (weekNumber > weeksInWeekYear(year)) {\n    weekYear = year + 1;\n    weekNumber = 1;\n  } else {\n    weekYear = year;\n  }\n\n  return { weekYear, weekNumber, weekday, ...timeObject(gregObj) };\n}\n\nexport function weekToGregorian(weekData) {\n  const { weekYear, weekNumber, weekday } = weekData,\n    weekdayOfJan4 = dayOfWeek(weekYear, 1, 4),\n    yearInDays = daysInYear(weekYear);\n\n  let ordinal = weekNumber * 7 + weekday - weekdayOfJan4 - 3,\n    year;\n\n  if (ordinal < 1) {\n    year = weekYear - 1;\n    ordinal += daysInYear(year);\n  } else if (ordinal > yearInDays) {\n    year = weekYear + 1;\n    ordinal -= daysInYear(weekYear);\n  } else {\n    year = weekYear;\n  }\n\n  const { month, day } = uncomputeOrdinal(year, ordinal);\n  return { year, month, day, ...timeObject(weekData) };\n}\n\nexport function gregorianToOrdinal(gregData) {\n  const { year, month, day } = gregData;\n  const ordinal = computeOrdinal(year, month, day);\n  return { year, ordinal, ...timeObject(gregData) };\n}\n\nexport function ordinalToGregorian(ordinalData) {\n  const { year, ordinal } = ordinalData;\n  const { month, day } = uncomputeOrdinal(year, ordinal);\n  return { year, month, day, ...timeObject(ordinalData) };\n}\n\nexport function hasInvalidWeekData(obj) {\n  const validYear = isInteger(obj.weekYear),\n    validWeek = integerBetween(obj.weekNumber, 1, weeksInWeekYear(obj.weekYear)),\n    validWeekday = integerBetween(obj.weekday, 1, 7);\n\n  if (!validYear) {\n    return unitOutOfRange(\"weekYear\", obj.weekYear);\n  } else if (!validWeek) {\n    return unitOutOfRange(\"week\", obj.week);\n  } else if (!validWeekday) {\n    return unitOutOfRange(\"weekday\", obj.weekday);\n  } else return false;\n}\n\nexport function hasInvalidOrdinalData(obj) {\n  const validYear = isInteger(obj.year),\n    validOrdinal = integerBetween(obj.ordinal, 1, daysInYear(obj.year));\n\n  if (!validYear) {\n    return unitOutOfRange(\"year\", obj.year);\n  } else if (!validOrdinal) {\n    return unitOutOfRange(\"ordinal\", obj.ordinal);\n  } else return false;\n}\n\nexport function hasInvalidGregorianData(obj) {\n  const validYear = isInteger(obj.year),\n    validMonth = integerBetween(obj.month, 1, 12),\n    validDay = integerBetween(obj.day, 1, daysInMonth(obj.year, obj.month));\n\n  if (!validYear) {\n    return unitOutOfRange(\"year\", obj.year);\n  } else if (!validMonth) {\n    return unitOutOfRange(\"month\", obj.month);\n  } else if (!validDay) {\n    return unitOutOfRange(\"day\", obj.day);\n  } else return false;\n}\n\nexport function hasInvalidTimeData(obj) {\n  const { hour, minute, second, millisecond } = obj;\n  const validHour =\n      integerBetween(hour, 0, 23) ||\n      (hour === 24 && minute === 0 && second === 0 && millisecond === 0),\n    validMinute = integerBetween(minute, 0, 59),\n    validSecond = integerBetween(second, 0, 59),\n    validMillisecond = integerBetween(millisecond, 0, 999);\n\n  if (!validHour) {\n    return unitOutOfRange(\"hour\", hour);\n  } else if (!validMinute) {\n    return unitOutOfRange(\"minute\", minute);\n  } else if (!validSecond) {\n    return unitOutOfRange(\"second\", second);\n  } else if (!validMillisecond) {\n    return unitOutOfRange(\"millisecond\", millisecond);\n  } else return false;\n}\n","import Duration from \"./duration.js\";\nimport Interval from \"./interval.js\";\nimport Settings from \"./settings.js\";\nimport Info from \"./info.js\";\nimport Formatter from \"./impl/formatter.js\";\nimport FixedOffsetZone from \"./zones/fixedOffsetZone.js\";\nimport Locale from \"./impl/locale.js\";\nimport {\n  isUndefined,\n  maybeArray,\n  isDate,\n  isNumber,\n  bestBy,\n  daysInMonth,\n  daysInYear,\n  isLeapYear,\n  weeksInWeekYear,\n  normalizeObject,\n  roundTo,\n  objToLocalTS,\n  padStart,\n} from \"./impl/util.js\";\nimport { normalizeZone } from \"./impl/zoneUtil.js\";\nimport diff from \"./impl/diff.js\";\nimport { parseRFC2822Date, parseISODate, parseHTTPDate, parseSQL } from \"./impl/regexParser.js\";\nimport { parseFromTokens, explainFromTokens } from \"./impl/tokenParser.js\";\nimport {\n  gregorianToWeek,\n  weekToGregorian,\n  gregorianToOrdinal,\n  ordinalToGregorian,\n  hasInvalidGregorianData,\n  hasInvalidWeekData,\n  hasInvalidOrdinalData,\n  hasInvalidTimeData,\n} from \"./impl/conversions.js\";\nimport * as Formats from \"./impl/formats.js\";\nimport {\n  InvalidArgumentError,\n  ConflictingSpecificationError,\n  InvalidUnitError,\n  InvalidDateTimeError,\n} from \"./errors.js\";\nimport Invalid from \"./impl/invalid.js\";\n\nconst INVALID = \"Invalid DateTime\";\nconst MAX_DATE = 8.64e15;\n\nfunction unsupportedZone(zone) {\n  return new Invalid(\"unsupported zone\", `the zone \"${zone.name}\" is not supported`);\n}\n\n// we cache week data on the DT object and this intermediates the cache\nfunction possiblyCachedWeekData(dt) {\n  if (dt.weekData === null) {\n    dt.weekData = gregorianToWeek(dt.c);\n  }\n  return dt.weekData;\n}\n\n// clone really means, \"make a new object with these modifications\". all \"setters\" really use this\n// to create a new object while only changing some of the properties\nfunction clone(inst, alts) {\n  const current = {\n    ts: inst.ts,\n    zone: inst.zone,\n    c: inst.c,\n    o: inst.o,\n    loc: inst.loc,\n    invalid: inst.invalid,\n  };\n  return new DateTime({ ...current, ...alts, old: current });\n}\n\n// find the right offset a given local time. The o input is our guess, which determines which\n// offset we'll pick in ambiguous cases (e.g. there are two 3 AMs b/c Fallback DST)\nfunction fixOffset(localTS, o, tz) {\n  // Our UTC time is just a guess because our offset is just a guess\n  let utcGuess = localTS - o * 60 * 1000;\n\n  // Test whether the zone matches the offset for this ts\n  const o2 = tz.offset(utcGuess);\n\n  // If so, offset didn't change and we're done\n  if (o === o2) {\n    return [utcGuess, o];\n  }\n\n  // If not, change the ts by the difference in the offset\n  utcGuess -= (o2 - o) * 60 * 1000;\n\n  // If that gives us the local time we want, we're done\n  const o3 = tz.offset(utcGuess);\n  if (o2 === o3) {\n    return [utcGuess, o2];\n  }\n\n  // If it's different, we're in a hole time. The offset has changed, but the we don't adjust the time\n  return [localTS - Math.min(o2, o3) * 60 * 1000, Math.max(o2, o3)];\n}\n\n// convert an epoch timestamp into a calendar object with the given offset\nfunction tsToObj(ts, offset) {\n  ts += offset * 60 * 1000;\n\n  const d = new Date(ts);\n\n  return {\n    year: d.getUTCFullYear(),\n    month: d.getUTCMonth() + 1,\n    day: d.getUTCDate(),\n    hour: d.getUTCHours(),\n    minute: d.getUTCMinutes(),\n    second: d.getUTCSeconds(),\n    millisecond: d.getUTCMilliseconds(),\n  };\n}\n\n// convert a calendar object to a epoch timestamp\nfunction objToTS(obj, offset, zone) {\n  return fixOffset(objToLocalTS(obj), offset, zone);\n}\n\n// create a new DT instance by adding a duration, adjusting for DSTs\nfunction adjustTime(inst, dur) {\n  const oPre = inst.o,\n    year = inst.c.year + Math.trunc(dur.years),\n    month = inst.c.month + Math.trunc(dur.months) + Math.trunc(dur.quarters) * 3,\n    c = {\n      ...inst.c,\n      year,\n      month,\n      day:\n        Math.min(inst.c.day, daysInMonth(year, month)) +\n        Math.trunc(dur.days) +\n        Math.trunc(dur.weeks) * 7,\n    },\n    millisToAdd = Duration.fromObject({\n      years: dur.years - Math.trunc(dur.years),\n      quarters: dur.quarters - Math.trunc(dur.quarters),\n      months: dur.months - Math.trunc(dur.months),\n      weeks: dur.weeks - Math.trunc(dur.weeks),\n      days: dur.days - Math.trunc(dur.days),\n      hours: dur.hours,\n      minutes: dur.minutes,\n      seconds: dur.seconds,\n      milliseconds: dur.milliseconds,\n    }).as(\"milliseconds\"),\n    localTS = objToLocalTS(c);\n\n  let [ts, o] = fixOffset(localTS, oPre, inst.zone);\n\n  if (millisToAdd !== 0) {\n    ts += millisToAdd;\n    // that could have changed the offset by going over a DST, but we want to keep the ts the same\n    o = inst.zone.offset(ts);\n  }\n\n  return { ts, o };\n}\n\n// helper useful in turning the results of parsing into real dates\n// by handling the zone options\nfunction parseDataToDateTime(parsed, parsedZone, opts, format, text, specificOffset) {\n  const { setZone, zone } = opts;\n  if (parsed && Object.keys(parsed).length !== 0) {\n    const interpretationZone = parsedZone || zone,\n      inst = DateTime.fromObject(parsed, {\n        ...opts,\n        zone: interpretationZone,\n        specificOffset,\n      });\n    return setZone ? inst : inst.setZone(zone);\n  } else {\n    return DateTime.invalid(\n      new Invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ${format}`)\n    );\n  }\n}\n\n// if you want to output a technical format (e.g. RFC 2822), this helper\n// helps handle the details\nfunction toTechFormat(dt, format, allowZ = true) {\n  return dt.isValid\n    ? Formatter.create(Locale.create(\"en-US\"), {\n        allowZ,\n        forceSimple: true,\n      }).formatDateTimeFromString(dt, format)\n    : null;\n}\n\nfunction toISODate(o, extended) {\n  const longFormat = o.c.year > 9999 || o.c.year < 0;\n  let c = \"\";\n  if (longFormat && o.c.year >= 0) c += \"+\";\n  c += padStart(o.c.year, longFormat ? 6 : 4);\n\n  if (extended) {\n    c += \"-\";\n    c += padStart(o.c.month);\n    c += \"-\";\n    c += padStart(o.c.day);\n  } else {\n    c += padStart(o.c.month);\n    c += padStart(o.c.day);\n  }\n  return c;\n}\n\nfunction toISOTime(\n  o,\n  extended,\n  suppressSeconds,\n  suppressMilliseconds,\n  includeOffset,\n  extendedZone\n) {\n  let c = padStart(o.c.hour);\n  if (extended) {\n    c += \":\";\n    c += padStart(o.c.minute);\n    if (o.c.second !== 0 || !suppressSeconds) {\n      c += \":\";\n    }\n  } else {\n    c += padStart(o.c.minute);\n  }\n\n  if (o.c.second !== 0 || !suppressSeconds) {\n    c += padStart(o.c.second);\n\n    if (o.c.millisecond !== 0 || !suppressMilliseconds) {\n      c += \".\";\n      c += padStart(o.c.millisecond, 3);\n    }\n  }\n\n  if (includeOffset) {\n    if (o.isOffsetFixed && o.offset === 0 && !extendedZone) {\n      c += \"Z\";\n    } else if (o.o < 0) {\n      c += \"-\";\n      c += padStart(Math.trunc(-o.o / 60));\n      c += \":\";\n      c += padStart(Math.trunc(-o.o % 60));\n    } else {\n      c += \"+\";\n      c += padStart(Math.trunc(o.o / 60));\n      c += \":\";\n      c += padStart(Math.trunc(o.o % 60));\n    }\n  }\n\n  if (extendedZone) {\n    c += \"[\" + o.zone.ianaName + \"]\";\n  }\n  return c;\n}\n\n// defaults for unspecified units in the supported calendars\nconst defaultUnitValues = {\n    month: 1,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  },\n  defaultWeekUnitValues = {\n    weekNumber: 1,\n    weekday: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  },\n  defaultOrdinalUnitValues = {\n    ordinal: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  };\n\n// Units in the supported calendars, sorted by bigness\nconst orderedUnits = [\"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"millisecond\"],\n  orderedWeekUnits = [\n    \"weekYear\",\n    \"weekNumber\",\n    \"weekday\",\n    \"hour\",\n    \"minute\",\n    \"second\",\n    \"millisecond\",\n  ],\n  orderedOrdinalUnits = [\"year\", \"ordinal\", \"hour\", \"minute\", \"second\", \"millisecond\"];\n\n// standardize case and plurality in units\nfunction normalizeUnit(unit) {\n  const normalized = {\n    year: \"year\",\n    years: \"year\",\n    month: \"month\",\n    months: \"month\",\n    day: \"day\",\n    days: \"day\",\n    hour: \"hour\",\n    hours: \"hour\",\n    minute: \"minute\",\n    minutes: \"minute\",\n    quarter: \"quarter\",\n    quarters: \"quarter\",\n    second: \"second\",\n    seconds: \"second\",\n    millisecond: \"millisecond\",\n    milliseconds: \"millisecond\",\n    weekday: \"weekday\",\n    weekdays: \"weekday\",\n    weeknumber: \"weekNumber\",\n    weeksnumber: \"weekNumber\",\n    weeknumbers: \"weekNumber\",\n    weekyear: \"weekYear\",\n    weekyears: \"weekYear\",\n    ordinal: \"ordinal\",\n  }[unit.toLowerCase()];\n\n  if (!normalized) throw new InvalidUnitError(unit);\n\n  return normalized;\n}\n\n// this is a dumbed down version of fromObject() that runs about 60% faster\n// but doesn't do any validation, makes a bunch of assumptions about what units\n// are present, and so on.\nfunction quickDT(obj, opts) {\n  const zone = normalizeZone(opts.zone, Settings.defaultZone),\n    loc = Locale.fromObject(opts),\n    tsNow = Settings.now();\n\n  let ts, o;\n\n  // assume we have the higher-order units\n  if (!isUndefined(obj.year)) {\n    for (const u of orderedUnits) {\n      if (isUndefined(obj[u])) {\n        obj[u] = defaultUnitValues[u];\n      }\n    }\n\n    const invalid = hasInvalidGregorianData(obj) || hasInvalidTimeData(obj);\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    }\n\n    const offsetProvis = zone.offset(tsNow);\n    [ts, o] = objToTS(obj, offsetProvis, zone);\n  } else {\n    ts = tsNow;\n  }\n\n  return new DateTime({ ts, zone, loc, o });\n}\n\nfunction diffRelative(start, end, opts) {\n  const round = isUndefined(opts.round) ? true : opts.round,\n    format = (c, unit) => {\n      c = roundTo(c, round || opts.calendary ? 0 : 2, true);\n      const formatter = end.loc.clone(opts).relFormatter(opts);\n      return formatter.format(c, unit);\n    },\n    differ = (unit) => {\n      if (opts.calendary) {\n        if (!end.hasSame(start, unit)) {\n          return end.startOf(unit).diff(start.startOf(unit), unit).get(unit);\n        } else return 0;\n      } else {\n        return end.diff(start, unit).get(unit);\n      }\n    };\n\n  if (opts.unit) {\n    return format(differ(opts.unit), opts.unit);\n  }\n\n  for (const unit of opts.units) {\n    const count = differ(unit);\n    if (Math.abs(count) >= 1) {\n      return format(count, unit);\n    }\n  }\n  return format(start > end ? -0 : 0, opts.units[opts.units.length - 1]);\n}\n\nfunction lastOpts(argList) {\n  let opts = {},\n    args;\n  if (argList.length > 0 && typeof argList[argList.length - 1] === \"object\") {\n    opts = argList[argList.length - 1];\n    args = Array.from(argList).slice(0, argList.length - 1);\n  } else {\n    args = Array.from(argList);\n  }\n  return [opts, args];\n}\n\n/**\n * A DateTime is an immutable data structure representing a specific date and time and accompanying methods. It contains class and instance methods for creating, parsing, interrogating, transforming, and formatting them.\n *\n * A DateTime comprises of:\n * * A timestamp. Each DateTime instance refers to a specific millisecond of the Unix epoch.\n * * A time zone. Each instance is considered in the context of a specific zone (by default the local system's zone).\n * * Configuration properties that effect how output strings are formatted, such as `locale`, `numberingSystem`, and `outputCalendar`.\n *\n * Here is a brief overview of the most commonly used functionality it provides:\n *\n * * **Creation**: To create a DateTime from its components, use one of its factory class methods: {@link DateTime#local}, {@link DateTime#utc}, and (most flexibly) {@link DateTime#fromObject}. To create one from a standard string format, use {@link DateTime#fromISO}, {@link DateTime#fromHTTP}, and {@link DateTime#fromRFC2822}. To create one from a custom string format, use {@link DateTime#fromFormat}. To create one from a native JS date, use {@link DateTime#fromJSDate}.\n * * **Gregorian calendar and time**: To examine the Gregorian properties of a DateTime individually (i.e as opposed to collectively through {@link DateTime#toObject}), use the {@link DateTime#year}, {@link DateTime#month},\n * {@link DateTime#day}, {@link DateTime#hour}, {@link DateTime#minute}, {@link DateTime#second}, {@link DateTime#millisecond} accessors.\n * * **Week calendar**: For ISO week calendar attributes, see the {@link DateTime#weekYear}, {@link DateTime#weekNumber}, and {@link DateTime#weekday} accessors.\n * * **Configuration** See the {@link DateTime#locale} and {@link DateTime#numberingSystem} accessors.\n * * **Transformation**: To transform the DateTime into other DateTimes, use {@link DateTime#set}, {@link DateTime#reconfigure}, {@link DateTime#setZone}, {@link DateTime#setLocale}, {@link DateTime.plus}, {@link DateTime#minus}, {@link DateTime#endOf}, {@link DateTime#startOf}, {@link DateTime#toUTC}, and {@link DateTime#toLocal}.\n * * **Output**: To convert the DateTime to other representations, use the {@link DateTime#toRelative}, {@link DateTime#toRelativeCalendar}, {@link DateTime#toJSON}, {@link DateTime#toISO}, {@link DateTime#toHTTP}, {@link DateTime#toObject}, {@link DateTime#toRFC2822}, {@link DateTime#toString}, {@link DateTime#toLocaleString}, {@link DateTime#toFormat}, {@link DateTime#toMillis} and {@link DateTime#toJSDate}.\n *\n * There's plenty others documented below. In addition, for more information on subtler topics like internationalization, time zones, alternative calendars, validity, and so on, see the external documentation.\n */\nexport default class DateTime {\n  /**\n   * @access private\n   */\n  constructor(config) {\n    const zone = config.zone || Settings.defaultZone;\n\n    let invalid =\n      config.invalid ||\n      (Number.isNaN(config.ts) ? new Invalid(\"invalid input\") : null) ||\n      (!zone.isValid ? unsupportedZone(zone) : null);\n    /**\n     * @access private\n     */\n    this.ts = isUndefined(config.ts) ? Settings.now() : config.ts;\n\n    let c = null,\n      o = null;\n    if (!invalid) {\n      const unchanged = config.old && config.old.ts === this.ts && config.old.zone.equals(zone);\n\n      if (unchanged) {\n        [c, o] = [config.old.c, config.old.o];\n      } else {\n        const ot = zone.offset(this.ts);\n        c = tsToObj(this.ts, ot);\n        invalid = Number.isNaN(c.year) ? new Invalid(\"invalid input\") : null;\n        c = invalid ? null : c;\n        o = invalid ? null : ot;\n      }\n    }\n\n    /**\n     * @access private\n     */\n    this._zone = zone;\n    /**\n     * @access private\n     */\n    this.loc = config.loc || Locale.create();\n    /**\n     * @access private\n     */\n    this.invalid = invalid;\n    /**\n     * @access private\n     */\n    this.weekData = null;\n    /**\n     * @access private\n     */\n    this.c = c;\n    /**\n     * @access private\n     */\n    this.o = o;\n    /**\n     * @access private\n     */\n    this.isLuxonDateTime = true;\n  }\n\n  // CONSTRUCT\n\n  /**\n   * Create a DateTime for the current instant, in the system's time zone.\n   *\n   * Use Settings to override these default values if needed.\n   * @example DateTime.now().toISO() //~> now in the ISO format\n   * @return {DateTime}\n   */\n  static now() {\n    return new DateTime({});\n  }\n\n  /**\n   * Create a local DateTime\n   * @param {number} [year] - The calendar year. If omitted (as in, call `local()` with no arguments), the current time will be used\n   * @param {number} [month=1] - The month, 1-indexed\n   * @param {number} [day=1] - The day of the month, 1-indexed\n   * @param {number} [hour=0] - The hour of the day, in 24-hour time\n   * @param {number} [minute=0] - The minute of the hour, meaning a number between 0 and 59\n   * @param {number} [second=0] - The second of the minute, meaning a number between 0 and 59\n   * @param {number} [millisecond=0] - The millisecond of the second, meaning a number between 0 and 999\n   * @example DateTime.local()                                  //~> now\n   * @example DateTime.local({ zone: \"America/New_York\" })      //~> now, in US east coast time\n   * @example DateTime.local(2017)                              //~> 2017-01-01T00:00:00\n   * @example DateTime.local(2017, 3)                           //~> 2017-03-01T00:00:00\n   * @example DateTime.local(2017, 3, 12, { locale: \"fr\" })     //~> 2017-03-12T00:00:00, with a French locale\n   * @example DateTime.local(2017, 3, 12, 5)                    //~> 2017-03-12T05:00:00\n   * @example DateTime.local(2017, 3, 12, 5, { zone: \"utc\" })   //~> 2017-03-12T05:00:00, in UTC\n   * @example DateTime.local(2017, 3, 12, 5, 45)                //~> 2017-03-12T05:45:00\n   * @example DateTime.local(2017, 3, 12, 5, 45, 10)            //~> 2017-03-12T05:45:10\n   * @example DateTime.local(2017, 3, 12, 5, 45, 10, 765)       //~> 2017-03-12T05:45:10.765\n   * @return {DateTime}\n   */\n  static local() {\n    const [opts, args] = lastOpts(arguments),\n      [year, month, day, hour, minute, second, millisecond] = args;\n    return quickDT({ year, month, day, hour, minute, second, millisecond }, opts);\n  }\n\n  /**\n   * Create a DateTime in UTC\n   * @param {number} [year] - The calendar year. If omitted (as in, call `utc()` with no arguments), the current time will be used\n   * @param {number} [month=1] - The month, 1-indexed\n   * @param {number} [day=1] - The day of the month\n   * @param {number} [hour=0] - The hour of the day, in 24-hour time\n   * @param {number} [minute=0] - The minute of the hour, meaning a number between 0 and 59\n   * @param {number} [second=0] - The second of the minute, meaning a number between 0 and 59\n   * @param {number} [millisecond=0] - The millisecond of the second, meaning a number between 0 and 999\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} [options.outputCalendar] - the output calendar to set on the resulting DateTime instance\n   * @param {string} [options.numberingSystem] - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.utc()                                              //~> now\n   * @example DateTime.utc(2017)                                          //~> 2017-01-01T00:00:00Z\n   * @example DateTime.utc(2017, 3)                                       //~> 2017-03-01T00:00:00Z\n   * @example DateTime.utc(2017, 3, 12)                                   //~> 2017-03-12T00:00:00Z\n   * @example DateTime.utc(2017, 3, 12, 5)                                //~> 2017-03-12T05:00:00Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45)                            //~> 2017-03-12T05:45:00Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45, { locale: \"fr\" })          //~> 2017-03-12T05:45:00Z with a French locale\n   * @example DateTime.utc(2017, 3, 12, 5, 45, 10)                        //~> 2017-03-12T05:45:10Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45, 10, 765, { locale: \"fr\" }) //~> 2017-03-12T05:45:10.765Z with a French locale\n   * @return {DateTime}\n   */\n  static utc() {\n    const [opts, args] = lastOpts(arguments),\n      [year, month, day, hour, minute, second, millisecond] = args;\n\n    opts.zone = FixedOffsetZone.utcInstance;\n    return quickDT({ year, month, day, hour, minute, second, millisecond }, opts);\n  }\n\n  /**\n   * Create a DateTime from a JavaScript Date object. Uses the default zone.\n   * @param {Date} date - a JavaScript Date object\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @return {DateTime}\n   */\n  static fromJSDate(date, options = {}) {\n    const ts = isDate(date) ? date.valueOf() : NaN;\n    if (Number.isNaN(ts)) {\n      return DateTime.invalid(\"invalid input\");\n    }\n\n    const zoneToUse = normalizeZone(options.zone, Settings.defaultZone);\n    if (!zoneToUse.isValid) {\n      return DateTime.invalid(unsupportedZone(zoneToUse));\n    }\n\n    return new DateTime({\n      ts: ts,\n      zone: zoneToUse,\n      loc: Locale.fromObject(options),\n    });\n  }\n\n  /**\n   * Create a DateTime from a number of milliseconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone.\n   * @param {number} milliseconds - a number of milliseconds since 1970 UTC\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} options.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} options.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  static fromMillis(milliseconds, options = {}) {\n    if (!isNumber(milliseconds)) {\n      throw new InvalidArgumentError(\n        `fromMillis requires a numerical input, but received a ${typeof milliseconds} with value ${milliseconds}`\n      );\n    } else if (milliseconds < -MAX_DATE || milliseconds > MAX_DATE) {\n      // this isn't perfect because because we can still end up out of range because of additional shifting, but it's a start\n      return DateTime.invalid(\"Timestamp out of range\");\n    } else {\n      return new DateTime({\n        ts: milliseconds,\n        zone: normalizeZone(options.zone, Settings.defaultZone),\n        loc: Locale.fromObject(options),\n      });\n    }\n  }\n\n  /**\n   * Create a DateTime from a number of seconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone.\n   * @param {number} seconds - a number of seconds since 1970 UTC\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} options.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} options.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  static fromSeconds(seconds, options = {}) {\n    if (!isNumber(seconds)) {\n      throw new InvalidArgumentError(\"fromSeconds requires a numerical input\");\n    } else {\n      return new DateTime({\n        ts: seconds * 1000,\n        zone: normalizeZone(options.zone, Settings.defaultZone),\n        loc: Locale.fromObject(options),\n      });\n    }\n  }\n\n  /**\n   * Create a DateTime from a JavaScript object with keys like 'year' and 'hour' with reasonable defaults.\n   * @param {Object} obj - the object to create the DateTime from\n   * @param {number} obj.year - a year, such as 1987\n   * @param {number} obj.month - a month, 1-12\n   * @param {number} obj.day - a day of the month, 1-31, depending on the month\n   * @param {number} obj.ordinal - day of the year, 1-365 or 366\n   * @param {number} obj.weekYear - an ISO week year\n   * @param {number} obj.weekNumber - an ISO week number, between 1 and 52 or 53, depending on the year\n   * @param {number} obj.weekday - an ISO weekday, 1-7, where 1 is Monday and 7 is Sunday\n   * @param {number} obj.hour - hour of the day, 0-23\n   * @param {number} obj.minute - minute of the hour, 0-59\n   * @param {number} obj.second - second of the minute, 0-59\n   * @param {number} obj.millisecond - millisecond of the second, 0-999\n   * @param {Object} opts - options for creating this DateTime\n   * @param {string|Zone} [opts.zone='local'] - interpret the numbers in the context of a particular zone. Can take any value taken as the first argument to setZone()\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromObject({ year: 1982, month: 5, day: 25}).toISODate() //=> '1982-05-25'\n   * @example DateTime.fromObject({ year: 1982 }).toISODate() //=> '1982-01-01'\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }) //~> today at 10:26:06\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }, { zone: 'utc' }),\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }, { zone: 'local' })\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }, { zone: 'America/New_York' })\n   * @example DateTime.fromObject({ weekYear: 2016, weekNumber: 2, weekday: 3 }).toISODate() //=> '2016-01-13'\n   * @return {DateTime}\n   */\n  static fromObject(obj, opts = {}) {\n    obj = obj || {};\n    const zoneToUse = normalizeZone(opts.zone, Settings.defaultZone);\n    if (!zoneToUse.isValid) {\n      return DateTime.invalid(unsupportedZone(zoneToUse));\n    }\n\n    const tsNow = Settings.now(),\n      offsetProvis = !isUndefined(opts.specificOffset)\n        ? opts.specificOffset\n        : zoneToUse.offset(tsNow),\n      normalized = normalizeObject(obj, normalizeUnit),\n      containsOrdinal = !isUndefined(normalized.ordinal),\n      containsGregorYear = !isUndefined(normalized.year),\n      containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day),\n      containsGregor = containsGregorYear || containsGregorMD,\n      definiteWeekDef = normalized.weekYear || normalized.weekNumber,\n      loc = Locale.fromObject(opts);\n\n    // cases:\n    // just a weekday -> this week's instance of that weekday, no worries\n    // (gregorian data or ordinal) + (weekYear or weekNumber) -> error\n    // (gregorian month or day) + ordinal -> error\n    // otherwise just use weeks or ordinals or gregorian, depending on what's specified\n\n    if ((containsGregor || containsOrdinal) && definiteWeekDef) {\n      throw new ConflictingSpecificationError(\n        \"Can't mix weekYear/weekNumber units with year/month/day or ordinals\"\n      );\n    }\n\n    if (containsGregorMD && containsOrdinal) {\n      throw new ConflictingSpecificationError(\"Can't mix ordinal dates with month/day\");\n    }\n\n    const useWeekData = definiteWeekDef || (normalized.weekday && !containsGregor);\n\n    // configure ourselves to deal with gregorian dates or week stuff\n    let units,\n      defaultValues,\n      objNow = tsToObj(tsNow, offsetProvis);\n    if (useWeekData) {\n      units = orderedWeekUnits;\n      defaultValues = defaultWeekUnitValues;\n      objNow = gregorianToWeek(objNow);\n    } else if (containsOrdinal) {\n      units = orderedOrdinalUnits;\n      defaultValues = defaultOrdinalUnitValues;\n      objNow = gregorianToOrdinal(objNow);\n    } else {\n      units = orderedUnits;\n      defaultValues = defaultUnitValues;\n    }\n\n    // set default values for missing stuff\n    let foundFirst = false;\n    for (const u of units) {\n      const v = normalized[u];\n      if (!isUndefined(v)) {\n        foundFirst = true;\n      } else if (foundFirst) {\n        normalized[u] = defaultValues[u];\n      } else {\n        normalized[u] = objNow[u];\n      }\n    }\n\n    // make sure the values we have are in range\n    const higherOrderInvalid = useWeekData\n        ? hasInvalidWeekData(normalized)\n        : containsOrdinal\n        ? hasInvalidOrdinalData(normalized)\n        : hasInvalidGregorianData(normalized),\n      invalid = higherOrderInvalid || hasInvalidTimeData(normalized);\n\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    }\n\n    // compute the actual time\n    const gregorian = useWeekData\n        ? weekToGregorian(normalized)\n        : containsOrdinal\n        ? ordinalToGregorian(normalized)\n        : normalized,\n      [tsFinal, offsetFinal] = objToTS(gregorian, offsetProvis, zoneToUse),\n      inst = new DateTime({\n        ts: tsFinal,\n        zone: zoneToUse,\n        o: offsetFinal,\n        loc,\n      });\n\n    // gregorian data + weekday serves only to validate\n    if (normalized.weekday && containsGregor && obj.weekday !== inst.weekday) {\n      return DateTime.invalid(\n        \"mismatched weekday\",\n        `you can't specify both a weekday of ${normalized.weekday} and a date of ${inst.toISO()}`\n      );\n    }\n\n    return inst;\n  }\n\n  /**\n   * Create a DateTime from an ISO 8601 string\n   * @param {string} text - the ISO string\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the time to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a fixed-offset zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} [opts.outputCalendar] - the output calendar to set on the resulting DateTime instance\n   * @param {string} [opts.numberingSystem] - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123')\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123+06:00')\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123+06:00', {setZone: true})\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123', {zone: 'utc'})\n   * @example DateTime.fromISO('2016-W05-4')\n   * @return {DateTime}\n   */\n  static fromISO(text, opts = {}) {\n    const [vals, parsedZone] = parseISODate(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"ISO 8601\", text);\n  }\n\n  /**\n   * Create a DateTime from an RFC 2822 string\n   * @param {string} text - the RFC 2822 string\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - convert the time to this zone. Since the offset is always specified in the string itself, this has no effect on the interpretation of string, merely the zone the resulting DateTime is expressed in.\n   * @param {boolean} [opts.setZone=false] - override the zone with a fixed-offset zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromRFC2822('25 Nov 2016 13:23:12 GMT')\n   * @example DateTime.fromRFC2822('Fri, 25 Nov 2016 13:23:12 +0600')\n   * @example DateTime.fromRFC2822('25 Nov 2016 13:23 Z')\n   * @return {DateTime}\n   */\n  static fromRFC2822(text, opts = {}) {\n    const [vals, parsedZone] = parseRFC2822Date(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"RFC 2822\", text);\n  }\n\n  /**\n   * Create a DateTime from an HTTP header date\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\n   * @param {string} text - the HTTP header date\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - convert the time to this zone. Since HTTP dates are always in UTC, this has no effect on the interpretation of string, merely the zone the resulting DateTime is expressed in.\n   * @param {boolean} [opts.setZone=false] - override the zone with the fixed-offset zone specified in the string. For HTTP dates, this is always UTC, so this option is equivalent to setting the `zone` option to 'utc', but this option is included for consistency with similar methods.\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromHTTP('Sun, 06 Nov 1994 08:49:37 GMT')\n   * @example DateTime.fromHTTP('Sunday, 06-Nov-94 08:49:37 GMT')\n   * @example DateTime.fromHTTP('Sun Nov  6 08:49:37 1994')\n   * @return {DateTime}\n   */\n  static fromHTTP(text, opts = {}) {\n    const [vals, parsedZone] = parseHTTPDate(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"HTTP\", opts);\n  }\n\n  /**\n   * Create a DateTime from an input string and format string.\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale. For a table of tokens and their interpretations, see [here](https://moment.github.io/luxon/#/parsing?id=table-of-tokens).\n   * @param {string} text - the string to parse\n   * @param {string} fmt - the format the string is expected to be in (see the link below for the formats)\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the DateTime to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='en-US'] - a locale string to use when parsing. Will also set the DateTime to this locale\n   * @param {string} opts.numberingSystem - the numbering system to use when parsing. Will also set the resulting DateTime to this numbering system\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  static fromFormat(text, fmt, opts = {}) {\n    if (isUndefined(text) || isUndefined(fmt)) {\n      throw new InvalidArgumentError(\"fromFormat requires an input string and a format\");\n    }\n\n    const { locale = null, numberingSystem = null } = opts,\n      localeToUse = Locale.fromOpts({\n        locale,\n        numberingSystem,\n        defaultToEN: true,\n      }),\n      [vals, parsedZone, specificOffset, invalid] = parseFromTokens(localeToUse, text, fmt);\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    } else {\n      return parseDataToDateTime(vals, parsedZone, opts, `format ${fmt}`, text, specificOffset);\n    }\n  }\n\n  /**\n   * @deprecated use fromFormat instead\n   */\n  static fromString(text, fmt, opts = {}) {\n    return DateTime.fromFormat(text, fmt, opts);\n  }\n\n  /**\n   * Create a DateTime from a SQL date, time, or datetime\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale\n   * @param {string} text - the string to parse\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the DateTime to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='en-US'] - a locale string to use when parsing. Will also set the DateTime to this locale\n   * @param {string} opts.numberingSystem - the numbering system to use when parsing. Will also set the resulting DateTime to this numbering system\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @example DateTime.fromSQL('2017-05-15')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342+06:00')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342 America/Los_Angeles')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342 America/Los_Angeles', { setZone: true })\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342', { zone: 'America/Los_Angeles' })\n   * @example DateTime.fromSQL('09:12:34.342')\n   * @return {DateTime}\n   */\n  static fromSQL(text, opts = {}) {\n    const [vals, parsedZone] = parseSQL(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"SQL\", text);\n  }\n\n  /**\n   * Create an invalid DateTime.\n   * @param {string} reason - simple string of why this DateTime is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {DateTime}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the DateTime is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidDateTimeError(invalid);\n    } else {\n      return new DateTime({ invalid });\n    }\n  }\n\n  /**\n   * Check if an object is an instance of DateTime. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isDateTime(o) {\n    return (o && o.isLuxonDateTime) || false;\n  }\n\n  // INFO\n\n  /**\n   * Get the value of unit.\n   * @param {string} unit - a unit such as 'minute' or 'day'\n   * @example DateTime.local(2017, 7, 4).get('month'); //=> 7\n   * @example DateTime.local(2017, 7, 4).get('day'); //=> 4\n   * @return {number}\n   */\n  get(unit) {\n    return this[unit];\n  }\n\n  /**\n   * Returns whether the DateTime is valid. Invalid DateTimes occur when:\n   * * The DateTime was created from invalid calendar information, such as the 13th month or February 30\n   * * The DateTime was created by an operation on another invalid date\n   * @type {boolean}\n   */\n  get isValid() {\n    return this.invalid === null;\n  }\n\n  /**\n   * Returns an error code if this DateTime is invalid, or null if the DateTime is valid\n   * @type {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this DateTime became invalid, or null if the DateTime is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Get the locale of a DateTime, such 'en-GB'. The locale is used when formatting the DateTime\n   *\n   * @type {string}\n   */\n  get locale() {\n    return this.isValid ? this.loc.locale : null;\n  }\n\n  /**\n   * Get the numbering system of a DateTime, such 'beng'. The numbering system is used when formatting the DateTime\n   *\n   * @type {string}\n   */\n  get numberingSystem() {\n    return this.isValid ? this.loc.numberingSystem : null;\n  }\n\n  /**\n   * Get the output calendar of a DateTime, such 'islamic'. The output calendar is used when formatting the DateTime\n   *\n   * @type {string}\n   */\n  get outputCalendar() {\n    return this.isValid ? this.loc.outputCalendar : null;\n  }\n\n  /**\n   * Get the time zone associated with this DateTime.\n   * @type {Zone}\n   */\n  get zone() {\n    return this._zone;\n  }\n\n  /**\n   * Get the name of the time zone.\n   * @type {string}\n   */\n  get zoneName() {\n    return this.isValid ? this.zone.name : null;\n  }\n\n  /**\n   * Get the year\n   * @example DateTime.local(2017, 5, 25).year //=> 2017\n   * @type {number}\n   */\n  get year() {\n    return this.isValid ? this.c.year : NaN;\n  }\n\n  /**\n   * Get the quarter\n   * @example DateTime.local(2017, 5, 25).quarter //=> 2\n   * @type {number}\n   */\n  get quarter() {\n    return this.isValid ? Math.ceil(this.c.month / 3) : NaN;\n  }\n\n  /**\n   * Get the month (1-12).\n   * @example DateTime.local(2017, 5, 25).month //=> 5\n   * @type {number}\n   */\n  get month() {\n    return this.isValid ? this.c.month : NaN;\n  }\n\n  /**\n   * Get the day of the month (1-30ish).\n   * @example DateTime.local(2017, 5, 25).day //=> 25\n   * @type {number}\n   */\n  get day() {\n    return this.isValid ? this.c.day : NaN;\n  }\n\n  /**\n   * Get the hour of the day (0-23).\n   * @example DateTime.local(2017, 5, 25, 9).hour //=> 9\n   * @type {number}\n   */\n  get hour() {\n    return this.isValid ? this.c.hour : NaN;\n  }\n\n  /**\n   * Get the minute of the hour (0-59).\n   * @example DateTime.local(2017, 5, 25, 9, 30).minute //=> 30\n   * @type {number}\n   */\n  get minute() {\n    return this.isValid ? this.c.minute : NaN;\n  }\n\n  /**\n   * Get the second of the minute (0-59).\n   * @example DateTime.local(2017, 5, 25, 9, 30, 52).second //=> 52\n   * @type {number}\n   */\n  get second() {\n    return this.isValid ? this.c.second : NaN;\n  }\n\n  /**\n   * Get the millisecond of the second (0-999).\n   * @example DateTime.local(2017, 5, 25, 9, 30, 52, 654).millisecond //=> 654\n   * @type {number}\n   */\n  get millisecond() {\n    return this.isValid ? this.c.millisecond : NaN;\n  }\n\n  /**\n   * Get the week year\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2014, 12, 31).weekYear //=> 2015\n   * @type {number}\n   */\n  get weekYear() {\n    return this.isValid ? possiblyCachedWeekData(this).weekYear : NaN;\n  }\n\n  /**\n   * Get the week number of the week year (1-52ish).\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2017, 5, 25).weekNumber //=> 21\n   * @type {number}\n   */\n  get weekNumber() {\n    return this.isValid ? possiblyCachedWeekData(this).weekNumber : NaN;\n  }\n\n  /**\n   * Get the day of the week.\n   * 1 is Monday and 7 is Sunday\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2014, 11, 31).weekday //=> 4\n   * @type {number}\n   */\n  get weekday() {\n    return this.isValid ? possiblyCachedWeekData(this).weekday : NaN;\n  }\n\n  /**\n   * Get the ordinal (meaning the day of the year)\n   * @example DateTime.local(2017, 5, 25).ordinal //=> 145\n   * @type {number|DateTime}\n   */\n  get ordinal() {\n    return this.isValid ? gregorianToOrdinal(this.c).ordinal : NaN;\n  }\n\n  /**\n   * Get the human readable short month name, such as 'Oct'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).monthShort //=> Oct\n   * @type {string}\n   */\n  get monthShort() {\n    return this.isValid ? Info.months(\"short\", { locObj: this.loc })[this.month - 1] : null;\n  }\n\n  /**\n   * Get the human readable long month name, such as 'October'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).monthLong //=> October\n   * @type {string}\n   */\n  get monthLong() {\n    return this.isValid ? Info.months(\"long\", { locObj: this.loc })[this.month - 1] : null;\n  }\n\n  /**\n   * Get the human readable short weekday, such as 'Mon'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).weekdayShort //=> Mon\n   * @type {string}\n   */\n  get weekdayShort() {\n    return this.isValid ? Info.weekdays(\"short\", { locObj: this.loc })[this.weekday - 1] : null;\n  }\n\n  /**\n   * Get the human readable long weekday, such as 'Monday'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).weekdayLong //=> Monday\n   * @type {string}\n   */\n  get weekdayLong() {\n    return this.isValid ? Info.weekdays(\"long\", { locObj: this.loc })[this.weekday - 1] : null;\n  }\n\n  /**\n   * Get the UTC offset of this DateTime in minutes\n   * @example DateTime.now().offset //=> -240\n   * @example DateTime.utc().offset //=> 0\n   * @type {number}\n   */\n  get offset() {\n    return this.isValid ? +this.o : NaN;\n  }\n\n  /**\n   * Get the short human name for the zone's current offset, for example \"EST\" or \"EDT\".\n   * Defaults to the system's locale if no locale has been specified\n   * @type {string}\n   */\n  get offsetNameShort() {\n    if (this.isValid) {\n      return this.zone.offsetName(this.ts, {\n        format: \"short\",\n        locale: this.locale,\n      });\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Get the long human name for the zone's current offset, for example \"Eastern Standard Time\" or \"Eastern Daylight Time\".\n   * Defaults to the system's locale if no locale has been specified\n   * @type {string}\n   */\n  get offsetNameLong() {\n    if (this.isValid) {\n      return this.zone.offsetName(this.ts, {\n        format: \"long\",\n        locale: this.locale,\n      });\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Get whether this zone's offset ever changes, as in a DST.\n   * @type {boolean}\n   */\n  get isOffsetFixed() {\n    return this.isValid ? this.zone.isUniversal : null;\n  }\n\n  /**\n   * Get whether the DateTime is in a DST.\n   * @type {boolean}\n   */\n  get isInDST() {\n    if (this.isOffsetFixed) {\n      return false;\n    } else {\n      return (\n        this.offset > this.set({ month: 1, day: 1 }).offset ||\n        this.offset > this.set({ month: 5 }).offset\n      );\n    }\n  }\n\n  /**\n   * Returns true if this DateTime is in a leap year, false otherwise\n   * @example DateTime.local(2016).isInLeapYear //=> true\n   * @example DateTime.local(2013).isInLeapYear //=> false\n   * @type {boolean}\n   */\n  get isInLeapYear() {\n    return isLeapYear(this.year);\n  }\n\n  /**\n   * Returns the number of days in this DateTime's month\n   * @example DateTime.local(2016, 2).daysInMonth //=> 29\n   * @example DateTime.local(2016, 3).daysInMonth //=> 31\n   * @type {number}\n   */\n  get daysInMonth() {\n    return daysInMonth(this.year, this.month);\n  }\n\n  /**\n   * Returns the number of days in this DateTime's year\n   * @example DateTime.local(2016).daysInYear //=> 366\n   * @example DateTime.local(2013).daysInYear //=> 365\n   * @type {number}\n   */\n  get daysInYear() {\n    return this.isValid ? daysInYear(this.year) : NaN;\n  }\n\n  /**\n   * Returns the number of weeks in this DateTime's year\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2004).weeksInWeekYear //=> 53\n   * @example DateTime.local(2013).weeksInWeekYear //=> 52\n   * @type {number}\n   */\n  get weeksInWeekYear() {\n    return this.isValid ? weeksInWeekYear(this.weekYear) : NaN;\n  }\n\n  /**\n   * Returns the resolved Intl options for this DateTime.\n   * This is useful in understanding the behavior of formatting methods\n   * @param {Object} opts - the same options as toLocaleString\n   * @return {Object}\n   */\n  resolvedLocaleOptions(opts = {}) {\n    const { locale, numberingSystem, calendar } = Formatter.create(\n      this.loc.clone(opts),\n      opts\n    ).resolvedOptions(this);\n    return { locale, numberingSystem, outputCalendar: calendar };\n  }\n\n  // TRANSFORM\n\n  /**\n   * \"Set\" the DateTime's zone to UTC. Returns a newly-constructed DateTime.\n   *\n   * Equivalent to {@link DateTime#setZone}('utc')\n   * @param {number} [offset=0] - optionally, an offset from UTC in minutes\n   * @param {Object} [opts={}] - options to pass to `setZone()`\n   * @return {DateTime}\n   */\n  toUTC(offset = 0, opts = {}) {\n    return this.setZone(FixedOffsetZone.instance(offset), opts);\n  }\n\n  /**\n   * \"Set\" the DateTime's zone to the host's local zone. Returns a newly-constructed DateTime.\n   *\n   * Equivalent to `setZone('local')`\n   * @return {DateTime}\n   */\n  toLocal() {\n    return this.setZone(Settings.defaultZone);\n  }\n\n  /**\n   * \"Set\" the DateTime's zone to specified zone. Returns a newly-constructed DateTime.\n   *\n   * By default, the setter keeps the underlying time the same (as in, the same timestamp), but the new instance will report different local times and consider DSTs when making computations, as with {@link DateTime#plus}. You may wish to use {@link DateTime#toLocal} and {@link DateTime#toUTC} which provide simple convenience wrappers for commonly used zones.\n   * @param {string|Zone} [zone='local'] - a zone identifier. As a string, that can be any IANA zone supported by the host environment, or a fixed-offset name of the form 'UTC+3', or the strings 'local' or 'utc'. You may also supply an instance of a {@link DateTime#Zone} class.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.keepLocalTime=false] - If true, adjust the underlying time so that the local time stays the same, but in the target zone. You should rarely need this.\n   * @return {DateTime}\n   */\n  setZone(zone, { keepLocalTime = false, keepCalendarTime = false } = {}) {\n    zone = normalizeZone(zone, Settings.defaultZone);\n    if (zone.equals(this.zone)) {\n      return this;\n    } else if (!zone.isValid) {\n      return DateTime.invalid(unsupportedZone(zone));\n    } else {\n      let newTS = this.ts;\n      if (keepLocalTime || keepCalendarTime) {\n        const offsetGuess = zone.offset(this.ts);\n        const asObj = this.toObject();\n        [newTS] = objToTS(asObj, offsetGuess, zone);\n      }\n      return clone(this, { ts: newTS, zone });\n    }\n  }\n\n  /**\n   * \"Set\" the locale, numberingSystem, or outputCalendar. Returns a newly-constructed DateTime.\n   * @param {Object} properties - the properties to set\n   * @example DateTime.local(2017, 5, 25).reconfigure({ locale: 'en-GB' })\n   * @return {DateTime}\n   */\n  reconfigure({ locale, numberingSystem, outputCalendar } = {}) {\n    const loc = this.loc.clone({ locale, numberingSystem, outputCalendar });\n    return clone(this, { loc });\n  }\n\n  /**\n   * \"Set\" the locale. Returns a newly-constructed DateTime.\n   * Just a convenient alias for reconfigure({ locale })\n   * @example DateTime.local(2017, 5, 25).setLocale('en-GB')\n   * @return {DateTime}\n   */\n  setLocale(locale) {\n    return this.reconfigure({ locale });\n  }\n\n  /**\n   * \"Set\" the values of specified units. Returns a newly-constructed DateTime.\n   * You can only set units with this method; for \"setting\" metadata, see {@link DateTime#reconfigure} and {@link DateTime#setZone}.\n   * @param {Object} values - a mapping of units to numbers\n   * @example dt.set({ year: 2017 })\n   * @example dt.set({ hour: 8, minute: 30 })\n   * @example dt.set({ weekday: 5 })\n   * @example dt.set({ year: 2005, ordinal: 234 })\n   * @return {DateTime}\n   */\n  set(values) {\n    if (!this.isValid) return this;\n\n    const normalized = normalizeObject(values, normalizeUnit),\n      settingWeekStuff =\n        !isUndefined(normalized.weekYear) ||\n        !isUndefined(normalized.weekNumber) ||\n        !isUndefined(normalized.weekday),\n      containsOrdinal = !isUndefined(normalized.ordinal),\n      containsGregorYear = !isUndefined(normalized.year),\n      containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day),\n      containsGregor = containsGregorYear || containsGregorMD,\n      definiteWeekDef = normalized.weekYear || normalized.weekNumber;\n\n    if ((containsGregor || containsOrdinal) && definiteWeekDef) {\n      throw new ConflictingSpecificationError(\n        \"Can't mix weekYear/weekNumber units with year/month/day or ordinals\"\n      );\n    }\n\n    if (containsGregorMD && containsOrdinal) {\n      throw new ConflictingSpecificationError(\"Can't mix ordinal dates with month/day\");\n    }\n\n    let mixed;\n    if (settingWeekStuff) {\n      mixed = weekToGregorian({ ...gregorianToWeek(this.c), ...normalized });\n    } else if (!isUndefined(normalized.ordinal)) {\n      mixed = ordinalToGregorian({ ...gregorianToOrdinal(this.c), ...normalized });\n    } else {\n      mixed = { ...this.toObject(), ...normalized };\n\n      // if we didn't set the day but we ended up on an overflow date,\n      // use the last day of the right month\n      if (isUndefined(normalized.day)) {\n        mixed.day = Math.min(daysInMonth(mixed.year, mixed.month), mixed.day);\n      }\n    }\n\n    const [ts, o] = objToTS(mixed, this.o, this.zone);\n    return clone(this, { ts, o });\n  }\n\n  /**\n   * Add a period of time to this DateTime and return the resulting DateTime\n   *\n   * Adding hours, minutes, seconds, or milliseconds increases the timestamp by the right number of milliseconds. Adding days, months, or years shifts the calendar, accounting for DSTs and leap years along the way. Thus, `dt.plus({ hours: 24 })` may result in a different time than `dt.plus({ days: 1 })` if there's a DST shift in between.\n   * @param {Duration|Object|number} duration - The amount to add. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @example DateTime.now().plus(123) //~> in 123 milliseconds\n   * @example DateTime.now().plus({ minutes: 15 }) //~> in 15 minutes\n   * @example DateTime.now().plus({ days: 1 }) //~> this time tomorrow\n   * @example DateTime.now().plus({ days: -1 }) //~> this time yesterday\n   * @example DateTime.now().plus({ hours: 3, minutes: 13 }) //~> in 3 hr, 13 min\n   * @example DateTime.now().plus(Duration.fromObject({ hours: 3, minutes: 13 })) //~> in 3 hr, 13 min\n   * @return {DateTime}\n   */\n  plus(duration) {\n    if (!this.isValid) return this;\n    const dur = Duration.fromDurationLike(duration);\n    return clone(this, adjustTime(this, dur));\n  }\n\n  /**\n   * Subtract a period of time to this DateTime and return the resulting DateTime\n   * See {@link DateTime#plus}\n   * @param {Duration|Object|number} duration - The amount to subtract. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   @return {DateTime}\n   */\n  minus(duration) {\n    if (!this.isValid) return this;\n    const dur = Duration.fromDurationLike(duration).negate();\n    return clone(this, adjustTime(this, dur));\n  }\n\n  /**\n   * \"Set\" this DateTime to the beginning of a unit of time.\n   * @param {string} unit - The unit to go to the beginning of. Can be 'year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', or 'millisecond'.\n   * @example DateTime.local(2014, 3, 3).startOf('month').toISODate(); //=> '2014-03-01'\n   * @example DateTime.local(2014, 3, 3).startOf('year').toISODate(); //=> '2014-01-01'\n   * @example DateTime.local(2014, 3, 3).startOf('week').toISODate(); //=> '2014-03-03', weeks always start on Mondays\n   * @example DateTime.local(2014, 3, 3, 5, 30).startOf('day').toISOTime(); //=> '00:00.000-05:00'\n   * @example DateTime.local(2014, 3, 3, 5, 30).startOf('hour').toISOTime(); //=> '05:00:00.000-05:00'\n   * @return {DateTime}\n   */\n  startOf(unit) {\n    if (!this.isValid) return this;\n    const o = {},\n      normalizedUnit = Duration.normalizeUnit(unit);\n    switch (normalizedUnit) {\n      case \"years\":\n        o.month = 1;\n      // falls through\n      case \"quarters\":\n      case \"months\":\n        o.day = 1;\n      // falls through\n      case \"weeks\":\n      case \"days\":\n        o.hour = 0;\n      // falls through\n      case \"hours\":\n        o.minute = 0;\n      // falls through\n      case \"minutes\":\n        o.second = 0;\n      // falls through\n      case \"seconds\":\n        o.millisecond = 0;\n        break;\n      case \"milliseconds\":\n        break;\n      // no default, invalid units throw in normalizeUnit()\n    }\n\n    if (normalizedUnit === \"weeks\") {\n      o.weekday = 1;\n    }\n\n    if (normalizedUnit === \"quarters\") {\n      const q = Math.ceil(this.month / 3);\n      o.month = (q - 1) * 3 + 1;\n    }\n\n    return this.set(o);\n  }\n\n  /**\n   * \"Set\" this DateTime to the end (meaning the last millisecond) of a unit of time\n   * @param {string} unit - The unit to go to the end of. Can be 'year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', or 'millisecond'.\n   * @example DateTime.local(2014, 3, 3).endOf('month').toISO(); //=> '2014-03-31T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3).endOf('year').toISO(); //=> '2014-12-31T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3).endOf('week').toISO(); // => '2014-03-09T23:59:59.999-05:00', weeks start on Mondays\n   * @example DateTime.local(2014, 3, 3, 5, 30).endOf('day').toISO(); //=> '2014-03-03T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3, 5, 30).endOf('hour').toISO(); //=> '2014-03-03T05:59:59.999-05:00'\n   * @return {DateTime}\n   */\n  endOf(unit) {\n    return this.isValid\n      ? this.plus({ [unit]: 1 })\n          .startOf(unit)\n          .minus(1)\n      : this;\n  }\n\n  // OUTPUT\n\n  /**\n   * Returns a string representation of this DateTime formatted according to the specified format string.\n   * **You may not want this.** See {@link DateTime#toLocaleString} for a more flexible formatting tool. For a table of tokens and their interpretations, see [here](https://moment.github.io/luxon/#/formatting?id=table-of-tokens).\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale.\n   * @param {string} fmt - the format string\n   * @param {Object} opts - opts to override the configuration options on this DateTime\n   * @example DateTime.now().toFormat('yyyy LLL dd') //=> '2017 Apr 22'\n   * @example DateTime.now().setLocale('fr').toFormat('yyyy LLL dd') //=> '2017 avr. 22'\n   * @example DateTime.now().toFormat('yyyy LLL dd', { locale: \"fr\" }) //=> '2017 avr. 22'\n   * @example DateTime.now().toFormat(\"HH 'hours and' mm 'minutes'\") //=> '20 hours and 55 minutes'\n   * @return {string}\n   */\n  toFormat(fmt, opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.loc.redefaultToEN(opts)).formatDateTimeFromString(this, fmt)\n      : INVALID;\n  }\n\n  /**\n   * Returns a localized string representing this date. Accepts the same options as the Intl.DateTimeFormat constructor and any presets defined by Luxon, such as `DateTime.DATE_FULL` or `DateTime.TIME_SIMPLE`.\n   * The exact behavior of this method is browser-specific, but in general it will return an appropriate representation\n   * of the DateTime in the assigned locale.\n   * Defaults to the system's locale if no locale has been specified\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param formatOpts {Object} - Intl.DateTimeFormat constructor options and configuration options\n   * @param {Object} opts - opts to override the configuration options on this DateTime\n   * @example DateTime.now().toLocaleString(); //=> 4/20/2017\n   * @example DateTime.now().setLocale('en-gb').toLocaleString(); //=> '20/04/2017'\n   * @example DateTime.now().toLocaleString({ locale: 'en-gb' }); //=> '20/04/2017'\n   * @example DateTime.now().toLocaleString(DateTime.DATE_FULL); //=> 'April 20, 2017'\n   * @example DateTime.now().toLocaleString(DateTime.TIME_SIMPLE); //=> '11:32 AM'\n   * @example DateTime.now().toLocaleString(DateTime.DATETIME_SHORT); //=> '4/20/2017, 11:32 AM'\n   * @example DateTime.now().toLocaleString({ weekday: 'long', month: 'long', day: '2-digit' }); //=> 'Thursday, April 20'\n   * @example DateTime.now().toLocaleString({ weekday: 'short', month: 'short', day: '2-digit', hour: '2-digit', minute: '2-digit' }); //=> 'Thu, Apr 20, 11:27 AM'\n   * @example DateTime.now().toLocaleString({ hour: '2-digit', minute: '2-digit', hourCycle: 'h23' }); //=> '11:32'\n   * @return {string}\n   */\n  toLocaleString(formatOpts = Formats.DATE_SHORT, opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.loc.clone(opts), formatOpts).formatDateTime(this)\n      : INVALID;\n  }\n\n  /**\n   * Returns an array of format \"parts\", meaning individual tokens along with metadata. This is allows callers to post-process individual sections of the formatted output.\n   * Defaults to the system's locale if no locale has been specified\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat/formatToParts\n   * @param opts {Object} - Intl.DateTimeFormat constructor options, same as `toLocaleString`.\n   * @example DateTime.now().toLocaleParts(); //=> [\n   *                                   //=>   { type: 'day', value: '25' },\n   *                                   //=>   { type: 'literal', value: '/' },\n   *                                   //=>   { type: 'month', value: '05' },\n   *                                   //=>   { type: 'literal', value: '/' },\n   *                                   //=>   { type: 'year', value: '1982' }\n   *                                   //=> ]\n   */\n  toLocaleParts(opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.loc.clone(opts), opts).formatDateTimeParts(this)\n      : [];\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.extendedZone=true] - add the time zone format extension\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc(1983, 5, 25).toISO() //=> '1982-05-25T00:00:00.000Z'\n   * @example DateTime.now().toISO() //=> '2017-04-22T20:47:05.335-04:00'\n   * @example DateTime.now().toISO({ includeOffset: false }) //=> '2017-04-22T20:47:05.335'\n   * @example DateTime.now().toISO({ format: 'basic' }) //=> '20170422T204705.335-0400'\n   * @return {string}\n   */\n  toISO({\n    format = \"extended\",\n    suppressSeconds = false,\n    suppressMilliseconds = false,\n    includeOffset = true,\n    extendedZone = false,\n  } = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    const ext = format === \"extended\";\n\n    let c = toISODate(this, ext);\n    c += \"T\";\n    c += toISOTime(this, ext, suppressSeconds, suppressMilliseconds, includeOffset, extendedZone);\n    return c;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's date component\n   * @param {Object} opts - options\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc(1982, 5, 25).toISODate() //=> '1982-05-25'\n   * @example DateTime.utc(1982, 5, 25).toISODate({ format: 'basic' }) //=> '19820525'\n   * @return {string}\n   */\n  toISODate({ format = \"extended\" } = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    return toISODate(this, format === \"extended\");\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's week date\n   * @example DateTime.utc(1982, 5, 25).toISOWeekDate() //=> '1982-W21-2'\n   * @return {string}\n   */\n  toISOWeekDate() {\n    return toTechFormat(this, \"kkkk-'W'WW-c\");\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's time component\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.extendedZone=true] - add the time zone format extension\n   * @param {boolean} [opts.includePrefix=false] - include the `T` prefix\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime() //=> '07:34:19.361Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34, seconds: 0, milliseconds: 0 }).toISOTime({ suppressSeconds: true }) //=> '07:34Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime({ format: 'basic' }) //=> '073419.361Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime({ includePrefix: true }) //=> 'T07:34:19.361Z'\n   * @return {string}\n   */\n  toISOTime({\n    suppressMilliseconds = false,\n    suppressSeconds = false,\n    includeOffset = true,\n    includePrefix = false,\n    extendedZone = false,\n    format = \"extended\",\n  } = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    let c = includePrefix ? \"T\" : \"\";\n    return (\n      c +\n      toISOTime(\n        this,\n        format === \"extended\",\n        suppressSeconds,\n        suppressMilliseconds,\n        includeOffset,\n        extendedZone\n      )\n    );\n  }\n\n  /**\n   * Returns an RFC 2822-compatible string representation of this DateTime\n   * @example DateTime.utc(2014, 7, 13).toRFC2822() //=> 'Sun, 13 Jul 2014 00:00:00 +0000'\n   * @example DateTime.local(2014, 7, 13).toRFC2822() //=> 'Sun, 13 Jul 2014 00:00:00 -0400'\n   * @return {string}\n   */\n  toRFC2822() {\n    return toTechFormat(this, \"EEE, dd LLL yyyy HH:mm:ss ZZZ\", false);\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in HTTP headers. The output is always expressed in GMT.\n   * Specifically, the string conforms to RFC 1123.\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\n   * @example DateTime.utc(2014, 7, 13).toHTTP() //=> 'Sun, 13 Jul 2014 00:00:00 GMT'\n   * @example DateTime.utc(2014, 7, 13, 19).toHTTP() //=> 'Sun, 13 Jul 2014 19:00:00 GMT'\n   * @return {string}\n   */\n  toHTTP() {\n    return toTechFormat(this.toUTC(), \"EEE, dd LLL yyyy HH:mm:ss 'GMT'\");\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL Date\n   * @example DateTime.utc(2014, 7, 13).toSQLDate() //=> '2014-07-13'\n   * @return {string}\n   */\n  toSQLDate() {\n    if (!this.isValid) {\n      return null;\n    }\n    return toISODate(this, true);\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL Time\n   * @param {Object} opts - options\n   * @param {boolean} [opts.includeZone=false] - include the zone, such as 'America/New_York'. Overrides includeOffset.\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.includeOffsetSpace=true] - include the space between the time and the offset, such as '05:15:16.345 -04:00'\n   * @example DateTime.utc().toSQL() //=> '05:15:16.345'\n   * @example DateTime.now().toSQL() //=> '05:15:16.345 -04:00'\n   * @example DateTime.now().toSQL({ includeOffset: false }) //=> '05:15:16.345'\n   * @example DateTime.now().toSQL({ includeZone: false }) //=> '05:15:16.345 America/New_York'\n   * @return {string}\n   */\n  toSQLTime({ includeOffset = true, includeZone = false, includeOffsetSpace = true } = {}) {\n    let fmt = \"HH:mm:ss.SSS\";\n\n    if (includeZone || includeOffset) {\n      if (includeOffsetSpace) {\n        fmt += \" \";\n      }\n      if (includeZone) {\n        fmt += \"z\";\n      } else if (includeOffset) {\n        fmt += \"ZZ\";\n      }\n    }\n\n    return toTechFormat(this, fmt, true);\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL DateTime\n   * @param {Object} opts - options\n   * @param {boolean} [opts.includeZone=false] - include the zone, such as 'America/New_York'. Overrides includeOffset.\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.includeOffsetSpace=true] - include the space between the time and the offset, such as '05:15:16.345 -04:00'\n   * @example DateTime.utc(2014, 7, 13).toSQL() //=> '2014-07-13 00:00:00.000 Z'\n   * @example DateTime.local(2014, 7, 13).toSQL() //=> '2014-07-13 00:00:00.000 -04:00'\n   * @example DateTime.local(2014, 7, 13).toSQL({ includeOffset: false }) //=> '2014-07-13 00:00:00.000'\n   * @example DateTime.local(2014, 7, 13).toSQL({ includeZone: true }) //=> '2014-07-13 00:00:00.000 America/New_York'\n   * @return {string}\n   */\n  toSQL(opts = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    return `${this.toSQLDate()} ${this.toSQLTime(opts)}`;\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for debugging\n   * @return {string}\n   */\n  toString() {\n    return this.isValid ? this.toISO() : INVALID;\n  }\n\n  /**\n   * Returns the epoch milliseconds of this DateTime. Alias of {@link DateTime#toMillis}\n   * @return {number}\n   */\n  valueOf() {\n    return this.toMillis();\n  }\n\n  /**\n   * Returns the epoch milliseconds of this DateTime.\n   * @return {number}\n   */\n  toMillis() {\n    return this.isValid ? this.ts : NaN;\n  }\n\n  /**\n   * Returns the epoch seconds of this DateTime.\n   * @return {number}\n   */\n  toSeconds() {\n    return this.isValid ? this.ts / 1000 : NaN;\n  }\n\n  /**\n   * Returns the epoch seconds (as a whole number) of this DateTime.\n   * @return {number}\n   */\n  toUnixInteger() {\n    return this.isValid ? Math.floor(this.ts / 1000) : NaN;\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this DateTime appropriate for use in JSON.\n   * @return {string}\n   */\n  toJSON() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns a BSON serializable equivalent to this DateTime.\n   * @return {Date}\n   */\n  toBSON() {\n    return this.toJSDate();\n  }\n\n  /**\n   * Returns a JavaScript object with this DateTime's year, month, day, and so on.\n   * @param opts - options for generating the object\n   * @param {boolean} [opts.includeConfig=false] - include configuration attributes in the output\n   * @example DateTime.now().toObject() //=> { year: 2017, month: 4, day: 22, hour: 20, minute: 49, second: 42, millisecond: 268 }\n   * @return {Object}\n   */\n  toObject(opts = {}) {\n    if (!this.isValid) return {};\n\n    const base = { ...this.c };\n\n    if (opts.includeConfig) {\n      base.outputCalendar = this.outputCalendar;\n      base.numberingSystem = this.loc.numberingSystem;\n      base.locale = this.loc.locale;\n    }\n    return base;\n  }\n\n  /**\n   * Returns a JavaScript Date equivalent to this DateTime.\n   * @return {Date}\n   */\n  toJSDate() {\n    return new Date(this.isValid ? this.ts : NaN);\n  }\n\n  // COMPARE\n\n  /**\n   * Return the difference between two DateTimes as a Duration.\n   * @param {DateTime} otherDateTime - the DateTime to compare this one to\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or array of units (such as 'hours' or 'days') to include in the duration.\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @example\n   * var i1 = DateTime.fromISO('1982-05-25T09:45'),\n   *     i2 = DateTime.fromISO('1983-10-14T10:30');\n   * i2.diff(i1).toObject() //=> { milliseconds: 43807500000 }\n   * i2.diff(i1, 'hours').toObject() //=> { hours: 12168.75 }\n   * i2.diff(i1, ['months', 'days']).toObject() //=> { months: 16, days: 19.03125 }\n   * i2.diff(i1, ['months', 'days', 'hours']).toObject() //=> { months: 16, days: 19, hours: 0.75 }\n   * @return {Duration}\n   */\n  diff(otherDateTime, unit = \"milliseconds\", opts = {}) {\n    if (!this.isValid || !otherDateTime.isValid) {\n      return Duration.invalid(\"created by diffing an invalid DateTime\");\n    }\n\n    const durOpts = { locale: this.locale, numberingSystem: this.numberingSystem, ...opts };\n\n    const units = maybeArray(unit).map(Duration.normalizeUnit),\n      otherIsLater = otherDateTime.valueOf() > this.valueOf(),\n      earlier = otherIsLater ? this : otherDateTime,\n      later = otherIsLater ? otherDateTime : this,\n      diffed = diff(earlier, later, units, durOpts);\n\n    return otherIsLater ? diffed.negate() : diffed;\n  }\n\n  /**\n   * Return the difference between this DateTime and right now.\n   * See {@link DateTime#diff}\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or units units (such as 'hours' or 'days') to include in the duration\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  diffNow(unit = \"milliseconds\", opts = {}) {\n    return this.diff(DateTime.now(), unit, opts);\n  }\n\n  /**\n   * Return an Interval spanning between this DateTime and another DateTime\n   * @param {DateTime} otherDateTime - the other end point of the Interval\n   * @return {Interval}\n   */\n  until(otherDateTime) {\n    return this.isValid ? Interval.fromDateTimes(this, otherDateTime) : this;\n  }\n\n  /**\n   * Return whether this DateTime is in the same unit of time as another DateTime.\n   * Higher-order units must also be identical for this function to return `true`.\n   * Note that time zones are **ignored** in this comparison, which compares the **local** calendar time. Use {@link DateTime#setZone} to convert one of the dates if needed.\n   * @param {DateTime} otherDateTime - the other DateTime\n   * @param {string} unit - the unit of time to check sameness on\n   * @example DateTime.now().hasSame(otherDT, 'day'); //~> true if otherDT is in the same current calendar day\n   * @return {boolean}\n   */\n  hasSame(otherDateTime, unit) {\n    if (!this.isValid) return false;\n\n    const inputMs = otherDateTime.valueOf();\n    const adjustedToZone = this.setZone(otherDateTime.zone, { keepLocalTime: true });\n    return adjustedToZone.startOf(unit) <= inputMs && inputMs <= adjustedToZone.endOf(unit);\n  }\n\n  /**\n   * Equality check\n   * Two DateTimes are equal iff they represent the same millisecond, have the same zone and location, and are both valid.\n   * To compare just the millisecond values, use `+dt1 === +dt2`.\n   * @param {DateTime} other - the other DateTime\n   * @return {boolean}\n   */\n  equals(other) {\n    return (\n      this.isValid &&\n      other.isValid &&\n      this.valueOf() === other.valueOf() &&\n      this.zone.equals(other.zone) &&\n      this.loc.equals(other.loc)\n    );\n  }\n\n  /**\n   * Returns a string representation of a this time relative to now, such as \"in two days\". Can only internationalize if your\n   * platform supports Intl.RelativeTimeFormat. Rounds down by default.\n   * @param {Object} options - options that affect the output\n   * @param {DateTime} [options.base=DateTime.now()] - the DateTime to use as the basis to which this time is compared. Defaults to now.\n   * @param {string} [options.style=\"long\"] - the style of units, must be \"long\", \"short\", or \"narrow\"\n   * @param {string|string[]} options.unit - use a specific unit or array of units; if omitted, or an array, the method will pick the best unit. Use an array or one of \"years\", \"quarters\", \"months\", \"weeks\", \"days\", \"hours\", \"minutes\", or \"seconds\"\n   * @param {boolean} [options.round=true] - whether to round the numbers in the output.\n   * @param {number} [options.padding=0] - padding in milliseconds. This allows you to round up the result if it fits inside the threshold. Don't use in combination with {round: false} because the decimal output will include the padding.\n   * @param {string} options.locale - override the locale of this DateTime\n   * @param {string} options.numberingSystem - override the numberingSystem of this DateTime. The Intl system may choose not to honor this\n   * @example DateTime.now().plus({ days: 1 }).toRelative() //=> \"in 1 day\"\n   * @example DateTime.now().setLocale(\"es\").toRelative({ days: 1 }) //=> \"dentro de 1 da\"\n   * @example DateTime.now().plus({ days: 1 }).toRelative({ locale: \"fr\" }) //=> \"dans 23 heures\"\n   * @example DateTime.now().minus({ days: 2 }).toRelative() //=> \"2 days ago\"\n   * @example DateTime.now().minus({ days: 2 }).toRelative({ unit: \"hours\" }) //=> \"48 hours ago\"\n   * @example DateTime.now().minus({ hours: 36 }).toRelative({ round: false }) //=> \"1.5 days ago\"\n   */\n  toRelative(options = {}) {\n    if (!this.isValid) return null;\n    const base = options.base || DateTime.fromObject({}, { zone: this.zone }),\n      padding = options.padding ? (this < base ? -options.padding : options.padding) : 0;\n    let units = [\"years\", \"months\", \"days\", \"hours\", \"minutes\", \"seconds\"];\n    let unit = options.unit;\n    if (Array.isArray(options.unit)) {\n      units = options.unit;\n      unit = undefined;\n    }\n    return diffRelative(base, this.plus(padding), {\n      ...options,\n      numeric: \"always\",\n      units,\n      unit,\n    });\n  }\n\n  /**\n   * Returns a string representation of this date relative to today, such as \"yesterday\" or \"next month\".\n   * Only internationalizes on platforms that supports Intl.RelativeTimeFormat.\n   * @param {Object} options - options that affect the output\n   * @param {DateTime} [options.base=DateTime.now()] - the DateTime to use as the basis to which this time is compared. Defaults to now.\n   * @param {string} options.locale - override the locale of this DateTime\n   * @param {string} options.unit - use a specific unit; if omitted, the method will pick the unit. Use one of \"years\", \"quarters\", \"months\", \"weeks\", or \"days\"\n   * @param {string} options.numberingSystem - override the numberingSystem of this DateTime. The Intl system may choose not to honor this\n   * @example DateTime.now().plus({ days: 1 }).toRelativeCalendar() //=> \"tomorrow\"\n   * @example DateTime.now().setLocale(\"es\").plus({ days: 1 }).toRelative() //=> \"\"maana\"\n   * @example DateTime.now().plus({ days: 1 }).toRelativeCalendar({ locale: \"fr\" }) //=> \"demain\"\n   * @example DateTime.now().minus({ days: 2 }).toRelativeCalendar() //=> \"2 days ago\"\n   */\n  toRelativeCalendar(options = {}) {\n    if (!this.isValid) return null;\n\n    return diffRelative(options.base || DateTime.fromObject({}, { zone: this.zone }), this, {\n      ...options,\n      numeric: \"auto\",\n      units: [\"years\", \"months\", \"days\"],\n      calendary: true,\n    });\n  }\n\n  /**\n   * Return the min of several date times\n   * @param {...DateTime} dateTimes - the DateTimes from which to choose the minimum\n   * @return {DateTime} the min DateTime, or undefined if called with no argument\n   */\n  static min(...dateTimes) {\n    if (!dateTimes.every(DateTime.isDateTime)) {\n      throw new InvalidArgumentError(\"min requires all arguments be DateTimes\");\n    }\n    return bestBy(dateTimes, (i) => i.valueOf(), Math.min);\n  }\n\n  /**\n   * Return the max of several date times\n   * @param {...DateTime} dateTimes - the DateTimes from which to choose the maximum\n   * @return {DateTime} the max DateTime, or undefined if called with no argument\n   */\n  static max(...dateTimes) {\n    if (!dateTimes.every(DateTime.isDateTime)) {\n      throw new InvalidArgumentError(\"max requires all arguments be DateTimes\");\n    }\n    return bestBy(dateTimes, (i) => i.valueOf(), Math.max);\n  }\n\n  // MISC\n\n  /**\n   * Explain how a string would be parsed by fromFormat()\n   * @param {string} text - the string to parse\n   * @param {string} fmt - the format the string is expected to be in (see description)\n   * @param {Object} options - options taken by fromFormat()\n   * @return {Object}\n   */\n  static fromFormatExplain(text, fmt, options = {}) {\n    const { locale = null, numberingSystem = null } = options,\n      localeToUse = Locale.fromOpts({\n        locale,\n        numberingSystem,\n        defaultToEN: true,\n      });\n    return explainFromTokens(localeToUse, text, fmt);\n  }\n\n  /**\n   * @deprecated use fromFormatExplain instead\n   */\n  static fromStringExplain(text, fmt, options = {}) {\n    return DateTime.fromFormatExplain(text, fmt, options);\n  }\n\n  // FORMAT PRESETS\n\n  /**\n   * {@link DateTime#toLocaleString} format like 10/14/1983\n   * @type {Object}\n   */\n  static get DATE_SHORT() {\n    return Formats.DATE_SHORT;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Oct 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_MED() {\n    return Formats.DATE_MED;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Fri, Oct 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_MED_WITH_WEEKDAY() {\n    return Formats.DATE_MED_WITH_WEEKDAY;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'October 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_FULL() {\n    return Formats.DATE_FULL;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Tuesday, October 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_HUGE() {\n    return Formats.DATE_HUGE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_SIMPLE() {\n    return Formats.TIME_SIMPLE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_WITH_SECONDS() {\n    return Formats.TIME_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 AM EDT'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_WITH_SHORT_OFFSET() {\n    return Formats.TIME_WITH_SHORT_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_WITH_LONG_OFFSET() {\n    return Formats.TIME_WITH_LONG_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_SIMPLE() {\n    return Formats.TIME_24_SIMPLE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_WITH_SECONDS() {\n    return Formats.TIME_24_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 EDT', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_WITH_SHORT_OFFSET() {\n    return Formats.TIME_24_WITH_SHORT_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 Eastern Daylight Time', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_WITH_LONG_OFFSET() {\n    return Formats.TIME_24_WITH_LONG_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '10/14/1983, 9:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_SHORT() {\n    return Formats.DATETIME_SHORT;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '10/14/1983, 9:30:33 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_SHORT_WITH_SECONDS() {\n    return Formats.DATETIME_SHORT_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Oct 14, 1983, 9:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_MED() {\n    return Formats.DATETIME_MED;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Oct 14, 1983, 9:30:33 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_MED_WITH_SECONDS() {\n    return Formats.DATETIME_MED_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Fri, 14 Oct 1983, 9:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_MED_WITH_WEEKDAY() {\n    return Formats.DATETIME_MED_WITH_WEEKDAY;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'October 14, 1983, 9:30 AM EDT'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_FULL() {\n    return Formats.DATETIME_FULL;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'October 14, 1983, 9:30:33 AM EDT'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_FULL_WITH_SECONDS() {\n    return Formats.DATETIME_FULL_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Friday, October 14, 1983, 9:30 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_HUGE() {\n    return Formats.DATETIME_HUGE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Friday, October 14, 1983, 9:30:33 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_HUGE_WITH_SECONDS() {\n    return Formats.DATETIME_HUGE_WITH_SECONDS;\n  }\n}\n\n/**\n * @private\n */\nexport function friendlyDateTime(dateTimeish) {\n  if (DateTime.isDateTime(dateTimeish)) {\n    return dateTimeish;\n  } else if (dateTimeish && dateTimeish.valueOf && isNumber(dateTimeish.valueOf())) {\n    return DateTime.fromJSDate(dateTimeish);\n  } else if (dateTimeish && typeof dateTimeish === \"object\") {\n    return DateTime.fromObject(dateTimeish);\n  } else {\n    throw new InvalidArgumentError(\n      `Unknown datetime argument: ${dateTimeish}, of type ${typeof dateTimeish}`\n    );\n  }\n}\n","import DateTime from \"./datetime.js\";\nimport Duration from \"./duration.js\";\nimport Interval from \"./interval.js\";\nimport Info from \"./info.js\";\nimport Zone from \"./zone.js\";\nimport FixedOffsetZone from \"./zones/fixedOffsetZone.js\";\nimport IANAZone from \"./zones/IANAZone.js\";\nimport InvalidZone from \"./zones/invalidZone.js\";\nimport SystemZone from \"./zones/systemZone.js\";\nimport Settings from \"./settings.js\";\n\nconst VERSION = \"2.5.0\";\n\nexport {\n  VERSION,\n  DateTime,\n  Duration,\n  Interval,\n  Info,\n  Zone,\n  FixedOffsetZone,\n  IANAZone,\n  InvalidZone,\n  SystemZone,\n  Settings,\n};\n","import path from 'path'\nimport fs from 'fs'\nimport { DateTime, Duration } from 'luxon'\n\nconst { writeFile, readdir, lstat, rmdir, unlink, mkdir } = fs.promises\n\nconst BackupModule = (userDataPath) => (settings, logger) => {\n  const OFFLINE_FILE_FILES_PATH = path.join(userDataPath, 'offline')\n\n  const { readSettings } = settings\n\n  const defaultBackupPath = path.join(userDataPath, 'backups')\n\n  function isOfflineFileURL(fileURL) {\n    return fileURL.startsWith(OFFLINE_FILE_FILES_PATH)\n  }\n\n  const backupBasePath = () => {\n    return readSettings().then((settings) => {\n      const configuredBackupPath = settings.user.backupLocation\n      return (configuredBackupPath !== 'default' && configuredBackupPath) || defaultBackupPath\n    })\n  }\n\n  function saveBackup(filePath, data) {\n    logger.info(`Saving backup of: ${filePath}`)\n    return backupBasePath().then((basePath) => {\n      if (path.normalize(filePath).startsWith(path.normalize(basePath))) {\n        const message = `Attempting to save a backup of a file that's already a backup (${filePath})!  Backups are in ${basePath}`\n        logger.error(message)\n        return Promise.reject(message)\n      }\n      const isOfflineBackupFile = isOfflineFileURL(filePath)\n      if (isOfflineBackupFile) {\n        return Promise.reject(`Trying to save a backup from an offline mode file: ${filePath}`)\n      }\n      return readSettings().then((settings) => {\n        try {\n          if (!settings.backup) {\n            logger.warn('Backups are disabled.')\n            return Promise.resolve()\n          }\n\n          const backupStrategy = settings.user.backupType || 'never-delete'\n          const amount =\n            backupStrategy === 'never-delete'\n              ? null\n              : backupStrategy === 'days'\n              ? settings.user.backupDays\n              : settings.user.numberOfBackups\n\n          // Don't involve deletion in the control flow of this function\n          // because it'll slow things down and we don't really mind if it\n          // fails.\n          deleteOldBackups(backupStrategy, amount)\n            .then((deleted) => {\n              if (deleted.length) {\n                logger.info('Deleted old backups: ', deleted)\n              } else {\n                // logger.info('No old backups to delete')\n              }\n            })\n            .catch((error) => {\n              logger.error('Error while deleting old backups', error)\n            })\n\n          return ensureBackupTodayPath()\n            .then(backupPath)\n            .then((partialPath) => {\n              const fileBaseName = path.basename(filePath)\n              const startBaseName = `(start-session)-${fileBaseName}`\n              const startFilePath = path.join(partialPath, startBaseName)\n              const SAVED_START_OF_SESSION_BACKUP = 'saved-start-of-session-backup'\n              return lstat(startFilePath)\n                .catch((error) => {\n                  if (error.code === 'ENOENT') {\n                    return saveFile(startFilePath, data).then(() => {\n                      return SAVED_START_OF_SESSION_BACKUP\n                    })\n                  }\n                  return Promise.reject(error)\n                })\n                .then((result) => {\n                  if (result === SAVED_START_OF_SESSION_BACKUP) {\n                    return result\n                  }\n\n                  const backupFilePath = path.join(partialPath, fileBaseName)\n                  return saveFile(backupFilePath, data)\n                })\n            })\n        } catch (error) {\n          return Promise.reject(error)\n        }\n      })\n    })\n  }\n\n  function saveFile(filePath, data) {\n    var stringState = JSON.stringify(data)\n    return writeFile(filePath, stringState)\n  }\n\n  // make the backup a daily record\n  // (with a separate backup for the first time saving a file that day)\n  function backupPath() {\n    const today = new Date()\n\n    var day = today.getDate()\n    var month = today.getMonth() + 1\n    var year = today.getFullYear()\n\n    return backupBasePath().then((basePath) => {\n      return path.join(basePath, `${month}_${day}_${year}`)\n    })\n  }\n\n  // assumes base path exists\n  function ensureBackupTodayPath() {\n    return readSettings().then((settings) => {\n      if (!settings.backup) return true\n\n      return backupPath().then((backupFolder) => {\n        return lstat(backupFolder).catch((error) => {\n          if (error.code === 'ENOENT') {\n            return mkdir(backupFolder, { recursive: true })\n          }\n          return Promise.reject(error)\n        })\n      })\n    })\n  }\n\n  function ensureBackupFullPath() {\n    return readSettings().then((settings) => {\n      return backupBasePath().then((basePath) => {\n        if (!settings.backup) return true\n\n        return lstat(basePath)\n          .catch((error) => {\n            if (error.code === 'ENOENT') {\n              return mkdir(basePath, { recursive: true })\n            }\n            return Promise.reject(error)\n          })\n          .then(ensureBackupTodayPath)\n      })\n    })\n  }\n\n  function deleteOldBackups(strategy, amount) {\n    // Perform this check before any file system interactions for the\n    // sake of efficiency.\n    if (strategy === 'never-delete') {\n      // logger.info('Strategy set to \"never-delete\".  Keeping all backups.')\n      return Promise.resolve([])\n    }\n\n    if (!amount) {\n      logger.warn(`Invalid quantity for backup (with strategy: ${strategy}): ${amount}`)\n      return Promise.resolve([])\n    }\n\n    return backupBasePath().then((basePath) => {\n      return backupFiles(basePath).then((unsortedFiles) => {\n        const files = sortFileNamesByDate(unsortedFiles)\n\n        switch (strategy) {\n          case 'days': {\n            const anchorDate = nDaysAgo(amount)\n            const filesToDelete = files.filter((file) => !fileIsSoonerThan(anchorDate, file))\n            if (!filesToDelete.length) return []\n            logger.warn(`Removing old backups: ${filesToDelete}`)\n            return Promise.all(\n              filesToDelete.map((file) => {\n                return unlink(path.join(basePath, file)).catch((error) => {\n                  logger.error(error)\n                  // Ignore this error, it's not a big deal if we fail\n                  // to delete an old backup\n                  return Promise.resolve(true)\n                })\n              })\n            )\n              .then(deleteEmptyFolders)\n              .then(() => {\n                return filesToDelete\n              })\n          }\n          case 'number': {\n            const filesToDelete = files.slice(0, files.length - amount)\n            if (!filesToDelete.length) return []\n            logger.warn(`Removing old backups: ${filesToDelete}`)\n            return Promise.all(\n              filesToDelete.map((file) => {\n                return unlink(path.join(basePath, file)).catch((error) => {\n                  logger.error('Error deleting an old backup: ${fille}', error)\n                  // Ignore this error, it's not a big deal if we fail\n                  // to delete an old backup\n                  return Promise.resolve(true)\n                })\n              })\n            )\n              .then(deleteEmptyFolders)\n              .then(() => {\n                return filesToDelete\n              })\n          }\n          default: {\n            logger.warn(\n              `Unhandled backup strategy for removing old backups (${strategy}).  Leaving everything as is.`\n            )\n            return []\n          }\n        }\n      })\n    })\n  }\n\n  function deleteEmptyFolders() {\n    return backupBasePath()\n      .then((basePath) => {\n        return readdir().then((elems) =>\n          Promise.all(\n            elems.map((elem) =>\n              lstat(path.join(basePath, elem)).then((fileStats) =>\n                readdir(path.join(basePath, elem)).then((contents) => ({\n                  keep: fileStats.isDirectory() && contents.length === 0,\n                  payload: elem,\n                }))\n              )\n            )\n          ).then((entries) =>\n            // rmdir is a safe way to do this because it will check that a\n            // folder is empty before deleting it.\n            Promise.all(\n              entries\n                .filter(({ keep }) => keep)\n                .map(({ payload }) => payload)\n                .map((emptyDirectory) => rmdir(path.join(basePath, emptyDirectory)))\n            )\n          )\n        )\n      })\n      .catch((error) => {\n        logger.error('Error while deleting empty folders', error)\n      })\n  }\n\n  const BACKUP_FOLDER_REGEX = /^1?[0-9]_[123]?[0-9]_[0-9][0-9][0-9][0-9]/\n\n  function isABackupFile(fileName) {\n    return fileName.match(/\\.pltr$/) && fileName.match(BACKUP_FOLDER_REGEX)\n  }\n\n  function backupFolders(backupBaseFolder) {\n    return readdir(backupBaseFolder).then((entries) => {\n      return Promise.all(\n        entries.map((entry) =>\n          lstat(path.join(backupBaseFolder, entry)).then((folder) => ({\n            keep: folder.isDirectory() && entry.match(BACKUP_FOLDER_REGEX),\n            payload: entry,\n          }))\n        )\n      ).then((results) => results.filter(({ keep }) => keep).map(({ payload }) => payload))\n    })\n  }\n\n  function backupFiles(backupBaseFolder) {\n    return backupFolders(backupBaseFolder).then((folders) => {\n      const folderProbes = folders.map((backupFolder) => {\n        const subPath = path.join(backupBaseFolder, backupFolder)\n        return readdir(subPath).then((subFolderContents) =>\n          Promise.all(\n            subFolderContents.map((entry) =>\n              lstat(path.join(subPath, entry)).then((entryStats) => ({\n                keep: entryStats.isFile(),\n                payload: entry,\n              }))\n            )\n          ).then((files) =>\n            files\n              .filter(({ keep }) => keep)\n              .map(({ payload }) => payload)\n              .map((file) => path.join(backupFolder, file))\n              .filter((file) => isABackupFile(file))\n          )\n        )\n      })\n      return Promise.all(folderProbes).then((subFilesByFolder) =>\n        subFilesByFolder.flatMap((x) => x)\n      )\n    })\n  }\n\n  const byDateThenFile = (thisFileName, otherFileName) => {\n    const [thisMonth, thisDay, thisYear] = [...thisFileName.matchAll(/[0-9]+/g)].map((xs) =>\n      Number(xs[0])\n    )\n    const [thatMonth, thatDay, thatYear] = [...otherFileName.matchAll(/[0-9]+/g)].map((xs) =>\n      Number(xs[0])\n    )\n    const thatDateBeforeThis =\n      thatYear < thisYear ||\n      (thatYear === thisYear && thatMonth < thisMonth) ||\n      (thatYear === thisYear && thatMonth === thisMonth && thatDay < thisDay)\n    const thatDateSameAsThis =\n      thatYear === thisYear && thatMonth === thisMonth && thatDay === thisDay\n\n    const thisIsStartFile = thisFileName.match(/\\(start-session\\)/)\n    const thatIsStartFile = otherFileName.match(/\\(start-session\\)/)\n\n    const thatBeforeThis =\n      thatDateBeforeThis || (thatDateSameAsThis && thatIsStartFile && !thisIsStartFile)\n\n    if (thatBeforeThis) return 1\n\n    if (thatDateSameAsThis && thisIsStartFile === thatIsStartFile) return 0\n\n    return -1\n  }\n\n  function sortFileNamesByDate(fileNames) {\n    return fileNames.sort(byDateThenFile)\n  }\n\n  function nDaysAgo(n, anchorDate = DateTime.now()) {\n    return anchorDate.minus(Duration.fromObject({ days: n }))\n  }\n\n  function fileIsSoonerThan(nDaysAgoDate, fileName) {\n    const [month, day, year] = [...fileName.matchAll(/[0-9]+/g)].map((xs) => Number(xs[0]))\n    return DateTime.fromObject({ day, month, year }) > nDaysAgoDate\n  }\n\n  return {\n    defaultBackupPath,\n    backupBasePath,\n    saveBackup,\n    ensureBackupTodayPath,\n    ensureBackupFullPath,\n    deleteOldBackups,\n    isABackupFile,\n    backupFolders,\n    backupFiles,\n    sortFileNamesByDate,\n    nDaysAgo,\n    fileIsSoonerThan,\n  }\n}\n\nexport default BackupModule\n","export default {\n  saveSettings: true,\n  savedType: 'word',\n  scrivener: {\n    general: {},\n    outline: {\n      export: true,\n      columnOrRow: 'column',\n      sceneCards: true,\n      plotlineInTitle: true,\n      attachments: true,\n      description: true,\n      descriptionHeading: true,\n      where: 'synopsis',\n      customAttributes: true,\n      templates: true,\n      filter: null,\n    },\n    characters: {\n      export: true,\n      heading: true,\n      description: true,\n      descriptionHeading: true,\n      attachments: true,\n      notesHeading: true,\n      notes: true,\n      customAttributes: true,\n      templates: true,\n      tags: true,\n      categoryHeading: true,\n      category: true,\n    },\n    places: {\n      export: true,\n      heading: true,\n      description: true,\n      descriptionHeading: true,\n      attachments: true,\n      notesHeading: true,\n      notes: true,\n      customAttributes: true,\n      tags: true,\n    },\n    notes: {\n      export: true,\n      heading: true,\n      attachments: true,\n      content: true,\n    },\n  },\n  word: {\n    general: {\n      titlePage: true,\n    },\n    outline: {\n      export: true,\n      columnOrRow: 'column',\n      heading: true,\n      sceneCards: true,\n      plotlineInTitle: true,\n      attachments: true,\n      description: true,\n      customAttributes: true,\n      templates: true,\n      filter: null,\n    },\n    characters: {\n      export: true,\n      heading: true,\n      images: true,\n      descriptionHeading: true,\n      description: true,\n      attachments: true,\n      notesHeading: true,\n      notes: true,\n      customAttributes: true,\n      templates: true,\n      categoryHeading: true,\n      category: true,\n    },\n    places: {\n      export: true,\n      heading: true,\n      images: true,\n      descriptionHeading: true,\n      description: true,\n      attachments: true,\n      notesHeading: true,\n      notes: true,\n      customAttributes: true,\n    },\n    notes: {\n      export: true,\n      heading: true,\n      images: true,\n      attachments: true,\n      content: true,\n    },\n  },\n}\n","import fs from 'fs'\nimport path from 'path'\nimport { cloneDeep, set, get } from 'lodash'\n\nconst { readFile, open, writeFile, lstat, mkdir } = fs.promises\n\nclass Store {\n  store = {}\n  watchers = new Set()\n\n  constructor(userDataPath, logger, { name, watch, defaults, onInvalidStore }) {\n    logger.info(`Constructing store for: ${name}`)\n\n    this.name = name\n    this.watch = watch\n    this.defaults = defaults || {}\n    this.onInvalidStore = onInvalidStore\n    this.logger = logger\n    this.userDataPath = userDataPath\n    this.path = path.join(userDataPath, `${name}.json`)\n    this.activeWrite = null\n    this.initialReadComplete = false\n\n    this._readStore().then(() => {\n      this.initialReadComplete = true\n      if (this.watch) {\n        this.watchStore()\n      }\n    })\n  }\n\n  stop = () => {\n    if (this.watcher && typeof this.watcher.close === 'function') {\n      this.watcher.close()\n    }\n  }\n\n  activeWriteRequest = () => {\n    return this.activeWrite || Promise.resolve(true)\n  }\n\n  watchStore = () => {\n    this.watcher = fs.watchFile(this.path, (currentFileStats, previousFileStats) => {\n      if (currentFileStats.mtimeMs === previousFileStats.mtimeMs) {\n        // File didn't actually change.  It was probably just\n        // accessed.\n        return\n      }\n      if (!currentFileStats.isFile()) {\n        this.logger.warn(\n          `File for store connected to ${this.name} at ${this.path} dissapeared.  Setting store to empty.`\n        )\n        this.store = {}\n        this.writeStore()\n        this.publishChangesToWatchers()\n        return\n      }\n      this._readStore().then(() => {\n        this.publishChangesToWatchers()\n      })\n    })\n  }\n\n  publishChangesToWatchers = () => {\n    this.watchers.forEach((cb) => {\n      cb({\n        ...this.defaults,\n        ...this.store,\n      })\n    })\n  }\n\n  onDidAnyChange = (cb) => {\n    this.watchers.add(cb)\n    return () => {\n      this.watchers.delete(cb)\n    }\n  }\n\n  afterActiveWrite = (f) => {\n    return this.activeWriteRequest().then(() => {\n      return f()\n    })\n  }\n\n  currentStore = () => {\n    return this.afterActiveWrite(() => {\n      if (this.initialReadComplete) {\n        return this.store\n      }\n\n      return this._readStore().then(() => {\n        return this.store\n      })\n    })\n  }\n\n  // This doesn't need to wait for active writes because it's\n  // internal.  Please don't use it externally, That will lead to race\n  // conditions.  Use `currentStore` instead!!\n  _readStore = () => {\n    return readFile(this.path)\n      .catch((error) => {\n        if (error.code === 'ENOENT') {\n          const createStore = () => {\n            // The store doesn't yet exist.  Create it.\n            this.store = this.defaults\n            return this.writeStore().then(() => {\n              return JSON.stringify(this.store)\n            })\n          }\n          // Does the user data folder exist?\n          return lstat(this.userDataPath)\n            .then(createStore)\n            .catch((dataDirError) => {\n              // Use data folder doesn't exist.  Create it.\n              if (dataDirError.code === 'ENOENT') {\n                this.logger.warn(\n                  `User data path doesn't exist at: ${this.userDataPath}.  Attempting to create it.`\n                )\n                return mkdir(this.userDataPath, { recursive: true }).then(createStore)\n              }\n              return Promise.reject(dataDirError)\n            })\n            .then(createStore)\n        }\n        this.logger.error(`Failed to construct store for ${this.name} at ${this.path}`, error)\n        throw new Error(`Failed to construct store for ${this.name} at ${this.path}`, error)\n      })\n      .then((storeContents) => {\n        try {\n          this.store =\n            storeContents.toString() === ''\n              ? this.defaults\n              : {\n                  ...this.defaults,\n                  ...JSON.parse(storeContents),\n                }\n          return this.store\n        } catch (error) {\n          this.logger.error(\n            `Contents of store for ${this.name} at ${this.path} are invalid: <${storeContents}>`,\n            error\n          )\n          if (this.onInvalidStore) {\n            this.logger.info('Recovering with supplied recovery function.')\n            return this.onInvalidStore()\n          }\n\n          throw new Error(\n            `Contents of store for ${this.name} at ${this.path} are invalid: <${storeContents}>`,\n            error\n          )\n        }\n      })\n  }\n\n  has = (key) => {\n    return !!this.get(key)\n  }\n\n  writeStore = () => {\n    return this.activeWriteRequest().then(() => {\n      this.activeWrite = open(this.path, 'w+')\n        .then((fileHandle) => {\n          return writeFile(\n            fileHandle,\n            JSON.stringify(\n              {\n                ...this.defaults,\n                ...this.store,\n              },\n              null,\n              2\n            )\n          )\n            .then(() => {\n              return fileHandle.sync().then(() => {\n                return fileHandle.close()\n              })\n            })\n            .then(() => {\n              this.publishChangesToWatchers()\n            })\n        })\n        .catch((error) => {\n          this.logger.error(`Failed to write ${this.store} store for ${this.path}`, error)\n          throw new Error(`Failed to write ${this.store} store for ${this.path}`, error)\n        })\n        .finally(() => {\n          this.activeWrite = null\n        })\n    })\n  }\n\n  set = (storeOrKey, value) => {\n    return this.afterActiveWrite(() => {\n      if (typeof value !== 'undefined') {\n        const key = `${storeOrKey}`\n        this.store = cloneDeep(this.store)\n        set(this.store, key, value)\n        return this.writeStore()\n          .then(() => {\n            this.publishChangesToWatchers()\n          })\n          .then(() => true)\n      }\n\n      const store = storeOrKey\n      if (typeof store !== 'object') {\n        return Promise.reject(`Tried to set store to non-object: ${store}`)\n      }\n      this.store = cloneDeep(store)\n      return this.writeStore()\n        .then(() => {\n          this.publishChangesToWatchers()\n        })\n        .then(() => true)\n    })\n  }\n\n  // Use this if you have full stops in your key that you don't want\n  // the store to interpret as nested objects.\n  setRawKey = (key, value) => {\n    if (!key) {\n      const message = `Attempted to set key: ${key} to ${value} but (as you can see, there's no key)`\n      this.logger.error(message)\n      return Promise.reject(new Error(message))\n    }\n    return this.afterActiveWrite(() => {\n      this.store = cloneDeep(this.store)\n      this.store[key] = value\n      return this.writeStore()\n        .then(() => {\n          this.publishChangesToWatchers()\n        })\n        .then(() => true)\n    })\n  }\n\n  clear = () => {\n    return this.afterActiveWrite(() => {\n      this.store = {}\n      return this.writeStore()\n        .then(() => {\n          this.publishChangesToWatchers()\n        })\n        .then(() => true)\n    })\n  }\n\n  delete = (id) => {\n    return this.afterActiveWrite(() => {\n      this.store = cloneDeep(this.store)\n      delete this.store[id]\n      return this.writeStore()\n        .then(() => {\n          this.publishChangesToWatchers()\n        })\n        .then(() => true)\n    })\n  }\n\n  filter = (predicate) => {\n    return this.afterActiveWrite(() => {\n      this.store = Object.entries(cloneDeep(this.store)).reduce((acc, next) => {\n        const [key, value] = next\n        if (predicate(value, key)) {\n          return {\n            ...acc,\n            [key]: value,\n          }\n        }\n        return acc\n      }, {})\n      return this.writeStore()\n        .then(() => {\n          this.publishChangesToWatchers()\n        })\n        .then(() => true)\n    })\n  }\n\n  mapValues = (f) => {\n    return this.afterActiveWrite(() => {\n      this.store = Object.entries(cloneDeep(this.store)).reduce((acc, next) => {\n        const [key, value] = next\n        return {\n          ...acc,\n          [key]: f(value),\n        }\n      }, {})\n      return this.writeStore()\n        .then(() => {\n          this.publishChangesToWatchers()\n        })\n        .then(() => true)\n    })\n  }\n\n  map = (f) => {\n    return this.afterActiveWrite(() => {\n      this.store = Object.entries(cloneDeep(this.store)).reduce((acc, next) => {\n        const [key, value] = next\n        const newKeyValue = f(value, key)\n        return {\n          ...acc,\n          ...newKeyValue,\n        }\n      }, {})\n      return this.writeStore()\n        .then(() => {\n          this.publishChangesToWatchers()\n        })\n        .then(() => true)\n    })\n  }\n\n  some = (predicate) => {\n    return this.afterActiveWrite(() => {\n      return Object.entries(this.store).some(([key, value]) => {\n        return predicate(value, key)\n      })\n    })\n  }\n\n  get = (key) => {\n    if (typeof key !== 'undefined') {\n      return get(this.store, key) || get(this.defaults, key)\n    }\n\n    return {\n      ...this.defaults,\n      ...this.store,\n    }\n  }\n\n  // Use this if you have full stops in your key that you don't want\n  // the store to interpret as nested objects.\n  getRawKey = (key) => {\n    if (typeof key !== 'undefined') {\n      return this.store[key] || this.defaults[key]\n    }\n\n    return {\n      ...this.defaults,\n      ...this.store,\n    }\n  }\n}\n\nexport default Store\n","import { basename } from 'path'\n\nimport export_config from 'plottr_import_export/src/exporter/default_config'\n\nimport { helpers } from 'pltr/v2'\n\nimport defaultSettings from '../../shared/default_settings'\nimport Store from '../lib/store'\n\nexport const TRIAL_INFO_PATH = 'trial_info'\nexport const USER_INFO_PATH = 'license_info'\nexport const OPEN_FILES_PATH = 'open_files'\nexport const KNOWN_FILES_PATH = 'known_files'\nexport const TEMPLATES_MANIFEST_PATH = 'templates_manifest'\nexport const TEMPLATES_PATH = 'templates'\nexport const CUSTOM_TEMPLATES_PATH = 'custom_templates'\nexport const TMP_PATH = 'tmp'\nexport const EXPORT_CONFIG_PATH = 'export_config'\nexport const TEMP_FILES_PATH = 'tmp'\n\nconst tempPath = process.env.NODE_ENV == 'development' ? `${TMP_PATH}_dev` : TMP_PATH\nconst knownFilesPath =\n  process.env.NODE_ENV == 'development' ? `${KNOWN_FILES_PATH}_dev` : KNOWN_FILES_PATH\nconst templatesPath =\n  process.env.NODE_ENV == 'development' ? `${TEMPLATES_PATH}_dev` : TEMPLATES_PATH\nconst customTemplatesPath =\n  process.env.NODE_ENV == 'development' ? `${CUSTOM_TEMPLATES_PATH}_dev` : CUSTOM_TEMPLATES_PATH\nconst manifestPath =\n  process.env.NODE_ENV == 'development' ? `${TEMPLATES_MANIFEST_PATH}_dev` : TEMPLATES_MANIFEST_PATH\nconst exportPath =\n  process.env.NODE_ENV == 'development' ? `${EXPORT_CONFIG_PATH}_dev` : EXPORT_CONFIG_PATH\nconst LAST_OPENED_NAME = process.env.NODE_ENV == 'development' ? 'last_opened_dev' : 'last_opened'\n\nexport const migrateKnownFilesStoreObject = (knownFiles) => {\n  return Object.entries(knownFiles).reduce((acc, [key, value]) => {\n    if (!value.path && !value.fileURL) {\n      return acc\n    }\n\n    const fileURL = value.fileURL || helpers.file.filePathToFileURL(value.path)\n    if (!fileURL) {\n      return acc\n    }\n\n    return {\n      ...acc,\n      [fileURL]: {\n        fileURL,\n        fileName: basename(helpers.file.withoutProtocol(fileURL), '.pltr'),\n        lastOpened: value.lastOpened,\n      },\n    }\n  }, {})\n}\n\nexport const migrateTempFilesStoreObject = (tempFiles) => {\n  return Object.entries(tempFiles).reduce((acc, [key, value]) => {\n    if (!value.path && !value.fileURL) {\n      return acc\n    }\n\n    const fileURL = value.fileURL || helpers.file.filePathToFileURL(value.path)\n    if (!fileURL) {\n      return acc\n    }\n\n    return {\n      ...acc,\n      [fileURL]: {\n        fileURL,\n      },\n    }\n  }, {})\n}\n\nconst makeStores = (userDataPath, logger) => {\n  const trialStore = new Store(userDataPath, logger, { name: TRIAL_INFO_PATH, watch: true })\n  const licenseStore = new Store(userDataPath, logger, { name: USER_INFO_PATH, watch: true })\n  const knownFilesStore = new Store(userDataPath, logger, { name: knownFilesPath, watch: true })\n  const tempFilesStore = new Store(userDataPath, logger, {\n    name: tempPath,\n    watch: true,\n  })\n  const templatesStore = new Store(userDataPath, logger, {\n    name: templatesPath,\n    watch: true,\n    onInvalidStore: resetTemplates,\n  })\n  const customTemplatesStore = new Store(userDataPath, logger, {\n    name: customTemplatesPath,\n    watch: true,\n  })\n  const exportConfigStore = new Store(userDataPath, logger, {\n    name: exportPath,\n    watch: true,\n    defaults: export_config,\n  })\n  const manifestStore = new Store(userDataPath, logger, {\n    name: manifestPath,\n    watch: true,\n    onInvalidStore: resetTemplates,\n  })\n  const USER = new Store(userDataPath, logger, { name: USER_INFO_PATH, watch: true })\n  function resetTemplates() {\n    logger.info('Clearing template store and manifest store.')\n    return templatesStore.clear().then(() => {\n      return manifestStore.clear().then(() => {\n        return Promise.reject(new Error('Error reading templates'))\n      })\n    })\n  }\n\n  const settingsStorePath = process.env.NODE_ENV == 'development' ? 'config_dev' : 'config'\n  const SETTINGS = new Store(userDataPath, logger, {\n    defaults: defaultSettings,\n    name: settingsStorePath,\n    watch: true,\n  })\n  const lastOpenedFileStore = new Store(userDataPath, logger, {\n    name: LAST_OPENED_NAME,\n    watch: true,\n  })\n\n  // ===Migrations===\n\n  function oldMigration() {\n    // MIGRATE ONE TIME (needed after 2020.12.1 for the dashboard)\n    const needsMigration = knownFilesStore.has('byIds') || knownFilesStore.has('allIds')\n    if (needsMigration) {\n      // it's in the old format and we need to migrate\n      // const filesById = knownFilesStore.get('byIds')\n      const fileIds = knownFilesStore.get('allIds')\n      const fileObjects = fileIds.reduce((acc, id, idx) => {\n        const key = `byIds.${id.replace('.', '~$~')}`\n        const val = knownFilesStore.get(key)\n        if (val) {\n          // create an entry for this file\n          const newId = idx + 1\n          const entry = {\n            path: id,\n            lastOpened: val.lastOpened,\n          }\n          acc[newId] = entry\n        }\n        return acc\n      }, {})\n      return knownFilesStore.clear().then(() => {\n        return knownFilesStore.set(fileObjects)\n      })\n    }\n\n    return Promise.resolve()\n  }\n\n  function migrateKnownFileStore() {\n    return knownFilesStore\n      .currentStore()\n      .then(oldMigration)\n      .then(() => {\n        return knownFilesStore\n          .some((value, key) => {\n            return typeof key !== 'string' || !helpers.file.isProtocolString(key)\n          })\n          .then((needsToBeReKeyed) => {\n            if (needsToBeReKeyed) {\n              logger.info(\n                'Migrating the known files store because we found a key that is not a file URL.'\n              )\n              return knownFilesStore.currentStore().then((currentStore) => {\n                return knownFilesStore.set(migrateKnownFilesStoreObject(currentStore))\n              })\n            }\n            return true\n          })\n      })\n  }\n\n  function migrateTempFilesStore() {\n    return tempFilesStore.currentStore().then(() => {\n      return tempFilesStore\n        .some((value, key) => {\n          return typeof key !== 'string' || !helpers.file.isProtocolString(key)\n        })\n        .then((needsToBeReKeyed) => {\n          if (needsToBeReKeyed) {\n            logger.info(\n              'Migrating the temp files store because we found a key that is not a file URL.'\n            )\n            return tempFilesStore.currentStore().then((currentStore) => {\n              return tempFilesStore.set(migrateTempFilesStore(currentStore))\n            })\n          }\n          return true\n        })\n    })\n  }\n\n  migrateKnownFileStore()\n  migrateTempFilesStore()\n\n  return {\n    trialStore,\n    licenseStore,\n    knownFilesStore,\n    templatesStore,\n    customTemplatesStore,\n    exportConfigStore,\n    manifestStore,\n    USER,\n    SETTINGS,\n    tempFilesStore,\n    lastOpenedFileStore,\n  }\n}\n\nexport default makeStores\n","import path from 'path'\nimport fs from 'fs'\nimport { sortBy } from 'lodash'\n\nimport { BACKUP_BASE_PATH, CUSTOM_TEMPLATES_PATH } from './stores'\n\nimport { helpers } from 'pltr/v2'\n\nconst { readdir, mkdir, lstat, cp } = fs.promises\n\nconst TRIAL_LENGTH = 30\nconst EXTENSIONS = 2\n\nfunction americanToYearFirst(dateString) {\n  const [month, day, year] = dateString.split('_')\n  return `${year}_${month}_${day}`\n}\n\nfunction addDays(date, days) {\n  var result = new Date(date)\n  result.setDate(result.getDate() + days)\n  result.setHours(23, 59, 59, 999)\n  return result\n}\n\nconst withFromFileSystem = (backupFolder) => ({\n  ...backupFolder,\n  fromFileSystem: true,\n})\n\nconst BACKUP_FOLDER_REGEX = /^1?[0-9]_[123]?[0-9]_[0-9][0-9][0-9][0-9]/\n\nfunction isOfflineFile(fileURL, offlineFileFilesPath) {\n  return fileURL && helpers.file.withoutProtocol(fileURL).startsWith(offlineFileFilesPath)\n}\n\nconst fileSystemModule = (userDataPath) => {\n  const OFFLINE_FILE_FILES_PATH = path.join(userDataPath, 'offline')\n  const BACKUP_BASE_PATH = path.join(userDataPath, 'backups')\n  const TEMP_FILES_PATH = path.join(userDataPath, 'tmp')\n  const customTemplatesPath = path.join(userDataPath, `${CUSTOM_TEMPLATES_PATH}.json`)\n\n  return (stores, logger) => {\n    const {\n      trialStore,\n      licenseStore,\n      knownFilesStore,\n      templatesStore,\n      customTemplatesStore,\n      manifestStore,\n      exportConfigStore,\n      SETTINGS,\n      USER,\n      lastOpenedFileStore,\n    } = stores\n\n    const lastOpenedFile = async () => {\n      const lastFile = lastOpenedFileStore.get('lastOpenedFilePath')\n\n      if (isOfflineFile(lastFile, OFFLINE_FILE_FILES_PATH)) {\n        return Promise.resolve(null)\n      }\n\n      if (helpers.file.urlPointsToPlottrCloud(lastFile)) {\n        return lastFile\n      }\n\n      return lstat(helpers.file.withoutProtocol(lastFile))\n        .then(() => {\n          return lastFile\n        })\n        .catch((error) => {\n          if (error.code === 'ENOENT') {\n            return null\n          }\n          logger.error('Error finding last opened file.  Refusing to open it.', error)\n          return null\n        })\n    }\n\n    const setLastOpenedFilePath = (filePath) => {\n      // We don't want to record last opened when we should be in pro\n      // and opened a device file.\n      const frbId = typeof SETTINGS.get('user.frbId')\n      if (\n        typeof SETTINGS.get('user.frbId') === 'string' &&\n        frbId !== '' &&\n        helpers.file.isDeviceFileURL(filePath)\n      ) {\n        return Promise.resolve()\n      }\n\n      // Never record offline files as the last opened file(!)  Rather\n      // try to open the cloud file and redirect to the local file\n      // when Plottr discovers that it's offline.\n      if (isOfflineFile(filePath)) {\n        return Promise.resolve()\n      }\n\n      return lastOpenedFileStore.set('lastOpenedFilePath', filePath)\n    }\n\n    const currentAppSettings = () => {\n      return SETTINGS.currentStore()\n    }\n\n    function backupBasePath() {\n      return currentAppSettings().then((settings) => {\n        const configuredLocation = settings.user?.backupLocation\n        return (configuredLocation !== 'default' && configuredLocation) || BACKUP_BASE_PATH\n      })\n    }\n\n    function setTemplate(id, template) {\n      return templatesStore.setRawKey(id, template)\n    }\n\n    function setCustomTemplate(id, template) {\n      return customTemplatesStore.setRawKey(id, template)\n    }\n\n    function deleteCustomTemplate(id) {\n      return customTemplatesStore.delete(id)\n    }\n\n    const listenToTrialChanges = (cb) => {\n      cb(trialStore.store)\n      return trialStore.onDidAnyChange.bind(trialStore)(cb)\n    }\n    const currentTrial = () => {\n      return trialStore.currentStore()\n    }\n    const startTrial = (numDays = null) => {\n      const day = new Date()\n      const startsAt = day.getTime()\n      const end = addDays(startsAt, numDays || TRIAL_LENGTH)\n      const endsAt = end.getTime()\n      return trialStore.set({ startsAt, endsAt, extensions: EXTENSIONS })\n    }\n    const extendTrialWithReset = (days) => {\n      return currentTrial().then((currentInfo) => {\n        if (currentInfo.hasBeenReset) {\n          return true\n        }\n\n        const newEnd = addDays(currentInfo.endsAt, days)\n        return trialStore\n          .setRawKey('endsAt', newEnd.getTime())\n          .then(() => {\n            return trialStore.setRawKey('extensions', EXTENSIONS)\n          })\n          .then(() => {\n            trialStore.setRawKey('hasBeenReset', true)\n          })\n      })\n    }\n\n    const listenToLicenseChanges = (cb) => {\n      cb(licenseStore.store)\n      return licenseStore.onDidAnyChange.bind(licenseStore)(cb)\n    }\n    const currentLicense = () => {\n      return licenseStore.currentStore()\n    }\n    const deleteLicense = () => {\n      return licenseStore.clear()\n    }\n    const saveLicenseInfo = (newLicense) => {\n      return licenseStore.set(newLicense)\n    }\n\n    const isValidKnownFile = (file) => {\n      return typeof file.fileURL === 'string' && file.lastOpened\n    }\n\n    const listenToknownFilesChanges = (cb) => {\n      const transformStore = (store) => {\n        return Object.entries(store)\n          .filter(([key, file]) => {\n            return isValidKnownFile(file)\n          })\n          .map(([key, file]) => {\n            return {\n              fileURL: file.fileURL,\n              fileName: file.fileName,\n              lastOpened: file.lastOpened,\n              isTempFile: file.fileURL.includes(TEMP_FILES_PATH),\n            }\n          })\n      }\n\n      const withFileSystemAsSource = (files) => {\n        return cb(transformStore(files))\n      }\n\n      cb(transformStore(knownFilesStore.store))\n      return knownFilesStore.onDidAnyChange.bind(knownFilesStore)(withFileSystemAsSource)\n    }\n\n    const currentKnownFiles = () => {\n      return knownFilesStore.currentStore().then((fileIndex) => {\n        return Object.entries(fileIndex)\n          .filter(([key, file]) => {\n            return isValidKnownFile(file)\n          })\n          .map(([key, file]) => ({\n            fileURL: file.fileURL,\n            fileName: file.fileName,\n            lastOpened: file.lastOpened,\n            isTempFile: file.fileURL.includes(TEMP_FILES_PATH),\n          }))\n      })\n    }\n\n    const listenToTemplatesChanges = (cb) => {\n      cb(templatesStore.store)\n      return templatesStore.onDidAnyChange.bind(templatesStore)(cb)\n    }\n    const currentTemplates = () => {\n      return templatesStore.currentStore()\n    }\n\n    const listenToCustomTemplatesChanges = (cb) => {\n      const withTemplatesAsArray = (templates) => {\n        return cb(Object.values(templates))\n      }\n      cb(Object.values(customTemplatesStore.store))\n      return customTemplatesStore.onDidAnyChange.bind(customTemplatesStore)(withTemplatesAsArray)\n    }\n    const currentCustomTemplates = () => {\n      return customTemplatesStore.currentStore()\n    }\n\n    const listenToTemplateManifestChanges = (cb) => {\n      cb(manifestStore.store)\n      return manifestStore.onDidAnyChange.bind(manifestStore)(cb)\n    }\n    const currentTemplateManifest = () => {\n      return manifestStore.currentStore()\n    }\n\n    const listenToExportConfigSettingsChanges = (cb) => {\n      cb(exportConfigStore.store)\n      return exportConfigStore.onDidAnyChange.bind(exportConfigStore)(cb)\n    }\n    const currentExportConfigSettings = () => {\n      return exportConfigStore.currentStore()\n    }\n    const saveExportConfigSettings = (key, value) => {\n      return exportConfigStore.set(key, value)\n    }\n\n    const listenToAppSettingsChanges = (cb) => {\n      cb(SETTINGS.store)\n      return SETTINGS.onDidAnyChange.bind(SETTINGS)(cb)\n    }\n    const saveAppSetting = (key, value) => {\n      return SETTINGS.set(key, value)\n    }\n\n    const listenToUserSettingsChanges = (cb) => {\n      cb(USER.store)\n      return USER.onDidAnyChange.bind(USER)(cb)\n    }\n    const currentUserSettings = () => {\n      return USER.currentStore()\n    }\n\n    const backupDirExists = () => {\n      return backupBasePath()\n        .then((basePath) => {\n          return lstat(basePath).then((stats) => {\n            return stats.isDirectory\n          })\n        })\n        .catch((error) => {\n          if (error.code !== 'ENOENT') {\n            return Promise.reject(error)\n          }\n          return false\n        })\n    }\n\n    const ensureBackupDirExists = () => {\n      return backupDirExists().then((backupDirDoesExist) => {\n        return backupBasePath().then((basePath) => {\n          return !backupDirDoesExist ? mkdir(basePath, { recursive: true }) : Promise.resolve(true)\n        })\n      })\n    }\n\n    const listenToBackupsChanges = (cb) => {\n      let watcher = () => {}\n      ensureBackupDirExists().then(() => {\n        readBackupsDirectory((error, initialBackups) => {\n          if (error) {\n            logger.error('Error listening to backups changes', error)\n            cb([])\n          } else {\n            cb(initialBackups)\n          }\n          backupBasePath().then((basePath) => {\n            watcher = fs.watch(basePath, (event, fileName) => {\n              // Do we care about event and fileName?\n              //\n              // NOTE: event could be 'changed' or 'renamed'.\n              readBackupsDirectory((error, newBackups) => {\n                if (error) {\n                  logger.error('Failed to read backups directory', error)\n                  return\n                }\n                cb(newBackups)\n              })\n            })\n          })\n        })\n      })\n\n      return () => {\n        watcher.close()\n      }\n    }\n    const currentBackups = () => {\n      return new Promise((resolve, reject) => {\n        logger.info('Reading current backups')\n        readBackupsDirectory((error, newBackups) => {\n          if (error) {\n            logger.error('Error reading the current backups', error)\n            reject(error)\n            return\n          }\n          resolve(newBackups.map(withFromFileSystem))\n        })\n      })\n    }\n\n    function readBackupsDirectory(cb) {\n      ensureBackupDirExists()\n        .then(() => {\n          return backupBasePath().then((basePath) => {\n            return readdir(basePath)\n              .then((entries) => {\n                return Promise.all(\n                  entries\n                    .filter((d) => {\n                      return d[0] !== '.' && !d.includes('.pltr') && d.match(BACKUP_FOLDER_REGEX)\n                    })\n                    .map((entry) => {\n                      return lstat(path.join(basePath, entry)).then((fileStats) => {\n                        return {\n                          keep: fileStats.isDirectory(),\n                          payload: entry,\n                        }\n                      })\n                    })\n                ).then((results) => {\n                  return results.filter(({ keep }) => keep).map(({ payload }) => payload)\n                })\n              })\n              .then((directories) => {\n                return Promise.all(\n                  directories.map((directory) => {\n                    const thisPath = path.join(basePath, directory)\n                    return readdir(thisPath).then((entries) => {\n                      const files = entries.filter((entry) => {\n                        return entry.endsWith('.pltr')\n                      })\n                      return {\n                        path: thisPath,\n                        date: americanToYearFirst(directory),\n                        backups: files,\n                      }\n                    })\n                  })\n                )\n              })\n          })\n        })\n        .then((results) => {\n          cb(null, sortBy(results, (folder) => new Date(folder.date.replace(/_/g, '-'))).reverse())\n        })\n        .catch((error) => {\n          logger.error('Error reading backup directory.', error)\n          cb(error, [])\n          return\n        })\n    }\n\n    const copyFile = (sourceFileURL, newFileURL) => {\n      return cp(\n        helpers.file.withoutProtocol(sourceFileURL),\n        helpers.file.withoutProtocol(newFileURL)\n      )\n    }\n\n    return {\n      TEMP_FILES_PATH,\n      setTemplate,\n      setCustomTemplate,\n      deleteCustomTemplate,\n      backupBasePath,\n      listenToTrialChanges,\n      currentTrial,\n      startTrial,\n      extendTrialWithReset,\n      listenToLicenseChanges,\n      currentLicense,\n      deleteLicense,\n      saveLicenseInfo,\n      listenToknownFilesChanges,\n      currentKnownFiles,\n      listenToTemplatesChanges,\n      currentTemplates,\n      listenToCustomTemplatesChanges,\n      currentCustomTemplates,\n      listenToTemplateManifestChanges,\n      currentTemplateManifest,\n      listenToExportConfigSettingsChanges,\n      currentExportConfigSettings,\n      saveExportConfigSettings,\n      listenToAppSettingsChanges,\n      currentAppSettings,\n      saveAppSetting,\n      listenToUserSettingsChanges,\n      currentUserSettings,\n      listenToBackupsChanges,\n      currentBackups,\n      customTemplatesPath,\n      lastOpenedFile,\n      setLastOpenedFilePath,\n      copyFile,\n    }\n  }\n}\n\nexport default fileSystemModule\n","export const isDevelopment = () => {\n  return process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'dev'\n}\n","import fetch from 'node-fetch-cjs'\nimport semverGt from 'semver/functions/gt'\nimport { isDevelopment } from './isDevelopment'\n\nexport const MANIFEST_ROOT = 'manifest'\nconst OLD_TEMPLATES_ROOT = 'templates'\nconst DEPRECATED_TEMPLATE_IDS = ['pl6', 'pl12']\n\nconst sequencePromises = (promiseThunks) => {\n  if (promiseThunks.length === 0) {\n    return Promise.resolve()\n  }\n\n  const currentPromise = promiseThunks[0]\n  const rest = promiseThunks.slice(1)\n  return currentPromise().then(() => {\n    return sequencePromises(rest)\n  })\n}\n\nconst migrateTemplates = (templatesStore, manifestStore, log) => {\n  // MIGRATE ONE TIME (needed after 2020.12.1 for the dashboard)\n  log('Migrating built-in templates')\n  return templatesStore.currentStore().then(() => {\n    const templates = templatesStore.get(OLD_TEMPLATES_ROOT)\n    if (templates) {\n      return templatesStore\n        .clear()\n        .then(() => {\n          return templatesStore.set(templates)\n        })\n        .then(() => {\n          log('Migrated templates')\n        })\n        .catch((error) => {\n          log('ERROR: Failed to migrate templates, emptying template and manifest stores', error)\n          return templatesStore\n            .clear()\n            .then(() => {\n              return manifestStore.clear()\n            })\n            .catch(() => {\n              // If we failed to clear the template store, still clear\n              // the manifest store.\n              return manifestStore.clear()\n            })\n            .then(() => {\n              log('Cleared built-in template stores')\n            })\n        })\n    }\n\n    log('No templates to migrate')\n    return Promise.resolve()\n  })\n}\n\nconst migrateCustomTemplates = (customTemplatesStore, log) => {\n  // SAME FOR CUSTOM TEMPLATES (needed after 2020.12.1 for the dashboard)\n  log('Migrating custom templates')\n  return customTemplatesStore.currentStore().then(() => {\n    const customTemplates = customTemplatesStore.get(OLD_TEMPLATES_ROOT)\n    if (customTemplates) {\n      return customTemplatesStore\n        .clear()\n        .then(() => {\n          return customTemplatesStore.set(customTemplates)\n        })\n        .then(() => {\n          log('Migrated custom templates')\n        })\n        .catch((error) => {\n          log('ERROR: Failed to migrate custom templates, ignoring error and continuing', error)\n        })\n    }\n\n    log('No custom templates to migrate')\n    return Promise.resolve()\n  })\n}\n\nclass TemplateFetcher {\n  constructor(baseURL, manifestURL, userDataPath, stores, log) {\n    this.baseURL = baseURL\n    this.manifestURL = manifestURL\n    this.log = log\n\n    const { templatesStore, customTemplatesStore, manifestStore } = stores\n\n    this.templatesStore = templatesStore\n    this.customTemplatesStore = customTemplatesStore\n    this.manifestStore = manifestStore\n  }\n\n  templates = (type) => {\n    const templatesById = this.templatesStore.get()\n    if (!type) return Object.values(templatesById)\n\n    const ids = Object.keys(templatesById)\n    return ids.reduce((acc, id) => {\n      if (templatesById[id].type === type) acc.push(templatesById[id])\n      return acc\n    }, [])\n  }\n\n  fetch = (force) => {\n    // if (is.development) return\n\n    this.log('Fetching template manifest')\n    return fetch(this.manifestURL)\n      .then((resp) => {\n        if (!resp.ok) {\n          return Promise.reject(new Error(`Failed to fetch manifest.  HTTP code: ${resp.status}`))\n        }\n        return resp.json()\n      })\n      .then((fetchedManifest) => {\n        if (force || this.fetchedIsNewer(fetchedManifest.version)) {\n          this.log('New templates to fetch', fetchedManifest.version)\n          return this.manifestStore.setRawKey(MANIFEST_ROOT, fetchedManifest).then(() => {\n            return this.fetchTemplates(force)\n          })\n        } else {\n          this.log('No new templates', fetchedManifest.version)\n          return Promise.resolve()\n        }\n      })\n      .then(this.removeDeprecatedTemplates)\n  }\n\n  removeDeprecatedTemplates = () => {\n    return sequencePromises(\n      DEPRECATED_TEMPLATE_IDS.map((templateId) => {\n        return () => {\n          const manifestTemplates = this.manifestStore.get('manifest.templates')\n          const manifestHasTemplate = manifestTemplates.some(({ id }) => {\n            return id === templateId\n          })\n          if (manifestHasTemplate) {\n            this.log(`Found deprecated template in manifest (${templateId}).  Deleting it.`)\n          }\n          const oldManifest = this.manifestStore.get()\n          const newManifest = {\n            manifest: {\n              ...oldManifest.manifest,\n              templates: oldManifest.manifest.templates.filter(({ id }) => {\n                return id !== templateId\n              }),\n            },\n          }\n          const removeManifestEntry = manifestHasTemplate\n            ? this.manifestStore.set(newManifest)\n            : Promise.resolve()\n          if (this.templatesStore.has(templateId)) {\n            this.log(`Found deprecated template (${templateId}).  Deleting it.`)\n          }\n          const removeTemplateStoreEntry = this.templatesStore.has(templateId)\n            ? this.templatesStore.delete(templateId)\n            : Promise.resolve()\n          return Promise.all([removeManifestEntry, removeTemplateStoreEntry])\n        }\n      })\n    )\n  }\n\n  fetchedIsNewer = (fetchedVersion) => {\n    if (!this.manifestStore.get('manifest')) return true\n    // semverGt checks if 1st > 2nd\n    return semverGt(fetchedVersion, this.manifestStore.get('manifest.version'))\n  }\n\n  fetchTemplates = (force) => {\n    const templates = this.manifestStore.get('manifest.templates')\n    const templateRequests = templates.map((template) => {\n      if (force || this.templateIsNewer(template.id, template.version)) {\n        return this.fetchTemplate(template.id, template.url)\n      }\n      return Promise.resolve()\n    })\n    return Promise.all(templateRequests).then((templateIdValueObjects) => {\n      const templateStoreObject = templateIdValueObjects.reduce((acc, next) => {\n        return { ...next, ...acc }\n      }, this.templatesStore.get())\n      this.templatesStore.set(templateStoreObject)\n    })\n  }\n\n  fetchTemplate = (id, url) => {\n    const fullURL = `${this.baseURL}${url}`\n    return fetch(fullURL)\n      .then((resp) => {\n        if (!resp.ok) {\n          return Promise.reject(\n            new Error(\n              `Failed to fetch template with id ${id} from ${url}.  HTTP code: ${resp.status}`\n            )\n          )\n        }\n        return resp.json()\n      })\n      .then((fetchedTemplate) => {\n        return { [id]: fetchedTemplate }\n      })\n  }\n\n  templateIsNewer = (templateId, manifestVersion) => {\n    const storedTemplate = this.templatesStore.get(templateId)\n    if (!storedTemplate) return true\n    return semverGt(manifestVersion, storedTemplate.version) // is 1st param > 2nd?\n  }\n}\n\nconst makeTemplateFetcher = (userDataPath) => {\n  let env = 'prod'\n  if (isDevelopment()) env = 'staging'\n\n  return (stores, logInfo) => {\n    if (stores.SETTINGS.get('betatemplates')) env = 'beta'\n\n    const baseURL = `https://raw.githubusercontent.com/Plotinator/plottr_templates/${env}`\n    const manifestURL = `${baseURL}/v2/manifest.json`\n\n    const { templatesStore, customTemplatesStore, manifestStore } = stores\n\n    logInfo('Migrating templates')\n    return migrateCustomTemplates(customTemplatesStore, logInfo).then(() => {\n      return migrateTemplates(templatesStore, manifestStore, logInfo).then(() => {\n        return new TemplateFetcher(baseURL, manifestURL, userDataPath, stores, logInfo)\n      })\n    })\n  }\n}\n\nexport default makeTemplateFetcher\n","import fs from 'fs'\nimport path from 'path'\nimport { v4 as uuidv4 } from 'uuid'\n\nimport { t } from 'plottr_locales'\nimport { helpers } from 'pltr/v2'\n\nimport { TEMP_FILES_PATH } from './stores'\n\nconst { lstat, mkdir } = fs.promises\n\nconst MAX_ATTEMPTS_TO_FIND_TEMP_FILE_NAME = 10\n\nconst makeTempFilesModule = (userDataPath, stores, fileModule, trashModule, logger) => {\n  const { tempFilesStore } = stores\n  const { fileExists, saveFile } = fileModule\n  const { trash } = trashModule\n\n  const tempFilesFullPath = path.join(userDataPath, TEMP_FILES_PATH)\n\n  function removeFromTempFiles(fileURL, doDelete = true) {\n    return tempFilesStore.delete(fileURL).then(() => {\n      return doDelete ? trash(helpers.file.withoutProtocol(fileURL)) : Promise.resolve(true)\n    })\n  }\n\n  function uniqueTempFilePath(fileName) {\n    function iter(counter, filePath) {\n      if (counter > MAX_ATTEMPTS_TO_FIND_TEMP_FILE_NAME) {\n        const errorMessage = `We couldn't save your file to ${filePath}`\n        logger.error(errorMessage, 'reached max attempts to find unique file name')\n        return Promise.reject(new Error(errorMessage))\n      }\n      return fileExists(filePath).then((exists) => {\n        if (exists) {\n          logger.warn(`Temp file exists at ${filePath}.  Attempting to create a new name`)\n          const tempName = `${fileName}-${uuidv4()}.pltr`\n          return iter(counter + 1, path.join(tempFilesFullPath, tempName))\n        }\n\n        return filePath\n      })\n    }\n\n    return iter(0, path.join(tempFilesFullPath, `${fileName}.pltr`)).then((filePath) => {\n      return lstat(filePath)\n        .then(() => {\n          const errorMessage = `File: ${filePath} already exists.`\n          logger.error(errorMessage)\n          return Promise.reject(new Error(errorMessage))\n        })\n        .catch((error) => {\n          if (error.code === 'ENOENT') {\n            return filePath\n          }\n\n          const message = `Couldn't create a unique path for temp file ${fileName}`\n          logger.error(message, error)\n          return Promise.reject(error)\n        })\n    })\n  }\n\n  function ensureTempFilesDirectoryExists() {\n    // Does the tmp file directory exist?\n    return lstat(tempFilesFullPath).catch((error) => {\n      logger.info(`Temp file directory ${tempFilesFullPath} doesn't exist.  Creating it.`)\n      if (error.code === 'ENOENT') {\n        return mkdir(tempFilesFullPath, { recursive: true })\n      }\n\n      logger.error('Could not create temp file path', error)\n      return Promise.reject(error)\n    })\n  }\n\n  function saveToTempFile(json, name) {\n    return ensureTempFilesDirectoryExists()\n      .then(() => {\n        const fileName = name || t('Untitled')\n        return fileName\n      })\n      .then((fileName) => {\n        return uniqueTempFilePath(fileName).then((filePath) => {\n          const fileURL = helpers.file.filePathToFileURL(filePath)\n          if (!fileURL) {\n            const message = `Couldn't compute a file URL for temp file that we're trying to save to ${filePath}`\n            logger.error(message)\n            return Promise.reject(Error(message))\n          }\n          return tempFilesStore\n            .setRawKey(fileURL, { fileURL })\n            .then(() => {\n              return saveFile(fileURL, json) // Need to make sure these are added to known files\n            })\n            .then(() => {\n              logger.info('Adding to temp file store: ', fileURL, { fileURL })\n              return fileURL\n            })\n        })\n      })\n  }\n\n  return {\n    removeFromTempFiles,\n    saveToTempFile,\n  }\n}\n\nexport default makeTempFilesModule\n","import fs from 'fs'\nimport { join, basename } from 'path'\nimport { sortBy } from 'lodash'\n\nconst { lstat, mkdir, rename, readdir, rm } = fs.promises\n\nconst TRASHED_LIMIT = 30\n\nconst limitToXMostRecent = (path, logger) => {\n  return readdir(path)\n    .then((entries) => {\n      return Promise.all(\n        entries.map((entry) => {\n          const fullPath = join(path, entry)\n          return lstat(fullPath).then((stats) => {\n            return {\n              lastModified: stats.mtimeMs,\n              fullPath,\n            }\n          })\n        })\n      )\n    })\n    .then((pathsWithStamps) => {\n      const sortedNewestFirst = sortBy(pathsWithStamps, 'lastModified').reverse()\n      return sortedNewestFirst.slice(TRASHED_LIMIT).map(({ fullPath }) => {\n        return fullPath\n      })\n    })\n    .then((fullFilePaths) => {\n      return Promise.all(\n        fullFilePaths.map((fullFilePath) => {\n          logger.info(\n            `Deleting trashed file: ${fullFilePath}, because we hit the limit of ${TRASHED_LIMIT} files in the trash folder.  (This process deletes the oldest files first.)`\n          )\n          return rm(fullFilePath)\n        })\n      )\n    })\n}\n\nconst makeTrashModile = (userDataPath, logger) => {\n  const trashedFilesPath = join(userDataPath, 'trash')\n\n  const trash = (filePath) => {\n    return lstat(trashedFilesPath)\n      .catch((error) => {\n        if (error.code === 'ENOENT') {\n          logger.info(`Trash directory does not exist.  Creating it at: ${trashedFilesPath}`)\n          return mkdir(trashedFilesPath)\n        }\n        return Promise.reject(error)\n      })\n      .then(() => {\n        return rename(filePath, join(trashedFilesPath, basename(filePath))).then(() => {\n          return limitToXMostRecent(trashedFilesPath, logger)\n        })\n      })\n  }\n\n  return {\n    trash,\n  }\n}\n\nexport default makeTrashModile\n","import { WebSocketServer } from 'ws'\nimport fs from 'fs'\n\nimport {\n  FILE_BASENAME,\n  PING,\n  READ_FILE,\n  RM_RF,\n  SAVE_FILE,\n  SAVE_OFFLINE_FILE,\n  BACKUP_FILE,\n  SAVE_BACKUP_ERROR,\n  ENSURE_BACKUP_FULL_PATH,\n  ENSURE_BACKUP_TODAY_PATH,\n  FILE_EXISTS,\n  BACKUP_OFFLINE_BACKUP_FOR_RESUME,\n  READ_OFFLINE_FILES,\n  CURRENT_TRIAL,\n  START_TRIAL,\n  EXTEND_TRIAL_WITH_RESET,\n  CURRENT_LICENSE,\n  DELETE_LICENSE,\n  SAVE_LICENSE_INFO,\n  CURRENT_KNOWN_FILES,\n  CURRENT_TEMPLATES,\n  CURRENT_CUSTOM_TEMPLATES,\n  CURRENT_TEMPLATE_MANIFEST,\n  CURRENT_EXPORT_CONFIG_SETTINGS,\n  SAVE_EXPORT_CONFIG_SETTINGS,\n  CURRENT_APP_SETTINGS,\n  SAVE_APP_SETTING,\n  CURRENT_USER_SETTINGS,\n  CURRENT_BACKUPS,\n  LISTEN_TO_TRIAL_CHANGES,\n  LISTEN_TO_LICENSE_CHANGES,\n  LISTEN_TO_KNOWN_FILES_CHANGES,\n  LISTEN_TO_TEMPLATES_CHANGES,\n  LISTEN_TO_CUSTOM_TEMPLATES_CHANGES,\n  LISTEN_TO_TEMPLATE_MANIFEST_CHANGES,\n  LISTEN_TO_EXPORT_CONFIG_SETTINGS_CHANGES,\n  LISTEN_TO_APP_SETTINGS_CHANGES,\n  LISTEN_TO_USER_SETTINGS_CHANGES,\n  LISTEN_TO_BACKUPS_CHANGES,\n  LISTEN_TO_TRIAL_CHANGES_UNSUBSCRIBE,\n  LISTEN_TO_LICENSE_CHANGES_UNSUBSCRIBE,\n  LISTEN_TO_KNOWN_FILES_CHANGES_UNSUBSCRIBE,\n  LISTEN_TO_TEMPLATES_CHANGES_UNSUBSCRIBE,\n  LISTEN_TO_CUSTOM_TEMPLATES_CHANGES_UNSUBSCRIBE,\n  LISTEN_TO_TEMPLATE_MANIFEST_CHANGES_UNSUBSCRIBE,\n  LISTEN_TO_EXPORT_CONFIG_SETTINGS_CHANGES_UNSUBSCRIBE,\n  LISTEN_TO_APP_SETTINGS_CHANGES_UNSUBSCRIBE,\n  LISTEN_TO_USER_SETTINGS_CHANGES_UNSUBSCRIBE,\n  LISTEN_TO_BACKUPS_CHANGES_UNSUBSCRIBE,\n  IS_TEMP_FILE,\n  BACKUP_BASE_PATH,\n  SET_TEMPLATE,\n  SET_CUSTOM_TEMPLATE,\n  DELETE_CUSTOM_TEMPLATE,\n  DEFAULT_BACKUP_LOCATION,\n  OFFLINE_FILE_PATH,\n  CUSTOM_TEMPLATES_PATH,\n  ATTEMPT_TO_FETCH_TEMPLATES,\n  SAVE_AS_TEMP_FILE,\n  REMOVE_FROM_KNOWN_FILES,\n  ADD_KNOWN_FILE,\n  EDIT_KNOWN_FILE_PATH,\n  UPDATE_LAST_OPENED_DATE,\n  ADD_KNOWN_FILE_WITH_FIX,\n  DELETE_KNOWN_FILE,\n  REMOVE_FROM_TEMP_FILES,\n  SAVE_TO_TEMP_FILE,\n  LAST_OPENED_FILE,\n  SET_LAST_OPENED_FILE,\n  COPY_FILE,\n  UPDATE_KNOWN_FILE_NAME,\n  NUKE_LAST_OPENED_FILE_URL,\n  SHUTDOWN,\n} from '../../shared/socket-server-message-types'\nimport { makeLogger } from './logger'\nimport wireupFileModule from './files'\nimport wireupBackupModule from './backup'\nimport wireupFileSystemModule from './file-system'\nimport wireupTemplateFetcher from './template_fetcher'\nimport makeStores from './stores'\nimport makeSettingsModule from './settings'\nimport makeKnownFilesModule from './knownFiles'\nimport makeTempFilesModule from './tempFiles'\nimport StatusManager from './StatusManager'\nimport makeTrashModule from './trash'\n\nconst parseArgs = () => {\n  return {\n    port: process.argv[2],\n    userDataPath: process.argv[3],\n  }\n}\n\nconst { rm } = fs.promises\n\nconst startupTasks = (userDataPath, stores, logInfo) => {\n  return wireupTemplateFetcher(userDataPath)(stores, logInfo).then((templateFetcher) => {\n    return templateFetcher.fetch().catch((error) => {\n      logInfo(\n        `ERROR: couldn't fetch templates at startup.  Continueing anyway.  Error message: ${error.message}.\\n${error.stack}`\n      )\n    })\n  })\n}\n\nconst ONE_GIGABYTE = 1073741824\n\nconst setupListeners = (port, userDataPath) => {\n  process.send(`Starting server on port: ${port}`)\n  const webSocketServer = new WebSocketServer({ host: 'localhost', port, maxPayload: ONE_GIGABYTE })\n  const unsubscribeFunctions = new Map()\n  const logInfo = (...args) => {\n    process.send(`[Socket Server]: Basic Log Info ${args.join(', ')}`)\n  }\n\n  const basicLogger = {\n    info: logInfo,\n    warn: logInfo,\n    error: logInfo,\n  }\n\n  const stores = makeStores(userDataPath, basicLogger)\n  const settings = makeSettingsModule(stores)\n\n  const makeFileModule = wireupFileModule(userDataPath)\n  const makeBackupModule = wireupBackupModule(userDataPath)\n  const makeFileSystemModule = wireupFileSystemModule(userDataPath)\n  const makeTemplateFetcher = wireupTemplateFetcher(userDataPath)\n\n  const testModules = () => {\n    const backupModule = makeBackupModule(settings, basicLogger)\n    makeFileSystemModule(stores, basicLogger)\n    makeFileModule(backupModule, settings, basicLogger)\n    return makeTemplateFetcher(stores, logInfo)\n  }\n\n  const statusManager = new StatusManager(basicLogger)\n\n  webSocketServer.on('connection', (webSocket) => {\n    statusManager.acceptConnection(webSocket)\n    const logger = makeLogger(webSocket)\n    const backupModule = makeBackupModule(settings, logger)\n    const { defaultBackupPath, saveBackup, ensureBackupTodayPath } = backupModule\n    const fileModule = makeFileModule(backupModule, settings, logger)\n    const {\n      saveFile,\n      saveOfflineFile,\n      basename,\n      readFile,\n      fileExists,\n      backupOfflineBackupForResume,\n      readOfflineFiles,\n      isTempFile,\n      offlineFilesFilesPath,\n      saveTempFile,\n    } = fileModule\n    const fileSystemModule = makeFileSystemModule(stores, logger)\n    const {\n      backupBasePath,\n      listenToTrialChanges,\n      currentTrial,\n      startTrial,\n      extendTrialWithReset,\n      listenToLicenseChanges,\n      currentLicense,\n      deleteLicense,\n      saveLicenseInfo,\n      listenToknownFilesChanges,\n      currentKnownFiles,\n      listenToTemplatesChanges,\n      currentTemplates,\n      listenToCustomTemplatesChanges,\n      currentCustomTemplates,\n      listenToTemplateManifestChanges,\n      currentTemplateManifest,\n      listenToExportConfigSettingsChanges,\n      currentExportConfigSettings,\n      saveExportConfigSettings,\n      listenToAppSettingsChanges,\n      currentAppSettings,\n      saveAppSetting,\n      listenToUserSettingsChanges,\n      currentUserSettings,\n      listenToBackupsChanges,\n      currentBackups,\n      setCustomTemplate,\n      deleteCustomTemplate,\n      setTemplate,\n      customTemplatesPath,\n      lastOpenedFile,\n      setLastOpenedFilePath,\n      copyFile,\n    } = fileSystemModule\n    const trashModule = makeTrashModule(userDataPath, logger)\n    const tempFilesModule = makeTempFilesModule(\n      userDataPath,\n      stores,\n      fileModule,\n      trashModule,\n      logger\n    )\n    const { removeFromTempFiles, saveToTempFile } = tempFilesModule\n    const {\n      removeFromKnownFiles,\n      addKnownFile,\n      addKnownFileWithFix,\n      editKnownFilePath,\n      updateLastOpenedDate,\n      deleteKnownFile,\n      updateKnownFileName,\n    } = makeKnownFilesModule(\n      stores,\n      fileModule,\n      fileSystemModule,\n      tempFilesModule,\n      trashModule,\n      backupModule,\n      logger\n    )\n    const attemptToFetchTemplates = () => {\n      return wireupTemplateFetcher(userDataPath)(stores, logInfo).then((templateFetcher) => {\n        return templateFetcher.fetch()\n      })\n    }\n\n    webSocket.on('message', (message) => {\n      try {\n        const { type, messageId, payload } = JSON.parse(message)\n\n        const typeToErrorReplyType = (messageType) => {\n          return `${messageType}_ERROR_REPLY`\n        }\n\n        const replyWithErrorMessage = (errorMessage) => {\n          webSocket.send(\n            JSON.stringify({\n              type: typeToErrorReplyType(type),\n              messageId,\n              payload: 'truncated',\n              result: errorMessage,\n            })\n          )\n        }\n\n        const handleSync = (logBefore, handlePayload, logError) => {\n          const toLogAsInfo = logBefore()\n          logger.info(...(Array.isArray(toLogAsInfo) ? toLogAsInfo : [toLogAsInfo]))\n          try {\n            webSocket.send(\n              JSON.stringify({\n                type,\n                messageId,\n                payload: 'truncated',\n                result: handlePayload(),\n              })\n            )\n          } catch (error) {\n            const toLogAsError = logError(error)\n            logger.error([\n              ...(Array.isArray(toLogAsError) ? toLogAsError : [toLogAsError]),\n              error.message,\n              error.stack,\n            ])\n            replyWithErrorMessage(error.message)\n          }\n        }\n\n        const handlePromise = (logBefore, handlePayload, logError) => {\n          const toLogAsInfo = logBefore()\n          logger.info(...(Array.isArray(toLogAsInfo) ? toLogAsInfo : [toLogAsInfo]))\n          handlePayload()\n            .then((result) => {\n              webSocket.send(\n                JSON.stringify({\n                  type,\n                  messageId,\n                  payload: 'truncated',\n                  result,\n                })\n              )\n            })\n            .catch((error) => {\n              const toLogAsError = logError(error)\n              logger.error([\n                ...(Array.isArray(toLogAsError) ? toLogAsError : [toLogAsError]),\n                error.message,\n                error.stack,\n              ])\n              replyWithErrorMessage(error.message)\n            })\n        }\n\n        const handleSubscription = (logBefore, listen, logError) => {\n          const toLogAsInfo = logBefore()\n          logger.info(...(Array.isArray(toLogAsInfo) ? toLogAsInfo : [toLogAsInfo]))\n          const unsubscribe = listen((result, error) => {\n            if (error) {\n              const toLogAsError = logError(error)\n              logger.error([\n                ...(Array.isArray(toLogAsError) ? toLogAsError : [toLogAsError]),\n                error.message,\n                error.stack,\n              ])\n            } else {\n              webSocket.send(\n                JSON.stringify({\n                  type,\n                  messageId,\n                  result,\n                  payload: 'truncated',\n                })\n              )\n            }\n          })\n          unsubscribeFunctions.set(messageId, unsubscribe)\n          return unsubscribe\n        }\n\n        switch (type) {\n          case PING: {\n            return handleSync(\n              () => true,\n              () => 'PING',\n              (error) => 'PING failed'\n            )\n          }\n          case SAVE_FILE: {\n            const { fileURL, file } = payload\n            return handlePromise(\n              () => [\n                'Saving (reduced payload): ',\n                {\n                  file: {\n                    ...payload.file.file,\n                  },\n                  fileURL: fileURL,\n                },\n              ],\n              () => statusManager.registerTask(saveFile(fileURL, file), SAVE_FILE),\n              (error) => [\n                'Error while saving file ',\n                {\n                  file: {\n                    ...payload?.file?.file,\n                  },\n                  fileURL: fileURL,\n                },\n              ]\n            )\n          }\n          case RM_RF: {\n            const { path } = payload\n            return handlePromise(\n              () => ['Deleting: ', payload],\n              () => statusManager.registerTask(rm(path, { recursive: true }), RM_RF),\n              (error) => ['Error while deleting ', payload]\n            )\n          }\n          case SAVE_OFFLINE_FILE: {\n            const { file } = payload\n            return handlePromise(\n              () => [\n                'Saving offline file (reduced payload): ',\n                {\n                  file: {\n                    ...file.file,\n                  },\n                },\n              ],\n              () => statusManager.registerTask(saveOfflineFile(file), SAVE_OFFLINE_FILE),\n              (error) => [\n                'Error while saving offline ',\n                {\n                  file: {\n                    ...file?.file,\n                  },\n                },\n              ]\n            )\n          }\n          case FILE_BASENAME: {\n            const { filePath } = payload\n            return handleSync(\n              () => ['Computing basename for: ', filePath],\n              () => basename(filePath),\n              () => ['Error computing the basename for: ', filePath]\n            )\n          }\n          case READ_FILE: {\n            const { filePath } = payload\n            return handlePromise(\n              () => ['Reading a file at path: ', filePath],\n              () => readFile(filePath),\n              () => ['Error while reading a file: ', payload]\n            )\n          }\n          case BACKUP_FILE: {\n            const { filePath, file } = payload\n            return handlePromise(\n              () => [\n                'Backing up file (reduced payload): ',\n                {\n                  file: {\n                    ...file.file,\n                  },\n                  filePath: filePath,\n                },\n              ],\n              () => statusManager.registerTask(saveBackup(filePath, file), BACKUP_FILE),\n              () => ['Error while saving a backup ', payload?.file?.file]\n            )\n          }\n          case ENSURE_BACKUP_FULL_PATH: {\n            return handlePromise(\n              () =>\n                'Ensuring that the full backup path exists (same op. as ensuring backup path for today.)',\n              ensureBackupTodayPath,\n              () => 'Error ensuring the full backup path exists'\n            )\n          }\n          case ENSURE_BACKUP_TODAY_PATH: {\n            return handlePromise(\n              () => 'Ensuring that the backup path exists for today.',\n              ensureBackupTodayPath,\n              () => 'Error ensuring the backup path for today'\n            )\n          }\n          case FILE_EXISTS: {\n            const { filePath } = payload\n            return handlePromise(\n              () => `Checking whether a file exists at: ${filePath}`,\n              () => fileExists(filePath),\n              () => ['Error while checking whether a file exists', filePath]\n            )\n          }\n          case BACKUP_OFFLINE_BACKUP_FOR_RESUME: {\n            const { file } = payload\n            return handlePromise(\n              () => [\n                'Backing up offline file for resume (reduced payload): ',\n                {\n                  file: {\n                    ...payload.file.file,\n                  },\n                },\n              ],\n              () =>\n                statusManager.registerTask(\n                  backupOfflineBackupForResume(file),\n                  BACKUP_OFFLINE_BACKUP_FOR_RESUME\n                ),\n              () => [\n                'Error while saving offline backup file for resuming',\n                {\n                  file: {\n                    ...payload?.file?.file,\n                  },\n                },\n              ]\n            )\n          }\n          case READ_OFFLINE_FILES: {\n            return handlePromise(\n              () => 'Reading offline files.',\n              readOfflineFiles,\n              () => ['Error while reading offline files', payload]\n            )\n          }\n          case IS_TEMP_FILE: {\n            const { file } = payload\n            return handleSync(\n              () => [\n                'Checking whether file is a temp file (reduced payload): ',\n                {\n                  file: {\n                    ...payload?.file?.file,\n                  },\n                },\n              ],\n              () => isTempFile(file),\n              () => ['Error checking where file is temp: ', file]\n            )\n          }\n          case SET_TEMPLATE: {\n            const { id, template } = payload\n            return handlePromise(\n              () => `Setting a template with id ${id} to ${template}`,\n              () => statusManager.registerTask(setTemplate(id, template), SET_TEMPLATE),\n              () => [`Error while setting a template with id ${id} to ${template}`, payload]\n            )\n          }\n          case SET_CUSTOM_TEMPLATE: {\n            const { id, template } = payload\n            return handlePromise(\n              () => `Setting a custom template with id ${id} to ${template}`,\n              () =>\n                statusManager.registerTask(setCustomTemplate(id, template), SET_CUSTOM_TEMPLATE),\n              () => [`Error while setting a custom template with id ${id} to ${template}`, payload]\n            )\n          }\n          case DELETE_CUSTOM_TEMPLATE: {\n            const { id } = payload\n            return handlePromise(\n              () => `Deleting a custom template with id ${id}`,\n              () => statusManager.registerTask(deleteCustomTemplate(id), DELETE_CUSTOM_TEMPLATE),\n              () => [`Error while deleting a custom template with id ${id}`, payload]\n            )\n          }\n          case DEFAULT_BACKUP_LOCATION: {\n            return handleSync(\n              () => 'Getting the default backup location',\n              () => defaultBackupPath,\n              () => 'Error getting the default backup path'\n            )\n          }\n          case OFFLINE_FILE_PATH: {\n            return handleSync(\n              () => 'Getting the offline file path',\n              () => offlineFilesFilesPath,\n              () => 'Error getting the offline file path'\n            )\n          }\n          case ATTEMPT_TO_FETCH_TEMPLATES: {\n            return handlePromise(\n              () =>\n                'Attempting to fetch latest templates (might not if the manifest is up to date)',\n              attemptToFetchTemplates,\n              () => 'Error attempting to fetch the latest templates'\n            )\n          }\n          case SAVE_AS_TEMP_FILE: {\n            const { file } = payload\n            return handlePromise(\n              () => [\n                'Saving file to temp folder: ',\n                {\n                  file: {\n                    ...payload.file.file,\n                  },\n                },\n              ],\n              () => statusManager.registerTask(saveTempFile(file), SAVE_AS_TEMP_FILE),\n              () => [\n                'Error saving file to temp folder: ',\n                {\n                  file: {\n                    ...payload?.file?.file,\n                  },\n                },\n              ]\n            )\n          }\n          case REMOVE_FROM_KNOWN_FILES: {\n            const { fileURL } = payload\n            return handlePromise(\n              () => `Removing entry with fileURL ${fileURL} from known files`,\n              () =>\n                statusManager.registerTask(removeFromKnownFiles(fileURL), REMOVE_FROM_KNOWN_FILES),\n              () => `Error removing entry with fileURL ${fileURL} from known files`\n            )\n          }\n          case DELETE_KNOWN_FILE: {\n            const { fileURL } = payload\n            return handlePromise(\n              () => `Deleting a known file with fileURL ${fileURL}`,\n              () => statusManager.registerTask(deleteKnownFile(fileURL), DELETE_KNOWN_FILE),\n              () => `Error deleting a known file with fileURL ${fileURL}`\n            )\n          }\n          case UPDATE_KNOWN_FILE_NAME: {\n            const { fileURL, newName } = payload\n            return handlePromise(\n              () => `Updating file name of known file record: ${fileURL} to ${newName}`,\n              () =>\n                statusManager.registerTask(\n                  updateKnownFileName(fileURL, newName),\n                  UPDATE_KNOWN_FILE_NAME\n                ),\n              () => `Error updating file name of known file record: ${fileURL} to ${newName}`\n            )\n          }\n          case REMOVE_FROM_TEMP_FILES: {\n            const { fileURL, doDelete } = payload\n            return handlePromise(\n              () => `Removing ${fileURL} from temp files (deleting? ${doDelete})`,\n              () =>\n                statusManager.registerTask(\n                  removeFromTempFiles(fileURL, doDelete),\n                  REMOVE_FROM_TEMP_FILES\n                ),\n              () => `Error removing ${fileURL} from temp files (deleting? ${doDelete})`\n            )\n          }\n          case SAVE_TO_TEMP_FILE: {\n            const { json, name } = payload\n            return handlePromise(\n              () => [\n                `Saving to temp file named ${name} (reduced payload)`,\n                {\n                  file: {\n                    ...json.file,\n                  },\n                },\n              ],\n              () => statusManager.registerTask(saveToTempFile(json, name), SAVE_TO_TEMP_FILE),\n              () => [\n                `Error saving to temp file named ${name} (reduced payload)`,\n                {\n                  file: {\n                    ...json?.file,\n                  },\n                },\n              ]\n            )\n          }\n          case ADD_KNOWN_FILE_WITH_FIX: {\n            const { fileURL } = payload\n            return handlePromise(\n              () => `Adding ${fileURL} to known files and fixing the store`,\n              () =>\n                statusManager.registerTask(addKnownFileWithFix(fileURL), ADD_KNOWN_FILE_WITH_FIX),\n              () => `Error adding ${fileURL} to known files and fixing the store`\n            )\n          }\n          case ADD_KNOWN_FILE: {\n            const { fileURL } = payload\n            return handlePromise(\n              () => `Adding ${fileURL} to known files`,\n              () => statusManager.registerTask(addKnownFile(fileURL), ADD_KNOWN_FILE),\n              () => `Error adding ${fileURL} to known files`\n            )\n          }\n          case EDIT_KNOWN_FILE_PATH: {\n            const { oldFileURL, newFileURL } = payload\n            return handlePromise(\n              () => `Editing a known file's path from ${oldFileURL} to ${newFileURL}`,\n              () =>\n                statusManager.registerTask(\n                  editKnownFilePath(oldFileURL, newFileURL),\n                  EDIT_KNOWN_FILE_PATH\n                ),\n              () => `Error editing a known file's path from ${oldFileURL} to ${newFileURL}`\n            )\n          }\n          case UPDATE_LAST_OPENED_DATE: {\n            const { fileURL } = payload\n            return handlePromise(\n              () => `Updating the last opened date for file with id ${fileURL}`,\n              () =>\n                statusManager.registerTask(updateLastOpenedDate(fileURL), UPDATE_LAST_OPENED_DATE),\n              () => `Error updating the last opened date for file with id ${fileURL}`\n            )\n          }\n          // ===File System APIs===\n          case CUSTOM_TEMPLATES_PATH: {\n            return handleSync(\n              () => 'Getting the custom templates path',\n              () => customTemplatesPath,\n              () => 'Error getting the custom templates path'\n            )\n          }\n          case COPY_FILE: {\n            const { sourceFileURL, newFileURL } = payload\n            return handlePromise(\n              () => `Copying file from ${sourceFileURL} to ${newFileURL}`,\n              () => copyFile(sourceFileURL, newFileURL),\n              () => `Error copying file from ${sourceFileURL} to ${newFileURL}`\n            )\n          }\n          case BACKUP_BASE_PATH: {\n            return handlePromise(\n              () => 'Getting the backup base path',\n              backupBasePath,\n              () => 'Error while getting the backup base path'\n            )\n          }\n          case CURRENT_TRIAL: {\n            return handlePromise(\n              () => 'Getting the current trial info',\n              currentTrial,\n              () => 'Error while getting the current trial'\n            )\n          }\n          case START_TRIAL: {\n            const { numDays } = payload\n            return handlePromise(\n              () => `Starting trial for length: ${numDays}`,\n              () => statusManager.registerTask(startTrial(numDays), START_TRIAL),\n              () => ['Error while starting the trial', payload]\n            )\n          }\n          case EXTEND_TRIAL_WITH_RESET: {\n            const { days } = payload\n            return handlePromise(\n              () => `Attempting to extend trial with reset for days: ${days}`,\n              () => statusManager.registerTask(extendTrialWithReset(days), EXTEND_TRIAL_WITH_RESET),\n              () => ['Error while extending trial with reset', payload]\n            )\n          }\n          case CURRENT_LICENSE: {\n            return handlePromise(\n              () => 'Fetching the current license data',\n              currentLicense,\n              () => 'Error while extending trial with reset'\n            )\n          }\n          case DELETE_LICENSE: {\n            return handlePromise(\n              () => 'Deleting the license',\n              deleteLicense,\n              () => 'Error while deleting the license'\n            )\n          }\n          case SAVE_LICENSE_INFO: {\n            const { newLicense } = payload\n            return handlePromise(\n              () => 'Setting the license to a new one.  Not displaying because it is sensitive.',\n              () => statusManager.registerTask(saveLicenseInfo(newLicense), SAVE_LICENSE_INFO),\n              () => 'Error while saving the license'\n            )\n          }\n          case CURRENT_KNOWN_FILES: {\n            return handlePromise(\n              () => 'Getting the current list of known files',\n              currentKnownFiles,\n              () => 'Error while getting the current list of known files'\n            )\n          }\n          case CURRENT_TEMPLATES: {\n            return handlePromise(\n              () => 'Getting the current list of (official) templates',\n              currentTemplates,\n              () => 'Error while getting the current list of (official) templates'\n            )\n          }\n          case CURRENT_CUSTOM_TEMPLATES: {\n            return handlePromise(\n              () => 'Getting the current list of custom templates',\n              currentCustomTemplates,\n              () => 'Error getting the current list of custom templates'\n            )\n          }\n          case CURRENT_TEMPLATE_MANIFEST: {\n            return handlePromise(\n              () => 'Getting the current template manifest',\n              currentTemplateManifest,\n              () => 'Error while getting the current template manifest'\n            )\n          }\n          case CURRENT_EXPORT_CONFIG_SETTINGS: {\n            return handlePromise(\n              () => 'Getting the current export configuration settings',\n              currentExportConfigSettings,\n              () => 'Error while getting the current export configuration settings'\n            )\n          }\n          case SAVE_EXPORT_CONFIG_SETTINGS: {\n            const { key, value } = payload\n            return handlePromise(\n              () => `Setting ${key} to ${value} in export settings`,\n              () =>\n                statusManager.registerTask(\n                  saveExportConfigSettings(key, value),\n                  SAVE_EXPORT_CONFIG_SETTINGS\n                ),\n              () => `Error while setting ${key} to ${value} in export settings`\n            )\n          }\n          case CURRENT_APP_SETTINGS: {\n            return handlePromise(\n              () => 'Getting the current app settings',\n              currentAppSettings,\n              () => 'Error while getting the current app settings'\n            )\n          }\n          case SAVE_APP_SETTING: {\n            const { key, value } = payload\n            return handlePromise(\n              () => `Setting ${key} to ${value} in app settings`,\n              () => statusManager.registerTask(saveAppSetting(key, value), SAVE_APP_SETTING),\n              () => `Error while setting ${key} to ${value} in app settings`\n            )\n          }\n          case CURRENT_USER_SETTINGS: {\n            return handlePromise(\n              () => 'Getting current user settings',\n              currentUserSettings,\n              () => 'Error while getting the current user settings'\n            )\n          }\n          case CURRENT_BACKUPS: {\n            return handlePromise(\n              () => 'Getting the current backups',\n              currentBackups,\n              () => 'Error while getting current backups'\n            )\n          }\n          case LAST_OPENED_FILE: {\n            return handlePromise(\n              () => 'Getting the last opened file',\n              () => statusManager.registerTask(lastOpenedFile(), LAST_OPENED_FILE),\n              () => 'Error while getting last opened file'\n            )\n          }\n          case SET_LAST_OPENED_FILE: {\n            const { filePath } = payload\n            return handlePromise(\n              () => 'Setting the last opened file',\n              () =>\n                statusManager.registerTask(setLastOpenedFilePath(filePath), SET_LAST_OPENED_FILE),\n              () => 'Error while setting last opened file'\n            )\n          }\n          case NUKE_LAST_OPENED_FILE_URL: {\n            return handlePromise(\n              () => 'Nuking the last opened file URL',\n              () =>\n                statusManager.registerTask(setLastOpenedFilePath(''), NUKE_LAST_OPENED_FILE_URL),\n              () => 'Error nuking the last opened file URL'\n            )\n          }\n          case SHUTDOWN: {\n            return handlePromise(\n              () => 'SHUTTING DOWN THE SOCKET SERVER',\n              () =>\n                statusManager.registerTask(\n                  (() => {\n                    process.send('shutdown')\n                    return Promise.resolve()\n                  })(),\n                  SHUTDOWN\n                ),\n              () => 'ERROR SHUTTING DOWN THE SOCKET SERVER'\n            )\n          }\n          // Subscriptions\n          case LISTEN_TO_TRIAL_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to trial changes',\n              listenToTrialChanges,\n              () => 'Error listening to trial changes'\n            )\n          }\n          case LISTEN_TO_LICENSE_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to license changes',\n              listenToLicenseChanges,\n              () => 'Error listening to license changes'\n            )\n          }\n          case LISTEN_TO_KNOWN_FILES_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to known files changes',\n              listenToknownFilesChanges,\n              () => 'Error listening to known files changes'\n            )\n          }\n          case LISTEN_TO_TEMPLATES_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to known (official) templates changes',\n              listenToTemplatesChanges,\n              () => 'Error listening to known (official) templates changes'\n            )\n          }\n          case LISTEN_TO_CUSTOM_TEMPLATES_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to custom template changes',\n              listenToCustomTemplatesChanges,\n              () => 'Error listening to custom template changes'\n            )\n          }\n          case LISTEN_TO_TEMPLATE_MANIFEST_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to template manifest changes',\n              listenToTemplateManifestChanges,\n              () => 'Error listening to template manifest changes'\n            )\n          }\n          case LISTEN_TO_EXPORT_CONFIG_SETTINGS_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to export config settings changes',\n              listenToExportConfigSettingsChanges,\n              () => 'Error listening to export config settings changes'\n            )\n          }\n          case LISTEN_TO_APP_SETTINGS_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to app settings changes',\n              listenToAppSettingsChanges,\n              () => 'Error listening to app settings changes'\n            )\n          }\n          case LISTEN_TO_USER_SETTINGS_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to user settings changes',\n              listenToUserSettingsChanges,\n              () => 'Error listening to user settings changes'\n            )\n          }\n          case LISTEN_TO_BACKUPS_CHANGES: {\n            return handleSubscription(\n              () => 'Listening to backups changes',\n              listenToBackupsChanges,\n              () => 'Error listening to backups changes'\n            )\n          }\n          case LISTEN_TO_TRIAL_CHANGES_UNSUBSCRIBE:\n          case LISTEN_TO_LICENSE_CHANGES_UNSUBSCRIBE:\n          case LISTEN_TO_KNOWN_FILES_CHANGES_UNSUBSCRIBE:\n          case LISTEN_TO_TEMPLATES_CHANGES_UNSUBSCRIBE:\n          case LISTEN_TO_CUSTOM_TEMPLATES_CHANGES_UNSUBSCRIBE:\n          case LISTEN_TO_TEMPLATE_MANIFEST_CHANGES_UNSUBSCRIBE:\n          case LISTEN_TO_EXPORT_CONFIG_SETTINGS_CHANGES_UNSUBSCRIBE:\n          case LISTEN_TO_APP_SETTINGS_CHANGES_UNSUBSCRIBE:\n          case LISTEN_TO_USER_SETTINGS_CHANGES_UNSUBSCRIBE:\n          case LISTEN_TO_BACKUPS_CHANGES_UNSUBSCRIBE: {\n            const unsubscribe = unsubscribeFunctions.get(messageId)\n            if (!unsubscribe) {\n              logger.error(\n                `Tried to unsubscribe from ${type} with a message id of ${messageId} but it's either already been done or never existed`\n              )\n              return false\n            }\n            unsubscribe()\n            unsubscribeFunctions.delete(messageId)\n            return true\n          }\n        }\n        return false\n      } catch (error) {\n        logger.error(\n          'Failed to handle message: ',\n          message.toString().substring(0, 50),\n          error.message,\n          error.stack,\n          error\n        )\n        return false\n      }\n    })\n  })\n\n  testModules().then(() => {\n    startupTasks(userDataPath, stores, logInfo).then(() => {\n      process.send('ready')\n    })\n  })\n}\n\nconst startServer = () => {\n  const { port, userDataPath } = parseArgs()\n  process.send(`args: ${process.argv}`)\n  setupListeners(port, userDataPath)\n}\n\nstartServer()\n","const settingsModule = (stores) => {\n  const { SETTINGS } = stores\n\n  const readSettings = () => {\n    // Old API for legacy settings\n    return Promise.resolve(SETTINGS.store)\n  }\n\n  return { readSettings }\n}\n\nexport default settingsModule\n","import { v4 as uuid } from 'uuid'\n\nimport { BUSY, DONE } from '../../shared/socket-server-message-types'\n\nclass StatusManager {\n  activeConnections = new Set()\n  tasks = []\n  logger = {\n    info: () => {},\n    warn: () => {},\n    error: () => {},\n  }\n\n  constructor(logger) {\n    if (logger) this.logger = logger\n  }\n\n  acceptConnection(webSocket) {\n    this.activeConnections.add(webSocket)\n  }\n\n  registerTask(work, name) {\n    this.notifyBusy()\n    const thisWorkId = uuid()\n    this.tasks.push({ workId: thisWorkId, name })\n    return work.then((result) => {\n      this.tasks = this.tasks.filter(({ workId }) => {\n        return workId !== thisWorkId\n      })\n      if (this.tasks.length === 0) {\n        this.notifyDone()\n      }\n      return result\n    })\n  }\n\n  broadcast(message) {\n    this.activeConnections.forEach((connection) => {\n      try {\n        connection.send(\n          JSON.stringify({ type: message, payload: {}, messageId: uuid(), result: null })\n        )\n      } catch (error) {\n        this.logger.error(\n          `Removing a connection from the status manager because it errored out with`,\n          error\n        )\n        this.activeConnections.delete(connection)\n      }\n    })\n  }\n\n  notifyBusy() {\n    this.broadcast(BUSY)\n  }\n\n  notifyDone() {\n    this.broadcast(DONE)\n  }\n}\n\nexport default StatusManager\n","import { LOG_ERROR, LOG_INFO, LOG_WARN } from '../../shared/socket-server-message-types'\n\nexport const makeLogger = (webSocket) => {\n  return {\n    info: (...args) => {\n      webSocket.send(\n        JSON.stringify({\n          type: LOG_INFO,\n          messageId: 'log-message',\n          payload: {},\n          result: `[Socket Server]: ${JSON.stringify(args, null, 2)}`,\n        })\n      )\n    },\n    warn: (...args) => {\n      webSocket.send(\n        JSON.stringify({\n          type: LOG_WARN,\n          messageId: 'log-message',\n          payload: {},\n          result: `[Socket Server]: ${JSON.stringify(args, null, 2)}`,\n        })\n      )\n    },\n    error: (...args) => {\n      console.error('[Socket Server]: ', JSON.stringify(args, null, 2))\n      webSocket.send(\n        JSON.stringify({\n          type: LOG_ERROR,\n          messageId: 'log-message',\n          payload: {},\n          result: `[Socket Server]: ${JSON.stringify(args, null, 2)}`,\n        })\n      )\n    },\n  }\n}\n","import { basename } from 'path'\n\nimport { helpers } from 'pltr/v2'\n\nconst makeKnownFilesModule = (\n  stores,\n  fileModule,\n  fileSystemModule,\n  tempFilesModule,\n  trashModule,\n  backupModule,\n  logger\n) => {\n  const { knownFilesStore } = stores\n  const { offlineFilesFilesPath } = fileModule\n  const { TEMP_FILES_PATH } = fileSystemModule\n  const { removeFromTempFiles } = tempFilesModule\n  const { trash } = trashModule\n  const { backupBasePath } = backupModule\n\n  const removeFromKnownFiles = (fileURL) => {\n    return knownFilesStore.delete(fileURL)\n  }\n\n  const deleteKnownFile = (fileURL) => {\n    const filePath = helpers.file.withoutProtocol(fileURL)\n    // We don't want to delete backup files\n    return backupBasePath().then((backupPath) => {\n      if (helpers.file.withoutProtocol(fileURL).startsWith(backupPath)) {\n        logger.info('Refusing delete a known file that is a backup')\n        return Promise.resolve()\n      }\n      return removeFromKnownFiles(fileURL)\n        .then(() => {\n          return trash(filePath)\n        })\n        .then(() => {\n          if (filePath.includes(TEMP_FILES_PATH)) {\n            return removeFromTempFiles(fileURL, false)\n          }\n          return true\n        })\n        .catch((error) => {\n          logger.warn(error)\n          return Promise.reject(error)\n        })\n    })\n  }\n\n  const addKnownFileWithFix = (fileURL) => {\n    // We also don't want to track recent files that don't have a path.\n    if (!fileURL || fileURL === '') return Promise.resolve()\n\n    // We don't want to track recent files when they're offline files.\n    if (helpers.file.withoutProtocol(fileURL).startsWith(offlineFilesFilesPath)) {\n      return Promise.resolve()\n    }\n\n    // We don't want to track recent files when they're backups (we\n    // make a new file instead.)\n    return backupBasePath().then((backupPath) => {\n      if (helpers.file.withoutProtocol(fileURL).startsWith(backupPath)) {\n        logger.info('Refusing to add a backup file as a known file')\n        return Promise.resolve()\n      }\n\n      const fileName = basename(helpers.file.withoutProtocol(fileURL), '.pltr')\n      return knownFilesStore\n        .setRawKey(fileURL, {\n          fileURL,\n          fileName,\n          lastOpened: Date.now(),\n        })\n        .catch((error) => {\n          logger.error('Error reading the known files store to add a known file', fileURL, error)\n          return Promise.reject(error)\n        })\n    })\n  }\n\n  const addKnownFile = (fileURL) => {\n    // We also don't want to track recent files that don't have a path.\n    if (!fileURL || fileURL === '') return Promise.resolve()\n\n    // We don't want to track recent files when they're offline files.\n    if (helpers.file.withoutProtocol(fileURL).startsWith(offlineFilesFilesPath)) {\n      logger.info('Refusing to add an offline file as a known file')\n      return Promise.resolve()\n    }\n\n    // We don't want to track recent files when they're backups (we\n    // make a new file instead.)\n    return backupBasePath().then((backupPath) => {\n      if (helpers.file.withoutProtocol(fileURL).startsWith(backupPath)) {\n        logger.info('Refusing to add a backup file as a known file')\n        return Promise.resolve()\n      }\n\n      const fileName = basename(helpers.file.withoutProtocol(fileURL), '.pltr')\n      return knownFilesStore\n        .setRawKey(fileURL, {\n          fileURL,\n          fileName,\n          lastOpened: Date.now(),\n        })\n        .catch((error) => {\n          logger.error('Error reading the known files store to add a known file', fileURL, error)\n          return Promise.reject(error)\n        })\n    })\n  }\n\n  const editKnownFilePath = (oldFileURL, newFileURL) => {\n    if (!oldFileURL || !newFileURL) {\n      const message = `Tried to edit a known file's path from ${oldFileURL} to ${newFileURL}`\n      logger.error(message)\n      return Promise.reject(new Error(message))\n    }\n    const fileRecord = knownFilesStore.getRawKey(oldFileURL)\n    // We don't want to track recent files when they're backups (we\n    // make a new file instead.)\n    return backupBasePath().then((backupPath) => {\n      if (helpers.file.withoutProtocol(oldFileURL).startsWith(backupPath)) {\n        logger.info('Refusing to rename a backup file')\n        return Promise.resolve()\n      }\n\n      return knownFilesStore\n        .delete(oldFileURL)\n        .then(() => {\n          return knownFilesStore.setRawKey(newFileURL, {\n            ...fileRecord,\n            fileURL: newFileURL,\n            fileName: basename(helpers.file.withoutProtocol(newFileURL), '.pltr'),\n          })\n        })\n        .catch((error) => {\n          logger.error(`Error editing known file path from ${oldFileURL} to ${newFileURL}: `, error)\n          return Promise.reject(error)\n        })\n    })\n  }\n\n  const updateLastOpenedDate = (fileURL) => {\n    const currentValue = knownFilesStore.getRawKey(fileURL)\n    return knownFilesStore.setRawKey(fileURL, {\n      ...currentValue,\n      lastOpened: Date.now(),\n    })\n  }\n\n  const updateKnownFileName = (fileURL, newName) => {\n    const currentValue = knownFilesStore.getRawKey(fileURL)\n    return knownFilesStore.setRawKey(fileURL, {\n      ...currentValue,\n      fileName: newName,\n    })\n  }\n\n  return {\n    removeFromKnownFiles,\n    addKnownFileWithFix,\n    addKnownFile,\n    editKnownFilePath,\n    updateLastOpenedDate,\n    deleteKnownFile,\n    updateKnownFileName,\n  }\n}\n\nexport default makeKnownFilesModule\n"],"names":["i18n","locales","en","de","fr","es","fa","ru","it","pt","el","flipped","getCurrentLocale","settings","platform","userSetLocale","locale","electron","appFRD","app","remote","getLocale","module","exports","localeNames","setupI18n","setup","translations","missingTranslation","formats","date","monthDay","month","day","t","DomParser","tagRegExp","attrRegExp","splitAttrRegExp","startTagExp","selfCloseTagExp","closeTagExp","nodeNameExp","attributeQuotesExp","noClosingTagsExp","Node","findByRegExp","html","selector","onlyFirst","matchingSelector","fullNodeName","selfCloseTag","attributes","attrBuffer","attrStr","buffer","tag","result","tagsCount","tags","match","composing","currentObject","i","l","length","test","aI","aL","lastIndex","exec","push","name","trim","value","replace","childNodes","nodeType","nodeName","namespace","parentNode","startTag","text","Dom","rawHTML","this","prototype","getElementsByClassName","className","RegExp","getElementsByTagName","tagName","getElementById","id","getElementsByName","getElementsByAttribute","attr","parseFromString","cfg","_selfCloseTag","Object","defineProperties","firstChild","get","lastChild","innerHTML","cNode","outerHTML","str","attrs","map","elem","join","child","textContent","TEXT_NODE","node","searchElements","root","conditionFn","concat","getAttribute","attributeName","expr","ELEMENT_NODE","global","noop","hasOwnProperty","objCreate","create","ptp","inheritance","objKeys","keys","obj","res","call","extend","o1","o2","extendStatic","setPrototypeOf","toStr","toString","isArray","Array","isFunction","needCheckProps","testPropObj","specProps","override","base","add","prop","addList","specProp","getPropList","j","len","__self","indexOf","baseMethod","__parent","baseSaved","__base","apply","arguments","applyMixins","mixins","mixin","inherit","self","args","withMixins","hasBase","props","staticProps","__constructor","constructor","basePtp","resPtp","modules","define","provide","require","RGB","BLACK","WHITE","RED","BLUE","LIME","YELLOW","MAROON","GREEN","GRAY","ORANGE","ARIAL","COMIC_SANS","GEORGIA","IMPACT","TAHOMA","HELVETICA","VERDANA","COURIER_NEW","PALATINO","TIMES_NEW_ROMAN","ENG_US","SP_MX","FR","RU","NONE","red","green","blue","Element","Format","Utils","ContainerElement","data","format","getItemRTFCode","item","jsRTF","getRTFCode","formatText","noEscape","makeRtfCmd","undefined","GroupElement","elements","addElement","element","content","getRTFSafeText","TableElement","options","assign","rowFormat","cellFormats","addRow","row","setData","columnsCount","reduce","max","Math","getRowContent","rowNo","rowCascade","firstRowFormat","cellCascade","cellFormat","rowContent","cell","cellContent","n","lastCellCascade","cascadeFormats","reverseCascade","filter","strictFilter","rowPlus","lastRatio","width","ratio","widthPercents","widthRatio","round","tableWidth","updateFormats","firstRowsFormat","fmt","updateTables","TextElement","borderTypes","single","doubleThickness","shadowed","double","dotted","dashed","hairline","dashSmall","dotDash","dotDotDash","triple","thickThinSmall","thinThickSmall","thinThickThinSmall","thickThinMedium","thinThickMedium","thinThickThinMedium","thickThinLarge","thinThickLarge","thinThickThinLarge","wavy","doubleWavy","striped","emboss","engrave","makeBorder","key","textBorderProps","spacing","type","color","v","colorPos","entities","spaceBefore","spaceAfter","leftIndent","rightIndent","alignLeft","alignRight","alignCenter","alignFull","align","String","toLowerCase","charAt","verticalAlignTop","verticalAlignBottom","verticalAlignCenter","verticalAlignJustify","verticalAlign","tableHeader","cellVerticalAlign","font","fontPos","bgColor","bgColorPos","cellBgColor","cellBgColorPos","borderColor","borderColorPos","rowBorderLeft","rowBorderRight","rowBorderTop","rowBorderBottom","rowBorderHorizontal","rowBorderVertical","cellBorderLeft","cellBorderRight","cellBorderTop","cellBorderBottom","border","prefix","borderLeft","borderRight","borderTop","borderBottom","borderSpacing","borderWidth","borderType","fontSize","isNaN","landscape","pageWidth","pageHeight","marginLeft","marginRight","marginTop","marginBottom","language","pageNumbering","columns","columnLines","paragraph","wrap","postfix","bold","italic","underline","strike","subScript","superScript","entitiesFirst","oprionsLast","EntitiesData","compare","a","b","order","makeIndex","x","sortKeys","Entities","_notEmptyKey","testFilter","ctx","strict","cmpFilter","some","includes","compile","params","sort","applyWrappers","reverse","defaultOptions","colorTable","fontTable","cellBorder","keyPos","getColorPosition","styles","wrapInCurles","Fonts","Colors","Language","_getDefaultParams","Error","addTable","table","addTextGroup","_groupIndex","formatGroup","groupName","writeText","addCommand","command","addPage","addLine","addTab","addSection","addStyles","forEach","getRTFCodeRoot","createDocument","output","elemsContent","createColorTable","createFontTable","defineAsGlobal","window","jsrtf","replaceAll","token","newToken","ignoreCase","split","substring","dpi","twipsPerMM","mm2twips","mm","isIndex","index","c","rgb","f","find","resultIndex","DataView","getNative","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","entries","clear","entry","set","has","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Promise","Set","setCacheAdd","setCacheHas","SetCache","values","__data__","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","size","Symbol","Uint8Array","WeakMap","func","thisArg","array","setter","iteratee","accumulator","predicate","resIndex","baseIndexOf","comparator","baseTimes","isArguments","isBuffer","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","offset","baseAssignValue","eq","object","objValue","baseEach","collection","copyObject","source","keysIn","defineProperty","arrayEach","assignValue","baseAssign","baseAssignIn","cloneBuffer","copyArray","copySymbols","copySymbolsIn","getAllKeys","getAllKeysIn","getTag","initCloneArray","initCloneByTag","initCloneObject","isMap","isObject","isSet","argsTag","funcTag","objectTag","cloneableTags","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","isFunc","stacked","subValue","objectCreate","baseCreate","proto","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","isCommon","valuesLength","outer","computed","valuesIndex","baseForOwn","createBaseEach","fromIndex","fromRight","arrayPush","isFlattenable","baseFlatten","depth","isStrict","baseFor","createBaseFor","castPath","toKey","path","keysFunc","symbolsFunc","getRawTag","objectToString","symToStringTag","toStringTag","baseFindIndex","baseIsNaN","strictIndexOf","baseGetTag","isObjectLike","baseIsEqualDeep","baseIsEqual","other","equalArrays","equalByTag","equalObjects","arrayTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","isMasked","toSource","reIsHostCtor","funcProto","Function","objectProto","funcToString","reIsNative","isLength","typedArrayTags","baseMatches","baseMatchesProperty","identity","property","isPrototype","nativeKeys","nativeKeysIn","isProto","isArrayLike","baseIsMatch","getMatchData","matchesStrictComparable","hasIn","isKey","isStrictComparable","baseGet","baseIteratee","baseMap","baseSortBy","compareMultiple","iteratees","orders","nativeFloor","floor","string","overRest","setToString","start","constant","baseSetToString","end","comparer","isSymbol","symbolProto","symbolToString","baseToString","trimmedEndIndex","reTrimStart","slice","createSet","setToArray","seen","seenIndex","last","parent","cache","stringToPath","arrayBuffer","byteLength","freeExports","freeModule","Buffer","allocUnsafe","copy","cloneArrayBuffer","dataView","byteOffset","reFlags","regexp","symbolValueOf","valueOf","symbol","typedArray","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","compareAscending","objCriteria","criteria","othCriteria","ordersLength","isNew","newValue","getSymbols","getSymbolsIn","coreJsData","arrayAggregator","baseAggregator","initializer","eachFunc","iterable","isPlainObject","e","arraySome","isPartial","arrLength","othLength","arrStacked","othStacked","arrValue","othValue","compared","othIndex","mapToArray","message","convert","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","flatten","freeGlobal","baseGetAllKeys","isKeyable","baseIsNative","getValue","getPrototype","overArg","getPrototypeOf","nativeObjectToString","isOwn","unmasked","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","resolve","Ctor","ctorString","hasFunc","nativeCreate","input","cloneDataView","cloneRegExp","cloneSymbol","cloneTypedArray","spreadableSymbol","isConcatSpreadable","reIsUint","reIsDeepProp","reIsPlainProp","uid","maskSrcKey","IE_PROTO","assocIndexOf","splice","pop","getMapData","memoize","freeProcess","process","nodeUtil","types","binding","transform","arg","nativeMax","otherArgs","baseSlice","freeSelf","shortOut","nativeNow","Date","now","count","lastCalled","stamp","remaining","pairs","LARGE_ARRAY_SIZE","memoizeCapped","rePropName","reEscapeChar","charCodeAt","number","quote","subString","reWhitespace","CLONE_DEEP_FLAG","baseDifference","baseRest","isArrayLikeObject","difference","differenceWith","defaultValue","createAggregator","groupBy","baseHasIn","hasPath","baseIsArguments","stubFalse","baseIsMap","nodeIsMap","objectCtorString","baseIsSet","nodeIsSet","baseIsTypedArray","nodeIsTypedArray","keyBy","arrayLikeKeys","baseKeys","baseKeysIn","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_PARTIAL_FLAG","WRAP_ARY_FLAG","INFINITY","MAX_SAFE_INTEGER","NAN","MAX_ARRAY_LENGTH","wrapFlags","boolTag","dateTag","errorTag","genTag","numberTag","regexpTag","stringTag","symbolTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reRegExpChar","reHasRegExpChar","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEsTemplate","reIsBadHex","reIsBinary","reIsOctal","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsLowerRange","rsUpperRange","rsBreakRange","rsMathOpRange","rsBreak","rsCombo","rsDigits","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsModifier","rsOptVar","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","stringEscapes","freeParseFloat","parseFloat","freeParseInt","parseInt","moduleExports","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsRegExp","isRegExp","arrayEachRight","arrayEvery","arrayReduce","initAccum","arrayReduceRight","asciiSize","baseProperty","baseFindKey","baseIndexOfWith","baseMean","baseSum","basePropertyOf","baseReduce","current","baseTrim","baseValues","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","replaceHolders","setToPairs","stringSize","unicodeSize","stringToArray","unicodeToArray","asciiToArray","unescapeHtmlChar","_","runInContext","context","defaults","pick","TypeError","arrayProto","idCounter","oldDash","symIterator","iterator","ctxClearTimeout","clearTimeout","ctxNow","ctxSetTimeout","setTimeout","nativeCeil","ceil","nativeIsBuffer","nativeIsFinite","isFinite","nativeJoin","nativeMin","min","nativeParseInt","nativeRandom","random","nativeReverse","metaMap","realNames","lodash","LazyWrapper","LodashWrapper","wrapperClone","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","arraySample","baseRandom","arraySampleSize","shuffleSelf","baseClamp","arrayShuffle","assignMergeValue","baseAt","paths","skip","lower","upper","baseConformsTo","baseDelay","wait","templateSettings","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","baseFilter","baseForRight","baseFunctions","baseGt","baseHas","baseIntersection","arrays","caches","maxLength","Infinity","baseInvoke","baseLt","baseMerge","srcIndex","mergeFunc","safeGet","isTyped","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","getIteratee","basePickBy","baseSet","basePullAll","basePullAt","indexes","previous","baseUnset","baseRepeat","baseSample","baseSampleSize","nested","baseSetData","baseShuffle","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsUndefined","setLow","baseSortedUniq","baseToNumber","baseUniq","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","castRest","castSlice","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","createAssigner","assigner","sources","guard","isIterateeCall","createCaseFirst","methodName","trailing","createCompounder","callback","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","fn","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setWrapToString","createRound","precision","toInteger","pair","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","otherFunc","isMaskable","oldArray","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","rand","clone","differenceBy","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","findLast","forEachRight","invokeMap","partition","sortBy","before","bind","bindKey","WRAP_BIND_FLAG","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","next","done","iteratorToArray","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","omit","basePick","pickBy","toPairs","toPairsIn","camelCase","word","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","over","overEvery","overSome","basePropertyDeep","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","subtract","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","once","orderBy","propertyOf","pullAllBy","pullAllWith","reject","remove","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","zipObject","zipObjectDeep","entriesIn","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","target","position","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduceRight","repeat","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trimEnd","trimStart","truncate","omission","search","newEnd","unescape","uniqueId","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","Markdown","returnFalse","HookCollection","SaveHash","hookname","original","addNoop","addFalse","Converter","g_urls","g_titles","g_html_blocks","g_list_level","pluginHooks","hooks","_HashHTMLBlocks","hashElement","wholeMatch","m1","blockText","makeHtml","_Detab","preConversion","charCodeToReplace","fromCharCode","_UnescapeSpecialChars","_RunBlockGamut","m2","m3","m4","m5","_EncodeAmpsAndAngles","_StripLinkDefinitions","postNormalization","postConversion","blockGamutHookCallback","doNotUnhash","replacement","bq","pre","hashBlock","_DoBlockQuotes","nextChar","_EncodeCode","_Outdent","_DoCodeBlocks","_DoLists","_RunSpanGamut","matchFound","h_level","_DoHeaders","preBlockGamut","grafs","grafsOut","markerRe","foundAny","_FormParagraphs","postBlockGamut","_DoItalicsAndBold","handleTrailingParens","wholematch","plainLinkText","_DoAutoLinks","writeAnchorTag","_DoAnchors","writeImageTag","_DoImages","escapeCharacters_callback","_EncodeBackslashEscapes","escapeCharacters","_EscapeSpecialCharsWithinTagAttributes","_DoCodeSpans","preSpanGamut","postSpanGamut","m6","m7","whole_match","link_text","link_id","url","title","_problemUrlChars","encodeProblemUrlChars","attributeEncode","alt_text","whole_list","list","list_type","_ProcessListItems","runup","_listItemMarkers","ol","ul","list_str","marker","re","last_item_had_a_double_newline","ends_with_double_newline","contains_double_newline","lookbehind","protocol","link","parens","level","trailingParens","spaces","skew","charsToEscape","afterBackslash","regexString","regex","sanitizeHtml","sanitizeTag","getSanitizingConverter","converter","balanceTags","basic_tag_whitelist","a_white","img_white","tagname","tagcount","tagpaired","tagremove","needsRemoval","ctag","ntag","_defineProperty","enumerable","configurable","writable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","formatProdErrorMessage","code","$$observable","observable","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","dispatch","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","unsubscribe","legacy_createStore","combineReducers","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","state","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","bindActionCreator","actionCreator","bindActionCreators","actionCreators","boundActionCreators","compose","_len","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","middleware","NOT_FOUND","defaultEqualityCheck","defaultMemoize","equalityCheckOrOptions","equals","providedOptions","equalityCheck","_providedOptions$equa","_providedOptions$maxS","maxSize","resultEqualityCheck","prev","createCacheKeyComparator","put","getEntries","cacheIndex","unshift","createLruCache","matchingEntry","clearCache","getDependencies","dependencies","dep","dependencyTypes","createSelectorCreator","memoizeOptionsFromArgs","createSelector","_len2","_key2","_lastResult","_recomputations","directlyPassedOptions","memoizeOptions","resultFunc","_directlyPassedOption","_directlyPassedOption2","finalMemoizeOptions","memoizedResultFunc","lastResult","recomputations","resetRecomputations","createStructuredSelector","selectors","selectorCreator","objectKeys","resultSelector","_len3","_key3","composition","debug","MAX_LENGTH","parseOptions","compareIdentifiers","SemVer","version","loose","includePrerelease","m","LOOSE","FULL","raw","major","minor","patch","prerelease","num","build","compareMain","comparePre","compareBuild","inc","release","identifier","parse","rtl","COERCERTL","COERCE","er","Number","SEMVER_SPEC_VERSION","MAX_SAFE_COMPONENT_LENGTH","env","NODE_DEBUG","console","error","numeric","anum","bnum","rcompareIdentifiers","opts","k","o","src","R","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","ANCHOR","FOCUS","Token","AnchorToken","super","FocusToken","getFocusOffset","ownKeys$1","_objectSpread$1","STRINGS","WeakSet","resolveDescendants","children","nodes","addChild","Text","addAnchorToken","addFocusToken","flat","createElement","createText","delete","createEditor","makeEditor","selectionChild","otherChildren","Range","descendants","selection","editor","anchor","focus","_offset","_objectSpread","DEFAULT_CREATORS","cursor","fragment","createHyperscript","elementCreators","normalizeElements","creators","jsx","createFactory","creator","ret","Boolean","_loop","r","Q","Z","L","s","nn","u","X","q","p","rn","d","y","h","freeze","isFrozen","tn","U","O","g","S","w","P","M","H","A","I","D","F","z","E","N","T","C","on","Proxy","revocable","revoke","proxy","J","K","from","G","W","B","Reflect","for","getOwnPropertyNames","deleteProperty","un","produce","then","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","op","$","an","ln","dn","DIRTY_PATHS","DIRTY_PATH_KEYS","FLUSHING","NORMALIZING","PATH_REFS","POINT_REFS","RANGE_REFS","ownKeys$9","_objectSpread$9","operations","marks","isInline","isVoid","onChange","ref","Editor","pathRefs","PathRef","pointRefs","PointRef","rangeRefs","RangeRef","dirtyPaths","dirtyPathKeys","oldDirtyPaths","oldDirtyPathKeys","Path","operationCanTransformPath","newDirtyPaths","getDirtyPaths","_path","Transforms","normalize","addMark","isExpanded","setNodes","isText","deleteBackward","unit","isCollapsed","deleteForward","deleteFragment","direction","getFragment","insertBreak","splitNodes","always","insertSoftBreak","insertFragment","insertNode","insertNodes","insertText","normalizeNode","voids","shouldHaveInlines","isEditor","currentNode","_child","isLast","removeNodes","mergeNodes","removeMark","unsetNodes","levels","_path2","_ref3","_path3","ancestors","_path4","newPath","oldAncestors","newAncestors","ancestor","_ancestor","_p","newParent","newIndex","resultPath","_path5","_path6","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","CodepointType","getCharacterDistance","isRTL","isLTR","codepoints","codepointsIteratorRTL","left","None","right","distance","gb12Or13","char","codePointAt","getCodepointType","intersects","ZWJ","ExtPict","endsWithEmojiZWJ","RI","endsWithOddNumberOfRIs","isBoundaryPair","SPACE","PUNCTUATION","CHAMELEON","splitByCharacterDistance","dist","isWordCharacter","charDist","nextRemaining","char1","isLowSurrogate","char2","isHighSurrogate","charCode","reExtend","rePrepend","reSpacingMark","reL","reV","reT","reLV","reLVT","reExtPict","Any","Extend","Prepend","SpacingMark","V","LV","LVT","NonBoundaryPairs","endingEmojiZWJ","endingRIs","isNodeList","isAncestor","isElementList","val","isElementProps","isElementType","elementVal","elementKey","_excluded$4","_excluded2$3","ownKeys$8","_objectSpread$8","IS_EDITOR_CACHE","above","mode","point","edge","positions","edges","hasBlocks","isBlock","hasInlines","hasTexts","cachedIsEditor","isRange","Operation","isOperationList","isEnd","Point","isEdge","isStart","isNormalizing","leaf","_node","block","prevNode","prevPath","blockPath","pointAfterLocation","to","span","isPath","universal","Span","isSpan","hit","nodeEntries","pass","isLower","emit","force","popDirtyPath","getDirtyPathKeys","allPaths","allPathKeys","withoutNormalizing","dirtyPath","_dirtyPath","_entry","parentPath","firstPath","lastPath","common","isPoint","pathRef","affinity","unref","refs","pointRef","isNewBlock","leafTextRemaining","leafTextOffset","isFirst","calcDistance","started","getWordDistance","pointBeforeLocation","rangeRef","setNormalizing","unhangRange","endBlock","isBefore","void","Location","isLocation","_excluded$3","_excluded2$2","IS_NODE_LIST_CACHE","JSON","stringify","childPath","another","descendant","extractProps","newRoot","_leaf","isNode","cachedResult","isTextProps","visited","isAfter","nextIndex","ownKeys$7","_objectSpread$7","isNodeOperation","isOperation","newProperties","isSelectionOperation","isTextOperation","inverse","isSibling","inversePath","inverseNewPath","_properties","_newProperties","av","endsAfter","as","bs","bv","endsAt","endsBefore","hasPrevious","isChild","isDescendant","isParent","operation","relative","_op","_op2","_op3","_position","_op4","onp","ownKeys$6","_objectSpread$6","_excluded$2","ownKeys$5","isBackward","rs","ts","te","isAfterStart","isBeforeEnd","s1","e1","s2","e2","_objectSpread$5","isForward","affinityAnchor","affinityFocus","isDeepEqual","_excluded$1","_excluded2$1","ownKeys$4","_objectSpread$4","omitText","isTextList","decorations","leaves","dec","middle","off","_off","ownKeys$3","_objectSpread$3","GeneralTransforms","points","_point","_node2","_parent","_index","_point2","_node3","_parent2","_index2","truePath","_point3","_index3","_point4","_key4","_prev","texts","preferNext","_text","_node4","_before","_after","_point5","_key5","_node5","_key6","_key7","_key8","_value","_path7","newNode","_node6","_parent4","_index4","_before2","_after2","_before3","_after3","_point6","_key9","applyToDraft","_excluded","_excluded2","ownKeys$2","_objectSpread$2","NodeTransforms","hanging","select","_matchPath","isAtEnd","liftNodes","matchPath","parentNodeEntry","moveNodes","_toPath","splitPath","_toPath2","commonPath","isPreviousSibling","emptyAncestor","hasSingleChildNest","emptyRef","toRef","targets","depths","_ref4","splitMode","endAtEndOfNode","startAtStartOfNode","nodeProp","hasChanges","height","deleteRange","afterRef","beforeRef","highest","voidMatch","voidNode","voidPath","afterPath","highestPath","lowestPath","_afterRef","unwrapNodes","_ref5","wrapNodes","roots","rootPath","_ret","commonNodeEntry","commonNode","wrapperPath","SelectionTransforms","collapse","deselect","move","setSelection","setPoint","oldProps","newProps","TextTransforms","furthestVoid","_end","endOfDoc","startBlock","isAcrossBlocks","isSingleText","startVoid","endVoid","startRef","endRef","startUnref","endUnref","inlineElementMatch","_inlinePath","blockMatch","isBlockStart","isBlockEnd","isBlockEmpty","mergeStart","mergeEnd","matcher","starts","middles","ends","starting","inlineMatch","inlinePath","isInlineStart","isInlineEnd","middleRef","blockPathRef","_end2","startPoint","endPoint","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","tinycolor","ok","named","names","matchers","rgba","hsl","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","substr","convertToPercentage","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","pow","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","_applyModification","_applyCombination","fromRatio","newColor","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","isOnePointZero","processPercent","isPercentage","abs","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","rnds8Pool","poolPtr","rng","uuid","byteToHex","arr","_nodeId","_clockseq","_lastMSecs","_lastNSecs","buf","clockseq","seedBytes","msecs","nsecs","dt","tl","tmh","hashfunc","generateUUID","encodeURIComponent","bytes","stringToBytes","err","DNS","URL","v35","digest","rnds","START_LOADING_FILE_LIST","FINISH_LOADING_FILE_LIST","START_CHECKING_FILE_TO_LOAD","FINISH_CHECKING_FILE_TO_LOAD","START_CREATING_CLOUD_FILE","FINISH_CREATING_CLOUD_FILE","START_UPLOADING_FILE_TO_CLOUD","FINISH_UPLOADING_FILE_TO_CLOUD","START_LOADING_FILE","FINISH_LOADING_FILE","needToUpdate","ERROR_LOADING_FILE","errorIsUpdateError","START_RENAMING_FILE","FINISH_RENAMING_FILE","START_DELETING_FILE","FINISH_DELETING_FILE","START_SAVING_FILE_AS","FINISH_SAVING_FILE_AS","START_LOGGING_IN","FINISH_LOGGING_IN","START_CHECKING_SESSION","FINISH_CHECKING_SESSION","licenseType","START_LOADING_A_LICENSE_TYPE","FINISH_LOADING_A_LICENSE_TYPE","settingsType","START_LOADING_A_SETTINGS_TYPE","FINISH_LOADING_A_SETTINGS_TYPE","ADVANCE_PRO_ONBOARDING","START_ONBOARDING","FINISH_ONBOARDING","START_ONBOARDING_FROM_ROOT","START_IMPORTING_SCRIVENER","FINISH_IMPORTING_SCRIVENER","filePath","PROMPT_TO_UPLOAD_FILE","DISMISS_PROMPT_TO_UPLOAD_FILE","REQUEST_CHECK_FOR_UPDATE","AUTO_CHECK_FOR_UPDATES","available","info","PROCESS_RESPONSE_TO_REQUEST_UPDATE","DISMISS_UPDATE_NOTIFIER","percent","SET_UPDATE_DOWNLOAD_PROGRESS","BUSY_WITH_WORK_THAT_PREVENTS_QUITTING","DONE_WITH_WORK_THAT_PREVENTS_QUITTING","patching","LOAD_ATTRIBUTES","attributeId","toIndex","REORDER_CHARACTER_ATTRIBUTE_METADATA","oldName","EDIT_CHARACTER_ATTRIBUTE_METADATA","attributeType","DELETE_CHARACTER_LEGACY_CUSTOM_ATTRIBUTE","DELETE_CHARACTER_ATTRIBUTE","folders","SET_BACKUP_FOLDERS","bookId","parentId","ADD_BEAT","beat","APPEND_TOP_LEVEL_BEAT","AUTO_SORT_BEAT","COLLAPSE_BEAT","DELETE_BEAT","EDIT_BEAT_TITLE","EXPAND_BEAT","peerBeatId","INSERT_BEAT","beats","LOAD_BEATS","beatId","beatDroppedOnto","REORDER_BEATS","premise","genre","theme","ADD_BOOK","book","templateData","ADD_BOOK_FROM_TEMPLATE","DELETE_BOOK","EDIT_BOOK","imageId","EDIT_BOOK_IMAGE","books","LOAD_BOOKS","ids","REORDER_BOOKS","card","ADD_CARD","characterId","ATTACH_CHARACTER_TO_CARD","newCard","reorderIds","ADD_CARD_IN_BEAT","placeId","ATTACH_PLACE_TO_CARD","tagId","ATTACH_TAG_TO_CARD","ADD_TEMPLATE_TO_CARD","CHANGE_BEAT","CHANGE_BOOK","lineId","CHANGE_LINE","DELETE_CARD","DUPLICATE_CARD","description","templates","EDIT_CARD_DETAILS","editorPath","editorMetadataIfPresent","EDIT_CARD_COORDINATES","templateId","EDIT_CARD_TEMPLATE_ATTRIBUTE","cards","LOAD_CARDS","cardId","MOVE_CARD_TO_BOOK","REMOVE_CHARACTER_FROM_CARD","REMOVE_PLACE_FROM_CARD","REMOVE_TAG_FROM_CARD","REMOVE_TEMPLATE_FROM_CARD","newOrderInBeat","newOrderWithinLine","newIdInBeat","REORDER_CARDS_IN_BEAT","REORDER_CARDS_WITHIN_LINE","ADD_CHARACTER_CATEGORY","ADD_NOTE_CATEGORY","ADD_PLACE_CATEGORY","ADD_TAG_CATEGORY","categoryId","DELETE_CHARACTER_CATEGORY","category","DELETE_NOTE_CATEGORY","DELETE_PLACE_CATEGORY","DELETE_TAG_CATEGORY","categories","LOAD_CATEGORIES","REORDER_CHARACTER_CATEGORY","REORDER_NOTE_CATEGORY","REORDER_PLACE_CATEGORY","REORDER_TAG_CATEGORY","UPDATE_CHARACTER_CATEGORY","UPDATE_NOTE_CATEGORY","UPDATE_PLACE_CATEGORY","UPDATE_TAG_CATEGORY","ADD_CHARACTER","character","notes","ADD_CHARACTER_WITH_TEMPLATE","ATTACH_TAG_TO_CHARACTER","ADD_TEMPLATE_TO_CHARACTER","DELETE_CHARACTER","DUPLICATE_CHARACTER","EDIT_CHARACTER_IMAGE","EDIT_CHARACTER_NAME","characters","LOAD_CHARACTERS","REMOVE_BOOK_FROM_CHARACTER","REMOVE_TAG_FROM_CHARACTER","REMOVE_TEMPLATE_FROM_CHARACTER","createCharacterAttribute","fromLegacyAttribute","CREATE_CHARACTER_ATTRIBUTE","attribute","escapeBraces","fullState","present","selectedCharacterAttributeTabSelector","EDIT_CHARACTER_TEMPLATE_ATTRIBUTE","bookIds","allBookIdsSelector","ATTACH_BOOK_TO_CHARACTER","editCharacterAttributeValue","characterAttributesForBook","characterAttributesForCurrentBookSelector","selectedBook","newAttribute","EDIT_CHARACTER_ATTRIBUTE_VALUE","legacyCustomAttribute","legacyCustomCharacterAttributeByName","characterAttributes","characterAttributesForBookSelector","nextAttributeId","nextId","shortDescription","EDIT_CHARACTER_SHORT_DESCRIPTION","EDIT_CHARACTER_DESCRIPTION","EDIT_CHARACTER_CATEGORY","SET_CURRENT_APP_STATE","appState","userId","SET_USER_ID","clientId","SET_CLIENT_ID","emailAddress","SET_EMAIL_ADDRESS","hasOnboarded","SET_HAS_ONBOARDED","hasPro","SET_HAS_PRO","SET_IS_ON_WEB","ADD_CARDS_ATTRIBUTE","escapeBracesInAttributeName","ADD_LINES_ATTRIBUTE","ADD_NOTES_ATTRIBUTE","ADD_PLACES_ATTRIBUTE","oldAttribute","EDIT_CARDS_ATTRIBUTE","EDIT_NOTES_ATTRIBUTE","EDIT_PLACES_ATTRIBUTE","customAttributes","LOAD_CUSTOM_ATTRIBUTES","REMOVE_CARDS_ATTRIBUTE","REMOVE_LINES_ATTRIBUTE","REMOVE_NOTES_ATTRIBUTE","REMOVE_PLACES_ATTRIBUTE","REORDER_CARDS_ATTRIBUTE","REORDER_CHARACTER_ATTRIBUTE","REORDER_NOTES_ATTRIBUTE","REORDER_PLACES_ATTRIBUTE","CLICK_ON_DOM","storeKey","PERMISSION_ERROR","GENERAL_ERROR","CLEAR_ERROR","IMPORT_ERROR","errorMessage","SAVE_TEMP_FILE_ERROR","setFeatureFlag","flagName","BEAT_HIERARCHY_FLAG","SET_FEATURE_FLAG","unsetFeatureFlag","UNSET_FEATURE_FLAG","featureFlags","LOAD_FEATURE_FLAGS","newHierarchyLevels","SET_HIERARCHY_LEVELS","hierarchyLevels","hierarchyLevel","EDIT_HIERARCHY_LEVEL","hierarchy","LOAD_HIERARCHY","storageUrl","publicUrl","CACHE_IMAGE","timestamp","newImage","image","initialImage","ADD_IMAGE","DELETE_IMAGE","images","LOAD_IMAGES","RENAME_IMAGE","knownFiles","SET_KNOWN_FILES","trialInfo","SET_TRIAL_INFO","licenseInfo","SET_LICENSE_INFO","proLicenseInfo","SET_PRO_LICENSE_INFO","RESET_PRO_LICENSE_INFO","ADD_LINE","ADD_LINE_WITH_TITLE","ADD_LINES_FROM_TEMPLATE","COLLAPSE_LINE","DELETE_LINE","DUPLICATE_LINE","EDIT_LINE","EDIT_LINE_COLOR","EDIT_LINE_TITLE","EXPAND_LINE","lines","LOAD_LINES","destinationBookId","MOVE_LINE","REORDER_LINES","ATTACH_BOOK_TO_NOTE","ATTACH_CHARACTER_TO_NOTE","ADD_NOTE","note","ATTACH_PLACE_TO_NOTE","ATTACH_TAG_TO_NOTE","DELETE_NOTE","DUPLICATE_NOTE","lastEdited","getTime","EDIT_NOTE","EDIT_NOTE_TEMPLATE_ATTRIBUTE","LOAD_NOTES","REMOVE_BOOK_FROM_NOTE","REMOVE_CHARACTER_FROM_NOTE","REMOVE_PLACE_FROM_NOTE","REMOVE_TAG_FROM_NOTE","DISMISS_MESSAGE","SHOW_MESSAGE","visible","cardAction","newBookId","lineAction","SHOW_TOAST_NOTIFICATION","newPermission","SET_PERMISSION","permission","ATTACH_BOOK_TO_PLACE","ADD_PLACE","place","ADD_PLACE_WITH_VALUES","ATTACH_TAG_TO_PLACE","DELETE_PLACE","DUPLICATE_PLACE","EDIT_PLACE","EDIT_PLACE_TEMPLATE_ATTRIBUTE","places","LOAD_PLACES","REMOVE_BOOK_FROM_PLACE","REMOVE_TAG_FROM_PLACE","cb","selectedFile","SELECT_FILE","SELECT_EMPTY_FILE","SET_FILE_LOADED","UNSET_FILE_LOADED","isLoading","SHOW_LOADER","isOffline","offlineModeIsEnabled","offlineModeEnabledSelector","fileIsLoaded","fileURLSelector","SET_OFFLINE","resuming","SET_RESUMING","checkingOfflineDrift","SET_CHECKING_FOR_OFFLINE_DRIFT","overwritingCloudWithBackup","SET_OVERWRITING_CLOUD_WITH_BACKUP","showResumeMessageDialog","SET_SHOW_RESUME_MESSAGE_DIALOG","backingUpOfflineFile","SET_BACKING_UP_OFFLINE_FILE","defaultName","START_CREATING_NEW_PROJECT","FINISH_CREATING_NEW_PROJECT","EDIT_SERIES","series","LOAD_SERIES","exportSettings","SET_EXPORT_SETTINGS","userSettings","SET_USER_SETTINGS","appSettings","SET_APP_SETTINGS","SET_DARK_MODE","ADD_CREATED_TAG","ADD_TAG","ADD_TAG_WITH_VALUES","CHANGE_TAG_COLOR","DELETE_TAG","DUPLICATE_TAG","EDIT_TAG","LOAD_TAGS","SET_TEMPLATES","customTemplates","SET_CUSTOM_TEMPLATES","templateManifest","SET_TEMPLATE_MANIFEST","ENABLE_TEST_UTILITIES","CHANGE_CURRENT_TIMELINE","CHANGE_CURRENT_VIEW","orientation","CHANGE_ORIENTATION","CLEAR_TEMPLATE_FROM_TIMELINE","CLOSE_ATTRIBUTES_DIALOG","CLOSE_BOOK_DIALOG","COLLAPSE_TIMELINE","EXPAND_TIMELINE","FILE_SAVED","dirty","ui","LOAD_UI","fileName","payload","fileURL","FILE_LOADED","inBrowser","history","NAVIGATE_TO_BOOK_TIMELINE","NEW_FILE","OPEN_ATTRIBUTES_DIALOG","OPEN_EDIT_BOOK_DIALOG","OPEN_NEW_BOOK_DIALOG","file","LOAD_FILE","RECORD_SCROLL_POSITION","RESET_TIMELINE","SELECT_CHARACTER","SELECT_CHARACTER_ATTRIBUTE_BOOK_TAB","SET_CARD_DIALOG_CLOSE","SET_CHARACTER_FILTER","SET_CHARACTER_SORT","searchTerm","SET_CHARACTERS_SEARCH_TERM","SET_NOTE_FILTER","SET_NOTE_SORT","SET_NOTES_SEARCH_TERM","SET_OUTLINE_FILTER","SET_OUTLINE_SEARCH_TERM","SET_PLACE_FILTER","SET_PLACE_SORT","SET_PLACES_SEARCH_TERM","SET_TAGS_SEARCH_TERM","activeTab","SET_ACTIVE_TIMELINE_TAB","SET_TIMELINE_FILTER","SET_TIMELINE_SEARCH_TERM","newSize","SET_TIMELINE_SIZE","timelineView","SET_TIMELINE_VIEW","persistFileNameChange","newName","EDIT_FILENAME","allCardsSelector","SET_CARD_DIALOG_OPEN","RESET","ERROR_ACTIONS","PERMISSION_ACTIONS","SET_FILE_LIST","PROJECT_ACTIONS","CLIENT_ACTIONS","RECORD_LAST_ACTION","RESET_ACTION_RECORDER","ACTION_ACTIONS","LICENSE_ACTIONS","KNOWN_FILES_ACTIONS","TEMPLATE_ACTIONS","SETTINGS_ACTIONS","BACKUP_ACTIONS","APPLICATION_STATE_ACTIONS","IMAGE_CACHE_ACTIONS","NOTIFICATION_ACTIONS","DOM_EVENT_ACTIONS","TESTING_AND_DIAGNOSIS_ACTIONS","reds","oranges","greens","blues","purples","grays","whites","browns","allcolors","colorsWithKeys","colors","sortedBookBeats","beatIndex","sortedHierarchyLevels","hierarchyEnabled","isSeries","beatName","tree","newId","newBeat","isSeriesString","items","toMove","droppedOntoId","depthToMove","siblingDepth","nodeParent","sameParent","siblings","positionDroppedOnto","positionPickedUpFrom","positionModifier","modifiedPosition","withNodeMoved","moveNode","positionReset","editNode","nextPositionInTree","initialValue","acc","nextTree","configuredName","nextLevelName","beatTree","maxPosition","newTree","resetIter","maxDepth","maxId","addLevelToHierarchy","currentTree","newParentId","findNode","withNewParent","addNode","newTopLevelNodes","highestIdTopLevelNode","nextTopLevelNode","accTree","removeLevelFromHierarchy","topLevelNodesToRemove","withNodesMoved","deleteNode","targetHierarchyDepth","nextParentId","maximumDepth","currentParentId","rootParentId","iter","currentBeat","sortedChildren","beatDepth","priorChildren","found","otherBeatDepth","sortedBeats","sortedLines","card2Dmap","currentLine","line","lineIsHidden","sortedBeatCards","fromTemplateId","positionInBeat","positionWithinLine","autoSort","groupedCards","sortedLineIds","brightness","isDarkMode","stringDate","year","escapeSlashes","cardDescriptionEditorPath","cardCustomAttributeEditorPath","cardTemplateAttributeEditorPath","noteContentEditorPath","noteId","noteCustomAttributeEditorPath","noteTemplateAttributeEditorPath","characterNotesEditorPath","characterCustomAttributeEditorPath","characterTemplateAttributeEditorPath","placeNotesEditorPath","placeCustomAttributeEditorPath","placeTemplateAttributeEditorPath","entityType","entityId","attrName","editorMetadata","gatedByBeatHierarchy","featureFlagName","thunk","fileObj","lastOpened","VERY_OLD_DATE","lastOpenedIsString","lastOpenedIsObject","lastOpenedIsNumber","nanosAndSecondsObject","nanoseconds","seconds","splits","urlPointsToPlottrCloud","fileId","protocolMatch","borderStyleToCss","borderStyle","DASHED","SOLID","DOTTED","nullIfNone","noneIsTransparent","textSize","backgroundColor","timelineSize","hovering","getTextColor","textColor","BEAT_HIERARCHY","lineHeight","LEVEL_NAMES","allHierarchyLevels","nextBorderStyle","nextColor","dark","nextDarkColor","light","sourcePosition","newPosition","newList","targetPosition","removed","originalPosition","terms","term","customAttributesReducer","linesReducer","beatsReducer","booksReducer","cardsReducer","categoriesReducer","charactersReducer","imagesReducer","notesReducer","placesReducer","seriesReducer","tagsReducer","fileReducer","uiReducer","hierarchyReducer","featureFlagReducer","errorReducer","permissionReducer","clientReducer","editorsReducer","licenseReducer","knownFilesReducer","templatesReducer","settingsReducer","backupsReducer","applicationStateReducer","imageCacheReducer","notificationsReducer","domEventsReducer","testingAndDiagnosisReducer","helpers","cardHelpers","beatHelpers","bookHelpers","lists","listHelpers","orientedClassName","orientedClassNameHelpers","lineHelpers","hierarchyHelpers","featureFlagHelpers","colorHelpers","editors","editorHelpers","timeHelpers","dateHelpers","fileHelpers","serializeToRTF","serializeToPlain","externalSync","externalSyncWithoutHistory","sync","withData","isCloudFile","isCloudFileSelector","isOfflineSelector","isResuming","isResumingSelector","fileIdSelector","clientIdSelector","selectedFileId","project","userPermission","SYSTEM_REDUCER_KEYS","catch","permissionError","future","past","md","slate","deserialize","parser","MarkDown","fixParagraphChildren","thisVersion","thatVersion","semverGt","toSemver","handle2021_07_07","newFile","levelConfig","appliedMigrations","handleMissingTemplatesFieldOnCards","handleObjectTitlesOnCards","FIX_VERSION","warn","appVersion","json","backupFunction","log","fileVersion","withSpecialCasesFixed","applyAllFixes","migrator","Migrator","plottrBehindFile","needsToMigrate","migrate","chapters","userOptions","scenes","chapterId","ch","darkMode","characterSort","characterFilter","placeSort","placeFilter","noteSort","noteFilter","timelineScrollPosition","storyName","newFileBooks","newFileBeats","sc","pl","sceneId","seriesLineId","seriesLines","newFileSeriesLines","currentTimeline","newCharacter","ca","parts","typeVal","noteIds","uniqueIds","idFixup","idx","newFileCategories","timelineIsExpanded","timelineFilter","expanded","autoOutlineSort","positionInChapter","allIds","timelineTemplates","zoomIndex","zoomState","timeline","oldIds","defaultLine","chapter","defaultBeat","addToBeatTree","allBookIds","migratedBeats","newBeats","nextBook","nextBookId","newFileHierarchies","searchTerms","outline","m0_6","m0_7","m0_8","m0_9","m1_0","m1_2","m1_3","m2020_3_4","m2020_3_9","m2020_3_16","m2020_3_26","m2020_4_3","m2020_5_5","m2020_6_12","m2020_7_7","m2020_8_28","m2020_11_16","m2021_1_15","m2021_2_4","m2021_2_8","m2021_4_13","m2021_6_9","m2021_8_1","m2022_5_17","m2022_5_17_1","greaterBySemver","logger","migrations","migrationsChecked","initialVersion","withoutProtocol","logError","startMigrations","getMigrations","cleaned","migrators","mig","migrationsList","semVerVersion","semverLte","latestAppliedMigration","firstMigrationToApply","semverCoerce","INITIAL_STATE","editCount","lastAction","lastActionKeys","startTimestamp","lastActionTimestamp","loadingFileList","fileListLoaded","importingNewProject","filePathToUpload","checkingFileToLoad","checkedFileToLoad","creatingCloudFile","uploadingFileToCloud","loadingFile","fileLoaded","renamingFile","deletingFile","savingFileAs","session","loggingIn","checkingSession","sessionChecked","license","loadingTrial","trialLoaded","loadingLicense","licenseLoaded","checkingProSubscription","proSubscriptionChecked","loadingSettings","settingsLoaded","loadingExportConfig","exportConfigLoaded","proOnboarding","isOnboarding","isOnboardingFromRoot","onboardingStep","requestedCheck","shouldCheck","checking","percentDownloaded","notifierHidden","work","busy","startLoadingLicenseType","licenseState","finishLoadingLicenseType","startLoadingSettingsType","settingsState","finishLoadingSettingsType","finishCheckingFileToLoad","errorLoadingFile","isImportingNewProject","downloadInProgress","customAttributeType","customAttributeValues","EMPTY_ATTRIBUTE_STATE","dataRepairers","characterAttributeState","defaultBeats","addNodeToState","dataReparires","actionBookId","associateWithBroadestScope","nextPositionInBook","createdNewBeats","idMap","newBeatTree","nextBeat","nextBeatId","adjustHierarchy","adjustHierarchyLevels","newState","moveNextToSibling","withBeatsRemoved","fixedBeats","initialState","defaultBook","objectId","newIds","tt","repair","repairIfPresent","defaultCard","newCards","nextCardId","nextLineId","cardToBeatIdMap","diffObj","idxInBeat","idxWithinLine","idToMatch","linesToDelete","newTemplates","beatIds","lineIds","normalizeRCEContent","applyToCustomAttributes","newFileCards","existingCard","highestPositionInLine","nextCard","destinationBeatId","destinationLineId","cardsOnLine","newLineId","cardToBeatIdMapping","addCategory","deleteCategory","newArray","updateCategory","reorderCategory","defaultCategories","defaultCharacter","firstParagraphText","firstElement","DISALLOWED_NAMES","currentBookId","isAttributeValue","hasAttributeValue","newAttributes","hasAttribute","attachBaseAttribute","removeTag","newFileCharacters","rawCharacter","itemToDuplicate","duplicated","oldValue","isAttributeToEdit","isOnWeb","currentAppState","newFileCustomAttributes","lastClick","counter","stateWithoutVersionStamp","defaultFile","shouldNotUpdateVersionStamp","LoadActions","SYSTEM_REDUCER_ACTION_TYPES","versionStamp","uuidv4","loaded","originalVersionStamp","newFileImages","startsAt","extensions","expires","item_name","customer_email","licenseKey","item_id","activations_left","site_count","expiration","admin","customer_id","period","initial_amount","initial_tax_rate","initial_tax","recurring_amount","recurring_tax_rate","recurring_tax","bill_times","transaction_id","parent_payment_id","product_id","price_id","created","trial_period","status","profile_id","gateway","customer","purchase_count","purchase_value","email","emails","date_created","payment_ids","user_id","newFileLines","linesInBook","linesInBook_","nextPosition","newLines","newLine","notBook","bookLines","linesToKeep","isNotSeries","lineToDuplicate","duplicatedLine","client","backups","applicationState","imageCache","notifications","domEvents","testingAndDiagnosis","desc","newFileNotes","toast","newFilePlaces","userNameSearchResults","projectNamingModalIsVisible","addCharacterAttributeDataForModifyingBaseAttribute","baseAttributeName","availableAttributes","characterAttributsForBookByIdSelector","isSeriesSelector","mainReducer","unrepairedMainReducer","currentPermission","permissionSelector","currentUserId","userIdSelector","currentlyShouldBeLoggedIn","shouldBeInProSelector","currentTimelineSelector","topLevelbeatIds","timelineTabBeatIdsSelector","actTab","withDefaultView","setTimelineView","timelineViewIsTabbedSelector","activeParentId","timelineActiveTabSelector","firstLineForBookSelector","firstVisibleBeatForBookSelector","nextIdForBeats","beatPositions","beatsByPosition","newAction","beatIdsToClear","lineIdsToClear","newResetAction","beatIdsToReset","lineIdsToReset","sourceLine","sourceCards","beatsForLine","positionOfBeat","beatIdsInSourceBook","sortedBeatsForAnotherBookSelector","cardToPositionMapping","beatsInDestinationBook","requiredNumberOfBeats","furthestPosition","positionOfCardsBeat","numberOfBeatsAtDestination","stateWithEnoughBeats","addBeat","beatIdsInDestinationBook","defaultSeries","newFileSeries","saveSettings","savedType","scrivener","general","export","columnOrRow","sceneCards","plotlineInTitle","attachments","descriptionHeading","where","heading","notesHeading","categoryHeading","titlePage","showTheTour","backup","allowPrerelease","forceDevTools","trialMode","canGetUpdates","isInGracePeriod","gracePeriodEnd","canEdit","canExport","user","autoDownloadUpdate","autoSave","backupDays","backupLocation","numberOfBackups","openDashboardFirst","backupType","localBackups","beatHierarchy","enableOfflineMode","useSpellcheck","jsonData","withoutSystemKeys","newFileTags","testingAndDiagnosisEnabled","nodeId","idProp","heap","parentChildren","rootParent","toDelete","idToDelete","oldParentId","rootEntities","null","entity","replaceNode","updateUI","currentView","outlineFilter","toAttributeOrderEntry","customAttributeOrder","notOrdered","orderEntry","addCustomAttributeOrdering","newFileUI","currentFilter","removeCustomAttributeFilter","isAttribute","characterAttributeOrder","existingAttribute","attributesDialogIsOpen","attributeTabs","characterTab","selectedCharacter","cardDialog","isOpen","bookDialog","defaultUI","collaborators","viewers","collaboratorExists","uiState","collaboratorUI","applicationStateSelector","projectStateSelector","fileListLoadedSelector","fileListIsLoadingSelector","importingNewProjectSelector","applicationSettingsSelector","applicationSettingsAreLoadedSelector","applicationSettingsAreLoadingSelector","exportConfigSettingsAreLoadedSelector","exportConfigSettingsAreLoadingSelector","fileStateSelector","checkingFileToLoadSelector","checkedFileToLoadSelector","fileIsLoadedSelector","isRenamingFileSelector","creatingCloudFileSelector","uploadingFileToCloudSelector","loadingFileSelector","errorLoadingFileSelector","errorIsUpdateErrorSelector","deletingFileSelector","savingFileAsSelector","filePathToUploadSelector","sessionStateSelector","sessionCheckedSelector","checkingSessionSelector","isLoggingInSelector","licenseStateSelector","checkedTrialSelector","checkingTrialSelector","checkedLicenseSelector","checkingLicenseSelector","checkedProSubscriptionSelector","checkingProSubscriptionSelector","proOnboardingStateSelector","currentProOnboardingStepSelector","isOnboardingToProSelector","isOnboardingToProFromRootSelector","needToCheckProSubscriptionSelector","shouldBeInPro","checkedProSubscription","busyLoadingFileOrNeedToLoadFileSelector","deprecatedLoadingFileSelector","fileIsLoadingDeprecated","fileIsLoading","loadedAFileBefore","checkingWhatToLoadOrNeedToCheckWhatToLoadSelector","manipulatingAFileSelector","isRenamingFile","isInOfflineModeSelector","offlineModeEnabled","checkingSessionOrNeedToCheckSessionSelector","isInOfflineMode","applicationIsBusyAndUninterruptableSelector","isLoggedInSelector","busyLoadingFileOrNeedToLoadFile","checkingWhatToLoadOrNeedToCheckWhatToLoad","manipulatingAFile","applicationSettingsAreLoaded","checkingSessionOrNeedToCheckSession","isOnboardingToPro","isLoggedIn","checkedLicense","checkedTrial","applicationIsBusyButFileCouldBeUnloadedSelector","isFirstTimeSelector","isInTrialModeWithExpiredTrialSelector","firstTime","isInTrialModeWithExpiredTrial","loadingStateSelector","checkingLicense","checkingTrial","loadingProgressSelector","progress","userNeedsToLoginSelector","settingsAreLoaded","isInSomeValidLicenseStateSelector","hasProSelector","hasLicenseSelector","isInTrialModeSelector","needsToLogin","needToCheckProSubscription","hasLicense","isInTrialMode","readyToCheckFileToLoadSelector","inValidLicenseState","cantShowFileSelector","hasActiveProSubscription","selectedFileIsACloudFile","updateStateSelector","shouldCheckForUpdatesSelector","updateAvailableSelector","downloadInProgressSelector","percentDownloadedSelector","finishedDownloadingSelector","updateErrorSelector","updateInfoSelector","updateNotificationHiddenSelector","checkingForUpdatesSelector","workSelector","busyWithWorkThatPreventsQuittingSelector","aCharacterHasABook","attributesSelector","allCharacterAttributesSelector","allNonBaseCharacterAttributesSelector","_state","_characterId","attributeDescriptors","characterCustomAttributeOrderSelector","legacyAttributes","ordered","missing","backupFoldersSelector","nonEmptyBackupFoldersSelector","backupFolders","sortFolders","folder","parseStringDate","filteredSortedBackupsSelector","_searchTerm","folderSearch","matchingFolders","matchesSearchTerm","dateString","bookIdSelector","allBeatsSelector","beatIdSelector","nextBeatIdSelector","beatsByBookSelector","beatsForAnotherBookSelector","beatHierarchyIsOn","timelineIsTabbed","visibleBeatsByPosition","beatsForBookOne","timelineViewIsTabbed","currentDepth","beatIsVisible","visibleBeatsForTopLevelParentByPosition","topLevelParentId","timelineViewIsStacked","timelineViewIsSmall","nodeChildren","rootParentNodeId","isInsertChildCell","visibleBeatPositions","lastRootIndex","lastParentNodeId","sparceBeatMap","sortedBeatsByBookSelector","templateBeatsForBookOne","visibleSortedBeatsByBookSelector","visibleSortedBeatsByBookIgnoringCollapsedSelector","skipPrologueSelector","beatOneIsPrologue","positionOffsetSelector","beatHasChildrenSelector","beatsHaveChildren","beatIndexSelector","numberOfPriorChildrenAtSameDepth","positionOffset","beatTitle","timelineTabsSelector","skipPrologue","atTopLevel","beatNode","timelineSelectedTabSelector","tab","tabBeatIds","visibleSortedBeatsForTimelineByBookSelector","timelineViewIsStackedSelector","isSmallSelector","timelineSparceBeatMap","isSmall","topTierBeatsInThreeTierArrangementSelector","secondTierBeatsInAtLeastTwoTierArrangementSelector","topTierBeats","beatParent","indexOfParentInParents","furthestIndexBackwardOfParentWithNoChildren","priorParent","leavesPerBeatSelector","leavesForBeat","currentCount","childCount","canDeleteBookSelector","singleCardSelector","propId","templateMetadata","cardIsNonEmpty","cardMetaData","hasDescription","allCardMetaDataSelector","cardsExistOnTimelineSelector","allCardsMetaData","visibleSortedBeats","nextCardIdSelector","cardIdSelector","cardByIdSelector","cardDescriptionByIdSelector","createDeepEqualSelector","cardMetaDataSelector","metadata","templateOnCard","valueInAttributes","valueOnTemplate","collapsedBeatSelector","collapsedBeats","firstCollapsedParent","directParentId","collapsedParentId","cardMapSelector","timelineViewIsntDefaultSelector","allSortedBeats","hierarchyIsOn","timelineViewIsntDefault","cardReduce","stringifiedCardsByIdSelector","outlineSearchedCardMapSelector","outlineSearchTermSelector","outlineSearchTerm","stringifiedCards","lowerCaseSearchTerms","outOfOrderSearch","cardMetaDataMapSelector","searchedCardMetaDataMapSelector","timelineSearchTermSelector","hierarchyLevelCount","timelineSearchTerm","beatIsALeaf","visibleCardsSelector","timelineFilterSelector","timelineFilterIsEmptySelector","filterIsEmpty","cardIsVisible","lineAttr","beatAttr","cardBeatId","sortedCards","characterCategoriesSelector","noteCategoriesSelector","tagCategoriesSelector","placeCategoriesSelector","sortedCharacterCategoriesSelector","sortedNoteCategoriesSelector","sortedTagCategoriesSelector","sortedPlaceCategoriesSelector","allCharactersSelector","showBookTabsSelector","showBookTabs","characterAttributeTabSelector","selectedTab","showTabs","singleCharacterSelector","displayedSingleCharacter","currentBookAttributeDescirptorsById","currentBookAttributes","displayedSingleCharacterSelector","charactersByCategorySelector","allDisplayedCharactersSelector","overriddenBookIdSelector","overridenBookId","allDisplayedCharactersForCurrentBookSelector","selectedBookId","overriddenBookId","displayedCharactersByCategorySelector","templateOnCharacter","characterFilterIsEmptySelector","characterFilterSelector","visibleSortedCharactersByCategorySelector","characterSortSelector","allCharacters","charactersByCategory","allAttributes","attributeFound","visibleByCategory","sortOperands","sortByOperand","sorted","sortEachCategory","stringifiedCharactersByIdSelector","nextCharacter","visibleSortedSearchedCharactersByCategorySelector","charactersSearchTermSelector","characterCategories","stringifiedCharacters","lowSearchTerms","nextCategory","newCharacters","charactersSortedAtoZSelector","charactersSortedInBookSelector","characterCustomAttributes","combinedAttributesForCharacter","characterBookAttributes","bookAttribute","attributeValue","customAttribute","characterAttributesSelector","characterAttributeValuesForCurrentBookSelector","characterBookCategoriesSelector","categoryMembership","displayHeading","glyph","lineAbove","allBooksWithCharactersInThemSelector","allBooksSelector","clientSelector","emailAddressSelector","hasOnboardedSelector","isOnWebSelector","currentAppStateSelector","currentAppStateIsDashboardSelector","characterKeys","placeKeys","characterCustomAttributesSelector","placeCustomAttributesSelector","cardsCustomAttributesSelector","noteCustomAttributesSelector","characterSortCAnamesSelector","placeSortCAnamesSelector","noteSortCAnamesSelector","noEntityHasLegacyAttributeBound","changeable","hasNoLegacyValue","characterCustomAttributesThatCanChangeSelector","hasNoValue","placeCustomAttributesThatCanChangeSelector","allPlacesSelector","cardsCustomAttributesThatCanChangeSelector","notesCustomAttributesThatCanChangeSelector","allNotesSelector","characterCustomAttributesRestrictedValues","placeCustomAttributesRestrictedValues","noteCustomAttributesRestrictedValues","lastClickSelector","sortedLevels","topLevelBeatNameSelector","hierarchyLevelSelector","atMaximumHierarchyDepthSelector","hierarchyLevelNameSelector","beatInsertControlHierarchyLevelNameSelector","hierarchyChildLevelNameSelector","newDepth","knownFilesSelector","fileFromFileIdSelector","fileList","fileFromFileURLSelector","searchFileURL","fileSystemKnownFilesSelector","files","isDeviceFileURL","cloudFileListSelector","searchTermSelector","sortedFileSystemKnownFilesByIdSelector","filteredFileIds","getDateValue","nextFile","sortedKnownFilesSelector","fileSystemFiles","cloudFiles","filesArray","byPosition","filesByPosition","byId","filesById","flatSortedKnownFilesSelector","filteredFiles","isTempFileSelector","isTempFile","sortedProKnownFilesByIdSelector","sortedFlatProKnownFilesByIdSelector","proFiles","trialInfoSelector","trialEndSelector","daysLeftOfTrialSelector","today","trialExpiredSelector","daysLeft","canExtendSelector","trialStartedSelector","trialStartedOnSelector","trialEndsOnSelector","licenseInfoSelector","licenseExpiresSelector","licenseItemNameSelector","licenseCustomerEmailSelector","licenseKeySelector","itemIdSelector","activationsLeftSelector","siteCountSelector","licenseLicenseSelector","itemName","customerEmail","itemId","activationsLeft","siteCount","licenseLicense","trialExpired","hasCurrentProLicense","trialStarted","proLicenseInfoSelector","proLicenseExpirationSelector","proLicenseAdminSelector","allLinesSelector","nextLineIdSelector","linesForBookSelector","linesByBookSelector","sortedLinesByBookSelector","lineIsExpandedSelector","timelineIsExpandedSelector","linePositionMappingSelector","lineMaxCardsSelector","cardMap","linesById","singleNoteSelector","allNotesInBookSelector","notesByCategorySelector","grouped","noteFilterIsEmptySelector","noteFilterSelector","visibleSortedNotesByCategorySelector","noteSortSelector","allNotes","notesByCategory","attrExtractor","stringifiedNotesByIdSelector","visibleSortedSearchedNotesByCategorySelector","notesSearchTermSelector","noteCategories","stringifiedNotes","newNotes","canReadSelector","canWriteSelector","canAdministrateSelector","singlePlaceSelector","placesSortedAtoZSelector","placesByCategorySelector","placeFilterIsEmptySelector","placeFilterSelector","visibleSortedPlacesSelector","placeSortSelector","allPlaces","sortOperand","visibleSortedPlacesByCategorySelector","placesByCategory","stringifiedPlacesByIdSelector","nextPlace","visibleSortedSearchedPlacesByCategorySelector","placesSearchTermSelector","placeCategories","stringifiedPlaces","newPlaces","placesSortedInBookSelector","projectSelector","isDeviceFileSelector","emptyFileState","emptyFile","hasAllKeysSelector","canSaveSelector","hasAllKeys","canBackupSelector","localBackupsEnabledSelector","backupEnabledSelector","localBackupsEnabled","backupEnabled","shouldSaveOfflineFileSelector","canSave","settingsSelector","exportSettingsSelector","userSettingsSelector","appSettingsSelector","appUserSettingsSelector","previouslyLoggedIntoProSelector","frbId","showDashboardOnBootSelector","isDarkModeSelector","actStructureEnabled","useSpellcheckSelector","trialModeSelector","canGetUpdatesSelector","previouslyLoggedIntoPro","allTagsSelector","sortedTagsSelector","singleTagSelector","tagsByCategorySelector","stringifiedTagsByIdSelector","nextTag","searchedTagsByCategorySelector","tagsSearchTermSelector","tagCategories","stringifiedTags","templatesSelector","allCustomTemplatesSelector","customTemplatesSelector","allCustomTemplates","isCloudTemplate","fileSystemCustomTemplatesSelector","templateManifets","templateByIdSelector","finder","templateByIdFnSelector","templateTypeSelector","templateSearchTermSelector","filteredSortedStarterTemplatesSelector","filteredSortedCustomTemplatesSelector","testingAndDiagnosisEnabledSelector","uiSelector","shouldBeLoggedIn","existingUI","collaborator","viewer","outlineFilterSelector","timelineSelector","timelineSizeSelector","isMediumSelector","isLargeSelector","timelineScrollPositionSelector","attributesDialogIsOpenSelector","currentViewSelector","cardDialogSelector","bookDialogSelector","cardDialogCardIdSelector","cardDialogLineIdSelector","cardDialogBeatIdSelector","isCardDialogVisibleSelector","isBookDialogVisibleSelector","bookDialogBookIdSelector","bookNumberSelector","bookDialogBookId","selectedTimelineViewSelector","timelineViewSelector","selectedView","levelsOfHierarchy","timelineViewIsDefaultSelector","selectedOrientationSelector","orientationSelector","selectedOrientation","timelineBundleSelector","isMedium","isLarge","attributeTabsSelector","characterTabSelector","selectedCharacterSelector","customAttributeOrderSelector","isWindows","joiner","nodeString","li","doc","makeList","headingStyle","styleH1","styleH2","leafInElement","styleParagraph","space","rtf","styleBold","styleItalic","styleUnderline","styleStrike","makeListItem","ALL_STYLES","RCE_INITIAL_VALUE","autoNumber","showTour","feature","endStep","run","stepIndex","steps","loading","transitioning","b2bTransition","toursTaken","newFileFile","newFileChapters","seriesLine","newFileCharacterCategories","newFileNoteCategories","newFileTagCategories","fromTemplate","forLines","projectTitle","emptyPlottrFile","guessVersion","migrateIfNeeded","didMigrate","mergedWithEmptyFile","projectFromTemplate","lineFromTemplate","partialPlottrFile","mask","unmask","__dirname","LONG","SHORT","NARROW","NUMERIC","TWODIGIT","decimal","style","integer","maximumFractionDigits","currency","default","short","medium","long","full","weekday","hour","minute","second","timeZoneName","duration","hours","minimumIntegerDigits","minutes","parseNumberPattern","syms","currencyDisplay","useGrouping","minimumSignificantDigits","maximumSignificantDigits","fraction","minimumFractionDigits","parseDatePattern","era","hour12","lookupClosestLocale","plurals","interpretAST","formatter","getArg","getFrmt","frmt","interpretElement","ii","interpretNumber","Intl","NumberFormat","interpretDateTime","DateTimeFormat","interpretPlural","pluralRules","pluralType","PluralRules","supportedLocalesOf","returnOther","ast","toParts","ordinal","spellout","fs","fm","fh","sep","dur","plural","selectordinal","zero","one","two","few","many","af","cardinal","ak","am","ar","ars","asa","az","be","bem","bez","bg","bh","bn","br","brx","ce","cgg","ckb","cs","cy","da","dsb","dv","ee","eo","et","eu","ff","fi","fil","fo","fur","fy","ga","gd","gl","gsw","gu","guw","gv","ha","haw","he","hi","hr","hsb","hu","hy","ia","io","is","iu","iw","jgo","ji","jmc","ka","kab","kaj","kcg","kk","kkj","kl","kn","ks","ksb","ksh","ku","kw","ky","lag","lb","lg","lv","mas","mg","mgo","mk","ml","mn","mo","mr","mt","nah","naq","nb","nd","ne","nl","nnh","no","nr","nso","ny","nyn","om","or","os","pa","pap","prg","ps","rm","ro","rof","rwk","saq","scn","sd","sdh","se","seh","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","sv","sw","syr","ta","teo","ti","tig","tk","tr","tzm","ug","uk","ur","uz","ve","vo","vun","wa","wae","xh","xog","yi","zu","lo","ms","vi","ARG_OPN","ARG_CLS","ARG_SEP","NUM_ARG","TAG_OPN","TAG_CLS","TAG_END","TAG_SELF_CLS","ESC","OFFSET","simpleTypes","submTypes","parseAST","parentType","parseText","tokens","expected","tagsType","parsePlaceholder","isHashSpecial","isAngleSpecial","isArgStyle","isWhitespace","skipWhitespace","parseId","closeId","parseTag","parsePluralOffset","parseSubMessages","parseSimpleFormat","isTag","parseSubMessage","column","SyntaxError","interpret","origFormats","currentLocales","generateId","missingReplacement","formatMessage","msg","translated","translate","rich","richType","mapObject","messages","closest","opt","custom","ll","candidate","POOL_SIZE","_Blob","Blob2","fetch_blob_default","__defProp","__getOwnPropDesc","__getOwnPropNames","__getProtoOf","__hasOwnProp","__markAsModule","__esm","__commonJS","__export","all","__toModule","module2","__reExport","__create","__esModule","require_ponyfill_es2018","factory","exports2","SymbolPolyfill","noop2","globals","typeIsObject","x2","rethrowAssertionErrorRejection","originalPromise","originalPromiseThen","originalPromiseResolve","originalPromiseReject","newPromise","executor","promiseResolvedWith","promiseRejectedWith","reason","PerformPromiseThen","promise","onFulfilled","onRejected","uponPromise","uponFulfillment","uponRejection","transformPromiseWith","fulfillmentHandler","rejectionHandler","setPromiseIsHandledToTrue","queueMicrotask","globalQueueMicrotask","resolvedPromise","reflectCall","F2","promiseCall","SimpleQueue","_cursor","_size","_front","_elements","_next","_back","oldBack","newBack","QUEUE_MAX_ARRAY_SIZE","shift","oldFront","newFront","oldCursor","newCursor","i2","peek","front","ReadableStreamReaderGenericInitialize","reader","stream","_ownerReadableStream","_reader","defaultReaderClosedPromiseInitialize","defaultReaderClosedPromiseResolve","defaultReaderClosedPromiseInitializeAsResolved","defaultReaderClosedPromiseInitializeAsRejected","_storedError","ReadableStreamReaderGenericCancel","ReadableStreamCancel","ReadableStreamReaderGenericRelease","defaultReaderClosedPromiseReject","defaultReaderClosedPromiseResetToRejected","readerLockException","_closedPromise","_closedPromise_resolve","_closedPromise_reject","AbortSteps","ErrorSteps","CancelSteps","PullSteps","NumberIsFinite","MathTrunc","trunc","assertDictionary","assertFunction","assertObject","assertRequiredArgument","assertRequiredField","field","convertUnrestrictedDouble","censorNegativeZero","convertUnsignedLongLongWithEnforceRange","upperBound","integerPart","assertReadableStream","IsReadableStream","AcquireReadableStreamDefaultReader","ReadableStreamDefaultReader","ReadableStreamAddReadRequest","readRequest","_readRequests","ReadableStreamFulfillReadRequest","_closeSteps","_chunkSteps","ReadableStreamGetNumReadRequests","ReadableStreamHasDefaultReader","IsReadableStreamDefaultReader","IsReadableStreamLocked","closed","defaultReaderBrandCheckException","read","resolvePromise","rejectPromise","ReadableStreamDefaultReaderRead","_errorSteps","releaseLock","_disturbed","_readableStreamController","AsyncIteratorPrototype","async","ReadableStreamAsyncIteratorImpl","preventCancel","_ongoingPromise","_isFinished","_preventCancel","nextSteps","_nextSteps","return","returnSteps","_returnSteps","ReadableStreamAsyncIteratorPrototype","IsReadableStreamAsyncIterator","_asyncIteratorImpl","streamAsyncIteratorBrandCheckException","NumberIsNaN","CreateArrayFromList","CopyDataBlockBytes","dest","destOffset","srcOffset","ArrayBufferSlice","begin","CloneAsUint8Array","DequeueValue","container","_queue","_queueTotalSize","EnqueueValueWithSize","RangeError","ResetQueue","ReadableStreamBYOBRequest","IsReadableStreamBYOBRequest","byobRequestBrandCheckException","_view","respond","bytesWritten","_associatedReadableByteStreamController","ReadableByteStreamControllerRespond","respondWithNewView","isView","ReadableByteStreamControllerRespondWithNewView","ReadableByteStreamController","byobRequest","IsReadableByteStreamController","byteStreamControllerBrandCheckException","ReadableByteStreamControllerGetBYOBRequest","desiredSize","ReadableByteStreamControllerGetDesiredSize","close","_closeRequested","_controlledReadableByteStream","ReadableByteStreamControllerClose","enqueue","ReadableByteStreamControllerEnqueue","ReadableByteStreamControllerError","ReadableByteStreamControllerClearPendingPullIntos","_cancelAlgorithm","ReadableByteStreamControllerClearAlgorithms","ReadableByteStreamControllerHandleQueueDrain","autoAllocateChunkSize","_autoAllocateChunkSize","bufferE","pullIntoDescriptor","bufferByteLength","bytesFilled","elementSize","viewConstructor","readerType","_pendingPullIntos","ReadableByteStreamControllerCallPullIfNeeded","controller","shouldPull","_started","ReadableStreamHasBYOBReader","ReadableStreamGetNumReadIntoRequests","ReadableByteStreamControllerShouldCallPull","_pulling","_pullAgain","_pullAlgorithm","ReadableByteStreamControllerInvalidateBYOBRequest","ReadableByteStreamControllerCommitPullIntoDescriptor","filledView","ReadableByteStreamControllerConvertPullIntoDescriptor","readIntoRequest","_readIntoRequests","ReadableStreamFulfillReadIntoRequest","ReadableByteStreamControllerEnqueueChunkToQueue","ReadableByteStreamControllerFillPullIntoDescriptorFromQueue","currentAlignedBytes","maxBytesToCopy","maxBytesFilled","maxAlignedBytes","totalBytesToCopyRemaining","ready","queue","headOfQueue","bytesToCopy","destStart","ReadableByteStreamControllerFillHeadPullIntoDescriptor","ReadableStreamClose","_byobRequest","ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue","ReadableByteStreamControllerShiftPendingPullInto","ReadableByteStreamControllerRespondInternal","firstDescriptor","ReadableByteStreamControllerRespondInClosedState","remainderSize","ReadableByteStreamControllerRespondInReadableState","transferredBuffer","firstPendingPullInto","ReadableStreamError","request","SetUpReadableStreamBYOBRequest","_strategyHWM","viewByteLength","SetUpReadableByteStreamController","startAlgorithm","pullAlgorithm","cancelAlgorithm","highWaterMark","r2","AcquireReadableStreamBYOBReader","ReadableStreamBYOBReader","ReadableStreamAddReadIntoRequest","IsReadableStreamBYOBReader","byobReaderBrandCheckException","ReadableStreamBYOBReaderRead","BYTES_PER_ELEMENT","ctor","emptyView","ReadableByteStreamControllerPullInto","ExtractHighWaterMark","strategy","defaultHWM","ExtractSizeAlgorithm","convertQueuingStrategy","init","convertQueuingStrategySize","convertUnderlyingSinkAbortCallback","convertUnderlyingSinkCloseCallback","convertUnderlyingSinkStartCallback","convertUnderlyingSinkWriteCallback","assertWritableStream","IsWritableStream","supportsAbortController","AbortController","WritableStream","rawUnderlyingSink","rawStrategy","underlyingSink","abort","write","convertUnderlyingSink","InitializeWritableStream","sizeAlgorithm","WritableStreamDefaultController","writeAlgorithm","closeAlgorithm","abortAlgorithm","SetUpWritableStreamDefaultController","SetUpWritableStreamDefaultControllerFromUnderlyingSink","locked","streamBrandCheckException$2","IsWritableStreamLocked","WritableStreamAbort","WritableStreamCloseQueuedOrInFlight","WritableStreamClose","getWriter","AcquireWritableStreamDefaultWriter","WritableStreamDefaultWriter","_writer","_writableStreamController","_writeRequests","_inFlightWriteRequest","_closeRequest","_inFlightCloseRequest","_pendingAbortRequest","_backpressure","_abortReason","_abortController","_promise","wasAlreadyErroring","_resolve","_reject","_reason","_wasAlreadyErroring","WritableStreamStartErroring","closeRequest","writer","defaultWriterReadyPromiseResolve","closeSentinel","WritableStreamDefaultControllerAdvanceQueueIfNeeded","WritableStreamDealWithRejection","WritableStreamFinishErroring","WritableStreamDefaultWriterEnsureReadyPromiseRejected","WritableStreamHasOperationMarkedInFlight","storedError","writeRequest","WritableStreamRejectCloseAndClosedPromiseIfNeeded","abortRequest","defaultWriterClosedPromiseReject","WritableStreamUpdateBackpressure","backpressure","defaultWriterReadyPromiseInitialize","defaultWriterReadyPromiseReset","_ownerWritableStream","defaultWriterReadyPromiseInitializeAsResolved","defaultWriterClosedPromiseInitialize","defaultWriterReadyPromiseInitializeAsRejected","defaultWriterClosedPromiseResolve","defaultWriterClosedPromiseInitializeAsRejected","IsWritableStreamDefaultWriter","defaultWriterBrandCheckException","defaultWriterLockException","WritableStreamDefaultControllerGetDesiredSize","WritableStreamDefaultWriterGetDesiredSize","_readyPromise","WritableStreamDefaultWriterAbort","WritableStreamDefaultWriterClose","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","_readyPromiseState","defaultWriterReadyPromiseReject","defaultWriterReadyPromiseResetToRejected","releasedError","_closedPromiseState","defaultWriterClosedPromiseResetToRejected","WritableStreamDefaultWriterEnsureClosedPromiseRejected","chunkSize","_strategySizeAlgorithm","chunkSizeE","WritableStreamDefaultControllerErrorIfNeeded","WritableStreamDefaultControllerGetChunkSize","WritableStreamAddWriteRequest","enqueueE","_controlledWritableStream","WritableStreamDefaultControllerGetBackpressure","WritableStreamDefaultControllerWrite","abortReason","IsWritableStreamDefaultController","defaultControllerBrandCheckException$2","signal","WritableStreamDefaultControllerError","_abortAlgorithm","WritableStreamDefaultControllerClearAlgorithms","createAbortController","_writeAlgorithm","_closeAlgorithm","WritableStreamMarkCloseRequestInFlight","sinkClosePromise","WritableStreamFinishInFlightClose","WritableStreamFinishInFlightCloseWithError","WritableStreamDefaultControllerProcessClose","WritableStreamMarkFirstWriteRequestInFlight","WritableStreamFinishInFlightWrite","WritableStreamFinishInFlightWriteWithError","WritableStreamDefaultControllerProcessWrite","_readyPromise_resolve","_readyPromise_reject","NativeDOMException","DOMException","DOMException$1","isDOMExceptionConstructor","captureStackTrace","createDOMExceptionPolyfill","ReadableStreamPipeTo","preventClose","preventAbort","shuttingDown","currentWrite","shutdownWithAction","aborted","addEventListener","isOrBecomesErrored","shutdown","WritableStreamDefaultWriterCloseWithErrorPropagation","destClosed","waitForWritesToFinish","oldCurrentWrite","originalIsError","originalError","doTheRest","finalize","newError","removeEventListener","resolveLoop","rejectLoop","resolveRead","rejectRead","ReadableStreamDefaultController","IsReadableStreamDefaultController","defaultControllerBrandCheckException$1","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamDefaultControllerCanCloseOrEnqueue","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","ReadableStreamDefaultControllerError","ReadableStreamDefaultControllerClearAlgorithms","_controlledReadableStream","ReadableStreamDefaultControllerCallPullIfNeeded","ReadableStreamDefaultControllerShouldCallPull","SetUpReadableStreamDefaultController","convertUnderlyingSourceCancelCallback","convertUnderlyingSourcePullCallback","convertUnderlyingSourceStartCallback","convertReadableStreamType","convertReadableStreamReaderMode","convertPipeOptions","isAbortSignal2","assertAbortSignal","ReadableStream2","rawUnderlyingSource","underlyingSource","convertUnderlyingDefaultOrByteSource","InitializeReadableStream","underlyingByteSource","SetUpReadableByteStreamControllerFromUnderlyingSource","SetUpReadableStreamDefaultControllerFromUnderlyingSource","streamBrandCheckException$1","getReader","rawOptions","convertReaderOptions","pipeThrough","rawTransform","readable","convertReadableWritablePair","pipeTo","destination","tee","reason1","reason2","branch1","branch2","resolveCancelPromise","reading","readAgainForBranch1","readAgainForBranch2","canceled1","canceled2","cancelPromise","forwardReaderError","thisReader","pullWithDefaultReader","chunk1","chunk2","cloneE","pull1Algorithm","pull2Algorithm","pullWithBYOBReader","forBranch2","byobBranch","otherBranch","byobCanceled","clonedChunk","otherCanceled","CreateReadableByteStream","compositeReason","cancelResult","ReadableByteStreamTee","cloneForBranch2","readAgain","CreateReadableStream","ReadableStreamDefaultTee","impl","AcquireReadableStreamAsyncIterator","convertIteratorOptions","convertQueuingStrategyInit","asyncIterator","byteLengthSizeFunction","ByteLengthQueuingStrategy","_byteLengthQueuingStrategyHighWaterMark","IsByteLengthQueuingStrategy","byteLengthBrandCheckException","countSizeFunction","CountQueuingStrategy","_countQueuingStrategyHighWaterMark","IsCountQueuingStrategy","countBrandCheckException","convertTransformerFlushCallback","convertTransformerStartCallback","convertTransformerTransformCallback","TransformStream","rawTransformer","rawWritableStrategy","rawReadableStrategy","writableStrategy","readableStrategy","transformer","readableType","writableType","convertTransformer","readableHighWaterMark","readableSizeAlgorithm","writableHighWaterMark","writableSizeAlgorithm","startPromise_resolve","startPromise","_writable","CreateWritableStream","_transformStreamController","_backpressureChangePromise","TransformStreamDefaultControllerPerformTransform","TransformStreamDefaultSinkWriteAlgorithm","_readable","flushPromise","_flushAlgorithm","TransformStreamDefaultControllerClearAlgorithms","TransformStreamError","TransformStreamDefaultSinkCloseAlgorithm","TransformStreamDefaultSinkAbortAlgorithm","TransformStreamSetBackpressure","TransformStreamDefaultSourcePullAlgorithm","TransformStreamErrorWritableAndUnblockWrite","_backpressureChangePromise_resolve","InitializeTransformStream","TransformStreamDefaultController","transformAlgorithm","TransformStreamDefaultControllerEnqueue","transformResultE","flushAlgorithm","_controlledTransformStream","_transformAlgorithm","SetUpTransformStreamDefaultController","SetUpTransformStreamDefaultControllerFromTransformer","IsTransformStream","streamBrandCheckException","IsTransformStreamDefaultController","defaultControllerBrandCheckException","terminate","TransformStreamDefaultControllerTerminate","readableController","ReadableStreamDefaultControllerHasBackpressure","ReadableStream","require_streams","globalThis","process2","emitWarning","Blob","Blob3","blob","ctrl","toIterator","clone2","_File","file_default","FormData","import_node_fs","import_node_path","import_node_domexception","stat","blobFromSync","blobFrom","fileFrom","fileFromSync","fromBlob","fromFile","BlobDataItem","f2","MultipartParser","init_fetch_blob","blobParts","encoder","TextEncoder","encode","endings","decoder","TextDecoder","decode","relativeStart","relativeEnd","added","size2","subarray","static","hasInstance","init_file","fileBits","lastModified","init_esm_min","f3","append","getAll","require_node_domexception","MessageChannel","port","port1","ab","postMessage","init_from","promises","statSync","stat2","mtimeMs","basename","createReadStream","multipart_parser_exports","toFormData","Body2","ct","headerField","headerValue","entryValue","entryName","contentType","filename","entryChunks","formData","onPartData","ui8a","appendToFile","appendFileToFormData","appendEntryToFormData","onPartBegin","onPartEnd","onHeaderField","onHeaderValue","onHeaderEnd","_fileName","init_multipart_parser","START_BOUNDARY","HEADER_FIELD_START","HEADER_FIELD","HEADER_VALUE_START","HEADER_VALUE","HEADER_VALUE_ALMOST_DONE","HEADERS_ALMOST_DONE","PART_DATA_START","PART_DATA","END","PART_BOUNDARY","LAST_BOUNDARY","boundary","flags","onHeadersEnd","boundaryChars","length_","previousIndex","boundaryLength","boundaryEnd","bufferLength","cl","mark","callbackSymbol","dataCallback","clear2","markSymbol","_lookbehind","AbortError","FetchError","File","Headers","Request","Response","fetch","isRedirect","import_node_http2","import_node_https","import_node_zlib","import_node_stream2","import_node_buffer2","import_node_stream","import_node_util","import_node_buffer","FetchBaseError","systemError","errno","erroredSysCall","syscall","NAME","isURLSearchParameters","isBlob","pipeline","promisify","INTERNALS","Body","body","isAnyArrayBuffer","formDataToBlob","Readable","disturbed","error_","bodyUsed","consumeBody","headers","parameters","URLSearchParams","toFormData2","alloc","accum","accumBytes","destroy","readableEnded","_readableState","ended","deprecate","instance","p1","p2","getBoundary","PassThrough","pipe","getNonSpecFormDataBoundary","extractContentType","import_node_util2","import_node_http","validateHeaderName","validateHeaderValue","isBoxedPrimitive","receiver","redirectStatus","INTERNALS2","statusText","redirected","location","response","import_node_url","import_node_util3","import_node_net","stripURLForUseAsAReferrer","originOnly","username","password","hash","pathname","ReferrerPolicy","isUrlPotentiallyTrustworthy","hostIp","host","hostIPVersion","isIP","isOriginPotentiallyTrustworthy","INTERNALS3","isRequest","doBadDataWarn","parsedURL","inputBody","referrer","parsedReferrer","redirect","follow","compress","agent","insecureHTTPParser","referrerPolicy","validateReferrerPolicy","supportedSchemas","options_","contentLengthValue","totalBytes","getLengthSync","hasKnownLength","getTotalBytes","referrerURLCallback","referrerOriginCallback","policy","referrerSource","referrerURL","referrerOrigin","currentURL","origin","determineRequestsReferrer","lastOffset","href","getSearch","getNodeRequestOptions","uri","firstComma","meta","charset","base64","typeFull","encoding","dist_default","response2","send","abortAndFinalize","request_","errorCallback","LAST_CHUNK","previousChunk","isChunkedTransfer","properLastChunkReceived","socket","onSocketClose","onData","prependListener","removeListener","fixResponseChunkedTransferBadEnding","endedWithEventsCount","_eventsCount","hadError","response_","fromRawHeaders","rawHeaders","statusCode","locationURL","requestOptions","orig","hostname","isDomainOrSubdomain","responseReferrerPolicy","policyTokens","parseReferrerPolicyFromHeader","responseOptions","statusMessage","codings","zlibOptions","Z_SYNC_FLUSH","finishFlush","createGunzip","createInflate","createInflateRaw","createBrotliDecompress","writeToStream","runtimeRequire","vars","config","variables","prebuildsOnly","PREBUILDS_ONLY","abi","versions","runtime","ELECTRON_RUN_AS_NODE","nw","arch","npm_config_arch","npm_config_platform","libc","LIBC","existsSync","isAlpine","armv","ARM_VERSION","arm_version","uv","load","readdirSync","getFirst","matchBuild","parseTuple","architectures","matchTuple","tuple","compareTuples","parseTags","specificity","napi","matchTags","runtimeAgnostic","compareTags","prebuild","nearby","dirname","execPath","prebuilds","winner","EMPTY_BUFFER","_mask","_unmask","totalLength","toArrayBuffer","toBuffer","readOnly","WS_NO_BUFFER_UTIL","bufferUtil","BINARY_TYPES","GUID","kForOnEventAttribute","kListener","kStatusCode","kWebSocket","NOOP","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","Event","CloseEvent","wasClean","ErrorEvent","MessageEvent","EventTarget","event","_closeFrameReceived","_closeFrameSent","handler","tokenChars","extension","configurations","header","offers","extensionName","paramName","mustUnescape","inQuotes","kDone","kRun","concurrency","pending","jobs","job","zlib","Limiter","TRAILER","kPerMessageDeflate","kTotalLength","kCallback","kBuffers","zlibLimiter","deflateOnData","inflateOnData","_maxPayload","reset","inflateOnError","_inflate","isServer","maxPayload","_options","_threshold","threshold","_isServer","_deflate","concurrencyLimit","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","normalizeParams","acceptAsServer","acceptAsClient","cleanup","accepted","decompress","fin","_decompress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","zlibInflateOptions","endEmitted","createDeflateRaw","zlibDeflateOptions","Writable","PerMessageDeflate","isValidStatusCode","isValidUTF8","ErrorCtor","errorCode","_binaryType","binaryType","_extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_write","startLoop","consume","dst","getInfo","getPayloadLength16","getPayloadLength64","getMask","compressed","haveLength","readUInt16BE","readUInt32BE","controlMessage","dataMessage","messageLength","fragments","randomFillSync","applyMask","kByteLength","maskBuffer","Sender","generateMask","_generateMask","_maskBuffer","_socket","_firstFragment","_deflating","dataLength","skipMasking","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","sendFrame","frame","ping","pong","perMessageDeflate","binary","destroyed","dequeue","cork","uncork","Duplex","emitClose","duplexOnEnd","_writableState","finished","duplexOnError","listenerCount","ws","terminateOnDestroy","duplex","autoDestroy","objectMode","writableObjectMode","pause","_destroy","readyState","CLOSED","nextTick","called","_final","CONNECTING","_read","isPaused","resume","protocols","_isValidUTF8","WS_NO_UTF_8_VALIDATE","EventEmitter","http","createHash","subprotocol","WebSocket","keyRegex","server","socketOnError","abortHandshake","STATUS_CODES","Connection","abortHandshakeOrEmitwsClientError","req","handleProtocols","clientTracking","verifyClient","noServer","backlog","_server","createServer","writeHead","listen","emitConnection","_removeListeners","addListeners","listening","upgrade","handleUpgrade","clients","_shouldEmitClose","address","shouldHandle","secWebSocketProtocol","secWebSocketExtensions","secure","authorized","encrypted","verified","completeUpgrade","_protocol","setSocket","https","net","tls","randomBytes","Receiver","kAborted","protocolVersions","readyStates","subprotocolRegex","_closeCode","_closeMessage","_closeTimer","_paused","_readyState","_receiver","_sender","_bufferedAmount","_redirects","initAsClient","bufferedAmount","onclose","onerror","onopen","onmessage","_url","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","setNoDelay","socketOnClose","socketOnData","socketOnEnd","OPEN","removeAllListeners","_req","CLOSING","errorEmitted","sendAfterClose","needDrain","websocket","protocolVersion","followRedirects","maxRedirects","createConnection","socketPath","timeout","parsedUrl","isSecure","isUnixSocket","invalidURLMessage","emitErrorAndClose","defaultPort","protocolSet","tlsConnect","netConnect","Upgrade","handshakeTimeout","Origin","auth","_originalUnixSocket","_originalSecure","_originalHostOrSocketPath","isSameHost","authorization","cookie","addr","serverProt","protError","extensionNames","connect","servername","setHeader","receiverOnFinish","themeSource","streamFriendly","prot","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","nmd","RM_RF","SAVE_FILE","SAVE_OFFLINE_FILE","BACKUP_FILE","BACKUP_OFFLINE_BACKUP_FOR_RESUME","SET_TEMPLATE","SET_CUSTOM_TEMPLATE","DELETE_CUSTOM_TEMPLATE","SAVE_AS_TEMP_FILE","REMOVE_FROM_KNOWN_FILES","DELETE_KNOWN_FILE","UPDATE_KNOWN_FILE_NAME","ADD_KNOWN_FILE","ADD_KNOWN_FILE_WITH_FIX","EDIT_KNOWN_FILE_PATH","UPDATE_LAST_OPENED_DATE","REMOVE_FROM_TEMP_FILES","SAVE_TO_TEMP_FILE","LAST_OPENED_FILE","SET_LAST_OPENED_FILE","NUKE_LAST_OPENED_FILE_URL","SHUTDOWN","START_TRIAL","EXTEND_TRIAL_WITH_RESET","SAVE_LICENSE_INFO","SAVE_EXPORT_CONFIG_SETTINGS","SAVE_APP_SETTING","readFile","lstat","writeFile","open","LuxonError","InvalidDateTimeError","toMessage","InvalidIntervalError","InvalidDurationError","ConflictingSpecificationError","InvalidUnitError","InvalidArgumentError","ZoneIsAbstractError","DATE_SHORT","DATE_MED","DATE_MED_WITH_WEEKDAY","DATE_FULL","DATE_HUGE","TIME_SIMPLE","TIME_WITH_SECONDS","TIME_WITH_SHORT_OFFSET","TIME_WITH_LONG_OFFSET","TIME_24_SIMPLE","hourCycle","TIME_24_WITH_SECONDS","TIME_24_WITH_SHORT_OFFSET","TIME_24_WITH_LONG_OFFSET","DATETIME_SHORT","DATETIME_SHORT_WITH_SECONDS","DATETIME_MED","DATETIME_MED_WITH_SECONDS","DATETIME_MED_WITH_WEEKDAY","DATETIME_FULL","DATETIME_FULL_WITH_SECONDS","DATETIME_HUGE","DATETIME_HUGE_WITH_SECONDS","hasRelative","RelativeTimeFormat","bestBy","by","best","integerBetween","thing","bottom","top","padded","parseInteger","parseFloating","parseMillis","roundTo","digits","towardZero","factor","isLeapYear","daysInYear","daysInMonth","modMonth","objToLocalTS","UTC","millisecond","setUTCFullYear","getUTCFullYear","weeksInWeekYear","weekYear","untruncateYear","parseZoneInfo","offsetFormat","timeZone","intlOpts","modified","parsed","formatToParts","signedOffset","offHourStr","offMinuteStr","offHour","offMin","asNumber","numericValue","normalizeObject","normalizer","normalized","formatOffset","sign","timeObject","ianaRegex","monthsLong","monthsShort","monthsNarrow","months","weekdaysLong","weekdaysShort","weekdaysNarrow","weekdays","meridiems","erasLong","erasShort","erasNarrow","eras","stringifyTokens","tokenToString","literal","macroTokenToFormatOpts","DD","DDD","DDDD","ttt","tttt","TT","TTT","TTTT","fff","ffff","FF","FFF","FFFF","Formatter","currentFull","bracketed","formatOpts","loc","systemLoc","formatWithSystemDefault","redefaultToSystem","dtFormatter","formatDateTime","formatDateTimeParts","resolvedOptions","forceSimple","padTo","numberFormatter","formatDateTimeFromString","knownEnglish","listingMode","useDateTimeFormatter","outputCalendar","extract","isOffsetFixed","allowZ","zone","standalone","maybeMacro","parseFormat","offsetName","zoneName","weekNumber","quarter","formatDurationFromString","tokenToField","realTokens","lildur","shiftTo","Invalid","explanation","Zone","ianaName","isUniversal","otherZone","singleton","SystemZone","getTimezoneOffset","dtfCache","typeToPos","ianaZoneCache","IANAZone","isValidZone","valid","NaN","dtf","adOrBc","formatted","filled","pos","partsOffset","fMonth","fDay","fYear","fadOrBc","fHour","fMinute","fSecond","hackyOffset","asTS","FixedOffsetZone","utcInstance","fixed","InvalidZone","normalizeZone","defaultZone","lowered","parseSpecifier","throwOnInvalid","defaultLocale","defaultNumberingSystem","defaultOutputCalendar","Settings","numberingSystem","Locale","resetCache","intlLFCache","intlDTCache","getCachedDTF","locString","intlNumCache","intlRelCache","sysLocaleCache","listStuff","defaultOK","englishFn","intlFn","PolyNumberFormatter","intl","otherOpts","inf","getCachedINF","PolyDateFormatter","gmtOffset","offsetZ","DateTime","fromMillis","toJSDate","PolyRelFormatter","isEnglish","cacheKeyOpts","getCachedRTF","narrow","units","years","quarters","weeks","days","lastable","isDay","isInPast","fmtValue","singular","lilUnits","fmtUnit","defaultToEN","specifiedLocale","localeR","numberingSystemR","outputCalendarR","numbering","parsedLocale","parsedNumberingSystem","parsedOutputCalendar","localeStr","uIndex","smaller","calendar","parseLocaleString","intlConfigString","weekdaysCache","monthsCache","meridiemCache","eraCache","fastNumbersCached","fastNumbers","isActuallyEn","hasNoWeirdness","alts","redefaultToEN","formatStr","utc","mapMonths","mapWeekdays","matching","relFormatter","listFormatter","ListFormat","getCachedLF","combineRegexes","regexes","combineExtractors","extractors","mergedVals","mergedZone","ex","patterns","extractor","simpleParse","offsetRegex","isoTimeBaseRegex","isoTimeRegex","isoTimeExtensionRegex","extractISOWeekData","extractISOOrdinalData","sqlTimeRegex","sqlTimeExtensionRegex","fallback","extractISOTime","milliseconds","extractISOOffset","local","fullOffset","extractIANAZone","isoTimeOnly","isoDuration","extractISODuration","yearStr","monthStr","weekStr","dayStr","hourStr","minuteStr","secondStr","millisecondsStr","hasNegativePrefix","negativeSeconds","maybeNegate","obsOffsets","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","fromStrings","weekdayStr","rfc2822","extractRFC2822","obsOffset","milOffset","rfc1123","rfc850","ascii","extractRFC1123Or850","extractASCII","isoYmdWithTimeExtensionRegex","isoWeekWithTimeExtensionRegex","isoOrdinalWithTimeExtensionRegex","isoTimeCombinedRegex","extractISOYmdTimeAndOffset","extractISOWeekTimeAndOffset","extractISOOrdinalDateAndTime","extractISOTimeAndOffset","extractISOTimeOnly","sqlYmdWithTimeExtensionRegex","sqlTimeCombinedRegex","extractISOTimeOffsetAndIANAZone","lowOrderMatrix","casualMatrix","accurateMatrix","daysInYearAccurate","daysInMonthAccurate","orderedUnits","reverseUnits","conf","conversionAccuracy","Duration","matrix","fromMap","fromUnit","toMap","toUnit","conv","antiTrunc","accurate","invalid","isLuxonDuration","fromObject","normalizeUnit","durationLike","isDuration","parseISODuration","parseISOTimeOnly","week","toFormat","fmtOpts","toHuman","unitDisplay","listStyle","toObject","toISO","toISOTime","millis","toMillis","suppressMilliseconds","suppressSeconds","includePrefix","plus","fromDurationLike","minus","mapUnits","reconfigure","vals","normalizeValues","built","accumulated","lastUnit","own","down","negated","invalidReason","invalidExplanation","v1","v2","Interval","isLuxonInterval","builtStart","friendlyDateTime","builtEnd","validateError","validateStartEnd","fromDateTimes","startIsValid","endIsValid","fromISO","toDuration","startOf","diff","hasSame","dateTime","contains","splitAt","dateTimes","splitBy","divideEqually","numberOfParts","overlaps","abutsStart","abutsEnd","engulfs","intervals","final","sofar","toISODate","dateFormat","mapEndpoints","mapFn","Info","setZone","locObj","dayDiff","earlier","later","utcDayStart","toUTC","keepLocalTime","numberingSystems","arab","arabext","bali","beng","deva","fullwide","gujr","hanidec","khmr","knda","laoo","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt","latn","numberingSystemsUTF16","hanidecChars","digitRegex","intUnit","post","deser","parseDigits","spaceOrNBSP","spaceOrNBSPRegExp","fixListRegex","stripInsensitivities","oneOf","strings","startIndex","groups","simple","partTypeStyleToTokenVal","dayperiod","dayPeriod","dummyDateTimeCache","explainFromTokens","tokenForPart","maybeExpandMacroToken","expandMacroTokens","three","four","six","oneOrTwo","oneToThree","oneToSix","oneToNine","twoToFour","fourToSix","unitate","unitForToken","disqualifyingUnit","handlers","buildRegex","rawMatches","matchIndex","specificOffset","toField","dateTimeFromMatches","nonLeapLadder","leapLadder","unitOutOfRange","dayOfWeek","js","getUTCDay","computeOrdinal","uncomputeOrdinal","month0","gregorianToWeek","gregObj","weekToGregorian","weekData","weekdayOfJan4","yearInDays","gregorianToOrdinal","gregData","ordinalToGregorian","ordinalData","hasInvalidGregorianData","validYear","validMonth","validDay","hasInvalidTimeData","validHour","validMinute","validSecond","validMillisecond","MAX_DATE","unsupportedZone","possiblyCachedWeekData","inst","old","fixOffset","localTS","tz","utcGuess","o3","tsToObj","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","objToTS","adjustTime","oPre","millisToAdd","parseDataToDateTime","parsedZone","interpretationZone","toTechFormat","extended","longFormat","includeOffset","extendedZone","defaultUnitValues","defaultWeekUnitValues","defaultOrdinalUnitValues","orderedWeekUnits","orderedOrdinalUnits","weeknumber","weeksnumber","weeknumbers","weekyear","weekyears","quickDT","tsNow","offsetProvis","diffRelative","calendary","differ","lastOpts","argList","ot","_zone","isLuxonDateTime","zoneToUse","containsOrdinal","containsGregorYear","containsGregorMD","containsGregor","definiteWeekDef","useWeekData","defaultValues","objNow","foundFirst","higherOrderInvalid","validWeek","validWeekday","hasInvalidWeekData","validOrdinal","hasInvalidOrdinalData","gregorian","tsFinal","offsetFinal","parseISODate","preprocessRFC2822","parseRFC2822Date","parseHTTPDate","localeToUse","fromOpts","parseFromTokens","fromFormat","parseSQL","monthShort","monthLong","weekdayShort","weekdayLong","offsetNameShort","offsetNameLong","isInDST","isInLeapYear","resolvedLocaleOptions","toLocal","keepCalendarTime","newTS","offsetGuess","asObj","setLocale","settingWeekStuff","mixed","normalizedUnit","endOf","toLocaleString","toLocaleParts","ext","toISOWeekDate","toRFC2822","toHTTP","toSQLDate","toSQLTime","includeZone","includeOffsetSpace","toSQL","toSeconds","toUnixInteger","toBSON","includeConfig","otherDateTime","durOpts","otherIsLater","diffed","highWater","lowestOrder","differs","delta","highOrderDiffs","remainingMillis","lowerOrderUnits","diffNow","until","inputMs","adjustedToZone","toRelative","padding","toRelativeCalendar","isDateTime","fromFormatExplain","dateTimeish","fromJSDate","watchers","userDataPath","watch","onInvalidStore","activeWrite","initialReadComplete","_readStore","watchStore","stop","watcher","activeWriteRequest","currentFileStats","previousFileStats","isFile","publishChangesToWatchers","writeStore","onDidAnyChange","afterActiveWrite","currentStore","dataDirError","recursive","storeContents","fileHandle","finally","storeOrKey","setRawKey","getRawKey","USER_INFO_PATH","readdir","americanToYearFirst","addDays","setDate","getDate","setHours","withFromFileSystem","backupFolder","fromFileSystem","BACKUP_FOLDER_REGEX","isOfflineFile","offlineFileFilesPath","OLD_TEMPLATES_ROOT","DEPRECATED_TEMPLATE_IDS","sequencePromises","promiseThunks","currentPromise","TemplateFetcher","baseURL","manifestURL","stores","templatesStore","customTemplatesStore","manifestStore","templatesById","resp","fetchedManifest","fetchedIsNewer","fetchTemplates","removeDeprecatedTemplates","manifestHasTemplate","oldManifest","newManifest","manifest","removeManifestEntry","removeTemplateStoreEntry","fetchedVersion","templateRequests","templateIsNewer","fetchTemplate","templateIdValueObjects","templateStoreObject","fullURL","fetchedTemplate","manifestVersion","storedTemplate","logInfo","SETTINGS","migrateCustomTemplates","migrateTemplates","setupListeners","webSocketServer","unsubscribeFunctions","basicLogger","trialStore","licenseStore","knownFilesStore","tempFilesStore","resetTemplates","exportConfigStore","USER","lastOpenedFileStore","fileObjects","needsToBeReKeyed","migrateKnownFilesStoreObject","migrateTempFilesStore","readSettings","makeFileModule","OFFLINE_FILE_FILES_PATH","TEMP_FILES_PATH","fileExists","backupModule","settingsModule","backupBasePath","saveFile","backupPath","removeSystemKeys","BLANK_FILE","checkForMinimalSetOfKeys","writeAndWaitForFlush","isResumeBackup","listOfflineFiles","keep","ensureOfflineBackupPathExists","mkdir","checkForFileRecord","saveOfflineFile","offlineFileURL","expectedOfflineFiles","filesToClean","unlink","cleanOfflineBackups","backupOfflineBackupForResume","getMonth","getFullYear","getHours","getMinutes","getSeconds","readOfflineFiles","jsonString","fileData","timeStamp","isOfflineBackup","offlineFilesFilesPath","saveTempFile","fileBasename","newFilepath","baseNameWithoutExtension","makeBackupModule","defaultBackupPath","configuredBackupPath","stringState","basePath","ensureBackupTodayPath","deleteOldBackups","backupFiles","unsortedFiles","sortFileNamesByDate","anchorDate","nDaysAgo","filesToDelete","fileIsSoonerThan","deleteEmptyFolders","elems","fileStats","contents","isDirectory","emptyDirectory","rmdir","isABackupFile","backupBaseFolder","folderProbes","subPath","subFolderContents","entryStats","subFilesByFolder","byDateThenFile","thisFileName","otherFileName","thisMonth","thisDay","thisYear","matchAll","xs","thatMonth","thatDay","thatYear","thatDateBeforeThis","thatDateSameAsThis","thisIsStartFile","thatIsStartFile","fileNames","nDaysAgoDate","saveBackup","backupStrategy","deleted","partialPath","fileBaseName","startBaseName","startFilePath","SAVED_START_OF_SESSION_BACKUP","ensureBackupFullPath","makeFileSystemModule","BACKUP_BASE_PATH","customTemplatesPath","currentAppSettings","configuredLocation","currentTrial","isValidKnownFile","ensureBackupDirExists","stats","backupDirDoesExist","readBackupsDirectory","directories","directory","thisPath","setTemplate","setCustomTemplate","deleteCustomTemplate","listenToTrialChanges","startTrial","numDays","extendTrialWithReset","currentInfo","hasBeenReset","listenToLicenseChanges","currentLicense","deleteLicense","saveLicenseInfo","newLicense","listenToknownFilesChanges","transformStore","currentKnownFiles","fileIndex","listenToTemplatesChanges","currentTemplates","listenToCustomTemplatesChanges","currentCustomTemplates","listenToTemplateManifestChanges","currentTemplateManifest","listenToExportConfigSettingsChanges","currentExportConfigSettings","saveExportConfigSettings","listenToAppSettingsChanges","saveAppSetting","listenToUserSettingsChanges","currentUserSettings","listenToBackupsChanges","initialBackups","newBackups","currentBackups","lastOpenedFile","lastFile","setLastOpenedFilePath","copyFile","sourceFileURL","newFileURL","cp","makeTemplateFetcher","statusManager","activeConnections","tasks","acceptConnection","webSocket","registerTask","notifyBusy","thisWorkId","workId","notifyDone","broadcast","connection","messageId","makeLogger","fileModule","fileSystemModule","trashModule","trashedFilesPath","trash","rename","fullPath","pathsWithStamps","fullFilePaths","fullFilePath","limitToXMostRecent","tempFilesModule","tempFilesFullPath","removeFromTempFiles","doDelete","saveToTempFile","exists","tempName","uniqueTempFilePath","removeFromKnownFiles","addKnownFile","addKnownFileWithFix","editKnownFilePath","updateLastOpenedDate","deleteKnownFile","updateKnownFileName","oldFileURL","fileRecord","currentValue","attemptToFetchTemplates","templateFetcher","typeToErrorReplyType","messageType","replyWithErrorMessage","handleSync","logBefore","handlePayload","toLogAsInfo","toLogAsError","handlePromise","handleSubscription","testModules","startupTasks","argv","startServer"],"sourceRoot":""}