!function(e){function t(t){for(var n,a,s=t[0],l=t[1],u=t[2],d=0,f=[];d<s.length;d++)a=s[d],o[a]&&f.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);f.length;)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={2:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;i.push([449,1,0]),r()}([,,,,function(e,t,r){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}r.r(t);var o=function(e){var t,r;return!1!==n(e)&&("function"==typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))},i=r(184),a=r(23);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,"Editor",(function(){return T})),r.d(t,"Element",(function(){return S})),r.d(t,"Location",(function(){return P})),r.d(t,"Node",(function(){return I})),r.d(t,"Operation",(function(){return D})),r.d(t,"Path",(function(){return R})),r.d(t,"PathRef",(function(){return N})),r.d(t,"Point",(function(){return L})),r.d(t,"PointRef",(function(){return F})),r.d(t,"Range",(function(){return W})),r.d(t,"RangeRef",(function(){return H})),r.d(t,"Span",(function(){return k})),r.d(t,"Text",(function(){return q})),r.d(t,"Transforms",(function(){return te})),r.d(t,"createEditor",(function(){return oe}));var u=new WeakMap,c=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,h=new WeakMap,m=/\s/,g=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,b=/['\u2018\u2019]/,v=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(w(n)){var o=E(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(O(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!_(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},y=(e,t)=>{if(m.test(e))return!1;if(b.test(e)){var r=t.charAt(0),n=v(r);r=t.slice(0,n);var o=t.slice(n);if(y(r,o))return!0}return!g.test(e)},w=e=>55296<=e&&e<=57343,E=(e,t,r)=>{if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},_=e=>e<=65039&&e>=65024,O=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e;function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:i}=t;if(o){var a=T.path(e,o),s="lowest"===n;for(var[l,u]of T.levels(e,{at:a,voids:r,match:i,reverse:s}))if(!q.isText(l)&&!R.equals(a,u))return[l,u]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:T.point(e,t,{edge:"end"}),focus:T.end(e,[])},{distance:i=1}=n,a=0;for(var s of T.positions(e,x({},n,{at:o}))){if(a>i)break;0!==a&&(r=s),a++}return r},before(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:T.start(e,[]),focus:T.point(e,t,{edge:"start"})},{distance:i=1}=n,a=0;for(var s of T.positions(e,x({},n,{at:o,reverse:!0}))){if(a>i)break;0!==a&&(r=s),a++}return r},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[T.start(e,t),T.end(e,t)],end:(e,t)=>T.point(e,t,{edge:"end"}),first(e,t){var r=T.path(e,t,{edge:"start"});return T.node(e,r)},fragment(e,t){var r=T.range(e,t);return I.fragment(e,r)},hasBlocks:(e,t)=>t.children.some(t=>T.isBlock(e,t)),hasInlines:(e,t)=>t.children.some(t=>q.isText(t)||T.isInline(e,t)),hasTexts:(e,t)=>t.children.every(e=>q.isText(e)),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>S.isElement(t)&&!e.isInline(t),isEditor:e=>o(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||o(e.marks))&&(null===e.selection||W.isRange(e.selection))&&I.isNodeList(e.children)&&D.isOperationList(e.operations),isEnd(e,t,r){var n=T.end(e,r);return L.equals(t,n)},isEdge:(e,t,r)=>T.isStart(e,t,r)||T.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&q.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:(e,t)=>S.isElement(t)&&e.isInline(t),isNormalizing(e){var t=d.get(e);return void 0===t||t},isStart(e,t,r){if(0!==t.offset)return!1;var n=T.start(e,r);return L.equals(t,n)},isVoid:(e,t)=>S.isElement(t)&&e.isVoid(t),last(e,t){var r=T.path(e,t,{edge:"end"});return T.node(e,r)},leaf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=T.path(e,t,r);return[I.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:i}=t;if(null==i&&(i=()=>!0),r){var a=[],s=T.path(e,r);for(var[l,u]of I.levels(e,s))if(i(l)&&(a.push([l,u]),!o&&T.isVoid(e,l)))break;n&&a.reverse(),yield*a}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(W.isExpanded(r)){var[n]=T.nodes(e,{match:q.isText});if(n){var[o]=n;return l(o,["text"])}return{}}var{anchor:i}=r,{path:a}=i,[s]=T.leaf(e,a);if(0===i.offset){var u=T.previous(e,{at:a,match:q.isText}),c=T.above(e,{match:t=>T.isBlock(e,t)});if(u&&c){var[d,f]=u,[,p]=c;R.isAncestor(p,f)&&(s=d)}}return l(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection}=t;if(i){var[,a]=T.last(e,i),[,s]=T.last(e,[]),l=[a,s];if(R.isPath(i)&&0===i.length)throw new Error("Cannot get the next node from the root node!");if(null==o)if(R.isPath(i)){var[u]=T.parent(e,i);o=e=>u.children.includes(e)}else o=()=>!0;var[,c]=T.nodes(e,{at:l,match:o,mode:r,voids:n});return c}},node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=T.path(e,t,r);return[I.get(e,n),n]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:i=!1,voids:a=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var l,u;if(k.isSpan(r))l=r[0],u=r[1];else{var c=T.path(e,r,{edge:"start"}),d=T.path(e,r,{edge:"end"});l=i?d:c,u=i?c:d}var f,p=I.nodes(e,{reverse:i,from:l,to:u,pass:t=>{var[r]=t;return!a&&T.isVoid(e,r)}}),h=[];for(var[m,g]of p){var b=f&&0===R.compare(g,f[1]);if("highest"!==n||!b)if(s(m))if("lowest"===n&&b)f=[m,g];else{var v="lowest"===n?f:[m,g];v&&(o?h.push(v):yield v),f=[m,g]}else if(o&&!b&&q.isText(m))return}"lowest"===n&&f&&(o?h.push(f):yield f),o&&(yield*h)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1}=t,n=e=>u.get(e)||[];if(T.isNormalizing(e)){if(r){var o=Array.from(I.nodes(e),e=>{var[,t]=e;return t});u.set(e,o)}0!==n(e).length&&T.withoutNormalizing(e,()=>{for(var t=42*n(e).length,r=0;0!==n(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var o=n(e).pop(),i=T.node(e,o);e.normalizeNode(i),r++}})}},parent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=T.path(e,t,r),o=R.parent(n);return T.node(e,o)},path(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:o}=r;if(R.isPath(t))if("start"===o){var[,i]=I.first(e,t);t=i}else if("end"===o){var[,a]=I.last(e,t);t=a}return W.isRange(t)&&(t="start"===o?W.start(t):"end"===o?W.end(t):R.common(t.anchor.path,t.focus.path)),L.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return T.pathRefs(e).delete(o),o.current=null,t}};return T.pathRefs(e).add(o),o},pathRefs(e){var t=f.get(e);return t||(t=new Set,f.set(e,t)),t},point(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(R.isPath(t)){var o;if("end"===n){var[,i]=I.last(e,t);o=i}else{var[,a]=I.first(e,t);o=a}var s=I.get(e,o);if(!q.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:"end"===n?s.text.length:0}}if(W.isRange(t)){var[l,u]=W.edges(t);return"start"===n?l:u}return t},pointRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return T.pointRefs(e).delete(o),o.current=null,t}};return T.pointRefs(e).add(o),o},pointRefs(e){var t=p.get(e);return t||(t=new Set,p.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:o=!1}=t;if(r){var a=T.range(e,r),[s,l]=W.edges(a),u=o?l:s,c="",d=0,f=0,p=null,h=!1,m=()=>{null==p&&(p="character"===n?v(c):"word"===n?(e=>{for(var t,r=0,n=0,o=!1;t=e.charAt(n);){var i=v(t);t=e.slice(n,n+i);var a=e.slice(n+i);if(y(t,a))o=!0,r+=i;else{if(o)break;r+=i}n+=i}return r})(c):"line"===n||"block"===n?c.length:1,c=c.slice(p)),f=o?f-p:f+p,p=(d-=p)>=0?null:0-d};for(var[g,b]of T.nodes(e,{at:r,reverse:o})){if(S.isElement(g)){if(e.isVoid(g)){yield T.start(e,b);continue}if(e.isInline(g))continue;if(T.hasInlines(e,g)){var w=R.isAncestor(b,l.path)?l:T.end(e,b),E=R.isAncestor(b,s.path)?s:T.start(e,b),_=T.string(e,{anchor:E,focus:w});c=o?Object(i.reverse)(_):_,h=!0}}if(q.isText(g)){var O=R.equals(b,u.path);for(d=g.text.length,f=o?d:0,O&&(d=o?u.offset:d-u.offset,f=u.offset),(O||h||"offset"===n)&&(yield{path:b,offset:f});""!==c&&(m(),d>=0);)yield{path:b,offset:f};h=!1}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection}=t;if(i){var[,a]=T.first(e,i),[,s]=T.first(e,[]),l=[a,s];if(R.isPath(i)&&0===i.length)throw new Error("Cannot get the previous node from the root node!");if(null==o)if(R.isPath(i)){var[u]=T.parent(e,i);o=e=>u.children.includes(e)}else o=()=>!0;var[,c]=T.nodes(e,{reverse:!0,at:l,match:o,mode:r,voids:n});return c}},range:(e,t,r)=>W.isRange(t)&&!r?t:{anchor:T.start(e,t),focus:T.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return T.rangeRefs(e).delete(o),o.current=null,t}};return T.rangeRefs(e).add(o),o},rangeRefs(e){var t=h.get(e);return t||(t=new Set,h.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>T.point(e,t,{edge:"start"}),string(e,t){var r=T.range(e,t),[n,o]=W.edges(r),i="";for(var[a,s]of T.nodes(e,{at:r,match:q.isText})){var l=a.text;R.equals(s,o.path)&&(l=l.slice(0,o.offset)),R.equals(s,n.path)&&(l=l.slice(n.offset)),i+=l}return i},unhangRange(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[o,i]=W.edges(t);if(0!==o.offset||0!==i.offset||W.isCollapsed(t))return t;var a=T.above(e,{at:i,match:t=>T.isBlock(e,t)}),s=a?a[1]:[],l={anchor:T.start(e,[]),focus:i},u=!0;for(var[c,d]of T.nodes(e,{at:l,match:q.isText,reverse:!0,voids:n}))if(u)u=!1;else if(""!==c.text||R.isBefore(d,s)){i={path:d,offset:c.text.length};break}return{anchor:o,focus:i}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T.above(e,x({},t,{match:t=>T.isVoid(e,t)}))},withoutNormalizing(e,t){var r=T.isNormalizing(e);d.set(e,!1),t(),d.set(e,r),T.normalize(e)}},S={isElement:e=>o(e)&&I.isNodeList(e.children)&&!T.isEditor(e),isElementList:e=>Array.isArray(e)&&(0===e.length||S.isElement(e[0])),matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},P={isLocation:e=>R.isPath(e)||L.isPoint(e)||W.isRange(e)},k={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(R.isPath)},I={ancestor(e,t){var r=I.get(e,t);if(q.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of R.ancestors(t,r)){var o=[I.ancestor(e,n),n];yield o}},child(e,t){if(q.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,o=I.ancestor(e,t),{children:i}=o,a=n?i.length-1:0;n?a>=0:a<i.length;){var s=I.child(o,a),l=t.concat(a);yield[s,l],a=n?a-1:a+1}},common(e,t,r){var n=R.common(t,r);return[I.get(e,n),n]},descendant(e,t){var r=I.get(e,t);if(T.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of I.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of I.nodes(e,t))S.isElement(r)&&(yield[r,n])},first(e,t){for(var r=t.slice(),n=I.get(e,r);n&&!q.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(q.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return Object(a.d)(e,e=>{var[r,n]=W.edges(t),o=I.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!W.includes(t,r)}});for(var[,i]of o){if(!W.includes(t,i)){var a=I.parent(e,i),s=i[i.length-1];a.children.splice(s,1)}if(R.equals(i,n.path)){var l=I.leaf(e,i);l.text=l.text.slice(0,n.offset)}if(R.equals(i,r.path)){var u=I.leaf(e,i);u.text=u.text.slice(r.offset)}}delete e.selection}).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(q.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(q.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>q.isText(e)||S.isElement(e)||T.isEditor(e),isNodeList:e=>Array.isArray(e)&&(0===e.length||I.isNode(e[0])),last(e,t){for(var r=t.slice(),n=I.get(e,r);n&&!q.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=I.get(e,t);if(!q.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of R.levels(t,r)){var o=I.get(e,n);yield[o,n]}},matches:(e,t)=>S.isElement(e)&&S.matches(e,t)||q.isText(e)&&q.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:i}=t,a=new Set,s=[],l=e;!(i&&(n?R.isBefore(s,i):R.isAfter(s,i)));)if(a.has(l)||(yield[l,s]),a.has(l)||q.isText(l)||0===l.children.length||null!=r&&!1!==r([l,s])){if(0===s.length)break;if(!n){var u=R.next(s);if(I.has(e,u)){s=u,l=I.get(e,s);continue}}if(n&&0!==s[s.length-1])s=R.previous(s),l=I.get(e,s);else s=R.parent(s),l=I.get(e,s),a.add(l)}else{a.add(l);var c=n?l.children.length-1:0;R.isAncestor(s,o)&&(c=o[s.length]),s=s.concat(c),l=I.get(e,s)}},parent(e,t){var r=R.parent(t),n=I.get(e,r);if(q.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>q.isText(e)?e.text:e.children.map(I.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of I.nodes(e,t))q.isText(r)&&(yield[r,n])}};function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D={isNodeOperation:e=>D.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!o(e))return!1;switch(e.type){case"insert_node":return R.isPath(e.path)&&I.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&R.isPath(e.path);case"merge_node":return"number"==typeof e.position&&R.isPath(e.path)&&o(e.properties);case"move_node":return R.isPath(e.path)&&R.isPath(e.newPath);case"remove_node":return R.isPath(e.path)&&I.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&R.isPath(e.path);case"set_node":return R.isPath(e.path)&&o(e.properties)&&o(e.newProperties);case"set_selection":return null===e.properties&&W.isRange(e.newProperties)||null===e.newProperties&&W.isRange(e.properties)||o(e.properties)&&o(e.newProperties);case"split_node":return R.isPath(e.path)&&"number"==typeof e.position&&o(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&(0===e.length||D.isOperation(e[0])),isSelectionOperation:e=>D.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>D.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return j({},e,{type:"remove_node"});case"insert_text":return j({},e,{type:"remove_text"});case"merge_node":return j({},e,{type:"split_node",path:R.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;return R.equals(t,r)?e:R.isSibling(r,t)?j({},e,{path:t,newPath:r}):j({},e,{path:R.transform(r,e),newPath:R.transform(R.next(r),e)});case"remove_node":return j({},e,{type:"insert_node"});case"remove_text":return j({},e,{type:"insert_text"});case"set_node":var{properties:n,newProperties:o}=e;return j({},e,{properties:o,newProperties:n});case"set_selection":var{properties:i,newProperties:a}=e;return j({},e,null==i?{properties:a,newProperties:null}:null==a?{properties:null,newProperties:i}:{properties:a,newProperties:i});case"split_node":return j({},e,{type:"merge_node",path:R.next(e.path)})}}},R={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=R.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return R.equals(n,o)&&i>a},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return R.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return R.equals(n,o)&&i<a},equals:(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),isAfter:(e,t)=>1===R.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===R.compare(e,t),isBefore:(e,t)=>-1===R.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===R.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===R.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===R.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===R.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&R.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!R.isAncestor(t,e)&&!R.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(a.d)(e,n=>{var{affinity:o="forward"}=r;if(0!==e.length)switch(t.type){case"insert_node":var{path:i}=t;(R.equals(i,n)||R.endsBefore(i,n)||R.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var{path:a}=t;if(R.equals(a,n)||R.isAncestor(a,n))return null;R.endsBefore(a,n)&&(n[a.length-1]-=1);break;case"merge_node":var{path:s,position:l}=t;R.equals(s,n)||R.endsBefore(s,n)?n[s.length-1]-=1:R.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=l);break;case"split_node":var{path:u,position:c}=t;if(R.equals(u,n)){if("forward"===o)n[n.length-1]+=1;else if("backward"!==o)return null}else R.endsBefore(u,n)?n[u.length-1]+=1:R.isAncestor(u,n)&&e[u.length]>=c&&(n[u.length-1]+=1,n[u.length]-=c);break;case"move_node":var{path:d,newPath:f}=t;if(R.equals(d,f))return;if(R.isAncestor(d,n)||R.equals(d,n)){var p=f.slice();return R.endsBefore(d,f)&&d.length<f.length&&(p[d.length-1]-=1),p.concat(n.slice(d.length))}R.isSibling(d,f)&&(R.isAncestor(f,n)||R.equals(f,n))?R.endsBefore(d,n)?n[d.length-1]-=1:n[d.length-1]+=1:R.endsBefore(f,n)||R.equals(f,n)||R.isAncestor(f,n)?(R.endsBefore(d,n)&&(n[d.length-1]-=1),n[f.length-1]+=1):R.endsBefore(d,n)&&(R.equals(f,n)&&(n[f.length-1]+=1),n[d.length-1]-=1)}})}},N={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=R.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var L={compare(e,t){var r=R.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===L.compare(e,t),isBefore:(e,t)=>-1===L.compare(e,t),equals:(e,t)=>e.offset===t.offset&&R.equals(e.path,t.path),isPoint:e=>o(e)&&"number"==typeof e.offset&&R.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(a.d)(e,e=>{var{affinity:n="forward"}=r,{path:o,offset:i}=e;switch(t.type){case"insert_node":case"move_node":e.path=R.transform(o,t,r);break;case"insert_text":R.equals(t.path,o)&&t.offset<=i&&(e.offset+=t.text.length);break;case"merge_node":R.equals(t.path,o)&&(e.offset+=t.position),e.path=R.transform(o,t,r);break;case"remove_text":R.equals(t.path,o)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(R.equals(t.path,o)||R.isAncestor(t.path,o))return null;e.path=R.transform(o,t,r);break;case"split_node":if(R.equals(t.path,o)){if(t.position===i&&null==n)return null;(t.position<i||t.position===i&&"forward"===n)&&(e.offset-=t.position,e.path=R.transform(o,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{affinity:"forward"})))}else e.path=R.transform(o,t,r)}})}},F={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=L.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var W={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return W.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=W.edges(e);return t},equals:(e,t)=>L.equals(e.anchor,t.anchor)&&L.equals(e.focus,t.focus),includes(e,t){if(W.isRange(t)){if(W.includes(e,t.anchor)||W.includes(e,t.focus))return!0;var[r,n]=W.edges(e),[o,i]=W.edges(t);return L.isBefore(r,o)&&L.isAfter(n,i)}var[a,s]=W.edges(e),l=!1,u=!1;return L.isPoint(t)?(l=L.compare(t,a)>=0,u=L.compare(t,s)<=0):(l=R.compare(t,a.path)>=0,u=R.compare(t,s.path)<=0),l&&u},intersection(e,t){var r=l(e,["anchor","focus"]),[n,o]=W.edges(e),[i,a]=W.edges(t),u=L.isBefore(n,i)?i:n,c=L.isBefore(o,a)?o:a;return L.isBefore(c,u)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:u,focus:c},r)},isBackward(e){var{anchor:t,focus:r}=e;return L.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return L.equals(t,r)},isExpanded:e=>!W.isCollapsed(e),isForward:e=>!W.isBackward(e),isRange:e=>o(e)&&L.isPoint(e.anchor)&&L.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=W.edges(e);return t},transform(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:i="inward"}=o;return"inward"===i?W.isForward(e)?(r="forward",n="backward"):(r="backward",n="forward"):"outward"===i?W.isForward(e)?(r="backward",n="forward"):(r="forward",n="backward"):(r=i,n=i),Object(a.d)(e,e=>{var o=L.transform(e.anchor,t,{affinity:r}),i=L.transform(e.focus,t,{affinity:n});if(!o||!i)return null;e.anchor=o,e.focus=i})}},H={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=W.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;for(var o in e)if((!n||"text"!==o)&&e[o]!==t[o])return!1;for(var i in t)if((!n||"text"!==i)&&e[i]!==t[i])return!1;return!0},isText:e=>o(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&(0===e.length||q.isText(e[0])),matches(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations(e,t){var r=[U({},e)];for(var n of t){var o=l(n,["anchor","focus"]),[i,a]=W.edges(n),s=[],u=0;for(var c of r){var{length:d}=c.text,f=u;if(u+=d,i.offset<=f&&a.offset>=f+d)Object.assign(c,o),s.push(c);else if(i.offset>f+d||a.offset<f||a.offset===f&&0!==f)s.push(c);else{var p=c,h=void 0,m=void 0;if(a.offset<f+d){var g=a.offset-f;m=U({},p,{text:p.text.slice(g)}),p=U({},p,{text:p.text.slice(0,g)})}if(i.offset>f){var b=i.offset-f;h=U({},p,{text:p.text.slice(0,b)}),p=U({},p,{text:p.text.slice(b)})}Object.assign(p,o),h&&s.push(h),s.push(p),m&&s.push(m)}}r=s}return r}};function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y={insertNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1,mode:i="lowest"}=r,{at:a,match:s,select:l}=r;if(I.isNode(t)&&(t=[t]),0!==t.length){var[u]=t;if(a||(a=e.selection?e.selection:e.children.length>0?T.end(e,[]):[0],l=!0),null==l&&(l=!1),W.isRange(a))if(n||(a=T.unhangRange(e,a)),W.isCollapsed(a))a=a.anchor;else{var[,c]=W.edges(a),d=T.pointRef(e,c);te.delete(e,{at:a}),a=d.unref()}if(L.isPoint(a)){null==s&&(s=q.isText(u)?e=>q.isText(e):e.isInline(u)?t=>q.isText(t)||T.isInline(e,t):t=>T.isBlock(e,t));var[f]=T.nodes(e,{at:a.path,match:s,mode:i,voids:o});if(!f)return;var[,p]=f,h=T.pathRef(e,p),m=T.isEnd(e,a,p);te.splitNodes(e,{at:a,match:s,mode:i,voids:o});var g=h.unref();a=m?R.next(g):g}var b=R.parent(a),v=a[a.length-1];if(o||!T.void(e,{at:b})){for(var y of t){var w=b.concat(v);v++,e.apply({type:"insert_node",path:w,node:y})}if(l){var E=T.end(e,a);E&&te.select(e,E)}}}})},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T.withoutNormalizing(e,()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:i}=t;if(null==i&&(i=R.isPath(r)?Z(e,r):t=>T.isBlock(e,t)),r){var a=T.nodes(e,{at:r,match:i,mode:n,voids:o}),s=Array.from(a,t=>{var[,r]=t;return T.pathRef(e,r)});for(var l of s){var u=l.unref();if(u.length<2)throw new Error("Cannot lift node at a path [".concat(u,"] because it has a depth of less than `2`."));var c=T.node(e,R.parent(u)),[d,f]=c,p=u[u.length-1],{length:h}=d.children;if(1===h){var m=R.next(f);te.moveNodes(e,{at:u,to:m,voids:o}),te.removeNodes(e,{at:f,voids:o})}else if(0===p)te.moveNodes(e,{at:u,to:f,voids:o});else if(p===h-1){var g=R.next(f);te.moveNodes(e,{at:u,to:g,voids:o})}else{var b=R.next(u),v=R.next(f);te.splitNodes(e,{at:b,voids:o}),te.moveNodes(e,{at:u,to:v,voids:o})}}}})},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T.withoutNormalizing(e,()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:i=!1,mode:a="lowest"}=t;if(n){if(null==r)if(R.isPath(n)){var[s]=T.parent(e,n);r=e=>s.children.includes(e)}else r=t=>T.isBlock(e,t);if(!o&&W.isRange(n)&&(n=T.unhangRange(e,n)),W.isRange(n))if(W.isCollapsed(n))n=n.anchor;else{var[,u]=W.edges(n),c=T.pointRef(e,u);te.delete(e,{at:n}),n=c.unref(),null==t.at&&te.select(e,n)}var[d]=T.nodes(e,{at:n,match:r,voids:i,mode:a}),f=T.previous(e,{at:n,match:r,voids:i,mode:a});if(d&&f){var[p,h]=d,[m,g]=f;if(0!==h.length&&0!==g.length){var b,v,y=R.next(g),w=R.common(h,g),E=R.isSibling(h,g),_=Array.from(T.levels(e,{at:h}),e=>{var[t]=e;return t}).slice(w.length).slice(0,-1),O=T.above(e,{at:h,mode:"highest",match:e=>_.includes(e)&&S.isElement(e)&&1===e.children.length}),C=O&&T.pathRef(e,O[1]);if(q.isText(p)&&q.isText(m)){var x=l(p,["text"]);v=m.text.length,b=x}else{if(!S.isElement(p)||!S.isElement(m))throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(p)," ").concat(JSON.stringify(m)));x=l(p,["children"]);v=m.children.length,b=x}E||te.moveNodes(e,{at:h,to:y,voids:i}),C&&te.removeNodes(e,{at:C.current,voids:i}),S.isElement(m)&&T.isEmpty(e,m)||q.isText(m)&&""===m.text?te.removeNodes(e,{at:g,voids:i}):e.apply({type:"merge_node",path:y,position:v,properties:b}),C&&C.unref()}}}})},moveNodes(e,t){T.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:i=!1}=t,{match:a}=t;if(n){null==a&&(a=R.isPath(n)?Z(e,n):t=>T.isBlock(e,t));var s=T.pathRef(e,r),l=T.nodes(e,{at:n,match:a,mode:o,voids:i}),u=Array.from(l,t=>{var[,r]=t;return T.pathRef(e,r)});for(var c of u){var d=c.unref(),f=s.current;0!==d.length&&e.apply({type:"move_node",path:d,newPath:f})}s.unref()}})},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=R.isPath(i)?Z(e,i):t=>T.isBlock(e,t)),!r&&W.isRange(i)&&(i=T.unhangRange(e,i));var s=T.nodes(e,{at:i,match:a,mode:o,voids:n}),l=Array.from(s,t=>{var[,r]=t;return T.pathRef(e,r)});for(var u of l){var c=u.unref();if(c){var[d]=T.node(e,c);e.apply({type:"remove_node",path:c,node:d})}}}})},setNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T.withoutNormalizing(e,()=>{var{match:n,at:o=e.selection}=r,{hanging:i=!1,mode:a="lowest",split:s=!1,voids:l=!1}=r;if(o){if(null==n&&(n=R.isPath(o)?Z(e,o):t=>T.isBlock(e,t)),!i&&W.isRange(o)&&(o=T.unhangRange(e,o)),s&&W.isRange(o)){var u=T.rangeRef(e,o,{affinity:"inward"}),[c,d]=W.edges(o),f="lowest"===a?"lowest":"highest";te.splitNodes(e,{at:d,match:n,mode:f,voids:l}),te.splitNodes(e,{at:c,match:n,mode:f,voids:l}),o=u.unref(),null==r.at&&te.select(e,o)}for(var[p,h]of T.nodes(e,{at:o,match:n,mode:a,voids:l})){var m={},g={};if(0!==h.length){for(var b in t)"children"!==b&&"text"!==b&&t[b]!==p[b]&&(m[b]=p[b],g[b]=t[b]);0!==Object.keys(g).length&&e.apply({type:"set_node",path:h,properties:m,newProperties:g})}}}})},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T.withoutNormalizing(e,()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection,height:a=0,always:s=!1}=t;if(null==o&&(o=t=>T.isBlock(e,t)),W.isRange(i)&&(i=$(e,i)),R.isPath(i)){var u=i,c=T.point(e,u),[d]=T.parent(e,u);o=e=>e===d,a=c.path.length-u.length+1,i=c,s=!0}if(i){var f=T.pointRef(e,i,{affinity:"backward"}),[p]=T.nodes(e,{at:i,match:o,mode:r,voids:n});if(p){var h=T.void(e,{at:i,mode:"highest"});if(!n&&h){var[m,g]=h;if(S.isElement(m)&&e.isInline(m)){var b=T.after(e,g);if(!b){var v=R.next(g);te.insertNodes(e,{text:""},{at:v,voids:n}),b=T.point(e,v)}i=b,s=!0}a=i.path.length-g.length+1,s=!0}var y=T.pointRef(e,i),w=i.path.length-a,[,E]=p,_=i.path.slice(0,w),O=0===a?i.offset:i.path[w]+0;for(var[C,x]of T.levels(e,{at:_,reverse:!0,voids:n})){var P=!1;if(x.length<E.length||0===x.length||!n&&T.isVoid(e,C))break;var k=f.current,I=T.isEnd(e,k,x);if(s||!f||!T.isEdge(e,k,x)){P=!0;var A=l(C,["text","children"]);e.apply({type:"split_node",path:x,position:O,properties:A})}O=x[x.length-1]+(P||I?1:0)}if(null==t.at){var j=y.current||T.end(e,[]);te.select(e,j)}f.unref(),y.unref()}}})},unsetNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;te.setNodes(e,n,r)},unwrapNodes(e,t){T.withoutNormalizing(e,()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=R.isPath(i)?Z(e,i):t=>T.isBlock(e,t)),R.isPath(i)&&(i=T.range(e,i));var s=W.isRange(i)?T.rangeRef(e,i):null,l=T.nodes(e,{at:i,match:a,mode:r,voids:o}),u=Array.from(l,t=>{var[,r]=t;return T.pathRef(e,r)}),c=function(t){var r=t.unref(),[i]=T.node(e,r),a=T.range(e,r);n&&s&&(a=W.intersection(s.current,a)),te.liftNodes(e,{at:a,match:e=>i.children.includes(e),voids:o})};for(var d of u)c(d);s&&s.unref()}})},wrapNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T.withoutNormalizing(e,()=>{var{mode:n="lowest",split:o=!1,voids:i=!1}=r,{match:a,at:s=e.selection}=r;if(s){if(null==a&&(a=R.isPath(s)?Z(e,s):e.isInline(t)?t=>T.isInline(e,t)||q.isText(t):t=>T.isBlock(e,t)),o&&W.isRange(s)){var[l,u]=W.edges(s),c=T.rangeRef(e,s,{affinity:"inward"});te.splitNodes(e,{at:u,match:a,voids:i}),te.splitNodes(e,{at:l,match:a,voids:i}),s=c.unref(),null==r.at&&te.select(e,s)}var d=Array.from(T.nodes(e,{at:s,match:e.isInline(t)?t=>T.isBlock(e,t):e=>T.isEditor(e),mode:"lowest",voids:i}));for(var[,f]of d){var p=W.isRange(s)?W.intersection(s,T.range(e,f)):s;if(p){var h=Array.from(T.nodes(e,{at:p,match:a,mode:n,voids:i}));h.length>0&&function(){var[r]=h,n=h[h.length-1],[,o]=r,[,a]=n,s=R.equals(o,a)?R.parent(o):R.common(o,a),l=T.range(e,o,a),u=T.node(e,s),[c]=u,d=s.length+1,f=R.next(a.slice(0,d)),p=X({},t,{children:[]});te.insertNodes(e,p,{at:f,voids:i}),te.moveNodes(e,{at:l,match:e=>c.children.includes(e),to:f.concat(0),voids:i})}()}}}})}},$=(e,t)=>{if(W.isCollapsed(t))return t.anchor;var[,r]=W.edges(t),n=T.pointRef(e,r);return te.delete(e,{at:t}),n.unref()},Z=(e,t)=>{var[r]=T.node(e,t);return e=>e===r};function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var te=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform(e,t){e.children=Object(a.a)(e.children);var r=e.selection&&Object(a.a)(e.selection);switch(t.type){case"insert_node":var{path:n,node:o}=t,i=I.parent(e,n),s=n[n.length-1];if(i.children.splice(s,0,o),r)for(var[l,u]of W.points(r))r[u]=L.transform(l,t);break;case"insert_text":var{path:c,offset:d,text:f}=t,p=I.leaf(e,c),h=p.text.slice(0,d),m=p.text.slice(d);if(p.text=h+f+m,r)for(var[g,b]of W.points(r))r[b]=L.transform(g,t);break;case"merge_node":var{path:v}=t,y=I.get(e,v),w=R.previous(v),E=I.get(e,w),_=I.parent(e,v),O=v[v.length-1];if(q.isText(y)&&q.isText(E))E.text+=y.text;else{if(q.isText(y)||q.isText(E))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(v,"] to nodes of different interaces: ").concat(y," ").concat(E));E.children.push(...y.children)}if(_.children.splice(O,1),r)for(var[C,x]of W.points(r))r[x]=L.transform(C,t);break;case"move_node":var{path:T,newPath:S}=t;if(R.isAncestor(T,S))throw new Error("Cannot move a path [".concat(T,"] to new path [").concat(S,"] because the destination is inside itself."));var P=I.get(e,T),k=I.parent(e,T),A=T[T.length-1];k.children.splice(A,1);var j=R.transform(T,t),D=I.get(e,R.parent(j)),N=j[j.length-1];if(D.children.splice(N,0,P),r)for(var[M,F]of W.points(r))r[F]=L.transform(M,t);break;case"remove_node":var{path:B}=t,H=B[B.length-1];if(I.parent(e,B).children.splice(H,1),r)for(var[z,U]of W.points(r)){var G=L.transform(z,t);if(null!=r&&null!=G)r[U]=G;else{var K=void 0,X=void 0;for(var[Y,$]of I.texts(e)){if(-1!==R.compare($,B)){X=[Y,$];break}K=[Y,$]}K?(z.path=K[1],z.offset=K[0].text.length):X?(z.path=X[1],z.offset=0):r=null}}break;case"remove_text":var{path:Z,offset:J,text:Q}=t,ee=I.leaf(e,Z),te=ee.text.slice(0,J),re=ee.text.slice(J+Q.length);if(ee.text=te+re,r)for(var[ne,oe]of W.points(r))r[oe]=L.transform(ne,t);break;case"set_node":var{path:ie,newProperties:ae}=t;if(0===ie.length)throw new Error("Cannot set properties on the root node!");var se=I.get(e,ie);for(var le in ae){if("children"===le||"text"===le)throw new Error('Cannot set the "'.concat(le,'" property of nodes!'));var ue=ae[le];null==ue?delete se[le]:se[le]=ue}break;case"set_selection":var{newProperties:ce}=t;if(null==ce)r=ce;else if(null==r){if(!W.isRange(ce))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ce)," when there is no current selection."));r=ce}else Object.assign(r,ce);break;case"split_node":var{path:de,position:fe,properties:pe}=t;if(0===de.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(de,"] because the root node cannot be split."));var he,me=I.get(e,de),ge=I.parent(e,de),be=de[de.length-1];if(q.isText(me)){var ve=me.text.slice(0,fe),ye=me.text.slice(fe);me.text=ve,he=V({},me,{},pe,{text:ye})}else{var we=me.children.slice(0,fe),Ee=me.children.slice(fe);me.children=we,he=V({},me,{},pe,{children:Ee})}if(ge.children.splice(be+1,0,he),r)for(var[_e,Oe]of W.points(r))r[Oe]=L.transform(_e,t)}e.children=Object(a.b)(e.children),e.selection=r?Object(a.c)(r)?Object(a.b)(r):r:null}},{},Y,{},{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)te.select(e,n.anchor);else if("focus"===r)te.select(e,n.focus);else if("start"===r){var[o]=W.edges(n);te.select(e,o)}else if("end"===r){var[,i]=W.edges(n);te.select(e,i)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:i=!1}=t,{edge:a=null}=t;if(r){"start"===a&&(a=W.isBackward(r)?"focus":"anchor"),"end"===a&&(a=W.isBackward(r)?"anchor":"focus");var{anchor:s,focus:l}=r,u={distance:n,unit:o},c={};if(null==a||"anchor"===a){var d=i?T.before(e,s,u):T.after(e,s,u);d&&(c.anchor=d)}if(null==a||"focus"===a){var f=i?T.before(e,l,u):T.after(e,l,u);f&&(c.focus=f)}te.setSelection(e,c)}},select(e,t){var{selection:r}=e;if(t=T.range(e,t),r)te.setSelection(e,t);else{if(!W.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t,r){var{selection:n}=e,{edge:o="both"}=r;if(n){"start"===o&&(o=W.isBackward(n)?"focus":"anchor"),"end"===o&&(o=W.isBackward(n)?"anchor":"focus");var{anchor:i,focus:a}=n,s="anchor"===o?i:a;te.setSelection(e,{["anchor"===o?"anchor":"focus"]:Q({},s,{},t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(r){for(var i in t)("anchor"===i&&null!=t.anchor&&!L.equals(t.anchor,r.anchor)||"focus"===i&&null!=t.focus&&!L.equals(t.focus,r.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==r[i])&&(n[i]=r[i],o[i]=t[i]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},{},{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T.withoutNormalizing(e,()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:i=!1}=t,{at:a=e.selection,hanging:s=!1}=t;if(a){if(W.isRange(a)&&W.isCollapsed(a)&&(a=a.anchor),L.isPoint(a)){var l=T.void(e,{at:a,mode:"highest"});if(!i&&l){var[,u]=l;a=u}else{var c={unit:n,distance:o};a={anchor:a,focus:r?T.before(e,a,c)||T.start(e,[]):T.after(e,a,c)||T.end(e,[])},s=!0}}if(R.isPath(a))te.removeNodes(e,{at:a,voids:i});else if(!W.isCollapsed(a)){s||(a=T.unhangRange(e,a,{voids:i}));var[d,f]=W.edges(a),p=T.above(e,{match:t=>T.isBlock(e,t),at:d,voids:i}),h=T.above(e,{match:t=>T.isBlock(e,t),at:f,voids:i}),m=p&&h&&!R.equals(p[1],h[1]),g=R.equals(d.path,f.path),b=i?null:T.void(e,{at:d,mode:"highest"}),v=i?null:T.void(e,{at:f,mode:"highest"});if(b){var y=T.before(e,d);y&&p&&R.isAncestor(p[1],y.path)&&(d=y)}if(v){var w=T.after(e,f);w&&h&&R.isAncestor(h[1],w.path)&&(f=w)}var E,_=[];for(var O of T.nodes(e,{at:a,voids:i})){var[C,x]=O;E&&0===R.compare(x,E)||(!i&&T.isVoid(e,C)||!R.isCommon(x,d.path)&&!R.isCommon(x,f.path))&&(_.push(O),E=x)}var S=Array.from(_,t=>{var[,r]=t;return T.pathRef(e,r)}),P=T.pointRef(e,d),k=T.pointRef(e,f);if(!g&&!b){var I=P.current,[A]=T.leaf(e,I),{path:j}=I,{offset:D}=d,N=A.text.slice(D);e.apply({type:"remove_text",path:j,offset:D,text:N})}for(var M of S){var F=M.unref();te.removeNodes(e,{at:F,voids:i})}if(!v){var B=k.current,[H]=T.leaf(e,B),{path:z}=B,U=g?d.offset:0,q=H.text.slice(U,f.offset);e.apply({type:"remove_text",path:z,offset:U,text:q})}!g&&m&&k.current&&P.current&&te.mergeNodes(e,{at:k.current,hanging:!0,voids:i});var G=k.unref()||P.unref();null==t.at&&G&&te.select(e,G)}}})},insertFragment(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1}=r,{at:i=e.selection}=r;if(t.length&&i){if(W.isRange(i))if(n||(i=T.unhangRange(e,i)),W.isCollapsed(i))i=i.anchor;else{var[,a]=W.edges(i);if(!o&&T.void(e,{at:a}))return;var s=T.pointRef(e,a);te.delete(e,{at:i}),i=s.unref()}else R.isPath(i)&&(i=T.start(e,i));if(o||!T.void(e,{at:i})){var l=T.above(e,{at:i,match:t=>T.isInline(e,t),mode:"highest",voids:o});if(l){var[,u]=l;if(T.isEnd(e,i,u))i=T.after(e,u);else if(T.isStart(e,i,u)){i=T.before(e,u)}}var c=T.above(e,{match:t=>T.isBlock(e,t),at:i,voids:o}),[,d]=c,f=T.isStart(e,i,d),p=T.isEnd(e,i,d),h=!f||f&&p,m=!p,[,g]=I.first({children:t},[]),[,b]=I.last({children:t},[]),v=[],y=t=>{var[r,n]=t;return!(h&&R.isAncestor(n,g)&&S.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(m&&R.isAncestor(n,b)&&S.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))};for(var w of I.nodes({children:t},{pass:y}))w[1].length>0&&y(w)&&v.push(w);var E=[],_=[],O=[],C=!0,x=!1;for(var[P]of v)S.isElement(P)&&!e.isInline(P)?(C=!1,x=!0,_.push(P)):C?E.push(P):O.push(P);var[k]=T.nodes(e,{at:i,match:t=>q.isText(t)||T.isInline(e,t),mode:"highest",voids:o}),[,A]=k,j=T.isStart(e,i,A),D=T.isEnd(e,i,A),N=T.pathRef(e,p?R.next(d):d),M=T.pathRef(e,D?R.next(A):A);te.splitNodes(e,{at:i,match:t=>x?T.isBlock(e,t):q.isText(t)||T.isInline(e,t),mode:x?"lowest":"highest",voids:o});var L=T.pathRef(e,!j||j&&D?R.next(A):A);if(te.insertNodes(e,E,{at:L.current,match:t=>q.isText(t)||T.isInline(e,t),mode:"highest",voids:o}),te.insertNodes(e,_,{at:N.current,match:t=>T.isBlock(e,t),mode:"lowest",voids:o}),te.insertNodes(e,O,{at:M.current,match:t=>q.isText(t)||T.isInline(e,t),mode:"highest",voids:o}),!r.at){var F;F=O.length>0?R.previous(M.current):_.length>0?R.previous(N.current):R.previous(L.current);var B=T.end(e,F);te.select(e,B)}L.unref(),N.unref(),M.unref()}}})},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(o){if(R.isPath(o)&&(o=T.range(e,o)),W.isRange(o))if(W.isCollapsed(o))o=o.anchor;else{var i=W.end(o);if(!n&&T.void(e,{at:i}))return;var a=T.pointRef(e,i);te.delete(e,{at:o,voids:n}),o=a.unref(),te.setSelection(e,{anchor:o,focus:o})}if(n||!T.void(e,{at:o})){var{path:s,offset:l}=o;e.apply({type:"insert_text",path:s,offset:l,text:t})}}})}});function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of T.pathRefs(e))N.transform(r,t);for(var n of T.pointRefs(e))F.transform(n,t);for(var o of T.rangeRefs(e))H.transform(o,t);var i=new Set,a=[],s=e=>{if(e){var t=e.join(",");i.has(t)||(i.add(t),a.push(e))}},l=u.get(e)||[],d=ie(t);for(var f of l){s(R.transform(f,t))}for(var p of d)s(p);u.set(e,a),te.transform(e,t),e.operations.push(t),T.normalize(e),"set_selection"===t.type&&(e.marks=null),c.get(e)||(c.set(e,!0),Promise.resolve().then(()=>{c.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(W.isExpanded(n))te.setNodes(e,{[t]:r},{match:q.isText,split:!0});else{var o=ne({},T.marks(e)||{},{[t]:r});e.marks=o,e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&W.isCollapsed(r)&&te.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&W.isCollapsed(r)&&te.delete(e,{unit:t})},deleteFragment:()=>{var{selection:t}=e;t&&W.isExpanded(t)&&te.delete(e)},getFragment:()=>{var{selection:t}=e;return t?I.fragment(e,t):[]},insertBreak:()=>{te.splitNodes(e,{always:!0})},insertFragment:t=>{te.insertFragment(e,t)},insertNode:t=>{te.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(W.isCollapsed(r)){var o=T.above(e,{match:t=>T.isInline(e,t),mode:"highest"});if(o){var[,i]=o;if(T.isEnd(e,r.anchor,i)){var a=T.after(e,i);te.setSelection(e,{anchor:a,focus:a})}}}if(n){var s=ne({text:t},n);te.insertNodes(e,s)}else te.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!q.isText(r))if(S.isElement(r)&&0===r.children.length){te.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var o=!T.isEditor(r)&&(S.isElement(r)&&(e.isInline(r)||0===r.children.length||q.isText(r.children[0])||e.isInline(r.children[0]))),i=0,a=0;a<r.children.length;a++,i++){var s=r.children[a],l=r.children[a-1],u=a===r.children.length-1;if((q.isText(s)||S.isElement(s)&&e.isInline(s))!==o)te.removeNodes(e,{at:n.concat(i),voids:!0}),i--;else if(S.isElement(s)){if(e.isInline(s))if(null!=l&&q.isText(l)){if(u){te.insertNodes(e,{text:""},{at:n.concat(i+1),voids:!0}),i++}}else{te.insertNodes(e,{text:""},{at:n.concat(i),voids:!0}),i++}}else null!=l&&q.isText(l)&&(q.equals(s,l,{loose:!0})?(te.mergeNodes(e,{at:n.concat(i),voids:!0}),i--):""===l.text?(te.removeNodes(e,{at:n.concat(i-1),voids:!0}),i--):u&&""===s.text&&(te.removeNodes(e,{at:n.concat(i),voids:!0}),i--))}},removeMark:t=>{var{selection:r}=e;if(r)if(W.isExpanded(r))te.unsetNodes(e,t,{match:q.isText,split:!0});else{var n=ne({},T.marks(e)||{});delete n[t],e.marks=n,e.onChange()}}};return e},ie=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return R.levels(t);case"insert_node":var{node:r,path:n}=e;return[...R.levels(n),...q.isText(r)?[]:Array.from(I.nodes(r),e=>{var[,t]=e;return n.concat(t)})];case"merge_node":var{path:o}=e;return[...R.ancestors(o),R.previous(o)];case"move_node":var{path:i,newPath:a}=e;if(R.equals(i,a))return[];var s=[],l=[];for(var u of R.ancestors(i)){var c=R.transform(u,e);s.push(c)}for(var d of R.ancestors(a)){var f=R.transform(d,e);l.push(f)}return[...s,...l];case"remove_node":var{path:p}=e;return[...R.ancestors(p)];case"split_node":var{path:h}=e;return[...R.levels(h),R.next(h)];default:return[]}}},,,,,,,,,,function(e,t){e.exports=require("electron")},,function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},,,function(e,t){e.exports=require("util")},function(e,t){e.exports=require("crypto")},,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timelineFilterIsEmptySelector=t.isSeriesSelector=t.timelineFilterSelector=t.placeSortSelector=t.placeFilterSelector=t.characterSortSelector=t.characterFilterSelector=t.timelineIsExpandedSelector=t.currentTimelineSelector=void 0;var n=r(10);const o=e=>e.ui.currentTimeline;t.currentTimelineSelector=o;t.timelineIsExpandedSelector=e=>e.ui.timelineIsExpanded;t.characterFilterSelector=e=>e.ui.characterFilter;t.characterSortSelector=e=>e.ui.characterSort;t.placeFilterSelector=e=>e.ui.placeFilter;t.placeSortSelector=e=>e.ui.placeSort;const i=e=>e.ui.timelineFilter;t.timelineFilterSelector=i;const a=(0,n.createSelector)(o,e=>"series"==e);t.isSeriesSelector=a;const s=(0,n.createSelector)(i,e=>null==e||!e.tag.length&&!e.character.length&&!e.place.length);t.timelineFilterIsEmptySelector=s},,,,,,,,function(e,t,r){const n=r(5),{series:o,book:i,chapter:a,beat:s,ui:l,file:u,line:c,customAttributes:d,seriesLine:f,categories:p}=r(18),{app:h,remote:m}=r(14);let g=h;m&&(g=m.app);const b=o,v={allIds:[1],1:i},y=[Object.assign({},s,{title:n("Beat 1")})],w=[a],E=l,_=u,O=[Object.assign({},c,{title:n("Main Plot")})],C=[Object.assign({},f,{title:n("Main Plot")})],x=d,T=[{id:1,name:n("Main"),position:0},{id:2,name:n("Supporting"),position:1},{id:3,name:n("Other"),position:2}],S=Object.assign({},p,{characters:T});e.exports={newFileSeries:b,newFileBooks:v,newFileBeats:y,newFileChapters:w,newFileUI:E,newFileFile:_,newFileCharacters:[],newFileCategories:S,newFilePlaces:[],newFileTags:[],newFileCards:[],newFileLines:O,newFileSeriesLines:C,newFileCustomAttributes:x,newFileNotes:[],newFileImages:{}}},,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectType=function(e){return Object.prototype.toString.call(e).slice(8,-1)};var n=function(e){return function(r){return t.getObjectType(r)===e}},o=function(e){return function(t){return typeof t===e}},i=function(e){switch(e){case null:return"null";case!0:case!1:return"boolean"}switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"bigint":return"bigint";case"symbol":return"symbol"}if(i.array(e))return"Array";if(i.function(e))return"Function";var r=t.getObjectType(e);return r||"Object"};i.array=Array.isArray,i.arrayOf=function(e,t){return!(!i.array(e)&&!i.function(t))&&e.every((function(e){return t(e)}))},i.asyncFunction=n("AsyncFunction"),i.boolean=function(e){return!0===e||!1===e},i.date=n("Date"),i.defined=function(e){return!i.undefined(e)},i.domElement=function(e){return i.object(e)&&!i.plainObject(e)&&1===e.nodeType&&i.string(e.nodeName)&&["innerHTML","ownerDocument","style","attributes","nodeValue"].every((function(t){return t in e}))},i.empty=function(e){return i.string(e)&&0===e.length||i.array(e)&&0===e.length||i.object(e)&&!i.map(e)&&!i.set(e)&&0===Object.keys(e).length||i.set(e)&&0===e.size||i.map(e)&&0===e.size},i.error=n("Error"),i.function=n("Function"),i.generator=function(e){return i.iterable(e)&&i.function(e.next)&&i.function(e.throw)},i.generatorFunction=n("GeneratorFunction"),i.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},i.iterable=function(e){return!i.nullOrUndefined(e)&&i.function(e[Symbol.iterator])},i.map=n("Map"),i.nan=function(e){return Number.isNaN(e)},i.null=function(e){return null===e},i.nullOrUndefined=function(e){return i.null(e)||i.undefined(e)},i.number=function(e){return o("number")(e)&&!i.nan(e)},i.numericString=function(e){return i.string(e)&&e.length>0&&!Number.isNaN(Number(e))},i.object=function(e){return!i.nullOrUndefined(e)&&(i.function(e)||"object"==typeof e)},i.oneOf=function(e,t){return!!i.array(e)&&e.indexOf(t)>-1},i.plainObject=function(e){if("Object"!==t.getObjectType(e))return!1;var r=Object.getPrototypeOf(e);return null===r||r===Object.getPrototypeOf({})},i.promise=n("Promise"),i.propertyOf=function(e,t,r){if(!i.object(e)||!t)return!1;var n=e[t];return i.function(r)?r(n):i.defined(n)},i.regexp=n("RegExp"),i.set=n("Set"),i.string=o("string"),i.symbol=o("symbol"),i.undefined=o("undefined"),i.weakMap=n("WeakMap"),i.weakSet=n("WeakSet"),t.default=i},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeCurrentView=function(e){return{type:n.CHANGE_CURRENT_VIEW,view:e}},t.changeOrientation=function(e){return{type:n.CHANGE_ORIENTATION,orientation:e}},t.loadFile=function(e,t,r){return{type:n.FILE_LOADED,data:r,fileName:e,dirty:t}},t.newFile=function(e){return{type:n.NEW_FILE,fileName:e}},t.fileSaved=function(){return{type:n.FILE_SAVED,dirty:!1}},t.setDarkMode=function(e){return{type:n.SET_DARK_MODE,on:e}},t.setCharacterSort=function(e,t){return{type:n.SET_CHARACTER_SORT,attr:e,direction:t}},t.setPlaceSort=function(e,t){return{type:n.SET_PLACE_SORT,attr:e,direction:t}},t.setNoteSort=function(e,t){return{type:SET_NOTE_SORT,attr:e,direction:t}},t.setCharacterFilter=function(e){return{type:n.SET_CHARACTER_FILTER,filter:e}},t.setPlaceFilter=function(e){return{type:n.SET_PLACE_FILTER,filter:e}},t.setNoteFilter=function(e){return{type:SET_NOTE_FILTER,filter:e}},t.setTimelineFilter=function(e){return{type:n.SET_TIMELINE_FILTER,filter:e}},t.increaseZoom=function(){return{type:n.INCREASE_ZOOM}},t.decreaseZoom=function(){return{type:n.DECREASE_ZOOM}},t.fitZoom=function(){return{type:n.FIT_ZOOM}},t.resetZoom=function(){return{type:n.RESET_ZOOM}},t.changeCurrentTimeline=function(e){return{type:n.CHANGE_CURRENT_TIMELINE,id:e}},t.navigateToBookTimeline=function(e){return{type:n.NAVIGATE_TO_BOOK_TIMELINE,bookId:e}},t.expandTimeline=function(){return{type:n.EXPAND_TIMELINE}},t.collapseTimeline=function(){return{type:n.COLLAPSE_TIMELINE}},t.clearTemplateFromTimeline=function(e,t){return{type:n.CLEAR_TEMPLATE_FROM_TIMELINE,bookId:e,templateId:t}},t.resetTimeline=function(e){return{type:n.RESET_TIMELINE,bookId:e}},t.recordScrollPosition=function({x:e,y:t}){return{type:n.RECORD_SCROLL_POSITION,x:e,y:t}},t.editFileName=function(e){return{type:n.EDIT_FILENAME,newName:e}};var n=r(11)},,,,,,function(e,t){e.exports=require("assert")},,,,function(e,t){e.exports=require("url")},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lineIsExpandedSelector=t.sortedLinesByBookSelector=t.linesByBookSelector=t.nextLineIdSelector=t.allLinesSelector=void 0;var n,o=(n=r(29))&&n.__esModule?n:{default:n},i=r(10),a=r(28),s=r(851),l=r(22);const u=e=>e.lines;t.allLinesSelector=u;const c=(0,i.createSelector)(u,e=>(0,l.nextId)(e));t.nextLineIdSelector=c;const d=(0,i.createSelector)(u,a.currentTimelineSelector,s.allSeriesLinesSelector,(e,t,r)=>"series"==t?r:e.filter(e=>e&&e.bookId==t));t.linesByBookSelector=d;const f=(0,i.createSelector)(d,e=>(0,o.default)(e,"position"));t.sortedLinesByBookSelector=f;const p=(0,i.createSelector)(d,a.timelineIsExpandedSelector,(e,t)=>e.reduce((e,r)=>(null==r.expanded?e[r.id]=t:e[r.id]=r.expanded,e),{}));t.lineIsExpandedSelector=p},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeChapterTitleSelector=t.makeChapterSelector=t.positionOffsetSelector=t.skipPrologueSelector=t.sortedChaptersByBookSelector=t.chaptersByBookSelector=t.nextChapterIdSelector=t.allChaptersSelector=void 0;var n,o=(n=r(29))&&n.__esModule?n:{default:n},i=r(10),a=r(28),s=r(852),l=r(90),u=r(22);const c=e=>e.chapters;t.allChaptersSelector=c;const d=(e,t)=>t,f=(0,i.createSelector)(c,e=>(0,u.nextId)(e));t.nextChapterIdSelector=f;const p=(0,i.createSelector)(c,a.currentTimelineSelector,s.allBeatsSelector,(e,t,r)=>"series"==t?r:e.filter(e=>e.bookId==t));t.chaptersByBookSelector=p;const h=(0,i.createSelector)(p,e=>(0,o.default)(e,"position"));t.sortedChaptersByBookSelector=h;const m=(0,i.createSelector)(h,e=>(0,l.chapterOneIsPrologue)(e));t.skipPrologueSelector=m;const g=(0,i.createSelector)(m,e=>e?-1:0);t.positionOffsetSelector=g;t.makeChapterSelector=()=>(0,i.createSelector)(p,d,(e,t)=>e.find(e=>e.id==t));t.makeChapterTitleSelector=()=>(0,i.createSelector)(a.isSeriesSelector,p,d,g,(e,t,r,n)=>{const o=t.find(e=>e.id==r);return o?(0,l.chapterTitle)(o,n,e):""})},function(e,t,r){
/*!
 * node-inherit
 * Copyright(c) 2011 Dmitry Filatov <dfilatov@yandex-team.ru>
 * MIT Licensed
 */
e.exports=r(974)},function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),i=r(4),a=r(441),s=r.n(a);function l(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function u(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function c(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return u(r.overflowY,t)||u(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function d(e,t,r,n,o,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=r||a>=t&&s>=r?i-e-n:a>t&&s<r||i<e&&s>r?a-t+o:0}var f=function(e,t){var r=window,n=t.scrollMode,o=t.block,i=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof a?a:function(e){return e!==a};if(!l(e))throw new TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,p=[],h=e;l(h)&&u(h);){if((h=h.parentNode)===f){p.push(h);break}h===document.body&&c(h)&&!c(document.documentElement)||c(h,s)&&p.push(h)}for(var m=r.visualViewport?r.visualViewport.width:innerWidth,g=r.visualViewport?r.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),w=y.height,E=y.width,_=y.top,O=y.right,C=y.bottom,x=y.left,T="start"===o||"nearest"===o?_:"end"===o?C:_+w/2,S="center"===i?x+E/2:"end"===i?O:x,P=[],k=0;k<p.length;k++){var I=p[k],A=I.getBoundingClientRect(),j=A.height,D=A.width,R=A.top,N=A.right,M=A.bottom,L=A.left;if("if-needed"===n&&_>=0&&x>=0&&C<=g&&O<=m&&_>=R&&C<=M&&x>=L&&O<=N)return P;var F=getComputedStyle(I),B=parseInt(F.borderLeftWidth,10),W=parseInt(F.borderTopWidth,10),H=parseInt(F.borderRightWidth,10),z=parseInt(F.borderBottomWidth,10),U=0,q=0,G="offsetWidth"in I?I.offsetWidth-I.clientWidth-B-H:0,V="offsetHeight"in I?I.offsetHeight-I.clientHeight-W-z:0;if(f===I)U="start"===o?T:"end"===o?T-g:"nearest"===o?d(v,v+g,g,W,z,v+T,v+T+w,w):T-g/2,q="start"===i?S:"center"===i?S-m/2:"end"===i?S-m:d(b,b+m,m,B,H,b+S,b+S+E,E),U=Math.max(0,U+v),q=Math.max(0,q+b);else{U="start"===o?T-R-W:"end"===o?T-M+z+V:"nearest"===o?d(R,M,j,W,z+V,T,T+w,w):T-(R+j/2)+V/2,q="start"===i?S-L-B:"center"===i?S-(L+D/2)+G/2:"end"===i?S-N+H+G:d(L,N,D,B,H+G,S,S+E,E);var K=I.scrollLeft,X=I.scrollTop;T+=X-(U=Math.max(0,Math.min(X+U,I.scrollHeight-j+V))),S+=K-(q=Math.max(0,Math.min(K+q,I.scrollWidth-D+G)))}P.push({el:I,top:U,left:q})}return P};function p(e){return e===Object(e)&&0!==Object.keys(e).length}var h=function(e,t){var r=!e.ownerDocument.documentElement.contains(e);if(p(t)&&"function"==typeof t.behavior)return t.behavior(r?[]:f(e,t));if(!r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:p(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,o=e.top,i=e.left;n.scroll&&r?n.scroll({top:o,left:i,behavior:t}):(n.scrollTop=o,n.scrollLeft=i)}))}(f(e,n),n.behavior)}},m=r(442),g=r.n(m),b=r(9),v=r.n(b),y=r(141);function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,"DefaultElement",(function(){return se})),r.d(t,"DefaultLeaf",(function(){return ne})),r.d(t,"Editable",(function(){return Oe})),r.d(t,"ReactEditor",(function(){return W})),r.d(t,"Slate",(function(){return K})),r.d(t,"useEditor",(function(){return q})),r.d(t,"useFocused",(function(){return z})),r.d(t,"useReadOnly",(function(){return Y})),r.d(t,"useSelected",(function(){return Z})),r.d(t,"useSlate",(function(){return V})),r.d(t,"withReact",(function(){return J}));var _=0;class O{constructor(){this.id="".concat(_++)}}var C=new WeakMap,x=new WeakMap,T=new WeakMap,S=new WeakMap,P=new WeakMap,k=new WeakMap,I=new WeakMap,A=new WeakMap,j=new WeakMap,D=new WeakMap,R=Symbol("placeholder"),N=e=>M(e)&&1===e.nodeType,M=e=>e instanceof Node,L=e=>M(e)&&3===e.nodeType,F=(e,t,r)=>{for(var n,{childNodes:o}=e,i=o[t],a=t,s=!1,l=!1;(M(n=i)&&8===n.nodeType||N(i)&&0===i.childNodes.length||N(i)&&"false"===i.getAttribute("contenteditable"))&&(!s||!l);)a>=o.length?(s=!0,a=t-1,r="backward"):a<0?(l=!0,a=t+1,r="forward"):(i=o[a],a+="forward"===r?1:-1);return i},B=e=>{var t="";if(L(e)&&e.nodeValue)return e.nodeValue;if(N(e)){for(var r of Array.from(e.childNodes))t+=B(r);var n=getComputedStyle(e).getPropertyValue("display");"block"!==n&&"list"!==n&&"BR"!==e.tagName||(t+="\n")}return t},W={findKey(e,t){var r=I.get(t);return r||(r=new O,I.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var o=x.get(n);if(null==o){if(i.Editor.isEditor(n))return r;break}var a=C.get(n);if(null==a)break;r.unshift(a),n=o}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:e=>!!j.get(e),isReadOnly:e=>!!A.get(e),blur(e){var t=W.toDOMNode(e,e);j.set(e,!1),window.document.activeElement===t&&t.blur()},focus(e){var t=W.toDOMNode(e,e);j.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,r=window.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&i.Transforms.deselect(e)},hasDOMNode(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:o=!1}=n,i=W.toDOMNode(e,e);try{r=N(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&(r.closest("[data-slate-editor]")===i&&(!o||r.isContentEditable||!!r.getAttribute("data-slate-zero-width")))},insertData(e,t){e.insertData(t)},setFragmentData(e,t){e.setFragmentData(t)},toDOMNode(e,t){var r=i.Editor.isEditor(t)?T.get(e):P.get(W.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint(e,t){var r,[n]=i.Editor.node(e,t.path),o=W.toDOMNode(e,n);i.Editor.void(e,{at:t})&&(t={path:t.path,offset:0});var a=Array.from(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),s=0;for(var l of a){var u=l.childNodes[0];if(null!=u&&null!=u.textContent){var{length:c}=u.textContent,d=l.getAttribute("data-slate-length"),f=s+(null==d?c:parseInt(d,10));if(t.offset<=f){r=[u,Math.min(c,Math.max(0,t.offset-s))];break}s=f}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange(e,t){var{anchor:r,focus:n}=t,o=i.Range.isBackward(t),a=W.toDOMPoint(e,r),s=i.Range.isCollapsed(t)?a:W.toDOMPoint(e,n),l=window.document.createRange(),[u,c]=o?s:a,[d,f]=o?a:s,p=!!(N(u)?u:u.parentElement).getAttribute("data-slate-zero-width"),h=!!(N(d)?d:d.parentElement).getAttribute("data-slate-zero-width");return l.setStart(u,p?1:c),l.setEnd(d,h?1:f),l},toSlateNode(e,t){var r=N(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?S.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:o}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a,s=W.toSlateNode(e,t.target),l=W.findPath(e,s);if(i.Editor.isVoid(e,s)){var u=o.getBoundingClientRect(),c=e.isInline(s)?r-u.left<u.left+u.width-r:n-u.top<u.top+u.height-n,d=i.Editor.point(e,l,{edge:c?"start":"end"}),f=c?i.Editor.before(e,d):i.Editor.after(e,d);if(f)return i.Editor.range(e,f)}var{document:p}=window;if(p.caretRangeFromPoint)a=p.caretRangeFromPoint(r,n);else{var h=p.caretPositionFromPoint(r,n);h&&((a=p.createRange()).setStart(h.offsetNode,h.offset),a.setEnd(h.offsetNode,h.offset))}if(!a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return W.toSlateRange(e,a)},toSlatePoint(e,t){var[r,n]=(e=>{var[t,r]=e;if(N(t)&&t.childNodes.length){var n=r===t.childNodes.length,o=n?"backward":"forward";for(t=F(t,n?r-1:r,o);N(t)&&t.childNodes.length;){var i=n?t.childNodes.length-1:0;t=F(t,i,o)}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),o=r.parentNode,i=null,a=0;if(o){var s=o.closest('[data-slate-void="true"]'),l=o.closest("[data-slate-leaf]"),u=null;if(l){i=l.closest('[data-slate-node="text"]');var c=window.document.createRange();c.setStart(i,0),c.setEnd(r,n);var d=c.cloneContents();[...d.querySelectorAll("[data-slate-zero-width]"),...d.querySelectorAll("[contenteditable=false]")].forEach(e=>{e.parentNode.removeChild(e)}),a=d.textContent.length,u=i}else s&&(i=(l=s.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),a=(u=l).textContent.length);u&&a===u.textContent.length&&o.hasAttribute("data-slate-zero-width")&&a--}if(!i)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var f=W.toSlateNode(e,i);return{path:W.findPath(e,f),offset:a}},toSlateRange(e,t){var r,n,o,i,a;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(r=t.anchorNode,n=t.anchorOffset,o=t.focusNode,i=t.focusOffset,a=t.isCollapsed):(r=t.startContainer,n=t.startOffset,o=t.endContainer,i=t.endOffset,a=t.collapsed)),null==r||null==o||null==n||null==i)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var s=W.toSlatePoint(e,[r,n]);return{anchor:s,focus:a?s:W.toSlatePoint(e,[o,i])}}},H=Object(n.createContext)(!1),z=()=>Object(n.useContext)(H),U=Object(n.createContext)(null),q=()=>{var e=Object(n.useContext)(U);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},G=Object(n.createContext)(null),V=()=>{var e=Object(n.useContext)(G);if(!e)throw new Error("The `useSlate` hook must be used inside the <SlateProvider> component's context.");var[t]=e;return t},K=e=>{var{editor:t,children:r,onChange:i,value:a}=e,s=E(e,["editor","children","onChange","value"]),[l,u]=Object(n.useState)(0),c=Object(n.useMemo)(()=>(t.children=a,Object.assign(t,s),[t]),[l,a,...Object.values(s)]),d=Object(n.useCallback)(()=>{i(t.children),u(l+1)},[l,i]);return D.set(t,d),Object(n.useEffect)(()=>()=>{D.set(t,()=>{})},[]),o.a.createElement(G.Provider,{value:c},o.a.createElement(U.Provider,{value:t},o.a.createElement(H.Provider,{value:W.isFocused(t)},r)))},X=Object(n.createContext)(!1),Y=()=>Object(n.useContext)(X),$=Object(n.createContext)(!1),Z=()=>Object(n.useContext)($),J=e=>{var t=e,{apply:r,onChange:n}=t;return t.apply=e=>{var n=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var[o,a]of i.Editor.levels(t,{at:e.path})){var s=W.findKey(t,o);n.push([a,s])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var[l,u]of i.Editor.levels(t,{at:i.Path.parent(e.path)})){var c=W.findKey(t,l);n.push([u,c])}}for(var[d,f]of(r(e),n)){var[p]=i.Editor.node(t,d);I.set(p,f)}},t.setFragmentData=e=>{var{selection:r}=t;if(r){var[n,o]=i.Range.edges(r),a=i.Editor.void(t,{at:n.path}),s=i.Editor.void(t,{at:o.path});if(!i.Range.isCollapsed(r)||a){var l=W.toDOMRange(t,r),u=l.cloneContents(),c=u.childNodes[0];if(u.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(c=e)}),s){var[d]=s,f=l.cloneRange(),p=W.toDOMNode(t,d);f.setEndAfter(p),u=f.cloneContents()}if(a&&(c=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),L(c)){var h=document.createElement("span");h.style.whiteSpace="pre",h.appendChild(c),u.appendChild(h),c=h}var m=t.getFragment(),g=JSON.stringify(m),b=window.btoa(encodeURIComponent(g));c.setAttribute("data-slate-fragment",b),e.setData("application/x-slate-fragment",b);var v=document.createElement("div");v.appendChild(u),v.setAttribute("hidden","true"),document.body.appendChild(v),e.setData("text/html",v.innerHTML),e.setData("text/plain",B(v)),document.body.removeChild(v)}}},t.insertData=e=>{var r=e.getData("application/x-slate-fragment");if(r){var n=decodeURIComponent(window.atob(r)),o=JSON.parse(n);t.insertFragment(o)}else{var a=e.getData("text/plain");if(a){var s=a.split(/\r\n|\r|\n/),l=!1;for(var u of s)l&&i.Transforms.splitNodes(t,{always:!0}),t.insertText(u),l=!0}}},t.onChange=()=>{v.a.unstable_batchedUpdates(()=>{var e=D.get(t);e&&e(),n()})},t},Q=e=>{var{isLast:t,leaf:r,parent:n,text:a}=e,s=q(),l=W.findPath(s,a),u=i.Path.parent(l);return s.isVoid(n)?o.a.createElement(te,{length:i.Node.string(n).length}):""!==r.text||n.children[n.children.length-1]!==a||s.isInline(n)||""!==i.Editor.string(s,u)?""===r.text?o.a.createElement(te,null):t&&"\n"===r.text.slice(-1)?o.a.createElement(ee,{isTrailing:!0,text:r.text}):o.a.createElement(ee,{text:r.text}):o.a.createElement(te,{isLineBreak:!0})},ee=e=>{var{text:t,isTrailing:r=!1}=e;return o.a.createElement("span",{"data-slate-string":!0},t,r?"\n":null)},te=e=>{var{length:t=0,isLineBreak:r=!1}=e;return o.a.createElement("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},"\ufeff",r?o.a.createElement("br",null):null)},re=o.a.memo(e=>{var{leaf:t,isLast:r,text:n,parent:i,renderLeaf:a=(e=>o.a.createElement(ne,Object.assign({},e)))}=e,s=o.a.createElement(Q,{isLast:r,leaf:t,parent:i,text:n});t[R]&&(s=o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333",userSelect:"none",fontStyle:"normal",fontWeight:"normal",textDecoration:"none"}},t.placeholder),s));return a({attributes:{"data-slate-leaf":!0},children:s,leaf:t,text:n})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&i.Text.matches(t.leaf,e.leaf)),ne=e=>{var{attributes:t,children:r}=e;return o.a.createElement("span",Object.assign({},t),r)},oe="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,ie=o.a.memo(e=>{for(var{decorations:t,isLast:r,parent:a,renderLeaf:s,text:l}=e,u=q(),c=Object(n.useRef)(null),d=i.Text.decorations(l,t),f=W.findKey(u,l),p=[],h=0;h<d.length;h++){var m=d[h];p.push(o.a.createElement(re,{isLast:r&&h===d.length-1,key:"".concat(f.id,"-").concat(h),leaf:m,text:l,parent:a,renderLeaf:s}))}return oe(()=>{c.current?(P.set(f,c.current),k.set(l,c.current),S.set(c.current,l)):(P.delete(f),k.delete(l))}),o.a.createElement("span",{"data-slate-node":"text",ref:c},p)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text),ae=o.a.memo(e=>{var{decorate:t,decorations:r,element:a,renderElement:s=(e=>o.a.createElement(se,Object.assign({},e))),renderLeaf:l,selection:u}=e,c=Object(n.useRef)(null),d=q(),f=Y(),p=d.isInline(a),h=W.findKey(d,a),m=o.a.createElement(ue,{decorate:t,decorations:r,node:a,renderElement:s,renderLeaf:l,selection:u}),b={"data-slate-node":"element",ref:c};if(p&&(b["data-slate-inline"]=!0),!p&&i.Editor.hasInlines(d,a)){var v=i.Node.string(a),y=g()(v);"rtl"===y&&(b.dir=y)}if(i.Editor.isVoid(d,a)){b["data-slate-void"]=!0,!f&&p&&(b.contentEditable=!1);var w=p?"span":"div",[[E]]=i.Node.texts(a);m=f?null:o.a.createElement(w,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},o.a.createElement(ie,{decorations:[],isLast:!1,parent:a,text:E})),C.set(E,0),x.set(E,a)}return oe(()=>{c.current?(P.set(h,c.current),k.set(a,c.current),S.set(c.current,a)):(P.delete(h),k.delete(a))}),o.a.createElement($.Provider,{value:!!u},s({attributes:b,children:m,element:a}))},(e,t)=>e.decorate===t.decorate&&e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&le(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&i.Range.equals(e.selection,t.selection))),se=e=>{var{attributes:t,children:r,element:n}=e,i=q().isInline(n)?"span":"div";return o.a.createElement(i,Object.assign({},t,{style:{position:"relative"}}),r)},le=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],o=t[r];if(!i.Range.equals(n,o))return!1}return!0},ue=e=>{for(var{decorate:t,decorations:r,node:n,renderElement:a,renderLeaf:s,selection:l}=e,u=q(),c=W.findPath(u,n),d=[],f=i.Element.isElement(n)&&!u.isInline(n)&&i.Editor.hasInlines(u,n),p=0;p<n.children.length;p++){var h=c.concat(p),m=n.children[p],g=W.findKey(u,m),b=i.Editor.range(u,h),v=l&&i.Range.intersection(b,l),y=t([m,h]);for(var w of r){var E=i.Range.intersection(w,b);E&&y.push(E)}i.Element.isElement(m)?d.push(o.a.createElement(ae,{decorate:t,decorations:y,element:m,key:g.id,renderElement:a,renderLeaf:s,selection:v})):d.push(o.a.createElement(ie,{decorations:y,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderLeaf:s,text:m})),C.set(m,p),x.set(m,n)}return o.a.createElement(o.a.Fragment,null,d)},ce=("undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,"undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent)),de="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),fe="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),pe="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),he="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),me={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},ge={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},be={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ve=e=>{var t=me[e],r=ge[e],n=be[e],o=t&&Object(y.isKeyHotkey)(t),i=r&&Object(y.isKeyHotkey)(r),a=n&&Object(y.isKeyHotkey)(n);return e=>!(!o||!o(e))||(!!(ce&&i&&i(e))||!(ce||!a||!a(e)))},ye={isBold:ve("bold"),isCompose:ve("compose"),isMoveBackward:ve("moveBackward"),isMoveForward:ve("moveForward"),isDeleteBackward:ve("deleteBackward"),isDeleteForward:ve("deleteForward"),isDeleteLineBackward:ve("deleteLineBackward"),isDeleteLineForward:ve("deleteLineForward"),isDeleteWordBackward:ve("deleteWordBackward"),isDeleteWordForward:ve("deleteWordForward"),isExtendBackward:ve("extendBackward"),isExtendForward:ve("extendForward"),isExtendLineBackward:ve("extendLineBackward"),isExtendLineForward:ve("extendLineForward"),isItalic:ve("italic"),isMoveLineBackward:ve("moveLineBackward"),isMoveLineForward:ve("moveLineForward"),isMoveWordBackward:ve("moveWordBackward"),isMoveWordForward:ve("moveWordForward"),isRedo:ve("redo"),isSplitBlock:ve("splitBlock"),isTransposeCharacter:ve("transposeCharacter"),isUndo:ve("undo")};function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e=!(de||pe||he),Oe=e=>{var{autoFocus:t,decorate:r=Ce,onDOMBeforeInput:a,placeholder:l,readOnly:u=!1,renderElement:c,renderLeaf:d,style:f={},as:p="div"}=e,m=E(e,["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","style","as"]),g=V(),b=Object(n.useRef)(null);A.set(g,u);var v=Object(n.useMemo)(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]);oe(()=>{b.current?(T.set(g,b.current),k.set(g,b.current),S.set(b.current,g)):k.delete(g)}),oe(()=>{var{selection:e}=g,t=window.getSelection();if(!v.isComposing&&t&&W.isFocused(g)){var r="None"!==t.type;if(e||r){var n=T.get(g),o=!1;if(n.contains(t.anchorNode)&&n.contains(t.focusNode)&&(o=!0),!(r&&o&&e&&i.Range.equals(W.toSlateRange(g,t),e))){var a=W.toDOMNode(g,g);v.isUpdatingSelection=!0;var s=e&&W.toDOMRange(g,e);if(s){i.Range.isBackward(e)?t.setBaseAndExtent(s.endContainer,s.endOffset,s.startContainer,s.startOffset):t.setBaseAndExtent(s.startContainer,s.startOffset,s.endContainer,s.endOffset);var l=s.startContainer.parentElement;h(l,{scrollMode:"if-needed",boundary:a})}else t.removeAllRanges();setTimeout(()=>{s&&de&&a.focus(),v.isUpdatingSelection=!1})}}}}),Object(n.useEffect)(()=>{b.current&&t&&b.current.focus()},[t]);var y=Object(n.useCallback)(e=>{if(!u&&Te(g,e.target)&&!ke(e,a)){var{selection:t}=g,{inputType:r}=e,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;if(e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){var[o]=e.getTargetRanges();if(o){var s=W.toSlateRange(g,o);t&&i.Range.equals(t,s)||i.Transforms.select(g,s)}}if(t&&i.Range.isExpanded(t)&&r.startsWith("delete"))return void i.Editor.deleteFragment(g);switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":i.Editor.deleteFragment(g);break;case"deleteContent":case"deleteContentForward":i.Editor.deleteForward(g);break;case"deleteContentBackward":i.Editor.deleteBackward(g);break;case"deleteEntireSoftLine":i.Editor.deleteBackward(g,{unit:"line"}),i.Editor.deleteForward(g,{unit:"line"});break;case"deleteHardLineBackward":i.Editor.deleteBackward(g,{unit:"block"});break;case"deleteSoftLineBackward":i.Editor.deleteBackward(g,{unit:"line"});break;case"deleteHardLineForward":i.Editor.deleteForward(g,{unit:"block"});break;case"deleteSoftLineForward":i.Editor.deleteForward(g,{unit:"line"});break;case"deleteWordBackward":i.Editor.deleteBackward(g,{unit:"word"});break;case"deleteWordForward":i.Editor.deleteForward(g,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":i.Editor.insertBreak(g);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":n instanceof DataTransfer?W.insertData(g,n):"string"==typeof n&&i.Editor.insertText(g,n)}}},[u,a]);oe(()=>(b.current&&_e&&b.current.addEventListener("beforeinput",y),()=>{b.current&&_e&&b.current.removeEventListener("beforeinput",y)}),[y]);var w=Object(n.useCallback)(s()(()=>{if(!u&&!v.isComposing&&!v.isUpdatingSelection){var{activeElement:e}=window.document,t=W.toDOMNode(g,g),r=window.getSelection();if(e===t?(v.latestElement=e,j.set(g,!0)):j.delete(g),!r)return i.Transforms.deselect(g);var{anchorNode:n,focusNode:o}=r,a=Te(g,n)||Se(g,n),s=Te(g,o)||Se(g,o);if(a&&s){var l=W.toSlateRange(g,r);i.Transforms.select(g,l)}else i.Transforms.deselect(g)}},100),[u]);oe(()=>(window.document.addEventListener("selectionchange",w),()=>{window.document.removeEventListener("selectionchange",w)}),[w]);var _=r([g,[]]);if(l&&1===g.children.length&&1===Array.from(i.Node.texts(g)).length&&""===i.Node.string(g)){var O=i.Editor.start(g,[]);_.push({[R]:!0,placeholder:l,anchor:O,focus:O})}return o.a.createElement(X.Provider,{value:u},o.a.createElement(p,Object.assign({"data-gramm":!1,role:u?void 0:"textbox"},m,{spellCheck:_e?m.spellCheck:void 0,autoCorrect:_e?m.autoCorrect:void 0,autoCapitalize:_e?m.autoCapitalize:void 0,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!u||void 0,suppressContentEditableWarning:!0,ref:b,style:Ee({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},f),onBeforeInput:Object(n.useCallback)(e=>{if(!_e&&!u&&!Pe(e,m.onBeforeInput)&&Te(g,e.target)){e.preventDefault();var t=e.data;i.Editor.insertText(g,t)}},[u]),onBlur:Object(n.useCallback)(e=>{if(!u&&!v.isUpdatingSelection&&Te(g,e.target)&&!Pe(e,m.onBlur)&&v.latestElement!==window.document.activeElement){var{relatedTarget:t}=e;if(!(t===W.toDOMNode(g,g)||N(t)&&t.hasAttribute("data-slate-spacer"))){if(null!=t&&M(t)&&W.hasDOMNode(g,t)){var r=W.toSlateNode(g,t);if(i.Element.isElement(r)&&!g.isVoid(r))return}j.delete(g)}}},[u,m.onBlur]),onClick:Object(n.useCallback)(e=>{if(!u&&xe(g,e.target)&&!Pe(e,m.onClick)&&M(e.target)){var t=W.toSlateNode(g,e.target),r=W.findPath(g,t),n=i.Editor.start(g,r),o=i.Editor.end(g,r),a=i.Editor.void(g,{at:n}),s=i.Editor.void(g,{at:o});if(a&&s&&i.Path.equals(a[1],s[1])){var l=i.Editor.range(g,n);i.Transforms.select(g,l)}}},[u,m.onClick]),onCompositionEnd:Object(n.useCallback)(e=>{Te(g,e.target)&&!Pe(e,m.onCompositionEnd)&&(v.isComposing=!1,fe||de||!e.data||i.Editor.insertText(g,e.data))},[m.onCompositionEnd]),onCompositionStart:Object(n.useCallback)(e=>{Te(g,e.target)&&!Pe(e,m.onCompositionStart)&&(v.isComposing=!0)},[m.onCompositionStart]),onCopy:Object(n.useCallback)(e=>{Te(g,e.target)&&!Pe(e,m.onCopy)&&(e.preventDefault(),W.setFragmentData(g,e.clipboardData))},[m.onCopy]),onCut:Object(n.useCallback)(e=>{if(!u&&Te(g,e.target)&&!Pe(e,m.onCut)){e.preventDefault(),W.setFragmentData(g,e.clipboardData);var{selection:t}=g;t&&i.Range.isExpanded(t)&&i.Editor.deleteFragment(g)}},[u,m.onCut]),onDragOver:Object(n.useCallback)(e=>{if(xe(g,e.target)&&!Pe(e,m.onDragOver)){var t=W.toSlateNode(g,e.target);i.Editor.isVoid(g,t)&&e.preventDefault()}},[m.onDragOver]),onDragStart:Object(n.useCallback)(e=>{if(xe(g,e.target)&&!Pe(e,m.onDragStart)){var t=W.toSlateNode(g,e.target),r=W.findPath(g,t);if(i.Editor.void(g,{at:r})){var n=i.Editor.range(g,r);i.Transforms.select(g,n)}W.setFragmentData(g,e.dataTransfer)}},[m.onDragStart]),onDrop:Object(n.useCallback)(e=>{if(xe(g,e.target)&&!u&&!Pe(e,m.onDrop)&&(!_e||!fe&&e.dataTransfer.files.length>0)){e.preventDefault();var t=W.findEventRange(g,e),r=e.dataTransfer;i.Transforms.select(g,t),W.insertData(g,r)}},[u,m.onDrop]),onFocus:Object(n.useCallback)(e=>{if(!u&&!v.isUpdatingSelection&&Te(g,e.target)&&!Pe(e,m.onFocus)){var t=W.toDOMNode(g,g);if(v.latestElement=window.document.activeElement,de&&e.target!==t)return void t.focus();j.set(g,!0)}},[u,m.onFocus]),onKeyDown:Object(n.useCallback)(e=>{if(!u&&Te(g,e.target)&&!Pe(e,m.onKeyDown)){var{nativeEvent:t}=e,{selection:r}=g;if(ye.isRedo(t))return e.preventDefault(),void("function"==typeof g.redo&&g.redo());if(ye.isUndo(t))return e.preventDefault(),void("function"==typeof g.undo&&g.undo());if(ye.isMoveLineBackward(t))return e.preventDefault(),void i.Transforms.move(g,{unit:"line",reverse:!0});if(ye.isMoveLineForward(t))return e.preventDefault(),void i.Transforms.move(g,{unit:"line"});if(ye.isExtendLineBackward(t))return e.preventDefault(),void i.Transforms.move(g,{unit:"line",edge:"focus",reverse:!0});if(ye.isExtendLineForward(t))return e.preventDefault(),void i.Transforms.move(g,{unit:"line",edge:"focus"});if(ye.isMoveBackward(t))return e.preventDefault(),void(r&&i.Range.isCollapsed(r)?i.Transforms.move(g,{reverse:!0}):i.Transforms.collapse(g,{edge:"start"}));if(ye.isMoveForward(t))return e.preventDefault(),void(r&&i.Range.isCollapsed(r)?i.Transforms.move(g):i.Transforms.collapse(g,{edge:"end"}));if(ye.isMoveWordBackward(t))return e.preventDefault(),void i.Transforms.move(g,{unit:"word",reverse:!0});if(ye.isMoveWordForward(t))return e.preventDefault(),void i.Transforms.move(g,{unit:"word"});if(!_e){if(ye.isBold(t)||ye.isItalic(t)||ye.isTransposeCharacter(t))return void e.preventDefault();if(ye.isSplitBlock(t))return e.preventDefault(),void i.Editor.insertBreak(g);if(ye.isDeleteBackward(t))return e.preventDefault(),void(r&&i.Range.isExpanded(r)?i.Editor.deleteFragment(g):i.Editor.deleteBackward(g));if(ye.isDeleteForward(t))return e.preventDefault(),void(r&&i.Range.isExpanded(r)?i.Editor.deleteFragment(g):i.Editor.deleteForward(g));if(ye.isDeleteLineBackward(t))return e.preventDefault(),void(r&&i.Range.isExpanded(r)?i.Editor.deleteFragment(g):i.Editor.deleteBackward(g,{unit:"line"}));if(ye.isDeleteLineForward(t))return e.preventDefault(),void(r&&i.Range.isExpanded(r)?i.Editor.deleteFragment(g):i.Editor.deleteForward(g,{unit:"line"}));if(ye.isDeleteWordBackward(t))return e.preventDefault(),void(r&&i.Range.isExpanded(r)?i.Editor.deleteFragment(g):i.Editor.deleteBackward(g,{unit:"word"}));if(ye.isDeleteWordForward(t))return e.preventDefault(),void(r&&i.Range.isExpanded(r)?i.Editor.deleteFragment(g):i.Editor.deleteForward(g,{unit:"word"}))}}},[u,m.onKeyDown]),onPaste:Object(n.useCallback)(e=>{!Te(g,e.target)||Pe(e,m.onPaste)||_e&&!(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||u||(e.preventDefault(),W.insertData(g,e.clipboardData))},[u,m.onPaste])}),o.a.createElement(ue,{decorate:r,decorations:_,node:g,renderElement:c,renderLeaf:d,selection:g.selection})))},Ce=()=>[],xe=(e,t)=>M(t)&&W.hasDOMNode(e,t),Te=(e,t)=>M(t)&&W.hasDOMNode(e,t,{editable:!0}),Se=(e,t)=>{var r=xe(e,t)&&W.toSlateNode(e,t);return i.Editor.isVoid(e,r)},Pe=(e,t)=>!!t&&(t(e),e.isDefaultPrevented()||e.isPropagationStopped()),ke=(e,t)=>!!t&&(t(e),e.defaultPrevented)},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCard=function(e){return{type:n.ADD_CARD,card:e}},t.addNewCardInChapter=function(e,t){return{type:n.ADD_CARD_IN_CHAPTER,newCard:e,reorderIds:t}},t.editCard=function(e,t,r){return{type:n.EDIT_CARD_DETAILS,id:e,title:t,description:r}},t.editCardCoordinates=function(e,t,r,o){return{type:n.EDIT_CARD_COORDINATES,id:e,lineId:t,chapterId:r,bookId:o}},t.changeLine=function(e,t,r){return{type:n.CHANGE_LINE,id:e,lineId:t,bookId:r}},t.changeScene=function(e,t,r){return{type:n.CHANGE_SCENE,id:e,chapterId:t,bookId:r}},t.changeBook=function(e,t){return{type:n.CHANGE_BOOK,id:e,bookId:t}},t.reorderCardsWithinLine=function(e,t,r,o){return{type:n.REORDER_CARDS_WITHIN_LINE,chapterId:e,lineId:t,isSeries:r,ids:o}},t.reorderCardsInChapter=function(e,t,r,o,i,a){return{type:n.REORDER_CARDS_IN_CHAPTER,chapterId:e,lineId:t,isSeries:r,newOrderInChapter:o,newOrderWithinLine:i,newIdInChapter:a}},t.deleteCard=function(e){return{type:n.DELETE_CARD,id:e}},t.addCharacter=function(e,t){return{type:n.ATTACH_CHARACTER_TO_CARD,id:e,characterId:t}},t.addPlace=function(e,t){return{type:n.ATTACH_PLACE_TO_CARD,id:e,placeId:t}},t.addTag=function(e,t){return{type:n.ATTACH_TAG_TO_CARD,id:e,tagId:t}},t.removeCharacter=function(e,t){return{type:n.REMOVE_CHARACTER_FROM_CARD,id:e,characterId:t}},t.removePlace=function(e,t){return{type:n.REMOVE_PLACE_FROM_CARD,id:e,placeId:t}},t.removeTag=function(e,t){return{type:n.REMOVE_TAG_FROM_CARD,id:e,tagId:t}};var n=r(11)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),o=u(r(8)),i=u(r(618)),a=u(r(802)),s=u(r(27)),l=r(803);function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>{let t=null;return t=e.editable?n.default.createElement(i.default,{className:e.className,onChange:e.onChange,autoFocus:e.autofocus,text:e.description,darkMode:e.darkMode,fonts:(0,l.getFonts)(),recentFonts:(0,l.getRecent)(),addRecent:l.addRecent}):n.default.createElement(a.default,{text:e.description,className:e.className}),n.default.createElement(s.default,null,t)};c.propTypes={description:o.default.any,onChange:o.default.func,editable:o.default.bool,autofocus:o.default.bool,className:o.default.string,darkMode:o.default.bool.isRequired};var d=c;t.default=d},,function(e,t){e.exports=require("stream")},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortCardsInChapter=function(e,t,r,i){if(e){const e=i?"seriesLineId":"lineId",o=(0,n.default)(t,"positionWithinLine"),a=r.map(e=>e.id);return Object.keys(o).flatMap(t=>o[t].sort((t,r)=>a.indexOf(t[e])-a.indexOf(r[e])))}return(0,o.default)(t,"positionInChapter")},t.cardMapping=function(e,t,r,n){return e.reduce((e,o)=>(e[o.id]=function(e,t,r,n){return e.reduce((e,o)=>{if(function(e,t){return!!t&&e.id!=t}(o,n))return e;const i=r[`${o.id}-${t}`];return i?e.concat(i):e},[])}(t,o.id,r,n),e),{})},t.truncateTitle=function(e,t){return e.length<t?e:e.substr(0,t)+"..."};var n=i(r(131)),o=i(r(29));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortedTagsSelector=t.allTagsSelector=void 0;var n,o=(n=r(29))&&n.__esModule?n:{default:n},i=r(10);const a=e=>e.tags;t.allTagsSelector=a;const s=(0,i.createSelector)(a,e=>(0,o.default)(e,["title","id"]));t.sortedTagsSelector=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.charactersSortedAtoZSelector=t.visibleSortedCharactersByCategorySelector=t.characterFilterIsEmptySelector=t.charactersByCategorySelector=t.singleCharacterSelector=t.allCharactersSelector=void 0;var n=s(r(131)),o=s(r(29)),i=r(10),a=r(28);function s(e){return e&&e.__esModule?e:{default:e}}const l=e=>e.characters;t.allCharactersSelector=l;const u=(0,i.createSelector)(l,(e,t)=>t,(e,t)=>e.find(e=>e.id==t));t.singleCharacterSelector=u;const c=(0,i.createSelector)(l,e=>(0,n.default)(e,"categoryId"));t.charactersByCategorySelector=c;const d=(0,i.createSelector)(a.characterFilterSelector,e=>e.customAttributes.characters,(e,t)=>{if(!e)return!0;return![{name:"tag"},{name:"book"},{name:"category"},...t].some(t=>e[t.name]&&e[t.name].length)});t.characterFilterIsEmptySelector=d;const f=(0,i.createSelector)(l,c,a.characterFilterSelector,d,a.characterSortSelector,(e,t,r,n,i)=>{if(!e.length)return{};let a=t;return n||(a={},e.forEach(e=>{Object.keys(r).some(t=>r[t].some(r=>{if("tag"==t)return e.tags.includes(r);if("book"==t)return e.bookIds.includes(r);if("category"==t)return e.categoryId==r;if(""==r){if(!e[t]||""==e[t])return!0}else if(e[t]&&e[t]==r)return!0;return!1}))&&(a[e.categoryId]&&a[e.categoryId].length?a[e.categoryId].push(e):a[e.categoryId]=[e])})),function(e,t){let r=t.split("~"),n=r[0],i=r[1],a="name"===n?[n,"id"]:[n,"name"];return Object.keys(e).forEach(t=>{let r=e[t],n=(0,o.default)(r,a);"desc"==i&&n.reverse(),e[t]=n}),e}(a,i)});t.visibleSortedCharactersByCategorySelector=f;const p=(0,i.createSelector)(l,e=>(0,o.default)(e,"name"));t.charactersSortedAtoZSelector=p},,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chapterOneIsPrologue=function(e){return e[0].title==(0,o.default)("Prologue")},t.chapterTitle=function(e,t,r){return r?"auto"==e.title?(0,o.default)("Beat {number}",{number:e.position+t+1}):e.title:"auto"==e.title?(0,o.default)("Chapter {number}",{number:e.position+t+1}):e.title},t.editingChapterLabel=function(e,t,r){return r?(0,o.default)("Beat {number} title",{number:e.position+t+1}):(0,o.default)("Chapter {number} title",{number:e.position+t+1})},t.chapterPositionTitle=function(e,t,r){return r?(0,o.default)("Beat {number}",{number:e.position+t+1}):(0,o.default)("Chapter {number}",{number:e.position+t+1})},t.insertChapter=function(e,t,r,n){var o=Object.assign({},i.chapter,{id:r,bookId:n});return t.splice(e,0,o),t};var n,o=(n=r(5))&&n.__esModule?n:{default:n},i=r(18)},function(e,t,r){var n=r(179),o=r(260);r(68);String.prototype.replaceAll=function(e,t,r){var n=this.toString(),o=-1;if("string"==typeof e){if(!0!==r)return this.split(e).join(t);for(e.toLowerCase();-1!==(o=n.toLowerCase().indexOf(e,o>=0?o+t.length:0));)n=n.substring(0,o).concat(t).concat(n.substring(o+e.length))}return n},e.exports={dpi:300,twipsPerMM:56.6925562674,mm2twips:function(e){return Math.round(this.twipsPerMM*e)},isIndex:function(e){return!isNaN(e)&&e>=0},makeRtfCmd:function(e,t,r,n){e&&String(e).match(/\\\w+$/)&&t&&!String(t).match(/^\\/)&&(e+=" ");var o=[e,t,r].join("");return n&&!o.match(/^\{.*\}$/)&&(o="{"+o+"}"),o},getRTFSafeText:function(e){if("object"==typeof e&&e.hasOwnProperty("text")&&e.noEscape)return e.text;if("object"==typeof e)throw new Error("Expecting text, not object");return String(e).replaceAll("\\","\\\\").replaceAll("{","\\{").replaceAll("}","\\}").replaceAll("\n\r"," \\line ").replaceAll("\n"," \\line ").replaceAll("\r"," \\line ")},createColorTable:function(e){var t,r="";for(r+="{\\colortbl;\n",t=0;t<e.length;t++){var n=e[t];r+="\\red"+n.red+"\\green"+n.green+"\\blue"+n.blue+";\n"}return r+="}"},createFontTable:function(e){var t,r="";if(r+="{\\fonttbl;\n",0===e.length)r+="{\\f0 "+o.ARIAL+"}\n";else for(t=0;t<e.length;t++)r+="{\\f"+t+" "+e[t]+"}\n";return r+="}"},getColorPosition:function(e,t){var r=-1;return Array.isArray(e)&&t&&t instanceof n&&e.map((function(e,n){e.red===t.red&&e.green===t.green&&e.blue===t.blue&&(r=n)})),r}}},,,,,,,,,function(e,t){e.exports=require("os")},,function(e,t){e.exports=require("http")},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(1)),o=r(9),i=b(r(8)),a=r(13),s=r(15),l=y(r(360)),u=b(r(130)),c=b(r(3)),d=r(7),f=b(r(39)),p=b(r(5)),h=r(335),m=r(169),g=b(r(32));function b(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class E extends n.Component{constructor(...e){super(...e),w(this,"state",{}),w(this,"handleDragOver",e=>{e.preventDefault(),this.setState({inDropZone:!0})}),w(this,"handleDrop",e=>{e.stopPropagation(),e.preventDefault(),this.setState({inDropZone:!1});const{files:t}=e.dataTransfer;if(t&&t.length>0)for(const e of t)(0,h.readImage)(e,t=>{this.props.actions.addImage({data:t,name:e.name,path:e.path}),this.setState({tabId:"1",justAddedImage:!0})})}),w(this,"getFromURL",e=>{const t=e.target.value;(0,h.isImageUrl)(t)&&(this.setState({loading:!0}),(0,h.readImageFromURL)(t,e=>{this.props.actions.addImage({data:e,name:t,path:t}),setTimeout(()=>{this.setState({tabId:"1",justAddedImage:!0,loading:!1})},500)}))}),w(this,"renameFile",()=>{let e=(0,o.findDOMNode)(this.refs.fileName).value;this.props.actions.renameImage(this.state.selectedId,e),this.setState({editing:!1})}),w(this,"deleteImage",()=>{this.state.deleting&&(this.props.actions.deleteImage(this.state.selectedId),this.setState({deleting:!1,selectedId:null}))}),w(this,"close",()=>{this.setState({open:!1}),this.props.modalOnly&&this.props.close()}),w(this,"chooseImage",()=>{const{images:e}=this.props,{selectedId:t}=this.state,r=`${t}`;this.props.chooseImage(r,e[r].data),this.close()}),w(this,"chooseNoImage",()=>{this.props.chooseImage(-1),this.state.open&&this.close(),this.setState({selectedId:null})}),w(this,"uploadNewFile",e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];(0,h.readImage)(t,e=>{this.props.actions.addImage({data:e,name:t.name,path:t.path}),this.setState({tabId:"1",justAddedImage:!0})})}})}static getDerivedStateFromProps(e,t){const r=Object.keys(e.images).map(Number).sort((e,t)=>e-t).reverse();let n=null;return t.justAddedImage&&(n=r[0]),{tabId:t.tabId||"1",selectedId:n||t.selectedId||e.selectedId,open:e.modalOnly||t.open||!1,editing:t.editing||!1,inDropZone:t.inDropZone||!1,sortedIds:r,justAddedImage:!1,loading:t.loading||!1,deleting:t.deleting||null}}renderDelete(){if(!this.state.deleting)return null;const e=(0,p.default)("Do you want to remove this image? It will NOT be deleted from your computer");return n.default.createElement(g.default,{customText:e,onDelete:this.deleteImage,onCancel:()=>this.setState({deleting:!1})})}renderUpload(){return n.default.createElement(d.Row,null,n.default.createElement(d.Col,{xs:12},n.default.createElement("div",{className:(0,c.default)("image-picker__dropzone",{dropping:this.state.inDropZone}),onDrop:this.handleDrop,onDragOver:this.handleDragOver},n.default.createElement("h2",null,(0,p.default)("Drop a File Here")),n.default.createElement("p",null,(0,p.default)("or")),n.default.createElement(d.ControlLabel,{htmlFor:"fileUpload"},n.default.createElement("div",{className:"btn image-picker__upload-button"},n.default.createElement(d.Glyphicon,{glyph:"upload"})," ",(0,p.default)("Select a File"))),n.default.createElement(d.FormControl,{id:"fileUpload",type:"file",onChange:this.uploadNewFile}))))}renderURL(){return n.default.createElement(d.Row,null,n.default.createElement(d.Col,{xs:12},n.default.createElement("div",{className:"image-picker__url-wrapper"},n.default.createElement(d.FormGroup,{bsSize:"large"},n.default.createElement(d.ControlLabel,null,n.default.createElement("h6",null,(0,p.default)("Enter the URL of the link:"))),n.default.createElement(d.FormControl,{placeholder:(0,p.default)("URL"),type:"text",onChange:this.getFromURL})),this.state.loading?n.default.createElement(m.Spinner,null):null)))}renderGallery(){return n.default.createElement(d.Row,null,n.default.createElement(d.Col,{xs:9},n.default.createElement("div",{className:"image-picker__images-container"},this.renderImages())),n.default.createElement(d.Col,{xs:3},this.renderSidebar()))}renderTab(){switch(this.state.tabId){case"1":return this.renderGallery();case"2":return this.renderUpload();case"3":return this.renderURL()}}render(){const{darkMode:e,selectedId:t,iconOnly:r,modalOnly:o,deleteButton:i}=this.props;if(this.state.open)return n.default.createElement(u.default,{isOpen:!0,onRequestClose:this.close},n.default.createElement("div",{className:(0,c.default)("image-picker__wrapper",{darkmode:e})},n.default.createElement("div",{className:"image-picker__header"},n.default.createElement("div",{className:"pull-right"},n.default.createElement(d.Button,{bsStyle:"success",onClick:this.chooseImage,disabled:!this.state.selectedId},(0,p.default)("Choose")),n.default.createElement(d.Button,{onClick:this.close,style:{marginLeft:"12px"}},(0,p.default)("Cancel"))),n.default.createElement(d.Nav,{bsStyle:"tabs",activeKey:this.state.tabId,onSelect:e=>this.setState({tabId:e})},n.default.createElement(d.NavItem,{eventKey:"1"},n.default.createElement("span",{className:"image-picker__title"},(0,p.default)("Image Gallery"))),n.default.createElement(d.NavItem,{eventKey:"2"},n.default.createElement("span",{className:"image-picker__title"},(0,p.default)("Upload Files"))),n.default.createElement(d.NavItem,{eventKey:"3"},n.default.createElement("span",{className:"image-picker__title"},(0,p.default)("Insert from URL"))))),n.default.createElement("div",{className:"image-picker__body"},n.default.createElement(d.Grid,{fluid:!0},this.renderTab()))));{let e=r?null:` ${(0,p.default)("Choose an image")}`,o=n.default.createElement(d.Button,{title:(0,p.default)("Choose an image"),onClick:()=>this.setState({open:!0})},n.default.createElement(d.Glyphicon,{glyph:"picture"}),e);if(t&&-1!=t&&i){let e=r?null:` ${(0,p.default)("Remove")}`;return n.default.createElement(d.ButtonGroup,null,o,n.default.createElement(d.Button,{bsStyle:"warning",title:(0,p.default)("Remove image"),onClick:this.chooseNoImage},n.default.createElement(d.Glyphicon,{glyph:"ban-circle"}),e))}return o}}renderName(e){return this.state.editing?n.default.createElement(d.FormGroup,null,n.default.createElement(d.FormControl,{type:"text",defaultValue:e,ref:"fileName"}),n.default.createElement(d.Button,{onClick:this.renameFile},(0,p.default)("Rename"))):n.default.createElement("p",null,e)}renderToolbar(){return this.state.editing?null:n.default.createElement(d.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(d.Button,{onClick:()=>this.setState({editing:!0})},(0,p.default)("Rename")),n.default.createElement(d.Button,{bsStyle:"danger",onClick:()=>this.setState({deleting:!0})},(0,p.default)("Delete")))}renderImages(){const{sortedIds:e,selectedId:t}=this.state;return console.log("renderImages",t),e.map(e=>{const r=t==e;console.log("renderImages",t,e,r);const o=(0,c.default)("image-picker__image-wrapper",{selected:r});return n.default.createElement("div",{key:e,className:o,onClick:()=>this.setState({selectedId:r?null:e})},n.default.createElement(f.default,{imageId:e,shape:"square",size:"large"}))})}renderSidebar(){const{images:e}=this.props,{selectedId:t}=this.state,r=e[`${t}`];let o=null;return r&&(o=n.default.createElement("div",null,n.default.createElement("h6",null,(0,p.default)("Image Details")),n.default.createElement(f.default,{imageId:t,responsive:!0}),n.default.createElement("div",{className:"image-picker__sidebar-tools"},this.renderDelete(),this.renderName(r.name),this.renderToolbar()))),n.default.createElement("div",{className:"image-picker__sidebar"},o)}}E.propTypes={chooseImage:i.default.func.isRequired,selectedId:i.default.oneOfType([i.default.string,i.default.number]),darkMode:i.default.bool,iconOnly:i.default.bool,modalOnly:i.default.bool,deleteButton:i.default.bool,close:i.default.func};var _=(0,a.connect)((function(e){return{images:e.present.images,darkMode:e.present.ui.darkMode}}),(function(e){return{actions:(0,s.bindActionCreators)(l,e)}}))(E);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visibleCardsSelector=t.cardMapSelector=t.nextCardIdSelector=t.allCardsSelector=void 0;var n,o=(n=r(29))&&n.__esModule?n:{default:n},i=r(10),a=r(28),s=r(22);const l=e=>e.cards;t.allCardsSelector=l;const u=(0,i.createSelector)(l,e=>(0,s.nextId)(e));t.nextCardIdSelector=u;const c=(0,i.createSelector)(l,a.isSeriesSelector,(e,t)=>t?e.reduce(f("seriesLineId","beatId"),{}):e.reduce(f("lineId","chapterId"),{}));t.cardMapSelector=c;const d=(0,i.createSelector)(l,a.timelineFilterSelector,a.timelineFilterIsEmptySelector,(e,t,r)=>e.reduce((e,n)=>(e[n.id]=function(e,t,r){return!!r||Object.keys(t).some(r=>t[r].some(t=>"tag"==r?e.tags.includes(t):"character"==r?e.characters.includes(t):"place"==r&&e.places.includes(t)))}(n,t,r),e),{}));function f(e,t){return(r,n)=>{const i=r[`${n[e]}-${n[t]}`];if(i&&i.length){const a=[...i,n],s=(0,o.default)(a,"positionWithinLine");r[`${n[e]}-${n[t]}`]=s}else r[`${n[e]}-${n[t]}`]=[n];return r}}t.visibleCardsSelector=d},,,,,,,,function(e,t){e.exports=require("events")},function(e,t){e.exports=require("https")},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addScene=function(e){return{type:n.ADD_SCENE,title:o.chapter.title,bookId:e}},t.editSceneTitle=function(e,t){return{type:n.EDIT_SCENE_TITLE,id:e,title:t}},t.reorderScenes=function(e,t){return{type:n.REORDER_SCENES,chapters:e,bookId:t}},t.deleteScene=function(e,t){return{type:n.DELETE_SCENE,id:e,bookId:t}},t.autoSortChapter=function(e){return{type:n.AUTO_SORT_CHAPTER,id:e}};var n=r(11),o=r(18)},,,function(e,t){e.exports=require("net")},function(e,t){e.exports=require("punycode")},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlottrModal=c,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=s(r(361)),i=s(r(3)),a=r(13);function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}const u={};function c({isDarkMode:e,children:t,styles:r=u,...a}){const s=(0,n.useMemo)(()=>({overlay:{...o.default.defaultStyles.overlay,...r.overlay},content:{...o.default.defaultStyles.content,top:"70px",...r.content}}),[r]);return n.default.createElement(o.default,Object.assign({},a,{styles:s,classNames:(0,i.default)({darkmode:e})}),t)}var d=(0,a.connect)(e=>({isDarkMode:e.present.ui.darkMode}))(c);t.default=d},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visibleSortedPlacesSelector=t.placeFilterIsEmptySelector=t.placesSortedAtoZSelector=t.placeCustomAttributesSelector=t.allPlacesSelector=void 0;var n,o=(n=r(29))&&n.__esModule?n:{default:n},i=r(10),a=r(28);const s=e=>e.places;t.allPlacesSelector=s;const l=e=>e.customAttributes.places;t.placeCustomAttributesSelector=l;const u=(0,i.createSelector)(s,e=>(0,o.default)(e,"name"));t.placesSortedAtoZSelector=u;const c=(0,i.createSelector)(a.placeFilterSelector,l,(e,t)=>{if(!e)return!0;return![{name:"tag"},{name:"book"},...t].some(t=>e[t.name]&&e[t.name].length)});t.placeFilterIsEmptySelector=c;const d=(0,i.createSelector)(s,a.placeFilterSelector,c,a.placeSortSelector,(e,t,r,n)=>{if(!e.length)return[];let i=e;r||(i=[],i=e.filter(e=>Object.keys(t).some(r=>t[r].some(t=>{if("tag"==r)return e.tags.includes(t);if("book"==r)return e.bookIds.includes(t);if(""==t){if(!e[r]||""==e[r])return!0}else if(e[r]&&e[r]==t)return!0;return!1}))));let a=n.split("~"),s=a[0],l=a[1],u="name"===s?[s,"id"]:[s,"name"],c=(0,o.default)(i,u);return"desc"==l&&c.reverse(),c});t.visibleSortedPlacesSelector=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCharacter=function(e){return{type:n.ADD_CHARACTER,name:e||o.character.name,description:o.character.description,notes:o.character.notes}},t.addCharacterWithTemplate=function(e,t){return{type:n.ADD_CHARACTER_WITH_TEMPLATE,name:e||o.character.name,description:o.character.description,notes:o.character.notes,templateData:t}},t.editCharacter=function(e,t){return{type:n.EDIT_CHARACTER,id:e,attributes:t}},t.deleteCharacter=function(e){return{type:n.DELETE_CHARACTER,id:e}},t.addTag=function(e,t){return{type:n.ATTACH_TAG_TO_CHARACTER,id:e,tagId:t}},t.removeTag=function(e,t){return{type:n.REMOVE_TAG_FROM_CHARACTER,id:e,tagId:t}},t.addBook=function(e,t){return{type:n.ATTACH_BOOK_TO_CHARACTER,id:e,bookId:t}},t.removeBook=function(e,t){return{type:n.REMOVE_BOOK_FROM_CHARACTER,id:e,bookId:t}};var n=r(11),o=r(18)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLine=function(e){return{type:n.ADD_LINE,bookId:e}},t.addLinesFromTemplate=function(e,t,r,o,i){return{type:n.ADD_LINES_FROM_TEMPLATE,cards:e,lines:t,chapters:r,bookId:o,template:i}},t.editLineTitle=function(e,t){return{type:n.EDIT_LINE_TITLE,id:e,title:t}},t.editLineColor=function(e,t){return{type:n.EDIT_LINE_COLOR,id:e,color:t}},t.reorderLines=function(e,t){return{type:n.REORDER_LINES,lines:e,bookId:t}},t.deleteLine=function(e,t){return{type:n.DELETE_LINE,id:e,bookId:t}},t.expandLine=function(e){return{type:n.EXPAND_LINE,id:e}},t.collapseLine=function(e){return{type:n.COLLAPSE_LINE,id:e}};var n=r(11)},function(e,t,r){r(179),r(260),r(415);var n=r(91),o=r(416);var i=r(68)({__constructor:function(e){Object.assign(this,i.defaultOptions,e)},updateTables:function(e){var t=e.colorTable,r=e.fontTable;this.fontPos=r.indexOf(this.font),this.fontPos<0&&void 0!==this.font&&this.font&&(this.fontPos=r.length,r.push(this.font)),[{obj:this,key:"color"},{obj:this,key:"bgColor"},{obj:this,key:"borderColor"},{obj:this,key:"cellBgColor"},{obj:this.border,key:"color"},{obj:this.borderLeft,key:"color"},{obj:this.borderRight,key:"color"},{obj:this.borderTop,key:"color"},{obj:this.borderBottom,key:"color"},{obj:this.cellBorder,key:"color"},{obj:this.cellBorderLeft,key:"color"},{obj:this.cellBorderRight,key:"color"},{obj:this.cellBorderTop,key:"color"},{obj:this.cellBorderBottom,key:"color"},{obj:this.rowBorderLeft,key:"color"},{obj:this.rowBorderRight,key:"color"},{obj:this.rowBorderTop,key:"color"},{obj:this.rowBorderBottom,key:"color"},{obj:this.rowBorderHorizontal,key:"color"},{obj:this.rowBorderVertical,key:"color"}].map(e=>{var r=e.obj,o=e.key;if(r&&"object"==typeof r&&r[o]){var i=o+"Pos";r[i]=n.getColorPosition(t,r[o]),r[i]<0&&r[o]&&(r[i]=t.length,t.push(r[o]))}})},formatText:function(e,t,r){r=r||{},this.updateTables(t);var i=this instanceof o?this:new o(this),a=i.compile(r);r.noEscape||"string"!=typeof e||(e=n.getRTFSafeText(e)),e=n.makeRtfCmd(a,e);var s=i.applyWrappers(e,r);return r.wrapInCurles&&!s.match(/^\{.*\}$/)&&(s="{"+s+"}"),s}},{defaultOptions:{}});e.exports=i},function(e,t,r){var n=r(136),o=r(68)({__constructor:function(e){!e||"object"!=typeof e||e instanceof n||(e=new n(e)),e&&void 0!==e||(e=new n),this.format=e},getRTFCode:function(e){return""}});e.exports=o},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)a["f"+s]=111+s;function l(e,t,r){!t||"byKey"in t||(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return u(e,t)})),o=function(e){return n.some((function(t){return c(t,e)}))};return null==r?o:o(r)}function u(e,t){var r=t&&t.byKey,n={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var s in o)n[o[s]]=!1;var l=!0,u=!1,c=void 0;try{for(var p,h=i[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var m=p.value,g=m.endsWith("?")&&m.length>1;g&&(m=m.slice(0,-1));var b=f(m),v=o[b];1!==a&&v||(r?n.key=b:n.which=d(m)),v&&(n[v]=!g||null)}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}return n}function c(e,t){for(var r in e){var n=e[r],o=void 0;if(null!=n&&((null!=(o="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&o!==n))return!1}return!0}function d(e){return e=f(e),a[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=i[e]||e}t.default=l,t.isHotkey=l,t.isCodeHotkey=function(e,t){return l(e,t)},t.isKeyHotkey=function(e,t){return l(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=c,t.toKeyCode=d,t.toKeyName=f},,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addBeat=function(){return{type:n.ADD_BEAT,title:o.beat.title}},t.editBeatTitle=function(e,t){return{type:n.EDIT_BEAT_TITLE,id:e,title:t}},t.reorderBeats=function(e){return{type:n.REORDER_BEATS,beats:e}},t.deleteBeat=function(e){return{type:n.DELETE_BEAT,id:e}},t.autoSortBeat=function(e){return{type:n.AUTO_SORT_BEAT,id:e}};var n=r(11),o=r(18)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTextConverter=function(e){let t=e;e&&e.length&&"string"!=typeof e||(t=(0,o.default)(a.RCE_INITIAL_VALUE));"string"==typeof e&&(t[0].children[0].text=e);return t},t.HEADING_TYPES=t.LIST_TYPES=void 0;var n,o=(n=r(74))&&n.__esModule?n:{default:n},i=r(4),a=r(18);const s=["numbered-list","bulleted-list"];t.LIST_TYPES=s;t.HEADING_TYPES=["heading-one","heading-two"],i.Editor.previousSibling=(e,t)=>{if(null==t)return;const r=t[t.length-1];if(0===r)return;const n=[...t.slice(0,t.length-1),r-1];return i.Editor.node(e,n)},i.Editor.nextSibling=(e,t)=>{if(null==t)return;const r=t[t.length-1],n=[...t.slice(0,t.lenght-1),r+1];try{return i.Editor.node(e,n)}catch(e){return null}},i.Editor.isInList=(e,t)=>{try{const[r,n]=i.Editor.parent(e,t);return!!s.includes(r.type)||i.Editor.isInList(e,n)}catch(e){return!1}},i.Editor.parentOfType=(e,t,{match:r})=>{try{const[n,o]=i.Editor.parent(e,t);return r(n)?[n,o]:i.Editor.parentOfType(e,o,{match:r})}catch(e){return[]}}},,,,,,,,,,,function(e,t){e.exports=require("querystring")},,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeCustomAttributesRestrictedValues=t.characterCustomAttributesRestrictedValues=t.placeCustomAttributesThatCanChangeSelector=t.characterCustomAttributesThatCanChangeSelector=t.placeSortCAnamesSelector=t.characterSortCAnamesSelector=t.placeCustomAttributesSelector=t.characterCustomAttributesSelector=t.allCustomAttributesSelector=void 0;var n=r(10),o=r(81),i=r(133),a=r(18);const s=Object.keys(a.character),l=Object.keys(a.place);t.allCustomAttributesSelector=e=>e.customAttributes;const u=e=>e.customAttributes.characters;t.characterCustomAttributesSelector=u;const c=e=>e.customAttributes.places;t.placeCustomAttributesSelector=c;const d=(0,n.createSelector)(u,e=>e.filter(e=>"text"==e.type).map(e=>e.name));t.characterSortCAnamesSelector=d;const f=(0,n.createSelector)(c,e=>e.filter(e=>"text"==e.type).map(e=>e.name));t.placeSortCAnamesSelector=f;const p=(0,n.createSelector)(o.allCharactersSelector,u,(e,t)=>t.reduce((t,r)=>{if("text"==r.type)return t.push(r.name),t;return e.every(e=>m(e,r.name))&&t.push(r.name),t},[]));t.characterCustomAttributesThatCanChangeSelector=p;const h=(0,n.createSelector)(i.allPlacesSelector,c,(e,t)=>t.reduce((t,r)=>{if("text"==r.type)return t.push(r.name),t;return e.every(e=>m(e,r.name))&&t.push(r.name),t},[]));function m(e,t){const r=e[t];return!r||("string"==typeof r||(!r.length||!(r.length>1)&&(!(r[0].children.length>1)&&""==r[0].children[0].text)))}t.placeCustomAttributesThatCanChangeSelector=h;const g=(0,n.createSelector)(u,e=>s.concat(e.map(e=>e.name)));t.characterCustomAttributesRestrictedValues=g;const b=(0,n.createSelector)(c,e=>l.concat(e.map(e=>e.name)));t.placeCustomAttributesRestrictedValues=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=u(r(8)),i=r(7),a=u(r(208)),s=u(r(5)),l=u(r(39));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}class d extends n.Component{renderSelected(){let e;return e="Tags"===this.props.type?this.renderSelectedTags():this.renderSelectedItems(),n.default.createElement("div",{className:"chip-cloud"},e)}renderSelectedTags(){return this.props.selectedItems?this.props.selectedItems.map(e=>{var t=this.props.allItems.find(t=>t.id==e);return t?n.default.createElement("div",{key:e,className:"tag-chip"},n.default.createElement(a.default,{tag:t}),n.default.createElement(i.Glyphicon,{glyph:"remove",onClick:()=>this.props.remove(this.props.parentId,e)})):null}):null}renderSelectedItems(){return this.props.selectedItems?this.props.selectedItems.map(e=>{var t=this.props.allItems.find(t=>t.id==e);return t?n.default.createElement("div",{key:e,className:"chip"},n.default.createElement(l.default,{size:"xs",shape:"circle",imageId:t.imageId}),n.default.createElement("span",null,t.name),n.default.createElement(i.Glyphicon,{glyph:"remove",onClick:()=>this.props.remove(this.props.parentId,e)})):null}):null}renderUnSelected(){const e=this.props.type,t=this.props.selectedItems?this.props.allItems.filter(e=>!this.props.selectedItems.includes(e.id)):this.props.allItems;let r=n.default.createElement("small",null,n.default.createElement("i",null,(0,s.default)("no more to add")));t.length>0&&(r=t.map(t=>{let r=n.default.createElement("span",null);return"Tags"===e&&(r=n.default.createElement("span",{className:"colored",style:{backgroundColor:t.color}})),n.default.createElement("li",{key:`${e}-${t.id}`,onClick:()=>this.props.add(this.props.parentId,t.id)},r,t.name||t.title)}));let o="";switch(e){case"Characters":o=(0,s.default)("Characters list");break;case"Places":o=(0,s.default)("Places list");break;case"Tags":o=(0,s.default)("Tags list")}return n.default.createElement(i.Popover,{id:"list-popover",title:o},n.default.createElement("ul",{className:"select-list__item-select-list"},r))}render(){let e="";switch(this.props.type){case"Characters":e=(0,s.default)("Characters");break;case"Places":e=(0,s.default)("Places");break;case"Tags":e=(0,s.default)("Tags")}return n.default.createElement("div",{className:"select-list__wrapper"},n.default.createElement("label",{className:"select-list__details-label"},e,":",n.default.createElement(i.OverlayTrigger,{trigger:"click",rootClose:!0,placement:"right",overlay:this.renderUnSelected()},n.default.createElement(i.Button,{ref:"characterList",bsSize:"xsmall"},n.default.createElement(i.Glyphicon,{glyph:"plus"})))),this.renderSelected())}}t.default=d,d.propTypes={parentId:o.default.number.isRequired,type:o.default.string.isRequired,add:o.default.func.isRequired,remove:o.default.func.isRequired,selectedItems:o.default.array.isRequired,allItems:o.default.array.isRequired}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLine=function(){return{type:n.ADD_SERIES_LINE}},t.addLinesFromTemplate=function(e,t){return{type:n.ADD_SERIES_LINES_FROM_TEMPLATE,cards:e,lines:t}},t.editLineTitle=function(e,t){return{type:n.EDIT_SERIES_LINE_TITLE,id:e,title:t}},t.editLineColor=function(e,t){return{type:n.EDIT_SERIES_LINE_COLOR,id:e,color:t}},t.reorderLines=function(e){return{type:n.REORDER_SERIES_LINES,lines:e}},t.deleteLine=function(e){return{type:n.DELETE_SERIES_LINE,id:e}},t.expandLine=function(e){return{type:n.EXPAND_SERIES_LINE,id:e}},t.collapseLine=function(e){return{type:n.COLLAPSE_SERIES_LINE,id:e}};var n=r(11)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"horizontal"===t?e:`vertical-${e}`}},,function(e,t,r){"use strict";var n=r(1),o=r(924);if(void 0===n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new n.Component).updater;e.exports=o(n.Component,n.isValidElement,i)},function(e,t){e.exports=function(e,t,r){this.red=e,this.green=t,this.blue=r}},,,,,,function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function a(e,t,r){return e.concat(t).map((function(e){return i(e,r)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t){try{return t in e}catch(e){return!1}}function u(e,t,r){var n={};return r.isMergeableObject(e)&&s(e).forEach((function(t){n[t]=i(e[t],r)})),s(t).forEach((function(o){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(l(e,o)&&r.isMergeableObject(t[o])?n[o]=function(e,t){if(!t.customMerge)return c;var r=t.customMerge(e);return"function"==typeof r?r:c}(o,r)(e[o],t[o],r):n[o]=i(t[o],r))})),n}function c(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(t);return o===Array.isArray(e)?o?r.arrayMerge(e,t,r):u(e,t,r):i(t,r)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return c(e,r,t)}),{})};var d=c;e.exports=d},,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),i=(n=r(8))&&n.__esModule?n:{default:n},a=r(7),s=r(617);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}class u extends o.Component{render(){const{tag:e}=this.props;let t={backgroundColor:"white",color:"#16222d",border:"1px solid #16222d"};if(e.color){const[r,n]=(0,s.getContrastYIQ)(e.color);r?t.backgroundColor=e.color:t={backgroundColor:e.color},n<200&&(t.border="none")}return o.default.createElement(a.Label,{bsStyle:"info",style:t},e.title)}}u.propTypes={tag:i.default.object.isRequired};var c=u;t.default=c},,,,,,,,,,,,,,,,function(e,t){e.exports=require("buffer")},,,,,,,,function(e,t){e.exports=require("tls")},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var n,o=r(274);var i=((n=o)&&n.__esModule?n:{default:n}).default,a=i.canUseDOM?window.HTMLElement:{};t.canUseDOM=i.canUseDOM;t.default=a},,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),i=(n=r(8))&&n.__esModule?n:{default:n},a=r(7);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends o.Component{constructor(...e){super(...e),l(this,"filterItem",e=>{var t=this.props.filteredItems;if(t.includes(e)){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}else t.push(e);this.props.updateItems(t)}),l(this,"filterList",e=>{var t=this.props.filteredItems;t=t.length?[]:e.map(e=>e.id),this.props.updateItems(t)})}isChecked(e){return this.props.filteredItems.includes(e)}renderFilterList(e,t){var r=e.map(e=>this.renderFilterItem(e,t));return o.default.createElement("ul",{className:"filter-list__list"},r)}renderFilterItem(e,t){if(!e)return null;var r="unchecked";return this.isChecked(e.id)&&(r="eye-open"),o.default.createElement("li",{key:e.id,onMouseDown:()=>this.filterItem(e.id)},o.default.createElement(a.Glyphicon,{glyph:r})," ",e[t])}render(){const{title:e,items:t,displayAttribute:r}=this.props;return o.default.createElement("div",null,o.default.createElement("p",{onClick:()=>this.filterList(t)},o.default.createElement("em",null,e)),this.renderFilterList(t,r))}}t.default=u,u.propTypes={items:i.default.array.isRequired,title:i.default.string.isRequired,displayAttribute:i.default.string.isRequired,updateItems:i.default.func.isRequired,filteredItems:i.default.array}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCharacterAttr=function(e){return{type:n.ADD_CHARACTER_ATTRIBUTE,attribute:e}},t.removeCharacterAttr=function(e){return{type:n.REMOVE_CHARACTER_ATTRIBUTE,attribute:e}},t.editCharacterAttr=function(e,t,r){return{type:n.EDIT_CHARACTER_ATTRIBUTE,index:e,oldAttribute:t,newAttribute:r}},t.addPlaceAttr=function(e){return{type:n.ADD_PLACES_ATTRIBUTE,attribute:e}},t.removePlaceAttr=function(e){return{type:n.REMOVE_PLACES_ATTRIBUTE,attribute:e}},t.editPlaceAttr=function(e,t,r){return{type:n.EDIT_PLACES_ATTRIBUTE,index:e,oldAttribute:t,newAttribute:r}},t.addCardAttr=function(e){return{type:n.ADD_CARDS_ATTRIBUTE,attribute:e}},t.removeCardAttr=function(e){return{type:n.REMOVE_CARDS_ATTRIBUTE,attribute:e}},t.addLineAttr=function(e){return{type:n.ADD_LINES_ATTRIBUTE,attribute:e}},t.removeLineAttr=function(e){return{type:n.REMOVE_LINES_ATTRIBUTE,attribute:e}},t.addSceneAttr=function(e){return{type:n.ADD_SCENES_ATTRIBUTE,attribute:e}},t.removeSceneAttr=function(e){return{type:n.REMOVE_SCENES_ATTRIBUTE,attribute:e}},t.reorderCharacterAttribute=function(e,t){return{type:n.REORDER_CHARACTER_ATTRIBUTE,attribute:e,toIndex:t}},t.reorderPlacesAttribute=function(e,t){return{type:n.REORDER_PLACES_ATTRIBUTE,attribute:e,toIndex:t}};var n=r(11)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i,a=g(r(874)),s=m(r(1)),l=g(r(8)),u=r(13),c=(r(15),m(r(47)),r(7)),d=g(r(5)),f=g(r(39)),p=g(r(3));function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function g(e){return e&&e.__esModule?e:{default:e}}class b extends s.Component{renderUnSelected(){const{selectedBooks:e,books:t,parentId:r,add:n}=this.props,o=(0,a.default)(t.allIds,e);let i=s.default.createElement("small",null,s.default.createElement("i",null,(0,d.default)("no more to add")));o.length&&(i=o.map(e=>s.default.createElement("li",{key:`book-${e}`,onClick:()=>n(r,e)},t[e].title||(0,d.default)("Untitled"))));const l=!e.includes("series");return s.default.createElement(c.Popover,{id:"list-popover",title:""},s.default.createElement("ul",{className:(0,p.default)("select-list__item-select-list",{"series-select":l})},l?s.default.createElement("li",{key:"book-series",className:"series",onClick:()=>n(r,"series")},(0,d.default)("Series")):null,i))}renderSelected(){return this.props.selectedBooks.map(e=>{if("series"==e)return s.default.createElement("div",{key:e,className:"chip"},s.default.createElement("span",null,(0,d.default)("Series")),s.default.createElement(c.Glyphicon,{glyph:"remove",onClick:()=>this.props.remove(this.props.parentId,e)}));{let t=this.props.books[e];return t?s.default.createElement("div",{key:e,className:"chip"},s.default.createElement(f.default,{size:"xs",shape:"circle",imageId:t.imageId}),s.default.createElement("span",null,t.title||(0,d.default)("Untitled")),s.default.createElement(c.Glyphicon,{glyph:"remove",onClick:()=>this.props.remove(this.props.parentId,e)})):null}})}render(){return s.default.createElement("div",{className:"select-list__wrapper"},s.default.createElement("label",{className:"select-list__details-label"},(0,d.default)("Books"),":",s.default.createElement(c.OverlayTrigger,{trigger:"click",rootClose:!0,placement:"right",overlay:this.renderUnSelected()},s.default.createElement(c.Button,{ref:"characterList",bsSize:"xsmall"},s.default.createElement(c.Glyphicon,{glyph:"plus"})))),this.renderSelected())}}n=b,o="propTypes",i={parentId:l.default.number.isRequired,add:l.default.func.isRequired,remove:l.default.func.isRequired,selectedBooks:l.default.array.isRequired,books:l.default.object.isRequired,ui:l.default.object.isRequired},o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i;var v=(0,u.connect)((function(e){return{ui:e.present.ui,books:e.present.books,series:e.present.series}}),(function(e){return{}}))(b);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPlace=function(){return{type:n.ADD_PLACE,name:o.place.name,description:o.place.description,notes:o.place.notes}},t.editPlace=function(e,t){return{type:n.EDIT_PLACE,id:e,attributes:t}},t.deletePlace=function(e){return{type:n.DELETE_PLACE,id:e}},t.addTag=function(e,t){return{type:n.ATTACH_TAG_TO_PLACE,id:e,tagId:t}},t.removeTag=function(e,t){return{type:n.REMOVE_TAG_FROM_PLACE,id:e,tagId:t}},t.addBook=function(e,t){return{type:n.ATTACH_BOOK_TO_PLACE,id:e,bookId:t}},t.removeBook=function(e,t){return{type:n.REMOVE_BOOK_FROM_PLACE,id:e,bookId:t}};var n=r(11),o=r(18)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNote=function(){return{type:n.ADD_NOTE,title:o.note.title,content:o.note.content}},t.editNote=function(e,t){return{type:n.EDIT_NOTE,id:e,attributes:t}},t.deleteNote=function(e){return{type:n.DELETE_NOTE,id:e}},t.addCharacter=function(e,t){return{type:n.ATTACH_CHARACTER_TO_NOTE,id:e,characterId:t}},t.addPlace=function(e,t){return{type:n.ATTACH_PLACE_TO_NOTE,id:e,placeId:t}},t.addTag=function(e,t){return{type:n.ATTACH_TAG_TO_NOTE,id:e,tagId:t}},t.addBook=function(e,t){return{type:n.ATTACH_BOOK_TO_NOTE,id:e,bookId:t}},t.removeCharacter=function(e,t){return{type:n.REMOVE_CHARACTER_FROM_NOTE,id:e,characterId:t}},t.removePlace=function(e,t){return{type:n.REMOVE_PLACE_FROM_NOTE,id:e,placeId:t}},t.removeTag=function(e,t){return{type:n.REMOVE_TAG_FROM_NOTE,id:e,tagId:t}},t.removeBook=function(e,t){return{type:n.REMOVE_BOOK_FROM_NOTE,id:e,bookId:t}};var n=r(11),o=r(18)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isZoomed=function({zoomState:e,zoomIndex:t}){return null!=t&&null!=t&&(e!==n.INITIAL_ZOOM_STATE||t<n.INITIAL_ZOOM_INDEX)},t.isZoomedOut=function({zoomState:e,zoomIndex:t}){return null!=t&&null!=t&&(e!==n.INITIAL_ZOOM_STATE||t>n.INITIAL_ZOOM_INDEX)},t.computeZoom=function(e,{zoomIndex:t,zoomState:r,orientation:o}){let i=n.ZOOM_STATES[t];e&&r===n.FIT_ZOOM_STATE&&(i="horizontal"===o?(window.outerWidth-10)/e.scrollWidth:(window.outerHeight-150)/e.scrollHeight);return`scale(${i}, ${i})`},t.computeZoomMultiplier=function(e,{zoomIndex:t,zoomState:r}){let o=n.ZOOM_STATES[t];if("horizontal"==e)return 1/o;if("vertical"==e)return.99},t.computeZoomOutMultiplier=function(e,{zoomIndex:t,zoomState:r}){return 1};var n=r(55)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addBook=function(){return{type:n.ADD_BOOK,book:o.book}},t.editBook=function(e,t){return{type:n.EDIT_BOOK,id:e,attributes:t}},t.deleteBook=function(e){return{type:n.DELETE_BOOK,id:e}},t.reorderBooks=function(e){return{type:n.REORDER_BOOKS,ids:e}};var n=r(11),o=r(18)},function(e,t){e.exports=function(e){return Object.prototype.toString.call(e).slice(8,-1)}},,,,,function(e,t){e.exports={ARIAL:"Arial",COMIC_SANS:"Comic Sans MS",GEORGIA:"Georgia",IMPACT:"Impact",TAHOMA:"Tahoma",HELVETICA:"Helvetica",VERDANA:"Verdana",COURIER_NEW:"Courier New",PALATINO:"Palatino Linotype",TIMES_NEW_ROMAN:"Times New Roman"}},,,,,,,,,,,,,,function(e,t,r){var n;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r,n){return"boolean"==typeof e?e:"function"==typeof e?e(t,r,n):!(!0!=!!e||!e)},o=function(e,t){return Object.hasOwnProperty.call(e,t)},i=function(e,t,r,n){return n?new Error(n):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+r+"`.")};t.default=function(e,t,r){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,r),function(a,s,l){for(var u=arguments.length,c=Array(3<u?u-3:0),d=3;d<u;d++)c[d-3]=arguments[d];return n(t,a,s,l)?o(a,s)?e.apply(void 0,[a,s,l].concat(c)):i(a,s,l,r):e.apply(void 0,[a,s,l].concat(c))}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){if("string"!=typeof e)return!1;var t=e.match(r);if(!t)return!1;var i=t[1];if(!i)return!1;if(n.test(i)||o.test(i))return!0;return!1};var r=/^(?:\w+:)?\/\/(\S+)$/,n=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,o=/^[^\s\.]+\.\S{2,}$/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.testIds=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=s(r(8)),i=r(7),a=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=(0,s(r(430)).default)();t.testIds=c;class d extends n.Component{constructor(...e){super(...e),u(this,"state",{inputValue:""}),u(this,"handleOK",()=>{this.props.getValue(this.state.inputValue)}),u(this,"handleChange",e=>{this.setState({inputValue:e.target.value})}),u(this,"onSubmit",e=>{e.preventDefault(),this.handleOK()})}render(){return n.default.createElement(i.Modal,{show:this.props.isOpen,onHide:this.props.cancel,dialogClassName:"center-modal-vertically"},n.default.createElement(i.Modal.Header,{closeButton:!0},this.props.title),n.default.createElement(i.Modal.Body,null,n.default.createElement(i.Form,{horizontal:!0,onSubmit:this.onSubmit},n.default.createElement(i.FormGroup,null,n.default.createElement(i.Col,{sm:8},n.default.createElement(i.FormControl,{"data-testid":c.input,type:this.props.type,autoFocus:!0,defaultValue:"",onChange:this.handleChange})),n.default.createElement(i.Col,{sm:1}),n.default.createElement(i.Col,{sm:1,style:{marginRight:"4px"}},n.default.createElement(i.Button,{"data-testid":c.ok,bsStyle:"primary",onClick:this.handleOK},(0,a.default)("OK"))),n.default.createElement(i.Col,{sm:1},n.default.createElement(i.Button,{"data-testid":c.cancel,onClick:this.props.cancel},(0,a.default)("Cancel")))))))}}t.default=d,u(d,"propTypes",{isOpen:o.default.bool.isRequired,type:o.default.string.isRequired,cancel:o.default.func.isRequired,getValue:o.default.func.isRequired,title:o.default.string})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readImage=function(e,t){n.default.imageFileResizer(e,700,500,"JPEG",50,0,t,"base64")},t.isImageUrl=function(e){if(!e)return!1;if(!(0,i.default)(e))return!1;const t=new URL(e).pathname.split(".").pop();return o.default.includes(t)},t.readImageFromURL=function(e,t){s(e,(e,r,n)=>{if(!e&&200==r.statusCode){const e="data:"+r.headers["content-type"]+";base64,"+Buffer.from(n).toString("base64");t(e)}})};var n=a(r(685)),o=a(r(686)),i=a(r(333));function a(e){return e&&e.__esModule?e:{default:e}}const s=r(221).defaults({encoding:null})},,,,,,function(e,t){e.exports=require("zlib")},,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addImage=function(e){const t=Object.assign({},o.image,e);return{type:n.ADD_IMAGE,image:t}},t.renameImage=function(e,t){return{type:n.RENAME_IMAGE,id:e,name:t}},t.deleteImage=function(e){return{type:n.DELETE_IMAGE,id:e}};var n=r(11),o=r(18)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(789),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var n=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var r=window.getComputedStyle(e);return t?"visible"!==r.getPropertyValue("overflow"):"none"==r.getPropertyValue("display")}function i(e,t){var r=e.nodeName.toLowerCase();return(n.test(r)&&!e.disabled||"a"===r&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var r=isNaN(t);return(r||t>=0)&&i(e,!r)}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"==typeof t&&a.canUseDOM){var r=document.querySelectorAll(t);l(r,t),t="length"in r?r[0]:r}return s=t||s},t.validateElement=u,t.hide=function(e){u(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){u(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var n,o=r(793),i=(n=o)&&n.__esModule?n:{default:n},a=r(237);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function u(e){return!(!e&&!s)||((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allcolors=t.defaults=t.browns=t.whites=t.grays=t.purples=t.blues=t.greens=t.oranges=t.reds=t.default=void 0;t.default=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];const n=["MistyRose","LightPink","Pink","Hotpink","DeepPink","MediumVioletRed","PaleVioletRed","Red","Crimson","Maroon","DarkRed","Brown","Firebrick","IndianRed","LightCoral","Salmon","Tomato","Coral","DarkSalmon","LightSalmon","PeachPuff"];t.reds=n;const o=["OrangeRed","DarkOrange","Orange","DarkGoldenrod","Goldenrod","Khaki","PaleGoldenrod","LightGoldenrodYellow","SandyBrown","NavajoWhite","Moccasin","LemonChiffon","LightYellow","Yellow","Gold"];t.oranges=o;const i=["GreenYellow","Chartreuse","LawnGreen","Lime","LimeGreen","MediumSeaGreen","SeaGreen","DarkGreen","Green","ForestGreen","OliveDrab","DarkOliveGreen","Olive","YellowGreen","LightGreen","PaleGreen","SpringGreen","MediumSpringGreen","MintCream","Aquamarine","MediumAquaMarine","DarkSeaGreen","Honeydew","DarkCyan","Teal","LightSeaGreen"];t.greens=i;const a=["DarkCyan","DarkTurquoise","MediumTurquoise","Turquoise","Cyan","Aqua","LightCyan","Azure","AliceBlue","SkyBlue","LightSkyBlue","DeepSkyBlue","DodgerBlue","Blue","MediumBlue","DarkBlue","Navy","MidnightBlue","RoyalBlue","CornflowerBlue","SteelBlue","DarkSlateGray","CadetBlue","LightBlue","PaleTurquoise","PowderBlue","LightSteelBlue","Lavender","MediumSlateBlue","SlateBlue"];t.blues=a;const s=["BlueViolet","DarkViolet","DarkOrchid","MediumOrchid","Orchid","Violet","Fuchsia","Magenta","DarkMagenta","Purple","RebeccaPurple","Indigo","MediumPurple","Plum","Thistle"];t.purples=s;const l=["Gainsboro","LightGray","Silver","DarkGray","Gray","DimGray","LightSlateGray","SlateGray","Black"];t.grays=l;const u=["GhostWhite","AntiqueWhite","Beige","Bisque","BlanchedAlmond","Ivory","Linen","OldLace","PapayaWhip","Seashell","Snow","LavenderBlush","White","WhiteSmoke"];t.whites=u;const c=["Brown","Chocolate","Peru","RosyBrown","SaddleBrown","DarkGoldenrod","Wheat"];t.browns=c;t.defaults=["#6cace4","#78be20","#e5554f","#ff7f32","#ffc72c","#0b1117"];const d=[...n,...o,...i,...a,...s,...l,...u,...c];t.allcolors=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(1))&&n.__esModule?n:{default:n};var i=o.default.memo(({attributes:e,children:t,leaf:r})=>{if(r.bold&&(t=o.default.createElement("strong",null,t)),r.italic&&(t=o.default.createElement("em",null,t)),r.underline&&(t=o.default.createElement("u",null,t)),r.strike&&(t=o.default.createElement("del",null,t)),r.color){const t={color:r.color};e.style=e.style?{...e.style,...t}:t}if(r.font){const t={fontFamily:`${r.font}, Forum, sans-serif`};e.style=e.style?{...e.style,...t}:t}return o.default.createElement("span",e,t)});t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(14),o=s(r(1)),i=r(69),a=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}var l=o.default.memo(({attributes:e,children:t,element:r})=>{const s=(0,i.useSelected)(),l=(0,i.useFocused)();switch(r.type){case"block-quote":return o.default.createElement("blockquote",e,t);case"bulleted-list":return o.default.createElement("ul",e,t);case"heading-one":return o.default.createElement("h1",e,t);case"heading-two":return o.default.createElement("h2",e,t);case"heading-three":return o.default.createElement("h3",e,t);case"heading-four":return o.default.createElement("h4",e,t);case"heading-five":return o.default.createElement("h5",e,t);case"heading-six":return o.default.createElement("h6",e,t);case"list-item":return o.default.createElement("li",e,t);case"numbered-list":return o.default.createElement("ol",e,t);case"link":return o.default.createElement("a",Object.assign({},e,{title:r.url,href:"#",onClick:()=>{return e=r.url,void n.shell.openExternal(e);var e}}),t);case"image-link":return o.default.createElement("div",e,o.default.createElement("div",{contentEditable:!1},o.default.createElement("img",{src:r.url,className:(0,a.default)("slate-editor__image-link",{selected:s&&l})})),t);case"image-data":return o.default.createElement("div",e,o.default.createElement("div",{contentEditable:!1},o.default.createElement("img",{src:r.data,className:(0,a.default)("slate-editor__image-link",{selected:s&&l})})),t);default:return o.default.createElement("p",e,t)}});t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRegisterEditor=function(e){return(0,n.useEffect)(()=>()=>{i.unRegister(e)},[e]),t=>{null!=t&&i.register(e,t)}},t.default=t.EditorRegistry=void 0;var n=r(1);class o{constructor(){this.editors=new Map}register(e,t){this.editors.set(t,e)}unRegister(e){for(const t in this.editors)if(this.editors.get(t)===e)return void this.editors.delete(t)}getEditor(e){return this.editors.get(e)}}t.EditorRegistry=o;const i=new o;var a=i;t.default=a},,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),o=u(r(16)),i=r(14),a=r(7),s=u(r(5)),l=u(r(60));function u(e){return e&&e.__esModule?e:{default:e}}const c=i.remote.getCurrentWindow(),d=i.remote.dialog;var f=function(e){const t=()=>{u("word")},r=()=>{u("scrivener")},u=t=>{let r=(0,s.default)("Where would you like to save the export?");const n=o.default.basename(e.fileName).replace(".pltr","");let a=[];switch(t){case"word":a=[{name:(0,s.default)("MS Word"),extensions:["docx"]}];break;case"scrivener":a=[{name:(0,s.default)("Scrivener Project"),extensions:["scriv"]}]}const u=d.showSaveDialogSync(c,{title:r,filters:a,defaultPath:n});if(u){const r={fileName:u,type:t,bookId:e.bookId};i.ipcRenderer.sendTo(c.webContents.id,"export-file",r),l.default.push("Export",{export_type:t})}};return n.default.createElement(a.NavItem,null,n.default.createElement("span",{className:"subnav__container__label"},(0,s.default)("Export"),": "),n.default.createElement(a.OverlayTrigger,{trigger:"click",rootClose:!0,placement:"bottom",overlay:n.default.createElement(a.Popover,{id:"export-popover"},n.default.createElement("ul",{className:"export-list"},n.default.createElement("li",{onClick:t},(0,s.default)("MS Word")),n.default.createElement("li",{onClick:r},(0,s.default)("Scrivener"))))},n.default.createElement(a.Button,{bsSize:"small"},n.default.createElement(a.Glyphicon,{glyph:"export"}))))};t.default=f},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTag=function(){return{type:n.ADD_TAG}},t.addCreatedTag=function(e){return{type:n.ADD_CREATED_TAG,attributes:e}},t.editTag=function(e,t,r){return{type:n.EDIT_TAG,id:e,title:t,color:r}},t.deleteTag=function(e){return{type:n.DELETE_TAG,id:e}};var n=r(11);r(18)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=r(9),i=c(r(8)),a=c(r(130)),s=r(364),l=r(7),u=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends n.Component{constructor(e){super(e),f(this,"closeDialog",e=>{this.props.closeDialog(e)}),f(this,"showColor",()=>{var e=(0,o.findDOMNode)(this.refs.hexRef).value,t=/#?([0123456789abcdef]{6})/.exec(e);t?this.setState({color:`#${t[1]}`}):this.setState({color:e})}),this.state={color:this.props.color}}componentDidMount(){window.SCROLLWITHKEYS=!1}componentWillUnmount(){window.SCROLLWITHKEYS=!0}render(){return n.default.createElement(a.default,{isOpen:!0,onRequestClose:()=>this.closeDialog(this.props.color)},n.default.createElement("div",{className:"color-picker__wrapper"},n.default.createElement("h2",{className:"color-picker__title"},(0,u.default)("Pick a color")),n.default.createElement("div",{className:"color-picker__input-box form-horizontal"},n.default.createElement(l.Row,null,n.default.createElement(l.Col,{xs:5},n.default.createElement("h5",{style:{marginTop:"26px"},className:"secondary-text"},(0,u.default)("Click on a color below or type it in"))),n.default.createElement(l.Col,{xs:2},n.default.createElement("p",{style:{textAlign:"right",marginTop:"32px"}},(0,u.default)("Current Color"),": ")),n.default.createElement(l.Col,{xs:1},n.default.createElement("div",{title:this.state.color,style:{backgroundColor:this.state.color,marginTop:"16px"},className:"color-picker__show-color"})),n.default.createElement(l.Col,{xs:2},n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,u.default)("hex code or name")),n.default.createElement(l.FormControl,{type:"text",ref:"hexRef",placeholder:"e.g. #ffffff",defaultValue:this.state.color,onKeyDown:e=>{27===e.which&&this.closeDialog(this.state.color)},onKeyPress:e=>{13===e.which&&this.closeDialog(this.state.color)},onChange:this.showColor}))),n.default.createElement(l.Col,{xs:2},n.default.createElement("div",{style:{marginTop:"26px"}},n.default.createElement(l.Button,{bsStyle:"success",onClick:()=>this.closeDialog(this.state.color)},(0,u.default)("Choose")))))),n.default.createElement("div",null,this.renderColors())))}renderColors(){return n.default.createElement("div",{className:"color-picker__box-wrapper"},n.default.createElement("p",null,(0,u.default)("Default Colors")),n.default.createElement("div",{className:"color-picker__box"},s.defaults.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),n.default.createElement("p",null,(0,u.default)("Reds")),n.default.createElement("div",{className:"color-picker__box"},s.reds.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),n.default.createElement("p",null,(0,u.default)("Oranges")),n.default.createElement("div",{className:"color-picker__box"},s.oranges.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),n.default.createElement("p",null,(0,u.default)("Greens")),n.default.createElement("div",{className:"color-picker__box"},s.greens.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),n.default.createElement("p",null,(0,u.default)("Blues")),n.default.createElement("div",{className:"color-picker__box"},s.blues.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),n.default.createElement("p",null,(0,u.default)("Purples")),n.default.createElement("div",{className:"color-picker__box"},s.purples.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),n.default.createElement("p",null,(0,u.default)("Grays")),n.default.createElement("div",{className:"color-picker__box"},s.grays.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),n.default.createElement("p",null,(0,u.default)("Whites")),n.default.createElement("div",{className:"color-picker__box"},s.whites.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))),n.default.createElement("p",null,(0,u.default)("Browns")),n.default.createElement("div",{className:"color-picker__box"},s.browns.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},this.renderColor(e)))))}renderColor(e){return n.default.createElement(l.Button,{title:e,onClick:()=>this.closeDialog(e),style:{backgroundColor:e}})}}p.propTypes={closeDialog:i.default.func.isRequired,color:i.default.string,darkMode:i.default.bool};var h=p;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=b(r(860)),o=g(r(1)),i=b(r(8)),a=r(13),s=r(15),l=r(7),u=g(r(47)),c=(b(r(3)),b(r(5))),d=r(80),f=b(r(868)),p=b(r(869)),h=b(r(870));function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends o.Component{constructor(e){super(e),v(this,"updateFilter",(e,t)=>{let r=this.state.filteredItems;r[e]=t,this.props.update(r),this.setState({filteredItems:r})}),v(this,"renderList",e=>{const{name:t,type:r}=e;return"text"!=r?null:o.default.createElement("div",{key:t},o.default.createElement("p",{onClick:()=>this.filterList(e.name)},o.default.createElement("em",null,t)),this.renderFilterList(this.values(e.name),e))}),this.state={filteredItems:{}}}static getDerivedStateFromProps(e,t){let r={tag:[],book:[],category:[]};return t.filteredItems&&(r=Object.assign({},r,t.filteredItems,e.filteredItems)),r=e.customAttributes.reduce((e,t)=>("text"==t.type&&(e[t.name]=r[t.name]||[]),e),r),{filteredItems:r}}filterItem(e,t){var r=this.state.filteredItems;if(r[t]){if(r[t].includes(e)){var n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1)}else r[t].push(e);this.props.update(r),this.setState({filteredItems:r})}}filterList(e){var t=this.state.filteredItems;t[e]&&(t[e].length>0?t[e]=[]:t[e]=this.values(e),this.props.update(t),this.setState({filteredItems:t}))}isChecked(e,t){return!!this.state.filteredItems[t]&&(!!this.state.filteredItems[t].length&&-1!==this.state.filteredItems[t].indexOf(e))}values(e){let t=this.props.items.map(t=>t[e]);return(0,n.default)(t.filter(e=>e&&""!=e))}renderFilterList(e,t){var r=e.map(e=>this.renderFilterItem(e,t));return o.default.createElement("ul",{key:`${t.name}-${r}`,className:"filter-list__list"},r,this.renderBlank(t))}renderFilterItem(e,t){var r="unchecked";return this.isChecked(e,t.name)&&(r="eye-open"),o.default.createElement("li",{key:`${e}-${t.name}`,onMouseDown:()=>this.filterItem(e,t.name)},o.default.createElement(l.Glyphicon,{glyph:r})," ",e.substr(0,18))}renderBlank(e){var t="unchecked";return this.isChecked("",e.name)&&(t="eye-open"),o.default.createElement("li",{onMouseDown:()=>this.filterItem("",e.name)},o.default.createElement(l.Glyphicon,{glyph:t})," ",o.default.createElement("em",{className:"secondary-text"},"[",(0,c.default)("blank"),"]"))}render(){const e=this.props.customAttributes.map(this.renderList);return o.default.createElement("div",{className:"filter-list flex"},o.default.createElement(p.default,{updateItems:this.updateFilter,filteredItems:[...this.state.filteredItems.book]}),this.props.showCategory?o.default.createElement(h.default,{updateItems:this.updateFilter,filteredItems:[...this.state.filteredItems.category]}):null,o.default.createElement(f.default,{updateItems:this.updateFilter,filteredItems:[...this.state.filteredItems.tag]}),e)}}y.propTypes={tags:i.default.array.isRequired,books:i.default.object.isRequired,customAttributes:i.default.array.isRequired,items:i.default.array.isRequired,filteredItems:i.default.object,type:i.default.string.isRequired,update:i.default.func.isRequired,showCategory:i.default.bool};var w=(0,a.connect)((function(e,t){let r=e.present.ui.characterFilter;return"places"==t.type&&(r=e.present.ui.placeFilter),{tags:(0,d.sortedTagsSelector)(e.present),books:e.present.books,customAttributes:e.present.customAttributes[t.type],items:"characters"==t.type?e.present.characters:e.present.places,filteredItems:r,showCategory:"characters"==t.type}}),(function(e,t){let r=(0,s.bindActionCreators)(u,e);return{update:"characters"==t.type?r.setCharacterFilter:r.setPlaceFilter}}))(y);t.default=w},function(e,t,r){var n=r(862);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},function(e,t){e.exports=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortedCharacterCategoriesSelector=t.characterCategoriesSelector=t.allCategoriesSelector=void 0;var n,o=(n=r(29))&&n.__esModule?n:{default:n},i=r(10);t.allCategoriesSelector=e=>e.categories;const a=e=>e.categories.characters;t.characterCategoriesSelector=a;const s=(0,i.createSelector)(a,e=>(0,o.default)(e,"position"));t.sortedCharacterCategoriesSelector=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(1)),o=d(r(8)),i=r(13),a=r(15),s=r(7),l=p(r(47)),u=d(r(5)),c=r(173);function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}class h extends n.Component{constructor(...e){var t,r,n;super(...e),n=e=>{let t=this.props.sortAttr.split("~"),r=t[0],n=t[1];if(e===r){let t="asc"===n?"desc":"asc";this.props.update(e,t)}else this.props.update(e,"asc")},(r="toggle")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}renderList(){let e=this.props.sortAttr.split("~"),t=e[0],r=e[1];return this.props.items.map(e=>{let o=null,i=n.default.createElement("span",{className:"not-active"},e);return e===t&&(i=n.default.createElement("em",null,e),o="asc"===r?n.default.createElement(s.Glyphicon,{glyph:"arrow-up"}):n.default.createElement(s.Glyphicon,{glyph:"arrow-down"})),n.default.createElement("li",{key:`attr-${e}`,onClick:()=>this.toggle(e)},o," ",i)})}render(){return n.default.createElement("ul",{className:"sort-list"},this.renderList())}}h.propTypes={type:o.default.string.isRequired,items:o.default.array.isRequired,sortAttr:o.default.string.isRequired,update:o.default.func.isRequired};var m=(0,i.connect)((function(e,t){let r,n;return"characters"==t.type?(n=(0,c.characterSortCAnamesSelector)(e.present),r=e.present.ui.characterSort):(n=(0,c.placeSortCAnamesSelector)(e.present),r=e.present.ui.placeSort),{customAttributes:n,sortAttr:r,items:[(0,u.default)("name"),(0,u.default)("description"),...n]}}),(function(e,t){let r=(0,a.bindActionCreators)(l,e);return{update:"characters"==t.type?r.setCharacterSort:r.setPlaceSort}}))(h);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=r(9),i=u(r(8)),a=r(13),s=r(7),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends n.Component{constructor(...e){super(...e),d(this,"onChange",()=>{const e=(0,o.findDOMNode)(this.refs.selectRef).value;this.props.onChange(-1==e?null:e)})}renderOptions(){const e=[...this.props.categories];return e.push({id:-1,name:(0,l.default)("Uncategorized")}),e.map(e=>n.default.createElement("option",{key:e.id,value:e.id},e.name))}render(){let e=this.props.selectedId?this.props.selectedId:-1;return n.default.createElement(s.FormControl,{componentClass:"select",placeholder:(0,l.default)("Choose"),onChange:this.onChange,ref:"selectRef",value:e},this.renderOptions())}}d(f,"propTypes",{categories:i.default.array,type:i.default.oneOf(["characters","places","notes","tags"]),onChange:i.default.func.isRequired,selectedId:i.default.any});var p=(0,a.connect)((function(e,t){return{categories:e.present.categories[t.type],ui:e.present.ui}}),(function(e){return{}}))(f);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=b(r(8)),i=r(14),a=b(r(130)),s=b(r(5)),l=r(7),u=r(877),c=b(r(878)),d=b(r(387)),f=b(r(388)),p=b(r(3)),h=b(r(879)),m=r(37),g=b(r(32));function b(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const w={content:{width:"50%",marginLeft:"25%"}},E=i.remote.getCurrentWindow(),_={project:(0,s.default)("Project Templates"),plotlines:(0,s.default)("Starter Templates")};class O extends n.Component{constructor(...e){super(...e),y(this,"state",{selectedId:null,selectedCategory:null,selectedType:null,editing:!1,templates:[],customTemplates:[],deleting:!1,deleteWhich:null}),y(this,"deleteTemplate",e=>{e.stopPropagation(),(0,u.deleteTemplate)(this.state.deleteWhich.id),this.setState({customTemplates:(0,u.listCustomTemplates)(this.props.type),deleting:!1,deleteWhich:null})}),y(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1,deleteWhich:null})}),y(this,"handleDelete",(e,t)=>{e.stopPropagation(),this.setState({deleting:!0,deleteWhich:t})}),y(this,"startSaveAsTemplate",()=>{i.ipcRenderer.sendTo(E.webContents.id,"save-as-template-start",this.props.type)}),y(this,"selectedTemplate",()=>{const{templates:e,customTemplates:t,selectedId:r,selectedCategory:n,selectedType:o}=this.state;return"custom"==n?t.find(e=>e.id==r):"starter"==n?e[o].find(e=>e.id==r):void 0}),y(this,"editTemplate",e=>{e.stopPropagation(),this.setState({editing:!0})}),y(this,"saveTemplateEdit",e=>{(0,u.editTemplateDetails)(e.id,e),this.setState({editing:!1,customTemplates:(0,u.listCustomTemplates)(this.props.type)})}),y(this,"chooseTemplate",()=>{this.state.selectedId&&this.props.onChooseTemplate(this.selectedTemplate())})}componentDidMount(){let e={},t=[];this.props.type.forEach(r=>{e[r]=(0,u.listTemplates)(r),t=[...t,...(0,u.listCustomTemplates)(r)]}),this.setState({templates:e,customTemplates:t})}renderDelete(){return this.state.deleting?n.default.createElement(g.default,{name:this.state.deleteWhich.name,onDelete:this.deleteTemplate,onCancel:this.cancelDelete}):null}renderLink(e){return e.link?n.default.createElement("a",{className:"template-picker__link",title:e.link,onClick:()=>i.shell.openExternal(e.link)},n.default.createElement(l.Glyphicon,{glyph:"info-sign"})):null}renderCustomButtons(e,t,r){return"custom"!=e?null:t?n.default.createElement("div",null,n.default.createElement(l.Button,{bsSize:"small",onClick:e=>this.editTemplate(e)},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{bsSize:"small",onClick:e=>this.handleDelete(e,r)},n.default.createElement(l.Glyphicon,{glyph:"trash"}))):null}renderTemplateDetails(){if(!this.state.selectedId)return null;const e=this.selectedTemplate();if(!e)return null;let t=null;this.state.editing&&(t=n.default.createElement(h.default,{template:e,darkMode:this.props.darkMode,saveEdit:this.saveTemplateEdit,cancel:()=>this.setState({editing:!1})}));let r=null;switch(e.type){case"characters":r=n.default.createElement(c.default,{template:e});break;case"plotlines":r=n.default.createElement(d.default,{template:e});break;case"project":r=n.default.createElement(f.default,{template:e})}return n.default.createElement("div",{className:"panel panel-primary"},n.default.createElement("div",{className:"panel-heading"},n.default.createElement("h3",{className:"panel-title"},e.name,this.renderLink(e)),n.default.createElement("p",null,e.description)),t,r)}renderTemplateList(e,t,r){if(this.props.modal&&!this.props.isOpen)return null;const{selectedId:o,selectedCategory:i}=this.state;return e.map(e=>{let a=i==t&&o==e.id,s=(0,p.default)("list-group-item",{selected:a});return n.default.createElement("li",{key:e.id,className:s,onClick:()=>this.setState({selectedId:e.id,selectedCategory:t,selectedType:r,editing:!1})},n.default.createElement("div",null,e.name),this.renderCustomButtons(t,a,e))})}renderSaveButton(e){return e?null:"characters"!=this.props.type||this.props.canMakeCharacterTemplates?n.default.createElement(l.Button,{bsSize:"small",onClick:this.startSaveAsTemplate},n.default.createElement(m.FaSave,{className:"svg-save-template"})," ",(0,s.default)("Save as Template")):null}renderStarterTemplates(){return Object.keys(this.state.templates).map(e=>{const t=this.state.templates[e],r=_[e];return n.default.createElement(n.Fragment,{key:e},n.default.createElement("h1",{className:""},r),n.default.createElement("ul",{className:"list-group"},this.renderTemplateList(t,"starter",e)))})}renderBody(){return n.default.createElement("div",{className:"template-picker__dialog-wrapper"},this.renderDelete(),n.default.createElement("div",{className:"template-picker__wrapper"},n.default.createElement("div",{className:"template-picker__list"},n.default.createElement("h1",{className:""},(0,s.default)("My Templates")),n.default.createElement("ul",{className:"list-group"},this.renderSaveButton(this.state.customTemplates.length),this.renderTemplateList(this.state.customTemplates,"custom")),this.renderStarterTemplates()),n.default.createElement("div",{className:"template-picker__details"},this.renderTemplateDetails())),n.default.createElement(l.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(l.Button,{onClick:this.props.close},(0,s.default)("Cancel")),n.default.createElement(l.Button,{bsStyle:"success",onClick:this.chooseTemplate,disabled:!this.state.selectedId},(0,s.default)("Choose"))))}render(){return this.props.modal?n.default.createElement(a.default,{isOpen:this.props.isOpen,onRequestClose:this.props.close,style:w},this.renderBody()):this.renderBody()}}t.default=O,y(O,"propTypes",{modal:o.default.bool.isRequired,close:o.default.func.isRequired,onChooseTemplate:o.default.func.isRequired,isOpen:o.default.bool,type:o.default.array,darkMode:o.default.bool,canMakeCharacterTemplates:o.default.bool})},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),o=r(13),i=r(15),a=d(r(249)),s=f(r(5)),l=r(173),u=d(r(390));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,o.connect)((function(e,{type:t}){const r=e.present.customAttributes[t];let n;switch(t){case"characters":n=l.characterCustomAttributesThatCanChangeSelector;break;case"places":n=l.placeCustomAttributesThatCanChangeSelector;break;default:n=()=>(console.warn(`${t}CustomAttributesThatCanChangeSelector not implemented`),r.map(({name:e})=>e))}return{customAttributes:e.present.customAttributes[t],customAttributesThatCanChange:n(e.present),ui:e.present.ui}}),(function(e,{type:t}){const r=(0,i.bindActionCreators)(a,e);switch(t){case"characters":return{addAttribute:r.addCharacterAttr,removeAttribute:r.removeCharacterAttr,editAttribute:r.editCharacterAttr,reorderAttribute:r.reorderCharacterAttribute};case"places":return{addAttribute:r.addPlaceAttr,removeAttribute:r.removePlaceAttr,editAttribute:r.editPlaceAttr,reorderAttribute:r.reorderPlacesAttribute};default:return console.warn(`${t} actions not implemented`),{addAttribute:()=>{},removeAttribute:()=>{},editAttribute:()=>{},reorderAttribute:()=>{}}}return{...(0,i.bindActionCreators)(a,e)}}))((function({type:e,customAttributes:t,customAttributesThatCanChange:r,ui:{darkMode:o},closeDialog:i,addAttribute:a,removeAttribute:l,editAttribute:c,reorderAttribute:d}){return n.default.createElement(u.default,{title:(0,s.default)("Custom Attributes for { type }",{type:e}),subtitle:(0,s.default)("Choose what you want to track about your { type }",{type:e}),addLabel:(0,s.default)("Add attribute"),items:t,darkMode:o,closeDialog:i,showSaveAsTemplate:!0,onAdd:e=>a({name:e,type:"text"}),renderItem:(e,t)=>n.default.createElement(u.ListItem,{key:e.name,item:e,index:t,canChangeType:r.includes(e.name),deleteItem:({name:e})=>l(e),updateItem:r=>c(t,e,r),reorderItem:d})})}));t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({title:e,subtitle:t,addLabel:r,items:c,darkMode:d,showSaveAsTemplate:f=!1,onAdd:m,renderItem:g,closeDialog:b}){const[v,y]=(0,o.useState)(""),w=(0,o.useMemo)(()=>new Set(c.map(({name:e})=>e)),[c]),E=()=>{const e=v.trim();""===e||w.has(e)||m(e),y("")};p.content.backgroundColor=d?"#666":"#fff";return o.default.createElement(a.default,{isOpen:!0,onRequestClose:b,style:p},o.default.createElement("div",{className:(0,l.default)("custom-attr__wrapper",{darkmode:d})},o.default.createElement(i.Button,{className:"pull-right",onClick:b},(0,s.default)("Close")),f?o.default.createElement(i.Button,{className:"pull-right custom-attr__save-as-template",onClick:()=>{n.ipcRenderer.sendTo(h.webContents.id,"save-as-template-start","characters")}},o.default.createElement(u.FaSave,{className:"svg-save-template"})," ",(0,s.default)("Save as Template")):null,o.default.createElement("h3",null,e),o.default.createElement("p",{className:"sub-header"},t),o.default.createElement("div",{className:"custom-attr__add-button"},o.default.createElement(i.FormGroup,null,o.default.createElement(i.ControlLabel,null,r),o.default.createElement(i.FormControl,{type:"text",value:v,onChange:e=>y(e.currentTarget.value),onKeyDown:e=>{13===e.which&&E()}})),o.default.createElement(i.Button,{bsStyle:"success",onClick:E},(0,s.default)("Add"))),o.default.createElement("div",{className:"custom-attr__list-wrapper"},c.map((e,t)=>{const r=g(e,t);return null==r?null:o.default.cloneElement(r,{restrictedValues:w})}))))},t.ListItem=function({item:e,index:t,restrictedValues:r,showType:n=!0,canChangeType:a,reorderItem:l,deleteItem:u,updateItem:d}){const[f,p]=(0,o.useState)(!1),[h,m]=(0,o.useState)(!1),[g,b]=(0,o.useState)(e.name),[v,y]=(0,o.useState)("paragraph"===e.type);(0,o.useEffect)(()=>{let t=v?"paragraph":"text";e.type!=t&&d({...e,type:t})},[v]);const w=e=>e.preventDefault();return o.default.createElement("li",{className:"list-group-item custom-attr-item",draggable:h,onDragStart:t=>{t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/json",JSON.stringify(e))},onDragOver:w,onDragEnter:w,onDrop:e=>{e.stopPropagation();const r=e.dataTransfer.getData("text/json"),n=JSON.parse(r);l(n,t)}},o.default.createElement("div",{className:"custom-attr-item__left-side"},o.default.createElement(i.Glyphicon,{className:"custom-attr-item__drag-handle",glyph:"menu-hamburger",onMouseDown:()=>m(!0),onMouseOut:()=>m(!1)}),o.default.createElement("input",{className:"custom-attr-item__input",onChange:e=>b(e.currentTarget.value),value:g,onBlur:()=>{const t=g.trim();if(!t||r.has(t))return b(e.name);d({...e,name:t})},onKeyDown:e=>{13===e.which&&e.currentTarget.blur()}})),o.default.createElement("div",null,(()=>{if(!n)return null;const t="paragraph"==e.type;return a?o.default.createElement("label",{className:"custom-attr-item__checkbox-label"},o.default.createElement("input",{type:"checkbox",checked:t,onChange:e=>y(e.currentTarget.checked)}),(0,s.default)("paragraph")):o.default.createElement("label",{className:"custom-attr-item__checkbox-label text-muted"},(0,s.default)("paragraph"))})(),o.default.createElement(i.Button,{onClick:()=>p(!0)},o.default.createElement(i.Glyphicon,{glyph:"remove"})),f?o.default.createElement(c.default,{name:e.name,onDelete:()=>u(e),onCancel:()=>p(!1)}):null))};var n=r(14),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),i=r(7),a=d(r(130)),s=d(r(5)),l=d(r(3)),u=r(37),c=d(r(32));function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}const p={overlay:{display:"flex",justifyContent:"center",alignItems:"center"},content:{width:"50%",position:"relative",left:"auto",bottom:"auto",right:"auto",marginTop:"-60px",minHeight:500,maxHeight:"calc(100vh - 120px)"}},h=n.remote.getCurrentWindow()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=d(r(8)),i=r(13),a=r(7),s=d(r(5)),l=r(80),u=r(81),c=r(133);function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends n.Component{constructor(e){super(e),p(this,"filterItem",(e,t)=>{var r=this.state.filteredItems;if(-1===r[e].indexOf(t))r[e].push(t);else{var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}this.props.updateItems(r),this.setState({filteredItems:r})}),p(this,"filterList",(e,t)=>{var r=this.state.filteredItems;r[e].length>0?r[e]=[]:r[e]=t.map(e=>e.id),this.props.updateItems(r),this.setState({filteredItems:r})}),this.state={filteredItems:e.filteredItems||this.defaultFilteredItemsObj()}}defaultFilteredItemsObj(){return{tag:[],character:[],place:[],book:[]}}isChecked(e,t){return-1!==this.state.filteredItems[e].indexOf(t)}renderFilterList(e,t,r){var o=e.map(e=>this.renderFilterItem(e,t,r));return n.default.createElement("ul",{className:"filter-list__list"},o)}renderFilterItem(e,t,r){if(!e)return null;var o="unchecked";return this.isChecked(t,e.id)&&(o="eye-open"),n.default.createElement("li",{key:`${t}-${e.id}`,onMouseDown:()=>this.filterItem(t,e.id)},n.default.createElement(a.Glyphicon,{glyph:o})," ",e[r])}renderBookList(){if(!this.props.renderBooks)return null;const{books:e}=this.props,t=e.allIds.map(t=>{const r=e[t]||e[t.toString()];return this.renderFilterItem(r,"book","title")});let r="unchecked";return this.isChecked("book","series")&&(r="eye-open"),n.default.createElement("div",null,n.default.createElement("p",null,(0,s.default)("Books")),n.default.createElement("ul",{className:"filter-list__list"},n.default.createElement("li",{key:"book-series",onMouseDown:()=>this.filterItem("book","series")},n.default.createElement(a.Glyphicon,{glyph:r})," ",(0,s.default)("Series")),t))}render(){return n.default.createElement("div",{className:"filter-list flex"},this.renderBookList(),n.default.createElement("div",null,n.default.createElement("p",{onClick:()=>this.filterList("character",this.props.characters)},n.default.createElement("em",null,(0,s.default)("Characters"))),this.renderFilterList(this.props.characters,"character","name")),n.default.createElement("div",null,n.default.createElement("p",{onClick:()=>this.filterList("place",this.props.places)},n.default.createElement("em",null,(0,s.default)("Places"))),this.renderFilterList(this.props.places,"place","name")),n.default.createElement("div",null,n.default.createElement("p",{onClick:()=>this.filterList("tag",this.props.tags)},n.default.createElement("em",null,(0,s.default)("Tags"))),this.renderFilterList(this.props.tags,"tag","title")))}}h.propTypes={characters:o.default.array.isRequired,places:o.default.array.isRequired,tags:o.default.array.isRequired,books:o.default.object.isRequired,updateItems:o.default.func.isRequired,renderBooks:o.default.bool,filteredItems:o.default.object};var m=(0,i.connect)((function(e){return{characters:(0,u.charactersSortedAtoZSelector)(e.present),places:(0,c.placesSortedAtoZSelector)(e.present),tags:(0,l.sortedTagsSelector)(e.present),books:e.present.books}}),(function(e){return{}}))(h);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=O(r(1)),o=r(9),i=E(r(8)),a=r(13),s=r(15),l=r(7),u=r(61),c=O(r(135)),d=O(r(175)),f=E(r(379)),p=E(r(32)),h=E(r(176)),m=E(r(5)),g=E(r(3)),b=r(37),v=r(59),y=E(r(431)),w=r(79);function E(e){return e&&e.__esModule?e:{default:e}}function _(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _=function(){return e},e}function O(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x extends n.PureComponent{constructor(e){super(e),C(this,"deleteLine",e=>{e.stopPropagation(),this.props.actions.deleteLine(this.props.line.id)}),C(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),C(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0,hovering:!1})}),C(this,"editTitle",()=>{var e=this.props.line.id;const t=(0,o.findDOMNode)(this.refs.titleRef);t&&(this.props.actions.editLineTitle(e,t.value),this.setState({editing:!1,hovering:!1}))}),C(this,"handleFinishEditingTitle",e=>{13===e.which&&this.editTitle()}),C(this,"handleBlur",()=>{""!==(0,o.findDOMNode)(this.refs.titleRef).value&&(this.editTitle(),this.setState({editing:!1,hovering:!1}))}),C(this,"handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify(this.props.line)),this.setState({dragging:!0})}),C(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),C(this,"handleDragEnter",e=>{this.setState({dropping:!0})}),C(this,"handleDragOver",e=>(this.setState({dropping:!0}),e.preventDefault(),!1)),C(this,"handleDragLeave",e=>{this.setState({dropping:!1})}),C(this,"handleDrop",e=>{e.stopPropagation(),this.setState({dropping:!1});var t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);null!=r.id&&this.props.handleReorder(this.props.line.position,r.position)}),C(this,"handleEsc",e=>{27===e.which&&this.setState({editing:!1})}),C(this,"changeColor",e=>{e&&this.props.actions.editLineColor(this.props.line.id,e),this.setState({showColorPicker:!1})}),C(this,"openColorPicker",()=>{this.setState({showColorPicker:!0})}),C(this,"startEditing",()=>{this.setState({editing:!0})}),C(this,"startHovering",()=>{clearTimeout(this.hoverTimeout),this.setState({hovering:!0})}),C(this,"stopHovering",()=>{this.hoverTimeout=setTimeout(()=>this.setState({hovering:!1}),200)}),C(this,"toggleLine",()=>{this.props.lineIsExpanded?this.props.actions.collapseLine(this.props.line.id):this.props.actions.expandLine(this.props.line.id)}),C(this,"renderHoverOptions",()=>{let e=null;return e=this.props.lineIsExpanded?n.default.createElement(b.FaCompressAlt,null):n.default.createElement(b.FaExpandAlt,null),"vertical"===this.props.ui.orientation?n.default.createElement("div",{className:(0,h.default)("line-title__hover-options",this.props.ui.orientation)},n.default.createElement(l.Button,{block:!0,bsSize:"small",onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{block:!0,bsSize:"small",onClick:this.openColorPicker},n.default.createElement(l.Glyphicon,{glyph:"tint"})),n.default.createElement(l.Button,{block:!0,bsSize:"small",onClick:this.toggleLine},e),n.default.createElement(l.Button,{block:!0,bsSize:"small",onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"}))):n.default.createElement("div",{className:"line-title__hover-options"},n.default.createElement(l.ButtonGroup,null,n.default.createElement(l.Button,{bsSize:"small",onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{bsSize:"small",onClick:this.openColorPicker},n.default.createElement(l.Glyphicon,{glyph:"tint"})),n.default.createElement(l.Button,{bsSize:"small",onClick:this.toggleLine},e),n.default.createElement(l.Button,{bsSize:"small",onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"}))))}),this.state={hovering:!1,editing:""===e.line.title,dragging:!1,dropping:!1,showColorPicker:!1,deleting:!1},this.hoverTimeout=null}renderDelete(){return this.state.deleting?n.default.createElement(p.default,{name:this.props.line.title||(0,m.default)("New Plotline"),onDelete:this.deleteLine,onCancel:this.cancelDelete}):null}renderColorPicker(){if(this.state.showColorPicker){var e="colorPicker-"+this.props.line.id;return n.default.createElement(f.default,{key:e,color:this.props.line.color,closeDialog:this.changeColor})}return null}renderTitle(){return this.state.editing?n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,m.default)("Plotline name")),n.default.createElement(l.FormControl,{type:"text",defaultValue:this.props.line.title,ref:"titleRef",autoFocus:!0,onKeyDown:this.handleEsc,onBlur:this.handleBlur,onKeyPress:this.handleFinishEditingTitle})):(0,w.truncateTitle)(this.props.line.title,50)}render(){this.state.editing&&(window.SCROLLWITHKEYS=!1);let e=(0,g.default)((0,h.default)("line-title__body",this.props.ui.orientation),{hover:this.state.hovering,dropping:this.state.dropping}),t="bottom";return"vertical"==this.props.ui.orientation&&(t="right"),n.default.createElement(u.Cell,null,n.default.createElement("div",{className:(0,h.default)("line-title__cell",this.props.ui.orientation),onMouseEnter:this.startHovering,onMouseLeave:this.stopHovering,onDrop:this.handleDrop},this.renderDelete(),n.default.createElement(y.default,{component:this.renderHoverOptions,open:this.state.hovering,placement:t,hideArrow:!0,offset:0},n.default.createElement("div",{className:e,onClick:this.startEditing,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,draggable:!0},this.renderTitle()))),this.renderColorPicker())}}x.propTypes={line:i.default.object.isRequired,bookId:i.default.oneOfType([i.default.string,i.default.number]),actions:i.default.object.isRequired,ui:i.default.object.isRequired,lineIsExpanded:i.default.bool.isRequired};var T=(0,a.connect)((function(e,t){return{ui:e.present.ui,lineIsExpanded:(0,v.lineIsExpandedSelector)(e.present)[t.line.id]}}),(function(e,t){let r="series"==t.bookId?d:c;return{actions:(0,s.bindActionCreators)(r,e)}}))(x);t.default=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=d(r(8)),i=r(13),a=(r(15),r(61)),s=r(7),l=d(r(176)),u=d(r(5)),c=r(253);function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=150,m=211,g=100,b=110;class v extends n.PureComponent{constructor(...e){super(...e),p(this,"insert",()=>{const{chapterPosition:e,lineId:t,handleInsert:r}=this.props;r(e,t)})}renderLine(){const{tableLength:e,orientation:t,color:r,zoom:o}=this.props;let i=e;(0,c.isZoomed)(o)&&(i=e*(0,c.computeZoomMultiplier)(t,o)),(0,c.isZoomedOut)(o)&&(i=e*(0,c.computeZoomOutMultiplier)(t,o));let a={borderColor:r};return"horizontal"==t?a.width=`${i-h-m}px`:a.height=`${i-g-b}px`,n.default.createElement("div",{className:(0,l.default)("line-title__line-line",t),style:a})}render(){const{isInChapterList:e,showLine:t,orientation:r,isLast:o}=this.props;let i=(0,l.default)("insert-scene-wrapper",r),c="scene-list__insert",d=(0,u.default)("Insert Chapter");return t&&(i+=" insert-scene-spacer"),o&&(d=(0,u.default)("Add Chapter"),i+=" append-scene",c+=" append-scene"),e||(d=(0,u.default)("Insert Chapter and a Card")),n.default.createElement(a.Cell,null,n.default.createElement("div",{title:d,className:(0,l.default)(e?c:"line-list__insert-scene",r),onClick:this.insert},n.default.createElement("div",{className:i},n.default.createElement(s.Glyphicon,{glyph:"plus"}))),t?this.renderLine():null)}}p(v,"propTypes",{orientation:o.default.string,zoom:o.default.object,handleInsert:o.default.func.isRequired,isInChapterList:o.default.bool.isRequired,chapterPosition:o.default.number,lineId:o.default.number,showLine:o.default.bool,color:o.default.string,isLast:o.default.bool,tableLength:o.default.number});var y=(0,i.connect)((function(e){return{orientation:e.present.ui.orientation,zoom:{zoomState:e.present.ui.zoomState,zoomIndex:e.present.ui.zoomIndex}}}),(function(e){return{}}))(v);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=w(r(1)),o=r(9),i=v(r(8)),a=r(13),s=r(15),l=r(7),u=r(61),c=w(r(118)),d=w(r(154)),f=v(r(176)),p=r(90),h=r(28),m=r(67),g=v(r(32)),b=r(79);function v(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function w(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends n.PureComponent{constructor(e){super(e),E(this,"deleteChapter",e=>{e.stopPropagation(),this.props.isSeries?this.props.beatActions.deleteBeat(this.props.chapter.id):this.props.actions.deleteScene(this.props.chapter.id,this.props.ui.currentTimeline)}),E(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),E(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0,hovering:!1})}),E(this,"editTitle",()=>{const e=this.props.chapter.id,t=(0,o.findDOMNode)(this.refs.titleRef);if(!t)return null;if(this.props.isSeries){if(""==t.value)return null;this.props.beatActions.editBeatTitle(e,t.value),this.setState({editing:!1,hovering:!1})}else this.props.actions.editSceneTitle(e,t.value||"auto"),this.setState({editing:!1,hovering:!1})}),E(this,"handleFinishEditing",e=>{13===e.which&&this.editTitle()}),E(this,"handleBlur",()=>{this.editTitle()}),E(this,"handleEsc",e=>{27===e.which&&this.setState({editing:!1})}),E(this,"handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify(this.props.chapter)),this.setState({dragging:!0})}),E(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),E(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropping:!0})}),E(this,"handleDragOver",e=>(this.state.dragging||this.setState({dropping:!0}),e.preventDefault(),!1)),E(this,"handleDragLeave",e=>{this.state.dragging||this.setState({dropping:!1})}),E(this,"handleDrop",e=>{if(e.stopPropagation(),!this.state.dragging){this.setState({dropping:!1});var t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);null!=r.id&&r.id!=this.props.chapter.id&&this.props.handleReorder(this.props.chapter.position,r.position)}}),E(this,"startEditing",()=>{this.setState({editing:!0})}),E(this,"startHovering",()=>{this.setState({hovering:!0})}),E(this,"stopHovering",()=>{this.setState({hovering:!1})});let t=""==e.chapter.title;this.state={hovering:!1,editing:t,dragging:!1,dropping:!1,deleting:!1}}renderDelete(){return this.state.deleting?n.default.createElement(g.default,{name:this.props.chapterTitle,onDelete:this.deleteChapter,onCancel:this.cancelDelete}):null}renderHoverOptions(){var e={visibility:"hidden"};return this.state.hovering&&(e.visibility="visible"),"vertical"===this.props.ui.orientation?n.default.createElement("div",{className:(0,f.default)("scene-list__item__hover-options",this.props.ui.orientation),style:e},n.default.createElement(l.Button,{block:!0,onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{block:!0,onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"}))):n.default.createElement("div",{className:(0,f.default)("scene-list__item__hover-options",this.props.ui.orientation),style:e},n.default.createElement(l.ButtonGroup,null,n.default.createElement(l.Button,{onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"}))))}renderTitle(){const{chapter:e,chapterTitle:t,positionOffset:r,isSeries:o}=this.props;return this.state.editing?n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,p.editingChapterLabel)(e,r,o)),n.default.createElement(l.FormControl,{type:"text",defaultValue:e.title,ref:"titleRef",autoFocus:!0,onKeyDown:this.handleEsc,onBlur:this.handleBlur,onKeyPress:this.handleFinishEditing})):n.default.createElement("span",null,(0,b.truncateTitle)(t,50))}render(){window.SCROLLWITHKEYS=!this.state.editing;const{chapter:e,ui:t,positionOffset:r,isSeries:o}=this.props;let i=(0,f.default)("scene__body",t.orientation);return this.state.hovering&&(i+=" hover"),this.state.dropping&&(i+=" dropping"),n.default.createElement(u.Cell,null,n.default.createElement("div",{className:(0,f.default)("scene__cell",t.orientation),title:(0,p.chapterPositionTitle)(e,r,o),onMouseEnter:this.startHovering,onMouseLeave:this.stopHovering,onDrop:this.handleDrop},this.renderHoverOptions(),this.renderDelete(),n.default.createElement("div",{className:i,onClick:this.startEditing,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},this.renderTitle())))}}_.propTypes={chapterId:i.default.number.isRequired,handleReorder:i.default.func.isRequired,actions:i.default.object.isRequired,beatActions:i.default.object.isRequired,chapters:i.default.array.isRequired,chapter:i.default.object.isRequired,ui:i.default.object.isRequired,isSeries:i.default.bool,chapterTitle:i.default.string.isRequired,positionOffset:i.default.number.isRequired};var O=(0,a.connect)(e=>{const t=(0,m.makeChapterSelector)(),r=(0,m.makeChapterTitleSelector)();return function(e,n){return{chapters:e.present.chapters,chapter:t(e.present,n.chapterId),ui:e.present.ui,isSeries:(0,h.isSeriesSelector)(e.present),chapterTitle:r(e.present,n.chapterId),positionOffset:(0,m.positionOffsetSelector)(e.present)}}},(function(e){return{actions:(0,s.bindActionCreators)(c,e),beatActions:(0,s.bindActionCreators)(d,e)}}))(_);t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bookTimelineTemplatesSelector=t.canDeleteBookSelector=t.currentTimelineSelector=t.allBooksSelector=t.allBookIdsSelector=void 0;var n=r(10);const o=e=>e.books.allIds;t.allBookIdsSelector=o;const i=e=>e.books;t.allBooksSelector=i;const a=e=>e.ui.currentTimeline;t.currentTimelineSelector=a;const s=(0,n.createSelector)(o,e=>e.length>1);t.canDeleteBookSelector=s;const l=(0,n.createSelector)(i,a,(e,t)=>"series"==t?[]:e[t].timelineTemplates);t.bookTimelineTemplatesSelector=l},function(e,t,r){var n=r(255);e.exports=function(e){var t=n(e);return"Object"!==t&&"Array"!==t}},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e){return 0===Object.keys(e).length}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(402);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,i=void 0===r?500:r,a=t.context,s=void 0===a?window:a,l=t.offset,u=void 0===l?0:l,c=t.ease,d=void 0===c?"easeInOutCubic":c,f=t.callback;if("object"===("undefined"==typeof window?"undefined":n(window))){var p=s.scrollTop||window.pageYOffset,h=(0,o.calcEndPoint)(e,s,u),m=performance.now(),g=window.requestAnimationFrame,b=function t(){var r=performance.now()-m,n=(0,o.setPosition)(p,h,r,i,d);s!==window?s.scrollTop=n:window.scroll(0,n),r>i?"function"==typeof f&&f(e):g(t)};b()}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.easeFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},o=t.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};t.setPosition=function(e,t,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"easeInOutCubic";return r>o?t:e+(t-e)*n[i](r/o)},t.calcEndPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(o(e))return parseInt(e)+r;var n=t===window?window.pageYOffset:t.scrollTop-t.getBoundingClientRect().top,i="html"===e.nodeName.toLowerCase()?-n:e.getBoundingClientRect().top+n;return i+r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.focusIsEditable=function(){return"INPUT"==document.activeElement.tagName||!(!document.activeElement.dataset.slateEditor||"true"!=document.activeElement.dataset.slateEditor)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var n=r(15),o=c(r(946)),i=c(r(964)),a=c(r(965)),s=c(r(966)),l=c(r(967)),u=c(r(406));function c(e){return e&&e.__esModule?e:{default:e}}const d=function(e){const t=(0,u.default)(o.default,{limit:10,ignoreInitialState:!0}),r=(0,n.applyMiddleware)(i.default,a.default,s.default,l.default);return(0,n.createStore)(t,e,r)}();t.store=d},function(e,t,r){var n=r(240)((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return o.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return o.ActionCreators}}),Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return i.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return i.isHistory}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return i.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return i.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return i.combineFilters}}),Object.defineProperty(t,"groupByActionTypes",{enumerable:!0,get:function(){return i.groupByActionTypes}}),Object.defineProperty(t,"newHistory",{enumerable:!0,get:function(){return i.newHistory}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,o=r(407),i=r(408),a=(n=r(968))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionCreators=t.ActionTypes=void 0;var n={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionTypes=n;var o={undo:function(){return{type:n.UNDO}},redo:function(){return{type:n.REDO}},jumpToFuture:function(e){return{type:n.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:n.JUMP_TO_PAST,index:e}},jump:function(e){return{type:n.JUMP,index:e}},clearHistory:function(){return{type:n.CLEAR_HISTORY}}};t.ActionCreators=o},function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=n,t.isHistory=function(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)},t.includeAction=function(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0}},t.excludeAction=function(e){var t=n(e);return function(e){return t.indexOf(e.type)<0}},t.combineFilters=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return function(r,n,o){return e(r,n,o)&&t(r,n,o)}}),(function(){return!0}))},t.groupByActionTypes=function(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}},t.newHistory=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:t,future:r,group:n,_latestUnfiltered:t,index:e.length,limit:e.length+r.length+1}}},,,,function(e,t){e.exports=require("string_decoder")},,function(e,t,r){var n=r(91),o=r(260),i=r(415),a=r(179),s=r(975),l=r(136),u=r(416),c=r(137),d=r(977),f=r(978),p=r(979),h=r(980),m=r(68),g=Array.isArray,b=m({elements:[],colorTable:[],fontTable:[],__constructor:function(e){this.params=this.params||{},"function"==typeof this._getDefaultParams&&Object.assign(this.params,this._getDefaultParams()),Object.assign(this.params,e),this.elements=[],this.colorTable=[],this.fontTable=[]},cascadeFormats:function(e,t,r={}){if(!g(t))throw new Error("Formats must be an array!");return r.reverseCascade&&(t=t.reverse()),t.filter(e=>!!e).map(e=>e instanceof l?e:new l(e)).reduce((e,t)=>t.formatText(e,this,r),e)},_getDefaultParams:function(){return{marginLeft:1800,marginRight:1800,marginBottom:1440,marginTop:1440,language:b.Language.ENG_US,landscape:!0}},addTable:function(e){this.elements.push(e)},addTextGroup:function(e,t){if(this._groupIndex(e)<0){var r=new b.GroupElement(e,t);this.elements.push(r)}},addElement:function(e,t,r){if(void 0===r&&"object"==typeof t&&(r=t,t=void 0),null==e)throw new Error("Element not defined");g(e)?e=new d(e,r):"object"!=typeof e&&(e=new f(e,r)),void 0!==t&&this._groupIndex(t)>=0?this.elements[this._groupIndex(t)].addElement(e):this.elements.push(e)},writeText:function(e,t,r){var n=new b.TextElement(e,t);this.addElement(n,r)},addCommand:function(e,t,r){if(!e)throw new Error("Command not defined");void 0===r&&"object"==typeof t&&(r=t,t=void 0),r&&"object"==typeof r&&(r instanceof l&&r.updateTables(this.colorTable,this.fontTable),e+=new b.Entities(r).compile());var n={text:e,noEscape:!0};return this.addElement(n)},addPage:function(e){this.addCommand("\\page",e)},addLine:function(e){this.addCommand("\\line",e)},addTab:function(e){this.addCommand("\\tab",e)},addSection:function(e,t){this.addCommand("\\sect",t,e)},addStyles:function(e,t){if(!e)throw new Error("Entities not defined");e&&e instanceof l&&e.updateTables(this.colorTable,this.fontTable);var r=new b.Entities(e).compile();r&&this.addCommand(r,t)},_groupIndex:function(e){return this.elements.forEach((function(t,r){if(t instanceof b.GroupElement&&t.name===e)return r})),-1},getRTFCodeRoot:function(e){return g(e)?e.map(this.getRTFCodeRoot,this).join("\n"):e instanceof b.Element?e.getRTFCode(this):b.Utils.getRTFSafeText(e)},createDocument:function(){var e="{\\rtf1\\ansi\\deff0\n";e+=new b.Entities(this.params).compile()+"\n";var t=this.getRTFCodeRoot(this.elements);return e+=b.Utils.createColorTable(this.colorTable)+"\n",e+=b.Utils.createFontTable(this.fontTable)+"\n",e+=t+"\n}"}},{Utils:n,Fonts:o,Colors:i,RGB:a,Language:s,Format:l,Entities:u,Element:c,ContainerElement:d,TextElement:f,TableElement:p,GroupElement:h}),v=!0;"object"==typeof e.exports&&(e.exports=b,v=!1),"object"==typeof modules&&(modules.define("jsrtf",(function(e){e(b)})),v=!1),v&&(("undefined"!=typeof window?window:global).jsrtf=b)},function(e,t,r){var n=r(179);e.exports={BLACK:new n(0,0,0),WHITE:new n(255,255,255),RED:new n(255,0,0),BLUE:new n(0,0,255),LIME:new n(191,255,0),YELLOW:new n(255,255,0),MAROON:new n(128,0,0),GREEN:new n(0,255,0),GRAY:new n(80,80,80),ORANGE:new n(255,127,0)}},function(e,t,r){var n=r(976),o=r(91),i=Array.isArray;function a(e,t,r){if(!Array.isArray(r))return 0;var n=r.length,o=e=>e<0?n:e;return o(r.indexOf(e))-o(r.indexOf(t))}function s(e,t){return a(e,t,n.entitiesFirst)-a(e,t,n.oprionsLast)}var l=r(68)({__constructor:function(e){Object.assign(this,e)},_notEmptyKey:function(e){return n.entities[e]&&void 0!==this[e]&&null!==this[e]&&!1!==this[e]},testFilter:function(e,t,r){if(!t)return!0;var n=e.filter;return n?(i(n)||(n=[n]),i(t)||(t=[t]),t.some(e=>n.includes(e))):!r},compile:function(e){var t=(e=e||{}).filter||this.filter,r=e.strictFilter||this.strictFilter;return Object.keys(this).filter(this._notEmptyKey,this).sort(s).map(e=>{var t=n.entities[e];return!0===t&&(t=e),t="string"==typeof t?{key:e,name:t,prefix:"\\"}:Object.assign({prefix:"\\",key:e},t)},this).filter(e=>!e.wrap).filter(e=>this.testFilter(e,t,r)).filter(e=>"function"!=typeof e.test||e.test.call(this,this[e.key]),this).map(e=>{var t=!0===this[e.key]?"":this[e.key];"function"==typeof e.value?t=e.value.call(this,this[e.key]):"object"==typeof e.value&&e.value[this[e.key]]&&(t=e.value[this[e.key]]);var r=[e.prefix,e.name,t].join("");return o.makeRtfCmd(r,"",e.postfix)},this).join("")},applyWrappers:function(e,t){var r=(t=t||{}).filter||this.filter,i=t.strictFilter||this.strictFilter;return Object.keys(this).filter(e=>"object"==typeof n.entities[e]&&n.entities[e].wrap).sort(s).reverse().map(e=>{var t=n.entities[e];return t=Object.assign({key:e,prefix:"\\"+t.name,postfix:"\\"+t.name+"0"},t)},this).filter(e=>this.testFilter(e,r,i)).filter(t=>"function"!=typeof t.test||t.test.call(this,e),this).reduce((e,t,r)=>o.makeRtfCmd(t.prefix,e,t.postfix),e)}});e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyUser=function(e,t){try{new Notification((0,o.default)("File Exported"),{body:a[t],silent:!0})}catch(e){}i.shell.showItemInFolder(e)};var n,o=(n=r(5))&&n.__esModule?n:{default:n},i=r(14);const a={word:(0,o.default)("Your Plottr file was exported to a .docx file"),scrivener:(0,o.default)("Your Plottr file was exported to a Scrivener project package")}},function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=141)}([function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(142)),n(r(143)),n(r(61)),n(r(144)),n(r(160)),n(r(161)),n(r(30))},function(e,t,r){"use strict";var n=r(6),o=r(124),i=r(27),a=r(324),s=r(18);function l(e){return e}function u(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}t.newBlob=function(e,r){t.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var n=[],o=0,i=e.length;if(i<=r)return String.fromCharCode.apply(null,e);for(;o<i;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+r,i)))):n.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+r,i)))),o+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var r=65536,n=t.getTypeOf(e),o=!0;if("uint8array"===n?o=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(o=c.applyCanBeUsed.nodebuffer),o)for(;r>1;)try{return c.stringifyByChunk(e,n,r)}catch(e){r=Math.floor(r/2)}return c.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}t.applyFromCharCode=d;var p={};p.string={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,i.allocBuffer(e.length))}},p.array={string:d,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return i.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,r){if(r||(r=""),!e)return r;t.checkSupport(e);var n=t.getTypeOf(r);return p[n][e](r)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&i.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},t.delay=function(e,t,r){a((function(){e.apply(r||null,t||[])}))},t.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r},t.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},t.prepareContent=function(e,r,i,a,l){return s.Promise.resolve(r).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(r){var c,d=t.getTypeOf(r);return d?("arraybuffer"===d?r=t.transformTo("uint8array",r):"string"===d&&(l?r=o.decode(r):i&&!0!==a&&(r=u(c=r,n.uint8array?new Uint8Array(c.length):new Array(c.length)))),r):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(29)),n(r(220)),n(r(25)),n(r(4)),n(r(90))},function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(40)),n(r(166)),n(r(167)),n(r(169)),n(r(22)),n(r(217)),n(r(21)),n(r(219))},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(146),o=r(147),i=r(63);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),o=(e=s(e,n)).write(t,r);return o!==n&&(e=e.slice(0,o)),e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=r;i<s;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(r+l>s&&(r=s-l),i=r;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(u(e,i+f)!==u(t,f)){d=!1;break}if(d)return i}return-1}function y(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return H(B(t,e.length-r),e,r,n)}function E(e,t,r,n){return H(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return E(e,t,r,n)}function O(e,t,r,n){return H(W(t),e,r,n)}function C(e,t,r,n){return H(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,l,u=e[o],c=null,d=u>239?4:u>223?3:u>191?2:1;if(o+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&u)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function k(e,t,r){var n,o=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>o)&&(r=o);for(var i="",a=t;a<r;++a)i+=(n=e[a])<16?"0"+n.toString(16):n.toString(16);return i}function I(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function A(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function R(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function N(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,i){return i||N(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,i){return i||N(e,0,r,8),o.write(e,t,r,n,52,8),r+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return u(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(n,o),c=e.slice(t,r),d=0;d<s;++d)if(u[d]!==c[d]){i=u[d],a=c[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;r=new l(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},l.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||j(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||j(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);j(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);j(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=l.isBuffer(e)?e:B(new l(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function W(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(t,r(8))},function(e,t,r){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var n=new ArrayBuffer(0);try{t.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(n),t.blob=0===o.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!r(123).Readable}catch(e){t.nodestream=!1}}).call(t,r(5).Buffer)},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)o(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,o){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),o);else for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){var t,r,n,o,i,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),o=0,t=0,r=e.length;t<r;t++)i=e[t],a.set(i,o),o+=i.length;return a}},a={arraySet:function(e,t,r,n,o){for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(19),o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var i=r(14);i.inherits=r(10);var a=r(64),s=r(35);i.inherits(d,a);for(var l=o(s.prototype),u=0;u<l.length;u++){var c=l[u];d.prototype[c]||(d.prototype[c]=s.prototype[c])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"}}}t.DocumentAttributes=o},function(e,t,r){"use strict";for(var n=r(1),o=r(6),i=r(27),a=r(3),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,t.utf8encode=function(e){return o.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,r,n,i,a,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=o.uint8array?new Uint8Array(l):new Array(l),a=0,i=0;a<l;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t}(e)},t.utf8decode=function(e){return o.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,o,i,a=e.length,l=new Array(2*a);for(r=0,t=0;t<a;)if((o=e[t++])<128)l[r++]=o;else if((i=s[o])>4)l[r++]=65533,t+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&t<a;)o=o<<6|63&e[t++],i--;i>1?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}(e=n.transformTo(o.uint8array?"uint8array":"array",e))},n.inherits(u,a),u.prototype.processChunk=function(e){var r=n.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var i=r;(r=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),r.set(i,this.leftOver.length)}else r=this.leftOver.concat(r);this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(r),l=r;a!==r.length&&(o.uint8array?(l=r.subarray(0,a),this.leftOver=r.subarray(a,r.length)):(l=r.slice(0,a),this.leftOver=r.slice(a,r.length))),this.push({data:t.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=u,n.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=c},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,r(5).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var o=r(21);t.Underline=o.Underline;var i=r(73);t.SubScript=i.SubScript,t.SuperScript=i.SuperScript;var a=r(22);t.RunFonts=a.RunFonts;class s extends n.XmlComponent{constructor(){super("w:b"),this.root.push(new n.Attributes({val:!0}))}}t.Bold=s;class l extends n.XmlComponent{constructor(){super("w:bCs"),this.root.push(new n.Attributes({val:!0}))}}t.BoldComplexScript=l;class u extends n.XmlComponent{constructor(e){super("w:spacing"),this.root.push(new n.Attributes({val:e}))}}t.CharacterSpacing=u;class c extends n.XmlComponent{constructor(){super("w:i"),this.root.push(new n.Attributes({val:!0}))}}t.Italics=c;class d extends n.XmlComponent{constructor(){super("w:iCs"),this.root.push(new n.Attributes({val:!0}))}}t.ItalicsComplexScript=d;class f extends n.XmlComponent{constructor(){super("w:caps"),this.root.push(new n.Attributes({val:!0}))}}t.Caps=f;class p extends n.XmlComponent{constructor(e){super("w:color"),this.root.push(new n.Attributes({val:e}))}}t.Color=p;class h extends n.XmlComponent{constructor(){super("w:dstrike"),this.root.push(new n.Attributes({val:!0}))}}t.DoubleStrike=h;class m extends n.XmlComponent{constructor(){super("w:emboss"),this.root.push(new n.Attributes({val:!0}))}}t.Emboss=m;class g extends n.XmlComponent{constructor(){super("w:imprint"),this.root.push(new n.Attributes({val:!0}))}}t.Imprint=g;class b extends n.XmlComponent{constructor(){super("w:smallCaps"),this.root.push(new n.Attributes({val:!0}))}}t.SmallCaps=b;class v extends n.XmlComponent{constructor(){super("w:strike"),this.root.push(new n.Attributes({val:!0}))}}t.Strike=v;class y extends n.XmlComponent{constructor(e){super("w:sz"),this.root.push(new n.Attributes({val:e}))}}t.Size=y;class w extends n.XmlComponent{constructor(e){super("w:szCs"),this.root.push(new n.Attributes({val:e}))}}t.SizeComplexScript=w;class E extends n.XmlComponent{constructor(){super("w:rtl"),this.root.push(new n.Attributes({val:!0}))}}t.RightToLeft=E;class _ extends n.XmlComponent{constructor(e){super("w:highlight"),this.root.push(new n.Attributes({val:e}))}}t.Highlight=_;class O extends n.XmlComponent{constructor(e){super("w:highlightCs"),this.root.push(new n.Attributes({val:e}))}}t.HighlightComplexScript=O;class C extends n.XmlComponent{constructor(e,t,r){super("w:shd"),this.root.push(new n.Attributes({val:e,fill:t,color:r}))}}t.Shading=C;class x extends n.XmlComponent{constructor(e,t,r){super("w:shdCs"),this.root.push(new n.Attributes({val:e,fill:t,color:r}))}}t.ShadowComplexScript=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:rPr")}push(e){this.root.push(e)}}t.RunProperties=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(238)),n(r(44))},function(e,t,r){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:r(325),e.exports={Promise:n}},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,o)}));default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(t,r(13))},function(e,t,r){var n=r(5),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a),i(o,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var o;!function(e){e.SINGLE="single",e.WORDS="words",e.DOUBLE="double",e.THICK="thick",e.DOTTED="dotted",e.DOTTEDHEAVY="dottedHeavy",e.DASH="dash",e.DASHEDHEAVY="dashedHeavy",e.DASHLONG="dashLong",e.DASHLONGHEAVY="dashLongHeavy",e.DOTDASH="dotDash",e.DASHDOTHEAVY="dashDotHeavy",e.DOTDOTDASH="dotDotDash",e.DASHDOTDOTHEAVY="dashDotDotHeavy",e.WAVE="wave",e.WAVYHEAVY="wavyHeavy",e.WAVYDOUBLE="wavyDouble"}(o=t.UnderlineType||(t.UnderlineType={}));class i extends n.XmlComponent{constructor(e,t){super("w:u"),this.root.push(new n.Attributes({val:e,color:t}))}}t.BaseUnderline=i,t.Underline=class extends i{constructor(e=o.SINGLE,t){super(e,t)}},t.DashUnderline=class extends i{constructor(){super("dash")}},t.DashDotDotHeavyUnderline=class extends i{constructor(){super("dashDotDotHeavy")}},t.DashDotHeavyUnderline=class extends i{constructor(){super("dashDotHeavy")}},t.DashLongUnderline=class extends i{constructor(){super("dashLong")}},t.DashLongHeavyUnderline=class extends i{constructor(){super("dashLongHeavy")}},t.DotDashUnderline=class extends i{constructor(){super("dotDash")}},t.DotDotDashUnderline=class extends i{constructor(){super("dotDotDash")}},t.DottedUnderline=class extends i{constructor(){super("dotted")}},t.DottedHeavyUnderline=class extends i{constructor(){super("dottedHeavy")}},t.DoubleUnderline=class extends i{constructor(){super("double")}},t.SingleUnderline=class extends i{constructor(){super("single")}},t.ThickUnderline=class extends i{constructor(){super("thick")}},t.WaveUnderline=class extends i{constructor(){super("wave")}},t.WavyDoubleUnderline=class extends i{constructor(){super("wavyDouble")}},t.WavyHeavyUnderline=class extends i{constructor(){super("wavyHeavy")}},t.WordsUnderline=class extends i{constructor(){super("words")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"}}}class i extends n.XmlComponent{constructor(e,t){super("w:rFonts"),this.root.push(new o({ascii:e,cs:e,eastAsia:e,hAnsi:e,hint:t}))}}t.RunFonts=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DEFAULT="default",e.PRESERVE="preserve"}(t.SpaceType||(t.SpaceType={}))},function(e,t,r){"use strict";var n,o,i,a=r(226),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function l(){i=!1}function u(e){if(e){if(e!==n){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));n=e,l()}}else n!==s&&(n=s,l())}function c(){return i||(i=function(){n||u(s);for(var e,t=n.split(""),r=[],o=a.nextValue();t.length>0;)o=a.nextValue(),e=Math.floor(o*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}e.exports={get:function(){return n||s},characters:function(e){return u(e),n},seed:function(e){a.seed(e),o!==e&&(l(),o=e)},lookup:function(e){return c()[e]},shuffled:c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(39);class i extends n.IgnoreIfEmptyXmlComponent{constructor(e){super("w:pPr"),e.border&&this.push(new o.Border(e.border))}push(e){this.root.push(e)}}t.ParagraphProperties=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(244)),n(r(49)),n(r(48)),n(r(248))},function(e,t,r){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,r){if(t.from&&t.from!==Uint8Array.from)return t.from(e,r);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,r)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var r=new t(e);return r.fill(0),r},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(t,r(5).Buffer)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(2)),n(r(235)),n(r(253)),n(r(312)),n(r(118)),n(r(55)),n(r(76)),n(r(100)),n(r(26)),n(r(313)),n(r(0)),n(r(54)),n(r(51)),n(r(117)),n(r(116))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(60)),n(r(39)),n(r(70)),n(r(71)),n(r(72)),n(r(86)),n(r(87)),n(r(88)),n(r(89))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseXmlComponent=class{constructor(e){this.deleted=!1,this.rootKey=e}get IsDeleted(){return this.deleted}}},function(e,t,r){var n=r(62),o=r(158),i=r(69),a=r(159);e.exports={xml2js:n,xml2json:o,js2xml:i,json2xml:a}},function(e,t,r){e.exports=o;var n=r(33).EventEmitter;function o(){n.call(this)}r(10)(o,n),o.Readable=r(34),o.Writable=r(154),o.Duplex=r(155),o.Transform=r(156),o.PassThrough=r(157),o.Stream=o,o.prototype.pipe=function(e,t){var r=this;function o(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",o),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var o,i,a,s;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=d.bind(n);return o.listener=r,n.wrapFn=o,o}function p(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):m(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var u=l.length,c=m(l,u);for(r=0;r<u;++r)i(c[r],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,o,i,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){(t=e.exports=r(64)).Stream=t,t.Readable=t,t.Writable=r(35),t.Duplex=r(9),t.Transform=r(68),t.PassThrough=r(153)},function(e,t,r){"use strict";(function(t,n,o){var i=r(19);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:i.nextTick;v.WritableState=b;var u=r(14);u.inherits=r(10);var c,d={deprecate:r(152)},f=r(65),p=r(20).Buffer,h=o.Uint8Array||function(){},m=r(66);function g(){}function b(e,t){s=s||r(9),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),C(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),n?l(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(e){if(s=s||r(9),!(c.call(v,this)||this instanceof s))return new v(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,r,n,o,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var s=0,l=!0;r;)o[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;o.allBuffers=l,y(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,d=r.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,c,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(O,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(v,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===v&&e&&e._writableState instanceof b}})):c=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,p.isBuffer(n)||n instanceof h);return s&&!p.isBuffer(e)&&(e=function(e){return p.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,o,i){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,r)),t}(t,n,o);n!==a&&(r=!0,o="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,n,o,i);return l}(this,o,s,e,t,r)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,r(13),r(67).setImmediate,r(8))},function(e,t,r){"use strict";var n=r(20).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=a(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=a(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=a(t[n]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){var n=r(38).isArray;e.exports={copyOptions:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){"spaces"in e&&("number"==typeof e.spaces||"string"==typeof e.spaces)||(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||n(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},function(e,t){e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(162);class i extends n.XmlComponent{constructor(e,t={color:"auto",space:1,value:"single",size:6}){super(e);const r=new o.BorderAttributes({color:t.color,space:t.space,val:t.value,sz:t.size});this.root.push(r)}}class a extends n.XmlComponent{constructor(e){if(super("w:pBdr"),void 0!==e.top){const t=new i("w:top",e.top);this.root.push(t)}if(void 0!==e.bottom){const t=new i("w:bottom",e.bottom);this.root.push(t)}if(void 0!==e.left){const t=new i("w:left",e.left);this.root.push(t)}if(void 0!==e.right){const t=new i("w:right",e.right);this.root.push(t)}}}t.Border=a;class s extends n.XmlComponent{constructor(){super("w:pBdr");const e=new i("w:bottom",{color:"auto",space:1,value:"single",size:6});this.root.push(e)}}t.ThematicBreak=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(163),i=r(164),a=r(41),s=r(15),l=r(165),u=r(16),c=r(74),d=r(22),f=r(73),p=r(75),h=r(21);var m;!function(e){e.CURRENT="CURRENT",e.TOTAL_PAGES="TOTAL_PAGES",e.TOTAL_PAGES_IN_SECTION="TOTAL_PAGES_IN_SECTION"}(m=t.PageNumber||(t.PageNumber={}));class g extends n.XmlComponent{constructor(e){if(super("w:r"),this.properties=new u.RunProperties,this.root.push(this.properties),e.bold&&(this.properties.push(new s.Bold),this.properties.push(new s.BoldComplexScript)),e.italics&&(this.properties.push(new s.Italics),this.properties.push(new s.ItalicsComplexScript)),e.underline&&this.properties.push(new h.Underline(e.underline.type,e.underline.color)),e.color&&this.properties.push(new s.Color(e.color)),e.size&&(this.properties.push(new s.Size(e.size)),this.properties.push(new s.SizeComplexScript(e.size))),e.rightToLeft&&this.properties.push(new s.RightToLeft),e.smallCaps&&this.properties.push(new i.SmallCaps),e.allCaps&&this.properties.push(new i.Caps),e.strike&&this.properties.push(new s.Strike),e.doubleStrike&&this.properties.push(new s.DoubleStrike),e.subScript&&this.properties.push(new f.SubScript),e.superScript&&this.properties.push(new f.SuperScript),e.style&&this.properties.push(new p.Style(e.style)),e.font&&this.properties.push(new d.RunFonts(e.font.name,e.font.hint)),e.highlight&&(this.properties.push(new s.Highlight(e.highlight)),this.properties.push(new s.HighlightComplexScript(e.highlight))),e.shading&&(this.properties.push(new s.Shading(e.shading.type,e.shading.fill,e.shading.color)),this.properties.push(new s.ShadowComplexScript(e.shading.type,e.shading.fill,e.shading.color))),e.children)for(const t of e.children)if("string"!=typeof t)this.root.push(t);else switch(t){case m.CURRENT:this.root.push(new a.Begin),this.root.push(new l.Page),this.root.push(new a.Separate),this.root.push(new a.End);break;case m.TOTAL_PAGES:this.root.push(new a.Begin),this.root.push(new l.NumberOfPages),this.root.push(new a.Separate),this.root.push(new a.End);break;case m.TOTAL_PAGES_IN_SECTION:this.root.push(new a.Begin),this.root.push(new l.NumberOfPagesSection),this.root.push(new a.Separate),this.root.push(new a.End);break;default:this.root.push(new c.Text(t))}else e.text&&this.root.push(new c.Text(e.text))}break(){return this.root.splice(1,0,new o.Break),this}}t.Run=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var o;!function(e){e.BEGIN="begin",e.END="end",e.SEPARATE="separate"}(o||(o={}));class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:fldCharType",dirty:"w:dirty"}}}class a extends n.XmlComponent{constructor(e){super("w:fldChar"),this.root.push(new i({type:o.BEGIN,dirty:e}))}}t.Begin=a;class s extends n.XmlComponent{constructor(e){super("w:fldChar"),this.root.push(new i({type:o.SEPARATE,dirty:e}))}}t.Separate=s;class l extends n.XmlComponent{constructor(e){super("w:fldChar"),this.root.push(new i({type:o.END,dirty:e}))}}t.End=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CHARACTER="character",e.COLUMN="column",e.INSIDE_MARGIN="insideMargin",e.LEFT_MARGIN="leftMargin",e.MARGIN="margin",e.OUTSIDE_MARGIN="outsideMargin",e.PAGE="page",e.RIGHT_MARGIN="rightMargin"}(t.HorizontalPositionRelativeFrom||(t.HorizontalPositionRelativeFrom={})),function(e){e.BOTTOM_MARGIN="bottomMargin",e.INSIDE_MARGIN="insideMargin",e.LINE="line",e.MARGIN="margin",e.OUTSIDE_MARGIN="outsideMargin",e.PAGE="page",e.PARAGRAPH="paragraph",e.TOP_MARGIN="topMargin"}(t.VerticalPositionRelativeFrom||(t.VerticalPositionRelativeFrom={})),function(e){e.CENTER="center",e.INSIDE="inside",e.LEFT="left",e.OUTSIDE="outside",e.RIGHT="right"}(t.HorizontalPositionAlign||(t.HorizontalPositionAlign={})),function(e){e.BOTTOM="bottom",e.CENTER="center",e.INSIDE="inside",e.OUTSIDE="outside",e.TOP="top"}(t.VerticalPositionAlign||(t.VerticalPositionAlign={}))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(204)),n(r(205)),n(r(206)),n(r(207)),n(r(208))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={style:"w:val",size:"w:sz",color:"w:color"}}}class i extends n.XmlComponent{setProperties(e,t,r){const n=new o({style:e,size:t,color:r});return this.root.push(n),this}}class a extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:tcBorders")}addTopBorder(e,t,r){const n=new i("w:top");return n.setProperties(e,t,r),this.root.push(n),this}addStartBorder(e,t,r){const n=new i("w:start");return n.setProperties(e,t,r),this.root.push(n),this}addBottomBorder(e,t,r){const n=new i("w:bottom");return n.setProperties(e,t,r),this.root.push(n),this}addEndBorder(e,t,r){const n=new i("w:end");return n.setProperties(e,t,r),this.root.push(n),this}addLeftBorder(e,t,r){const n=new i("w:left");return n.setProperties(e,t,r),this.root.push(n),this}addRightBorder(e,t,r){const n=new i("w:right");return n.setProperties(e,t,r),this.root.push(n),this}}t.TableCellBorders=a;class s extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class l extends n.XmlComponent{constructor(e){super("w:gridSpan"),this.root.push(new s({val:e}))}}t.GridSpan=l,function(e){e.CONTINUE="continue",e.RESTART="restart"}(t.VerticalMergeType||(t.VerticalMergeType={}));class u extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class c extends n.XmlComponent{constructor(e){super("w:vMerge"),this.root.push(new u({val:e}))}}t.VerticalMerge=c,function(e){e.BOTTOM="bottom",e.CENTER="center",e.TOP="top"}(t.VerticalAlign||(t.VerticalAlign={}));class d extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class f extends n.XmlComponent{constructor(e){super("w:vAlign"),this.root.push(new d({val:e}))}}t.VAlign=f,function(e){e.AUTO="auto",e.DXA="dxa",e.NIL="nil",e.PERCENTAGE="pct"}(t.WidthType||(t.WidthType={}));class p extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={width:"w:w",type:"w:type"}}}class h extends n.XmlComponent{constructor(e,t){super("w:tcW"),this.root.push(new p({width:e,type:t}))}}t.TableCellWidth=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(240))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(47);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"}}}class a extends n.XmlComponent{constructor(e,t){super("w:style"),this.root.push(new i(e)),t&&this.root.push(new o.Name(t))}}t.Style=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:name"),this.root.push(new o({val:e}))}}t.Name=i;class a extends n.XmlComponent{constructor(e){super("w:basedOn"),this.root.push(new o({val:e}))}}t.BasedOn=a;class s extends n.XmlComponent{constructor(e){super("w:next"),this.root.push(new o({val:e}))}}t.Next=s;class l extends n.XmlComponent{constructor(e){super("w:link"),this.root.push(new o({val:e}))}}t.Link=l;class u extends n.XmlComponent{constructor(e){super("w:uiPriority"),this.root.push(new o({val:e}))}}t.UiPriority=u;class c extends n.XmlComponent{constructor(){super("w:unhideWhenUsed")}}t.UnhideWhenUsed=c;class d extends n.XmlComponent{constructor(){super("w:qFormat")}}t.QuickFormat=d;class f extends n.XmlComponent{}t.TableProperties=f;class p extends n.XmlComponent{}t.RsId=p;class h extends n.XmlComponent{constructor(){super("w:semiHidden")}}t.SemiHidden=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(29),i=r(15),a=r(16),s=r(47),l=r(46);class u extends l.Style{constructor(e){super({type:"paragraph",styleId:e.id},e.name),this.paragraphProperties=new n.ParagraphProperties({}),this.runProperties=new a.RunProperties,this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e.basedOn&&this.root.push(new s.BasedOn(e.basedOn)),e.next&&this.root.push(new s.Next(e.next)),e.quickFormat&&this.root.push(new s.QuickFormat),e.link&&this.root.push(new s.Link(e.link)),e.semiHidden&&this.root.push(new s.SemiHidden),e.uiPriority&&this.root.push(new s.UiPriority(e.uiPriority)),e.unhideWhenUsed&&this.root.push(new s.UnhideWhenUsed),e.run&&(e.run.size&&(this.runProperties.push(new i.Size(e.run.size)),this.runProperties.push(new i.SizeComplexScript(e.run.size))),e.run.bold&&this.runProperties.push(new i.Bold),e.run.italics&&this.runProperties.push(new i.Italics),e.run.smallCaps&&this.runProperties.push(new i.SmallCaps),e.run.allCaps&&this.runProperties.push(new i.Caps),e.run.strike&&this.runProperties.push(new i.Strike),e.run.doubleStrike&&this.runProperties.push(new i.DoubleStrike),e.run.subScript&&this.runProperties.push(new i.SubScript),e.run.superScript&&this.runProperties.push(new i.SuperScript),e.run.underline&&this.runProperties.push(new i.Underline(e.run.underline.type,e.run.underline.color)),e.run.color&&this.runProperties.push(new i.Color(e.run.color)),e.run.font&&this.runProperties.push(new i.RunFonts(e.run.font)),e.run.characterSpacing&&this.runProperties.push(new i.CharacterSpacing(e.run.characterSpacing)),e.run.highlight&&this.runProperties.push(new i.Highlight(e.run.highlight)),e.run.shadow&&this.runProperties.push(new i.Shading(e.run.shadow.type,e.run.shadow.fill,e.run.shadow.color))),e.paragraph&&(e.paragraph.alignment&&this.paragraphProperties.push(new n.Alignment(e.paragraph.alignment)),e.paragraph.thematicBreak&&this.paragraphProperties.push(new n.ThematicBreak),e.paragraph.contextualSpacing&&this.paragraphProperties.push(new n.ContextualSpacing(e.paragraph.contextualSpacing)),e.paragraph.rightTabStop&&this.paragraphProperties.push(new o.TabStop(o.TabStopType.RIGHT,e.paragraph.rightTabStop)),e.paragraph.leftTabStop&&this.paragraphProperties.push(new o.TabStop(o.TabStopType.LEFT,e.paragraph.leftTabStop)),e.paragraph.indent&&this.paragraphProperties.push(new n.Indent(e.paragraph.indent)),e.paragraph.spacing&&this.paragraphProperties.push(new n.Spacing(e.paragraph.spacing)),e.paragraph.keepNext&&this.paragraphProperties.push(new n.KeepNext),e.paragraph.keepLines&&this.paragraphProperties.push(new n.KeepLines),e.paragraph.outlineLevel&&this.paragraphProperties.push(new n.OutlineLevel(e.paragraph.outlineLevel)))}}t.ParagraphStyle=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),o=r(16),i=r(47),a=r(46);class s extends a.Style{constructor(e){super({type:"character",styleId:e.id},e.name),this.runProperties=new o.RunProperties,this.root.push(this.runProperties),this.root.push(new i.UiPriority(99)),this.root.push(new i.UnhideWhenUsed),e.basedOn&&this.root.push(new i.BasedOn(e.basedOn)),e.link&&this.root.push(new i.Link(e.link)),e.semiHidden&&this.root.push(new i.SemiHidden),e.run&&(e.run.size&&(this.runProperties.push(new n.Size(e.run.size)),this.runProperties.push(new n.SizeComplexScript(e.run.size))),e.run.bold&&this.runProperties.push(new n.Bold),e.run.italics&&this.runProperties.push(new n.Italics),e.run.smallCaps&&this.runProperties.push(new n.SmallCaps),e.run.allCaps&&this.runProperties.push(new n.Caps),e.run.strike&&this.runProperties.push(new n.Strike),e.run.doubleStrike&&this.runProperties.push(new n.DoubleStrike),e.run.subScript&&this.runProperties.push(new n.SubScript),e.run.superScript&&this.runProperties.push(new n.SuperScript),e.run.underline&&this.runProperties.push(new n.Underline(e.run.underline.type,e.run.underline.color)),e.run.color&&this.runProperties.push(new n.Color(e.run.color)),e.run.font&&this.runProperties.push(new n.RunFonts(e.run.font)),e.run.characterSpacing&&this.runProperties.push(new n.CharacterSpacing(e.run.characterSpacing)),e.run.highlight&&this.runProperties.push(new n.Highlight(e.run.highlight)),e.run.shadow&&this.runProperties.push(new n.Shading(e.run.shadow.type,e.run.shadow.fill,e.run.shadow.color)))}}t.CharacterStyle=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.PORTRAIT="portrait",e.LANDSCAPE="landscape"}(t.PageOrientation||(t.PageOrientation={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={width:"w:w",height:"w:h",orientation:"w:orient"}}}t.PageSizeAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(280),o=r(52);t.FooterWrapper=class{constructor(e,t,r){this.media=e,this.footer=new n.Footer(t,r),this.relationships=new o.Relationships}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get Footer(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(282))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(284);!function(e){e.EXTERNAL="External"}(t.TargetModeType||(t.TargetModeType={}));class i extends n.XmlComponent{constructor(e,t,r,n){super("Relationship"),this.root.push(new o.RelationshipAttributes({id:e,type:t,target:r,targetMode:n}))}}t.Relationship=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(298),o=r(52);t.HeaderWrapper=class{constructor(e,t,r){this.media=e,this.header=new n.Header(t,r),this.relationships=new o.Relationships}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get Header(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(300)),n(r(301))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(29),i=r(25),a=r(15),s=r(16);class l extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl",tentative:"w15:tentative"}}}class u extends n.XmlComponent{constructor(e){super("w:start"),this.root.push(new n.Attributes({val:e}))}}class c extends n.XmlComponent{constructor(e){super("w:numFmt"),this.root.push(new n.Attributes({val:e}))}}class d extends n.XmlComponent{constructor(e){super("w:lvlText"),this.root.push(new n.Attributes({val:e}))}}class f extends n.XmlComponent{constructor(e){super("w:lvlJc"),this.root.push(new n.Attributes({val:e}))}}!function(e){e.NOTHING="nothing",e.SPACE="space",e.TAB="tab"}(t.LevelSuffix||(t.LevelSuffix={}));class p extends n.XmlComponent{constructor(e){super("w:suff"),this.root.push(new n.Attributes({val:e}))}}class h extends n.XmlComponent{constructor({level:e,format:t,text:r,alignment:n=o.AlignmentType.START,start:h=1,style:m,suffix:g}){super("w:lvl"),this.root.push(new l({ilvl:e,tentative:1})),this.root.push(new u(h)),this.root.push(new f(n)),t&&this.root.push(new c(t)),r&&this.root.push(new d(r)),this.paragraphProperties=new i.ParagraphProperties({}),this.runProperties=new s.RunProperties,this.root.push(this.paragraphProperties),this.root.push(this.runProperties),g&&this.root.push(new p(g)),m&&(m.run&&(m.run.size&&this.runProperties.push(new a.Size(m.run.size)),m.run.bold&&this.runProperties.push(new a.Bold),m.run.italics&&this.runProperties.push(new a.Italics),m.run.smallCaps&&this.runProperties.push(new a.SmallCaps),m.run.allCaps&&this.runProperties.push(new a.Caps),m.run.strike&&this.runProperties.push(new a.Strike),m.run.doubleStrike&&this.runProperties.push(new a.DoubleStrike),m.run.subScript&&this.runProperties.push(new a.SubScript),m.run.superScript&&this.runProperties.push(new a.SuperScript),m.run.underline&&this.runProperties.push(new a.Underline(m.run.underline.type,m.run.underline.color)),m.run.color&&this.runProperties.push(new a.Color(m.run.color)),m.run.font&&this.runProperties.push(new a.RunFonts(m.run.font)),m.run.highlight&&this.runProperties.push(new a.Highlight(m.run.highlight)),m.run.shadow&&this.runProperties.push(new a.Shading(m.run.shadow.type,m.run.shadow.fill,m.run.shadow.color))),m.paragraph&&(m.paragraph.alignment&&this.paragraphProperties.push(new o.Alignment(m.paragraph.alignment)),m.paragraph.thematicBreak&&this.paragraphProperties.push(new o.ThematicBreak),m.paragraph.rightTabStop&&this.paragraphProperties.push(new o.TabStop(o.TabStopType.RIGHT,m.paragraph.rightTabStop)),m.paragraph.leftTabStop&&this.paragraphProperties.push(new o.TabStop(o.TabStopType.LEFT,m.paragraph.leftTabStop)),m.paragraph.indent&&this.paragraphProperties.push(new o.Indent(m.paragraph.indent)),m.paragraph.spacing&&this.paragraphProperties.push(new o.Spacing(m.paragraph.spacing)),m.paragraph.keepNext&&this.paragraphProperties.push(new o.KeepNext),m.paragraph.keepLines&&this.paragraphProperties.push(new o.KeepLines)))}}t.LevelBase=h,t.Level=class extends h{constructor(e){super(e)}},t.LevelForOverride=class extends h{}},function(e,t,r){"use strict";var n=r(18),o=r(127),i=r(128),a=r(129);function s(e,t,r,n,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=o}i=r(128),s.prototype={getContentWorker:function(){var e=new o(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new o(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new a).pipe(new i("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new i("compressedSize")).withStreamInfo("compression",t)},e.exports=s},function(e,t,r){"use strict";var n=r(1),o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var i=o,a=n+r;e^=-1;for(var s=n;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var i=o,a=n+r;e^=-1;for(var s=n;s<a;s++)e=e>>>8^i[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.START="start",e.END="end",e.CENTER="center",e.BOTH="both",e.JUSTIFIED="both",e.DISTRIBUTE="distribute",e.LEFT="left",e.RIGHT="right"}(t.AlignmentType||(t.AlignmentType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}t.AlignmentAttributes=o;class i extends n.XmlComponent{constructor(e){super("w:jc"),this.root.push(new o({val:e}))}}t.Alignment=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(30);class o extends n.BaseXmlComponent{constructor(e){super("_attr"),this.root=e}prepForXml(){const e={};return Object.keys(this.root).forEach(t=>{const r=this.root[t];if(void 0!==r){const n=this.xmlKeys&&this.xmlKeys[t]||t;e[n]=r}}),{_attr:e}}set(e){this.root=e}}t.XmlAttributeComponent=o},function(e,t,r){var n,o,i=r(145),a=r(37),s=r(38).isArray;function l(e){var t=Number(e);if(!isNaN(t))return t;var r=e.toLowerCase();return"true"===r||"false"!==r&&e}function u(e,t){var r;if(n.compact){if(!o[n[e+"Key"]]&&(s(n.alwaysArray)?-1!==n.alwaysArray.indexOf(n[e+"Key"]):n.alwaysArray)&&(o[n[e+"Key"]]=[]),o[n[e+"Key"]]&&!s(o[n[e+"Key"]])&&(o[n[e+"Key"]]=[o[n[e+"Key"]]]),e+"Fn"in n&&"string"==typeof t&&(t=n[e+"Fn"](t,o)),"instruction"===e&&("instructionFn"in n||"instructionNameFn"in n))for(r in t)if(t.hasOwnProperty(r))if("instructionFn"in n)t[r]=n.instructionFn(t[r],r,o);else{var i=t[r];delete t[r],t[n.instructionNameFn(r,i,o)]=i}s(o[n[e+"Key"]])?o[n[e+"Key"]].push(t):o[n[e+"Key"]]=t}else{o[n.elementsKey]||(o[n.elementsKey]=[]);var a={};if(a[n.typeKey]=e,"instruction"===e){for(r in t)if(t.hasOwnProperty(r))break;a[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(r,t,o):r,n.instructionHasAttributes?(a[n.attributesKey]=t[r][n.attributesKey],"instructionFn"in n&&(a[n.attributesKey]=n.instructionFn(a[n.attributesKey],r,o))):("instructionFn"in n&&(t[r]=n.instructionFn(t[r],r,o)),a[n.instructionKey]=t[r])}else e+"Fn"in n&&(t=n[e+"Fn"](t,o)),a[n[e+"Key"]]=t;n.addParent&&(a[n.parentKey]=o),o[n.elementsKey].push(a)}}function c(e){var t;if("attributesFn"in n&&e&&(e=n.attributesFn(e,o)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(n.trim&&(e[t]=e[t].trim()),n.nativeTypeAttributes&&(e[t]=l(e[t])),"attributeValueFn"in n&&(e[t]=n.attributeValueFn(e[t],t,o)),"attributeNameFn"in n)){var r=e[t];delete e[t],e[n.attributeNameFn(t,e[t],o)]=r}return e}function d(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||n.instructionHasAttributes)){for(var r,i=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(r=i.exec(e.body));)t[r[1]]=r[2]||r[3]||r[4];t=c(t)}if("xml"===e.name.toLowerCase()){if(n.ignoreDeclaration)return;o[n.declarationKey]={},Object.keys(t).length&&(o[n.declarationKey][n.attributesKey]=t),n.addParent&&(o[n.declarationKey][n.parentKey]=o)}else{if(n.ignoreInstruction)return;n.trim&&(e.body=e.body.trim());var a={};n.instructionHasAttributes&&Object.keys(t).length?(a[e.name]={},a[e.name][n.attributesKey]=t):a[e.name]=e.body,u("instruction",a)}}function f(e,t){var r;if("object"==typeof e&&(t=e.attributes,e=e.name),t=c(t),"elementNameFn"in n&&(e=n.elementNameFn(e,o)),n.compact){var i;if(r={},!n.ignoreAttributes&&t&&Object.keys(t).length)for(i in r[n.attributesKey]={},t)t.hasOwnProperty(i)&&(r[n.attributesKey][i]=t[i]);e in o||(s(n.alwaysArray)?-1===n.alwaysArray.indexOf(e):!n.alwaysArray)||(o[e]=[]),o[e]&&!s(o[e])&&(o[e]=[o[e]]),s(o[e])?o[e].push(r):o[e]=r}else o[n.elementsKey]||(o[n.elementsKey]=[]),(r={})[n.typeKey]="element",r[n.nameKey]=e,!n.ignoreAttributes&&t&&Object.keys(t).length&&(r[n.attributesKey]=t),n.alwaysChildren&&(r[n.elementsKey]=[]),o[n.elementsKey].push(r);r[n.parentKey]=o,o=r}function p(e){n.ignoreText||(e.trim()||n.captureSpacesBetweenElements)&&(n.trim&&(e=e.trim()),n.nativeType&&(e=l(e)),n.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),u("text",e))}function h(e){n.ignoreComment||(n.trim&&(e=e.trim()),u("comment",e))}function m(e){var t=o[n.parentKey];n.addParent||delete o[n.parentKey],o=t}function g(e){n.ignoreCdata||(n.trim&&(e=e.trim()),u("cdata",e))}function b(e){n.ignoreDoctype||(e=e.replace(/^ /,""),n.trim&&(e=e.trim()),u("doctype",e))}function v(e){e.note=e}e.exports=function(e,t){var r=i.parser(!0,{}),s={};if(o=s,n=function(e){return n=a.copyOptions(e),a.ensureFlagExists("ignoreDeclaration",n),a.ensureFlagExists("ignoreInstruction",n),a.ensureFlagExists("ignoreAttributes",n),a.ensureFlagExists("ignoreText",n),a.ensureFlagExists("ignoreComment",n),a.ensureFlagExists("ignoreCdata",n),a.ensureFlagExists("ignoreDoctype",n),a.ensureFlagExists("compact",n),a.ensureFlagExists("alwaysChildren",n),a.ensureFlagExists("addParent",n),a.ensureFlagExists("trim",n),a.ensureFlagExists("nativeType",n),a.ensureFlagExists("nativeTypeAttributes",n),a.ensureFlagExists("sanitize",n),a.ensureFlagExists("instructionHasAttributes",n),a.ensureFlagExists("captureSpacesBetweenElements",n),a.ensureAlwaysArrayExists(n),a.ensureKeyExists("declaration",n),a.ensureKeyExists("instruction",n),a.ensureKeyExists("attributes",n),a.ensureKeyExists("text",n),a.ensureKeyExists("comment",n),a.ensureKeyExists("cdata",n),a.ensureKeyExists("doctype",n),a.ensureKeyExists("type",n),a.ensureKeyExists("name",n),a.ensureKeyExists("elements",n),a.ensureKeyExists("parent",n),a.checkFnExists("doctype",n),a.checkFnExists("instruction",n),a.checkFnExists("cdata",n),a.checkFnExists("comment",n),a.checkFnExists("text",n),a.checkFnExists("instructionName",n),a.checkFnExists("elementName",n),a.checkFnExists("attributeName",n),a.checkFnExists("attributeValue",n),a.checkFnExists("attributes",n),n}(t),r.opt={strictEntities:!0},r.onopentag=f,r.ontext=p,r.oncomment=h,r.onclosetag=m,r.onerror=v,r.oncdata=g,r.ondoctype=b,r.onprocessinginstruction=d,r.write(e).close(),s[n.elementsKey]){var l=s[n.elementsKey];delete s[n.elementsKey],s[n.elementsKey]=l,delete s.text}return s}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";(function(t,n){var o=r(19);e.exports=y;var i,a=r(63);y.ReadableState=v,r(33).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=r(65),u=r(20).Buffer,c=t.Uint8Array||function(){},d=r(14);d.inherits=r(10);var f=r(148),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var h,m=r(149),g=r(66);d.inherits(y,l);var b=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(i=i||r(9));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(36).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(9),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function w(e,t,r,n,o){var i,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(o||(i=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),i?e.emit("error",i):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?E(e,a,t,!1):x(e,a)):E(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),x(e,t)}function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(C,e):C(e))}function C(e){p("emit readable"),e.emit("readable"),k(e)}function x(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(T,e,t))}function T(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function S(e){p("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,o=r.data;for(e-=o.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0==(e-=a)){a===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++n}return t.length-=n,o}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,o=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,a),0==(e-=a)){a===i.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++o}return t.length-=o,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(j,t,e))}function j(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return h||(h=r(36).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this},y.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):O(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&A(this),null;var n,o=t.needReadable;return p("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",o=!0),t.ended||t.reading?p("reading or ended",o=!1):o&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(r,t))),null===(n=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&A(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,p("pipe count=%d opts=%j",i.pipesCount,t);var l=t&&!1===t.end||e===n.stdout||e===n.stderr?y:c;function u(t,n){p("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),e.removeListener("close",b),e.removeListener("finish",v),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",m),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){p("onend"),e.end()}i.endEmitted?o.nextTick(l):r.once("end",l),e.on("unpipe",u);var d=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,k(e))}}(r);e.on("drain",d);var f=!1,h=!1;function m(t){p("ondata"),h=!1,!1!==e.write(t)||h||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==D(i.pipes,e))&&!f&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function g(t){p("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",v),y()}function v(){p("onfinish"),e.removeListener("close",b),y()}function y(){p("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",b),e.once("finish",v),e.emit("pipe",r),i.flowing||(p("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,r);return this}var a=D(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):o.nextTick(S,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(P,e,t))}(this,e)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){p("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<b.length;i++)e.on(b[i],this.emit.bind(this,b[i]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=I}).call(t,r(8),r(13))},function(e,t,r){e.exports=r(33).EventEmitter},function(e,t,r){"use strict";var n=r(19);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(151),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,r(8))},function(e,t,r){"use strict";e.exports=a;var n=r(9),o=r(14);function i(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){l(e,t,r)})):l(this,null,null)}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=r(10),o.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){var n,o,i=r(37),a=r(38).isArray;function s(e,t,r){return(!r&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function l(e,t,r){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,o,n));var i,a,l,u,c=[];for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&void 0!==e[i]&&(u=t.noQuotesForNativeAttributes&&"string"!=typeof e[i]?"":'"',a=(a=""+e[i]).replace(/"/g,"&quot;"),l="attributeNameFn"in t?t.attributeNameFn(i,a,o,n):i,c.push(t.spaces&&t.indentAttributes?s(t,r+1,!1):" "),c.push(l+"="+u+("attributeValueFn"in t?t.attributeValueFn(a,i,o,n):a)+u));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&c.push(s(t,r,!1)),c.join("")}function u(e,t,r){return n=e,o="xml",t.ignoreDeclaration?"":"<?xml"+l(e[t.attributesKey],t,r)+"?>"}function c(e,t,r){if(t.ignoreInstruction)return"";var i;for(i in e)if(e.hasOwnProperty(i))break;var a="instructionNameFn"in t?t.instructionNameFn(i,e[i],o,n):i;if("object"==typeof e[i])return n=e,o=a,"<?"+a+l(e[i][t.attributesKey],t,r)+"?>";var s=e[i]?e[i]:"";return"instructionFn"in t&&(s=t.instructionFn(s,i,o,n)),"<?"+a+(s?" "+s:"")+"?>"}function d(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,o,n):e)+"--\x3e"}function f(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,o,n):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function p(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,o,n):e)+">"}function h(e,t){return t.ignoreText?"":(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,o,n):e)}function m(e,t,r,i){return e.reduce((function(e,a){var u=s(t,r,i&&!e);switch(a.type){case"element":return e+u+function(e,t,r){n=e,o=e.name;var i=[],a="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;i.push("<"+a),e[t.attributesKey]&&i.push(l(e[t.attributesKey],t,r));var s=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"];return s||(s="fullTagEmptyElementFn"in t?t.fullTagEmptyElementFn(e.name,e):t.fullTagEmptyElement),s?(i.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(i.push(m(e[t.elementsKey],t,r+1)),n=e,o=e.name),i.push(t.spaces&&function(e,t){var r;if(e.elements&&e.elements.length)for(r=0;r<e.elements.length;++r)switch(e.elements[r][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":default:return!0}return!1}(e,t)?"\n"+Array(r+1).join(t.spaces):""),i.push("</"+a+">")):i.push("/>"),i.join("")}(a,t,r);case"comment":return e+u+d(a[t.commentKey],t);case"doctype":return e+u+p(a[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?u:"")+f(a[t.cdataKey],t);case"text":return e+(t.indentText?u:"")+h(a[t.textKey],t);case"instruction":var g={};return g[a[t.nameKey]]=a[t.attributesKey]?a:a[t.instructionKey],e+(t.indentInstruction?u:"")+c(g,t,r)}}),"")}function g(e,t,r){var n;for(n in e)if(e.hasOwnProperty(n))switch(n){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||r)return!0;break;case t.cdataKey:if(t.indentCdata||r)return!0;break;case t.instructionKey:if(t.indentInstruction||r)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function b(e,t,r,i,a){n=e,o=t;var u="elementNameFn"in r?r.elementNameFn(t,e):t;if(null==e||""===e)return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(t,e)||r.fullTagEmptyElement?"<"+u+"></"+u+">":"<"+u+"/>";var c=[];if(t){if(c.push("<"+u),"object"!=typeof e)return c.push(">"+h(e,r)+"</"+u+">"),c.join("");e[r.attributesKey]&&c.push(l(e[r.attributesKey],r,i));var d=g(e,r,!0)||e[r.attributesKey]&&"preserve"===e[r.attributesKey]["xml:space"];if(d||(d="fullTagEmptyElementFn"in r?r.fullTagEmptyElementFn(t,e):r.fullTagEmptyElement),!d)return c.push("/>"),c.join("");c.push(">")}return c.push(v(e,r,i+1,!1)),n=e,o=t,t&&c.push((a?s(r,i,!1):"")+"</"+u+">"),c.join("")}function v(e,t,r,n){var o,i,l,m=[];for(i in e)if(e.hasOwnProperty(i))for(l=a(e[i])?e[i]:[e[i]],o=0;o<l.length;++o){switch(i){case t.declarationKey:m.push(u(l[o],t,r));break;case t.instructionKey:m.push((t.indentInstruction?s(t,r,n):"")+c(l[o],t,r));break;case t.attributesKey:case t.parentKey:break;case t.textKey:m.push((t.indentText?s(t,r,n):"")+h(l[o],t));break;case t.cdataKey:m.push((t.indentCdata?s(t,r,n):"")+f(l[o],t));break;case t.doctypeKey:m.push(s(t,r,n)+p(l[o],t));break;case t.commentKey:m.push(s(t,r,n)+d(l[o],t));break;default:m.push(s(t,r,n)+b(l[o],i,t,r,g(l[o],t)))}n=n&&!m.length}return m.join("")}e.exports=function(e,t){t=function(e){var t=i.copyOptions(e);return i.ensureFlagExists("ignoreDeclaration",t),i.ensureFlagExists("ignoreInstruction",t),i.ensureFlagExists("ignoreAttributes",t),i.ensureFlagExists("ignoreText",t),i.ensureFlagExists("ignoreComment",t),i.ensureFlagExists("ignoreCdata",t),i.ensureFlagExists("ignoreDoctype",t),i.ensureFlagExists("compact",t),i.ensureFlagExists("indentText",t),i.ensureFlagExists("indentCdata",t),i.ensureFlagExists("indentAttributes",t),i.ensureFlagExists("indentInstruction",t),i.ensureFlagExists("fullTagEmptyElement",t),i.ensureFlagExists("noQuotesForNativeAttributes",t),i.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),i.ensureKeyExists("declaration",t),i.ensureKeyExists("instruction",t),i.ensureKeyExists("attributes",t),i.ensureKeyExists("text",t),i.ensureKeyExists("comment",t),i.ensureKeyExists("cdata",t),i.ensureKeyExists("doctype",t),i.ensureKeyExists("type",t),i.ensureKeyExists("name",t),i.ensureKeyExists("elements",t),i.checkFnExists("doctype",t),i.checkFnExists("instruction",t),i.checkFnExists("cdata",t),i.checkFnExists("comment",t),i.checkFnExists("text",t),i.checkFnExists("instructionName",t),i.checkFnExists("elementName",t),i.checkFnExists("attributeName",t),i.checkFnExists("attributeValue",t),i.checkFnExists("attributes",t),i.checkFnExists("fullTagEmptyElement",t),t}(t);var r=[];return n=e,o="_root_",t.compact?r.push(v(e,t,0,!0)):(e[t.declarationKey]&&r.push(u(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&r.push(m(e[t.elementsKey],t,0,!r.length))),r.join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={left:"w:left",hanging:"w:hanging",firstLine:"w:firstLine",start:"w:start",end:"w:end",right:"w:end"}}}class i extends n.XmlComponent{constructor(e){super("w:ind"),this.root.push(new o(e))}}t.Indent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:keepLines")}}t.KeepLines=o;class i extends n.XmlComponent{constructor(){super("w:keepNext")}}t.KeepNext=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(4);class i extends n.XmlComponent{constructor(){super("w:br"),this.root.push(new n.Attributes({type:"page"}))}}class a extends o.Run{constructor(){super({}),this.root.push(new i)}}t.PageBreak=a;class s extends n.XmlComponent{constructor(){super("w:pageBreakBefore")}}t.PageBreakBefore=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("w:vertAlign"),this.root.push(new n.Attributes({val:e}))}}t.VerticalAlign=o,t.SuperScript=class extends o{constructor(){super("superscript")}},t.SubScript=class extends o{constructor(){super("subscript")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(e){super("w:t"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push(e)}}t.Text=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:rStyle"),this.root.push(new o({val:e}))}}t.Style=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(170)),n(r(43)),n(r(77))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(42)),n(r(173)),n(r(174)),n(r(175))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("wp:align"),this.root.push(e)}}t.Align=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}t.PositionOffset=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(176))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(209);class i extends n.XmlComponent{constructor(){super("wp:docPr"),this.root.push(new o.DocPropertiesAttributes({id:0,name:"",descr:""}))}}t.DocProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(210);class i extends n.XmlComponent{constructor(){super("wp:effectExtent"),this.root.push(new o.EffectExtentAttributes({b:0,l:0,r:0,t:0}))}}t.EffectExtent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(211);class i extends n.XmlComponent{constructor(e,t){super("wp:extent"),this.attributes=new o.ExtentAttributes({cx:e,cy:t}),this.root.push(this.attributes)}setXY(e,t){this.attributes.set({cx:e,cy:t})}}t.Extent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(212);class i extends n.XmlComponent{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new o.GraphicFrameLocks)}}t.GraphicFrameProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"}}}t.AnchorAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"}}}class i extends n.XmlComponent{constructor(e){super("w:spacing"),this.root.push(new o(e))}}t.Spacing=i;class a extends n.XmlComponent{constructor(e){super("w:contextualSpacing"),this.root.push(new n.Attributes({val:!1===e?0:1}))}}t.ContextualSpacing=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.HEADING_1="Heading1",e.HEADING_2="Heading2",e.HEADING_3="Heading3",e.HEADING_4="Heading4",e.HEADING_5="Heading5",e.HEADING_6="Heading6",e.TITLE="Title"}(t.HeadingLevel||(t.HeadingLevel={}));class o extends n.XmlComponent{constructor(e){super("w:pStyle"),this.root.push(new n.Attributes({val:e}))}}t.Style=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e,t,r){super("w:tabs"),this.root.push(new a(e,t,r))}}t.TabStop=o,function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center",e.BAR="bar",e.CLEAR="clear",e.DECIMAL="decimal",e.END="end",e.NUM="num",e.START="start"}(t.TabStopType||(t.TabStopType={})),function(e){e.DOT="dot",e.HYPHEN="hyphen",e.MIDDLE_DOT="middleDot",e.NONE="none",e.UNDERSCORE="underscore"}(t.LeaderType||(t.LeaderType={})),function(e){e[e.MAX=9026]="MAX"}(t.TabStopPosition||(t.TabStopPosition={}));class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val",pos:"w:pos",leader:"w:leader"}}}t.TabAttributes=i;class a extends n.XmlComponent{constructor(e,t,r){super("w:tab"),this.root.push(new i({val:e,pos:t,leader:r}))}}t.TabStopItem=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e,t){super("w:numPr"),this.root.push(new i(t)),this.root.push(new a(e))}}t.NumberProperties=o;class i extends n.XmlComponent{constructor(e){super("w:ilvl"),this.root.push(new n.Attributes({val:e}))}}class a extends n.XmlComponent{constructor(e){super("w:numId"),this.root.push(new n.Attributes({val:"string"==typeof e?`{${e}}`:e}))}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(222)),n(r(224)),n(r(234))},function(e,t,r){"use strict";e.exports=r(225)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(243)),n(r(95)),n(r(97)),n(r(93)),n(r(96))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),o=r(0);class i extends o.XmlComponent{constructor(e){super("w:tblBorders"),e.top?this.root.push(new a("w:top",e.top.style,e.top.size,0,e.top.color)):this.root.push(new a("w:top",n.BorderStyle.SINGLE,4,0,"auto")),e.left?this.root.push(new a("w:left",e.left.style,e.left.size,0,e.left.color)):this.root.push(new a("w:left",n.BorderStyle.SINGLE,4,0,"auto")),e.bottom?this.root.push(new a("w:bottom",e.bottom.style,e.bottom.size,0,e.bottom.color)):this.root.push(new a("w:bottom",n.BorderStyle.SINGLE,4,0,"auto")),e.right?this.root.push(new a("w:right",e.right.style,e.right.size,0,e.right.color)):this.root.push(new a("w:right",n.BorderStyle.SINGLE,4,0,"auto")),e.insideHorizontal?this.root.push(new a("w:insideH",e.insideHorizontal.style,e.insideHorizontal.size,0,e.insideHorizontal.color)):this.root.push(new a("w:insideH",n.BorderStyle.SINGLE,4,0,"auto")),e.insideVertical?this.root.push(new a("w:insideV",e.insideVertical.style,e.insideVertical.size,0,e.insideVertical.color)):this.root.push(new a("w:insideV",n.BorderStyle.SINGLE,4,0,"auto"))}}t.TableBorders=i;class a extends o.XmlComponent{constructor(e,t,r,n,o){super(e),this.root.push(new s({value:t,size:r,space:n,color:o}))}}class s extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={value:"w:val",size:"w:sz",space:"w:space",color:"w:color"}}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(46)),n(r(48)),n(r(49)),n(r(245))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(96);!function(e){e.MARGIN="margin",e.PAGE="page",e.TEXT="text"}(t.TableAnchorType||(t.TableAnchorType={})),function(e){e.CENTER="center",e.INSIDE="inside",e.LEFT="left",e.OUTSIDE="outside",e.RIGHT="right"}(t.RelativeHorizontalPosition||(t.RelativeHorizontalPosition={})),function(e){e.CENTER="center",e.INSIDE="inside",e.BOTTOM="bottom",e.OUTSIDE="outside",e.INLINE="inline",e.TOP="top"}(t.RelativeVerticalPosition||(t.RelativeVerticalPosition={}));class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={horizontalAnchor:"w:horzAnchor",verticalAnchor:"w:vertAnchor",absoluteHorizontalPosition:"w:tblpX",relativeHorizontalPosition:"w:tblpXSpec",absoluteVerticalPosition:"w:tblpY",relativeVerticalPosition:"w:tblpYSpec",bottomFromText:"w:bottomFromText",topFromText:"w:topFromText",leftFromText:"w:leftFromText",rightFromText:"w:rightFromText"}}}t.TableFloatOptionsAttributes=i;class a extends n.XmlComponent{constructor(e){super("w:tblpPr"),this.root.push(new i(e)),e.overlap&&this.root.push(new o.TableOverlap(e.overlap))}}t.TableFloatProperties=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.NEVER="never",e.OVERLAP="overlap"}(t.OverlapType||(t.OverlapType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:tblOverlap"),this.root.push(new o({val:e}))}}t.TableOverlap=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.AUTOFIT="autofit",e.FIXED="fixed"}(t.TableLayoutType||(t.TableLayoutType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type"}}}class i extends n.XmlComponent{constructor(e){super("w:tblLayout"),this.root.push(new o({type:e}))}}t.TableLayout=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99),o=r(0);class i extends o.IgnoreIfEmptyXmlComponent{constructor(){super("w:trPr")}setCantSplit(){return this.root.push(new s),this}setTableHeader(){return this.root.push(new u),this}setHeight(e,t){return this.root.push(new n.TableRowHeight(e,t)),this}}t.TableRowProperties=i;class a extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class s extends o.XmlComponent{constructor(){super("w:cantSplit"),this.root.push(new a({val:!0}))}}t.CantSplit=s;class l extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class u extends o.XmlComponent{constructor(){super("w:tblHeader"),this.root.push(new l({val:!0}))}}t.TableHeader=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.AUTO="auto",e.ATLEAST="atLeast",e.EXACT="exact"}(t.HeightRule||(t.HeightRule={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={height:"w:val",rule:"w:hRule"}}}t.TableRowHeightAttributes=o;class i extends n.XmlComponent{constructor(e,t){super("w:trHeight"),this.root.push(new o({height:e,rule:t}))}}t.TableRowHeight=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(265)),n(r(11)),n(r(101))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(266)),n(r(115))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(267),i=r(269),a=r(103),s=r(104),l=r(106),u=r(107),c=r(109),d=r(110),f=r(273),p=r(111),h=r(112),m=r(50),g=r(276),b=r(113);class v extends n.XmlComponent{constructor(e={column:{}}){super("w:sectPr");const{width:t=11906,height:r=16838,top:n=1440,right:a=1440,bottom:s=1440,left:l=1440,header:u=708,footer:v=708,gutter:y=0,mirror:w=!1,column:E={},linePitch:_=360,orientation:O=m.PageOrientation.PORTRAIT,headers:C,footers:x,pageNumberFormatType:T,pageNumberStart:S,lineNumberCountBy:P,lineNumberStart:k,lineNumberRestart:I,lineNumberDistance:A,pageBorders:j,pageBorderTop:D,pageBorderRight:R,pageBorderBottom:N,pageBorderLeft:M,titlePage:L=!1,verticalAlign:F}=e;this.options=e,this.root.push(new h.PageSize(t,r,O)),this.root.push(new f.PageMargin(n,a,s,l,u,v,y,w)),this.root.push(new o.Columns(E.space?E.space:708,E.count?E.count:1)),this.root.push(new i.DocumentGrid(_)),this.addHeaders(C),this.addFooters(x),(S||T)&&this.root.push(new p.PageNumberType(S,T)),(P||k||I||A)&&this.root.push(new c.LineNumberType(P,k,I,A)),(j||D||R||N||M)&&this.root.push(new d.PageBorders({pageBorders:j,pageBorderTop:D,pageBorderRight:R,pageBorderBottom:N,pageBorderLeft:M})),L&&this.root.push(new g.TitlePage),F&&this.root.push(new b.SectionVerticalAlign(F))}addHeaders(e){e&&(e.default&&this.root.push(new u.HeaderReference({headerType:l.HeaderReferenceType.DEFAULT,headerId:e.default.Header.ReferenceId})),e.first&&this.root.push(new u.HeaderReference({headerType:l.HeaderReferenceType.FIRST,headerId:e.first.Header.ReferenceId})),e.even&&this.root.push(new u.HeaderReference({headerType:l.HeaderReferenceType.EVEN,headerId:e.even.Header.ReferenceId})))}addFooters(e){e&&(e.default&&this.root.push(new s.FooterReference({footerType:a.FooterReferenceType.DEFAULT,footerId:e.default.Footer.ReferenceId})),e.first&&this.root.push(new s.FooterReference({footerType:a.FooterReferenceType.FIRST,footerId:e.first.Footer.ReferenceId})),e.even&&this.root.push(new s.FooterReference({footerType:a.FooterReferenceType.EVEN,footerId:e.even.Footer.ReferenceId})))}get Options(){return this.options}}t.SectionProperties=v},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(104)),n(r(105))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(105);class i extends n.XmlComponent{constructor(e){super("w:footerReference"),this.root.push(new o.FooterReferenceAttributes({type:e.footerType||o.FooterReferenceType.DEFAULT,id:`rId${e.footerId}`}))}}t.FooterReference=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.DEFAULT="default",e.FIRST="first",e.EVEN="even"}(t.FooterReferenceType||(t.FooterReferenceType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"r:id"}}}t.FooterReferenceAttributes=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(107)),n(r(108))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(108);class i extends n.XmlComponent{constructor(e){super("w:headerReference"),this.root.push(new o.HeaderReferenceAttributes({type:e.headerType||o.HeaderReferenceType.DEFAULT,id:`rId${e.headerId}`}))}}t.HeaderReference=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.DEFAULT="default",e.FIRST="first",e.EVEN="even"}(t.HeaderReferenceType||(t.HeaderReferenceType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"r:id"}}}t.HeaderReferenceAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(271))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(272))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(275))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(50);class i extends n.XmlComponent{constructor(e,t,r){super("w:pgSz");const n=r===o.PageOrientation.LANDSCAPE;this.root.push(new o.PageSizeAttributes({width:n?t:e,height:n?e:t,orientation:r}))}}t.PageSize=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(278)),n(r(114))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={verticalAlign:"w:val"}}}t.SectionVerticalAlignAttributes=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(102)),n(r(103)),n(r(106)),n(r(279)),n(r(111)),n(r(110)),n(r(109)),n(r(113))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(285)),n(r(295))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=class{constructor(e={children:[]}){this.options=e}},t.Footer=class{constructor(e={children:[]}){this.options=e}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(302)),n(r(119)),n(r(56)),n(r(120))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(56),i=r(303);class a extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"}}}class s extends n.XmlComponent{constructor(e,t){super("w:abstractNum"),this.root.push(new a({abstractNumId:e,restartNumberingAfterBreak:0})),this.root.push(new i.MultiLevelType("hybridMultilevel")),this.id=e;for(const e of t)this.root.push(new o.Level(e))}}t.AbstractNumbering=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(56);class i extends n.XmlComponent{constructor(e){super("w:abstractNumId"),this.root.push(new n.Attributes({val:e}))}}class a extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={numId:"w:numId"}}}class s extends n.XmlComponent{constructor(e,t,r){super("w:num"),this.reference=r,this.root.push(new a({numId:e})),this.root.push(new i(t)),this.id=e}overrideLevel(e,t){const r=new u(e,t);return this.root.push(r),r}}t.ConcreteNumbering=s;class l extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl"}}}class u extends n.XmlComponent{constructor(e,t){super("w:lvlOverride"),this.levelNum=e,this.root.push(new l({ilvl:e})),void 0!==t&&this.root.push(new d(t)),this.lvl=new o.LevelForOverride({level:this.levelNum}),this.root.push(this.lvl)}get Level(){return this.lvl}}t.LevelOverride=u;class c extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class d extends n.XmlComponent{constructor(e){super("w:startOverride"),this.root.push(new c({val:e}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={enabled:"w:val"}}}t.UpdateFieldsAttributes=o;class i extends n.XmlComponent{constructor(e=!0){super("w:updateFields"),this.root.push(new o({enabled:e}))}}t.UpdateFields=i},function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}n.prototype=r(323),n.prototype.loadAsync=r(343),n.support=r(6),n.defaults=r(126),n.version="3.2.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=r(18),e.exports=n},function(e,t,r){e.exports=r(32)},function(e,t,r){"use strict";var n=r(1),o=r(6),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,r,o,a,s,l,u,c=[],d=0,f=e.length,p=f,h="string"!==n.getTypeOf(e);d<e.length;)p=f-d,h?(t=e[d++],r=d<f?e[d++]:0,o=d<f?e[d++]:0):(t=e.charCodeAt(d++),r=d<f?e.charCodeAt(d++):0,o=d<f?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|r>>4,l=p>1?(15&r)<<2|o>>6:64,u=p>2?63&o:64,c.push(i.charAt(a)+i.charAt(s)+i.charAt(l)+i.charAt(u));return c.join("")},t.decode=function(e){var t,r,n,a,s,l,u=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&f--,e.charAt(e.length-2)===i.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=o.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)t=i.indexOf(e.charAt(u++))<<2|(a=i.indexOf(e.charAt(u++)))>>4,r=(15&a)<<4|(s=i.indexOf(e.charAt(u++)))>>2,n=(3&s)<<6|(l=i.indexOf(e.charAt(u++))),d[c++]=t,64!==s&&(d[c++]=r),64!==l&&(d[c++]=n);return d}},function(e,t,r){"use strict";(function(t){var n=r(1),o=r(327),i=r(3),a=r(124),s=r(6),l=r(18),u=null;if(s.nodestream)try{u=r(328)}catch(e){}function c(e,r){return new l.Promise((function(o,i){var s=[],l=e._internalType,u=e._outputType,c=e._mimeType;e.on("data",(function(e,t){s.push(e),r&&r(t)})).on("error",(function(e){s=[],i(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return a.encode(t);default:return n.transformTo(e,t)}}(u,function(e,r){var n,o=0,i=null,a=0;for(n=0;n<r.length;n++)a+=r[n].length;switch(e){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(i=new Uint8Array(a),n=0;n<r.length;n++)i.set(r[n],o),o+=r[n].length;return i;case"nodebuffer":return t.concat(r);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,s),c);o(e)}catch(e){i(e)}s=[]})).resume()}))}function d(e,t,r){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=r,n.checkSupport(a),this._worker=e.pipe(new o(a)),e.lock()}catch(e){this._worker=new i("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return c(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=d}).call(t,r(5).Buffer)},function(e,t,r){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,r){"use strict";var n=r(1),o=r(3);function i(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},function(e,t,r){"use strict";var n=r(1),o=r(3);function i(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(i,o),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},e.exports=i},function(e,t,r){"use strict";var n=r(3),o=r(58);function i(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r(1).inherits(i,n),i.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=i},function(e,t,r){"use strict";var n=r(3);t.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},t.DEFLATE=r(331)},function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{i=i+(o=o+t[n++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}},function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,o){var i=n,a=o+r;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},function(e,t,r){"use strict";var n=r(7),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,t.string2buf=function(e){var t,r,o,i,a,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(o-56320),i++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(l),a=0,i=0;a<l;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(o-56320),i++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,o=t.length;r<o;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,n,o,i,s=t||e.length,u=new Array(2*s);for(n=0,r=0;r<s;)if((o=e[r++])<128)u[n++]=o;else if((i=a[o])>4)u[n++]=65533,r+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&r<s;)o=o<<6|63&e[r++],i--;i>1?u[n++]=65533:o<65536?u[n++]=o:(o-=65536,u[n++]=55296|o>>10&1023,u[n++]=56320|1023&o)}return l(u,n)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,r){"use strict";var n=r(1),o=r(6),i=r(138),a=r(345),s=r(346),l=r(140);e.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new s(e):o.uint8array?new l(n.transformTo("uint8array",e)):new i(n.transformTo("array",e)):new a(e)}},function(e,t,r){"use strict";var n=r(139);function o(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}r(1).inherits(o,n),o.prototype.byteAt=function(e){return this.data[this.zero+e]},o.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===t&&this.data[i+1]===r&&this.data[i+2]===n&&this.data[i+3]===o)return i-this.zero;return-1},o.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&r===i[1]&&n===i[2]&&o===i[3]},o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},function(e,t,r){"use strict";var n=r(1);function o(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=o},function(e,t,r){"use strict";var n=r(138);function o(e){n.call(this,e)}r(1).inherits(o,n),o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(28);t.Document=o.File,n(r(28)),n(r(320)),n(r(353))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(30);t.EMPTY_OBJECT=Object.seal({});class o extends n.BaseXmlComponent{constructor(e){super(e),this.root=new Array}prepForXml(e){const r=this.root.filter(e=>e instanceof n.BaseXmlComponent?!e.IsDeleted:void 0!==e).map(t=>t instanceof n.BaseXmlComponent?t.prepForXml(e):t).filter(e=>void 0!==e);return{[this.rootKey]:r.length?1===r.length&&(o=r[0],"object"==typeof o&&o._attr)?r[0]:r:t.EMPTY_OBJECT};var o}addChildElement(e){return this.root.push(e),this}delete(){this.deleted=!0}}t.XmlComponent=o,t.IgnoreIfEmptyXmlComponent=class extends o{prepForXml(){const e=super.prepForXml();if(e&&("object"!=typeof e[this.rootKey]||Object.keys(e[this.rootKey]).length))return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(61);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"}}}t.Attributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31),o=r(0);function i(e){switch(e.type){case void 0:case"element":const t=new s(e.name,e.attributes),r=e.elements||[];for(const e of r){const r=i(e);void 0!==r&&t.push(r)}return t;case"text":return e.text;default:return}}t.convertToXmlComponent=i;class a extends o.XmlAttributeComponent{}class s extends o.XmlComponent{static fromXmlString(e){return i(n.xml2js(e,{compact:!1}))}constructor(e,t){super(e),t&&this.root.push(new a(t))}push(e){this.root.push(e)}}t.ImportedXmlComponent=s;class l extends o.XmlComponent{constructor(e){super(""),this._attr=e}prepForXml(){return{_attr:this._attr}}}t.ImportedRootElementAttributes=l},function(e,t,r){(function(e){!function(t){t.parser=function(e,t){return new i(e,t)},t.SAXParser=i,t.SAXStream=s,t.createStream=function(e,t){return new s(e,t)},t.MAX_BUFFER_LENGTH=65536;var n,o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(e,r){if(!(this instanceof i))return new i(e,r);!function(e){for(var t=0,r=o.length;t<r;t++)e[o[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=r||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=_.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(u)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),C(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),i.prototype={end:function(){k(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return P(this,"Cannot write after close. Assign an onready handler.");if(null===e)return k(this);"object"==typeof e&&(e=e.toString());for(var r=0,n="";n=F(e,r++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case _.BEGIN:if(this.state=_.BEGIN_WHITESPACE,"\ufeff"===n)continue;L(this,n);continue;case _.BEGIN_WHITESPACE:L(this,n);continue;case _.TEXT:if(this.sawRoot&&!this.closedRoot){for(var i=r-1;n&&"<"!==n&&"&"!==n;)(n=F(e,r++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(i,r-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(h(n)||this.sawRoot&&!this.closedRoot||I(this,"Text data outside of root node."),"&"===n?this.state=_.TEXT_ENTITY:this.textNode+=n):(this.state=_.OPEN_WAKA,this.startTagPosition=this.position);continue;case _.SCRIPT:"<"===n?this.state=_.SCRIPT_ENDING:this.script+=n;continue;case _.SCRIPT_ENDING:"/"===n?this.state=_.CLOSE_TAG:(this.script+="<"+n,this.state=_.SCRIPT);continue;case _.OPEN_WAKA:if("!"===n)this.state=_.SGML_DECL,this.sgmlDecl="";else if(h(n));else if(b(c,n))this.state=_.OPEN_TAG,this.tagName=n;else if("/"===n)this.state=_.CLOSE_TAG,this.tagName="";else if("?"===n)this.state=_.PROC_INST,this.procInstName=this.procInstBody="";else{if(I(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;n=new Array(a).join(" ")+n}this.textNode+="<"+n,this.state=_.TEXT}continue;case _.SGML_DECL:"[CDATA["===(this.sgmlDecl+n).toUpperCase()?(x(this,"onopencdata"),this.state=_.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=_.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+n).toUpperCase()?(this.state=_.DOCTYPE,(this.doctype||this.sawRoot)&&I(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(x(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=_.TEXT):m(n)?(this.state=_.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case _.SGML_DECL_QUOTED:n===this.q&&(this.state=_.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case _.DOCTYPE:">"===n?(this.state=_.TEXT,x(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=_.DOCTYPE_DTD:m(n)&&(this.state=_.DOCTYPE_QUOTED,this.q=n));continue;case _.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=_.DOCTYPE);continue;case _.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=_.DOCTYPE:m(n)&&(this.state=_.DOCTYPE_DTD_QUOTED,this.q=n);continue;case _.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=_.DOCTYPE_DTD,this.q="");continue;case _.COMMENT:"-"===n?this.state=_.COMMENT_ENDING:this.comment+=n;continue;case _.COMMENT_ENDING:"-"===n?(this.state=_.COMMENT_ENDED,this.comment=S(this.opt,this.comment),this.comment&&x(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=_.COMMENT);continue;case _.COMMENT_ENDED:">"!==n?(I(this,"Malformed comment"),this.comment+="--"+n,this.state=_.COMMENT):this.state=_.TEXT;continue;case _.CDATA:"]"===n?this.state=_.CDATA_ENDING:this.cdata+=n;continue;case _.CDATA_ENDING:"]"===n?this.state=_.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=_.CDATA);continue;case _.CDATA_ENDING_2:">"===n?(this.cdata&&x(this,"oncdata",this.cdata),x(this,"onclosecdata"),this.cdata="",this.state=_.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=_.CDATA);continue;case _.PROC_INST:"?"===n?this.state=_.PROC_INST_ENDING:h(n)?this.state=_.PROC_INST_BODY:this.procInstName+=n;continue;case _.PROC_INST_BODY:if(!this.procInstBody&&h(n))continue;"?"===n?this.state=_.PROC_INST_ENDING:this.procInstBody+=n;continue;case _.PROC_INST_ENDING:">"===n?(x(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=_.TEXT):(this.procInstBody+="?"+n,this.state=_.PROC_INST_BODY);continue;case _.OPEN_TAG:b(d,n)?this.tagName+=n:(A(this),">"===n?R(this):"/"===n?this.state=_.OPEN_TAG_SLASH:(h(n)||I(this,"Invalid character in tag name"),this.state=_.ATTRIB));continue;case _.OPEN_TAG_SLASH:">"===n?(R(this,!0),N(this)):(I(this,"Forward-slash in opening tag not followed by >"),this.state=_.ATTRIB);continue;case _.ATTRIB:if(h(n))continue;">"===n?R(this):"/"===n?this.state=_.OPEN_TAG_SLASH:b(c,n)?(this.attribName=n,this.attribValue="",this.state=_.ATTRIB_NAME):I(this,"Invalid attribute name");continue;case _.ATTRIB_NAME:"="===n?this.state=_.ATTRIB_VALUE:">"===n?(I(this,"Attribute without value"),this.attribValue=this.attribName,D(this),R(this)):h(n)?this.state=_.ATTRIB_NAME_SAW_WHITE:b(d,n)?this.attribName+=n:I(this,"Invalid attribute name");continue;case _.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=_.ATTRIB_VALUE;else{if(h(n))continue;I(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",x(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?R(this):b(c,n)?(this.attribName=n,this.state=_.ATTRIB_NAME):(I(this,"Invalid attribute name"),this.state=_.ATTRIB)}continue;case _.ATTRIB_VALUE:if(h(n))continue;m(n)?(this.q=n,this.state=_.ATTRIB_VALUE_QUOTED):(I(this,"Unquoted attribute value"),this.state=_.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case _.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=_.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}D(this),this.q="",this.state=_.ATTRIB_VALUE_CLOSED;continue;case _.ATTRIB_VALUE_CLOSED:h(n)?this.state=_.ATTRIB:">"===n?R(this):"/"===n?this.state=_.OPEN_TAG_SLASH:b(c,n)?(I(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=_.ATTRIB_NAME):I(this,"Invalid attribute name");continue;case _.ATTRIB_VALUE_UNQUOTED:if(!g(n)){"&"===n?this.state=_.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}D(this),">"===n?R(this):this.state=_.ATTRIB;continue;case _.CLOSE_TAG:if(this.tagName)">"===n?N(this):b(d,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=_.SCRIPT):(h(n)||I(this,"Invalid tagname in closing tag"),this.state=_.CLOSE_TAG_SAW_WHITE);else{if(h(n))continue;v(c,n)?this.script?(this.script+="</"+n,this.state=_.SCRIPT):I(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case _.CLOSE_TAG_SAW_WHITE:if(h(n))continue;">"===n?N(this):I(this,"Invalid characters in closing tag");continue;case _.TEXT_ENTITY:case _.ATTRIB_VALUE_ENTITY_Q:case _.ATTRIB_VALUE_ENTITY_U:var s,l;switch(this.state){case _.TEXT_ENTITY:s=_.TEXT,l="textNode";break;case _.ATTRIB_VALUE_ENTITY_Q:s=_.ATTRIB_VALUE_QUOTED,l="attribValue";break;case _.ATTRIB_VALUE_ENTITY_U:s=_.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===n?(this[l]+=M(this),this.entity="",this.state=s):b(this.entity.length?p:f,n)?this.entity+=n:(I(this,"Invalid character in entity name"),this[l]+="&"+this.entity+n,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,i=0,a=o.length;i<a;i++){var s=e[o[i]].length;if(s>r)switch(o[i]){case"textNode":T(e);break;case"cdata":x(e,"oncdata",e.cdata),e.cdata="";break;case"script":x(e,"onscript",e.script),e.script="";break;default:P(e,"Max buffer length exceeded: "+o[i])}n=Math.max(n,s)}var l=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=l+e.position}(this),this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;T(e=this),""!==e.cdata&&(x(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(x(e,"onscript",e.script),e.script="")}};try{n=r(32).Stream}catch(e){n=function(){}}var a=t.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function s(e,t){if(!(this instanceof s))return new s(e,t);n.apply(this),this._parser=new i(e,t),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,a.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(n.prototype,{constructor:{value:s}}),s.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var n=r(36).StringDecoder;this._decoder=new n("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===a.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)};var l="http://www.w3.org/XML/1998/namespace",u={xml:l,xmlns:"http://www.w3.org/2000/xmlns/"},c=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function h(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function m(e){return'"'===e||"'"===e}function g(e){return">"===e||h(e)}function b(e,t){return e.test(t)}function v(e,t){return!b(e,t)}var y,w,E,_=0;for(var O in t.STATE={BEGIN:_++,BEGIN_WHITESPACE:_++,TEXT:_++,TEXT_ENTITY:_++,OPEN_WAKA:_++,SGML_DECL:_++,SGML_DECL_QUOTED:_++,DOCTYPE:_++,DOCTYPE_QUOTED:_++,DOCTYPE_DTD:_++,DOCTYPE_DTD_QUOTED:_++,COMMENT_STARTING:_++,COMMENT:_++,COMMENT_ENDING:_++,COMMENT_ENDED:_++,CDATA:_++,CDATA_ENDING:_++,CDATA_ENDING_2:_++,PROC_INST:_++,PROC_INST_BODY:_++,PROC_INST_ENDING:_++,OPEN_TAG:_++,OPEN_TAG_SLASH:_++,ATTRIB:_++,ATTRIB_NAME:_++,ATTRIB_NAME_SAW_WHITE:_++,ATTRIB_VALUE:_++,ATTRIB_VALUE_QUOTED:_++,ATTRIB_VALUE_CLOSED:_++,ATTRIB_VALUE_UNQUOTED:_++,ATTRIB_VALUE_ENTITY_Q:_++,ATTRIB_VALUE_ENTITY_U:_++,CLOSE_TAG:_++,CLOSE_TAG_SAW_WHITE:_++,SCRIPT:_++,SCRIPT_ENDING:_++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var r=t.ENTITIES[e],n="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=n})),t.STATE)t.STATE[t.STATE[O]]=O;function C(e,t,r){e[t]&&e[t](r)}function x(e,t,r){e.textNode&&T(e),C(e,t,r)}function T(e){e.textNode=S(e.opt,e.textNode),e.textNode&&C(e,"ontext",e.textNode),e.textNode=""}function S(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function P(e,t){return T(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,C(e,"onerror",t),e}function k(e){return e.sawRoot&&!e.closedRoot&&I(e,"Unclosed root tag"),e.state!==_.BEGIN&&e.state!==_.BEGIN_WHITESPACE&&e.state!==_.TEXT&&P(e,"Unexpected end"),T(e),e.c="",e.closed=!0,C(e,"onend"),i.call(e,e.strict,e.opt),e}function I(e,t){if("object"!=typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&P(e,t)}function A(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,x(e,"onopentagstart",r)}function j(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],o=r[1];return t&&"xmlns"===e&&(n="xmlns",o=""),{prefix:n,local:o}}function D(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=j(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==l)I(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===n&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)I(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var o=e.tag,i=e.tags[e.tags.length-1]||e;o.ns===i.ns&&(o.ns=Object.create(i.ns)),o.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,x(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function R(e,t){if(e.opt.xmlns){var r=e.tag,n=j(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(I(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var o=e.tags[e.tags.length-1]||e;r.ns&&o.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){x(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var i=0,a=e.attribList.length;i<a;i++){var s=e.attribList[i],l=s[0],u=s[1],c=j(l,!0),d=c.prefix,f=c.local,p=""===d?"":r.ns[d]||"",h={name:l,value:u,prefix:d,local:f,uri:p};d&&"xmlns"!==d&&!p&&(I(e,"Unbound namespace prefix: "+JSON.stringify(d)),h.uri=d),e.tag.attributes[l]=h,x(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),x(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=_.TEXT:e.state=_.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function N(e){if(!e.tagName)return I(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=_.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=_.SCRIPT);x(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--&&e.tags[t].name!==n;)I(e,"Unexpected close tag");if(t<0)return I(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=_.TEXT);e.tagName=r;for(var o=e.tags.length;o-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,x(e,"onclosetag",e.tagName);var a={};for(var s in i.ns)a[s]=i.ns[s];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==l.ns&&Object.keys(i.ns).forEach((function(t){var r=i.ns[t];x(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=_.TEXT}function M(e){var t,r=e.entity,n=r.toLowerCase(),o="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),o=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),o=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==r?(I(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function L(e,t){"<"===t?(e.state=_.OPEN_WAKA,e.startTagPosition=e.position):h(t)||(I(e,"Non-whitespace before first tag."),e.textNode=t,e.state=_.TEXT)}function F(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}_=t.STATE,String.fromCodePoint||(y=String.fromCharCode,w=Math.floor,E=function(){var e,t,r=16384,n=[],o=-1,i=arguments.length;if(!i)return"";for(var a="";++o<i;){var s=Number(arguments[o]);if(!isFinite(s)||s<0||s>1114111||w(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,n.push(e,t)),(o+1===i||n.length>r)&&(a+=y.apply(null,n),n.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:E,configurable:!0,writable:!0}):String.fromCodePoint=E)}(t)}).call(t,r(5).Buffer)},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=u(e),n=r[0],a=r[1],s=new i(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),l=0,c=a>0?n-4:n,d=0;d<c;d+=4)t=o[e.charCodeAt(d)]<<18|o[e.charCodeAt(d+1)]<<12|o[e.charCodeAt(d+2)]<<6|o[e.charCodeAt(d+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=o[e.charCodeAt(d)]<<2|o[e.charCodeAt(d+1)]>>4,s[l++]=255&t),1===a&&(t=o[e.charCodeAt(d)]<<10|o[e.charCodeAt(d+1)]<<4|o[e.charCodeAt(d+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(c(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?o-1:0,f=r?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=u}return(p?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,d=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[r+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+p]=255&a,p+=h,a/=256,u-=8);e[r+p-h]|=128*m}},function(e,t){},function(e,t,r){"use strict";var n=r(20).Buffer,o=r(150);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,o,i=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=i,o=s,t.copy(r,o),s+=a.data.length,a=a.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o,i,a,s,l=1,u={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(h,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return u[l]=o,n(l),l++},f.clearImmediate=p}function p(e){delete u[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(8),r(13))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(t,r(8))},function(e,t,r){"use strict";e.exports=i;var n=r(68),o=r(14);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}o.inherits=r(10),o.inherits(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(35)},function(e,t,r){e.exports=r(9)},function(e,t,r){e.exports=r(34).Transform},function(e,t,r){e.exports=r(34).PassThrough},function(e,t,r){var n=r(37),o=r(62);e.exports=function(e,t){var r,i,a;return r=function(e){var t=n.copyOptions(e);return n.ensureSpacesExists(t),t}(t),i=o(e,r),a="compact"in r&&r.compact?"_parent":"parent",("addParent"in r&&r.addParent?JSON.stringify(i,(function(e,t){return e===a?"_":t}),r.spaces):JSON.stringify(i,null,r.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(e,t,r){(function(t){var n=r(69);e.exports=function(e,r){e instanceof t&&(e=e.toString());var o=null;if("string"==typeof e)try{o=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else o=e;return n(o,r)}}).call(t,r(5).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKAROUND3=""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e,t){super(e),t&&(this.root=t.root)}}t.InitializableXmlComponent=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val",color:"w:color",space:"w:space",sz:"w:sz"}}}t.BorderAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:br")}}t.Break=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:smallCaps")}}t.SmallCaps=o;class i extends n.XmlComponent{constructor(){super("w:caps")}}t.Caps=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(){super("w:instrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("PAGE")}}t.Page=a;class s extends o.XmlComponent{constructor(){super("w:instrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("NUMPAGES")}}t.NumberOfPages=s;class l extends o.XmlComponent{constructor(){super("w:instrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("SECTIONPAGES")}}t.NumberOfPagesSection=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(40),o=r(74);class i extends n.Run{constructor(e){if("string"==typeof e)return super({}),void this.root.push(new o.Text(e));super(e)}}t.TextRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(40),o=r(168);class i extends n.Run{constructor(e){if("string"==typeof e)return super({}),void this.root.push(new o.Symbol(e));super(e),this.root.push(new o.Symbol(e.char,e.symbolfont))}}t.SymbolRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={char:"w:char",symbolfont:"w:font"}}}class i extends n.XmlComponent{constructor(e="",t="Wingdings"){super("w:sym"),this.root.push(new o({char:e,symbolfont:t}))}}t.Symbol=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(76),o=r(4);class i extends o.Run{constructor(e,t){super({});const r=new n.Drawing(e,t);this.root.push(r)}}t.PictureRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(171),i=r(214);class a extends n.XmlComponent{constructor(e,t={}){super("w:drawing"),t.floating?this.root.push(new o.Anchor(e,e.dimensions,t)):(this.inline=new i.Inline(e,e.dimensions),this.root.push(this.inline))}scale(e,t){this.inline.scale(e,t)}}t.Drawing=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(172)),n(r(85))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(77),i=r(80),a=r(43),s=r(81),l=r(82),u=r(83),c=r(84),d=r(85),f={allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}};class p extends n.XmlComponent{constructor(e,t,r){super("wp:anchor");const n=Object.assign({margins:{top:0,bottom:0,left:0,right:0}},f,r.floating);if(this.root.push(new d.AnchorAttributes({distT:n.margins.top||0,distB:n.margins.bottom||0,distL:n.margins.left||0,distR:n.margins.right||0,simplePos:"0",allowOverlap:!0===n.allowOverlap?"1":"0",behindDoc:!0===n.behindDocument?"1":"0",locked:!0===n.lockAnchor?"1":"0",layoutInCell:!0===n.layoutInCell?"1":"0",relativeHeight:t.emus.y})),this.root.push(new o.SimplePos),this.root.push(new o.HorizontalPosition(n.horizontalPosition)),this.root.push(new o.VerticalPosition(n.verticalPosition)),this.root.push(new u.Extent(t.emus.x,t.emus.y)),this.root.push(new l.EffectExtent),void 0!==r.floating&&void 0!==r.floating.wrap)switch(r.floating.wrap.type){case a.TextWrappingType.SQUARE:this.root.push(new a.WrapSquare(r.floating.wrap,r.floating.margins));break;case a.TextWrappingType.TIGHT:this.root.push(new a.WrapTight(r.floating.margins));break;case a.TextWrappingType.TOP_AND_BOTTOM:this.root.push(new a.WrapTopAndBottom(r.floating.margins));break;case a.TextWrappingType.NONE:default:this.root.push(new a.WrapNone)}else this.root.push(new a.WrapNone);this.root.push(new s.DocProperties),this.root.push(new c.GraphicFrameProperties),this.root.push(new i.Graphic(e,t.emus.x,t.emus.y))}}t.Anchor=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class i extends n.XmlComponent{constructor(){super("wp:simplePos"),this.root.push(new o({x:0,y:0}))}}t.SimplePos=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(78),i=r(42),a=r(79);class s extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class l extends n.XmlComponent{constructor(e){if(super("wp:positionH"),this.root.push(new s({relativeFrom:e.relative||i.HorizontalPositionRelativeFrom.PAGE})),e.align)this.root.push(new o.Align(e.align));else{if(void 0===e.offset)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new a.PositionOffset(e.offset))}}}t.HorizontalPosition=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(78),i=r(42),a=r(79);class s extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class l extends n.XmlComponent{constructor(e){if(super("wp:positionV"),this.root.push(new s({relativeFrom:e.relative||i.VerticalPositionRelativeFrom.PAGE})),e.align)this.root.push(new o.Align(e.align));else{if(void 0===e.offset)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new a.PositionOffset(e.offset))}}}t.VerticalPosition=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(177);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={a:"xmlns:a"}}}class a extends n.XmlComponent{constructor(e,t,r){super("a:graphic"),this.root.push(new i({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new o.GraphicData(e,t,r),this.root.push(this.data)}setXY(e,t){this.data.setXY(e,t)}}t.Graphic=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(178))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(179),i=r(180);class a extends n.XmlComponent{constructor(e,t,r){super("a:graphicData"),this.root.push(new o.GraphicDataAttributes({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new i.Pic(e,t,r),this.root.push(this.pic)}setXY(e,t){this.pic.setXY(e,t)}}t.GraphicData=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={uri:"uri"}}}t.GraphicDataAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(181))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(182),i=r(186),a=r(192),s=r(193);class l extends n.XmlComponent{constructor(e,t,r){super("pic:pic"),this.root.push(new a.PicAttributes({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.shapeProperties=new s.ShapeProperties(t,r),this.root.push(new i.NonVisualPicProperties),this.root.push(new o.BlipFill(e)),this.root.push(new s.ShapeProperties(t,r))}setXY(e,t){this.shapeProperties.setXY(e,t)}}t.Pic=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(183),i=r(184),a=r(185);class s extends n.XmlComponent{constructor(e){super("pic:blipFill"),this.root.push(new o.Blip(e)),this.root.push(new i.SourceRectangle),this.root.push(new a.Stretch)}}t.BlipFill=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={embed:"r:embed",cstate:"cstate"}}}class i extends n.XmlComponent{constructor(e){super("a:blip"),this.root.push(new o({embed:`rId{${e.fileName}}`,cstate:"none"}))}}t.Blip=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("a:srcRect")}}t.SourceRectangle=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("a:fillRect")}}class i extends n.XmlComponent{constructor(){super("a:stretch"),this.root.push(new o)}}t.Stretch=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(187),i=r(190);class a extends n.XmlComponent{constructor(){super("pic:nvPicPr"),this.root.push(new i.NonVisualProperties),this.root.push(new o.ChildNonVisualProperties)}}t.NonVisualPicProperties=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(188);class i extends n.XmlComponent{constructor(){super("pic:cNvPicPr"),this.root.push(new o.PicLocks)}}t.ChildNonVisualProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(189);class i extends n.XmlComponent{constructor(){super("a:picLocks"),this.root.push(new o.PicLocksAttributes({noChangeAspect:1,noChangeArrowheads:1}))}}t.PicLocks=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"}}}t.PicLocksAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(191);class i extends n.XmlComponent{constructor(){super("pic:cNvPr"),this.root.push(new o.NonVisualPropertiesAttributes({id:0,name:"",descr:""}))}}t.NonVisualProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"id",name:"name",descr:"desc"}}}t.NonVisualPropertiesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:pic"}}}t.PicAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(194),i=r(200),a=r(203);class s extends n.XmlComponent{constructor(e,t){super("pic:spPr"),this.root.push(new a.ShapePropertiesAttributes({bwMode:"auto"})),this.form=new o.Form(e,t),this.root.push(this.form),this.root.push(new i.PresetGeometry)}setXY(e,t){this.form.setXY(e,t)}}t.ShapeProperties=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(195))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(196),i=r(198);class a extends n.XmlComponent{constructor(e,t){super("a:xfrm"),this.extents=new o.Extents(e,t),this.root.push(this.extents),this.root.push(new i.Offset)}setXY(e,t){this.extents.setXY(e,t)}}t.Form=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(197);class i extends n.XmlComponent{constructor(e,t){super("a:ext"),this.attributes=new o.ExtentsAttributes({cx:e,cy:t}),this.root.push(this.attributes)}setXY(e,t){this.attributes.set({cx:e,cy:t})}}t.Extents=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}t.ExtentsAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(199);class i extends n.XmlComponent{constructor(){super("a:off"),this.root.push(new o.OffsetAttributes({x:0,y:0}))}}t.Offset=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}t.OffsetAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(201),i=r(202);class a extends n.XmlComponent{constructor(){super("a:prstGeom"),this.root.push(new i.PresetGeometryAttributes({prst:"rect"})),this.root.push(new o.AdjustmentValues)}}t.PresetGeometry=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("a:avLst")}}t.AdjustmentValues=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={prst:"prst"}}}t.PresetGeometryAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={bwMode:"bwMode"}}}t.ShapePropertiesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.SQUARE=1]="SQUARE",e[e.TIGHT=2]="TIGHT",e[e.TOP_AND_BOTTOM=3]="TOP_AND_BOTTOM"}(t.TextWrappingType||(t.TextWrappingType={})),function(e){e.BOTH_SIDES="bothSides",e.LEFT="left",e.RIGHT="right",e.LARGEST="largest"}(t.TextWrappingSide||(t.TextWrappingSide={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("wp:wrapNone")}}t.WrapNone=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(43);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"}}}class a extends n.XmlComponent{constructor(e,t={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new i({wrapText:e.side||o.TextWrappingSide.BOTH_SIDES,distT:t.top,distB:t.bottom,distL:t.left,distR:t.right}))}}t.WrapSquare=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class i extends n.XmlComponent{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new o({distT:e.top,distB:e.bottom}))}}t.WrapTight=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class i extends n.XmlComponent{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new o({distT:e.top,distB:e.bottom}))}}t.WrapTopAndBottom=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"id",name:"name",descr:"descr"}}}t.DocPropertiesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={b:"b",l:"l",r:"r",t:"t"}}}t.EffectExtentAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}t.ExtentAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(213);class i extends n.XmlComponent{constructor(){super("a:graphicFrameLocks"),this.root.push(new o.GraphicFrameLockAttributes({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}t.GraphicFrameLocks=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"}}}t.GraphicFrameLockAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(215))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(81),i=r(82),a=r(83),s=r(84),l=r(80),u=r(216);class c extends n.XmlComponent{constructor(e,t){super("wp:inline"),this.mediaData=e,this.dimensions=t,this.root.push(new u.InlineAttributes({distT:0,distB:0,distL:0,distR:0})),this.extent=new a.Extent(t.emus.x,t.emus.y),this.graphic=new l.Graphic(e,t.emus.x,t.emus.y),this.root.push(this.extent),this.root.push(new i.EffectExtent),this.root.push(new o.DocProperties),this.root.push(new s.GraphicFrameProperties),this.root.push(this.graphic)}scale(e,t){const r=Math.round(this.dimensions.emus.x*e),n=Math.round(this.dimensions.emus.y*t);this.extent.setXY(r,n),this.graphic.setXY(r,n)}}t.Inline=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR"}}}t.InlineAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),o=r(41),i=r(218);class a extends n.Run{constructor(e){super({}),this.root.push(new o.Begin(!0)),this.root.push(new i.SequentialIdentifierInstruction(e)),this.root.push(new o.Separate),this.root.push(new o.End)}}t.SequentialIdentifier=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(e){super("w:instrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push(`SEQ ${e}`)}}t.SequentialIdentifierInstruction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:tab")}}t.Tab=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(60),i=r(221),a=r(39),s=r(70),l=r(71),u=r(72),c=r(86),d=r(87),f=r(88),p=r(89),h=r(90),m=r(25),g=r(4);class b extends n.XmlComponent{constructor(e){if(super("w:p"),"string"==typeof e)return this.properties=new m.ParagraphProperties({}),this.root.push(this.properties),void this.root.push(new g.TextRun(e));if(e instanceof g.PictureRun)return this.properties=new m.ParagraphProperties({}),this.root.push(this.properties),void this.root.push(e);if(this.properties=new m.ParagraphProperties({border:e.border}),this.root.push(this.properties),e.text&&this.root.push(new g.TextRun(e.text)),e.spacing&&this.properties.push(new c.Spacing(e.spacing)),void 0!==e.outlineLevel&&this.properties.push(new h.OutlineLevel(e.outlineLevel)),e.alignment&&this.properties.push(new o.Alignment(e.alignment)),e.heading&&this.properties.push(new d.Style(e.heading)),e.bidirectional&&this.properties.push(new i.Bidirectional),e.thematicBreak&&this.properties.push(new a.ThematicBreak),e.pageBreakBefore&&this.properties.push(new u.PageBreakBefore),e.contextualSpacing&&this.properties.push(new c.ContextualSpacing(e.contextualSpacing)),e.indent&&this.properties.push(new s.Indent(e.indent)),e.keepLines&&this.properties.push(new l.KeepLines),e.keepNext&&this.properties.push(new l.KeepNext),e.tabStops)for(const t of e.tabStops)this.properties.push(new f.TabStop(t.type,t.position,t.leader));if(e.style&&this.properties.push(new d.Style(e.style)),e.bullet&&(this.properties.push(new d.Style("ListParagraph")),this.properties.push(new p.NumberProperties(1,e.bullet.level))),e.numbering&&(e.numbering.custom||this.properties.push(new d.Style("ListParagraph")),this.properties.push(new p.NumberProperties(e.numbering.reference,e.numbering.level))),e.children)for(const t of e.children)t instanceof h.Bookmark?(this.root.push(t.start),this.root.push(t.text),this.root.push(t.end)):this.root.push(t)}prepForXml(e){for(const t of this.root)if(t instanceof h.HyperlinkRef){const r=this.root.indexOf(t);this.root[r]=e.HyperlinkCache[t.id]}return super.prepForXml()}addRunToFront(e){return this.root.splice(1,0,e),this}}t.Paragraph=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:bidi")}}t.Bidirectional=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(4),i=r(223);!function(e){e.INTERNAL="INTERNAL",e.EXTERNAL="EXTERNAL"}(t.HyperlinkType||(t.HyperlinkType={})),t.HyperlinkRef=class{constructor(e){this.id=e}};class a extends n.XmlComponent{constructor(e,t,r){super("w:hyperlink"),this.linkId=t;const n={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},a=new i.HyperlinkAttributes(n);this.root.push(a),this.textRun=new o.TextRun({text:e,style:"Hyperlink"}),this.root.push(this.textRun)}get TextRun(){return this.textRun}}t.Hyperlink=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"r:id",history:"w:history",anchor:"w:anchor"}}}t.HyperlinkAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(91),i=r(4),a=r(233);t.Bookmark=class{constructor(e,t){const r=o.generate().toLowerCase();this.start=new s(e,r),this.text=new i.TextRun(t),this.end=new l(r)}};class s extends n.XmlComponent{constructor(e,t){super("w:bookmarkStart");const r=new a.BookmarkStartAttributes({name:e,id:t});this.root.push(r)}}t.BookmarkStart=s;class l extends n.XmlComponent{constructor(e){super("w:bookmarkEnd");const t=new a.BookmarkEndAttributes({id:e});this.root.push(t)}}t.BookmarkEnd=l},function(e,t,r){"use strict";var n=r(24),o=r(227),i=r(231),a=r(232)||0;function s(){return o(a)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return n.seed(t),e.exports},e.exports.worker=function(t){return a=t,e.exports},e.exports.characters=function(e){return void 0!==e&&n.characters(e),n.shuffled()},e.exports.isValid=i},function(e,t,r){"use strict";var n=1;e.exports={nextValue:function(){return(n=(9301*n+49297)%233280)/233280},seed:function(e){n=e}}},function(e,t,r){"use strict";var n,o,i=r(228);r(24),e.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1567752802062));return r===o?n++:(n=0,o=r),t+=i(7),t+=i(e),n>0&&(t+=i(n)),t+=i(r)}},function(e,t,r){"use strict";var n=r(24),o=r(229),i=r(230);e.exports=function(e){for(var t,r=0,a="";!t;)a+=i(o,n.get(),1),t=e<Math.pow(16,r+1),r++;return a}},function(e,t,r){"use strict";var n,o="object"==typeof window&&(window.crypto||window.msCrypto);n=o&&o.getRandomValues?function(e){return o.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=n},function(e,t){e.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,o=Math.ceil(1.6*n*r/t.length),i="";;)for(var a=o,s=e(a);a--;)if((i+=t[s[a]&n]||"").length===+r)return i}},function(e,t,r){"use strict";var n=r(24);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+n.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},function(e,t,r){"use strict";e.exports=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"w:id",name:"w:name"}}}t.BookmarkStartAttributes=o;class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}t.BookmarkEndAttributes=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new n.Attributes({val:e}))}}t.OutlineLevel=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(236)),n(r(17)),n(r(92)),n(r(45)),n(r(251))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(237),i=r(17),a=r(92);class s extends n.XmlComponent{constructor({rows:e,width:t,columnWidths:r=Array(Math.max(...e.map(e=>e.CellCount))).fill(100),margins:{marginUnitType:n,top:s,bottom:l,right:u,left:c}={marginUnitType:i.WidthType.AUTO,top:0,bottom:0,right:0,left:0},float:d,layout:f,borders:p,alignment:h}){super("w:tbl"),this.properties=new a.TableProperties,this.root.push(this.properties),p?this.properties.setBorder(p):this.properties.setBorder({}),t?this.properties.setWidth(t.size,t.type):this.properties.setWidth(100),this.properties.CellMargin.addBottomMargin(l||0,n),this.properties.CellMargin.addTopMargin(s||0,n),this.properties.CellMargin.addLeftMargin(c||0,n),this.properties.CellMargin.addRightMargin(u||0,n),this.root.push(new o.TableGrid(r));for(const t of e)this.root.push(t);for(const t of e)t.Children.forEach((t,r)=>{const n=e.map(e=>e.Children[r]);if(t.options.rowSpan&&t.options.rowSpan>1){const r=n.indexOf(t),o=r+(t.options.rowSpan-1);for(let t=r+1;t<=o;t++)e[t].addCellToIndex(new i.TableCell({children:[],verticalMerge:i.VerticalMergeType.CONTINUE}),t)}});d&&this.properties.setTableFloatProperties(d),f&&this.properties.setLayout(f),h&&this.properties.setAlignment(h)}}t.Table=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("w:tblGrid");for(const t of e)this.root.push(new a(t))}}t.TableGrid=o;class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={w:"w:w"}}}class a extends n.XmlComponent{constructor(e){super("w:gridCol"),void 0!==e&&this.root.push(new i({w:e}))}}t.GridCol=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(0),i=r(44),a=r(239);class s extends o.XmlComponent{constructor(e){super("w:tc"),this.options=e,this.properties=new a.TableCellProperties,this.root.push(this.properties);for(const t of e.children)this.root.push(t);e.verticalAlign&&this.properties.setVerticalAlign(e.verticalAlign),e.verticalMerge&&this.properties.addVerticalMerge(e.verticalMerge),e.margins&&this.properties.addMargins(e.margins),e.shading&&this.properties.setShading(e.shading),e.columnSpan&&this.properties.addGridSpan(e.columnSpan),e.rowSpan&&e.rowSpan>1&&this.properties.addVerticalMerge(i.VerticalMergeType.RESTART),e.width&&this.properties.setWidth(e.width.size,e.width.type),e.borders&&(e.borders.top&&this.properties.Borders.addTopBorder(e.borders.top.style,e.borders.top.size,e.borders.top.color),e.borders.bottom&&this.properties.Borders.addBottomBorder(e.borders.bottom.style,e.borders.bottom.size,e.borders.bottom.color),e.borders.left&&this.properties.Borders.addLeftBorder(e.borders.left.style,e.borders.left.size,e.borders.left.color),e.borders.right&&this.properties.Borders.addRightBorder(e.borders.right.style,e.borders.right.size,e.borders.right.color))}prepForXml(e){return this.root[this.root.length-1]instanceof n.Paragraph||this.root.push(new n.Paragraph({})),super.prepForXml(e)}}t.TableCell=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(45),i=r(241),a=r(44);class s extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:tcPr"),this.cellBorder=new a.TableCellBorders,this.root.push(this.cellBorder)}get Borders(){return this.cellBorder}addGridSpan(e){return this.root.push(new a.GridSpan(e)),this}addVerticalMerge(e){return this.root.push(new a.VerticalMerge(e)),this}setVerticalAlign(e){return this.root.push(new a.VAlign(e)),this}setWidth(e,t=a.WidthType.AUTO){return this.root.push(new a.TableCellWidth(e,t)),this}setShading(e){return this.root.push(new o.TableShading(e)),this}addMargins(e){return this.root.push(new i.TableCellMargin(e)),this}}t.TableCellProperties=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={fill:"w:fill",color:"w:color",val:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:shd"),this.root.push(new o(e))}}t.TableShading=i,function(e){e.CLEAR="clear",e.DIAGONAL_CROSS="diagCross",e.DIAGONAL_STRIPE="diagStripe",e.HORIZONTAL_CROSS="horzCross",e.HORIZONTAL_STRIPE="horzStripe",e.NIL="nil",e.PERCENT_5="pct5",e.PERCENT_10="pct10",e.PERCENT_12="pct12",e.PERCENT_15="pct15",e.PERCENT_20="pct20",e.PERCENT_25="pct25",e.PERCENT_30="pct30",e.PERCENT_35="pct35",e.PERCENT_37="pct37",e.PERCENT_40="pct40",e.PERCENT_45="pct45",e.PERCENT_50="pct50",e.PERCENT_55="pct55",e.PERCENT_60="pct60",e.PERCENT_62="pct62",e.PERCENT_65="pct65",e.PERCENT_70="pct70",e.PERCENT_75="pct75",e.PERCENT_80="pct80",e.PERCENT_85="pct85",e.PERCENT_87="pct87",e.PERCENT_90="pct90",e.PERCENT_95="pct95",e.REVERSE_DIAGONAL_STRIPE="reverseDiagStripe",e.SOLID="solid",e.THIN_DIAGONAL_CROSS="thinDiagCross",e.THIN_DIAGONAL_STRIPE="thinDiagStripe",e.THIN_HORIZONTAL_CROSS="thinHorzCross",e.THIN_REVERSE_DIAGONAL_STRIPE="thinReverseDiagStripe",e.THIN_VERTICAL_STRIPE="thinVertStripe",e.VERTICAL_STRIPE="vertStripe"}(t.ShadingType||(t.ShadingType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(242);class i extends n.XmlComponent{constructor({top:e=0,left:t=0,right:r=0,bottom:n=0}){super("w:tcMar"),this.root.push(new o.TopCellMargin(e)),this.root.push(new o.BottomCellMargin(n)),this.root.push(new o.RightCellMargin(r)),this.root.push(new o.LeftCellMargin(t))}}t.TableCellMargin=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={width:"w:w",type:"w:type"}}}class i extends n.XmlComponent{constructor(e){super("w:top"),this.root.push(new o({width:e,type:"dxa"}))}}t.TopCellMargin=i;class a extends n.XmlComponent{constructor(e){super("w:bottom"),this.root.push(new o({width:e,type:"dxa"}))}}t.BottomCellMargin=a;class s extends n.XmlComponent{constructor(e){super("w:start"),this.root.push(new o({width:e,type:"dxa"}))}}t.LeftCellMargin=s;class l extends n.XmlComponent{constructor(e){super("w:end"),this.root.push(new o({width:e,type:"dxa"}))}}t.RightCellMargin=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(45),a=r(17),s=r(93),l=r(249),u=r(95),c=r(97),d=r(250);class f extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:tblPr"),this.cellMargin=new l.TableCellMargin,this.root.push(this.cellMargin)}setWidth(e,t=a.WidthType.AUTO){return this.root.push(new d.PreferredTableWidth(t,e)),this}setLayout(e){this.root.push(new c.TableLayout(e))}setBorder(e){return this.root.push(new s.TableBorders(e)),this}get CellMargin(){return this.cellMargin}setTableFloatProperties(e){return this.root.push(new u.TableFloatProperties(e)),this}setShading(e){return this.root.push(new i.TableShading(e)),this}setAlignment(e){this.root.push(new o.Alignment(e))}}t.TableProperties=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(94);!function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(246));class i extends n.XmlComponent{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new o.ParagraphStyle(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new o.CharacterStyle(t))}}t.Styles=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21),o=r(49),i=r(48);class a extends i.ParagraphStyle{constructor(e){super(Object.assign({},e,{basedOn:"Normal",next:"Normal",quickFormat:!0}))}}t.HeadingStyle=a,t.TitleStyle=class extends a{constructor(e){super(Object.assign({},e,{id:"Title",name:"Title"}))}},t.Heading1Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading1",name:"Heading 1"}))}},t.Heading2Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading2",name:"Heading 2"}))}},t.Heading3Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading3",name:"Heading 3"}))}},t.Heading4Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading4",name:"Heading 4"}))}},t.Heading5Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading5",name:"Heading 5"}))}},t.Heading6Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading6",name:"Heading 6"}))}};class s extends i.ParagraphStyle{constructor(e){super(Object.assign({},e,{id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0}))}}t.ListParagraph=s;class l extends i.ParagraphStyle{constructor(e){super(Object.assign({},e,{id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:"auto"}},run:{size:20}}))}}t.FootnoteText=l;class u extends o.CharacterStyle{constructor(e){super(Object.assign({},e,{id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}}))}}t.FootnoteReferenceStyle=u;class c extends o.CharacterStyle{constructor(e){super(Object.assign({},e,{id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}}))}}t.FootnoteTextChar=c;class d extends o.CharacterStyle{constructor(e){super(Object.assign({},e,{id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:n.UnderlineType.SINGLE}}}))}}t.HyperlinkStyle=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(247))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SINGLE="single",e.DASH_DOT_STROKED="dashDotStroked",e.DASHED="dashed",e.DASH_SMALL_GAP="dashSmallGap",e.DOT_DASH="dotDash",e.DOT_DOT_DASH="dotDotDash",e.DOTTED="dotted",e.DOUBLE="double",e.DOUBLE_WAVE="doubleWave",e.INSET="inset",e.NIL="nil",e.NONE="none",e.OUTSET="outset",e.THICK="thick",e.THICK_THIN_LARGE_GAP="thickThinLargeGap",e.THICK_THIN_MEDIUM_GAP="thickThinMediumGap",e.THICK_THIN_SMALL_GAP="thickThinSmallGap",e.THIN_THICK_LARGE_GAP="thinThickLargeGap",e.THIN_THICK_MEDIUM_GAP="thinThickMediumGap",e.THIN_THICK_SMALL_GAP="thinThickSmallGap",e.THIN_THICK_THIN_LARGE_GAP="thinThickThinLargeGap",e.THIN_THICK_THIN_MEDIUM_GAP="thinThickThinMediumGap",e.THIN_THICK_THIN_SMALL_GAP="thinThickThinSmallGap",e.THREE_D_EMBOSS="threeDEmboss",e.THREE_D_ENGRAVE="threeDEngrave",e.TRIPLE="triple",e.WAVE="wave"}(t.BorderStyle||(t.BorderStyle={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKAROUND4=""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(17);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={value:"w:w",type:"w:type"}}}class a extends n.XmlComponent{setProperties(e,t=o.WidthType.DXA){this.root.push(new i({type:t,value:e}))}}class s extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:tblCellMar")}addTopMargin(e,t=o.WidthType.DXA){const r=new a("w:top");r.setProperties(e,t),this.root.push(r)}addLeftMargin(e,t=o.WidthType.DXA){const r=new a("w:left");r.setProperties(e,t),this.root.push(r)}addBottomMargin(e,t=o.WidthType.DXA){const r=new a("w:bottom");r.setProperties(e,t),this.root.push(r)}addRightMargin(e,t=o.WidthType.DXA){const r=new a("w:right");r.setProperties(e,t),this.root.push(r)}}t.TableCellMargin=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(17);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",w:"w:w"}}}class a extends n.XmlComponent{constructor(e,t){super("w:tblW");const r=e===o.WidthType.PERCENTAGE?`${t}%`:t;this.root.push(new i({type:e,w:r}))}}t.PreferredTableWidth=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(252)),n(r(98)),n(r(99))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(98);class i extends n.XmlComponent{constructor(e){super("w:tr"),this.options=e,this.properties=new o.TableRowProperties,this.root.push(this.properties);for(const t of e.children)this.root.push(t);e.cantSplit&&this.properties.setCantSplit(),e.tableHeader&&this.properties.setTableHeader(),e.height&&this.properties.setHeight(e.height.height,e.height.rule)}get CellCount(){return this.options.children.length}get Children(){return this.options.children}addCellToIndex(e,t){this.root.splice(t+1,0,e)}}t.TableRow=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(91),o=r(254),i=r(256),a=r(262),s=r(100),l=r(115),u=r(51),c=r(116),d=r(117),f=r(54),p=r(55),h=r(118),m=r(2),g=r(52),b=r(53),v=r(304),y=r(26),w=r(307),E=r(308);t.File=class{constructor(e={creator:"Un-named",revision:"1",lastModifiedBy:"Un-named"},t={},r=[]){if(this.currentRelationshipId=1,this.headers=[],this.footers=[],this.hyperlinkCache={},this.coreProperties=new a.CoreProperties(e),this.numbering=new h.Numbering(e.numbering?e.numbering:{config:[]}),this.docRelationships=new g.Relationships,this.fileRelationships=new g.Relationships,this.appProperties=new o.AppProperties,this.footNotes=new c.FootNotes,this.contentTypes=new i.ContentTypes,this.document=new s.Document,this.settings=new v.Settings,this.media=t.template&&t.template.media?t.template.media:new p.Media,t.template&&(this.currentRelationshipId=t.template.currentRelationshipId+1),t.template&&e.externalStyles)throw Error("can not use both template and external styles");if(t.template){const e=new w.ExternalStylesFactory;this.styles=e.newInstance(t.template.styles)}else if(e.externalStyles){const t=new w.ExternalStylesFactory;this.styles=t.newInstance(e.externalStyles)}else if(e.styles){const t=(new E.DefaultStylesFactory).newInstance();this.styles=new y.Styles(Object.assign({},t,e.styles))}else{const e=new E.DefaultStylesFactory;this.styles=new y.Styles(e.newInstance())}if(this.addDefaultRelationships(),t.template&&t.template.headers)for(const e of t.template.headers)this.addHeaderToDocument(e.header,e.type);if(t.template&&t.template.footers)for(const e of t.template.footers)this.addFooterToDocument(e.footer,e.type);for(const e of r){this.document.Body.addSection(e.properties?e.properties:{});for(const t of e.children)if(t instanceof m.HyperlinkRef){const e=this.hyperlinkCache[t.id];this.document.add(e)}else this.document.add(t)}if(e.footnotes)for(const t of e.footnotes)this.footNotes.createFootNote(t);if(e.hyperlinks){const t={};for(const r in e.hyperlinks){if(!e.hyperlinks[r])continue;const n=e.hyperlinks[r],o=n.type===m.HyperlinkType.EXTERNAL?this.createHyperlink(n.link,n.text):this.createInternalHyperLink(r,n.text);t[r]=o}this.hyperlinkCache=t}}addSection({headers:e={default:new d.Header},footers:t={default:new d.Header},margins:r={},size:n={},properties:o,children:i}){this.document.Body.addSection(Object.assign({},o,{headers:{default:e.default?this.createHeader(e.default):this.createHeader(new d.Header),first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footers:{default:t.default?this.createFooter(t.default):this.createFooter(new d.Footer),first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}},r,n));for(const e of i)if(e instanceof m.HyperlinkRef){const t=this.hyperlinkCache[e.id];this.document.add(t)}else this.document.add(e)}verifyUpdateFields(){this.document.getTablesOfContents().length&&this.settings.addUpdateFields()}createHyperlink(e,t=e){const r=new m.Hyperlink(t,n.generate().toLowerCase());return this.docRelationships.createRelationship(r.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",e,b.TargetModeType.EXTERNAL),r}createInternalHyperLink(e,t=e){return new m.Hyperlink(t,n.generate().toLowerCase(),e)}createHeader(e){const t=new f.HeaderWrapper(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addHeaderToDocument(t),t}createFooter(e){const t=new u.FooterWrapper(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=l.HeaderReferenceType.DEFAULT){this.headers.push({header:e,type:t}),this.docRelationships.createRelationship(e.Header.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=l.FooterReferenceType.DEFAULT){this.footers.push({footer:e,type:t}),this.docRelationships.createRelationship(e.Footer.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.docRelationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.docRelationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.docRelationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.docRelationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml")}get Document(){return this.document}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get DocumentRelationships(){return this.docRelationships}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get AppProperties(){return this.appProperties}get FootNotes(){return this.footNotes}get Settings(){return this.settings}get HyperlinkCache(){return this.hyperlinkCache}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(255);class i extends n.XmlComponent{constructor(){super("Properties"),this.root.push(new o.AppPropertiesAttributes({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}t.AppProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}t.AppPropertiesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(257),i=r(258),a=r(260);class s extends n.XmlComponent{constructor(){super("Types"),this.root.push(new o.ContentTypeAttributes({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new i.Default("image/png","png")),this.root.push(new i.Default("image/jpeg","jpeg")),this.root.push(new i.Default("image/jpeg","jpg")),this.root.push(new i.Default("image/bmp","bmp")),this.root.push(new i.Default("image/gif","gif")),this.root.push(new i.Default("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new i.Default("application/xml","xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml"))}addFooter(e){this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}t.ContentTypes=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}t.ContentTypeAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(259);class i extends n.XmlComponent{constructor(e,t){super("Default"),this.root.push(new o.DefaultAttributes({contentType:e,extension:t}))}}t.Default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",extension:"Extension"}}}t.DefaultAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(261);class i extends n.XmlComponent{constructor(e,t){super("Override"),this.root.push(new o.OverrideAttributes({contentType:e,partName:t}))}}t.Override=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",partName:"PartName"}}}t.OverrideAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(263))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(11),i=r(264);class a extends n.XmlComponent{constructor(e){super("cp:coreProperties"),this.root.push(new o.DocumentAttributes({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new i.Title(e.title)),e.subject&&this.root.push(new i.Subject(e.subject)),e.creator&&this.root.push(new i.Creator(e.creator)),e.keywords&&this.root.push(new i.Keywords(e.keywords)),e.description&&this.root.push(new i.Description(e.description)),e.lastModifiedBy&&this.root.push(new i.LastModifiedBy(e.lastModifiedBy)),e.revision&&this.root.push(new i.Revision(e.revision)),this.root.push(new i.Created),this.root.push(new i.Modified)}}t.CoreProperties=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(11);class i extends n.XmlComponent{constructor(e){super("dc:title"),this.root.push(e)}}t.Title=i;class a extends n.XmlComponent{constructor(e){super("dc:subject"),this.root.push(e)}}t.Subject=a;class s extends n.XmlComponent{constructor(e){super("dc:creator"),this.root.push(e)}}t.Creator=s;class l extends n.XmlComponent{constructor(e){super("cp:keywords"),this.root.push(e)}}t.Keywords=l;class u extends n.XmlComponent{constructor(e){super("dc:description"),this.root.push(e)}}t.Description=u;class c extends n.XmlComponent{constructor(e){super("cp:lastModifiedBy"),this.root.push(e)}}t.LastModifiedBy=c;class d extends n.XmlComponent{constructor(e){super("cp:revision"),this.root.push(e)}}t.Revision=d;class f extends n.XmlComponent{getCurrentDate(){const e=new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"Z"}}t.DateComponent=f,t.Created=class extends f{constructor(){super("dcterms:created"),this.root.push(new o.DocumentAttributes({type:"dcterms:W3CDTF"})),this.root.push(this.getCurrentDate())}},t.Modified=class extends f{constructor(){super("dcterms:modified"),this.root.push(new o.DocumentAttributes({type:"dcterms:W3CDTF"})),this.root.push(this.getCurrentDate())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(101),i=r(11);class a extends n.XmlComponent{constructor(){super("w:document"),this.root.push(new i.DocumentAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.body=new o.Body,this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}getTablesOfContents(){return this.body.getTablesOfContents()}}t.Document=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(28),i=r(102);class a extends n.XmlComponent{constructor(){super("w:body"),this.sections=[]}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new i.SectionProperties(e))}prepForXml(e){return 1===this.sections.length&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}getTablesOfContents(){return this.root.filter(e=>e instanceof o.TableOfContents)}createSectionParagraph(e){const t=new o.Paragraph({}),r=new o.ParagraphProperties({});return r.addChildElement(e),t.addChildElement(r),t}}t.Body=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(268);class i extends n.XmlComponent{constructor(e,t){super("w:cols"),this.root.push(new o.ColumnsAttributes({space:e,num:t}))}}t.Columns=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"w:space",num:"w:num"}}}t.ColumnsAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(270);class i extends n.XmlComponent{constructor(e){super("w:docGrid"),this.root.push(new o.DocGridAttributes({linePitch:e}))}}t.DocumentGrid=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={linePitch:"w:linePitch"}}}t.DocGridAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.CONTINUOUS="continuous",e.NEW_SECTION="newSection",e.NEW_PAGE="newPage"}(t.LineNumberRestartFormat||(t.LineNumberRestartFormat={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={lineNumberCountBy:"w:countBy",lineNumberStart:"w:start",lineNumberRestart:"w:restart",lineNumberDistance:"w:distance"}}}t.LineNumberAttributes=o;class i extends n.XmlComponent{constructor(e,t,r,n){super("w:lnNumType"),this.root.push(new o({lineNumberCountBy:e,lineNumberStart:t,lineNumberRestart:r,lineNumberDistance:n}))}}t.LineNumberType=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.ALL_PAGES="allPages",e.FIRST_PAGE="firstPage",e.NOT_FIRST_PAGE="notFirstPage"}(t.PageBorderDisplay||(t.PageBorderDisplay={})),function(e){e.PAGE="page",e.TEXT="text"}(t.PageBorderOffsetFrom||(t.PageBorderOffsetFrom={})),function(e){e.BACK="back",e.FRONT="front"}(t.PageBorderZOrder||(t.PageBorderZOrder={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={style:"w:val",size:"w:size",color:"w:color",space:"w:space"}}}class i extends n.XmlComponent{constructor(e,t){super(e),this.root.push(new o(t))}}class a extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"}}}class s extends n.IgnoreIfEmptyXmlComponent{constructor(e){if(super("w:pgBorders"),!e)return;let t={};e.pageBorders&&(t={display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder}),this.root.push(new a(t)),e.pageBorderTop&&this.root.push(new i("w:top",e.pageBorderTop)),e.pageBorderRight&&this.root.push(new i("w:right",e.pageBorderRight)),e.pageBorderBottom&&this.root.push(new i("w:bottom",e.pageBorderBottom)),e.pageBorderLeft&&this.root.push(new i("w:left",e.pageBorderLeft))}}t.PageBorders=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(274);class i extends n.XmlComponent{constructor(e,t,r,n,i,a,s,l){super("w:pgMar"),this.root.push(new o.PageMarginAttributes({top:e,right:t,bottom:r,left:n,header:i,footer:a,gutter:s,mirror:l}))}}t.PageMargin=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",mirror:"w:mirrorMargins"}}}t.PageMarginAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.CARDINAL_TEXT="cardinalText",e.DECIMAL="decimal",e.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",e.DECIMAL_ENCLOSED_FULL_STOP="decimalEnclosedFullstop",e.DECIMAL_ENCLOSED_PAREN="decimalEnclosedParen",e.DECIMAL_ZERO="decimalZero",e.LOWER_LETTER="lowerLetter",e.LOWER_ROMAN="lowerRoman",e.NONE="none",e.ORDINAL_TEXT="ordinalText",e.UPPER_LETTER="upperLetter",e.UPPER_ROMAN="upperRoman"}(t.PageNumberFormat||(t.PageNumberFormat={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={pageNumberStart:"w:start",pageNumberFormatType:"w:fmt"}}}t.PageNumberTypeAttributes=o;class i extends n.XmlComponent{constructor(e,t){super("w:pgNumType"),this.root.push(new o({pageNumberStart:e,pageNumberFormatType:t}))}}t.PageNumberType=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(277);class i extends n.XmlComponent{constructor(){super("w:titlePg"),this.root.push(new o.TitlePageAttributes({value:"1"}))}}t.TitlePage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={value:"w:val"}}}t.TitlePageAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(114);!function(e){e.BOTH="both",e.BOTTOM="bottom",e.CENTER="center",e.TOP="top"}(t.SectionVerticalAlignValue||(t.SectionVerticalAlignValue={}));class i extends n.XmlComponent{constructor(e){super("w:vAlign"),this.root.push(new o.SectionVerticalAlignAttributes({verticalAlign:e}))}}t.SectionVerticalAlign=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(112)),n(r(50))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(281);class i extends n.InitializableXmlComponent{constructor(e,t){super("w:ftr",t),this.refId=e,t||this.root.push(new o.FooterAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}}t.Footer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"}}}t.FooterAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(283),i=r(53);class a extends n.XmlComponent{constructor(){super("Relationships"),this.root.push(new o.RelationshipsAttributes({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}addRelationship(e){this.root.push(e)}createRelationship(e,t,r,n){const o=new i.Relationship(`rId${e}`,t,r,n);return this.addRelationship(o),o}get RelationshipCount(){return this.root.length-1}}t.Relationships=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}t.RelationshipsAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"}}}t.RelationshipAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(286),a=r(290),s=r(292),l=r(294);class u extends n.XmlComponent{constructor(){super("w:footnotes"),this.currentId=1,this.root.push(new l.FootnotesAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new i.Footnote(-1,i.FootnoteType.SEPERATOR);e.add(new o.Paragraph({spacing:{after:0,line:240,lineRule:"auto"},children:[new s.SeperatorRun]})),this.root.push(e);const t=new i.Footnote(0,i.FootnoteType.CONTINUATION_SEPERATOR);t.add(new o.Paragraph({spacing:{after:0,line:240,lineRule:"auto"},children:[new a.ContinuationSeperatorRun]})),this.root.push(t)}createFootNote(e){const t=new i.Footnote(this.currentId);t.add(e),this.root.push(t),this.currentId++}}t.FootNotes=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(287),i=r(288);!function(e){e.SEPERATOR="separator",e.CONTINUATION_SEPERATOR="continuationSeparator"}(t.FootnoteType||(t.FootnoteType={}));class a extends n.XmlComponent{constructor(e,t){super("w:footnote"),this.root.push(new o.FootnoteAttributes({type:t,id:e}))}add(e){e.addRunToFront(new i.FootnoteRefRun),this.root.push(e)}}t.Footnote=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"w:id"}}}t.FootnoteAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(289);class i extends n.Run{constructor(){super({style:"FootnoteReference"}),this.root.push(new o.FootnoteRef)}}t.FootnoteRefRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:footnoteRef")}}t.FootnoteRef=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(291);class i extends n.Run{constructor(){super({}),this.root.push(new o.ContinuationSeperator)}}t.ContinuationSeperatorRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:continuationSeparator")}}t.ContinuationSeperator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(293);class i extends n.Run{constructor(){super({}),this.root.push(new o.Seperator)}}t.SeperatorRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:separator")}}t.Seperator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}t.FootnotesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(296))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(297))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),o=r(75),i=r(0);class a extends i.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}t.FootNoteReferenceRunAttributes=a;class s extends i.XmlComponent{constructor(e){super("w:footnoteReference"),this.root.push(new a({id:e}))}}t.FootnoteReference=s;class l extends n.Run{constructor(e){super({}),this.properties.push(new o.Style("FootnoteReference")),this.root.push(new s(e))}}t.FootnoteReferenceRun=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(299);class i extends n.InitializableXmlComponent{constructor(e,t){super("w:hdr",t),this.refId=e,t||this.root.push(new o.HeaderAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}}t.Header=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"}}}t.HeaderAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);class o{static addImage(e,t,r,o,i){const a=e.Media.addMedia(t,r,o);return new n.PictureRun(a,i)}static generateId(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}constructor(){this.map=new Map}getMedia(e){const t=this.map.get(e);if(void 0===t)throw new Error(`Cannot find image with the key ${e}`);return t}addMedia(e,t=100,r=100){const n=`${o.generateId()}.png`;return this.createMedia(n,{width:t,height:r},e)}createMedia(e,t,r,n){const o={stream:"string"==typeof r?this.convertDataURIToBinary(r):r,path:n,fileName:e,dimensions:{pixels:{x:Math.round(t.width),y:Math.round(t.height)},emus:{x:Math.round(9525*t.width),y:Math.round(9525*t.height)}}};return this.map.set(e,o),o}get Array(){const e=new Array;return this.map.forEach(t=>{e.push(t)}),e}convertDataURIToBinary(e){const t=e.indexOf(";base64,")+";base64,".length;return"function"==typeof atob?new Uint8Array(atob(e.substring(t)).split("").map(e=>e.charCodeAt(0))):new(r(5).Buffer)(e,"base64")}}t.Media=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKAROUND2=""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(0),i=r(11),a=r(119),s=r(120);class l extends o.XmlComponent{constructor(e){super("w:numbering"),this.abstractNumbering=[],this.concreteNumbering=[],this.root.push(new i.DocumentAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.nextId=0;const t=this.createAbstractNumbering([{level:0,format:"bullet",text:"",alignment:n.AlignmentType.LEFT,style:{paragraph:{indent:{left:720,hanging:360}}}},{level:1,format:"bullet",text:"",alignment:n.AlignmentType.LEFT,style:{paragraph:{indent:{left:1440,hanging:360}}}},{level:2,format:"bullet",text:"",alignment:n.AlignmentType.LEFT,style:{paragraph:{indent:{left:2160,hanging:360}}}},{level:3,format:"bullet",text:"",alignment:n.AlignmentType.LEFT,style:{paragraph:{indent:{left:2880,hanging:360}}}},{level:4,format:"bullet",text:"",alignment:n.AlignmentType.LEFT,style:{paragraph:{indent:{left:3600,hanging:360}}}},{level:5,format:"bullet",text:"",alignment:n.AlignmentType.LEFT,style:{paragraph:{indent:{left:4320,hanging:360}}}},{level:6,format:"bullet",text:"",alignment:n.AlignmentType.LEFT,style:{paragraph:{indent:{left:5040,hanging:360}}}},{level:7,format:"bullet",text:"",alignment:n.AlignmentType.LEFT,style:{paragraph:{indent:{left:5760,hanging:360}}}},{level:8,format:"bullet",text:"",alignment:n.AlignmentType.LEFT,style:{paragraph:{indent:{left:6480,hanging:360}}}}]);this.createConcreteNumbering(t);for(const t of e.config){const e=this.createAbstractNumbering(t.levels);this.createConcreteNumbering(e,t.reference)}}prepForXml(){return this.abstractNumbering.forEach(e=>this.root.push(e)),this.concreteNumbering.forEach(e=>this.root.push(e)),super.prepForXml()}createConcreteNumbering(e,t){const r=new s.ConcreteNumbering(this.nextId++,e.id,t);return this.concreteNumbering.push(r),r}createAbstractNumbering(e){const t=new a.AbstractNumbering(this.nextId++,e);return this.abstractNumbering.push(t),t}get ConcreteNumbering(){return this.concreteNumbering}}t.Numbering=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("w:multiLevelType"),this.root.push(new n.Attributes({val:e}))}}t.MultiLevelType=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(305)),n(r(121))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(306),i=r(121);class a extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}t.SettingsAttributes=a;class s extends n.XmlComponent{constructor(){super("w:settings"),this.root.push(new a({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.compatibility=new o.Compatibility}addUpdateFields(){this.root.find(e=>e instanceof i.UpdateFields)||this.addChildElement(new i.UpdateFields)}addCompatibility(){return this.root.find(e=>e instanceof o.Compatibility)||this.addChildElement(this.compatibility),this.compatibility}}t.Settings=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:doNotExpandShiftReturn")}}class i extends n.XmlComponent{constructor(){super("w:compat")}doNotExpandShiftReturn(){return this.root.push(new o),this}}t.Compatibility=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(31),i=r(26);t.ExternalStylesFactory=class{newInstance(e){const t=o.xml2js(e,{compact:!1});let r;for(const e of t.elements||[])"w:styles"===e.name&&(r=e);if(void 0===r)throw new Error("can not find styles element");const a=r.elements||[];return new i.Styles({initialStyles:new n.ImportedRootElementAttributes(r.attributes),importedStyles:a.map(e=>n.convertToXmlComponent(e))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(11),o=r(309),i=r(94);t.DefaultStylesFactory=class{newInstance(){return{initialStyles:new n.DocumentAttributes({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new o.DocumentDefaults,new i.TitleStyle({run:{size:56}}),new i.Heading1Style({run:{color:"2E74B5",size:32}}),new i.Heading2Style({run:{color:"2E74B5",size:26}}),new i.Heading3Style({run:{color:"1F4D78",size:24}}),new i.Heading4Style({run:{color:"2E74B5",italics:!0}}),new i.Heading5Style({run:{color:"2E74B5"}}),new i.Heading6Style({run:{color:"1F4D78"}}),new i.ListParagraph({}),new i.HyperlinkStyle({}),new i.FootnoteReferenceStyle({}),new i.FootnoteText({}),new i.FootnoteTextChar({})]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(310),i=r(311);class a extends n.XmlComponent{constructor(){super("w:docDefaults"),this.runPropertiesDefaults=new i.RunPropertiesDefaults,this.paragraphPropertiesDefaults=new o.ParagraphPropertiesDefaults,this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}t.DocumentDefaults=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25),o=r(0);class i extends o.XmlComponent{constructor(){super("w:pPrDefault"),this.root.push(new n.ParagraphProperties({}))}}t.ParagraphPropertiesDefaults=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),o=r(16),i=r(22),a=r(0);class s extends a.XmlComponent{constructor(){super("w:rPrDefault"),this.properties=new o.RunProperties,this.root.push(this.properties)}size(e){return this.properties.push(new n.Size(e)),this.properties.push(new n.SizeComplexScript(e)),this}font(e){return this.properties.push(new i.RunFonts(e)),this}}t.RunPropertiesDefaults=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKAROUND=""},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(314)),n(r(319))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(4),i=r(41),a=r(0),s=r(315),l=r(316),u=r(317);class c extends a.XmlComponent{constructor(e="Table of Contents",t){super("w:sdt"),this.root.push(new u.StructuredDocumentTagProperties(e));const r=new l.StructuredDocumentTagContent,a=new n.Paragraph({children:[new o.Run({children:[new i.Begin(!0),new s.FieldInstruction(t),new i.Separate]})]});r.addChildElement(a);const c=new n.Paragraph({children:[new o.Run({children:[new i.End]})]});r.addChildElement(c),this.root.push(r)}}t.TableOfContents=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(e={}){super("w:instrText"),this.properties=e,this.root.push(new i({space:n.SpaceType.PRESERVE}));let t="TOC";this.properties.captionLabel&&(t=`${t} \\a "${this.properties.captionLabel}"`),this.properties.entriesFromBookmark&&(t=`${t} \\b "${this.properties.entriesFromBookmark}"`),this.properties.captionLabelIncludingNumbers&&(t=`${t} \\c "${this.properties.captionLabelIncludingNumbers}"`),this.properties.sequenceAndPageNumbersSeparator&&(t=`${t} \\d "${this.properties.sequenceAndPageNumbersSeparator}"`),this.properties.tcFieldIdentifier&&(t=`${t} \\f "${this.properties.tcFieldIdentifier}"`),this.properties.hyperlink&&(t=`${t} \\h`),this.properties.tcFieldLevelRange&&(t=`${t} \\l "${this.properties.tcFieldLevelRange}"`),this.properties.pageNumbersEntryLevelsRange&&(t=`${t} \\n "${this.properties.pageNumbersEntryLevelsRange}"`),this.properties.headingStyleRange&&(t=`${t} \\o "${this.properties.headingStyleRange}"`),this.properties.entryAndPageNumberSeparator&&(t=`${t} \\p "${this.properties.entryAndPageNumberSeparator}"`),this.properties.seqFieldIdentifierForPrefix&&(t=`${t} \\s "${this.properties.seqFieldIdentifierForPrefix}"`),this.properties.stylesWithLevels&&this.properties.stylesWithLevels.length&&(t=`${t} \\t "${this.properties.stylesWithLevels.map(e=>`${e.styleName},${e.level}`).join(",")}"`),this.properties.useAppliedParagraphOutlineLevel&&(t=`${t} \\u`),this.properties.preserveTabInEntries&&(t=`${t} \\w`),this.properties.preserveNewLineInEntries&&(t=`${t} \\x`),this.properties.hideTabAndPageNumbersInWebView&&(t=`${t} \\z`),this.root.push(t)}}t.FieldInstruction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:sdtContent")}}t.StructuredDocumentTagContent=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(318);class i extends n.XmlComponent{constructor(e){super("w:sdtPr"),this.root.push(new o.Alias(e))}}t.StructuredDocumentTagProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={alias:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:alias"),this.root.push(new o({alias:e}))}}t.Alias=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleLevel=class{constructor(e,t){this.styleName=e,this.level=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(321))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(a,s)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(322);class i{static toBuffer(e,t){return n(this,void 0,void 0,(function*(){const r=this.compiler.compile(e,t);return yield r.generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}static toBase64String(e,t){return n(this,void 0,void 0,(function*(){const r=this.compiler.compile(e,t);return yield r.generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}static toBlob(e,t){return n(this,void 0,void 0,(function*(){const r=this.compiler.compile(e,t);return yield r.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}}i.compiler=new o.Compiler,t.Packer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(122),o=r(348),i=r(350),a=r(351),s=r(352);t.Compiler=class{constructor(){this.formatter=new i.Formatter,this.imageReplacer=new a.ImageReplacer,this.numberingReplacer=new s.NumberingReplacer}compile(e,t){const r=new n,o=this.xmlifyFile(e,t);for(const e in o){if(!o[e])continue;const t=o[e];if(Array.isArray(t))for(const e of t)r.file(e.path,e.data);else r.file(t.path,t.data)}for(const t of e.Media.Array){const e=t.stream;r.file(`word/media/${t.fileName}`,e)}return r}xmlifyFile(e,t){e.verifyUpdateFields();const r=e.DocumentRelationships.RelationshipCount+1,n=o(this.formatter.format(e.Document,e),t),i=this.imageReplacer.getMediaData(n,e.Media);return{Relationships:{data:(()=>(i.forEach((t,n)=>{e.DocumentRelationships.createRelationship(r+n,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${t.fileName}`)}),o(this.formatter.format(e.DocumentRelationships,e),t)))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const t=this.imageReplacer.replace(n,i,r);return this.numberingReplacer.replace(t,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:o(this.formatter.format(e.Styles,e),t),path:"word/styles.xml"},Properties:{data:o(this.formatter.format(e.CoreProperties,e),{declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:o(this.formatter.format(e.Numbering,e),t),path:"word/numbering.xml"},FileRelationships:{data:o(this.formatter.format(e.FileRelationships,e),t),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((r,n)=>{const i=o(this.formatter.format(r.Header,e),t);return this.imageReplacer.getMediaData(i,e.Media).forEach((e,t)=>{r.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${e.fileName}`)}),{data:o(this.formatter.format(r.Relationships,e),t),path:`word/_rels/header${n+1}.xml.rels`}}),FooterRelationships:e.Footers.map((r,n)=>{const i=o(this.formatter.format(r.Footer,e),t);return this.imageReplacer.getMediaData(i,e.Media).forEach((e,t)=>{r.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${e.fileName}`)}),{data:o(this.formatter.format(r.Relationships,e),t),path:`word/_rels/footer${n+1}.xml.rels`}}),Headers:e.Headers.map((r,n)=>{const i=o(this.formatter.format(r.Header,e),t),a=this.imageReplacer.getMediaData(i,e.Media);return{data:this.imageReplacer.replace(i,a,0),path:`word/header${n+1}.xml`}}),Footers:e.Footers.map((r,n)=>{const i=o(this.formatter.format(r.Footer,e),t),a=this.imageReplacer.getMediaData(i,e.Media);return{data:this.imageReplacer.replace(i,a,0),path:`word/footer${n+1}.xml`}}),ContentTypes:{data:o(this.formatter.format(e.ContentTypes,e),t),path:"[Content_Types].xml"},AppProperties:{data:o(this.formatter.format(e.AppProperties,e),t),path:"docProps/app.xml"},FootNotes:{data:o(this.formatter.format(e.FootNotes,e),t),path:"word/footnotes.xml"},Settings:{data:o(this.formatter.format(e.Settings,e),t),path:"word/settings.xml"}}}}},function(e,t,r){"use strict";var n=r(12),o=r(1),i=r(3),a=r(125),s=r(126),l=r(57),u=r(329),c=r(330),d=r(27),f=r(342),p=function(e,t,r){var n,a=o.getTypeOf(t),c=o.extend(r||{},s);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(e=m(e)),c.createFolders&&(n=h(e))&&g.call(this,n,!0);var p="string"===a&&!1===c.binary&&!1===c.base64;r&&void 0!==r.binary||(c.binary=!p),(t instanceof l&&0===t.uncompressedSize||c.dir||!t||0===t.length)&&(c.base64=!1,c.binary=!0,t="",c.compression="STORE",a="string");var b=null;b=t instanceof l||t instanceof i?t:d.isNode&&d.isStream(t)?new f(e,t):o.prepareContent(e,t,c.binary,c.optimizedBinaryString,c.base64);var v=new u(e,b,c);this.files[e]=v},h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:s.createFolders,e=m(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n))},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){if(1===arguments.length){if(b(e)){var n=e;return this.filter((function(e,t){return!t.dir&&n.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null}return(e=this.root+e,p.call(this,e,t,r),this)},folder:function(e){if(!e)return this;if(b(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=g.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");o.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var s=r.comment||this.comment||"";t=c.generateWorker(this,r,s)}catch(e){(t=new i("error")).error(e)}return new a(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=v},function(e,t,r){"use strict";(function(t){e.exports="function"==typeof t?t:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}}).call(t,r(67).setImmediate)},function(e,t,r){"use strict";var n=r(326);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==o&&p(this,e)}function c(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){n((function(){var n;try{n=t(r)}catch(t){return i.reject(e,t)}n===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,n)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function n(t){r||(r=!0,i.reject(e,t))}function o(t){r||(r=!0,i.resolve(e,t))}var a=h((function(){t(o,n)}));"error"===a.status&&n(a.value)}function h(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}e.exports=u,u.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(o);return this.state!==l?d(r,this.state===s?e:t,this.outcome):this.queue.push(new c(r,e,t)),r},c.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){i.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,t){var r=h(f,t);if("error"===r.status)return i.reject(e,r.value);var n=r.value;if(n)p(e,n);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},u.reject=function(e){var t=new this(o);return i.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,u=new this(o);++l<r;)c(e[l],l);return u;function c(e,o){t.resolve(e).then((function(e){a[o]=e,++s!==r||n||(n=!0,i.resolve(u,a))}),(function(e){n||(n=!0,i.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a,s=-1,l=new this(o);++s<r;)a=e[s],t.resolve(a).then((function(e){n||(n=!0,i.resolve(l,e))}),(function(e){n||(n=!0,i.reject(l,e))}));return l}},function(e,t,r){"use strict";(function(t){var r,n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(c),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var l=new t.MessageChannel;l.port1.onmessage=c,r=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;n=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}n=!1}e.exports=function(e){1!==u.push(e)||n||r()}}).call(t,r(8))},function(e,t,r){"use strict";var n=r(3),o=r(1);function i(e){n.call(this,"ConvertWorker to "+e),this.destType=e}o.inherits(i,n),i.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},e.exports=i},function(e,t,r){"use strict";var n=r(123).Readable;function o(e,t,r){n.call(this,t),this._helper=e;var o=this;e.on("data",(function(e,t){o.push(e)||o._helper.pause(),r&&r(t)})).on("error",(function(e){o.emit("error",e)})).on("end",(function(){o.push(null)}))}r(1).inherits(o,n),o.prototype._read=function(){this._helper.resume()},e.exports=o},function(e,t,r){"use strict";var n=r(125),o=r(127),i=r(12),a=r(57),s=r(3),l=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};l.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var o="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!o&&(t=t.pipe(new i.Utf8EncodeWorker)),!a&&o&&(t=t.pipe(new i.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new n(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new i.Utf8EncodeWorker)),a.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)l.prototype[u[d]]=c;e.exports=l},function(e,t,r){"use strict";var n=r(130),o=r(341);t.generateWorker=function(e,t,r){var i=new o(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,r){a++;var o=function(e,t){var r=e||t,o=n[r];if(!o)throw new Error(r+" is not a valid compression method !");return o}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},l=r.dir,u=r.date;r._compressWorker(o,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(i)})),i.entriesCount=a}catch(e){i.error(e)}return i}},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=r(332),i=r(1),a=r(3),s=n?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",i.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},function(e,t,r){"use strict";var n={};(0,r(7).assign)(n,r(333),r(336),r(135)),e.exports=n},function(e,t,r){"use strict";var n=r(334),o=r(7),i=r(133),a=r(59),s=r(134),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(a[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=n.deflateSetDictionary(this.strm,c)))throw new Error(a[r]);this._dict_set=!0}}function c(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}u.prototype.push=function(e,t){var r,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(e,t,r){"use strict";var n,o=r(7),i=r(335),a=r(131),s=r(132),l=r(59);function u(e,t){return e.msg=l[t],t}function c(e){return(e<<1)-(e>4?9:0)}function d(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(o.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function p(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function h(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var r,n,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+258,p=u[i+a-1],h=u[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(r=t)+a]===h&&u[r+a-1]===p&&u[r]===u[i]&&u[++r]===u[i+1]){i+=2,r++;do{}while(u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&i<f);if(n=258-(f-i),i=f-258,n>a){if(e.match_start=t,a=n,n>=s)break;p=u[i+a-1],h=u[i+a]}}}while((t=d[t&c])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead}function b(e){var t,r,n,i,l,u,c,d,f,p,h=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-262)){o.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=h?n-h:0}while(--r);t=r=h;do{n=e.prev[--t],e.prev[t]=n>=h?n-h:0}while(--r);i+=h}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,f=i,p=void 0,(p=u.avail_in)>f&&(p=f),r=0===p?0:(u.avail_in-=p,o.arraySet(c,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=a(u.adler,c,p,d):2===u.state.wrap&&(u.adler=s(u.adler,c,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function v(e,t){for(var r,n;;){if(e.lookahead<262){if(b(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=g(e,r)),e.match_length>=3)if(n=i._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function y(e,t){for(var r,n,o;;){if(e.lookahead<262){if(b(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=g(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,n=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(p(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=i._tr_tally(e,0,e.window[e.strstart-1]))&&p(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function w(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,i._tr_init(t),0):u(e,-2)}function O(e){var t,r=_(e);return 0===r&&((t=e.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function C(e,t,r,n,i,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||8!==r||n<8||n>15||t<0||t>9||a<0||a>4)return u(e,-2);8===n&&(n=9);var l=new E;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=r,O(e)}n=[new w(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(b(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,p(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(p(e,!1),e.strm.avail_out),1)})),new w(4,4,8,4,v),new w(4,5,16,8,v),new w(4,6,32,32,v),new w(4,4,16,16,y),new w(8,16,32,32,y),new w(8,16,128,128,y),new w(8,32,128,256,y),new w(32,128,258,1024,y),new w(32,258,258,4096,y)],t.deflateInit=function(e,t){return C(e,t,8,15,8,0)},t.deflateInit2=C,t.deflateReset=O,t.deflateResetKeep=_,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var r,o,a,l;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||666===o.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(o.strm=e,r=o.last_flush,o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,h(o,31),h(o,139),h(o,8),o.gzhead?(h(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),h(o,255&o.gzhead.time),h(o,o.gzhead.time>>8&255),h(o,o.gzhead.time>>16&255),h(o,o.gzhead.time>>24&255),h(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),h(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(h(o,255&o.gzhead.extra.length),h(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(h(o,0),h(o,0),h(o,0),h(o,0),h(o,0),h(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),h(o,3),o.status=113);else{var g=8+(o.w_bits-8<<4)<<8;g|=(o.strategy>=2||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(g|=32),g+=31-g%31,o.status=113,m(o,g),0!==o.strstart&&(m(o,e.adler>>>16),m(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),f(e),a=o.pending,o.pending!==o.pending_buf_size));)h(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),f(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,h(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),f(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,h(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&f(e),o.pending+2<=o.pending_buf_size&&(h(o,255&e.adler),h(o,e.adler>>8&255),e.adler=0,o.status=113)):o.status=113),0!==o.pending){if(f(e),0===e.avail_out)return o.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(r)&&4!==t)return u(e,-5);if(666===o.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==o.lookahead||0!==t&&666!==o.status){var v=2===o.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(b(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(o,t):3===o.strategy?function(e,t){for(var r,n,o,a,s=e.window;;){if(e.lookahead<=258){if(b(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[o=e.strstart-1])===s[++o]&&n===s[++o]&&n===s[++o]){a=e.strstart+258;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<a);e.match_length=258-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=i._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(o,t):n[o.level].func(o,t);if(3!==v&&4!==v||(o.status=666),1===v||3===v)return 0===e.avail_out&&(o.last_flush=-1),0;if(2===v&&(1===t?i._tr_align(o):5!==t&&(i._tr_stored_block(o,0,0,!1),3===t&&(d(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),f(e),0===e.avail_out))return o.last_flush=-1,0}return 4!==t?0:o.wrap<=0?1:(2===o.wrap?(h(o,255&e.adler),h(o,e.adler>>8&255),h(o,e.adler>>16&255),h(o,e.adler>>24&255),h(o,255&e.total_in),h(o,e.total_in>>8&255),h(o,e.total_in>>16&255),h(o,e.total_in>>24&255)):(m(o,e.adler>>>16),m(o,65535&e.adler)),f(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var r,n,i,s,l,u,c,f,p=t.length;if(!e||!e.state)return-2;if(2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(d(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new o.Buf8(r.w_size),o.arraySet(f,t,p-r.w_size,r.w_size,0),t=f,p=r.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,b(r);r.lookahead>=3;){n=r.strstart,i=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=2,b(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,r.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";var n=r(7);function o(e){for(var t=e.length;--t>=0;)e[t]=0}var i=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);o(u);var c=new Array(60);o(c);var d=new Array(512);o(d);var f=new Array(256);o(f);var p=new Array(29);o(p);var h,m,g,b=new Array(30);function v(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?d[e]:d[256+(e>>>7)]}function E(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function _(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,E(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function O(e,t,r){_(e,r[2*t],r[2*t+1])}function C(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function x(e,t,r){var n,o,i=new Array(16),a=0;for(n=1;n<=15;n++)i[n]=a=a+r[n-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=C(i[s]++,s))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function S(e){e.bi_valid>8?E(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function P(e,t,r,n){var o=2*t,i=2*r;return e[o]<e[i]||e[o]===e[i]&&n[t]<=n[r]}function k(e,t,r){for(var n=e.heap[r],o=r<<1;o<=e.heap_len&&(o<e.heap_len&&P(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!P(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n}function I(e,t,r){var n,o,s,l,u=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],o=e.pending_buf[e.l_buf+u],u++,0===n?O(e,o,t):(O(e,(s=f[o])+256+1,t),0!==(l=i[s])&&_(e,o-=p[s],l),O(e,s=w(--n),r),0!==(l=a[s])&&_(e,n-=b[s],l))}while(u<e.last_lit);O(e,256,t)}function A(e,t){var r,n,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<l;r++)0!==i[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)k(e,i,r);o=l;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],k(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*o]=i[2*r]+i[2*n],e.depth[o]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=o,e.heap[1]=o++,k(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,o,i,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(i=0;i<=15;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(i=l[2*l[2*(n=e.heap[r])+1]+1]+1)>h&&(i=h,m++),l[2*n+1]=i,n>u||(e.bl_count[i]++,a=0,n>=p&&(a=f[n-p]),s=l[2*n],e.opt_len+=s*(i+a),d&&(e.static_len+=s*(c[2*n+1]+a)));if(0!==m){do{for(i=h-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(i=h;0!==i;i--)for(n=e.bl_count[i];0!==n;)(o=e.heap[--r])>u||(l[2*o+1]!==i&&(e.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),n--)}}(e,t),x(i,u,e.bl_count)}function j(e,t,r){var n,o,i=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)o=a,a=t[2*(n+1)+1],++s<l&&o===a||(s<u?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4))}function D(e,t,r){var n,o,i=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),n=0;n<=r;n++)if(o=a,a=t[2*(n+1)+1],!(++s<l&&o===a)){if(s<u)do{O(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(O(e,o,e.bl_tree),s--),O(e,16,e.bl_tree),_(e,s-3,2)):s<=10?(O(e,17,e.bl_tree),_(e,s-3,3)):(O(e,18,e.bl_tree),_(e,s-11,7));s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4)}}o(b);var R=!1;function N(e,t,r,o){_(e,0+(o?1:0),3),function(e,t,r,o){S(e),o&&(E(e,r),E(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){R||(function(){var e,t,r,n,o,l=new Array(16);for(r=0,n=0;n<28;n++)for(p[n]=r,e=0;e<1<<i[n];e++)f[r++]=n;for(f[r-1]=n,o=0,n=0;n<16;n++)for(b[n]=o,e=0;e<1<<a[n];e++)d[o++]=n;for(o>>=7;n<30;n++)for(b[n]=o<<7,e=0;e<1<<a[n]-7;e++)d[256+o++]=n;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(x(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=C(e,5);h=new v(u,i,257,286,15),m=new v(c,a,0,30,15),g=new v(new Array(0),s,0,19,7)}(),R=!0),e.l_desc=new y(e.dyn_ltree,h),e.d_desc=new y(e.dyn_dtree,m),e.bl_desc=new y(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,T(e)},t._tr_stored_block=N,t._tr_flush_block=function(e,t,r,n){var o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),A(e,e.l_desc),A(e,e.d_desc),a=function(e){var t;for(j(e,e.dyn_ltree,e.l_desc.max_code),j(e,e.dyn_dtree,e.d_desc.max_code),A(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=o&&(o=i)):o=i=r+5,r+4<=o&&-1!==t?N(e,t,r,n):4===e.strategy||i===o?(_(e,2+(n?1:0),3),I(e,u,c)):(_(e,4+(n?1:0),3),function(e,t,r,n){var o;for(_(e,t-257,5),_(e,r-1,5),_(e,n-4,4),o=0;o<n;o++)_(e,e.bl_tree[2*l[o]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),I(e,e.dyn_ltree,e.dyn_dtree)),T(e),n&&S(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(f[r]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){_(e,2,3),O(e,256,u),function(e){16===e.bi_valid?(E(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,r){"use strict";var n=r(337),o=r(7),i=r(133),a=r(135),s=r(59),l=r(134),u=r(340),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);if(this.header=new u,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[r])}function f(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,l,u,d,f=this.strm,p=this.options.chunkSize,h=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=i.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(p),f.next_out=0,f.avail_out=p),(r=n.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&h&&(r=n.inflateSetDictionary(this.strm,h)),r===a.Z_BUF_ERROR&&!0===m&&(r=a.Z_OK,m=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(f.output,f.next_out),u=f.next_out-l,d=i.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&o.arraySet(f.output,f.output,l,u,0),this.onData(d)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},function(e,t,r){"use strict";var n=r(7),o=r(131),i=r(132),a=r(338),s=r(339);function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):-2}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function f(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,d(e))):-2}function p(e,t){var r,n;return e?(n=new u,e.state=n,n.window=null,0!==(r=f(e,t))&&(e.state=null),r):-2}var h,m,g=!0;function b(e){if(g){var t;for(h=new n.Buf32(512),m=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,h,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=h,e.lenbits=9,e.distcode=m,e.distbits=5}function v(e,t,r,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),o>=a.wsize?(n.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>o&&(i=o),n.arraySet(a.window,t,r-o,i,a.wnext),(o-=i)?(n.arraySet(a.window,t,r-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}t.inflateReset=d,t.inflateReset2=f,t.inflateResetKeep=c,t.inflateInit=function(e){return p(e,15)},t.inflateInit2=p,t.inflate=function(e,t){var r,u,c,d,f,p,h,m,g,y,w,E,_,O,C,x,T,S,P,k,I,A,j,D,R=0,N=new n.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(r=e.state).mode&&(r.mode=13),f=e.next_out,c=e.output,h=e.avail_out,d=e.next_in,u=e.input,p=e.avail_in,m=r.hold,g=r.bits,y=p,w=h,A=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;g<16;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if(2&r.wrap&&35615===m){r.check=0,N[0]=255&m,N[1]=m>>>8&255,r.check=i(r.check,N,2,0),m=0,g=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",r.mode=30;break}if(g-=4,I=8+(15&(m>>>=4)),0===r.wbits)r.wbits=I;else if(I>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<I,e.adler=r.check=1,r.mode=512&m?10:12,m=0,g=0;break;case 2:for(;g<16;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if(r.flags=m,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(N[0]=255&m,N[1]=m>>>8&255,r.check=i(r.check,N,2,0)),m=0,g=0,r.mode=3;case 3:for(;g<32;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}r.head&&(r.head.time=m),512&r.flags&&(N[0]=255&m,N[1]=m>>>8&255,N[2]=m>>>16&255,N[3]=m>>>24&255,r.check=i(r.check,N,4,0)),m=0,g=0,r.mode=4;case 4:for(;g<16;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(N[0]=255&m,N[1]=m>>>8&255,r.check=i(r.check,N,2,0)),m=0,g=0,r.mode=5;case 5:if(1024&r.flags){for(;g<16;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(N[0]=255&m,N[1]=m>>>8&255,r.check=i(r.check,N,2,0)),m=0,g=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((E=r.length)>p&&(E=p),E&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,u,d,E,I)),512&r.flags&&(r.check=i(r.check,u,E,d)),p-=E,d+=E,r.length-=E),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===p)break e;E=0;do{I=u[d+E++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I))}while(I&&E<p);if(512&r.flags&&(r.check=i(r.check,u,E,d)),p-=E,d+=E,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===p)break e;E=0;do{I=u[d+E++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I))}while(I&&E<p);if(512&r.flags&&(r.check=i(r.check,u,E,d)),p-=E,d+=E,I)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;g<16;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if(m!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}m=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;g<32;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}e.adler=r.check=l(m),m=0,g=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=f,e.avail_out=h,e.next_in=d,e.avail_in=p,r.hold=m,r.bits=g,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){m>>>=7&g,g-=7&g,r.mode=27;break}for(;g<3;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}switch(r.last=1&m,g-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(b(r),r.mode=20,6===t){m>>>=2,g-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&m,m=0,g=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(E=r.length){if(E>p&&(E=p),E>h&&(E=h),0===E)break e;n.arraySet(c,u,d,E,f),p-=E,d+=E,h-=E,f+=E,r.length-=E;break}r.mode=12;break;case 17:for(;g<14;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if(r.nlen=257+(31&m),m>>>=5,g-=5,r.ndist=1+(31&m),m>>>=5,g-=5,r.ncode=4+(15&m),m>>>=4,g-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;g<3;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}r.lens[M[r.have++]]=7&m,m>>>=3,g-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,j={bits:r.lenbits},A=s(0,r.lens,0,19,r.lencode,0,r.work,j),r.lenbits=j.bits,A){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;x=(R=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,T=65535&R,!((C=R>>>24)<=g);){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if(T<16)m>>>=C,g-=C,r.lens[r.have++]=T;else{if(16===T){for(D=C+2;g<D;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if(m>>>=C,g-=C,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}I=r.lens[r.have-1],E=3+(3&m),m>>>=2,g-=2}else if(17===T){for(D=C+3;g<D;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}g-=C,I=0,E=3+(7&(m>>>=C)),m>>>=3,g-=3}else{for(D=C+7;g<D;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}g-=C,I=0,E=11+(127&(m>>>=C)),m>>>=7,g-=7}if(r.have+E>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;E--;)r.lens[r.have++]=I}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,j={bits:r.lenbits},A=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,j),r.lenbits=j.bits,A){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,j={bits:r.distbits},A=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,j),r.distbits=j.bits,A){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(p>=6&&h>=258){e.next_out=f,e.avail_out=h,e.next_in=d,e.avail_in=p,r.hold=m,r.bits=g,a(e,w),f=e.next_out,c=e.output,h=e.avail_out,d=e.next_in,u=e.input,p=e.avail_in,m=r.hold,g=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;x=(R=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,T=65535&R,!((C=R>>>24)<=g);){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if(x&&0==(240&x)){for(S=C,P=x,k=T;x=(R=r.lencode[k+((m&(1<<S+P)-1)>>S)])>>>16&255,T=65535&R,!(S+(C=R>>>24)<=g);){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}m>>>=S,g-=S,r.back+=S}if(m>>>=C,g-=C,r.back+=C,r.length=T,0===x){r.mode=26;break}if(32&x){r.back=-1,r.mode=12;break}if(64&x){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&x,r.mode=22;case 22:if(r.extra){for(D=r.extra;g<D;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;x=(R=r.distcode[m&(1<<r.distbits)-1])>>>16&255,T=65535&R,!((C=R>>>24)<=g);){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if(0==(240&x)){for(S=C,P=x,k=T;x=(R=r.distcode[k+((m&(1<<S+P)-1)>>S)])>>>16&255,T=65535&R,!(S+(C=R>>>24)<=g);){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}m>>>=S,g-=S,r.back+=S}if(m>>>=C,g-=C,r.back+=C,64&x){e.msg="invalid distance code",r.mode=30;break}r.offset=T,r.extra=15&x,r.mode=24;case 24:if(r.extra){for(D=r.extra;g<D;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===h)break e;if(E=w-h,r.offset>E){if((E=r.offset-E)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}E>r.wnext?(E-=r.wnext,_=r.wsize-E):_=r.wnext-E,E>r.length&&(E=r.length),O=r.window}else O=c,_=f-r.offset,E=r.length;E>h&&(E=h),h-=E,r.length-=E;do{c[f++]=O[_++]}while(--E);0===r.length&&(r.mode=21);break;case 26:if(0===h)break e;c[f++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;g<32;){if(0===p)break e;p--,m|=u[d++]<<g,g+=8}if(w-=h,e.total_out+=w,r.total+=w,w&&(e.adler=r.check=r.flags?i(r.check,c,w,f-w):o(r.check,c,w,f-w)),w=h,(r.flags?m:l(m))!==r.check){e.msg="incorrect data check",r.mode=30;break}m=0,g=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;g<32;){if(0===p)break e;p--,m+=u[d++]<<g,g+=8}if(m!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}m=0,g=0}r.mode=29;case 29:A=1;break e;case 30:A=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=f,e.avail_out=h,e.next_in=d,e.avail_in=p,r.hold=m,r.bits=g,(r.wsize||w!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&v(e,e.output,e.next_out,w-e.avail_out)?(r.mode=31,-4):(y-=e.avail_in,w-=e.avail_out,e.total_in+=y,e.total_out+=w,r.total+=w,r.wrap&&w&&(e.adler=r.check=r.flags?i(r.check,c,w,e.next_out-w):o(r.check,c,w,e.next_out-w)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===y&&0===w||4===t)&&0===A&&(A=-5),A)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?-2:(r.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?-2:11===r.mode&&o(1,t,n,0)!==r.check?-3:v(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,o,i,a,s,l,u,c,d,f,p,h,m,g,b,v,y,w,E,_,O,C,x,T;r=e.state,n=e.next_in,x=e.input,o=n+(e.avail_in-5),i=e.next_out,T=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,d=r.wnext,f=r.window,p=r.hold,h=r.bits,m=r.lencode,g=r.distcode,b=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{h<15&&(p+=x[n++]<<h,h+=8,p+=x[n++]<<h,h+=8),y=m[p&b];t:for(;;){if(p>>>=w=y>>>24,h-=w,0==(w=y>>>16&255))T[i++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=m[(65535&y)+(p&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}E=65535&y,(w&=15)&&(h<w&&(p+=x[n++]<<h,h+=8),E+=p&(1<<w)-1,p>>>=w,h-=w),h<15&&(p+=x[n++]<<h,h+=8,p+=x[n++]<<h,h+=8),y=g[p&v];r:for(;;){if(p>>>=w=y>>>24,h-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=g[(65535&y)+(p&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(_=65535&y,h<(w&=15)&&(p+=x[n++]<<h,(h+=8)<w&&(p+=x[n++]<<h,h+=8)),(_+=p&(1<<w)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(p>>>=w,h-=w,_>(w=i-a)){if((w=_-w)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(O=0,C=f,0===d){if(O+=u-w,w<E){E-=w;do{T[i++]=f[O++]}while(--w);O=i-_,C=T}}else if(d<w){if(O+=u+d-w,(w-=d)<E){E-=w;do{T[i++]=f[O++]}while(--w);if(O=0,d<E){E-=w=d;do{T[i++]=f[O++]}while(--w);O=i-_,C=T}}}else if(O+=d-w,w<E){E-=w;do{T[i++]=f[O++]}while(--w);O=i-_,C=T}for(;E>2;)T[i++]=C[O++],T[i++]=C[O++],T[i++]=C[O++],E-=3;E&&(T[i++]=C[O++],E>1&&(T[i++]=C[O++]))}else{O=i-_;do{T[i++]=T[O++],T[i++]=T[O++],T[i++]=T[O++],E-=3}while(E>2);E&&(T[i++]=T[O++],E>1&&(T[i++]=T[O++]))}break}}break}}while(n<o&&i<s);n-=E=h>>3,p&=(1<<(h-=E<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<o?o-n+5:5-(n-o),e.avail_out=i<s?s-i+257:257-(i-s),r.hold=p,r.bits=h}},function(e,t,r){"use strict";var n=r(7),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,l,u,c,d,f){var p,h,m,g,b,v,y,w,E,_=f.bits,O=0,C=0,x=0,T=0,S=0,P=0,k=0,I=0,A=0,j=0,D=null,R=0,N=new n.Buf16(16),M=new n.Buf16(16),L=null,F=0;for(O=0;O<=15;O++)N[O]=0;for(C=0;C<l;C++)N[t[r+C]]++;for(S=_,T=15;T>=1&&0===N[T];T--);if(S>T&&(S=T),0===T)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(x=1;x<T&&0===N[x];x++);for(S<x&&(S=x),I=1,O=1;O<=15;O++)if(I<<=1,(I-=N[O])<0)return-1;if(I>0&&(0===e||1!==T))return-1;for(M[1]=0,O=1;O<15;O++)M[O+1]=M[O]+N[O];for(C=0;C<l;C++)0!==t[r+C]&&(d[M[t[r+C]]++]=C);if(0===e?(D=L=d,v=19):1===e?(D=o,R-=257,L=i,F-=257,v=256):(D=a,L=s,v=-1),j=0,C=0,O=x,b=c,P=S,k=0,m=-1,g=(A=1<<S)-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){y=O-k,d[C]<v?(w=0,E=d[C]):d[C]>v?(w=L[F+d[C]],E=D[R+d[C]]):(w=96,E=0),p=1<<O-k,x=h=1<<P;do{u[b+(j>>k)+(h-=p)]=y<<24|w<<16|E|0}while(0!==h);for(p=1<<O-1;j&p;)p>>=1;if(0!==p?(j&=p-1,j+=p):j=0,C++,0==--N[O]){if(O===T)break;O=t[r+d[C]]}if(O>S&&(j&g)!==m){for(0===k&&(k=S),b+=x,I=1<<(P=O-k);P+k<T&&!((I-=N[P+k])<=0);)P++,I<<=1;if(A+=1<<P,1===e&&A>852||2===e&&A>592)return 1;u[m=j&g]=S<<24|P<<16|b-c|0}}return 0!==j&&(u[b+j]=O-k<<24|64<<16|0),f.bits=S,0}},function(e,t,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,r){"use strict";var n=r(1),o=r(3),i=r(12),a=r(58),s=r(136),l=function(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n},u=function(e,t,r,o,u,c){var d,f,p=e.file,h=e.compression,m=c!==i.utf8encode,g=n.transformTo("string",c(p.name)),b=n.transformTo("string",i.utf8encode(p.name)),v=p.comment,y=n.transformTo("string",c(v)),w=n.transformTo("string",i.utf8encode(v)),E=b.length!==p.name.length,_=w.length!==v.length,O="",C="",x="",T=p.dir,S=p.date,P={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(P.crc32=e.crc32,P.compressedSize=e.compressedSize,P.uncompressedSize=e.uncompressedSize);var k=0;t&&(k|=8),m||!E&&!_||(k|=2048);var I,A,j,D=0,R=0;T&&(D|=16),"UNIX"===u?(R=798,D|=(I=p.unixPermissions,A=T,j=I,I||(j=A?16893:33204),(65535&j)<<16)):(R=20,D|=63&(p.dosPermissions||0)),d=S.getUTCHours(),d<<=6,d|=S.getUTCMinutes(),d<<=5,d|=S.getUTCSeconds()/2,f=S.getUTCFullYear()-1980,f<<=4,f|=S.getUTCMonth()+1,f<<=5,f|=S.getUTCDate(),E&&(C=l(1,1)+l(a(g),4)+b,O+="up"+l(C.length,2)+C),_&&(x=l(1,1)+l(a(y),4)+w,O+="uc"+l(x.length,2)+x);var N="";return N+="\n\0",N+=l(k,2),N+=h.magic,N+=l(d,2),N+=l(f,2),N+=l(P.crc32,4),N+=l(P.compressedSize,4),N+=l(P.uncompressedSize,4),N+=l(g.length,2),N+=l(O.length,2),{fileRecord:s.LOCAL_FILE_HEADER+N+g+O,dirRecord:s.CENTRAL_FILE_HEADER+l(R,2)+N+l(y.length,2)+"\0\0\0\0"+l(D,4)+l(o,4)+g+O+y}},c=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function d(e,t,r,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(d,o),d.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=u(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=u(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:c(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,o=function(e,t,r,o,i){var a=n.transformTo("string",i(o));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(r,4)+l(a.length,2)+a}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=d},function(e,t,r){"use strict";var n=r(1),o=r(3);function i(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(i,o),i.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},function(e,t,r){"use strict";var n=r(1),o=r(18),i=r(12),a=(n=r(1),r(344)),s=r(129),l=r(27);function u(e){return new o.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}e.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),l.isNode&&l.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new a(t);return r.load(e),r})).then((function(e){var r=[o.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var i=0;i<n.length;i++)r.push(u(n[i]));return o.Promise.all(r)})).then((function(e){for(var n=e.shift(),o=n.files,i=0;i<o.length;i++){var a=o[i];r.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r}))}},function(e,t,r){"use strict";var n=r(137),o=r(1),i=r(136),a=r(347),s=(r(12),r(6));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(n>0)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},function(e,t,r){"use strict";var n=r(139);function o(e){n.call(this,e)}r(1).inherits(o,n),o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},function(e,t,r){"use strict";var n=r(140);function o(e){n.call(this,e)}r(1).inherits(o,n),o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},function(e,t,r){"use strict";var n=r(137),o=r(1),i=r(57),a=r(58),s=r(12),l=r(130),u=r(6);function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<o;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n}},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=c},function(e,t,r){(function(t){var n=r(349),o=r(32).Stream;function i(e,t,r){r=r||0;var o,a,s=(o=t,new Array(r||0).join(o||"")),l=e;if("object"==typeof e&&(l=e[a=Object.keys(e)[0]])&&l._elem)return l._elem.name=a,l._elem.icount=r,l._elem.indent=t,l._elem.indents=s,l._elem.interrupt=l,l._elem;var u,c=[],d=[];function f(e){Object.keys(e).forEach((function(t){c.push(function(e,t){return e+'="'+n(t)+'"'}(t,e[t]))}))}switch(typeof l){case"object":if(null===l)break;l._attr&&f(l._attr),l._cdata&&d.push(("<![CDATA["+l._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),l.forEach&&(u=!1,d.push(""),l.forEach((function(e){"object"==typeof e?"_attr"==Object.keys(e)[0]?f(e._attr):d.push(i(e,t,r+1)):(d.pop(),u=!0,d.push(n(e)))})),u||d.push(""));break;default:d.push(n(l))}return{name:a,interrupt:!1,attributes:c,content:d,icount:r,indents:s,indent:t}}function a(e,t,r){if("object"!=typeof t)return e(!1,t);var n=t.interrupt?1:t.content.length;function o(){for(;t.content.length;){var o=t.content.shift();if(void 0!==o){if(i(o))return;a(e,o)}}e(!1,(n>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!r?"\n":"")),r&&r()}function i(t){return!!t.interrupt&&(t.interrupt.append=e,t.interrupt.end=o,t.interrupt=!1,e(!0),!0)}if(e(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(n?t.name?">":"":t.name?"/>":"")+(t.indent&&n>1?"\n":"")),!n)return e(!1,t.indent?"\n":"");i(t)||o()}e.exports=function(e,r){"object"!=typeof r&&(r={indent:r});var n,s,l=r.stream?new o:null,u="",c=!1,d=r.indent?!0===r.indent?"    ":r.indent:"",f=!0;function p(e){f?t.nextTick(e):e()}function h(e,t){if(void 0!==t&&(u+=t),e&&!c&&(l=l||new o,c=!0),e&&c){var r=u;p((function(){l.emit("data",r)})),u=""}}function m(e,t){a(h,i(e,d,d?1:0),t)}function g(){if(l){var e=u;p((function(){l.emit("data",e),l.emit("end"),l.readable=!1,l.emit("close")}))}}return p((function(){f=!1})),r.declaration&&(n=r.declaration,s={version:"1.0",encoding:n.encoding||"UTF-8"},n.standalone&&(s.standalone=n.standalone),m({"?xml":{_attr:s}}),u=u.replace("/>","?>")),e&&e.forEach?e.forEach((function(t,r){var n;r+1===e.length&&(n=g),m(t,n)})):m(e,g),l?(l.readable=!0,l):u},e.exports.element=e.exports.Element=function(){var e=Array.prototype.slice.call(arguments),t={_elem:i(e),push:function(e){if(!this.append)throw new Error("not assigned to a parent!");var t=this,r=this._elem.indent;a(this.append,i(e,r,this._elem.icount+(r?1:0)),(function(){t.append(!0)}))},close:function(e){void 0!==e&&this.push(e),this.end&&this.end()}};return t}}).call(t,r(13))},function(e,t){var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};e.exports=function(e){return e&&e.replace?e.replace(/([&"<>'])/g,(function(e,t){return r[t]})):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Formatter=class{format(e,t){const r=e.prepForXml(t);if(r)return r;throw Error("XMLComponent did not format correctly")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageReplacer=class{replace(e,t,r){let n=e;return t.forEach((e,t)=>{n=n.replace(new RegExp(`{${e.fileName}}`,"g"),(r+t).toString())}),n}getMediaData(e,t){return t.Array.filter(t=>e.search(`{${t.fileName}}`)>0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberingReplacer=class{replace(e,t){let r=e;for(const e of t)e.reference&&(r=r.replace(new RegExp(`{${e.reference}}`,"g"),e.id.toString()));return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(354))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(a,s)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(122),i=r(31),a=r(51),s=r(54),l=r(55),u=r(53),c=r(0),d={"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header":"header","http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer":"footer","http://schemas.openxmlformats.org/officeDocument/2006/relationships/image":"image","http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink":"hyperlink"};var f;!function(e){e.HEADER="header",e.FOOTER="footer",e.IMAGE="image",e.HYPERLINK="hyperlink"}(f||(f={})),t.ImportDotx=class{extract(e){return n(this,void 0,void 0,(function*(){const t=yield o.loadAsync(e),r=yield t.files["word/document.xml"].async("text"),n=yield t.files["word/_rels/document.xml.rels"].async("text"),i=this.extractDocumentRefs(r),a=this.findReferenceFiles(n),s=new l.Media;return{headers:yield this.createHeaders(t,i,a,s,0),footers:yield this.createFooters(t,i,a,s,i.headers.length),currentRelationshipId:i.footers.length+i.headers.length,styles:yield t.files["word/styles.xml"].async("text"),titlePageIsDefined:this.checkIfTitlePageIsDefined(r),media:s}}))}createFooters(e,t,r,o,s){return n(this,void 0,void 0,(function*(){const l=t.footers.map((t,l)=>n(this,void 0,void 0,(function*(){const n=r.find(e=>e.id===t.id);if(null===n||!n)throw new Error(`Can not find target file for id ${t.id}`);const u=yield e.files[`word/${n.target}`].async("text"),d=i.xml2js(u,{compact:!1,captureSpacesBetweenElements:!0});if(!d.elements)return;const f=d.elements.reduce((e,t)=>"w:ftr"===t.name?t:e),p=c.convertToXmlComponent(f),h=new a.FooterWrapper(o,s+l,p);return yield this.addRelationshipToWrapper(n,e,h,o),{type:t.type,footer:h}}))).filter(e=>!!e);return Promise.all(l)}))}createHeaders(e,t,r,o,a){return n(this,void 0,void 0,(function*(){const l=t.headers.map((t,l)=>n(this,void 0,void 0,(function*(){const n=r.find(e=>e.id===t.id);if(null===n||!n)throw new Error(`Can not find target file for id ${t.id}`);const u=yield e.files[`word/${n.target}`].async("text"),d=i.xml2js(u,{compact:!1,captureSpacesBetweenElements:!0});if(!d.elements)return;const f=d.elements.reduce((e,t)=>"w:hdr"===t.name?t:e),p=c.convertToXmlComponent(f),h=new s.HeaderWrapper(o,a+l,p);return yield this.addRelationshipToWrapper(n,e,h,o),{type:t.type,header:h}}))).filter(e=>!!e);return Promise.all(l)}))}addRelationshipToWrapper(e,t,r,o){return n(this,void 0,void 0,(function*(){const n=t.files[`word/_rels/${e.target}.rels`];if(!n)return;const i=yield n.async("text"),a=this.findReferenceFiles(i).filter(e=>e.type===f.IMAGE),s=this.findReferenceFiles(i).filter(e=>e.type===f.HYPERLINK);for(const e of a){const n=yield t.files[`word/${e.target}`].async("nodebuffer"),i=o.addMedia(n);r.Relationships.createRelationship(e.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${i.fileName}`)}for(const e of s)r.Relationships.createRelationship(e.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",e.target,u.TargetModeType.EXTERNAL)}))}findReferenceFiles(e){const t=i.xml2js(e,{compact:!0});return(Array.isArray(t.Relationships.Relationship)?t.Relationships.Relationship:[t.Relationships.Relationship]).map(e=>{if(void 0===e._attributes)throw Error("relationship element has no attributes");return{id:this.parseRefId(e._attributes.Id),type:d[e._attributes.Type],target:e._attributes.Target}}).filter(e=>null!==e.type)}extractDocumentRefs(e){const t=i.xml2js(e,{compact:!0})["w:document"]["w:body"]["w:sectPr"],r=t["w:headerReference"];let n;n=void 0===r?[]:Array.isArray(r)?r:[r];const o=n.map(e=>{if(void 0===e._attributes)throw Error("header referecne element has no attributes");return{type:e._attributes["w:type"],id:this.parseRefId(e._attributes["r:id"])}}),a=t["w:footerReference"];let s;return s=void 0===a?[]:Array.isArray(a)?a:[a],{headers:o,footers:s.map(e=>{if(void 0===e._attributes)throw Error("footer referecne element has no attributes");return{type:e._attributes["w:type"],id:this.parseRefId(e._attributes["r:id"])}})}}checkIfTitlePageIsDefined(e){return void 0!==i.xml2js(e,{compact:!0})["w:document"]["w:body"]["w:sectPr"]["w:titlePg"]}parseRefId(e){const t=/^rId(\d+)$/.exec(e);if(null===t)throw new Error("Invalid ref id");return parseInt(t[1],10)}}}])},e.exports=n()},,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),new Uint8Array(16);for(var n=[],o=0;o<256;++o)n.push((o+256).toString(16).substr(1));function i(){return{}}r.d(t,"default",(function(){return i}))},function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),i=r(2),a=r.n(i),s=r(279),l=r.n(s),u="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,c=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(u&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var d=u&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),c))}};function f(e){return e&&"[object Function]"==={}.toString.call(e)}function p(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function h(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function m(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=p(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(r+o+n)?e:m(h(e))}function g(e){return e&&e.referenceNode?e.referenceNode:e}var b=u&&!(!window.MSInputMethodContext||!document.documentMode),v=u&&/MSIE 10/.test(navigator.userAgent);function y(e){return 11===e?b:10===e?v:b||v}function w(e){if(!e)return document.documentElement;for(var t=y(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===p(r,"position")?w(r):r:e?e.ownerDocument.documentElement:document.documentElement}function E(e){return null!==e.parentNode?E(e.parentNode):e}function _(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,o=r?t:e,i=document.createRange();i.setStart(n,0),i.setEnd(o,0);var a,s,l=i.commonAncestorContainer;if(e!==l&&t!==l||n.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&w(a.firstElementChild)!==a?w(l):l;var u=E(e);return u.host?_(u.host,t):_(e,E(t).host)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r="top"===t?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[r]}return e[r]}function C(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=O(t,"top"),o=O(t,"left"),i=r?-1:1;return e.top+=n*i,e.bottom+=n*i,e.left+=o*i,e.right+=o*i,e}function x(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function T(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],y(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function S(e){var t=e.body,r=e.documentElement,n=y(10)&&getComputedStyle(r);return{height:T("Height",t,r,n),width:T("Width",t,r,n)}}var P=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),I=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function j(e){return A({},e,{right:e.left+e.width,bottom:e.top+e.height})}function D(e){var t={};try{if(y(10)){t=e.getBoundingClientRect();var r=O(e,"top"),n=O(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?S(e.ownerDocument):{},a=i.width||e.clientWidth||o.width,s=i.height||e.clientHeight||o.height,l=e.offsetWidth-a,u=e.offsetHeight-s;if(l||u){var c=p(e);l-=x(c,"x"),u-=x(c,"y"),o.width-=l,o.height-=u}return j(o)}function R(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=y(10),o="HTML"===t.nodeName,i=D(e),a=D(t),s=m(e),l=p(t),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);r&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=j({top:i.top-a.top-u,left:i.left-a.left-c,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!n&&o){var f=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);d.top-=u-f,d.bottom-=u-f,d.left-=c-h,d.right-=c-h,d.marginTop=f,d.marginLeft=h}return(n&&!r?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=C(d,t)),d}function N(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=R(e,r),o=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),a=t?0:O(r),s=t?0:O(r,"left"),l={top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:o,height:i};return j(l)}function M(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===p(e,"position"))return!0;var r=h(e);return!!r&&M(r)}function L(e){if(!e||!e.parentElement||y())return document.documentElement;for(var t=e.parentElement;t&&"none"===p(t,"transform");)t=t.parentElement;return t||document.documentElement}function F(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?L(e):_(e,g(t));if("viewport"===n)i=N(a,o);else{var s=void 0;"scrollParent"===n?"BODY"===(s=m(h(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===n?e.ownerDocument.documentElement:n;var l=R(s,a,o);if("HTML"!==s.nodeName||M(a))i=l;else{var u=S(e.ownerDocument),c=u.height,d=u.width;i.top+=l.top-l.marginTop,i.bottom=c+l.top,i.left+=l.left-l.marginLeft,i.right=d+l.left}}var f="number"==typeof(r=r||0);return i.left+=f?r:r.left||0,i.top+=f?r:r.top||0,i.right-=f?r:r.right||0,i.bottom-=f?r:r.bottom||0,i}function B(e){return e.width*e.height}function W(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=F(r,n,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return A({key:e},s[e],{area:B(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),c=u.length>0?u[0].key:l[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function H(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n?L(t):_(t,g(r));return R(r,o,n)}function z(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function U(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function q(e,t,r){r=r.split("-")[0];var n=z(e),o={width:n.width,height:n.height},i=-1!==["right","left"].indexOf(r),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",u=i?"width":"height";return o[a]=t[a]+t[l]/2-n[l]/2,o[s]=r===s?t[s]-n[u]:t[U(s)],o}function G(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function V(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=G(e,(function(e){return e[t]===r}));return e.indexOf(n)}(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&f(r)&&(t.offsets.popper=j(t.offsets.popper),t.offsets.reference=j(t.offsets.reference),t=r(t,e))})),t}function K(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=H(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=W(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=q(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=V(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function X(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function Y(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var o=t[n],i=o?""+o+r:e;if(void 0!==document.body.style[i])return i}return null}function $(){return this.state.isDestroyed=!0,X(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Y("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Z(e){var t=e.ownerDocument;return t?t.defaultView:window}function J(e,t,r,n){r.updateBound=n,Z(e).addEventListener("resize",r.updateBound,{passive:!0});var o=m(e);return function e(t,r,n,o){var i="BODY"===t.nodeName,a=i?t.ownerDocument.defaultView:t;a.addEventListener(r,n,{passive:!0}),i||e(m(a.parentNode),r,n,o),o.push(a)}(o,"scroll",r.updateBound,r.scrollParents),r.scrollElement=o,r.eventsEnabled=!0,r}function Q(){this.state.eventsEnabled||(this.state=J(this.reference,this.options,this.state,this.scheduleUpdate))}function ee(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function te(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function re(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&te(t[r])&&(n="px"),e.style[r]=t[r]+n}))}var ne=u&&/Firefox/i.test(navigator.userAgent);function oe(e,t,r){var n=G(e,(function(e){return e.name===t})),o=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!o){var i="`"+t+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var ie=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ae=ie.slice(3);function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ae.indexOf(e),n=ae.slice(r+1).concat(ae.slice(0,r));return t?n.reverse():n}var le="flip",ue="clockwise",ce="counterclockwise";function de(e,t,r,n){var o=[0,0],i=-1!==["right","left"].indexOf(n),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(G(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map((function(e,n){var o=(1===n?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,r,n){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=r;break;case"%":case"%r":default:s=n}return j(s)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(e,o,t,r)}))}))).forEach((function(e,t){e.forEach((function(r,n){te(r)&&(o[t]+=r*("-"===e[n-1]?-1:1))}))})),o}var fe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(r),l=s?"left":"top",u=s?"width":"height",c={start:I({},l,i[l]),end:I({},l,i[l]+i[u]-a[u])};e.offsets.popper=A({},a,c[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=n.split("-")[0],l=void 0;return l=te(+r)?[+r,0]:de(r,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||w(e.instance.popper);e.instance.reference===r&&(r=w(r));var n=Y("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[n];o.top="",o.left="",o[n]="";var l=F(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);o.top=i,o.left=a,o[n]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,d={primary:function(e){var r=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(r=Math.max(c[e],l[e])),I({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=c[r];return c[e]>l[e]&&!t.escapeWithReference&&(n=Math.min(c[r],l[e]-("right"===e?c.width:c.height))),I({},r,n)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=A({},c,d[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return r[s]<i(n[l])&&(e.offsets.popper[l]=i(n[l])-r[u]),r[l]>i(n[s])&&(e.offsets.popper[l]=i(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!oe(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(o),u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),f=l?"left":"top",h=l?"bottom":"right",m=z(n)[u];s[h]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(s[h]-m)),s[d]+m>a[h]&&(e.offsets.popper[d]+=s[d]+m-a[h]),e.offsets.popper=j(e.offsets.popper);var g=s[d]+s[u]/2-m/2,b=p(e.instance.popper),v=parseFloat(b["margin"+c]),y=parseFloat(b["border"+c+"Width"]),w=g-e.offsets.popper[d]-v-y;return w=Math.max(Math.min(a[u]-m,w),0),e.arrowElement=n,e.offsets.arrow=(I(r={},d,Math.round(w)),I(r,f,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(X(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=F(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],o=U(n),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case le:a=[n,o];break;case ue:a=se(n);break;case ce:a=se(n,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(n!==s||a.length===l+1)return e;n=e.placement.split("-")[0],o=U(n);var u=e.offsets.popper,c=e.offsets.reference,d=Math.floor,f="left"===n&&d(u.right)>d(c.left)||"right"===n&&d(u.left)<d(c.right)||"top"===n&&d(u.bottom)>d(c.top)||"bottom"===n&&d(u.top)<d(c.bottom),p=d(u.left)<d(r.left),h=d(u.right)>d(r.right),m=d(u.top)<d(r.top),g=d(u.bottom)>d(r.bottom),b="left"===n&&p||"right"===n&&h||"top"===n&&m||"bottom"===n&&g,v=-1!==["top","bottom"].indexOf(n),y=!!t.flipVariations&&(v&&"start"===i&&p||v&&"end"===i&&h||!v&&"start"===i&&m||!v&&"end"===i&&g),w=!!t.flipVariationsByContent&&(v&&"start"===i&&h||v&&"end"===i&&p||!v&&"start"===i&&g||!v&&"end"===i&&m),E=y||w;(f||b||E)&&(e.flipped=!0,(f||b)&&(n=a[l+1]),E&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=n+(i?"-"+i:""),e.offsets.popper=A({},e.offsets.popper,q(e.instance.popper,e.offsets.reference,e.placement)),e=V(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,o=n.popper,i=n.reference,a=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return o[a?"left":"top"]=i[r]-(s?o[a?"width":"height"]:0),e.placement=U(t),e.offsets.popper=j(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!oe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=G(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,o=e.offsets.popper,i=G(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=w(e.instance.popper),l=D(s),u={position:o.position},c=function(e,t){var r=e.offsets,n=r.popper,o=r.reference,i=Math.round,a=Math.floor,s=function(e){return e},l=i(o.width),u=i(n.width),c=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?c||d||l%2==u%2?i:a:s,p=t?i:s;return{left:f(l%2==1&&u%2==1&&!d&&t?n.left-1:n.left),top:p(n.top),bottom:p(n.bottom),right:f(n.right)}}(e,window.devicePixelRatio<2||!ne),d="bottom"===r?"top":"bottom",f="right"===n?"left":"right",p=Y("transform"),h=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,h="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,a&&p)u[p]="translate3d("+h+"px, "+m+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var g="bottom"===d?-1:1,b="right"===f?-1:1;u[d]=m*g,u[f]=h*b,u.willChange=d+", "+f}var v={"x-placement":e.placement};return e.attributes=A({},v,e.attributes),e.styles=A({},u,e.styles),e.arrowStyles=A({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return re(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach((function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&re(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,o){var i=H(o,t,e,r.positionFixed),a=W(r.placement,i,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",a),re(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},pe=function(){function e(t,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};P(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=d(this.update.bind(this)),this.options=A({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(A({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){n.options.modifiers[t]=A({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return A({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&f(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return k(e,[{key:"update",value:function(){return K.call(this)}},{key:"destroy",value:function(){return $.call(this)}},{key:"enableEventListeners",value:function(){return Q.call(this)}},{key:"disableEventListeners",value:function(){return ee.call(this)}}]),e}();pe.Utils=("undefined"!=typeof window?window:global).PopperUtils,pe.placements=ie,pe.Defaults=fe;var he=pe,me=r(185),ge=r.n(me),be=r(45),ve=r.n(be),ye=r(444),we=r.n(ye),Ee=r(9),_e=r.n(Ee),Oe=r(274);function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Te(e,t,r){return t&&xe(e.prototype,t),r&&xe(e,r),e}function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Re(e):t}var Me={flip:{padding:20},preventOverflow:{padding:10}},Le={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},Fe=r.n(Oe).a.canUseDOM,Be=void 0!==_e.a.createPortal;function We(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function He(e){var t=e.title,r=e.data,n=e.warn,o=void 0!==n&&n,i=e.debug,a=void 0!==i&&i,s=o?console.warn||console.error:console.log;a&&t&&r&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach((function(e){ve.a.plainObject(e)&&e.key?s.apply(console,[e.key,e.value]):s.apply(console,[e])})):s.apply(console,[r]),console.groupEnd())}function ze(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,r,n)}function Ue(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,r,n)}function qe(){}var Ge=function(e){function t(e){var r;return Ce(this,t),r=Ne(this,Ae(t).call(this,e)),Fe?(r.node=document.createElement("div"),e.id&&(r.node.id=e.id),e.zIndex&&(r.node.style.zIndex=e.zIndex),document.body.appendChild(r.node),r):Ne(r)}return Ie(t,e),Te(t,[{key:"componentDidMount",value:function(){Fe&&(Be||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Fe&&(Be||this.renderPortal())}},{key:"componentWillUnmount",value:function(){Fe&&this.node&&(Be||_e.a.unmountComponentAtNode(this.node),document.body.removeChild(this.node))}},{key:"renderPortal",value:function(){if(!Fe)return null;var e=this.props,t=e.children,r=e.setRef;return Be?_e.a.createPortal(t,this.node):(r(_e.a.unstable_renderSubtreeIntoContainer(this,t.length>1?o.a.createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,r=e.placement,n=e.target;return t||n||"center"===r?this.renderPortal():null}},{key:"render",value:function(){return Be?this.renderReact16():null}}]),t}(o.a.Component);Se(Ge,"propTypes",{children:a.a.oneOfType([a.a.element,a.a.array]),hasChildren:a.a.bool,id:a.a.oneOfType([a.a.string,a.a.number]),placement:a.a.string,setRef:a.a.func.isRequired,target:a.a.oneOfType([a.a.object,a.a.string]),zIndex:a.a.number});var Ve=function(e){function t(){return Ce(this,t),Ne(this,Ae(t).apply(this,arguments))}return Ie(t,e),Te(t,[{key:"render",value:function(){var e,t=this.props,r=t.placement,n=t.setArrowRef,i=t.styles.arrow,a=i.color,s=i.display,l=i.length,u=i.margin,c=i.position,d=i.spread,f={display:s,position:c},p=d,h=l;return r.startsWith("top")?(e="0,0 ".concat(p/2,",").concat(h," ").concat(p,",0"),f.bottom=0,f.marginLeft=u,f.marginRight=u):r.startsWith("bottom")?(e="".concat(p,",").concat(h," ").concat(p/2,",0 0,").concat(h),f.top=0,f.marginLeft=u,f.marginRight=u):r.startsWith("left")?(h=d,e="0,0 ".concat(p=l,",").concat(h/2," 0,").concat(h),f.right=0,f.marginTop=u,f.marginBottom=u):r.startsWith("right")&&(h=d,e="".concat(p=l,",").concat(h," ").concat(p,",0 0,").concat(h/2),f.left=0,f.marginTop=u,f.marginBottom=u),o.a.createElement("div",{className:"__floater__arrow",style:this.parentStyle},o.a.createElement("span",{ref:n,style:f},o.a.createElement("svg",{width:p,height:h,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("polygon",{points:e,fill:a}))))}},{key:"parentStyle",get:function(){var e=this.props,t=e.placement,r=e.styles.arrow.length,n={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(n.bottom=0,n.left=0,n.right=0,n.height=r):t.startsWith("bottom")?(n.left=0,n.right=0,n.top=0,n.height=r):t.startsWith("left")?(n.right=0,n.top=0,n.bottom=0):t.startsWith("right")&&(n.left=0,n.top=0),n}}]),t}(o.a.Component);Se(Ve,"propTypes",{placement:a.a.string.isRequired,setArrowRef:a.a.func.isRequired,styles:a.a.object.isRequired});var Ke=function(e){var t=e.handleClick,r=e.styles,n=r.color,i=r.height,a=r.width,s=De(r,["color","height","width"]);return o.a.createElement("button",{"aria-label":"close",onClick:t,style:s,type:"button"},o.a.createElement("svg",{width:"".concat(a,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},o.a.createElement("g",null,o.a.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))};Ke.propTypes={handleClick:a.a.func.isRequired,styles:a.a.object.isRequired};var Xe=function(e){var t=e.content,r=e.footer,n=e.handleClick,i=e.open,a=e.positionWrapper,s=e.showCloseButton,l=e.title,u=e.styles,c={content:o.a.isValidElement(t)?t:o.a.createElement("div",{className:"__floater__content",style:u.content},t)};return l&&(c.title=o.a.isValidElement(l)?l:o.a.createElement("div",{className:"__floater__title",style:u.title},l)),r&&(c.footer=o.a.isValidElement(r)?r:o.a.createElement("div",{className:"__floater__footer",style:u.footer},r)),!s&&!a||ve.a.boolean(i)||(c.close=o.a.createElement(Ke,{styles:u.close,handleClick:n})),o.a.createElement("div",{className:"__floater__container",style:u.container},c.close,c.title,c.content,c.footer)};Xe.propTypes={content:a.a.node.isRequired,footer:a.a.node,handleClick:a.a.func.isRequired,open:a.a.bool,positionWrapper:a.a.bool.isRequired,showCloseButton:a.a.bool.isRequired,styles:a.a.object.isRequired,title:a.a.node};var Ye=function(e){function t(){return Ce(this,t),Ne(this,Ae(t).apply(this,arguments))}return Ie(t,e),Te(t,[{key:"render",value:function(){var e=this.props,t=e.component,r=e.handleClick,n=e.hideArrow,i=e.setFloaterRef,a=e.status,s={},l=["__floater"];return t?o.a.isValidElement(t)?s.content=o.a.cloneElement(t,{closeFn:r}):s.content=t({closeFn:r}):s.content=o.a.createElement(Xe,this.props),a===Le.OPEN&&l.push("__floater__open"),n||(s.arrow=o.a.createElement(Ve,this.props)),o.a.createElement("div",{ref:i,className:l.join(" "),style:this.style},o.a.createElement("div",{className:"__floater__body"},s.content,s.arrow))}},{key:"style",get:function(){var e=this.props,t=e.disableAnimation,r=e.component,n=e.placement,o=e.hideArrow,i=e.status,a=e.styles,s=a.arrow.length,l=a.floater,u=a.floaterCentered,c=a.floaterClosing,d=a.floaterOpening,f=a.floaterWithAnimation,p=a.floaterWithComponent,h={};return o||(n.startsWith("top")?h.padding="0 0 ".concat(s,"px"):n.startsWith("bottom")?h.padding="".concat(s,"px 0 0"):n.startsWith("left")?h.padding="0 ".concat(s,"px 0 0"):n.startsWith("right")&&(h.padding="0 0 0 ".concat(s,"px"))),-1!==[Le.OPENING,Le.OPEN].indexOf(i)&&(h=ke({},h,{},d)),i===Le.CLOSING&&(h=ke({},h,{},c)),i!==Le.OPEN||t||(h=ke({},h,{},f)),"center"===n&&(h=ke({},h,{},u)),r&&(h=ke({},h,{},p)),ke({},l,{},h)}}]),t}(o.a.Component);Se(Ye,"propTypes",{component:a.a.oneOfType([a.a.func,a.a.element]),content:a.a.node,disableAnimation:a.a.bool.isRequired,footer:a.a.node,handleClick:a.a.func.isRequired,hideArrow:a.a.bool.isRequired,open:a.a.bool,placement:a.a.string.isRequired,positionWrapper:a.a.bool.isRequired,setArrowRef:a.a.func.isRequired,setFloaterRef:a.a.func.isRequired,showCloseButton:a.a.bool,status:a.a.string.isRequired,styles:a.a.object.isRequired,title:a.a.node});var $e=function(e){function t(){return Ce(this,t),Ne(this,Ae(t).apply(this,arguments))}return Ie(t,e),Te(t,[{key:"render",value:function(){var e,t=this.props,r=t.children,n=t.handleClick,i=t.handleMouseEnter,a=t.handleMouseLeave,s=t.setChildRef,l=t.setWrapperRef,u=t.style,c=t.styles;if(r)if(1===o.a.Children.count(r))if(o.a.isValidElement(r)){var d=ve.a.function(r.type)?"innerRef":"ref";e=o.a.cloneElement(o.a.Children.only(r),Se({},d,s))}else e=o.a.createElement("span",null,r);else e=r;return e?o.a.createElement("span",{ref:l,style:ke({},c,{},u),onClick:n,onMouseEnter:i,onMouseLeave:a},e):null}}]),t}(o.a.Component);Se($e,"propTypes",{children:a.a.node,handleClick:a.a.func.isRequired,handleMouseEnter:a.a.func.isRequired,handleMouseLeave:a.a.func.isRequired,setChildRef:a.a.func.isRequired,setWrapperRef:a.a.func.isRequired,style:a.a.object,styles:a.a.object.isRequired});var Ze={zIndex:100};var Je=["position","top","right","bottom","left"],Qe=function(e){function t(e){var r;return Ce(this,t),Se(Re(r=Ne(this,Ae(t).call(this,e))),"setArrowRef",(function(e){r.arrowRef=e})),Se(Re(r),"setChildRef",(function(e){r.childRef=e})),Se(Re(r),"setFloaterRef",(function(e){r.floaterRef||(r.floaterRef=e)})),Se(Re(r),"setWrapperRef",(function(e){r.wrapperRef=e})),Se(Re(r),"handleTransitionEnd",(function(){var e=r.state.status,t=r.props.callback;r.wrapperPopper&&r.wrapperPopper.instance.update(),r.setState({status:e===Le.OPENING?Le.OPEN:Le.IDLE},(function(){var e=r.state.status;t(e===Le.OPEN?"open":"close",r.props)}))})),Se(Re(r),"handleClick",(function(){var e=r.props,t=e.event,n=e.open;if(!ve.a.boolean(n)){var o=r.state,i=o.positionWrapper,a=o.status;("click"===r.event||"hover"===r.event&&i)&&(He({title:"click",data:[{event:t,status:a===Le.OPEN?"closing":"opening"}],debug:r.debug}),r.toggle())}})),Se(Re(r),"handleMouseEnter",(function(){var e=r.props,t=e.event,n=e.open;if(!ve.a.boolean(n)&&!We()){var o=r.state.status;"hover"===r.event&&o===Le.IDLE&&(He({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:r.debug}),clearTimeout(r.eventDelayTimeout),r.toggle())}})),Se(Re(r),"handleMouseLeave",(function(){var e=r.props,t=e.event,n=e.eventDelay,o=e.open;if(!ve.a.boolean(o)&&!We()){var i=r.state,a=i.status,s=i.positionWrapper;"hover"===r.event&&(He({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:r.debug}),n?-1===[Le.OPENING,Le.OPEN].indexOf(a)||s||r.eventDelayTimeout||(r.eventDelayTimeout=setTimeout((function(){delete r.eventDelayTimeout,r.toggle()}),1e3*n)):r.toggle(Le.IDLE))}})),r.state={currentPlacement:e.placement,positionWrapper:e.wrapperOptions.position&&!!e.target,status:Le.INIT,statusWrapper:Le.INIT},r._isMounted=!1,Fe&&window.addEventListener("load",(function(){r.popper&&r.popper.instance.update(),r.wrapperPopper&&r.wrapperPopper.instance.update()})),r}return Ie(t,e),Te(t,[{key:"componentDidMount",value:function(){if(Fe){var e=this.state.positionWrapper,t=this.props,r=t.children,n=t.open,o=t.target;this._isMounted=!0,He({title:"init",data:{hasChildren:!!r,hasTarget:!!o,isControlled:ve.a.boolean(n),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.initPopper(),!r&&o&&ve.a.boolean(n)}}},{key:"componentDidUpdate",value:function(e,t){if(Fe){var r,n=this.props,o=n.autoOpen,i=n.open,a=n.target,s=n.wrapperOptions,l=we()(t,this.state),u=l.changedFrom,c=l.changedTo;if(e.open!==i)ve.a.boolean(i)&&(r=i?Le.OPENING:Le.CLOSING),this.toggle(r);e.wrapperOptions.position===s.position&&e.target===a||this.changeWrapperPosition(this.props),(c("status",Le.IDLE)&&i||u("status",Le.INIT,Le.IDLE)&&o)&&this.toggle(Le.OPEN),this.popper&&c("status",Le.OPENING)&&this.popper.instance.update(),this.floaterRef&&(c("status",Le.OPENING)||c("status",Le.CLOSING))&&function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];ze(e,t,n=function(o){r(o),Ue(e,t,n)},o)}(this.floaterRef,"transitionend",this.handleTransitionEnd)}}},{key:"componentWillUnmount",value:function(){Fe&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,r=this.state.positionWrapper,n=this.props,o=n.disableFlip,i=n.getPopper,a=n.hideArrow,s=n.offset,l=n.placement,u=n.wrapperOptions,c="top"===l||"bottom"===l?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===l)this.setState({status:Le.IDLE});else if(t&&this.floaterRef){var d=this.options,f=d.arrow,p=d.flip,h=d.offset,m=De(d,["arrow","flip","offset"]);new he(t,this.floaterRef,{placement:l,modifiers:ke({arrow:ke({enabled:!a,element:this.arrowRef},f),flip:ke({enabled:!o,behavior:c},p),offset:ke({offset:"0, ".concat(s,"px")},h)},m),onCreate:function(t){e.popper=t,i(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:Le.IDLE}),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)},onUpdate:function(t){e.popper=t;var r=e.state.currentPlacement;e._isMounted&&t.placement!==r&&e.setState({currentPlacement:t.placement})}})}if(r){var g=ve.a.undefined(u.offset)?0:u.offset;new he(this.target,this.wrapperRef,{placement:u.placement||l,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(g,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:Le.IDLE}),i(t,"wrapper"),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"changeWrapperPosition",value:function(e){var t=e.target,r=e.wrapperOptions;this.setState({positionWrapper:r.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===Le.OPEN?Le.CLOSING:Le.OPENING;ve.a.undefined(e)||(t=e),this.setState({status:t})}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,r=e.positionWrapper,n=e.status,i=this.props,a=i.children,s=i.component,l=i.content,u=i.disableAnimation,c=i.footer,d=i.hideArrow,f=i.id,p=i.open,h=i.showCloseButton,m=i.style,g=i.target,b=i.title,v=o.a.createElement($e,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:m,styles:this.styles.wrapper},a),y={};return r?y.wrapperInPortal=v:y.wrapperAsChildren=v,o.a.createElement("span",null,o.a.createElement(Ge,{hasChildren:!!a,id:f,placement:t,setRef:this.setFloaterRef,target:g,zIndex:this.styles.options.zIndex},o.a.createElement(Ye,{component:s,content:l,disableAnimation:u,footer:c,handleClick:this.handleClick,hideArrow:d||"center"===t,open:p,placement:t,positionWrapper:r,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:h,status:n,styles:this.styles,title:b}),y.wrapperInPortal),y.wrapperAsChildren)}},{key:"debug",get:function(){return this.props.debug||!!global.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,r=e.event;return"hover"===r&&We()&&!t?"click":r}},{key:"options",get:function(){var e=this.props.options;return ge()(Me,e||{})}},{key:"styles",get:function(){var e,t=this,r=this.state,n=r.status,o=r.positionWrapper,i=r.statusWrapper,a=this.props.styles,s=ge()(function(e){var t=ge()(Ze,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(a),a);o&&(e=-1===[Le.IDLE].indexOf(n)||-1===[Le.IDLE].indexOf(i)?s.wrapperPosition:this.wrapperPopper.styles,s.wrapper=ke({},s.wrapper,{},e));if(this.target){var l=window.getComputedStyle(this.target);this.wrapperStyles?s.wrapper=ke({},s.wrapper,{},this.wrapperStyles):-1===["relative","static"].indexOf(l.position)&&(this.wrapperStyles={},o||(Je.forEach((function(e){t.wrapperStyles[e]=l[e]})),s.wrapper=ke({},s.wrapper,{},this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return s}},{key:"target",get:function(){if(!Fe)return null;var e=this.props.target;return e?ve.a.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}}]),t}(o.a.Component);Se(Qe,"propTypes",{autoOpen:a.a.bool,callback:a.a.func,children:a.a.node,component:l()(a.a.oneOfType([a.a.func,a.a.element]),(function(e){return!e.content})),content:l()(a.a.node,(function(e){return!e.component})),debug:a.a.bool,disableAnimation:a.a.bool,disableFlip:a.a.bool,disableHoverToClick:a.a.bool,event:a.a.oneOf(["hover","click"]),eventDelay:a.a.number,footer:a.a.node,getPopper:a.a.func,hideArrow:a.a.bool,id:a.a.oneOfType([a.a.string,a.a.number]),offset:a.a.number,open:a.a.bool,options:a.a.object,placement:a.a.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:a.a.bool,style:a.a.object,styles:a.a.object,target:a.a.oneOfType([a.a.object,a.a.string]),title:a.a.node,wrapperOptions:a.a.shape({offset:a.a.number,placement:a.a.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:a.a.bool})}),Se(Qe,"defaultProps",{autoOpen:!1,callback:qe,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:qe,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});t.default=Qe},,,,,,,,,,function(e,t,r){var n=r(619),o=r(54);e.exports=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:i,maxWait:t,trailing:a})}},function(e,t,r){"use strict";e.exports=function(e){if(e=String(e||""),o.test(e))return"rtl";if(i.test(e))return"ltr";return"neutral"};var n="A-Za-z--------",o=new RegExp("^[^"+n+"]*[---]"),i=new RegExp("^[^---]*["+n+"]")},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(901),o=r(902);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return"number"==typeof e}))}t.default=function(e,t){if(!e||!t)throw new Error("Missing required parameters");return{changed:function(r){var i=o.get(e,r),a=o.get(t,r);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(Array.isArray)}(i,a)||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){if(!e)return!1;var t=Object.getPrototypeOf(e);return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&(null===t||t===Object.getPrototypeOf({}))}))}(i,a)?!!n.diff(i,a):i!==a},changedFrom:function(r,n,i){if(void 0===r)throw new Error("Key parameter is required");var a=void 0!==n&&void 0!==i,s=o.get(e,r),l=o.get(t,r),u=Array.isArray(n)?n.indexOf(s)>=0:s===n,c=Array.isArray(i)?i.indexOf(l)>=0:l===i;return u&&(a?c:!a)},changedTo:function(r,n){if(void 0===r)throw new Error("Key parameter is required");var i=o.get(e,r),a=o.get(t,r),s=Array.isArray(n)?n.indexOf(i)<0:i!==n,l=Array.isArray(n)?n.indexOf(a)>=0:a===n;return s&&l},increased:function(r){if(void 0===r)throw new Error("Key parameter is required");return i(o.get(e,r),o.get(t,r))&&o.get(e,r)<o.get(t,r)},decreased:function(r){if(void 0===r)throw new Error("Key parameter is required");return i(o.get(e,r),o.get(t,r))&&o.get(e,r)>o.get(t,r)}}}},function(e,t,r){"use strict";e.exports=r(914)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(401)),o=r(402),i=s(r(942)),a=s(r(943));function s(e){return e&&e.__esModule?e:{default:e}}t.default={to:n.default,calcEndPoint:o.calcEndPoint,anchorScroll:i.default,observe:a.default},e.exports=t.default},function(e,t,r){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){var e=/(auto|scroll)/,t=function(e,r){return null===e.parentNode?r:t(e.parentNode,r.concat([e]))},r=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},n=function(t){return e.test(function(e){return r(e,"overflow")+r(e,"overflow-y")+r(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var r=t(e.parentNode,[]),o=0;o<r.length;o+=1)if(n(r[o]))return r[o];return document.scrollingElement||document.documentElement}}})?n.apply(t,o):n)||(e.exports=i)},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")(),c=Object.prototype.toString,d=Math.max,f=Math.min,p=function(){return u.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n,o,i,a,s,l,u=0,c=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function y(e){return u=e,s=setTimeout(E,t),c?v(e):a}function w(e){var r=e-l;return void 0===l||r>=t||r<0||g&&e-u>=i}function E(){var e=p();if(w(e))return _(e);s=setTimeout(E,function(e){var r=t-(e-l);return g?f(r,i-(e-u)):r}(e))}function _(e){return s=void 0,b&&n?v(e):(n=o=void 0,a)}function O(){var e=p(),r=w(e);if(n=arguments,o=this,l=e,r){if(void 0===s)return y(l);if(g)return s=setTimeout(E,t),v(l)}return void 0===s&&(s=setTimeout(E,t)),a}return t=m(t)||0,h(r)&&(c=!!r.leading,i=(g="maxWait"in r)?d(m(r.maxWait)||0,t):i,b="trailing"in r?!!r.trailing:b),O.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=o=s=void 0},O.flush=function(){return void 0===s?a:_(p())},O}},function(e,t,r){"use strict";(function(e){var t=k(r(17)),n=k(r(16)),o=k(r(1)),i=r(9),a=r(13),s=k(r(5)),l=k(r(469)),u=r(404),c=r(14),d=r(270),f=k(r(60)),p=r(257),h=k(r(153)),m=k(r(409)),g=k(r(42)),b=k(r(361)),v=k(r(38)),y=r(406),w=k(r(970)),E=k(r(984)),_=k(r(367)),O=r(261),C=r(403),x=r(262),T=r(990),S=r(256),P=r(263);function k(e){return e&&e.__esModule?e:{default:e}}const{app:I,dialog:A}=c.remote,j=c.remote.getCurrentWindow();(0,O.setupI18n)(v.default),r(419).config({path:n.default.resolve(e,"..",".env")});const D=(0,h.default)("app.html");process.on("uncaughtException",e=>{g.default.error(e),D.error(e)}),(0,p.ensureBackupTodayPath)(),b.default.setAppElement("#react-root");const R=document.getElementById("react-root");function N(e,r,n){(0,m.default)(),j.setTitle((0,x.displayFileName)(e)),j.setRepresentedFilename(e);try{const s=JSON.parse(t.default.readFileSync(e,"utf-8"));(0,p.saveBackup)(e,s,t=>{t?(g.default.warn("[file open backup]",t),D.error({message:"BACKUP failed"}),D.warn(t,{fileName:e})):g.default.info("[file open backup]","success",e)}),(0,d.migrateIfNeeded)(I.getVersion(),s,e,null,(t,s,c)=>{t&&(D.error(t),g.default.error(t)),u.store.dispatch(d.actions.uiActions.loadFile(e,s,c,c.file.version)),f.default.projectEventStats("open_file",{online:navigator.onLine,version:c.file.version,number_open:n},c);const p=c.ui&&c.ui.darkMode||r;c.ui&&c.ui.darkMode!==r&&u.store.dispatch(d.actions.uiActions.setDarkMode(p)),p&&(window.document.body.className="darkmode"),(0,i.render)(o.default.createElement(a.Provider,{store:u.store},o.default.createElement(l.default,{showTour:!1})),R)})}catch(e){g.default.error(e),D.error(e)}}window.specialDelivery=e=>{u.store.dispatch(e)},c.ipcRenderer.on("state-saved",e=>{}),c.ipcRenderer.send("pls-fetch-state",j.id),c.ipcRenderer.on("state-fetched",(e,t,r,n)=>{N(t,r,n)}),c.ipcRenderer.on("reload-from-file",(e,t,r,n)=>{N(t,r,n)}),c.ipcRenderer.on("set-dark-mode",(e,t)=>{u.store.dispatch(d.actions.uiActions.setDarkMode(t)),window.document.body.className=t?"darkmode":""}),c.ipcRenderer.on("export-file",(e,t)=>{const r=u.store.getState();switch(t.type){case"scrivener":(0,w.default)(r.present,t.fileName);break;case"word":default:(0,E.default)(r.present,t)}}),c.ipcRenderer.on("save-custom-template",(e,t)=>{const r=u.store.getState();(0,T.addNewCustomTemplate)(r.present,t)}),c.ipcRenderer.on("save",()=>{const{present:e}=u.store.getState();(0,S.saveFile)(e.file.fileName,e)}),c.ipcRenderer.on("save-as",()=>{const{present:e}=u.store.getState(),t=n.default.basename(e.file.fileName).replace(".pltr",""),r=A.showSaveDialogSync(j,{filters:[{name:"Plottr file",extensions:["pltr"]}],title:(0,s.default)("Where would you like to save this copy?"),defaultPath:t});if(r){let t=r.includes(".pltr")?r:`${r}.pltr`;(0,S.saveFile)(t,e),c.ipcRenderer.send("pls-open-window",t,!0)}}),c.ipcRenderer.on("move-from-temp",()=>{const{present:e}=u.store.getState(),t=A.showSaveDialogSync(j,{filters:[{name:"Plottr file",extensions:["pltr"]}],title:(0,s.default)("Where would you like to save this file?")});t&&(u.store.dispatch(d.actions.uiActions.editFileName(t)),(0,P.removeFromTempFiles)(e.file.fileName),(0,x.editKnownFilePath)(e.file.fileName,t),j.setRepresentedFilename(t),j.setTitle((0,x.displayFileName)(t)),c.ipcRenderer.send("pls-tell-dashboard-to-reload-recents"))}),c.ipcRenderer.on("undo",e=>{if((0,C.focusIsEditable)()){j.webContents.undo();const e=_.default.getEditor(document.activeElement);null!=e&&e.undo()}else u.store.dispatch(y.ActionCreators.undo())}),c.ipcRenderer.on("redo",e=>{if((0,C.focusIsEditable)()){j.webContents.redo();const e=_.default.getEditor(document.activeElement);null!=e&&e.redo()}else u.store.dispatch(y.ActionCreators.redo())}),window.onerror=function(e,t,r,n,o){g.default.error(o),D.error(o)},window.SCROLLWITHKEYS=!0,document.addEventListener("keydown",e=>{if(window.SCROLLWITHKEYS){const r=document.querySelector(".sticky-table");if(r)if("ArrowUp"===e.key){var t=300;(e.metaKey||e.ctrlKey||e.altKey)&&(t=800),r.scrollTop-=t}else if("ArrowRight"===e.key){t=400;(e.metaKey||e.ctrlKey||e.altKey)&&(t=800),r.scrollLeft+=t}else if("ArrowDown"===e.key){t=300;(e.metaKey||e.ctrlKey||e.altKey)&&(t=800),r.scrollTop+=t}else if("ArrowLeft"===e.key){t=400;(e.metaKey||e.ctrlKey||e.altKey)&&(t=800),r.scrollLeft-=t}}}),window.logger=function(e){process.env.LOGGER=e.toString()}}).call(this,"/")},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(14),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),i=(m(r(8)),m(r(5)),m(r(470))),a=m(r(597)),s=m(r(27)),l=m(r(940)),u=m(r(944)),c=r(403),d=m(r(945)),f=r(204),p=r(256),h=r(404);function m(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let v=!1,y=!1;class w extends o.Component{constructor(...e){super(...e),b(this,"state",{showTemplateCreate:!1,type:null,showAskToSave:!1,blockClosing:!0}),b(this,"askToSave",e=>{if(this.state.blockClosing){if((0,c.focusIsEditable)(),!(0,f.hasPreviousAction)())return this.setState({blockClosing:!1}),this.closeOrRefresh(y);e.returnValue="nope",this.setState({showAskToSave:!0})}}),b(this,"dontSaveAndClose",()=>{this.setState({showAskToSave:!1,blockClosing:!1}),this.closeOrRefresh(!0)}),b(this,"saveAndClose",()=>{this.setState({showAskToSave:!1,blockClosing:!1});const{present:e}=h.store.getState();(0,p.saveFile)(e.file.fileName,e),this.closeOrRefresh(!0)}),b(this,"closeOrRefresh",e=>{v?location.reload():e&&window.close()})}componentDidMount(){n.ipcRenderer.on("save-as-template-start",(e,t)=>{this.setState({showTemplateCreate:!0,type:t})}),n.ipcRenderer.on("reload",()=>{v=!0,this.askToSave({})}),n.ipcRenderer.on("wants-to-close",()=>{y=!0,this.askToSave({})}),window.addEventListener("beforeunload",this.askToSave)}componentWillUnmount(){n.ipcRenderer.removeAllListeners("save-as-template-start"),n.ipcRenderer.removeAllListeners("reload"),n.ipcRenderer.removeAllListeners("wants-to-close"),window.removeEventListener("beforeunload",this.askToSave)}renderTemplateCreate(){return this.state.showTemplateCreate?o.default.createElement(u.default,{type:this.state.type,close:()=>this.setState({showTemplateCreate:!1})}):null}renderAskToSave(){return this.state.showAskToSave?o.default.createElement(d.default,{dontSave:this.dontSaveAndClose,save:this.saveAndClose,cancel:()=>this.setState({showAskToSave:!1})}):null}renderGuidedTour(){return this.props.showTour?o.default.createElement(l.default,null):null}render(){return o.default.createElement(s.default,null,o.default.createElement(s.default,null,o.default.createElement(i.default,null)),o.default.createElement(a.default,null),this.renderTemplateCreate(),this.renderAskToSave())}}t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=b(r(1)),o=m(r(8)),i=r(15),a=r(13),s=b(r(47)),l=r(7),u=r(37),c=m(r(542)),d=m(r(5)),f=m(r(3)),p=r(14),h=m(r(543));function m(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}const v=m(r(38)).default.get("trialMode");class y extends n.Component{constructor(e){var t,r,n;super(e),n=()=>{this.setState({showHistory:!this.state.showHistory})},(r="toggleShowHistory")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.state={showHistory:!1,isDev:!1}}renderTrialLinks(){return v?n.default.createElement("ul",{className:"nav navbar-nav navbar-right",style:{marginRight:"15px"}},n.default.createElement("li",null,n.default.createElement("a",{href:"#",style:{color:"hsl(210, 83%, 53%)"},onClick:()=>p.ipcRenderer.send("open-buy-window")},n.default.createElement(l.Glyphicon,{glyph:"shopping-cart"})," ",(0,d.default)("Buy Full Version"))),n.default.createElement("li",null,n.default.createElement("a",{href:"#",style:{color:"hsl(210, 83%, 53%)"},onClick:()=>p.ipcRenderer.send("verify-from-expired")},n.default.createElement(u.FaKey,null)," ",(0,d.default)("Activate License")))):null}render(){let e=(0,f.default)("navbar","navbar-default","navbar-fixed-top",{"navbar-inverse":this.props.ui.darkMode});return n.default.createElement("nav",{className:e,role:"navigation"},n.default.createElement("div",{className:"collapse navbar-collapse"},n.default.createElement("div",{className:"navbar-header"},n.default.createElement("button",{type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#navbar-collapse-1"},n.default.createElement("span",{className:"sr-only"},(0,d.default)("Toggle navigation")),n.default.createElement("span",{className:"icon-bar"}),n.default.createElement("span",{className:"icon-bar"}),n.default.createElement("span",{className:"icon-bar"}))),n.default.createElement("ul",{className:"nav navbar-nav",style:{marginLeft:"15px",marginRight:"10px"}},n.default.createElement(c.default,null)),n.default.createElement("ul",{className:"nav navbar-nav"},n.default.createElement("li",{className:this.isActive("story")},n.default.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("story")},(0,d.default)("Project"))),n.default.createElement("li",{className:this.isActive("timeline")},n.default.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("timeline")},(0,d.default)("Timeline"))),n.default.createElement("li",{className:this.isActive("outline")},n.default.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("outline")},(0,d.default)("Outline"))),n.default.createElement("li",{className:this.isActive("notes")},n.default.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("notes")},(0,d.default)("Notes"))),n.default.createElement("li",{className:this.isActive("characters")},n.default.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("characters")},(0,d.default)("Characters"))),n.default.createElement("li",{className:this.isActive("places")},n.default.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("places")},(0,d.default)("Places"))),n.default.createElement("li",{className:this.isActive("tags")},n.default.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("tags")},(0,d.default)("Tags"))),this.state.isDev?n.default.createElement("li",{className:this.isActive("analyzer")},n.default.createElement("a",{href:"#",onClick:()=>this.props.actions.changeCurrentView("analyzer")},"Analyzer",n.default.createElement("sup",null,"(DEV)"))):null),this.renderTrialLinks(),n.default.createElement(h.default,null)))}isActive(e){if(e===this.props.ui.currentView)return"active"}}y.propTypes={ui:o.default.object.isRequired,actions:o.default.object.isRequired};var w=(0,a.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{actions:(0,i.bindActionCreators)(s,e)}}))(y);t.default=w},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),o=c(r(8)),i=r(13),a=r(15),s=f(r(47)),l=r(7),u=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=["notes","characters","places","tags"];class m extends n.Component{constructor(...e){super(...e),p(this,"isDisabled",()=>h.includes(this.props.ui.currentView)),p(this,"bookTitle",e=>e.title||(0,u.default)("Untitled"))}handleChange(e){this.props.actions.changeCurrentTimeline(e),"story"==this.props.ui.currentView&&this.props.actions.changeCurrentView("timeline")}renderBookList(){const{books:e}=this.props;return e.allIds.map(t=>{const r=e[t]||e[`${t}`];return n.default.createElement(l.MenuItem,{key:t,onSelect:()=>this.handleChange(t)},this.bookTitle(r))})}render(){const{ui:e,books:t,series:r}=this.props,o=""==r.name?(0,u.default)("Series View"):`${r.name} (${(0,u.default)("Series View")})`;let i=o;return"series"!=e.currentTimeline&&(i=this.bookTitle(t[e.currentTimeline])),n.default.createElement(l.NavDropdown,{id:"book_chooser",title:i,disabled:this.isDisabled()},n.default.createElement(l.MenuItem,{onSelect:()=>this.handleChange("series")},o),n.default.createElement(l.MenuItem,{divider:!0}),this.renderBookList())}}p(m,"propTypes",{ui:o.default.object.isRequired,books:o.default.object.isRequired,series:o.default.object.isRequired,actions:o.default.object.isRequired});var g=(0,i.connect)((function(e){return{ui:e.present.ui,books:e.present.books,series:e.present.series}}),(function(e){return{actions:(0,a.bindActionCreators)(s,e)}}))(m);t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),i=r(14),a=r(37),s=(n=r(87))&&n.__esModule?n:{default:n};function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u=function(e){(0,o.useEffect)(()=>{if(window.Beamer){const e={callback:t,onclick:r};s.default.get("payment_id")&&(e.user_email=s.default.get("customer_email"),e.user_id=s.default.get("payment_id")),window.Beamer.update(e),window.Beamer.init()}},[]);const t=e=>{},r=(e,t)=>(i.shell.openExternal(e),!1);return window.Beamer?o.default.createElement("ul",{className:"nav navbar-nav navbar-right",style:{marginRight:"2px"}},o.default.createElement("li",null,o.default.createElement("a",{id:"beamer-bell",href:"#"},o.default.createElement(a.FaRegBell,null)))):null};t.default=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=m(r(8)),i=r(13),a=m(r(598)),s=m(r(855)),l=m(r(858)),u=m(r(883)),c=m(r(887)),d=m(r(892)),f=m(r(908)),p=m(r(916)),h=m(r(917));function m(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}class b extends n.Component{render(){switch(this.props.currentView){case"story":return n.default.createElement(f.default,null);case"timeline":return n.default.createElement(d.default,null);case"outline":return n.default.createElement(a.default,null);case"notes":return n.default.createElement(c.default,null);case"tags":return n.default.createElement(s.default,null);case"characters":return n.default.createElement(l.default,null);case"places":return n.default.createElement(u.default,null);case"export":return n.default.createElement(p.default,null);case"analyzer":return n.default.createElement(h.default,null);default:return n.default.createElement(d.default,null)}}}b.propTypes={currentView:o.default.string.isRequired};var v=(0,i.connect)((function(e){return{currentView:e.present.ui.currentView}}),(function(e){return{}}))(b);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=(a(r(8)),a(r(27))),i=a(r(614));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}class l extends n.Component{render(){return n.default.createElement(o.default,null,n.default.createElement(i.default,null))}}t.default=l},,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=v(r(8)),i=r(13),a=r(7),s=v(r(615)),l=v(r(853)),u=v(r(5)),c=v(r(3)),d=r(67),f=r(59),p=r(28),h=r(107),m=v(r(27)),g=r(79),b=v(r(376));function v(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class E extends n.Component{constructor(e){super(e),w(this,"setActive",e=>{this.setState({active:e})}),w(this,"filterItem",e=>{this.state.currentLine===e?this.setState({currentLine:null}):this.setState({currentLine:e})}),w(this,"removeFilter",()=>{this.setState({currentLine:null})}),this.state={active:0,currentLine:null,firstRender:!0}}componentDidMount(){setTimeout(()=>this.setState({firstRender:!1}),500)}componentWillReceiveProps(e){e.ui.currentTimeline!=this.props.ui.currentTimeline&&(this.setState({firstRender:!0}),setTimeout(()=>this.setState({firstRender:!1}),500))}renderFilterList(){var e=this.props.lines.map(e=>this.renderFilterItem(e));return n.default.createElement("ul",{className:"filter-list__list"},e)}renderFilterItem(e){var t=n.default.createElement("span",{className:"filter-list__placeholder"});return this.state.currentLine===e.id&&(t=n.default.createElement(a.Glyphicon,{glyph:"eye-open"})),n.default.createElement("li",{key:e.id,onMouseDown:()=>this.filterItem(e.id)},t," ",e.title)}renderSubNav(){const{ui:e,file:t}=this.props;let r=n.default.createElement(a.Popover,{id:"filter"},n.default.createElement("div",{className:"filter-list"},this.renderFilterList())),o=n.default.createElement(a.Alert,{onClick:this.removeFilter,bsStyle:"warning"},n.default.createElement(a.Glyphicon,{glyph:"remove-sign"}),"  ",(0,u.default)("Outline is filtered"));return null==this.state.currentLine&&(o=n.default.createElement("span",null)),n.default.createElement(a.Navbar,{className:(0,c.default)("subnav__container",{darkmode:e.darkMode})},n.default.createElement(a.Nav,{bsStyle:"pills"},n.default.createElement(a.NavItem,null,n.default.createElement(a.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:r},n.default.createElement(a.Button,{bsSize:"small"},n.default.createElement(a.Glyphicon,{glyph:"filter"}),(0,u.default)("Filter by Plotline"))),o)),n.default.createElement(a.Nav,{pullRight:!0},n.default.createElement(b.default,{fileName:t.fileName,bookId:e.currentTimeline})))}renderChapters(e){return this.props.chapters.map((t,r)=>this.state.firstRender&&r>2?null:n.default.createElement(m.default,{key:t.id},n.default.createElement(s.default,{chapter:t,cards:e[t.id],waypoint:this.setActive,activeFilter:!!this.state.currentLine})))}renderBody(){const{chapters:e,lines:t,card2Dmap:r}=this.props,o=(0,g.cardMapping)(e,t,r,this.state.currentLine);return n.default.createElement("div",{className:"outline__container"},n.default.createElement("div",{className:"outline__minimap__placeholder"},"Fish are friends, not food"),n.default.createElement(m.default,null,n.default.createElement(l.default,{active:this.state.active,cardMapping:o,activeFilter:!!this.state.currentLine})),n.default.createElement("div",{className:"outline__scenes-container"},this.renderChapters(o)))}render(){return n.default.createElement("div",{className:"container-with-sub-nav"},this.renderSubNav(),this.renderBody())}}E.propTypes={chapters:o.default.array.isRequired,lines:o.default.array.isRequired,card2Dmap:o.default.object.isRequired,file:o.default.object.isRequired,ui:o.default.object.isRequired,isSeries:o.default.bool};var _=(0,i.connect)((function(e){return{chapters:(0,d.sortedChaptersByBookSelector)(e.present),lines:(0,f.sortedLinesByBookSelector)(e.present),card2Dmap:(0,h.cardMapSelector)(e.present),file:e.present.file,ui:e.present.ui,isSeries:(0,p.isSeriesSelector)(e.present)}}),(function(e){return{}}))(E);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=O(r(1)),o=E(r(8)),i=r(13),a=r(15),s=O(r(72)),l=O(r(118)),u=O(r(154)),c=r(7),d=r(1063),f=E(r(5)),p=E(r(616)),h=E(r(3)),m=r(90),g=r(58),b=r(28),v=r(79),y=r(59),w=r(67);function E(e){return e&&e.__esModule?e:{default:e}}function _(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _=function(){return e},e}function O(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x extends n.Component{constructor(...e){super(...e),C(this,"state",{sortedCards:[]}),C(this,"autoSortChapter",()=>{const{chapterActions:e,beatActions:t,chapter:r,isSeries:n}=this.props;n?t.autoSortBeat(r.id):e.autoSortChapter(r.id)}),C(this,"reorderCards",({current:e,currentIndex:t,dropped:r})=>{const{sortedCards:n}=this.state,{isSeries:o,chapter:i,actions:a}=this.props,s=n.map(e=>e.id),l=o?e.seriesLineId:e.lineId;let u=[],c=null;if(s.includes(r.cardId)){if(u=(0,g.moveToAbove)(r.index,t,s),r.lineId==l){const t=n.filter(e=>o?e.seriesLineId==l:e.lineId==l).map(e=>e.id),i=n.find(e=>e.id==r.cardId).positionWithinLine;c=(0,g.moveToAbove)(i,e.positionWithinLine,t)}a.reorderCardsInChapter(i.id,l,o,u,c)}else if(r.lineId==l){let t=n.filter(e=>o?e.seriesLineId==l:e.lineId==l).map(e=>e.id);t.splice(e.positionWithinLine,0,r.cardId),a.reorderCardsWithinLine(i.id,l,o,t)}else u=s,u.splice(t,0,r.cardId),a.reorderCardsInChapter(i.id,l,o,u,null,r.cardId)})}static getDerivedStateFromProps(e,t){const{chapter:r,cards:n,lines:o,isSeries:i}=e;return{sortedCards:(0,v.sortCardsInChapter)(r.autoOutlineSort,n,o,i)}}renderManualSort(){return this.props.chapter.autoOutlineSort?null:n.default.createElement("small",{className:"outline__chapter-manual-sort",onClick:this.autoSortChapter},(0,f.default)("Manually Sorted")," ",n.default.createElement(c.Glyphicon,{glyph:"remove-sign"}))}renderCards(){return this.state.sortedCards.map((e,t)=>n.default.createElement(p.default,{key:e.id,card:e,index:t,reorder:this.reorderCards}))}render(){const{chapter:e,ui:t,waypoint:r,cards:o,activeFilter:i,positionOffset:a,isSeries:s}=this.props;if(i&&!o.length)return null;const l=(0,h.default)("outline__scene-title",{darkmode:t.darkMode});return n.default.createElement(d.Waypoint,{onEnter:()=>r(e.id),scrollableAncestor:window,topOffset:"60%",bottomOffset:"60%"},n.default.createElement("div",null,n.default.createElement("h3",{id:`chapter-${e.id}`,className:l},(0,m.chapterTitle)(e,a,s),this.renderManualSort()),this.renderCards()))}}x.propTypes={chapter:o.default.object.isRequired,cards:o.default.array.isRequired,waypoint:o.default.func.isRequired,activeFilter:o.default.bool.isRequired,ui:o.default.object.isRequired,lines:o.default.array.isRequired,isSeries:o.default.bool.isRequired,positionOffset:o.default.number.isRequired};var T=(0,i.connect)((function(e){return{ui:e.present.ui,lines:(0,y.sortedLinesByBookSelector)(e.present),isSeries:(0,b.isSeriesSelector)(e.present),positionOffset:(0,w.positionOffsetSelector)(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(s,e),chapterActions:(0,a.bindActionCreators)(l,e),beatActions:(0,a.bindActionCreators)(u,e)}}))(x);t.default=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(1)),o=r(9),i=b(r(8)),a=r(13),s=r(15),l=r(7),u=y(r(72)),c=b(r(208)),d=b(r(5)),f=b(r(73)),p=b(r(3)),h=b(r(39)),m=r(37),g=r(28);function b(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class E extends n.Component{constructor(e){super(e),w(this,"saveEdit",()=>{var e=(0,o.findDOMNode)(this.refs.titleInput).value||this.props.card.title;this.props.actions.editCard(this.props.card.id,e,this.state.description),this.setState({editing:!1})}),w(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),w(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),w(this,"handleDragStart",e=>{this.setState({dragging:!0,editing:!1});const{card:t,index:r,isSeries:n}=this.props,o=n?t.seriesLineId:t.lineId;e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify({cardId:t.id,lineId:o,index:r}))}),w(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),w(this,"editOnClick",()=>{this.state.editing||this.setState({editing:!0})}),w(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),w(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),w(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),w(this,"handleDrop",e=>{if(e.stopPropagation(),e.preventDefault(),this.state.dragging)return;this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.reorder({current:this.props.card,currentIndex:this.props.index,dropped:r})}),this.state={editing:!1,description:e.card.description,dragging:!1,inDropZone:!1,dropDepth:0}}componentWillUnmount(){this.state.editing&&this.saveEdit()}renderDropZone(){if(this.state.inDropZone)return n.default.createElement("div",{className:"outline__card-drop"},n.default.createElement(m.FaCircle,null))}renderTitle(){const{title:e}=this.props.card;return this.state.editing?n.default.createElement(l.FormGroup,null,n.default.createElement(l.FormControl,{onKeyPress:this.handleEnter,onKeyDown:this.handleEsc,type:"text",autoFocus:!0,ref:"titleInput",defaultValue:e})):null}renderDescription(){const{description:e}=this.props.card;return n.default.createElement("div",{className:"outline__description__editing"},n.default.createElement(f.default,{className:"outline__description",onChange:e=>this.setState({description:e}),description:e,editable:this.state.editing,darkMode:this.props.ui.darkMode}),this.state.editing&&n.default.createElement(l.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(l.Button,{onClick:()=>this.setState({editing:!1})},(0,d.default)("Cancel")),n.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveEdit},(0,d.default)("Save"))))}renderTags(){return this.props.card.tags.map(e=>{var t=this.props.tags.find(t=>t.id==e);return t?n.default.createElement(c.default,{tag:t,key:`outline-taglabel-${e}`}):null})}renderChipCloud(e,t){if(!e.length)return null;const r=e.map((e,r)=>{const o=t.find(t=>t.id==e);if(!o)return null;const i=`${r}-${e}`;return n.default.createElement("div",{key:i,className:"chip"},n.default.createElement(h.default,{size:"xs",shape:"circle",imageId:o.imageId}),n.default.createElement("span",null,o.name))});return n.default.createElement("div",{className:"chip-cloud"},r)}renderCharacters(){const{card:e,characters:t}=this.props;return this.renderChipCloud(e.characters,t)}renderPlaces(){const{card:e,places:t}=this.props;return this.renderChipCloud(e.places,t)}renderDivider(){const{card:e}=this.props;return e.tags.length||e.characters.length||e.places.length?n.default.createElement("div",{className:"divider"}):null}render(){const{line:e,ui:t,card:r}=this.props,o={color:e.color};return n.default.createElement("div",{className:"outline__card-wrapper",onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderDropZone(),n.default.createElement("div",{className:(0,p.default)("outline__card",{darkmode:t.darkMode})},n.default.createElement("div",{style:o,className:"outline__card__line-title"},e.title),n.default.createElement("div",{className:(0,p.default)("outline__card__grip",{editing:this.state.editing,dragging:this.state.dragging}),draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},n.default.createElement(m.FaGripLinesVertical,null),this.state.editing?null:n.default.createElement("h6",null,r.title)),n.default.createElement("div",{className:(0,p.default)("outline__card__inner",{editing:this.state.editing}),onClick:this.editOnClick},this.renderTitle(),this.renderDescription(),n.default.createElement(l.Glyphicon,{glyph:"pencil"})),this.renderDivider(),n.default.createElement("div",{className:"outline__card__label-list"},this.renderTags()),this.renderCharacters(),this.renderPlaces()))}}E.propTypes={card:i.default.object.isRequired,index:i.default.number.isRequired,reorder:i.default.func.isRequired,line:i.default.object.isRequired,tags:i.default.array.isRequired,characters:i.default.array.isRequired,places:i.default.array.isRequired,ui:i.default.object.isRequired,actions:i.default.object.isRequired,images:i.default.object,isSeries:i.default.bool.isRequired};var _=(0,a.connect)((function(e,t){let r=null,n=(0,g.isSeriesSelector)(e.present);return r=n?e.present.seriesLines.find(e=>e.id===t.card.seriesLineId):e.present.lines.find(e=>e.id==t.card.lineId),{line:r,tags:e.present.tags,characters:e.present.characters,places:e.present.places,ui:e.present.ui,isSeries:n}}),(function(e){return{actions:(0,s.bindActionCreators)(u,e)}}))(E);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.colorNameToHex=t.getContrastYIQ=void 0;t.getContrastYIQ=e=>{let t;t="#"==e[0]?e.replace("#",""):n(e).replace("#","");const[r,o,i]=[0,2,4].map(e=>parseInt(t.substr(e,2),16)),a=(299*r+587*o+114*i)/1e3;return[a>=180,a]};const n=e=>{const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,t.fillStyle};t.colorNameToHex=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=I();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=k(r(8)),i=r(9),a=k(r(5)),s=k(r(141)),l=r(7),u=r(4),c=r(69),d=r(1062),f=r(37),p=k(r(622)),h=r(623),m=k(r(624)),g=r(683),b=r(684),v=r(795),y=r(796),w=r(797),E=k(r(799)),_=k(r(800)),O=k(r(365)),C=k(r(366)),x=k(r(3)),T=r(155),S=r(801),P=r(367);function k(e){return e&&e.__esModule?e:{default:e}}function I(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return I=function(){return e},e}const A={"mod+b":"bold","mod+i":"italic","mod+u":"underline"},j=e=>{const t=(0,n.useMemo)(()=>(0,S.withList)((0,_.default)((0,w.withHTML)((0,b.withImages)((0,g.withLinks)((0,d.withHistory)((0,c.withReact)((0,u.createEditor)()))))))),[]),r=(0,n.useCallback)(e=>n.default.createElement(O.default,e),[]),o=(0,n.useCallback)(e=>n.default.createElement(C.default,e),[]),[k,I]=(0,n.useState)(null),[j,D]=(0,n.useState)(Math.random().toString(16)),R=(0,n.useRef)(null),[N,M]=(0,n.useState)(!1);(0,n.useEffect)(()=>{k||I((0,T.useTextConverter)(e.text))},[e.text]);const L=(0,P.useRegisterEditor)(t);if(!k)return null;const F={autoFocus:e.autoFocus};return n.default.createElement(c.Slate,{editor:t,value:k,onChange:t=>{k!==t&&(I(t),e.onChange(t))},key:j},n.default.createElement("div",{className:(0,x.default)("slate-editor__wrapper",e.className)},n.default.createElement("div",{className:(0,x.default)("slate-editor__toolbar-wrapper",{darkmode:e.darkMode}),ref:R},n.default.createElement(p.default,{wrapperRef:R},n.default.createElement(l.ButtonGroup,null,n.default.createElement(y.FontsButton,{fonts:e.fonts,recentFonts:e.recentFonts,addRecent:e.addRecent}),n.default.createElement(h.MarkButton,{mark:"bold",icon:n.default.createElement(f.FaBold,null)}),n.default.createElement(h.MarkButton,{mark:"italic",icon:n.default.createElement(f.FaItalic,null)}),n.default.createElement(h.MarkButton,{mark:"underline",icon:n.default.createElement(f.FaUnderline,null)}),n.default.createElement(h.MarkButton,{mark:"strike",icon:n.default.createElement(f.FaStrikethrough,null)}),n.default.createElement(v.ColorButton,{toggle:()=>M(!N)}),n.default.createElement(m.default,{format:"heading-one",icon:(0,a.default)("Title")}),n.default.createElement(m.default,{format:"heading-two",icon:(0,a.default)("Subtitle")}),n.default.createElement(m.default,{format:"block-quote",icon:n.default.createElement(f.FaQuoteLeft,null)}),n.default.createElement(m.default,{format:"numbered-list",icon:n.default.createElement(f.FaListOl,null)}),n.default.createElement(m.default,{format:"bulleted-list",icon:n.default.createElement(f.FaListUl,null)}),n.default.createElement(g.LinkButton,null),n.default.createElement(b.ImagesButton,null)),n.default.createElement(l.Overlay,{show:N,placement:"bottom",container:()=>(0,i.findDOMNode)(R.current)},n.default.createElement(E.default,{chooseColor:e=>{(0,v.addColorMark)(t,e),M(!1)},el:R,close:()=>M(!1)})))),n.default.createElement("div",{ref:e=>L(e&&e.firstChild),className:(0,x.default)("slate-editor__editor",{darkmode:e.darkMode})},n.default.createElement(c.Editable,Object.assign({spellCheck:!0},F,{renderLeaf:r,renderElement:o,placeholder:(0,a.default)("Enter some text..."),onKeyDown:e=>{for(const r in A)if((0,s.default)(r,e)){e.preventDefault();const n=A[r];(0,h.toggleMark)(t,n)}}})))))};j.propTypes={text:o.default.any,onChange:o.default.func,autoFocus:o.default.bool,darkMode:o.default.bool};var D=j;t.default=D},function(e,t,r){var n=r(54),o=r(620),i=r(621),a=Math.max,s=Math.min;e.exports=function(e,t,r){var l,u,c,d,f,p,h=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=l,n=u;return l=u=void 0,h=t,d=e.apply(n,r)}function y(e){return h=e,f=setTimeout(E,t),m?v(e):d}function w(e){var r=e-p;return void 0===p||r>=t||r<0||g&&e-h>=c}function E(){var e=o();if(w(e))return _(e);f=setTimeout(E,function(e){var r=t-(e-p);return g?s(r,c-(e-h)):r}(e))}function _(e){return f=void 0,b&&l?v(e):(l=u=void 0,d)}function O(){var e=o(),r=w(e);if(l=arguments,u=this,p=e,r){if(void 0===f)return y(p);if(g)return clearTimeout(f),f=setTimeout(E,t),v(p)}return void 0===f&&(f=setTimeout(E,t)),d}return t=i(t)||0,n(r)&&(m=!!r.leading,c=(g="maxWait"in r)?a(i(r.maxWait)||0,t):c,b="trailing"in r?!!r.trailing:b),O.cancel=function(){void 0!==f&&clearTimeout(f),h=0,l=p=u=f=void 0},O.flush=function(){return void 0===f?d:_(o())},O}},function(e,t,r){var n=r(52);e.exports=function(){return n.Date.now()}},function(e,t,r){var n=r(54),o=r(119),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):a.test(e)?NaN:+e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),i=(n=r(8))&&n.__esModule?n:{default:n},a=r(7);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}class l extends o.Component{render(){return o.default.createElement(a.ButtonToolbar,null,this.props.children)}}t.default=l,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(l,"propTypes",{children:i.default.oneOfType([i.default.array,i.default.object])})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleMark=t.MarkButton=void 0;var n,o=(n=r(1))&&n.__esModule?n:{default:n},i=r(4),a=r(69),s=r(7);t.MarkButton=({mark:e,icon:t})=>{const r=(0,a.useSlate)();return o.default.createElement(s.Button,{bsStyle:l(r,e)?"primary":"default",onMouseDown:t=>{t.preventDefault(),u(r,e)}},t)};const l=(e,t)=>{const r=i.Editor.marks(e);return!!r&&!0===r[t]},u=(e,t)=>{l(e,t)?i.Editor.removeMark(e,t):i.Editor.addMark(e,t,!0)};t.toggleMark=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(1))&&n.__esModule?n:{default:n},i=r(4),a=r(69),s=r(7),l=r(155);var u=({format:e,icon:t})=>{const r=(e,t)=>{const[r]=i.Editor.nodes(e,{match:e=>e.type===t});return!!r},n=(e,t)=>l.LIST_TYPES.includes(t)?((e,t)=>{const r=i.Editor.isInList(e,e.selection);if(i.Transforms.unwrapNodes(e,{match:e=>l.LIST_TYPES.includes(e.type),split:!0}),i.Transforms.setNodes(e,{type:"paragraph"}),!r){const r={type:t,children:[]};i.Transforms.wrapNodes(e,r);const n=[...i.Editor.nodes(e,{match:e=>"paragraph"===e.type})];for(const[,t]of n)i.Transforms.setNodes(e,{type:"list-item",at:t});const[,o]=i.Editor.parent(e,n[0][1]),a=i.Editor.nextSibling(e,o);null!=a&&a[0].type===t&&i.Transforms.mergeNodes(e,{at:a[1]});const s=i.Editor.previousSibling(e,o);null!=s&&s[0].type===t&&i.Transforms.mergeNodes(e,{at:o})}})(e,t):l.HEADING_TYPES.includes(t)?((e,t)=>{if(r(e,t))return void i.Transforms.unwrapNodes(e,{match:e=>e.type===t,split:!0});const[n]=i.Editor.nodes(e,{match:e=>l.HEADING_TYPES.includes(e.type)});Boolean(n)&&i.Transforms.unwrapNodes(e,{match:e=>l.HEADING_TYPES.includes(e.type),split:!0}),i.Transforms.wrapNodes(e,{type:t})})(e,t):"block-quote"===t?((e,t)=>{if(r(e,t))return void i.Transforms.unwrapNodes(e,{match:e=>e.type===t,split:!0});const[n,o]=i.Editor.parentOfType(e,e.selection,{match:e=>l.HEADING_TYPES.includes(e.type)});null!=n?i.Transforms.wrapNodes(e,{type:t},{at:o}):i.Transforms.wrapNodes(e,{type:t})})(e,t):void 0,u=(0,a.useSlate)();return o.default.createElement(s.Button,{bsStyle:r(u,e)?"primary":"default",onMouseDown:t=>{t.preventDefault(),n(u,e)}},t)};t.default=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withLinks=t.LinkButton=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=d(r(333)),i=r(37),a=r(4),s=r(69),l=r(7),u=d(r(334)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}t.LinkButton=()=>{const e=(0,s.useSlate)(),[t,r]=(0,n.useState)(!1),[o,a]=(0,n.useState)();return n.default.createElement(l.Button,{bsStyle:h(e)?"primary":"default",onMouseDown:t=>{t.preventDefault(),e.selection&&a(e.selection),h(e)?m(e):r(!0)}},n.default.createElement(i.FaLink,null),n.default.createElement(u.default,{type:"text",isOpen:t,cancel:()=>r(!1),title:(0,c.default)("Enter the URL of the link:"),getValue:t=>{o&&e.apply({type:"set_selection",properties:{anchor:o.anchor,focus:o.focus},newProperties:{anchor:o.anchor,focus:o.focus}}),t&&p(e,t),r(!1)}}))};t.withLinks=e=>{const{insertData:t,insertText:r,isInline:n}=e;return e.isInline=e=>"link"===e.type||n(e),e.insertText=t=>{t&&(0,o.default)(t)?g(e,t):r(t)},e.insertData=r=>{const n=r.getData("text/plain");n&&(0,o.default)(n)?g(e,n):t(r)},e};const p=(e,t)=>{e.selection&&g(e,t)},h=e=>{const[t]=a.Editor.nodes(e,{match:e=>"link"===e.type});return!!t},m=e=>{a.Transforms.unwrapNodes(e,{match:e=>"link"===e.type})},g=(e,t)=>{h(e)&&m(e);const{selection:r}=e,n=r&&a.Range.isCollapsed(r),o={type:"link",url:t,children:n?[{text:t}]:[]};n?a.Transforms.insertNodes(e,o):(a.Transforms.wrapNodes(e,o,{split:!0}),a.Transforms.collapse(e,{edge:"end"}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withImages=t.ImagesButton=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),i=r(37),a=r(4),s=r(69),l=r(7),u=r(335),c=r(360),d=(n=r(106))&&n.__esModule?n:{default:n};function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}t.ImagesButton=()=>{const e=(0,s.useSlate)(),[t,r]=(0,o.useState)(!1),[n,a]=(0,o.useState)();return o.default.createElement(l.Button,{bsStyle:p(e)?"primary":"default",onMouseDown:t=>{t.preventDefault(),a(e.selection),r(!0)}},o.default.createElement(i.FaImage,null),t?o.default.createElement(d.default,{modalOnly:!0,chooseImage:(t,o)=>{n&&e.apply({type:"set_selection",properties:{anchor:n.anchor,focus:n.focus},newProperties:{anchor:n.anchor,focus:n.focus}}),o&&h(e,o),r(!1)},close:()=>r(!1)}):null)};t.withImages=e=>{const{insertData:t,isVoid:r}=e;return e.isVoid=e=>"image-link"===e.type||"image-data"===e.type||r(e),e.insertData=r=>{const n=r.getData("text/plain"),{files:o}=r;if(o&&o.length>0)for(const t of o){const[r]=t.type.split("/");"image"===r&&(0,u.readImage)(t,r=>{window.specialDelivery((0,c.addImage)({data:r,name:t.name,path:t.path})),h(e,r)})}else(0,u.isImageUrl)(n)?(0,u.readImageFromURL)(n,t=>{window.specialDelivery((0,c.addImage)({data:t,name:n,path:n})),h(e,t)}):t(r)},e};const p=e=>{const[t]=a.Editor.nodes(e,{match:e=>"image-link"===e.type||"image-data"===e.type});return!!t},h=(e,t)=>{const r={type:"image-data",data:t,children:[{text:""}]};a.Transforms.insertNodes(e,r)}},function(e,t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"changeHeightWidth",value:function(e,t,r,n){return r>n&&(e=Math.round(e*n/r),r=n),e>t&&(r=Math.round(r*t/e),e=t),{height:e,width:r}}},{key:"resizeAndRotateImage",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"jpeg",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=o/100,s=document.createElement("canvas"),l=e.width,u=e.height,c=this.changeHeightWidth(u,r,l,t);!i||90!==i&&270!==i?(s.width=c.width,s.height=c.height):(s.width=c.height,s.height=c.width),l=c.width,u=c.height;var d=s.getContext("2d");return i&&(d.rotate(i*Math.PI/180),90===i?d.translate(0,-s.width):180===i?d.translate(-s.width,-s.height):270===i?d.translate(-s.height,0):0!==i&&360!==i||d.translate(0,0)),d.drawImage(e,0,0,l,u),s.toDataURL("image/".concat(n),a)}},{key:"b64toBlob",value:function(e,t){t=t||"image/jpeg";for(var r=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg);base64,/,"")),n=[],o=0;o<r.length;o+=512){for(var i=r.slice(o,o+512),a=new Array(i.length),s=0;s<i.length;s++)a[s]=i.charCodeAt(s);var l=new Uint8Array(a);n.push(l)}return new Blob(n,{type:t})}},{key:"createResizedImage",value:function(t,r,n,o,i,a,s){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",u=null,c=new FileReader;t?(c.readAsDataURL(t),c.onload=function(){var t=new Image;t.src=c.result,t.onload=function(){var c=e.resizeAndRotateImage(t,r,n,o,i,a);u=e.b64toBlob(c,"image/".concat(o)),s("blob"===l?u:c)}},c.onerror=function(e){s(e)}):s("File Not Found")}}],null&&n(t.prototype,null),r&&n(t,r),e}();t.default={imageFileResizer:function(e,t,r,n,i,a,s,l){return o.createResizedImage(e,t,r,n,i,a,s,l)}}}])},function(e){e.exports=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),a=h(i),s=h(r(9)),l=h(r(2)),u=h(r(790)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(363)),d=r(237),f=h(d),p=r(300);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",y=void 0!==s.default.createPortal,w=function(){return y?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function E(e){return e()}var _=function(e){function t(){var e,r,o;m(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return r=o=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!y&&s.default.unmountComponentAtNode(o.node),E(o.props.parentSelector).removeChild(o.node)},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var r=w()(o,a.default.createElement(u.default,n({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(r)},g(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(y||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,E(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:E(e.parentSelector),nextParent:E(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,r){if(d.canUseDOM){var n=this.props,o=n.isOpen,i=n.portalClassName;e.portalClassName!==i&&(this.node.className=i);var a=r.prevParent,s=r.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),r=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);r?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,r-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&y?(!this.node&&y&&(this.node=document.createElement("div")),w()(a.default.createElement(u.default,n({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(i.Component);_.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(f.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},_.defaultProps={isOpen:!1,portalClassName:b,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(_),t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(1),s=m(a),l=m(r(2)),u=h(r(791)),c=m(r(792)),d=h(r(363)),f=h(r(794)),p=m(r(237));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=0,v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setOverlayRef=function(e){r.overlay=e,r.props.overlayRef&&r.props.overlayRef(e)},r.setContentRef=function(e){r.content=e,r.props.contentRef&&r.props.contentRef(e)},r.afterClose=function(){var e=r.props,t=e.appElement,n=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&f.remove(document.body,i),o&&f.remove(document.getElementsByTagName("html")[0],o),n&&b>0&&0===(b-=1)&&d.show(t),r.props.shouldFocusAfterRender&&(r.props.shouldReturnFocusAfterClose?(u.returnFocus(),u.teardownScopedFocus()):u.popWithoutFocus()),r.props.onAfterClose&&r.props.onAfterClose()},r.open=function(){r.beforeOpen(),r.state.afterOpen&&r.state.beforeClose?(clearTimeout(r.closeTimer),r.setState({beforeClose:!1})):(r.props.shouldFocusAfterRender&&(u.setupScopedFocus(r.node),u.markForFocusLater()),r.setState({isOpen:!0},(function(){r.setState({afterOpen:!0}),r.props.isOpen&&r.props.onAfterOpen&&r.props.onAfterOpen()})))},r.close=function(){r.props.closeTimeoutMS>0?r.closeWithTimeout():r.closeWithoutTimeout()},r.focusContent=function(){return r.content&&!r.contentHasFocus()&&r.content.focus()},r.closeWithTimeout=function(){var e=Date.now()+r.props.closeTimeoutMS;r.setState({beforeClose:!0,closesAt:e},(function(){r.closeTimer=setTimeout(r.closeWithoutTimeout,r.state.closesAt-Date.now())}))},r.closeWithoutTimeout=function(){r.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},r.afterClose)},r.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(r.content,e),r.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),r.requestClose(e))},r.handleOverlayOnClick=function(e){null===r.shouldClose&&(r.shouldClose=!0),r.shouldClose&&r.props.shouldCloseOnOverlayClick&&(r.ownerHandlesClose()?r.requestClose(e):r.focusContent()),r.shouldClose=null},r.handleContentOnMouseUp=function(){r.shouldClose=!1},r.handleOverlayOnMouseDown=function(e){r.props.shouldCloseOnOverlayClick||e.target!=r.overlay||e.preventDefault()},r.handleContentOnClick=function(){r.shouldClose=!1},r.handleContentOnMouseDown=function(){r.shouldClose=!1},r.requestClose=function(e){return r.ownerHandlesClose()&&r.props.onRequestClose(e)},r.ownerHandlesClose=function(){return r.props.onRequestClose},r.shouldBeClosed=function(){return!r.state.isOpen&&!r.state.beforeClose},r.contentHasFocus=function(){return document.activeElement===r.content||r.content.contains(document.activeElement)},r.buildClassName=function(e,t){var n="object"===(void 0===t?"undefined":o(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},i=n.base;return r.state.afterOpen&&(i=i+" "+n.afterOpen),r.state.beforeClose&&(i=i+" "+n.beforeClose),"string"==typeof t&&t?i+" "+t:i},r.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(r,n){return r[e+"-"+n]=t[n],r}),{})},r.state={afterOpen:!1,beforeClose:!1},r.shouldClose=null,r.moveFromContentToOverlay=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,r=e.ariaHideApp,n=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&f.add(document.body,o),n&&f.add(document.getElementsByTagName("html")[0],n),r&&(b+=1,d.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.overlayClassName,o=e.defaultStyles,i=t?{}:o.content,a=r?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",r),style:n({},a,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",n({ref:this.setContentRef,style:n({},i,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(a.Component);v.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},v.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(p.default),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,testId:l.default.string},t.default=v,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=u,t.handleFocus=c,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==a.length&&(e=a.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",c))};var n,o=r(362),i=(n=o)&&n.__esModule?n:{default:n};var a=[],s=null,l=!1;function u(){l=!0}function c(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()}),0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,i.default)(e);if(!r.length)return void t.preventDefault();var n,o=t.shiftKey,a=r[0],s=r[r.length-1];if(e===document.activeElement){if(!o)return;n=s}s!==document.activeElement||o||(n=a);a===document.activeElement&&o&&(n=s);if(n)return t.preventDefault(),void n.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var u=r.indexOf(document.activeElement);u>-1&&(u+=o?-1:1);if(void 0===r[u])return t.preventDefault(),void(n=o?s:a).focus();t.preventDefault(),r[u].focus()};var n,o=r(362),i=(n=o)&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var n={},o={};t.add=function(e,t){return r=e.classList,i="html"==e.nodeName.toLowerCase()?n:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),r.add(e)}));var r,i},t.remove=function(e,t){return r=e.classList,i="html"==e.nodeName.toLowerCase()?n:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&r.remove(e)}));var r,i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addColorMark=t.ColorButton=void 0;var n,o=(n=r(1))&&n.__esModule?n:{default:n},i=r(4),a=r(69),s=r(7);t.ColorButton=e=>{const t=(0,a.useSlate)();return o.default.createElement(s.Button,{bsStyle:l(t)?"primary":"default",onMouseDown:r=>{r.preventDefault(),l(t)?i.Editor.removeMark(t,"color"):e.toggle()}},o.default.createElement(s.Glyphicon,{glyph:"text-color"}))};const l=e=>{const[t]=i.Editor.nodes(e,{match:e=>e.color});return!!t};t.addColorMark=(e,t)=>{i.Editor.addMark(e,"color",t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontsButton=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=r(4),i=r(69),a=r(7);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}t.FontsButton=e=>{const t=(0,i.useSlate)(),[r,o]=(0,n.useState)(l(t));(0,n.useEffect)(()=>{o(l(t))},[t.selection]);const s=(e,t)=>n.default.createElement(a.MenuItem,{key:`${e}-${t}`,eventKey:e,style:{fontFamily:e},active:r==e},e);return n.default.createElement(a.DropdownButton,{title:r,onSelect:r=>{o(r),u(t,r),e.addRecent(r)},id:"font-dropdown",rootCloseEvent:"click"},(()=>{let t=e.recentFonts.map(e=>s(e,"recents"));return t.length&&t.push(n.default.createElement(a.MenuItem,{divider:!0,key:"divider"})),t=[...t,...e.fonts.map(e=>s(e,""))],t})())};const l=e=>{const[t]=o.Editor.nodes(e,{match:e=>e.font});return t?t[0].font:"Forum"},u=(e,t)=>{o.Editor.addMark(e,"font",t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withHTML=void 0;var n=r(4),o=r(798);t.withHTML=e=>{const{insertData:t}=e;return e.insertData=r=>{const i=r.getData("text/html");i?n.Transforms.insertNodes(e,(0,o.convertHTMLString)(i)):t(r)},e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertMDString=function(e){if(!e)return[{type:"paragraph",children:[{text:""}]}];if(""==e)return[{type:"paragraph",children:[{text:""}]}];const t=o.makeHtml(e),r=a(i.parseFromString("<body>"+t+"</body>").getElementsByTagName("body")[0]);r.length||r.push({type:"paragraph",children:[{text:""}]});return r},t.convertHTMLString=function(e){const t=a((new DOMParser).parseFromString(e,"text/html").body);t.length||t.push({type:"paragraph",children:[{text:""}]});return t},t.deserialize=a;const{jsx:n}=r(1061),o=r(138).getSanitizingConverter(),i=new(r(139));function a(e){if(3===e.nodeType)return"\n"==e.textContent||"\n\n"==e.textContent||"\n\n\n"==e.textContent?null:e.textContent.replace(/[\n]/g," ");if(1!==e.nodeType)return null;const t=Array.from(e.childNodes).map(a).flat();switch(e.nodeName){case"BODY":return n("fragment",{},t);case"BR":return"\n";case"BLOCKQUOTE":return n("element",{type:"block-quote"},t);case"P":return n("element",{type:"paragraph"},t);case"H1":return n("element",{type:"heading-one"},t);case"H3":case"H4":case"H5":case"H6":case"H2":return n("element",{type:"heading-two"},t);case"UL":return n("element",{type:"bulleted-list"},t);case"LI":return n("element",{type:"list-item"},t);case"OL":return n("element",{type:"numbered-list"},t);case"EM":case"I":return n("text",{italic:!0,text:e.textContent});case"STRONG":return n("text",{bold:!0,text:e.textContent});case"U":return n("text",{underline:!0,text:e.textContent});case"DEL":return n("text",{strike:!0,text:e.textContent});case"IMG":let r=t&&t.length?t:[{text:""}];return n("element",{type:"image-link",url:e.getAttribute("src")},r);case"A":return n("element",{type:"link",url:e.getAttribute("href")},t);default:return 0===t.length?e.textContent:t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,n.useRef)(null),[r,l]=(0,n.useState)({});(0,n.useEffect)(()=>{const t=(0,o.findDOMNode)(e.el.current);l(t.getBoundingClientRect())},[e.el]),(0,n.useEffect)(()=>(document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)),[]);const u=r=>{t.current&&!t.current.contains(r.target)&&e.close()},c=t=>n.default.createElement(a.Button,{title:t,onClick:()=>e.chooseColor(t),style:{backgroundColor:t}});return n.default.createElement("div",{className:"mini-color-picker",style:r.x?{left:r.x+80,top:r.y+33}:{},ref:t},n.default.createElement("p",null,(0,s.default)("Default Colors")),n.default.createElement("div",{className:"color-picker__box"},i.defaults.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},c(e)))),n.default.createElement("p",null,(0,s.default)("Reds")),n.default.createElement("div",{className:"color-picker__box"},i.reds.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},c(e)))),n.default.createElement("p",null,(0,s.default)("Oranges")),n.default.createElement("div",{className:"color-picker__box"},i.oranges.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},c(e)))),n.default.createElement("p",null,(0,s.default)("Greens")),n.default.createElement("div",{className:"color-picker__box"},i.greens.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},c(e)))),n.default.createElement("p",null,(0,s.default)("Blues")),n.default.createElement("div",{className:"color-picker__box"},i.blues.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},c(e)))),n.default.createElement("p",null,(0,s.default)("Purples")),n.default.createElement("div",{className:"color-picker__box"},i.purples.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},c(e)))),n.default.createElement("p",null,(0,s.default)("Grays")),n.default.createElement("div",{className:"color-picker__box"},i.grays.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},c(e)))),n.default.createElement("p",null,(0,s.default)("Whites")),n.default.createElement("div",{className:"color-picker__box"},i.whites.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},c(e)))),n.default.createElement("p",null,(0,s.default)("Browns")),n.default.createElement("div",{className:"color-picker__box"},i.browns.map(e=>n.default.createElement("div",{key:"color-picker-color-"+e,className:"color-picker__choice"},c(e)))))};var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=r(9),i=r(364),a=r(7),s=l(r(5));l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(4);var o=e=>{const{normalizeNode:t}=e;return e.normalizeNode=r=>{const[o,i]=r;if(n.Element.isElement(o)&&"paragraph"===o.type)for(const[t,r]of n.Node.children(e,i))n.Element.isElement(t)&&"paragraph"==t.type&&n.Transforms.unwrapNodes(e,{at:r});t(r)},e};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withList=function(e){const{insertBreak:t,deleteBackward:r,deleteFragment:i,deleteForward:a}=e;return e.deleteForward=(...t)=>{const[r,i]=n.Editor.node(e,e.selection);if(null==r.text||r.text.length>0)return void a(...t);let s;try{s=n.Editor.parent(e,e.selection)}catch(e){}if(null==s)return void a(...t);const[,l]=s;let u;try{u=n.Editor.nextSibling(e,l)}catch(e){}if(null==u)return void a(...t);const[c]=u;if(!o.LIST_TYPES.includes(c.type))return void a(...t);const d=c.type;a(...t),n.Transforms.wrapNodes(e,{type:d});try{u=n.Editor.nextSibling(e,e.selection)}catch(e){}null!=u&&u[0].type==d&&n.Transforms.mergeNodes(e,{at:u[1]})},e.deleteFragment=()=>{i(),n.Editor.isInList(e,e.selection)?n.Transforms.setNodes(e,{type:"list-item"}):n.Transforms.setNodes(e,{type:"paragraph"})},e.insertBreak=()=>{let r;try{r=n.Editor.parent(e,e.selection)}catch(e){}if(null==r)return void t();const[o,i]=r;if("list-item"!==o.type)return void t();const[a]=n.Editor.node(e,e.selection);a.text.length>0?t():(n.Transforms.setNodes(e,{type:"paragraph",at:i}),n.Editor.isInList(e,e.selection)&&n.Transforms.liftNodes(e,{at:i}))},e.deleteBackward=t=>{let o;try{o=n.Editor.parent(e,e.selection)}catch(e){}if(null==o)return void r(t);const[i,a]=o;if("list-item"!==i.type)return void r(t);const[s]=n.Editor.node(e,e.selection);s.text.length>0?r(t):(n.Transforms.setNodes(e,{type:"paragraph",at:a}),n.Transforms.liftNodes(e,{at:a}))},e};var n=r(4),o=r(155)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=d(r(8)),i=r(4),a=r(69),s=d(r(365)),l=d(r(366)),u=r(155),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}const p=e=>{const t=(0,n.useMemo)(()=>(0,a.withReact)((0,i.createEditor)()),[]),r=(0,n.useCallback)(e=>n.default.createElement(s.default,e),[]),o=(0,n.useCallback)(e=>n.default.createElement(l.default,e),[]),d=(0,u.useTextConverter)(e.text),[f,p]=(0,n.useState)(Math.random().toString(16));return d&&d.length?1==d.length&&1===d[0].children.length&&""==d[0].children[0].text?n.default.createElement("span",null):n.default.createElement(a.Slate,{editor:t,value:d,key:f},n.default.createElement("div",{className:(0,c.default)("slate-editor__wrapper",e.className,{readonly:!0})},n.default.createElement("div",{className:(0,c.default)("slate-editor__editor",{readonly:!0})},n.default.createElement(a.Editable,{readOnly:!0,renderLeaf:r,renderElement:o})))):n.default.createElement("span",null)};p.propTypes={text:o.default.any,className:o.default.string};var h=p;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFonts=function(){return n.is.macos?o:n.is.windows?i:a},t.getRecent=function(){return s},t.addRecent=function(e){if(s.includes(e))return;s.unshift(e),s.length>3&&s.pop()};var n=r(78);let o=["Andale Mono","Arial","Arial Black","Brush Script MT","Comic Sans MS","Courier New","Forum","Georgia","Impact","Times New Roman","Trebuchet MS","Verdana"],i=["Arial","Arial Black","Calibri","Cambria","Comic Sans MS","Courier New","Forum","Impact","Segoe Script","Tahoma","Times New Roman","Trebuchet MS","Verdana"],a=["Forum","IBM Plex Serif","Lato","Yellowtail"],s=["Forum"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSeriesLinesSelector=void 0;r(10);t.allSeriesLinesSelector=e=>e.seriesLines},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allBeatsSelector=void 0;r(10);t.allBeatsSelector=e=>e.beats},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(r(247)),o=b(r(1)),i=v(r(8)),a=r(13),s=r(15),l=r(9),u=r(7),c=v(r(3)),d=b(r(72)),f=r(67),p=r(59),h=r(28),m=v(r(854));function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function v(e){return e&&e.__esModule?e:{default:e}}class y extends o.Component{constructor(e){super(e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"selectNav",e=>{const t=document.querySelector(`#chapter-${e}`);if(t.scrollIntoViewIfNeeded(),e!=this.firstChapterKey){const e=document.querySelector(".outline__container"),r=t.getBoundingClientRect().y;e.scrollBy(0,r-115)}}),this.state={mouseOver:!1,firstRender:!0},this.firstChapterKey=e.chapters.length?e.chapters[0].id:0}componentDidMount(){setTimeout(()=>this.setState({firstRender:!1}),300)}componentWillReceiveProps(e){e.ui.currentTimeline!=this.props.ui.currentTimeline&&(this.setState({firstRender:!0}),setTimeout(()=>this.setState({firstRender:!1}),500))}renderChapters(){const{lines:e,chapters:t,activeFilter:r,isSeries:i,cardMapping:a,positionOffset:s,actions:l}=this.props,c=(0,n.default)(e,"id");return t.map((t,n)=>{if(this.state.firstRender&&n>20)return null;const d=a[t.id];return r&&!d.length?null:o.default.createElement(u.NavItem,{ref:`chapter-${t.id}`,key:`minimap-chapter-${t.id}`,eventKey:t.id},o.default.createElement(m.default,{chapter:t,idx:n+s,cards:d,linesById:c,isSeries:i,sortedLines:e,positionOffset:s,reorderCardsWithinLine:l.reorderCardsWithinLine,reorderCardsInChapter:l.reorderCardsInChapter}))})}render(){return o.default.createElement(u.Nav,{className:(0,c.default)("outline__minimap",{darkmode:this.props.ui.darkMode}),activeKey:this.props.active,onSelect:this.selectNav,onMouseEnter:()=>this.setState({mouseOver:!0}),onMouseLeave:()=>this.setState({mouseOver:!1})},this.renderChapters())}componentDidUpdate(){if(!this.state.mouseOver){const t=this.props.chapters.find(e=>e.id===this.props.active);let r="";t&&(r=`chapter-${t.id}`);var e=(0,l.findDOMNode)(this.refs[r]);e&&e.scrollIntoViewIfNeeded()}}shouldComponentUpdate(e,t){return t.mouseOver==this.state.mouseOver}}y.propTypes={active:i.default.number.isRequired,cardMapping:i.default.object.isRequired,activeFilter:i.default.bool.isRequired,chapters:i.default.array.isRequired,lines:i.default.array.isRequired,ui:i.default.object.isRequired,isSeries:i.default.bool.isRequired,positionOffset:i.default.number.isRequired};var w=(0,a.connect)((function(e){return{chapters:(0,f.sortedChaptersByBookSelector)(e.present),lines:(0,p.sortedLinesByBookSelector)(e.present),ui:e.present.ui,isSeries:(0,h.isSeriesSelector)(e.present),positionOffset:(0,f.positionOffsetSelector)(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(d,e)}}))(y);t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=l(r(8)),i=l(r(3)),a=r(90),s=r(79);function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){const{chapter:t,idx:r,cards:o,linesById:l,sortedLines:u,isSeries:c,positionOffset:d}=e,[f,p]=(0,n.useState)([]),[h,m]=(0,n.useState)(!1),[g,b]=(0,n.useState)(0);(0,n.useEffect)(()=>{p((0,s.sortCardsInChapter)(t.autoOutlineSort,o,u,c))},[t,o]);const v=(r,n)=>{const o=f.map(e=>e.id);if(!o.includes(r)){let i=f.filter(e=>c?e.seriesLineId==n:e.lineId==n).map(e=>e.id);i.push(r),t.autoOutlineSort?e.reorderCardsWithinLine(t.id,n,c,i):(o.push(r),e.reorderCardsInChapter(t.id,n,c,o,i,r))}};return n.default.createElement("div",{className:(0,i.default)("outline__minimap__chapter-title",{dropping:h}),onDragEnter:e=>{b(g+1)},onDragOver:e=>{e.preventDefault(),m(!0)},onDragLeave:e=>{let t=g;--t,b(t),t>0||m(!1)},onDrop:e=>{e.stopPropagation(),e.preventDefault(),b(0),m(!1);const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&v(r.cardId,r.lineId)}},n.default.createElement("span",null,n.default.createElement("span",{className:"accented-text"},`${r+1}.  `),n.default.createElement("span",null,(0,a.chapterTitle)(t,d,c))),n.default.createElement("div",{className:"outline__minimap__dots"},f.map(e=>{let t=(e=>{let t=e.lineId;return c&&(t=e.seriesLineId),l[t]})(e);if(!t)return null;let r={backgroundColor:t.color};return n.default.createElement("div",{key:`dot-${t.id}-${e.id}`,title:t.title,style:r,className:"outline__minimap__card-dot"})})))}c.propTypes={chapter:o.default.object.isRequired,idx:o.default.number.isRequired,cards:o.default.array.isRequired,sortedLines:o.default.array.isRequired,linesById:o.default.object.isRequired,isSeries:o.default.bool.isRequired,positionOffset:o.default.number.isRequired,reorderCardsWithinLine:o.default.func.isRequired,reorderCardsInChapter:o.default.func.isRequired};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=(a(r(8)),a(r(856))),i=a(r(27));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}class l extends n.Component{render(){return n.default.createElement(i.default,null,n.default.createElement(o.default,null))}}t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(1)),o=h(r(8)),i=r(13),a=r(15),s=r(7),l=g(r(378)),u=h(r(857)),c=h(r(3)),d=h(r(5)),f=r(18),p=r(80);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends n.Component{constructor(...e){super(...e),b(this,"state",{appending:!1}),b(this,"appendBlankTag",()=>{this.setState({appending:!0})}),b(this,"doneCreating",()=>{this.setState({appending:!1})})}renderTags(){let e=this.props.tags.map(e=>n.default.createElement(u.default,{key:e.id,tag:e}));return this.state.appending&&e.push(n.default.createElement(u.default,{key:"appended",new:!0,tag:f.tag,doneCreating:this.doneCreating})),e}renderSubNav(){const{ui:e}=this.props;return n.default.createElement(s.Navbar,{className:(0,c.default)("subnav__container",{darkmode:e.darkMode})},n.default.createElement(s.Nav,{bsStyle:"pills"},n.default.createElement(s.NavItem,null,n.default.createElement(s.Button,{bsSize:"small",onClick:this.appendBlankTag},n.default.createElement(s.Glyphicon,{glyph:"plus"})," ",(0,d.default)("New")))))}render(){const{ui:e}=this.props;return n.default.createElement("div",{className:"tag-list__container container-with-sub-nav"},this.renderSubNav(),n.default.createElement("h1",{className:(0,c.default)("secondary-text",{darkmode:e.darkMode})},(0,d.default)("Tags")),n.default.createElement("div",{className:"tag-list__wrapper"},n.default.createElement("div",{className:"tag-list__tags"},this.renderTags(),n.default.createElement("div",{className:"tag-list__tag-wrapper"},this.state.appending?null:n.default.createElement("div",{className:(0,c.default)("tag-list__new",{darkmode:e.darkMode}),onClick:this.appendBlankTag},n.default.createElement(s.Glyphicon,{glyph:"plus"}))))))}}v.propTypes={tags:o.default.array.isRequired,actions:o.default.object.isRequired,ui:o.default.object.isRequired};var y=(0,i.connect)((function(e){return{tags:(0,p.sortedTagsSelector)(e.present),ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(l,e)}}))(v);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(1)),o=r(9),i=h(r(8)),a=r(13),s=r(15),l=r(7),u=h(r(379)),c=h(r(32)),d=g(r(378)),f=h(r(5)),p=h(r(3));function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends n.Component{constructor(e){super(e),b(this,"deleteTag",e=>{e.stopPropagation(),this.props.actions.deleteTag(this.props.tag.id)}),b(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),b(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),b(this,"handleCancel",()=>{this.setState({editing:!1}),this.props.new&&this.props.doneCreating()}),b(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),b(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),b(this,"startEditing",()=>{this.setState({editing:!0})}),b(this,"startHovering",()=>{this.setState({hovering:!0})}),b(this,"stopHovering",()=>{this.setState({hovering:!1})}),b(this,"saveEdit",()=>{let{title:e,id:t,color:r}=this.props.tag;var n=(0,o.findDOMNode)(this.refs.titleInput).value||e;this.props.new?(this.props.actions.addCreatedTag({title:n,color:this.state.color}),this.props.doneCreating()):this.props.actions.editTag(t,n,r),this.setState({editing:!1})}),b(this,"changeColor",e=>{if(this.props.new)this.setState({color:e});else{let{id:t,title:r}=this.props.tag;this.props.actions.editTag(t,r,e)}this.setState({showColorPicker:!1})}),this.state={editing:""===e.tag.title,showColorPicker:!1,hovering:!1,color:null,deleting:!1}}componentWillUnmount(){this.state.editing&&!this.props.new&&this.saveEdit()}renderDelete(){return this.state.deleting?n.default.createElement(c.default,{name:this.props.tag.title,onDelete:this.deleteTag,onCancel:this.cancelDelete}):null}renderColorPicker(){if(this.state.showColorPicker){var e="colorPicker-"+this.props.tag.id;return n.default.createElement(u.default,{key:e,color:this.props.tag.color||this.state.color,closeDialog:this.changeColor})}return null}renderEditing(){const{tag:e}=this.props;return n.default.createElement("div",{onKeyDown:this.handleEsc},n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,f.default)("Tag Name")),n.default.createElement(l.FormControl,{type:"text",ref:"titleInput",autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.title})),this.renderColorPicker(),n.default.createElement(l.ButtonToolbar,{className:"tag-list__tag__button-bar"},n.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveEdit},(0,f.default)("Save")),n.default.createElement(l.Button,{onClick:this.handleCancel},(0,f.default)("Cancel"))))}renderHoverOptions(){const{color:e}=this.props.tag;var t={visibility:"hidden"};return this.state.hovering&&(t.visibility="visible"),n.default.createElement("div",{className:"tag-list__tag__hover-options",style:t},n.default.createElement(l.ButtonGroup,null,this.props.new?null:n.default.createElement(l.Button,{title:(0,f.default)("Edit"),onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{title:(0,f.default)("Choose color"),onClick:()=>this.setState({showColorPicker:!0})},n.default.createElement(l.Glyphicon,{glyph:"tint"})),e||this.state.color?n.default.createElement(l.Button,{bsStyle:"warning",title:(0,f.default)("No color"),onClick:()=>this.changeColor(null)},n.default.createElement(l.Glyphicon,{glyph:"ban-circle"})):null,this.props.new?null:n.default.createElement(l.Button,{bsStyle:"danger",title:(0,f.default)("Delete"),onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"}))))}renderTag(){return n.default.createElement("div",{className:"tag-list__tag-normal",onClick:this.startEditing},n.default.createElement("h6",null,this.props.tag.title))}render(){let e=null;this.state.editing?(window.SCROLLWITHKEYS=!1,e=this.renderEditing()):(window.SCROLLWITHKEYS=!0,e=this.renderTag());const{tag:t,ui:r}=this.props;let o={};return t.color&&(o={border:`2px solid ${t.color}`}),this.state.color&&(o={border:`2px solid ${this.state.color}`}),n.default.createElement("div",{className:"tag-list__tag-wrapper",onMouseOver:this.startHovering,onMouseLeave:this.stopHovering},this.renderDelete(),this.renderColorPicker(),this.renderHoverOptions(),n.default.createElement("div",{className:(0,p.default)("tag-list__tag",{darkmode:r.darkMode,editing:this.state.editing}),style:o},e))}}v.propTypes={tag:i.default.object.isRequired,new:i.default.bool,doneCreating:i.default.func,actions:i.default.object.isRequired,ui:i.default.object.isRequired};var y=(0,a.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{actions:(0,s.bindActionCreators)(d,e)}}))(v);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),s=u(r(859)),l=u(r(27));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}class d extends a.Component{render(){return a.default.createElement(l.default,null,a.default.createElement(s.default,null))}}t.default=d,i={},(o="propTypes")in(n=d)?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=S(r(1)),o=x(r(8)),i=r(13),a=r(15),s=r(7),l=x(r(380)),u=x(r(384)),c=S(r(134)),d=S(r(249)),f=S(r(47)),p=x(r(871)),h=x(r(5)),m=x(r(386)),g=x(r(3)),b=r(173),v=r(81),y=r(383),w=x(r(389)),E=x(r(880)),_=x(r(882)),O=x(r(334)),C=r(22);function x(e){return e&&e.__esModule?e:{default:e}}function T(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return T=function(){return e},e}function S(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=T();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class k extends n.Component{constructor(e){super(e),P(this,"editingSelected",()=>{this.setState({editingSelected:!0})}),P(this,"stopEditing",()=>{this.setState({editingSelected:!1})}),P(this,"closeDialog",()=>{this.setState({attributesDialogOpen:!1,categoriesDialogOpen:!1})}),P(this,"handleCreateNewCharacter",()=>{const e=(0,C.nextId)(this.props.characters);this.props.actions.addCharacter(),this.setState({characterDetailId:e,editingSelected:!0})}),P(this,"handleChooseTemplate",e=>{const t=(0,C.nextId)(this.props.characters);this.props.actions.addCharacterWithTemplate(null,e),this.setState({characterDetailId:t,editingSelected:!0,showTemplatePicker:!1})}),P(this,"handleFinishCreate",e=>{const t=(0,C.nextId)(this.props.characters);this.state.templateData?this.props.actions.addCharacterWithTemplate(e,this.state.templateData):this.props.actions.addCharacter(e),this.setState({creating:!1,templateData:null,characterDetailId:t,editingSelected:!0})}),P(this,"renderVisibleCharacters",e=>{const{visibleCharactersByCategory:t}=this.props;return t[e]?t[e].map(e=>n.default.createElement(_.default,{key:e.id,character:e,selected:e.id==this.state.characterDetailId,startEdit:this.editingSelected,stopEdit:this.stopEditing,select:()=>this.setState({characterDetailId:e.id})})):[]}),this.state={attributesDialogOpen:!1,categoriesDialogOpen:!1,addAttrText:"",characterDetailId:null,editingSelected:!1,showTemplatePicker:!1,creating:!1,templateData:null}}static getDerivedStateFromProps(e,t){let r={...t};const{visibleCharactersByCategory:n,characters:o,categories:i}=e;return r.characterDetailId=k.selectedId(n,o,i,t.characterDetailId),r}static selectedId(e,t,r,n){if(!t.length)return null;if(!Object.keys(e).length)return null;const o=[...r,{id:null}];if(null!=n){if(o.some(t=>!(!e[t.id]||!e[t.id].length)&&e[t.id].some(e=>e.id==n)))return n}const i=o.find(t=>e[t.id]&&e[t.id].length);return i?e[i.id][0]&&e[i.id][0].id:null}renderCreateInput(){return this.state.creating?n.default.createElement(O.default,{title:(0,h.default)("Name"),getValue:this.handleFinishCreate,cancel:()=>this.setState({creating:!1}),isOpen:!0,type:"text"}):null}renderSubNav(){const{filterIsEmpty:e,ui:t,uiActions:r}=this.props;let o=n.default.createElement(s.Popover,{id:"filter"},n.default.createElement(l.default,{type:"characters"})),i=n.default.createElement(s.Alert,{onClick:()=>r.setCharacterFilter(null),bsStyle:"warning"},n.default.createElement(s.Glyphicon,{glyph:"remove-sign"}),"  ",(0,h.default)("Character list is filtered"));e&&(i=n.default.createElement("span",null));let a=n.default.createElement(s.Popover,{id:"sort"},n.default.createElement(u.default,{type:"characters"})),c="sort-by-attributes";return t.characterSort.includes("~desc")&&(c="sort-by-attributes-alt"),n.default.createElement(s.Navbar,{className:(0,g.default)("subnav__container",{darkmode:t.darkMode})},n.default.createElement(s.Nav,{bsStyle:"pills"},n.default.createElement(s.NavItem,null,n.default.createElement(s.ButtonGroup,null,n.default.createElement(s.Button,{bsSize:"small",onClick:this.handleCreateNewCharacter},n.default.createElement(s.Glyphicon,{glyph:"plus"})," ",(0,h.default)("New")),n.default.createElement(s.Button,{bsSize:"small",onClick:()=>this.setState({showTemplatePicker:!0})},(0,h.default)("Use Template")))),n.default.createElement(s.NavItem,null,n.default.createElement(s.Button,{bsSize:"small",onClick:()=>this.setState({attributesDialogOpen:!0})},n.default.createElement(s.Glyphicon,{glyph:"list"})," ",(0,h.default)("Attributes"))),n.default.createElement(s.NavItem,null,n.default.createElement(s.Button,{bsSize:"small",onClick:()=>this.setState({categoriesDialogOpen:!0})},n.default.createElement(s.Glyphicon,{glyph:"list"})," ",(0,h.default)("Categories"))),n.default.createElement(s.NavItem,null,n.default.createElement(s.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:o},n.default.createElement(s.Button,{bsSize:"small"},n.default.createElement(s.Glyphicon,{glyph:"filter"})," ",(0,h.default)("Filter"))),i),n.default.createElement(s.NavItem,null,n.default.createElement(s.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:a},n.default.createElement(s.Button,{bsSize:"small"},n.default.createElement(s.Glyphicon,{glyph:c})," ",(0,h.default)("Sort"))))))}renderCategory(e){const t=this.renderVisibleCharacters(e.id);return t.length?n.default.createElement("div",{key:`category-${e.id}`},n.default.createElement("h2",null,e.name),n.default.createElement("div",{className:(0,g.default)("character-list__list","list-group",{darkmode:this.props.ui.darkMode})},t)):null}renderCharacters(){let e=[...this.props.categories];return e.push({id:null,name:(0,h.default)("Uncategorized")}),e.map(e=>this.renderCategory(e))}renderCharacterDetails(){let e=this.props.characters.find(e=>e.id==this.state.characterDetailId);return e?n.default.createElement(p.default,{key:`character-${e.id}`,characterId:e.id,editing:this.state.editingSelected,stopEditing:this.stopEditing,startEditing:this.editingSelected}):null}renderCustomAttributes(){return this.state.attributesDialogOpen?n.default.createElement(w.default,{type:"characters",closeDialog:this.closeDialog}):null}renderCategoriesModal(){return this.state.categoriesDialogOpen?n.default.createElement(E.default,{closeDialog:this.closeDialog}):null}renderTemplatePicker(){return this.state.showTemplatePicker?n.default.createElement(m.default,{modal:!0,type:["characters"],isOpen:this.state.showTemplatePicker,close:()=>this.setState({showTemplatePicker:!1}),onChooseTemplate:this.handleChooseTemplate,canMakeCharacterTemplates:!!this.props.customAttributes.length}):null}render(){return this.state.editingSelected?window.SCROLLWITHKEYS=!1:window.SCROLLWITHKEYS=!0,n.default.createElement("div",{className:"character-list container-with-sub-nav"},this.renderSubNav(),this.renderCustomAttributes(),this.renderCategoriesModal(),this.renderTemplatePicker(),this.renderCreateInput(),n.default.createElement(s.Grid,{fluid:!0},n.default.createElement(s.Row,null,n.default.createElement(s.Col,{sm:3},n.default.createElement("h1",{className:(0,g.default)("secondary-text",{darkmode:this.props.ui.darkMode})},(0,h.default)("Characters")," ",n.default.createElement(s.Button,{onClick:this.handleCreateNewCharacter},n.default.createElement(s.Glyphicon,{glyph:"plus"}))),n.default.createElement("div",{className:"character-list__category-list"},this.renderCharacters())),n.default.createElement(s.Col,{sm:9},this.renderCharacterDetails()))))}}k.propTypes={visibleCharactersByCategory:o.default.object.isRequired,filterIsEmpty:o.default.bool.isRequired,characters:o.default.array.isRequired,categories:o.default.array.isRequired,customAttributes:o.default.array.isRequired,customAttributesThatCanChange:o.default.array,ui:o.default.object.isRequired,actions:o.default.object.isRequired,customAttributeActions:o.default.object.isRequired,uiActions:o.default.object.isRequired};var I=(0,i.connect)((function(e){return{visibleCharactersByCategory:(0,v.visibleSortedCharactersByCategorySelector)(e.present),filterIsEmpty:(0,v.characterFilterIsEmptySelector)(e.present),characters:e.present.characters,categories:(0,y.sortedCharacterCategoriesSelector)(e.present),customAttributes:e.present.customAttributes.characters,customAttributesThatCanChange:(0,b.characterCustomAttributesThatCanChangeSelector)(e.present),ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(c,e),customAttributeActions:(0,a.bindActionCreators)(d,e),uiActions:(0,a.bindActionCreators)(f,e)}}))(k);t.default=I},function(e,t,r){var n=r(861);e.exports=function(e){return e&&e.length?n(e):[]}},function(e,t,r){var n=r(242),o=r(381),i=r(382),a=r(243),s=r(866),l=r(244);e.exports=function(e,t,r){var u=-1,c=o,d=e.length,f=!0,p=[],h=p;if(r)f=!1,c=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);f=!1,c=a,h=new n}else h=t?[]:p;e:for(;++u<d;){var g=e[u],b=t?t(g):g;if(g=r||0!==g?g:0,f&&b==b){for(var v=h.length;v--;)if(h[v]===b)continue e;t&&h.push(b),p.push(g)}else c(h,b,r)||(h!==p&&h.push(b),p.push(g))}return p}},function(e,t,r){var n=r(863),o=r(864),i=r(865);e.exports=function(e,t,r){return t==t?i(e,t,r):n(e,o,r)}},function(e,t){e.exports=function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(331),o=r(867),i=r(244),a=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:o;e.exports=a},function(e,t){e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=u(r(8)),i=r(13),a=u(r(5)),s=r(80),l=u(r(248));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}class d extends n.Component{constructor(...e){var t,r,n;super(...e),n=e=>{this.props.updateItems("tag",e)},(r="updateItems")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}render(){return n.default.createElement(l.default,{items:this.props.tags,title:(0,a.default)("Tags"),displayAttribute:"title",updateItems:this.updateItems,filteredItems:this.props.filteredItems})}}d.propTypes={tags:o.default.array.isRequired,updateItems:o.default.func.isRequired,filteredItems:o.default.array};var f=(0,i.connect)((function(e){return{tags:(0,s.sortedTagsSelector)(e.present)}}),(function(e){return{}}))(d);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=l(r(8)),i=r(13),a=l(r(5)),s=l(r(248));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}class c extends n.Component{constructor(...e){var t,r,n;super(...e),n=e=>{this.props.updateItems("book",e)},(r="updateItems")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}render(){let e=this.props.books.allIds.map(e=>{let t={...this.props.books[e.toString()]};return t.title=t.title||(0,a.default)("Untitled"),t}),t=[{id:"series",title:(0,a.default)("Series")},...e];return n.default.createElement(s.default,{items:t,title:(0,a.default)("Books"),displayAttribute:"title",updateItems:this.updateItems,filteredItems:this.props.filteredItems})}}c.propTypes={books:o.default.object.isRequired,updateItems:o.default.func.isRequired,filteredItems:o.default.array};var d=(0,i.connect)((function(e){return{books:e.present.books}}),(function(e){return{}}))(c);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=u(r(8)),i=r(13),a=u(r(5)),s=u(r(248)),l=r(383);function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}class d extends n.Component{constructor(...e){var t,r,n;super(...e),n=e=>{this.props.updateItems("category",e)},(r="updateItems")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}render(){return n.default.createElement(s.default,{items:this.props.categories,title:(0,a.default)("Categories"),displayAttribute:"name",updateItems:this.updateItems,filteredItems:this.props.filteredItems})}}d.propTypes={categories:o.default.array.isRequired,updateItems:o.default.func.isRequired,filteredItems:o.default.array};var f=(0,i.connect)((function(e){return{categories:(0,l.sortedCharacterCategoriesSelector)(e.present)}}),(function(e){return{}}))(d);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i,a=E(r(1)),s=(r(9),y(r(8))),l=r(13),u=r(15),c=y(r(3)),d=(r(7),E(r(134))),f=(y(r(5)),y(r(73)),y(r(106)),y(r(39)),y(r(385)),y(r(27))),p=y(r(872)),h=y(r(873)),m=y(r(174)),g=y(r(250)),b=r(81),v=r(80);function y(e){return e&&e.__esModule?e:{default:e}}function w(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return w=function(){return e},e}function E(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=w();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}class _ extends a.Component{render(){const{character:e,tags:t,actions:r,ui:n}=this.props;return a.default.createElement("div",{className:(0,c.default)("character-list__character-view",{darkmode:n.darkMode})},a.default.createElement("div",{className:"character-list__character-view__left-side"},a.default.createElement(g.default,{selectedBooks:e.bookIds,parentId:e.id,add:r.addBook,remove:r.removeBook}),a.default.createElement(m.default,{parentId:e.id,type:"Tags",selectedItems:e.tags,allItems:t,add:r.addTag,remove:r.removeTag})),a.default.createElement("div",{className:"character-list__character-view__right-side"},a.default.createElement(f.default,null,this.props.editing?a.default.createElement(p.default,{characterId:e.id,finishEditing:this.props.stopEditing}):a.default.createElement(h.default,{characterId:e.id,startEditing:this.props.startEditing}))))}}n=_,o="propTypes",i={characterId:s.default.number.isRequired,editing:s.default.bool.isRequired,startEditing:s.default.func.isRequired,stopEditing:s.default.func.isRequired,character:s.default.object.isRequired,actions:s.default.object.isRequired,tags:s.default.array.isRequired,ui:s.default.object.isRequired},o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i;var O=(0,l.connect)((function(e,t){return{character:(0,b.singleCharacterSelector)(e.present,t.characterId),ui:e.present.ui,tags:(0,v.sortedTagsSelector)(e.present)}}),(function(e){return{actions:(0,u.bindActionCreators)(d,e)}}))(_);t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=w(r(1)),o=v(r(8)),i=r(13),a=r(15),s=r(9),l=v(r(3)),u=r(7),c=w(r(134)),d=v(r(5)),f=v(r(73)),p=v(r(106)),h=v(r(39)),m=v(r(385)),g=r(81),b=v(r(32));function v(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function w(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends n.Component{constructor(e){super(e),E(this,"deleteCharacter",e=>{e.stopPropagation(),this.props.actions.deleteCharacter(this.props.character.id)}),E(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),E(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),E(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),E(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),E(this,"handleAttrDescriptionChange",(e,t)=>{let r={...this.state.description};r[e]=t,this.setState({description:r})}),E(this,"handleTemplateAttrDescriptionChange",(e,t,r)=>{let n={...this.state.templateAttrs,[e]:{...this.state.templateAttrs[e],[t]:r}};this.setState({templateAttrs:n})}),E(this,"saveEdit",(e=!0)=>{var t=(0,s.findDOMNode)(this.refs.nameInput).value||this.props.character.name,r=(0,s.findDOMNode)(this.refs.descriptionInput).value,n=this.state.notes,o={categoryId:-1==this.state.categoryId?null:this.state.categoryId};this.state.newImageId&&(o.imageId=-1==this.state.newImageId?null:this.state.newImageId),this.props.customAttributes.forEach(e=>{const{name:t,type:r}=e;if("paragraph"==r)o[t]=this.state.description[t];else{const e=(0,s.findDOMNode)(this.refs[`${t}Input`]).value;o[t]=e}});let i=this.props.character.templates.map(e=>(e.attributes=e.attributes.map(t=>("paragraph"==t.type?t.value=this.state.templateAttrs[e.id][t.name]:t.value=(0,s.findDOMNode)(this.refs[`${e.id}-${t.name}Input`]).value,t)),e));this.props.actions.editCharacter(this.props.character.id,{name:t,description:r,notes:n,templates:i,...o}),e&&this.props.finishEditing()}),E(this,"changeCategory",e=>{this.setState({categoryId:e}),this.props.actions.editCharacter(this.props.character.id,{categoryId:e})});let t={};e.customAttributes.forEach(r=>{const{name:n}=r;t[n]=e.character[n]});let r=e.character.templates.reduce((e,t)=>(e[t.id]=t.attributes.reduce((e,t)=>(e[t.name]=t.value,e),{}),e),{});this.state={notes:e.character.notes,description:t,categoryId:e.character.categoryId,templateAttrs:r,newImageId:null,deleting:!1}}componentWillUnmount(){this.saveEdit(!1)}renderDelete(){return this.state.deleting?n.default.createElement(b.default,{name:this.props.character.name||(0,d.default)("New Character"),onDelete:this.deleteCharacter,onCancel:this.cancelDelete}):null}renderEditingImage(){const{character:e}=this.props;let t=this.state.newImageId||e.imageId;return n.default.createElement(u.FormGroup,null,n.default.createElement(u.ControlLabel,null,(0,d.default)("Character Thumbnail")),n.default.createElement("div",{className:"character-list__character__edit-image-wrapper"},n.default.createElement("div",{className:"character-list__character__edit-image"},n.default.createElement(h.default,{size:"large",shape:"circle",imageId:t})),n.default.createElement("div",null,n.default.createElement(p.default,{selectedId:t,chooseImage:e=>this.setState({newImageId:e}),deleteButton:!0}))))}renderEditingCustomAttributes(){const{character:e,ui:t,customAttributes:r}=this.props;return r.map((r,o)=>{const{name:i,type:a}=r;return"paragraph"==a?n.default.createElement("div",{key:o},n.default.createElement(u.ControlLabel,null,i),n.default.createElement(f.default,{description:e[i],onChange:e=>this.handleAttrDescriptionChange(i,e),editable:!0,autofocus:!1,darkMode:t.darkMode})):n.default.createElement(u.FormGroup,{key:o},n.default.createElement(u.ControlLabel,null,i),n.default.createElement(u.FormControl,{type:"text",ref:`${i}Input`,defaultValue:e[i],onKeyDown:this.handleEsc,onKeyPress:this.handleEnter}))})}renderEditingTemplates(){return this.props.character.templates.flatMap(e=>e.attributes.map(t=>"paragraph"==t.type?n.default.createElement("div",{key:t.name},n.default.createElement(u.ControlLabel,null,t.name),n.default.createElement(f.default,{description:t.value,onChange:r=>this.handleTemplateAttrDescriptionChange(e.id,t.name,r),editable:!0,autofocus:!1,darkMode:this.props.ui.darkMode})):n.default.createElement(u.FormGroup,{key:t.name},n.default.createElement(u.ControlLabel,null,t.name),n.default.createElement(u.FormControl,{type:"text",ref:`${e.id}-${t.name}Input`,defaultValue:t.value,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter}))))}render(){const{character:e,ui:t}=this.props;return n.default.createElement("div",{className:"character-list__character-wrapper"},this.renderDelete(),n.default.createElement("div",{className:(0,l.default)("character-list__character","editing",{darkmode:t.darkMode})},n.default.createElement("div",{className:"character-list__character__edit-form"},n.default.createElement("div",{className:"character-list__inputs__normal"},n.default.createElement(u.FormGroup,null,n.default.createElement(u.ControlLabel,null,(0,d.default)("Name")),n.default.createElement(u.FormControl,{type:"text",ref:"nameInput",autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.name})),n.default.createElement(u.FormGroup,null,n.default.createElement(u.ControlLabel,null,(0,d.default)("Short Description")),n.default.createElement(u.FormControl,{type:"text",ref:"descriptionInput",onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.description}))),n.default.createElement("div",{className:"character-list__inputs__custom"},n.default.createElement(u.FormGroup,null,n.default.createElement(u.ControlLabel,null,(0,d.default)("Category")),n.default.createElement(m.default,{type:"characters",selectedId:this.state.categoryId,onChange:this.changeCategory})),this.renderEditingImage())),n.default.createElement("div",null,n.default.createElement(u.FormGroup,null,n.default.createElement(u.ControlLabel,null,(0,d.default)("Notes")),n.default.createElement(f.default,{description:e.notes,onChange:e=>this.setState({notes:e}),editable:!0,autofocus:!1,darkMode:this.props.ui.darkMode})),this.renderEditingCustomAttributes(),this.renderEditingTemplates()),n.default.createElement(u.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(u.Button,{bsStyle:"success",onClick:this.saveEdit},(0,d.default)("Save")),n.default.createElement(u.Button,{className:"card-dialog__delete",onClick:this.handleDelete},(0,d.default)("Delete")))))}}E(_,"propTypes",{characterId:o.default.number.isRequired,character:o.default.object.isRequired,categories:o.default.array.isRequired,actions:o.default.object.isRequired,customAttributes:o.default.array.isRequired,ui:o.default.object.isRequired,finishEditing:o.default.func.isRequired});var O=(0,i.connect)((function(e,t){return{character:(0,g.singleCharacterSelector)(e.present,t.characterId),categories:e.present.categories.characters,customAttributes:e.present.customAttributes.characters,ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(c,e)}}))(_);t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i,a=v(r(1)),s=g(r(8)),l=r(13),u=r(15),c=(g(r(3)),r(7)),d=v(r(134)),f=g(r(5)),p=g(r(73)),h=g(r(39)),m=r(81);function g(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}class y extends a.Component{render(){const{character:e,ui:t,customAttributes:r,categories:n}=this.props,o=r.map((r,n)=>{const{name:o,type:i}=r;let s;return s="paragraph"==i?a.default.createElement("dd",null,a.default.createElement(p.default,{description:e[o],darkMode:t.darkMode})):a.default.createElement("dd",null,e[o]),a.default.createElement("dl",{key:n,className:"dl-horizontal"},a.default.createElement("dt",null,o),s)}),i=e.templates.flatMap(e=>e.attributes.map(e=>{let r;return r="paragraph"==e.type?a.default.createElement("dd",null,a.default.createElement(p.default,{description:e.value,darkMode:t.darkMode})):a.default.createElement("dd",null,e.value),a.default.createElement("dl",{key:e.name,className:"dl-horizontal"},a.default.createElement("dt",null,e.name),r)})),s=n.find(t=>t.id==e.categoryId);return a.default.createElement("div",{className:"character-list__character-wrapper"},a.default.createElement("div",{className:"character-list__character",onClick:this.props.startEditing},a.default.createElement("h4",{className:"secondary-text"},e.name||(0,f.default)("New Character")),a.default.createElement("div",{className:"character-list__character-notes"},a.default.createElement("div",null,a.default.createElement(h.default,{size:"large",shape:"circle",imageId:e.imageId}),a.default.createElement("dl",{className:"dl-horizontal"},a.default.createElement("dt",null,(0,f.default)("Description")),a.default.createElement("dd",null,e.description)),a.default.createElement("dl",{className:"dl-horizontal"},a.default.createElement("dt",null,(0,f.default)("Category")),a.default.createElement("dd",null,s&&s.name||(0,f.default)("Uncategorized"))),o,a.default.createElement("dl",{className:"dl-horizontal"},a.default.createElement("dt",null,(0,f.default)("Notes")),a.default.createElement("dd",null,a.default.createElement(p.default,{description:e.notes,darkMode:t.darkMode}))),i),a.default.createElement("div",{className:"character-list__right-side"},a.default.createElement(c.Glyphicon,{glyph:"pencil"})))))}}n=y,o="propTypes",i={characterId:s.default.number.isRequired,character:s.default.object.isRequired,categories:s.default.array.isRequired,actions:s.default.object.isRequired,customAttributes:s.default.array.isRequired,ui:s.default.object.isRequired,startEditing:s.default.func.isRequired},o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i;var w=(0,l.connect)((function(e,t){return{character:(0,m.singleCharacterSelector)(e.present,t.characterId),categories:e.present.categories.characters,customAttributes:e.present.customAttributes.characters,ui:e.present.ui}}),(function(e){return{actions:(0,u.bindActionCreators)(d,e)}}))(y);t.default=w},function(e,t,r){var n=r(875),o=r(374),i=r(375),a=r(876),s=i((function(e,t){return a(e)?n(e,o(t,1,a,!0)):[]}));e.exports=s},function(e,t,r){var n=r(242),o=r(381),i=r(382),a=r(171),s=r(120),l=r(243);e.exports=function(e,t,r,u){var c=-1,d=o,f=!0,p=e.length,h=[],m=t.length;if(!p)return h;r&&(t=a(t,s(r))),u?(d=i,f=!1):t.length>=200&&(d=l,f=!1,t=new n(t));e:for(;++c<p;){var g=e[c],b=null==r?g:r(g);if(g=u||0!==g?g:0,f&&b==b){for(var v=m;v--;)if(t[v]===b)continue e;h.push(g)}else d(t,b,u)||h.push(g)}return h}},function(e,t,r){var n=r(104),o=r(46);e.exports=function(e){return o(e)&&n(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listTemplates=function(e){const t=a.get();return t?e?(0,n.default)(Object.values(t).filter(t=>t.type==e),"name"):Object.values(t):[]},t.listCustomTemplates=function(e){const t=s.get();return t?e?(0,n.default)(Object.values(t).filter(t=>t.type==e),"name"):Object.values(t):[]},t.deleteTemplate=function(e){s.delete(e)},t.editTemplateDetails=function(e,{name:t,description:r,link:n}){const o={...s.get(e),name:t,description:r,link:n};s.set(e,o)};var n=i(r(29)),o=i(r(114));function i(e){return e&&e.__esModule?e:{default:e}}const a=new o.default({name:"templates"}),s=new o.default({name:"custom_templates"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),s=u(r(8)),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}class d extends a.Component{render(){const e=this.props.template.attributes.map(e=>a.default.createElement("tr",{key:e.name},a.default.createElement("td",null,e.name),a.default.createElement("td",null,e.type)));return a.default.createElement("div",{className:"panel-body"},a.default.createElement("h5",{className:"text-center"},(0,l.default)("Attributes")),a.default.createElement("table",{className:"table table-striped"},a.default.createElement("thead",null,a.default.createElement("tr",null,a.default.createElement("th",null,(0,l.default)("Name")),a.default.createElement("th",null,(0,l.default)("Type")))),a.default.createElement("tbody",null,e)))}}t.default=d,n=d,o="propTypes",i={template:s.default.object.isRequired},o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=l(r(8)),i=r(9),a=r(7),s=l(r(5));l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends n.Component{constructor(...e){super(...e),c(this,"saveEdit",()=>{const e={id:this.props.template.id,name:(0,i.findDOMNode)(this.refs.name).value,description:(0,i.findDOMNode)(this.refs.description).value,link:(0,i.findDOMNode)(this.refs.link).value};this.props.saveEdit(e)})}renderToolBar(){return n.default.createElement(a.ButtonToolbar,null,n.default.createElement(a.Button,{bsStyle:"success",onClick:this.saveEdit},(0,s.default)("Save")),n.default.createElement(a.Button,{onClick:this.props.cancel},(0,s.default)("Cancel")))}render(){const{template:e}=this.props;return n.default.createElement(a.Form,{horizontal:!0},n.default.createElement(a.FormGroup,null,n.default.createElement(a.Col,{componentClass:a.ControlLabel,sm:4},(0,s.default)("Name")),n.default.createElement(a.Col,{sm:8},n.default.createElement(a.FormControl,{type:"text",ref:"name",defaultValue:e.name}))),n.default.createElement(a.FormGroup,null,n.default.createElement(a.Col,{componentClass:a.ControlLabel,sm:4},(0,s.default)("Description")),n.default.createElement(a.Col,{sm:8},n.default.createElement(a.FormControl,{type:"text",ref:"description",defaultValue:e.description}))),n.default.createElement(a.FormGroup,null,n.default.createElement(a.Col,{componentClass:a.ControlLabel,sm:4},(0,s.default)("Source Link")),n.default.createElement(a.Col,{sm:8},n.default.createElement(a.FormControl,{type:"text",ref:"link",defaultValue:e.link,placeholder:"https://example.com/"}))),this.renderToolBar())}}t.default=d,c(d,"propTypes",{template:o.default.object.isRequired,cancel:o.default.func.isRequired,saveEdit:o.default.func.isRequired,darkMode:o.default.bool})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),o=(u(r(8)),r(13)),i=r(15),a=u(r(5)),s=(u(r(3)),d(r(881))),l=d(r(390));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var f=(0,o.connect)((function(e){return{categories:e.present.categories.characters,ui:e.present.ui}}),(function(e){return{...(0,i.bindActionCreators)(s,e)}}))((function({categories:e,ui:{darkMode:t},closeDialog:r,addCharacterCategory:o,deleteCharacterCategory:i,updateCharacterCategory:s,reorderCharacterCategory:u}){return n.default.createElement(l.default,{title:(0,a.default)("Character Categories"),subtitle:(0,a.default)("Choose what categories you want to put your characters into"),addLabel:(0,a.default)("Add category"),items:e,darkMode:t,closeDialog:r,onAdd:o,renderItem:(e,t)=>n.default.createElement(l.ListItem,{key:e.id,item:e,index:t,showType:!1,canChageType:!1,deleteItem:i,updateItem:s,reorderItem:u})})}));t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCharacterCategory=function(e){return{type:n.ADD_CHARACTER_CATEGORY,name:e}},t.deleteCharacterCategory=function(e){return{type:n.DELETE_CHARACTER_CATEGORY,category:e}},t.updateCharacterCategory=function(e){return{type:n.UPDATE_CHARACTER_CATEGORY,category:e}},t.reorderCharacterCategory=function(e,t){return{type:n.REORDER_CHARACTER_CATEGORY,category:e,toIndex:t}};var n=r(11)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(1)),o=h(r(8)),i=r(9),a=r(13),s=r(15),l=r(7),u=g(r(134)),c=h(r(5)),d=h(r(39)),f=h(r(3)),p=h(r(32));function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends n.Component{constructor(...e){super(...e),b(this,"state",{deleting:!1}),b(this,"scrollIntoView",()=>{if(this.props.selected){const e=(0,i.findDOMNode)(this);e&&e.scrollIntoViewIfNeeded()}}),b(this,"deleteCharacter",e=>{e.stopPropagation(),this.props.actions.deleteCharacter(this.props.character.id)}),b(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),b(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEdit()}),b(this,"selectCharacter",()=>{const{character:e,selected:t,select:r,startEdit:n}=this.props;t?n():r(e.id)}),b(this,"startEditing",e=>{e.stopPropagation(),this.props.select(this.props.character.id),this.props.startEdit()})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderDelete(){return this.state.deleting?n.default.createElement(p.default,{name:this.props.character.name||(0,c.default)("New Character"),onDelete:this.deleteCharacter,onCancel:this.cancelDelete}):null}render(){const{character:e,selected:t}=this.props;let r=null;e.imageId&&(r=n.default.createElement("div",{className:"character-list__item-inner__image-wrapper"},n.default.createElement(d.default,{shape:"circle",size:"small",imageId:e.imageId})));const o=(0,f.default)("list-group-item",{selected:t}),i=(0,f.default)("character-list__item-buttons",{visible:t});return n.default.createElement("div",{className:o,onClick:this.selectCharacter},n.default.createElement("div",{className:"character-list__item-inner"},r,n.default.createElement("div",null,n.default.createElement("h6",{className:(0,f.default)("list-group-item-heading",{withImage:!!e.imageId})},e.name||(0,c.default)("New Character")),n.default.createElement("p",{className:"list-group-item-text"},e.description.substr(0,100))),n.default.createElement(l.ButtonGroup,{className:i},n.default.createElement(l.Button,{bsSize:"small",onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{bsSize:"small",onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"}))),this.renderDelete()))}}b(v,"propTypes",{character:o.default.object.isRequired,selected:o.default.bool.isRequired,select:o.default.func.isRequired,startEdit:o.default.func.isRequired,stopEdit:o.default.func.isRequired,actions:o.default.object.isRequired});var y=(0,a.connect)((function(e){return{}}),(function(e){return{actions:(0,s.bindActionCreators)(u,e)}}))(v);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=(a(r(8)),a(r(884))),i=a(r(27));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}class l extends n.Component{render(){return n.default.createElement(i.default,null,n.default.createElement(o.default,null))}}t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=x(r(1)),o=r(9),i=O(r(8)),a=r(13),s=r(15),l=O(r(3)),u=r(7),c=O(r(380)),d=O(r(384)),f=x(r(251)),p=x(r(249)),h=x(r(47)),m=O(r(885)),g=O(r(5)),b=r(173),v=O(r(27)),y=O(r(886)),w=r(22),E=r(133),_=O(r(389));function O(e){return e&&e.__esModule?e:{default:e}}function C(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return C=function(){return e},e}function x(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=C();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class S extends n.Component{constructor(e){super(e),T(this,"editingSelected",()=>{this.setState({editingSelected:!0})}),T(this,"stopEditing",()=>{this.setState({editingSelected:!1})}),T(this,"closeDialog",()=>{this.setState({dialogOpen:!1})}),T(this,"handleCreateNewPlace",()=>{const e=(0,w.nextId)(this.props.places);this.props.actions.addPlace(),this.setState({placeDetailId:e,editingSelected:!0})}),T(this,"handleType",()=>{const e=(0,o.findDOMNode)(this.refs.attrInput).value;this.setState({addAttrText:e})}),T(this,"handleAddCustomAttr",e=>{13===e.which&&this.saveAttr()}),T(this,"saveAttr",()=>{const e=(0,o.findDOMNode)(this.refs.attrInput).value;""==e||this.props.restrictedValues.includes(e)||(this.props.customAttributeActions.addPlaceAttr({name:e,type:"text"}),this.setState({addAttrText:""}))}),T(this,"removeAttr",e=>{this.props.customAttributeActions.removePlaceAttr(e.name),this.setState({addAttrText:this.state.addAttrText})}),T(this,"updateAttr",(e,t,r)=>{this.props.customAttributeActions.editPlaceAttr(e,t,r)}),T(this,"renderVisiblePlaces",()=>this.props.visiblePlaces.map(e=>n.default.createElement(y.default,{key:e.id,place:e,selected:e.id==this.state.placeDetailId,startEdit:this.editingSelected,stopEdit:this.stopEditing,select:()=>this.setState({placeDetailId:e.id})}))),this.state={dialogOpen:!1,addAttrText:"",placeDetailId:null,editingSelected:!1}}static getDerivedStateFromProps(e,t){let r={...t};const{visiblePlaces:n}=e;return r.placeDetailId=S.detailID(n,t.placeDetailId),r}static detailID(e,t){if(0==e.length)return null;let r=e[0].id;if(null!=t){let n=e.find(e=>e.id===t);n&&(r=n.id)}return r}renderSubNav(){const{ui:e,filterIsEmpty:t,uiActions:r}=this.props;let o=n.default.createElement(u.Popover,{id:"filter"},n.default.createElement(c.default,{type:"places"})),i=n.default.createElement(u.Alert,{onClick:()=>r.setPlaceFilter(null),bsStyle:"warning"},n.default.createElement(u.Glyphicon,{glyph:"remove-sign"}),"  ",(0,g.default)("Place list is filtered"));t&&(i=n.default.createElement("span",null));let a=n.default.createElement(u.Popover,{id:"sort"},n.default.createElement(d.default,{type:"places"})),s="sort-by-attributes";return e.placeSort.includes("~desc")&&(s="sort-by-attributes-alt"),n.default.createElement(u.Navbar,{className:(0,l.default)("subnav__container",{darkmode:e.darkMode})},n.default.createElement(u.Nav,{bsStyle:"pills"},n.default.createElement(u.NavItem,null,n.default.createElement(u.Button,{bsSize:"small",onClick:this.handleCreateNewPlace},n.default.createElement(u.Glyphicon,{glyph:"plus"})," ",(0,g.default)("New"))),n.default.createElement(u.NavItem,null,n.default.createElement(u.Button,{bsSize:"small",onClick:()=>this.setState({dialogOpen:!0})},n.default.createElement(u.Glyphicon,{glyph:"list"})," ",(0,g.default)("Attributes"))),n.default.createElement(u.NavItem,null,n.default.createElement(u.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:o},n.default.createElement(u.Button,{bsSize:"small"},n.default.createElement(u.Glyphicon,{glyph:"filter"})," ",(0,g.default)("Filter"))),i),n.default.createElement(u.NavItem,null,n.default.createElement(u.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:a},n.default.createElement(u.Button,{bsSize:"small"},n.default.createElement(u.Glyphicon,{glyph:s})," ",(0,g.default)("Sort"))))))}renderPlaces(){return n.default.createElement("div",{className:(0,l.default)("place-list__list","list-group",{darkmode:this.props.ui.darkMode})},this.renderVisiblePlaces())}renderPlaceDetails(){let e=this.props.places.find(e=>e.id===this.state.placeDetailId);return e?n.default.createElement(v.default,null,n.default.createElement(m.default,{key:`place-${e.id}`,place:e,editing:this.state.editingSelected,stopEditing:this.stopEditing,startEditing:this.editingSelected})):null}renderCustomAttributes(){return this.state.dialogOpen?n.default.createElement(_.default,{type:"places",closeDialog:this.closeDialog}):null}render(){let e="secondary-text";return this.props.ui.darkMode&&(e+=" darkmode"),n.default.createElement("div",{className:"place-list container-with-sub-nav"},this.renderSubNav(),this.renderCustomAttributes(),n.default.createElement(u.Grid,{fluid:!0},n.default.createElement(u.Row,null,n.default.createElement(u.Col,{sm:3},n.default.createElement("h1",{className:e},(0,g.default)("Places")," ",n.default.createElement(u.Button,{onClick:this.handleCreateNewPlace},n.default.createElement(u.Glyphicon,{glyph:"plus"}))),this.renderPlaces()),n.default.createElement(u.Col,{sm:9},this.renderPlaceDetails()))))}}S.propTypes={visiblePlaces:i.default.array.isRequired,filterIsEmpty:i.default.bool.isRequired,customAttributes:i.default.array.isRequired,customAttributesThatCanChange:i.default.array,restrictedValues:i.default.array,ui:i.default.object.isRequired,actions:i.default.object.isRequired,customAttributeActions:i.default.object.isRequired,uiActions:i.default.object.isRequired};var P=(0,a.connect)((function(e){return{places:e.present.places,visiblePlaces:(0,E.visibleSortedPlacesSelector)(e.present),filterIsEmpty:(0,E.placeFilterIsEmptySelector)(e.present),customAttributes:e.present.customAttributes.places,customAttributesThatCanChange:(0,b.placeCustomAttributesThatCanChangeSelector)(e.present),restrictedValues:(0,b.placeCustomAttributesRestrictedValues)(e.present),ui:e.present.ui}}),(function(e){return{actions:(0,s.bindActionCreators)(f,e),customAttributeActions:(0,s.bindActionCreators)(p,e),uiActions:(0,s.bindActionCreators)(h,e)}}))(S);t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=E(r(1)),o=r(9),i=y(r(8)),a=r(13),s=r(15),l=y(r(3)),u=r(7),c=E(r(251)),d=y(r(5)),f=y(r(73)),p=y(r(106)),h=y(r(39)),m=y(r(174)),g=y(r(250)),b=y(r(32)),v=r(80);function y(e){return e&&e.__esModule?e:{default:e}}function w(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return w=function(){return e},e}function E(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=w();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O extends n.Component{constructor(e){super(e),_(this,"deletePlace",e=>{e.stopPropagation(),this.props.actions.deletePlace(this.props.place.id)}),_(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),_(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEditing()}),_(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),_(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),_(this,"handleAttrDescriptionChange",(e,t)=>{let r={...this.state.description};r[e]=t,this.setState({description:r})}),_(this,"saveEdit",(e=!0)=>{var t=(0,o.findDOMNode)(this.refs.nameInput).value||this.props.place.name,r=(0,o.findDOMNode)(this.refs.descriptionInput).value,n=this.state.notes,i={};this.state.newImageId&&(i.imageId=-1==this.state.newImageId?null:this.state.newImageId),this.props.customAttributes.forEach(e=>{const{name:t,type:r}=e;if("paragraph"==r)i[t]=this.state.description[t];else{const e=(0,o.findDOMNode)(this.refs[`${t}Input`]).value;i[t]=e}}),this.props.actions.editPlace(this.props.place.id,{name:t,description:r,notes:n,...i}),e&&this.props.stopEditing()});let t={};e.customAttributes.forEach(r=>{const{name:n}=r;t[n]=e.place[n]}),this.state={notes:e.place.notes,description:t,newImageId:null,deleting:!1}}componentWillUnmount(){this.props.editing&&this.saveEdit(!1)}renderDelete(){return this.state.deleting?n.default.createElement(b.default,{name:this.props.place.name||(0,d.default)("New Place"),onDelete:this.deletePlace,onCancel:this.cancelDelete}):null}renderEditingImage(){const{place:e}=this.props;let t=this.state.newImageId||e.imageId;return n.default.createElement(u.FormGroup,null,n.default.createElement(u.ControlLabel,null,(0,d.default)("Place Image")),n.default.createElement("div",{className:"place-list__place__edit-image-wrapper"},n.default.createElement("div",{className:"place-list__place__edit-image"},n.default.createElement(h.default,{size:"small",shape:"rounded",imageId:t})),n.default.createElement("div",null,n.default.createElement(p.default,{selectedId:t,chooseImage:e=>this.setState({newImageId:e}),deleteButton:!0}))))}renderEditingCustomAttributes(){const{place:e,ui:t,customAttributes:r}=this.props;return r.map((r,o)=>{const{name:i,type:a}=r;return"paragraph"==a?n.default.createElement("div",{key:o},n.default.createElement(u.ControlLabel,null,i),n.default.createElement(f.default,{description:e[i],onChange:e=>this.handleAttrDescriptionChange(i,e),editable:!0,autofocus:!1,darkMode:t.darkMode})):n.default.createElement(u.FormGroup,{key:o},n.default.createElement(u.ControlLabel,null,i),n.default.createElement(u.FormControl,{type:"text",ref:`${i}Input`,defaultValue:e[i],onKeyDown:this.handleEsc,onKeyPress:this.handleEnter}))})}renderEditing(){const{place:e,ui:t}=this.props;return n.default.createElement("div",{className:"place-list__place-wrapper"},n.default.createElement("div",{className:(0,l.default)("place-list__place","editing",{darkmode:t.darkMode})},n.default.createElement("div",{className:"place-list__place__edit-form"},n.default.createElement("div",{className:"place-list__inputs__normal"},n.default.createElement(u.FormGroup,null,n.default.createElement(u.ControlLabel,null,(0,d.default)("Name")),n.default.createElement(u.FormControl,{type:"text",ref:"nameInput",autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.name})),n.default.createElement(u.FormGroup,null,n.default.createElement(u.ControlLabel,null,(0,d.default)("Short Description")),n.default.createElement(u.FormControl,{type:"text",ref:"descriptionInput",onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.description})),this.renderEditingImage(),n.default.createElement(u.FormGroup,null,n.default.createElement(u.ControlLabel,null,(0,d.default)("Notes")),n.default.createElement(f.default,{description:e.notes,onChange:e=>this.setState({notes:e}),editable:!0,autofocus:!1,darkMode:t.darkMode}))),n.default.createElement("div",{className:"place-list__inputs__custom"},this.renderEditingCustomAttributes())),n.default.createElement(u.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(u.Button,{bsStyle:"success",onClick:this.saveEdit},(0,d.default)("Save")),n.default.createElement(u.Button,{className:"card-dialog__delete",onClick:this.handleDelete},(0,d.default)("Delete")))))}renderPlace(){const{place:e,customAttributes:t,ui:r}=this.props,o=t.map((t,o)=>{const{name:i,type:a}=t;let s=n.default.createElement("dd",null,e[i]);return"paragraph"==a&&(s=n.default.createElement("dd",null,n.default.createElement(f.default,{description:e[i],darkMode:r.darkMode}))),n.default.createElement("dl",{key:o,className:"dl-horizontal"},n.default.createElement("dt",null,i),s)});return n.default.createElement("div",{className:"place-list__place-wrapper"},this.renderDelete(),n.default.createElement("div",{className:"place-list__place",onClick:this.props.startEditing},n.default.createElement("h4",{className:"secondary-text"},e.name||(0,d.default)("New Place")),n.default.createElement("div",{className:"place-list__place-inner"},n.default.createElement("div",null,n.default.createElement("dl",{className:"dl-horizontal"},n.default.createElement("dt",null,(0,d.default)("Description")),n.default.createElement("dd",null,e.description)),o,n.default.createElement("dl",{className:"dl-horizontal"},n.default.createElement("dt",null,(0,d.default)("Notes")),n.default.createElement("dd",null,n.default.createElement(f.default,{description:e.notes,editable:!1,darkMode:this.props.ui.darkMode})))),n.default.createElement("div",{className:"place-list__right-side"},n.default.createElement(u.Glyphicon,{glyph:"pencil"}),n.default.createElement(h.default,{responsive:!0,imageId:e.imageId})))))}render(){this.props.editing?window.SCROLLWITHKEYS=!1:window.SCROLLWITHKEYS=!0;const{place:e,tags:t,actions:r,ui:o}=this.props;return n.default.createElement("div",{className:(0,l.default)("place-list__place-view",{darkmode:o.darkMode})},n.default.createElement("div",{className:"place-list__place-view__left-side"},n.default.createElement(g.default,{selectedBooks:e.bookIds,parentId:e.id,add:r.addBook,remove:r.removeBook}),n.default.createElement(m.default,{parentId:e.id,type:"Tags",selectedItems:e.tags,allItems:t,add:r.addTag,remove:r.removeTag})),n.default.createElement("div",{className:"place-list__place-view__right-side"},this.props.editing?this.renderEditing():this.renderPlace()))}}O.propTypes={place:i.default.object.isRequired,editing:i.default.bool.isRequired,startEditing:i.default.func.isRequired,stopEditing:i.default.func.isRequired,actions:i.default.object.isRequired,customAttributes:i.default.array.isRequired,cards:i.default.array.isRequired,notes:i.default.array.isRequired,ui:i.default.object.isRequired,tags:i.default.array.isRequired};var C=(0,a.connect)((function(e){return{customAttributes:e.present.customAttributes.places,cards:e.present.cards,notes:e.present.notes,ui:e.present.ui,tags:(0,v.sortedTagsSelector)(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(c,e)}}))(O);t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(1)),o=h(r(8)),i=r(9),a=r(13),s=r(15),l=r(7),u=g(r(251)),c=h(r(5)),d=h(r(39)),f=h(r(3)),p=h(r(32));function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends n.Component{constructor(...e){super(...e),b(this,"state",{deleting:!1}),b(this,"scrollIntoView",()=>{if(this.props.selected){const e=(0,i.findDOMNode)(this);e&&e.scrollIntoViewIfNeeded()}}),b(this,"deletePlace",e=>{e.stopPropagation(),this.props.actions.deletePlace(this.props.place.id)}),b(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),b(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEdit()}),b(this,"selectPlace",()=>{const{place:e,selected:t,select:r,startEdit:n}=this.props;t?n():r(e.id)}),b(this,"startEditing",e=>{e.stopPropagation(),this.props.select(this.props.place.id),this.props.startEdit()})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderDelete(){return this.state.deleting?n.default.createElement(p.default,{name:this.props.place.name||(0,c.default)("New Place"),onDelete:this.deletePlace,onCancel:this.cancelDelete}):null}render(){const{place:e,selected:t}=this.props;let r=null;e.imageId&&(r=n.default.createElement("div",{className:"place-list__item-inner__image-wrapper"},n.default.createElement(d.default,{size:"small",shape:"rounded",imageId:e.imageId})));const o=(0,f.default)("list-group-item",{selected:t}),i=(0,f.default)("place-list__item-buttons",{visible:t});return n.default.createElement("div",{className:o,onClick:this.selectPlace},this.renderDelete(),n.default.createElement("div",{className:"place-list__item-inner"},r,n.default.createElement("div",null,n.default.createElement("h6",{className:(0,f.default)("list-group-item-heading",{withImage:!!e.imageId})},e.name||(0,c.default)("New Place")),n.default.createElement("p",{className:"list-group-item-text"},e.description.substr(0,100))),n.default.createElement(l.ButtonGroup,{className:i},n.default.createElement(l.Button,{bsSize:"small",onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{bsSize:"small",onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"})))))}}b(v,"propTypes",{place:o.default.object.isRequired,selected:o.default.bool.isRequired,select:o.default.func.isRequired,startEdit:o.default.func.isRequired,stopEdit:o.default.func.isRequired,actions:o.default.object.isRequired});var y=(0,a.connect)((function(e){return{}}),(function(e){return{actions:(0,s.bindActionCreators)(u,e)}}))(v);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=(a(r(8)),a(r(888))),i=a(r(27));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}class l extends n.Component{render(){return n.default.createElement(i.default,null,n.default.createElement(o.default,null))}}t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(29)),o=v(r(1)),i=y(r(8)),a=r(13),s=r(15),l=r(7),u=v(r(252)),c=y(r(889)),d=y(r(391)),f=y(r(5)),p=y(r(3)),h=y(r(27)),m=y(r(890)),g=r(22);function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function y(e){return e&&e.__esModule?e:{default:e}}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class E extends o.Component{constructor(e){super(e),w(this,"handleCreateNewNote",()=>{const e=(0,g.nextId)(this.props.notes);this.props.actions.addNote(),this.setState({noteDetailId:e,editingSelected:!0})}),w(this,"updateFilter",e=>{this.setState({filter:e})}),w(this,"removeFilter",()=>{this.updateFilter(null)}),w(this,"editingSelected",()=>{this.setState({editingSelected:!0})}),w(this,"stopEditing",()=>{this.setState({editingSelected:!1})}),this.state={noteDetailId:null,filter:null,viewableNotes:[],editingSelected:!1}}static getDerivedStateFromProps(e,t){let r={...t};const{notes:n}=e,o=E.viewableNotes(n,t.filter);return r.viewableNotes=o,r.noteDetailId=E.detailID(o,t.noteDetailId),r}static detailID(e,t){if(0==e.length)return null;let r=e[0].id;if(null!=t){let n=e.find(e=>e.id===t);n&&(r=n.id)}return r}static viewableNotes(e,t){let r=e;E.staticFilterIsEmpty(t)||(r=e.filter(e=>E.isViewable(t,e)));let o=(0,n.default)(r,["lastEdited"]);return o.reverse(),o}static staticFilterIsEmpty(e){return null==e||0===e.tag.length&&0===e.character.length&&0===e.place.length&&0===e.book.length}filterIsEmpty(e){return null==e||0===e.tag.length&&0===e.character.length&&0===e.place.length&&0===e.book.length}static isViewable(e,t){if(!t)return!1;let r=!1;return t.tags&&e.tag.some(e=>t.tags.includes(e))&&(r=!0),t.characters&&e.character.some(e=>t.characters.includes(e))&&(r=!0),t.places&&e.place.some(e=>t.places.includes(e))&&(r=!0),t.bookIds&&(e.book.some(e=>t.bookIds.includes(e))&&(r=!0),e.book.length&&!t.bookIds.length&&(r=!0)),r}renderVisibleNotes(){return this.state.viewableNotes.map(e=>o.default.createElement(m.default,{key:e.id,note:e,selected:e.id==this.state.noteDetailId,startEdit:this.editingSelected,stopEdit:this.stopEditing,select:()=>this.setState({noteDetailId:e.id})}))}renderNotes(){return o.default.createElement("div",{className:(0,p.default)("note-list__list","list-group",{darkmode:this.props.ui.darkMode})},this.renderVisibleNotes())}renderNoteDetails(){if(null==this.state.noteDetailId)return null;let e=this.props.notes.find(e=>e.id===this.state.noteDetailId);return e||(e=this.state.viewableNotes[0]),o.default.createElement(h.default,null,o.default.createElement(c.default,{key:`note-${e.id}`,note:e,editing:this.state.editingSelected,stopEditing:this.stopEditing,startEditing:this.editingSelected}))}renderSubNav(){let e="subnav__container";this.props.ui.darkMode&&(e+=" darkmode");let t=o.default.createElement(l.Popover,{id:"filter"},o.default.createElement(d.default,{filteredItems:this.state.filter,updateItems:this.updateFilter,renderBooks:!0})),r=o.default.createElement(l.Alert,{onClick:this.removeFilter,bsStyle:"warning"},o.default.createElement(l.Glyphicon,{glyph:"remove-sign"}),"  ",(0,f.default)("Notes are filtered"));return this.filterIsEmpty(this.state.filter)&&(r=o.default.createElement("span",null)),o.default.createElement(l.Navbar,{className:e},o.default.createElement(l.Nav,{bsStyle:"pills"},o.default.createElement(l.NavItem,null,o.default.createElement(l.Button,{bsSize:"small",onClick:this.handleCreateNewNote},o.default.createElement(l.Glyphicon,{glyph:"plus"})," ",(0,f.default)("New"))),o.default.createElement(l.NavItem,null,o.default.createElement(l.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:t},o.default.createElement(l.Button,{bsSize:"small"},o.default.createElement(l.Glyphicon,{glyph:"filter"})," ",(0,f.default)("Filter"))),r)))}render(){let e="secondary-text";return this.props.ui.darkMode&&(e+=" darkmode"),o.default.createElement("div",{className:"note-list container-with-sub-nav"},this.renderSubNav(),o.default.createElement(l.Grid,{fluid:!0},o.default.createElement(l.Row,null,o.default.createElement(l.Col,{sm:3},o.default.createElement("h1",{className:e},(0,f.default)("Notes")," ",o.default.createElement(l.Button,{onClick:this.handleCreateNewNote},o.default.createElement(l.Glyphicon,{glyph:"plus"}))),this.renderNotes()),o.default.createElement(l.Col,{sm:9},this.renderNoteDetails()))))}}E.propTypes={notes:i.default.array.isRequired,actions:i.default.object.isRequired,characters:i.default.array.isRequired,places:i.default.array.isRequired,tags:i.default.array.isRequired,ui:i.default.object.isRequired};var _=(0,a.connect)((function(e){return{notes:e.present.notes,characters:e.present.characters,places:e.present.places,tags:e.present.tags,ui:e.present.ui}}),(function(e){return{actions:(0,s.bindActionCreators)(u,e)}}))(E);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=O(r(1)),o=r(9),i=E(r(8)),a=r(13),s=r(15),l=r(7),u=O(r(252)),c=E(r(174)),d=E(r(5)),f=E(r(73)),p=E(r(106)),h=E(r(39)),m=E(r(250)),g=E(r(32)),b=E(r(3)),v=r(80),y=r(81),w=r(133);function E(e){return e&&e.__esModule?e:{default:e}}function _(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _=function(){return e},e}function O(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x extends n.Component{constructor(e){super(e),C(this,"deleteNote",e=>{e.stopPropagation(),this.props.actions.deleteNote(this.props.note.id)}),C(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),C(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEditing()}),C(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),C(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),C(this,"saveEdit",(e=!0)=>{const{note:t}=this.props;let r={title:(0,o.findDOMNode)(this.refs.titleInput).value||t.title,content:this.state.content};this.state.newImageId&&(r.imageId=-1==this.state.newImageId?null:this.state.newImageId),this.props.actions.editNote(t.id,r),e&&this.props.stopEditing()}),this.state={content:e.note.content,newImageId:null,deleting:!1}}componentWillUnmount(){this.props.editing&&this.saveEdit(!1)}renderDelete(){return this.state.deleting?n.default.createElement(g.default,{name:this.props.note.title||(0,d.default)("New Note"),onDelete:this.deleteNote,onCancel:this.cancelDelete}):null}renderBookSelectList(){const{note:e,actions:t}=this.props;return n.default.createElement(m.default,{selectedBooks:e.bookIds,parentId:e.id,add:t.addBook,remove:t.removeBook})}renderEditingImage(){const{note:e}=this.props;let t=this.state.newImageId||e.imageId;return n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,d.default)("Note Image")),n.default.createElement("div",{className:"note-list__note__edit-image-wrapper"},n.default.createElement("div",{className:"note-list__note__edit-image"},n.default.createElement(h.default,{size:"small",shape:"rounded",imageId:t})),n.default.createElement("div",null,n.default.createElement(p.default,{selectedId:t,chooseImage:e=>this.setState({newImageId:e}),deleteButton:!0}))))}renderContent(){const{note:e,ui:t}=this.props;if(this.props.editing)return n.default.createElement("div",{className:"note-list__content editing"},n.default.createElement("div",{className:"note-list__note__edit-form"},n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,d.default)("Title")),n.default.createElement(l.FormControl,{type:"text",ref:"titleInput",autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,onChange:()=>this.setState({unsaved:!0}),defaultValue:e.title,style:{marginBottom:"10px"}})),this.renderEditingImage(),n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,d.default)("Content")),n.default.createElement(f.default,{description:e.content,onChange:e=>this.setState({content:e}),editable:!0,autofocus:!1,darkMode:t.darkMode}))),n.default.createElement(l.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveEdit},(0,d.default)("Save")),n.default.createElement(l.Button,{className:"card-dialog__delete",onClick:this.handleDelete},(0,d.default)("Delete"))));{let r=null;return e.imageId&&(r=n.default.createElement("div",{className:"text-center"},n.default.createElement(h.default,{responsive:!0,imageId:e.imageId}))),n.default.createElement("div",{className:"note-list__content",onClick:this.props.startEditing},n.default.createElement("h4",{className:"secondary-text"},e.title||(0,d.default)("New Note")),r,n.default.createElement(f.default,{description:e.content,darkMode:t.darkMode}),n.default.createElement(l.Glyphicon,{className:"pull-right",glyph:"pencil"}))}}render(){const{editing:e,ui:t,note:r,characters:o,actions:i,places:a,tags:s}=this.props;return n.default.createElement("div",{className:"note-list__note-wrapper"},this.renderDelete(),n.default.createElement("div",{className:(0,b.default)("note-list__note",{editing:e,darkmode:t.darkMode})},n.default.createElement("div",{className:"note-list__body"},n.default.createElement("div",{className:"note-list__left-side"},this.renderBookSelectList(),n.default.createElement(c.default,{parentId:r.id,type:"Characters",selectedItems:r.characters,allItems:o,add:i.addCharacter,remove:i.removeCharacter}),n.default.createElement(c.default,{parentId:r.id,type:"Places",selectedItems:r.places,allItems:a,add:i.addPlace,remove:i.removePlace}),n.default.createElement(c.default,{parentId:r.id,type:"Tags",selectedItems:r.tags,allItems:s,add:i.addTag,remove:i.removeTag})),this.renderContent())))}}x.propTypes={note:i.default.object.isRequired,editing:i.default.bool.isRequired,startEditing:i.default.func.isRequired,stopEditing:i.default.func.isRequired,characters:i.default.array.isRequired,places:i.default.array.isRequired,tags:i.default.array.isRequired,actions:i.default.object.isRequired,ui:i.default.object.isRequired};var T=(0,a.connect)((function(e){return{tags:(0,v.sortedTagsSelector)(e.present),characters:(0,y.charactersSortedAtoZSelector)(e.present),places:(0,w.placesSortedAtoZSelector)(e.present),ui:e.present.ui}}),(function(e){return{actions:(0,s.bindActionCreators)(u,e)}}))(x);t.default=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=b(r(1)),o=m(r(8)),i=r(9),a=r(13),s=r(15),l=r(7),u=b(r(252)),c=m(r(5)),d=m(r(39)),f=m(r(3)),p=m(r(32)),h=m(r(891));function m(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends n.Component{constructor(...e){super(...e),v(this,"state",{deleting:!1}),v(this,"scrollIntoView",()=>{if(this.props.selected){const e=(0,i.findDOMNode)(this);e&&e.scrollIntoViewIfNeeded()}}),v(this,"deleteNote",e=>{e.stopPropagation(),this.props.actions.deleteNote(this.props.note.id)}),v(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),v(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEdit()}),v(this,"selectNote",()=>{const{note:e,selected:t,select:r,startEdit:n}=this.props;t?n():r(e.id)}),v(this,"startEditing",e=>{e.stopPropagation(),this.props.select(this.props.note.id),this.props.startEdit()})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderDelete(){return this.state.deleting?n.default.createElement(p.default,{name:this.props.note.title||(0,c.default)("New Note"),onDelete:this.deleteNote,onCancel:this.cancelDelete}):null}render(){const{note:e,selected:t}=this.props;let r=null;e.imageId&&(r=n.default.createElement("div",{className:"note-list__item-inner__image-wrapper"},n.default.createElement(d.default,{responsive:!0,imageId:e.imageId})));let o=null;e.lastEdited&&(o=n.default.createElement("p",{className:"list-group-item-text secondary-text"},h.default.format(new Date(e.lastEdited))));const i=(0,f.default)("list-group-item",{selected:t}),a=(0,f.default)("note-list__item-buttons",{visible:t});return n.default.createElement("div",{className:i,onClick:this.selectNote},this.renderDelete(),n.default.createElement("div",{className:"note-list__item-inner"},r,n.default.createElement("div",null,n.default.createElement("h6",{className:(0,f.default)("list-group-item-heading",{withImage:!!e.imageId})},e.title||(0,c.default)("New Note")),o),n.default.createElement(l.ButtonGroup,{className:a},n.default.createElement(l.Button,{bsSize:"small",onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{bsSize:"small",onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"})))))}}v(y,"propTypes",{note:o.default.object.isRequired,selected:o.default.bool.isRequired,select:o.default.func.isRequired,startEdit:o.default.func.isRequired,stopEdit:o.default.func.isRequired,actions:o.default.object.isRequired});var w=(0,a.connect)((function(e){return{}}),(function(e){return{actions:(0,s.bindActionCreators)(u,e)}}))(y);t.default=w},function(e,t){function r(e,t,r){return function(n){var o=Math.floor(n/e);return o+" "+(t+(o>1?"s":""))+" "+r}}var n=[{threshold:1,handler:function(){return"just now"}},{threshold:60,handler:r(1,"second","ago")},{threshold:3600,handler:r(60,"minute","ago")},{threshold:86400,handler:r(3600,"hour","ago")},{threshold:172800,handler:function(){return"yesterday"}},{threshold:604800,handler:r(86400,"day","ago")},{threshold:2592e3,handler:r(604800,"week","ago")},{threshold:31536e3,handler:r(2592e3,"month","ago")},{threshold:1/0,handler:r(31536e3,"year","ago")}],o={format:function(e){for(var t=((new Date).getTime()-e.getTime())/1e3,r=0;r<n.length;r++)if(t<n[r].threshold)return n[r].handler(t);throw new Error("exhausted all formatter options, none found")}};e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=(a(r(8)),a(r(27))),i=a(r(893));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var l=n.default.memo(()=>n.default.createElement(o.default,null,n.default.createElement(i.default,null)));t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=C(r(1)),o=r(14),i=_(r(8)),a=r(13),s=r(15),l=r(7),u=r(61),c=_(r(391)),d=C(r(47)),f=_(r(5)),p=_(r(894)),h=r(253),m=r(55),g=_(r(3)),b=r(169),v=r(37),y=r(28),w=_(r(376)),E=_(r(907));function _(e){return e&&e.__esModule?e:{default:e}}function O(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return O=function(){return e},e}function C(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=O();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const T=o.remote.getCurrentWindow();class S extends n.Component{constructor(e){super(e),x(this,"updateZoom",e=>{const t=(0,h.computeZoom)(this.tableRef,e);this.tableRef.children[0].style.transform=t}),x(this,"zoomLabel",()=>this.props.ui.zoomState===m.FIT_ZOOM_STATE?"fit":`${m.ZOOM_STATES[this.props.ui.zoomIndex]}x`),x(this,"updateFilter",e=>{this.props.actions.setTimelineFilter({...e})}),x(this,"clearFilter",()=>{this.props.actions.setTimelineFilter({tag:[],character:[],place:[]})}),x(this,"scrollTo",e=>{const t={behavior:"smooth"};"vertical"===this.props.ui.orientation?t.top=e:t.left=e,this.tableRef.scrollTo(t)}),x(this,"scrollDistance",()=>"vertical"===this.props.ui.orientation?228:384),x(this,"scrollLeft",()=>{const e="vertical"===this.props.ui.orientation?this.tableRef.scrollTop:this.tableRef.scrollLeft;this.scrollTo(e-this.scrollDistance())}),x(this,"scrollRight",()=>{const e="vertical"===this.props.ui.orientation?this.tableRef.scrollTop:this.tableRef.scrollLeft;this.scrollTo(e+this.scrollDistance())}),x(this,"scrollBeginning",()=>this.scrollTo(0)),x(this,"scrollMiddle",()=>{const e="vertical"===this.props.ui.orientation?this.tableRef.scrollHeight/2-window.innerHeight/2:this.tableRef.scrollWidth/2-window.innerWidth/2;this.scrollTo(e)}),x(this,"scrollEnd",()=>{const e="vertical"===this.props.ui.orientation?this.tableRef.scrollHeight:this.tableRef.scrollWidth;this.scrollTo(e)}),x(this,"scrollHandler",e=>{const t={x:e.currentTarget.scrollLeft,y:e.currentTarget.scrollTop};clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.props.actions.recordScrollPosition(t)},500)}),x(this,"flipOrientation",()=>{let e="horizontal"===this.props.ui.orientation?"vertical":"horizontal";this.props.actions.changeOrientation(e),this.props.actions.resetZoom()}),x(this,"toggleExpanded",()=>{this.props.ui.timelineIsExpanded?this.props.actions.collapseTimeline():this.props.actions.expandTimeline()}),x(this,"startSaveAsTemplate",()=>{o.ipcRenderer.sendTo(T.webContents.id,"save-as-template-start","plotlines")}),this.state={mounted:!1},this.tableRef=null}componentDidMount(){this.tableRef.onscroll=this.scrollHandler;const{zoomIndex:e}=this.props.ui;e?this.updateZoom(this.props.ui):this.props.actions.resetZoom(),setTimeout(()=>{this.setState({mounted:!0},()=>{null!=this.props.ui.timelineScrollPosition&&this.tableRef.scrollTo({top:this.props.ui.timelineScrollPosition.y,left:this.props.ui.timelineScrollPosition.x,behavior:"auto"})})},100)}componentWillReceiveProps(e){const{ui:t}=this.props;if(e.ui.zoomState!=t.zoomState?"fit"!=e.ui.zoomState&&this.updateZoom(e.ui):this.updateZoom(e.ui),e.ui.currentTimeline!=t.currentTimeline&&(this.setState({mounted:!1}),setTimeout(()=>this.setState({mounted:!0}),100)),e.ui.orientation!=t.orientation&&(this.setState({mounted:!1}),setTimeout(()=>this.setState({mounted:!0}),100)),e.ui.zoomIndex!=t.zoomIndex||e.ui.zoomState!=t.zoomState){this.setState({mounted:!1});const r="fit"==e.ui.zoomState&&null==t.zoomState,n=e.ui;setTimeout(()=>{this.setState({mounted:!0}),r&&this.updateZoom(n)},100)}}componentWillUnmount(){this.tableRef.onScroll=null,this.tableRef=null}renderSubNav(){const{ui:e,file:t,filterIsEmpty:r,canSaveTemplate:o}=this.props;let i="option-vertical",a="menu-left",s="menu-right",u=null,d=null;e.timelineIsExpanded?(u=(0,f.default)("Collapse"),d=n.default.createElement(v.FaCompressAlt,null)):(u=(0,f.default)("Expand"),d=n.default.createElement(v.FaExpandAlt,null)),"vertical"===e.orientation&&(i="option-horizontal",a="menu-up",s="menu-down");let p=n.default.createElement(l.Popover,{id:"filter"},n.default.createElement(c.default,{filteredItems:this.props.ui.timelineFilter,updateItems:this.updateFilter})),h=n.default.createElement(l.Alert,{onClick:this.clearFilter,bsStyle:"warning"},n.default.createElement(l.Glyphicon,{glyph:"remove-sign"}),"  ",(0,f.default)("Timeline is filtered"));return r&&(h=n.default.createElement("span",null)),n.default.createElement(l.Navbar,{className:(0,g.default)("subnav__container",{darkmode:e.darkMode})},n.default.createElement(l.Nav,{bsStyle:"pills"},n.default.createElement(l.NavItem,null,n.default.createElement(l.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:p},n.default.createElement(l.Button,{bsSize:"small"},n.default.createElement(l.Glyphicon,{glyph:"filter"})," ",(0,f.default)("Filter"))),h),n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:this.flipOrientation},n.default.createElement(l.Glyphicon,{glyph:i})," ",(0,f.default)("Flip"))),n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:this.toggleExpanded},d," ",u)),n.default.createElement(l.NavItem,null,n.default.createElement("span",{className:"subnav__container__label"},(0,f.default)("Zoom")),n.default.createElement("span",{className:"subnav__container__label"}," (",this.zoomLabel(),"): "),n.default.createElement(l.ButtonGroup,{bsSize:"small"},n.default.createElement(l.Button,{onClick:this.props.actions.increaseZoom},n.default.createElement(l.Glyphicon,{glyph:"plus-sign"})),n.default.createElement(l.Button,{onClick:this.props.actions.decreaseZoom},n.default.createElement(l.Glyphicon,{glyph:"minus-sign"})),n.default.createElement(l.Button,{onClick:this.props.actions.fitZoom},(0,f.default)("Fit")),n.default.createElement(l.Button,{onClick:this.props.actions.resetZoom},(0,f.default)("Reset")))),n.default.createElement(l.NavItem,null,n.default.createElement("span",{className:"subnav__container__label"},(0,f.default)("Scroll"),": "),n.default.createElement(l.ButtonGroup,{bsSize:"small"},n.default.createElement(l.Button,{onClick:this.scrollLeft},n.default.createElement(l.Glyphicon,{glyph:a})),n.default.createElement(l.Button,{onClick:this.scrollRight},n.default.createElement(l.Glyphicon,{glyph:s})),n.default.createElement(l.Button,{onClick:this.scrollBeginning},(0,f.default)("Beginning")),n.default.createElement(l.Button,{onClick:this.scrollMiddle},(0,f.default)("Middle")),n.default.createElement(l.Button,{onClick:this.scrollEnd},(0,f.default)("End")))),o?n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:this.startSaveAsTemplate},n.default.createElement(v.FaSave,{className:"svg-save-template"})," ",(0,f.default)("Save as Template"))):null,n.default.createElement(E.default,null),n.default.createElement(w.default,{fileName:t.fileName,bookId:e.currentTimeline})))}renderBody(){return this.state.mounted?n.default.createElement(p.default,{tableRef:this.tableRef}):n.default.createElement(b.FunSpinner,null)}render(){const{ui:e}=this.props;return n.default.createElement("div",{id:"timelineview__container",className:(0,g.default)("container-with-sub-nav",{darkmode:e.darkMode})},this.renderSubNav(),n.default.createElement("div",{id:"timelineview__root"},n.default.createElement(u.StickyTable,{leftColumnZ:5,headerZ:5,wrapperRef:e=>this.tableRef=e,className:(0,g.default)({darkmode:e.darkMode,vertical:"vertical"==e.orientation})},this.renderBody())))}}S.propTypes={file:i.default.object.isRequired,ui:i.default.object.isRequired,filterIsEmpty:i.default.bool.isRequired,canSaveTemplate:i.default.bool.isRequired};var P=(0,a.connect)((function(e){return{file:e.present.file,ui:e.present.ui,filterIsEmpty:(0,y.timelineFilterIsEmptySelector)(e.present),canSaveTemplate:1==(0,y.currentTimelineSelector)(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(d,e)}}))(S);t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=j(r(1)),o=I(r(8)),i=r(13),a=r(15),s=r(61),l=I(r(895)),u=I(r(904)),c=I(r(392)),d=I(r(393)),f=I(r(905)),p=I(r(394)),h=I(r(906)),m=j(r(47)),g=j(r(118)),b=j(r(135)),v=j(r(154)),y=j(r(175)),w=j(r(72)),E=r(58),_=r(90),O=r(18),C=r(22),x=r(67),T=r(59),S=r(9),P=r(107),k=r(28);function I(e){return e&&e.__esModule?e:{default:e}}function A(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}function j(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=A();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class R extends n.Component{constructor(...e){super(...e),D(this,"state",{tableLength:0}),D(this,"setLength",()=>{const e=(0,S.findDOMNode)(this.props.tableRef);let t=e.scrollWidth;"horizontal"!=this.props.ui.orientation&&(t=e.scrollHeight),this.state.tableLength!=t&&this.setState({tableLength:t})}),D(this,"handleReorderChapters",(e,t)=>{const r=(0,E.reorderList)(e,t,this.props.chapters);this.props.isSeries?this.props.beatActions.reorderBeats(r):this.props.sceneActions.reorderScenes(r,this.props.ui.currentTimeline)}),D(this,"handleReorderLines",(e,t)=>{const r=(0,E.reorderList)(e,t,this.props.lines);(this.props.isSeries?this.props.seriesLineActions:this.props.lineActions).reorderLines(r,this.props.ui.currentTimeline)}),D(this,"handleInsertNewChapter",(e,t)=>{const r=(0,_.insertChapter)(e,this.props.chapters,this.props.nextChapterId,this.props.ui.currentTimeline);if(this.props.isSeries?this.props.beatActions.reorderBeats(r):this.props.sceneActions.reorderScenes(r,this.props.ui.currentTimeline),t&&r[e]){const n=r[e].id;this.props.cardActions.addCard(this.buildCard(t,n))}}),D(this,"handleAppendChapter",()=>{this.props.isSeries?this.props.beatActions.addBeat():this.props.sceneActions.addScene(this.props.ui.currentTimeline)})}componentDidMount(){this.setLength()}componentDidUpdate(){this.setLength()}componentWillReceiveProps(e){}chapterMapping(){return this.props.chapters.reduce((e,t)=>(e[t.position]=t.id,e),{})}lineMapping(){return this.props.lines.reduce((e,t)=>(e[t.position]=t,e),{})}buildCard(e,t){return this.props.isSeries?Object.assign({},O.card,{beatId:t,seriesLineId:e}):Object.assign({},O.card,{chapterId:t,lineId:e})}renderLines(){const e=this.chapterMapping(),t=Object.keys(e);return this.props.lines.map(r=>n.default.createElement(s.Row,{key:`lineId-${r.id}`},n.default.createElement(c.default,{line:r,handleReorder:this.handleReorderLines,bookId:this.props.ui.currentTimeline}),this.renderCardsByChapter(r,e,t))).concat(n.default.createElement(h.default,{key:"insert-line",bookId:this.props.ui.currentTimeline}))}renderChapters(){const e=this.lineMapping(),t=Object.keys(e),{chapters:r}=this.props;return r.map(r=>{const o=t.flatMap(t=>{const o=e[t];return n.default.createElement(d.default,{key:`${t}-insert`,isInChapterList:!1,chapterPosition:r.position,handleInsert:this.handleInsertNewChapter,color:o.color,showLine:0==r.position,tableLength:this.state.tableLength})});return[n.default.createElement(s.Row,{key:`chapterId-${r.id}`},n.default.createElement(d.default,{isInChapterList:!0,chapterPosition:r.position,handleInsert:this.handleInsertNewChapter}),o),n.default.createElement(s.Row,{key:`chapterId-${r.id}-insert`},n.default.createElement(p.default,{chapterId:r.id,handleReorder:this.handleReorderChapters}),this.renderCardsByLine(r,e,t))]}).concat(n.default.createElement(s.Row,{key:"last-insert"},n.default.createElement(d.default,{isInChapterList:!0,handleInsert:this.handleAppendChapter,isLast:!0})))}renderRows(){return"horizontal"===this.props.ui.orientation?this.renderLines():this.renderChapters()}renderCardsByChapter(e,t,r){const{cardMap:o}=this.props;return r.flatMap(r=>{const i=[],a=t[r];i.push(n.default.createElement(d.default,{key:`${r}-insert`,isInChapterList:!1,chapterPosition:Number(r),lineId:e.id,handleInsert:this.handleInsertNewChapter,showLine:0==r,color:e.color,tableLength:this.state.tableLength}));const s=o[`${e.id}-${a}`],c=`${s?"card":"blank"}-${r}-${e.position}`;return s?i.push(n.default.createElement(l.default,{key:c,cards:s,chapterId:a,lineId:e.id,chapterPosition:r,linePosition:e.position,color:e.color})):i.push(n.default.createElement(u.default,{chapterId:a,lineId:e.id,key:c,color:e.color})),i})}renderCardsByLine(e,t,r){const{cardMap:o}=this.props;return r.flatMap(r=>{const i=[],a=t[r],s=o[`${a.id}-${e.id}`],c=`${s?"card":"blank"}-${e.position}-${r}`;return s?i.push(n.default.createElement(l.default,{key:c,cards:s,chapterId:e.id,lineId:a.id,chapterPosition:e.position,linePosition:r,color:a.color})):i.push(n.default.createElement(u.default,{chapterId:e.id,lineId:a.id,key:c,color:a.color})),i})}render(){const e=this.renderRows();return[n.default.createElement(f.default,{key:"top-row"}),e]}}R.propTypes={chapters:o.default.array,nextChapterId:o.default.number,beats:o.default.array,lines:o.default.array,seriesLines:o.default.array,cardMap:o.default.object.isRequired,ui:o.default.object.isRequired,tableRef:o.default.object};var N=(0,i.connect)((function(e){let t=-1;return t="series"==e.present.ui.currentTimeline?(0,C.nextId)(e.present.beats):(0,C.nextId)(e.present.chapters),{chapters:(0,x.sortedChaptersByBookSelector)(e.present),nextChapterId:t,lines:(0,T.sortedLinesByBookSelector)(e.present),cardMap:(0,P.cardMapSelector)(e.present),ui:e.present.ui,isSeries:(0,k.isSeriesSelector)(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(m,e),sceneActions:(0,a.bindActionCreators)(g,e),lineActions:(0,a.bindActionCreators)(b,e),cardActions:(0,a.bindActionCreators)(w,e),beatActions:(0,a.bindActionCreators)(v,e),seriesLineActions:(0,a.bindActionCreators)(y,e)}}))(R);t.default=N},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=E(r(1)),o=y(r(8)),i=r(13),a=r(15),s=y(r(5)),l=r(61),u=E(r(72)),c=y(r(896)),d=y(r(3)),f=r(28),p=r(59),h=y(r(431)),m=y(r(903)),g=r(58),b=y(r(27)),v=r(107);function y(e){return e&&e.__esModule?e:{default:e}}function w(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return w=function(){return e},e}function E(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=w();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O extends n.PureComponent{constructor(...e){super(...e),_(this,"moveSceneCardAbove",(e,t)=>{const{chapterId:r,lineId:n,isSeries:o,cards:i}=this.props;let a=[];const s=i.map(e=>e.id);if(s.includes(e)){const r=i.find(t=>t.id==e).positionWithinLine;a=(0,g.moveToAbove)(r,t,s)}else a=s,a.splice(t,0,e);this.props.actions.reorderCardsWithinLine(r,n,o,a)}),_(this,"moveSceneCard",(e,t)=>{const{chapterId:r,lineId:n,isSeries:o,cards:i}=this.props;let a=[];const s=i.map(e=>e.id);if(s.includes(e)){const r=i.find(t=>t.id==e).positionWithinLine;a=(0,g.reorderList)(t,r,s)}else a=s,a.splice(t,0,e);this.props.actions.reorderCardsWithinLine(r,n,o,a)}),_(this,"addSceneCard",e=>{const t=this.buildCard(e),r=this.props.cards.map(e=>e.id);r.splice(e.positionWithinLine,0,null),this.props.actions.addNewCardInChapter(t,r)}),_(this,"renderHiddenCards",()=>n.default.createElement("div",{className:"card__hidden-cards"},this.renderCards(!1)))}buildCard(e){const{chapterId:t,lineId:r,isSeries:n}=this.props;return n?Object.assign({},{beatId:t,seriesLineId:r},e):Object.assign({},{chapterId:t,lineId:r},e)}renderCards(e){const{chapterId:t,lineId:r,chapterPosition:o,linePosition:i,color:a,cards:s}=this.props,l=s.length-1;return s.map((u,d)=>{const f=d==s.length-1;return n.default.createElement("div",{key:u.id},n.default.createElement(b.default,null,n.default.createElement(c.default,{card:u,chapterId:t,lineId:r,idx:d,chapterPosition:o,linePosition:i,color:a,last:l==d,moveCard:this.moveSceneCardAbove,allowDrop:e})),e?n.default.createElement(m.default,{color:a,positionWithinLine:d,moveCard:this.moveSceneCard,addCard:this.addSceneCard,allowDrop:f,dropPosition:s.length}):null)})}renderBody(){const e=this.props.cards.length,t="vertical"==this.props.ui.orientation;if(this.props.lineIsExpanded||1==e)return n.default.createElement("div",{className:(0,d.default)("card__cell",{multiple:e>1,vertical:t})},this.renderCards(!0));{let r={borderColor:this.props.color};return this.props.isVisible||(r.opacity="0.1"),n.default.createElement("div",{className:(0,d.default)("card__cell__overview-cell",{vertical:t})},n.default.createElement(h.default,{component:this.renderHiddenCards,placement:"right",offset:0,disableAnimation:!0},n.default.createElement("div",{className:"card__body",style:r},n.default.createElement("div",{className:"card__title"},(0,s.default)("{num} Scenes",{num:e})))),n.default.createElement(m.default,{color:this.props.color,positionWithinLine:e,moveCard:this.moveSceneCard,addCard:this.addSceneCard,allowDrop:!0}))}}render(){return this.props.cards.length?n.default.createElement(l.Cell,null,this.renderBody()):n.default.createElement(l.Cell,null)}}O.propTypes={cards:o.default.array,chapterId:o.default.number.isRequired,lineId:o.default.number.isRequired,color:o.default.string.isRequired,linePosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,chapterPosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,ui:o.default.object.isRequired,isSeries:o.default.bool.isRequired,lineIsExpanded:o.default.bool.isRequired,isVisible:o.default.bool.isRequired,actions:o.default.object.isRequired};var C=(0,i.connect)((function(e,t){const r=(0,v.visibleCardsSelector)(e.present),n=t.cards.some(e=>r[e.id]);return{ui:e.present.ui,isSeries:(0,f.isSeriesSelector)(e.present),lineIsExpanded:(0,p.lineIsExpandedSelector)(e.present)[t.lineId],isVisible:n}}),(function(e){return{actions:(0,a.bindActionCreators)(u,e)}}))(O);t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(1)),o=b(r(8)),i=r(13),a=r(15),s=y(r(72)),l=b(r(897)),u=r(7),c=b(r(208)),d=r(253),f=r(79),p=b(r(73)),h=b(r(3)),m=r(37),g=r(107);function b(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class E extends n.Component{constructor(e){super(e),w(this,"closeDialog",()=>{this.setState({dialogOpen:!1})}),w(this,"handleDragStart",e=>{this.setState({dragging:!0}),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify({cardId:this.props.card.id}))}),w(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),w(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),w(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),w(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),w(this,"handleDrop",e=>{if(e.stopPropagation(),e.preventDefault(),this.state.dragging)return;if(!this.props.allowDrop)return;this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.moveCard(r.cardId,this.props.idx)}),w(this,"openDialog",()=>{this.setState({dialogOpen:!0})}),this.state={dialogOpen:!1,dragging:!1,inDropZone:!1,dropDepth:0}}renderDialog(){if(!this.state.dialogOpen)return null;const{card:e,chapterId:t,lineId:r}=this.props;return n.default.createElement(l.default,{card:e,chapterId:t,lineId:r,closeDialog:this.closeDialog})}renderPopover(){return n.default.createElement(u.Popover,{title:this.props.card.title,id:`card-popover-${this.props.card.id}`},n.default.createElement("div",{className:"card__popover-wrapper"},n.default.createElement(p.default,{description:this.props.card.description,editable:!1,className:"card__popover-description",darkMode:this.props.ui.darkMode}),this.renderTags()))}hasDetailsToShow(){const{card:e}=this.props;return!(!e.tags||!e.tags.length)||!!e.description&&(!!e.description.length&&(e.description.length>1||!(1==e.description.length&&e.description[0]&&e.description[0].children&&1==e.description[0].children.length&&e.description[0].children[0]&&""==e.description[0].children[0].text)))}renderTags(){const{card:e,tags:t}=this.props;if(!e.tags||!e.tags.length)return null;const r=e.tags.map(e=>{const r=t.find(t=>t.id==e);return r?n.default.createElement(c.default,{tag:r,key:`taglabel-${e}`}):null});return n.default.createElement("div",{className:"card__popover-labels"},r)}renderDropZone(){if(this.props.allowDrop&&this.state.inDropZone)return n.default.createElement("div",{className:"card__drop-zone"},n.default.createElement(m.FaCircle,null))}renderTitle(){let e=n.default.createElement("div",{className:"card__title"},(0,f.truncateTitle)(this.props.card.title,150));if(!this.state.dragging&&this.hasDetailsToShow()){let t="left";t="horizontal"===this.props.ui.orientation?Number(this.props.chapterPosition)<=2?"right":t:Number(this.props.linePosition)<=2?"right":t,(0,d.isZoomed)(this.props.ui)&&(t="right"),e=n.default.createElement(u.OverlayTrigger,{placement:t,overlay:this.renderPopover()},e)}return e}render(){var e={borderColor:this.props.color};this.state.dragging&&(e.opacity="0.5"),this.props.isVisible||(e.opacity="0.1");const t=this.props.allowDrop;return n.default.createElement("div",{className:(0,h.default)("card__body-wrapper",{lastOne:this.props.last}),onDragEnter:t?this.handleDragEnter:null,onDragOver:t?this.handleDragOver:null,onDragLeave:t?this.handleDragLeave:null,onDrop:t?this.handleDrop:null},this.renderDialog(),this.renderDropZone(),n.default.createElement("div",{className:"card__body",style:e,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onClick:this.openDialog},this.renderTitle()))}shouldComponentUpdate(e,t){return this.state.dragging!=t.dragging||(this.state.dialogOpen!=t.dialogOpen||(this.state.inDropZone!=t.inDropZone||(this.props.color!=e.color||(this.props.isVisible!=e.isVisible||(this.props.card!=e.card||this.props.last!=e.last)))))}}E.propTypes={card:o.default.object.isRequired,chapterId:o.default.number.isRequired,lineId:o.default.number.isRequired,color:o.default.string.isRequired,last:o.default.bool.isRequired,linePosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,chapterPosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,moveCard:o.default.func.isRequired,idx:o.default.number.isRequired,allowDrop:o.default.bool.isRequired,tags:o.default.array,ui:o.default.object.isRequired,isVisible:o.default.bool.isRequired};var _=(0,i.connect)((function(e,t){return{tags:e.present.tags,ui:e.present.ui,isVisible:(0,g.visibleCardsSelector)(e.present)[t.card.id]}}),(function(e){return{actions:(0,a.bindActionCreators)(s,e)}}))(E);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=P(r(1)),o=r(9),i=T(r(8)),a=T(r(898)),s=r(13),l=r(15),u=T(r(130)),c=P(r(72)),d=P(r(47)),f=r(7),p=T(r(174)),h=T(r(5)),m=T(r(3)),g=T(r(73)),b=r(90),v=r(67),y=r(59),w=r(28),E=T(r(32)),_=r(80),O=r(81),C=r(133),x=r(79);function T(e){return e&&e.__esModule?e:{default:e}}function S(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return S=function(){return e},e}function P(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=S();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class I extends n.Component{constructor(e){super(e),k(this,"deleteCard",e=>{e.stopPropagation(),this.props.actions.deleteCard(this.props.card.id)}),k(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),k(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),k(this,"saveAndClose",()=>{this.saveEdit(),this.props.closeDialog()}),k(this,"saveEdit",()=>{var e=(0,o.findDOMNode)(this.refs.titleInput).value;this.props.actions.editCard(this.props.card.id,e,this.state.description)}),k(this,"handleEnter",e=>{13===e.which&&this.saveAndClose()}),this.state={description:e.card.description,deleting:!1}}componentDidMount(){window.SCROLLWITHKEYS=!1}componentWillUnmount(){this.saveEdit(),window.SCROLLWITHKEYS=!0}changeChapter(e){this.props.actions.changeScene(this.props.card.id,e,this.props.ui.currentTimeline)}changeLine(e){this.props.actions.changeLine(this.props.card.id,e,this.props.ui.currentTimeline)}changeBook(e){this.props.actions.changeBook(this.props.card.id,e)}getCurrentChapter(){return this.props.chapters.find(e=>e.id==this.props.chapterId)}getCurrentLine(){return this.props.lines.find(e=>e.id==this.props.lineId)}getBookTitle(){const e=this.props.books[this.props.card.bookId];return e?e.title||(0,h.default)("Untitled"):(0,h.default)("Choose...")}renderDelete(){return this.state.deleting?n.default.createElement(E.default,{name:this.props.card.title,onDelete:this.deleteCard,onCancel:this.cancelDelete}):null}renderChapterItems(){const{chapters:e,positionOffset:t,isSeries:r}=this.props;return e.map(e=>n.default.createElement(f.MenuItem,{key:e.id,onSelect:()=>this.changeChapter(e.id)},(0,x.truncateTitle)((0,b.chapterTitle)(e,t,r),50)))}renderLineItems(){return this.props.lines.map(e=>n.default.createElement(f.MenuItem,{key:e.id,onSelect:()=>this.changeLine(e.id)},(0,x.truncateTitle)(e.title,50)))}renderBooks(){const{books:e}=this.props;return e.allIds.map(t=>n.default.createElement(f.MenuItem,{key:t,onSelect:()=>this.changeBook(t)},e[t].title||(0,h.default)("Untitled")))}renderButtonBar(){return n.default.createElement(f.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(f.Button,{onClick:this.props.closeDialog},(0,h.default)("Cancel")),n.default.createElement(f.Button,{bsStyle:"success",onClick:this.saveAndClose},(0,h.default)("Save")),n.default.createElement(f.Button,{className:"card-dialog__delete",onClick:this.handleDelete},(0,h.default)("Delete")))}renderTitle(){var e=this.props.card.title;return n.default.createElement(f.FormControl,{style:{fontSize:"24pt",textAlign:"center",marginBottom:"6px"},onKeyPress:this.handleEnter,type:"text",ref:"titleInput",defaultValue:e})}renderBookDropdown(){let e=null;if(this.props.card.bookId){const t=()=>{this.props.uiActions.changeCurrentTimeline(this.props.card.bookId),this.props.closeDialog()};e=n.default.createElement(f.Button,{onClick:t},(0,h.default)("View Timeline"))}return n.default.createElement("div",{className:"card-dialog__dropdown-wrapper",style:{marginBottom:"5px"}},n.default.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-book"},(0,h.default)("Book"),":",n.default.createElement(f.DropdownButton,{id:"select-book",className:"card-dialog__select-line",title:this.getBookTitle()},this.renderBooks())),e)}renderLeftSide(){const{positionOffset:e,isSeries:t}=this.props;let r=(0,h.default)("Chapter"),o=null;t&&(r=(0,h.default)("Beat"),o=this.renderBookDropdown());const i=(0,b.chapterTitle)(this.getCurrentChapter(),e,t);return n.default.createElement("div",{className:"card-dialog__left-side"},o,n.default.createElement("div",{className:"card-dialog__dropdown-wrapper"},n.default.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-line"},(0,h.default)("Plotline"),":",n.default.createElement(f.DropdownButton,{id:"select-line",className:"card-dialog__select-line",title:(0,x.truncateTitle)(this.getCurrentLine().title,35)},this.renderLineItems()))),n.default.createElement("div",{className:"card-dialog__sdropdown-wrapper"},n.default.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-chapter"},r,":",n.default.createElement(f.DropdownButton,{id:"select-chapter",className:"card-dialog__select-scene",title:(0,x.truncateTitle)(i,40)},this.renderChapterItems()))),n.default.createElement(p.default,{parentId:this.props.card.id,type:"Characters",selectedItems:this.props.card.characters,allItems:this.props.characters,add:this.props.actions.addCharacter,remove:this.props.actions.removeCharacter}),n.default.createElement(p.default,{parentId:this.props.card.id,type:"Places",selectedItems:this.props.card.places,allItems:this.props.places,add:this.props.actions.addPlace,remove:this.props.actions.removePlace}),n.default.createElement(p.default,{parentId:this.props.card.id,type:"Tags",selectedItems:this.props.card.tags,allItems:this.props.tags,add:this.props.actions.addTag,remove:this.props.actions.removeTag}))}render(){const{card:e,ui:t}=this.props;return n.default.createElement(u.default,{isOpen:!0,onRequestClose:this.saveAndClose},this.renderDelete(),n.default.createElement("div",{className:(0,m.default)("card-dialog",{darkmode:t.darkMode})},n.default.createElement("div",{className:"card-dialog__body"},this.renderLeftSide(),n.default.createElement("div",{className:"card-dialog__description"},this.renderTitle(),n.default.createElement("p",{className:"card-dialog__details-label text-center"},(0,h.default)("Description"),":"),n.default.createElement(g.default,{description:e.description,onChange:e=>this.setState({description:e}),editable:!0,darkMode:t.darkMode,autofocus:!0}))),this.renderButtonBar()))}}I.propTypes={card:i.default.object,chapterId:i.default.number.isRequired,lineId:i.default.number.isRequired,closeDialog:i.default.func,lines:i.default.array.isRequired,chapters:i.default.array.isRequired,actions:i.default.object.isRequired,tags:i.default.array.isRequired,characters:i.default.array.isRequired,places:i.default.array.isRequired,ui:i.default.object.isRequired,books:i.default.object.isRequired,isSeries:i.default.bool.isRequired,positionOffset:i.default.number.isRequired};const A=(0,a.default)(I);var j=(0,s.connect)((function(e){return{chapters:(0,v.sortedChaptersByBookSelector)(e.present),lines:(0,y.sortedLinesByBookSelector)(e.present),tags:(0,_.sortedTagsSelector)(e.present),characters:(0,O.charactersSortedAtoZSelector)(e.present),places:(0,C.placesSortedAtoZSelector)(e.present),ui:e.present.ui,books:e.present.books,isSeries:(0,w.isSeriesSelector)(e.present),positionOffset:(0,v.positionOffsetSelector)(e.present)}}),(function(e){return{actions:(0,l.bindActionCreators)(c,e),uiActions:(0,l.bindActionCreators)(d,e)}}))(A);t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,r=a,n=!0,s=u=void 0}};function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=a(r(899)),u=r(1),c=a(u);t.default=function(e){return function(t){function r(){s(this,r),i(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),o(r,[{key:"shouldComponentUpdate",value:function(e,t){return(0,l.default)(this,e,t)}},{key:"render",value:function(){return c.default.createElement(e,n({},this.props,this.state))}}]),r}(u.Component)},e.exports=t.default},function(e,t,r){"use strict";var n=r(900);e.exports=function(e,t,r){return!n(e.props,t)||!n(e.state,r)}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!n.call(t,r[a])||!o(e[r[a]],t[r[a]]))return!1;return!0}},function(e,t,r){var n,o;o=function(e){var t=["N","E","A","D"];function r(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,r){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,r){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function l(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function u(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}function d(e){var t=0,r=u(e);if("array"===r)return e.forEach((function(e){t+=d(e)})),t+c("[type: array, hash: "+t+"]");if("object"===r){for(var n in e)if(e.hasOwnProperty(n)){var o="[ type: object, key: "+n+", value hash: "+d(e[n])+"]";t+=c(o)}return t}return t+c("[ type: "+r+" ; value: "+e+"]")}function f(e,t,r,n,l,c,p,h){r=r||[],p=p||[];var m=(l=l||[]).slice(0);if(null!=c){if(n){if("function"==typeof n&&n(m,c))return;if("object"==typeof n){if(n.prefilter&&n.prefilter(m,c))return;if(n.normalize){var g=n.normalize(m,c,e,t);g&&(e=g[0],t=g[1])}}}m.push(c)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var b,v,y,w,E=typeof e,_=typeof t,O="undefined"!==E||p&&p.length>0&&p[p.length-1].lhs&&Object.getOwnPropertyDescriptor(p[p.length-1].lhs,c),C="undefined"!==_||p&&p.length>0&&p[p.length-1].rhs&&Object.getOwnPropertyDescriptor(p[p.length-1].rhs,c);if(!O&&C)r.push(new i(m,t));else if(!C&&O)r.push(new a(m,e));else if(u(e)!==u(t))r.push(new o(m,e,t));else if("date"===u(e)&&e-t!=0)r.push(new o(m,e,t));else if("object"===E&&null!==e&&null!==t){for(b=p.length-1;b>-1;--b)if(p[b].lhs===e){w=!0;break}if(w)e!==t&&r.push(new o(m,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){for(h&&(e.sort((function(e,t){return d(e)-d(t)})),t.sort((function(e,t){return d(e)-d(t)}))),b=t.length-1,v=e.length-1;b>v;)r.push(new s(m,b,new i(void 0,t[b--])));for(;v>b;)r.push(new s(m,v,new a(void 0,e[v--])));for(;b>=0;--b)f(e[b],t[b],r,n,m,b,p,h)}else{var x=Object.keys(e),T=Object.keys(t);for(b=0;b<x.length;++b)y=x[b],(w=T.indexOf(y))>=0?(f(e[y],t[y],r,n,m,y,p,h),T[w]=null):f(e[y],void 0,r,n,m,y,p,h);for(b=0;b<T.length;++b)(y=T[b])&&f(void 0,t[y],r,n,m,y,p,h)}p.length=p.length-1}}else e!==t&&("number"===E&&isNaN(e)&&isNaN(t)||r.push(new o(m,e,t)))}function p(e,t,r,n,o){var i=[];if(f(e,t,i,n,null,null,null,o),r)for(var a=0;a<i.length;++a)r(i[a]);return i}function h(e,t,r,n){var o=p(e,t,n?function(e){e&&n.push(e)}:void 0,r);return n||(o.length?o:void 0)}function m(e,r,n){if(void 0===n&&r&&~t.indexOf(r.kind)&&(n=r),e&&n&&n.kind){for(var o=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)void 0===o[n.path[i]]&&(o[n.path[i]]=void 0!==n.path[i+1]&&"number"==typeof n.path[i+1]?[]:{}),o=o[n.path[i]];switch(n.kind){case"A":n.path&&void 0===o[n.path[i]]&&(o[n.path[i]]=[]),function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],a=n.path.length-1;for(o=0;o<a;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":delete i[n.path[o]];break;case"E":case"N":i[n.path[o]]=n.rhs}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":t=l(t,r);break;case"E":case"N":t[r]=n.rhs}return t}(n.path?o[n.path[i]]:o,n.index,n.item);break;case"D":delete o[n.path[i]];break;case"E":case"N":o[n.path[i]]=n.rhs}}}return r(o,n),r(i,n),r(a,n),r(s,n),Object.defineProperties(h,{diff:{value:h,enumerable:!0},orderIndependentDiff:{value:function(e,t,r,n){var o=n?function(e){e&&n.push(e)}:void 0,i=p(e,t,o,r,!0);return n||(i.length?i:void 0)},enumerable:!0},observableDiff:{value:p,enumerable:!0},orderIndependentObservableDiff:{value:function(e,t,r,n,o,i,a){return f(e,t,r,n,o,i,a,!0)},enumerable:!0},orderIndepHash:{value:d,enumerable:!0},applyDiff:{value:function(e,t,r){e&&t&&p(e,t,(function(n){r&&!r(e,t,n)||m(e,t,n)}))},enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:function(e,t,r){if(e&&t&&r&&r.kind){var n,o,i=e;for(o=r.path.length-1,n=0;n<o;n++)void 0===i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],a=n.path.length-1;for(o=0;o<a;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":case"E":i[n.path[o]]=n.lhs;break;case"N":delete i[n.path[o]]}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":case"E":t[r]=n.lhs;break;case"N":t=l(t,r)}return t}(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof $conflict},enumerable:!0}}),h.DeepDiff=h,e&&(e.DeepDiff=h),h}(this),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){"use strict";
/**
* @license nested-property https://github.com/cosmosio/nested-property
*
* The MIT License (MIT)
*
* Copyright (c) 2014-2015 Olivier Scherrer <pode.fr@gmail.com>
*/e.exports={set:function(e,t,r){if(e&&"object"==typeof e){if("string"==typeof t&&""!==t){var n=t.split(".");return n.reduce((function(e,t,o){const i=Number.isInteger(Number(n[o+1]));return e[t]=e[t]||(i?[]:{}),n.length==o+1&&(e[t]=r),e[t]}),e)}return"number"==typeof t?(e[t]=r,e[t]):e}return e},get:function(e,t){return e&&"object"==typeof e?"string"==typeof t&&""!==t?t.split(".").reduce((function(e,t){return e&&e[t]}),e):"number"==typeof t?e[t]:e:e},has:function(e,t,r){return r=r||{},!(!e||"object"!=typeof e)&&("string"==typeof t&&""!==t?t.split(".").reduce((function(e,t,n,o){return n==o.length-1?r.own?!(!e||!e.hasOwnProperty(t)):!!(null!==e&&"object"==typeof e&&t in e):e&&e[t]}),e):"number"==typeof t&&t in e)},hasOwn:function(e,t,r){return this.has(e,t,r||{own:!0})},isIn:function(e,t,r,n){if(n=n||{},e&&"object"==typeof e){if("string"==typeof t&&""!==t){var o,i=t.split("."),a=!1;return o=!!i.reduce((function(e,t){return a=a||e===r||!!e&&e[t]===r,e&&e[t]}),e),n.validPath?a&&o:a}return!1}return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=u(r(8)),i=u(r(5)),a=r(9),s=r(7),l=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends n.Component{constructor(...e){super(...e),d(this,"state",{creating:!1,dropping:!1}),d(this,"saveCreate",()=>{const e=(0,a.findDOMNode)(this.refs.titleInput).value;this.props.addCard({title:e,positionWithinLine:this.props.positionWithinLine+1}),this.setState({creating:!1})}),d(this,"handleFinishCreate",e=>{13===e.which&&this.saveCreate()}),d(this,"handleCancelCreate",e=>{27===e.which&&this.setState({creating:!1})}),d(this,"handleBlur",()=>{if(""==(0,a.findDOMNode)(this.refs.titleInput).value)return this.setState({creating:!1}),!1;this.saveCreate(),this.setState({creating:!1})}),d(this,"startCreating",()=>{this.setState({creating:!0})}),d(this,"handleDragEnter",e=>{this.setState({dropping:!0})}),d(this,"handleDragOver",e=>{this.setState({dropping:!0}),e.preventDefault()}),d(this,"handleDragLeave",e=>{this.setState({dropping:!1})}),d(this,"handleDrop",e=>{e.stopPropagation(),this.setState({dropping:!1});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.moveCard(r.cardId,this.props.dropPosition||this.props.positionWithinLine)})}render(){if(this.state.creating){var e={borderColor:this.props.color};return n.default.createElement("div",{className:"card__body",style:e},n.default.createElement(s.FormGroup,null,n.default.createElement(s.ControlLabel,null,(0,i.default)("Scene Title")),n.default.createElement(s.FormControl,{type:"text",autoFocus:!0,ref:"titleInput",bsSize:"small",onBlur:this.handleBlur,onKeyDown:this.handleCancelCreate,onKeyPress:this.handleFinishCreate})))}return this.props.allowDrop?n.default.createElement("div",{className:(0,l.default)("card__add-card",{dropping:this.state.dropping}),onClick:this.startCreating,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},n.default.createElement(s.Glyphicon,{glyph:"plus"})):n.default.createElement("div",{className:(0,l.default)("card__add-card",{dropping:this.state.dropping}),onClick:this.startCreating},n.default.createElement(s.Glyphicon,{glyph:"plus"}))}shouldComponentUpdate(e,t){return this.state.dropping!=t.dropping||(this.state.creating!=t.creating||(this.props.color!=e.color||this.props.allowDrop!=e.allowDrop))}}t.default=f,d(f,"propTypes",{color:o.default.string.isRequired,positionWithinLine:o.default.number.isRequired,moveCard:o.default.func.isRequired,addCard:o.default.func.isRequired,allowDrop:o.default.bool.isRequired,dropPosition:o.default.number})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(1)),o=r(9),i=h(r(8)),a=r(13),s=r(15),l=r(61),u=g(r(72)),c=h(r(5)),d=r(7),f=h(r(3)),p=r(28);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends n.Component{constructor(e){super(e),b(this,"handleDragEnter",e=>{this.setState({dropping:!0})}),b(this,"handleDragOver",e=>{this.setState({dropping:!0}),e.preventDefault()}),b(this,"handleDragLeave",e=>{this.setState({dropping:!1})}),b(this,"handleDrop",e=>{e.stopPropagation(),this.setState({dropping:!1});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);if(!r.cardId)return;const{chapterId:n,lineId:o,isSeries:i}=this.props;this.props.actions.reorderCardsWithinLine(n,o,i,[r.cardId])}),b(this,"saveCreate",()=>{const e=this.buildCard((0,o.findDOMNode)(this.refs.titleInput).value);this.props.actions.addCard(e),this.setState({creating:!1})}),b(this,"handleFinishCreate",e=>{13===e.which&&this.saveCreate()}),b(this,"startCreating",()=>{this.setState({creating:!0})}),b(this,"handleCancelCreate",e=>{27===e.which&&this.setState({creating:!1})}),b(this,"handleBlur",()=>{if(""===(0,o.findDOMNode)(this.refs.titleInput).value)return this.setState({creating:!1}),!1;this.saveCreate(),this.setState({creating:!1})}),this.state={creating:!1,dropping:!1}}buildCard(e){const{chapterId:t,lineId:r}=this.props;return this.props.isSeries?{title:e,beatId:t,seriesLineId:r,positionWithinLine:0}:{title:e,chapterId:t,lineId:r,positionWithinLine:0}}renderBlank(){var e={borderColor:this.props.color};return n.default.createElement("div",{className:(0,f.default)("blank-card__body",{hover:this.state.dropping}),style:e})}renderCreateNew(){const e={borderColor:this.props.color};return n.default.createElement("div",{className:"card__body",style:e},n.default.createElement(d.FormGroup,null,n.default.createElement(d.ControlLabel,null,(0,c.default)("Scene Title")),n.default.createElement(d.FormControl,{type:"text",autoFocus:!0,ref:"titleInput",bsSize:"small",onBlur:this.handleBlur,onKeyDown:this.handleCancelCreate,onKeyPress:this.handleFinishCreate})))}render(){window.SCROLLWITHKEYS=!this.state.creating;let e=null;e=this.state.creating?this.renderCreateNew():this.renderBlank();const t="vertical"===this.props.orientation;return n.default.createElement(l.Cell,null,n.default.createElement("div",{className:(0,f.default)("card__cell",{vertical:t}),onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onClick:this.startCreating},n.default.createElement("div",null,e)))}shouldComponentUpdate(e,t){return this.state.dropping!=t.dropping||(this.state.creating!=t.creating||this.props.color!=e.color)}}v.propTypes={chapterId:i.default.number,lineId:i.default.number,color:i.default.string.isRequired,currentTimeline:i.default.oneOfType([i.default.string,i.default.number]),orientation:i.default.string,isSeries:i.default.bool};var y=(0,a.connect)((function(e){return{currentTimeline:e.present.ui.currentTimeline,orientation:e.present.ui.orientation,isSeries:(0,p.isSeriesSelector)(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(u,e)}}))(v);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=x(r(1)),o=O(r(8)),i=r(13),a=r(15),s=r(61),l=r(7),u=x(r(118)),c=x(r(135)),d=x(r(154)),f=x(r(175)),p=O(r(394)),h=O(r(392)),m=O(r(393)),g=r(58),b=r(90),v=O(r(176)),y=r(22),w=r(67),E=r(59),_=r(28);function O(e){return e&&e.__esModule?e:{default:e}}function C(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return C=function(){return e},e}function x(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=C();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class S extends n.Component{constructor(...e){super(...e),T(this,"handleReorderChapters",(e,t)=>{const{ui:r,beatActions:n,sceneActions:o,isSeries:i,chapters:a}=this.props,s=(0,g.reorderList)(e,t,a);i?n.reorderBeats(s):o.reorderScenes(s,r.currentTimeline)}),T(this,"handleReorderLines",(e,t)=>{const{ui:r,lineActions:n,seriesLineActions:o,isSeries:i,lines:a}=this.props,s=(0,g.reorderList)(e,t,a);i?o.reorderLines(s):n.reorderLines(s,r.currentTimeline)}),T(this,"handleInsertNewChapter",e=>{const{ui:t,beatActions:r,sceneActions:n,isSeries:o,chapters:i,nextChapterId:a}=this.props,s=(0,b.insertChapter)(e,i,a,t.currentTimeline);o?r.reorderBeats(s):n.reorderScenes(s,t.currentTimeline)}),T(this,"handleAppendChapter",()=>{const{ui:e,beatActions:t,sceneActions:r,isSeries:n}=this.props;n?t.addBeat():r.addScene(e.currentTimeline)}),T(this,"handleAppendLine",()=>{const{ui:e,lineActions:t,seriesLineActions:r,isSeries:n}=this.props;n?r.addLine():t.addLine(e.currentTimeline)})}renderLastInsertChapterCell(){const{orientation:e}=this.props.ui;return n.default.createElement(m.default,{key:"last-insert",isInChapterList:!0,handleInsert:this.handleAppendChapter,isLast:!0,orientation:e})}renderChapters(){const{ui:e,chapters:t}=this.props,r=t.flatMap(t=>{const r=[];return r.push(n.default.createElement(m.default,{key:`chapterId-${t.id}-insert`,isInChapterList:!0,chapterPosition:t.position,handleInsert:this.handleInsertNewChapter,orientation:e.orientation})),r.push(n.default.createElement(p.default,{key:`chapterId-${t.id}`,chapterId:t.id,handleReorder:this.handleReorderChapters})),r});return[n.default.createElement(s.Cell,{key:"placeholder"})].concat(r).concat([this.renderLastInsertChapterCell()])}renderLines(){const e=this.props.lines.map(e=>n.default.createElement(h.default,{key:`line-${e.id}`,line:e,handleReorder:this.handleReorderLines,bookId:this.props.ui.currentTimeline}));return[n.default.createElement(s.Cell,{key:"placeholder"})].concat(e).concat(n.default.createElement(s.Row,{key:"insert-line"},n.default.createElement(s.Cell,null,n.default.createElement("div",{className:(0,v.default)("line-list__append-line",this.props.ui.orientation),onClick:this.handleAppendLine},n.default.createElement("div",{className:(0,v.default)("line-list__append-line-wrapper",this.props.ui.orientation)},n.default.createElement(l.Glyphicon,{glyph:"plus"}))))))}render(){let e=null;return e="horizontal"===this.props.ui.orientation?this.renderChapters():this.renderLines(),n.default.createElement(s.Row,null,e)}}S.propTypes={ui:o.default.object.isRequired,chapters:o.default.array,nextChapterId:o.default.number,lines:o.default.array};var P=(0,i.connect)((function(e){let t=-1;return t="series"==e.present.ui.currentTimeline?(0,y.nextId)(e.present.beats):(0,y.nextId)(e.present.chapters),{ui:e.present.ui,isSeries:(0,_.isSeriesSelector)(e.present),chapters:(0,w.sortedChaptersByBookSelector)(e.present),nextChapterId:t,lines:(0,E.sortedLinesByBookSelector)(e.present)}}),(function(e){return{sceneActions:(0,a.bindActionCreators)(u,e),lineActions:(0,a.bindActionCreators)(c,e),beatActions:(0,a.bindActionCreators)(d,e),seriesLineActions:(0,a.bindActionCreators)(f,e)}}))(S);t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=E(r(29)),o=w(r(1)),i=E(r(8)),a=r(13),s=r(15),l=r(61),u=r(7),c=E(r(5)),d=w(r(135)),f=w(r(175)),p=E(r(386)),h=r(177),m=r(18),g=r(67),b=r(59),v=r(107);function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function w(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function E(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O extends o.Component{constructor(...e){super(...e),_(this,"state",{hovering:!1,showTemplatePicker:!1}),_(this,"allChapters",[]),_(this,"allLines",[]),_(this,"allCards",[]),_(this,"nextChapterId",null),_(this,"nextLineId",null),_(this,"nextCardId",null),_(this,"newLineMapping",{}),_(this,"newChapterOffset",0),_(this,"getLast",e=>e[e.length-1]),_(this,"getPositionById",e=>e.reduce((e,t)=>(e[t.id]=t.position,e),{})),_(this,"addBlankLine",(e,t)=>{const r=Object.assign({},m.line,{title:e.name,bookId:t});this.addLines([r],t,!1,e)}),_(this,"addChapters",(e,t,r)=>{if(!e)return;const o=(e=(0,n.default)(e,"position")).every(e=>"auto"==e.title);if(this.allChapters.length<2)this.allChapters=e.map(e=>{const n=this.nextChapterId;return++this.nextChapterId,{...e,id:n,bookId:t,fromTemplateId:r.id}});else if(o)this.allChapters.length<e.length&&e.slice(this.allChapters.length).forEach(e=>{const n=this.nextChapterId;++this.nextChapterId;const o=this.getLast(this.allChapters),i={...e,id:n,bookId:t,position:o.position+1,fromTemplateId:r.id};this.allChapters.push(i)});else if(this.allChapters.length<e.length)this.newChapterOffset=this.allChapters.length,e.forEach(e=>{const n=this.nextChapterId;++this.nextChapterId;const o=this.getLast(this.allChapters),i={...e,id:n,bookId:t,position:o.position+1,fromTemplateId:r.id};this.allChapters.push(i)});else{this.addBlankLine(r,t);let n=this.getLast(this.allLines);e.forEach(e=>{const o=this.nextCardId;++this.nextCardId;const i=Object.assign({},m.card,{id:o,bookId:t,lineId:n.id,chapterId:this.allChapters[e.position].id,title:e.title,fromTemplateId:r.id});this.allCards.push(i)})}}),_(this,"addLines",(e,t,r,o)=>{e&&(e=(0,n.default)(e,"position")).forEach(e=>{const n=this.nextLineId;r&&(this.newLineMapping[e.id]=n);const i=this.getLast(this.allLines),a=i?i.position:0,s=(0,h.nextColor)(this.allLines.length),l={...e,id:n,bookId:t,position:a+1+e.position,color:s,fromTemplateId:o.id};this.allLines.push(l),++this.nextLineId})}),_(this,"addCards",(e,t,r,n)=>{if(!e)return;const o=this.getPositionById(t);let i=!0,a=null;if(!Object.keys(this.newLineMapping).length){i=!1,this.addBlankLine(n,r);const e=this.getLast(this.allLines);e&&(a=e.id)}e.forEach(e=>{const t=this.nextCardId;a=i?this.newLineMapping[e.lineId]:a;const s=o[e.chapterId],l=this.allChapters[s+this.newChapterOffset]||this.allChapters[this.allChapters.length-1],u=l?l.id:0,c={...e,id:t,bookId:r,chapterId:u,lineId:a,fromTemplateId:n.id};this.allCards.push(c),++this.nextCardId})}),_(this,"handleChooseTemplate",e=>{const{ui:t,actions:r}=this.props,n=e.templateData;let o=t.currentTimeline;this.nextLineId=this.props.nextLineId,this.nextCardId=this.props.nextCardId,this.nextChapterId=this.props.nextChapterId,this.allChapters=this.props.chapters,this.allLines=this.props.lines,this.allCards=this.props.cards,this.addChapters(n.chapters,o,e),this.addLines(n.lines,o,!0,e),this.addCards(n.cards,n.chapters,o,e),r.addLinesFromTemplate(this.allCards,this.allLines,this.allChapters,o,e),this.setState({showTemplatePicker:!1})})}renderInsertButton(){const{ui:e,actions:t}=this.props;return"series"!=this.props.bookId?o.default.createElement("div",{className:"line-list__append-line"},this.state.hovering?o.default.createElement("div",{className:"line-list__append-line__double"},o.default.createElement("div",{onClick:()=>this.setState({showTemplatePicker:!0,hovering:!1}),className:"template"},(0,c.default)("Use Template")),o.default.createElement("div",{onClick:()=>t.addLine(e.currentTimeline),className:"non-template"},o.default.createElement(u.Glyphicon,{glyph:"plus"}))):o.default.createElement("div",{className:"line-list__append-line-wrapper"},o.default.createElement(u.Glyphicon,{glyph:"plus"}))):o.default.createElement("div",{className:"line-list__append-line",onClick:()=>t.addLine(e.currentTimeline)},o.default.createElement("div",{className:"line-list__append-line-wrapper"},o.default.createElement(u.Glyphicon,{glyph:"plus"})))}renderTemplatePicker(){return this.state.showTemplatePicker?o.default.createElement(p.default,{type:["plotlines"],modal:!0,isOpen:this.state.showTemplatePicker,close:()=>this.setState({showTemplatePicker:!1}),onChooseTemplate:this.handleChooseTemplate}):null}render(){return o.default.createElement(l.Row,null,o.default.createElement(l.Cell,{onMouseEnter:()=>this.setState({hovering:!0}),onMouseLeave:()=>this.setState({hovering:!1})},this.renderInsertButton(),this.renderTemplatePicker()))}shouldComponentUpdate(e,t){return this.state.showTemplatePicker!=t.showTemplatePicker||this.state.hovering!=t.hovering}}_(O,"propTypes",{ui:i.default.object.isRequired,bookId:i.default.oneOfType([i.default.string,i.default.number]),chapters:i.default.array,lines:i.default.array,cards:i.default.array,nextLineId:i.default.number,nextChapterId:i.default.number,nextCardId:i.default.number});var C=(0,a.connect)((function(e){return{ui:e.present.ui,chapters:(0,g.sortedChaptersByBookSelector)(e.present),lines:(0,b.linesByBookSelector)(e.present),cards:e.present.cards,nextLineId:(0,b.nextLineIdSelector)(e.present),nextChapterId:(0,g.nextChapterIdSelector)(e.present),nextCardId:(0,v.nextCardIdSelector)(e.present)}}),(function(e,t){let r="series"==t.bookId?f:d;return{actions:(0,s.bindActionCreators)(r,e)}}))(O);t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(1)),o=f(r(8)),i=r(13),a=r(15),s=f(r(5)),l=r(7),u=h(r(47)),c=(r(395),f(r(32))),d=r(28);function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends n.Component{constructor(...e){super(...e),m(this,"state",{deleting:!1}),m(this,"clearTimeline",e=>{e.stopPropagation(),this.setState({deleting:!1}),this.props.actions.resetTimeline(this.props.bookId)})}renderDelete(){if(!this.state.deleting)return null;const e=(0,s.default)("Are you sure you want to clear everything in this timeline?");return n.default.createElement(c.default,{onDelete:this.clearTimeline,onCancel:()=>this.setState({deleting:!1}),customText:e,notSubmit:!0})}render(){return n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:()=>this.setState({deleting:!0})},n.default.createElement(l.Glyphicon,{glyph:"refresh"})," ",(0,s.default)("Clear")),this.renderDelete())}}g.propTypes={bookId:o.default.oneOfType([o.default.number,o.default.string]).isRequired};var b=(0,i.connect)((function(e){return{bookId:(0,d.currentTimelineSelector)(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(u,e)}}))(g);t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(1)),o=h(r(8)),i=r(13),a=(r(15),h(r(909))),s=h(r(911)),l=h(r(5)),u=h(r(3)),c=h(r(27)),d=r(7),f=h(r(915)),p=r(14);function h(e){return e&&e.__esModule?e:{default:e}}function m({ui:e}){const t=()=>{p.ipcRenderer.send("pls-open-dashboard")};return n.default.createElement(c.default,null,n.default.createElement("div",{className:"series__container container-with-sub-nav"},n.default.createElement(d.Navbar,{className:(0,u.default)("subnav__container",{darkmode:e.darkMode})},n.default.createElement(d.Nav,{bsStyle:"pills"},n.default.createElement(d.NavItem,null,n.default.createElement(d.Button,{bsSize:"small",onClick:t},(0,l.default)("Open Dashboard"))),n.default.createElement(f.default,null))),n.default.createElement(a.default,null),n.default.createElement(s.default,null)))}m.propTypes={ui:o.default.object.isRequired};var g=(0,i.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{}}))(m);t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(1)),o=f(r(8)),i=r(9),a=r(13),s=r(15),l=r(7),u=f(r(5)),c=h(r(910)),d=f(r(3));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends n.Component{constructor(...e){super(...e),m(this,"state",{editing:!1}),m(this,"saveEdit",()=>{let e=(0,i.findDOMNode)(this.refs.name).value,t=(0,i.findDOMNode)(this.refs.premise).value,r=(0,i.findDOMNode)(this.refs.genre).value,n=(0,i.findDOMNode)(this.refs.theme).value;this.props.actions.editSeries({name:e,premise:t,genre:r,theme:n}),this.setState({editing:!1})}),m(this,"checkForEdits",()=>{const{series:e}=this.props,t=Object.keys(this.refs).some(t=>(0,i.findDOMNode)(this.refs[t]).value!=e[t]);this.setState({editing:t})})}componentWillUnmount(){this.state.editing&&this.saveEdit()}renderToolBar(){return n.default.createElement(l.ButtonToolbar,{className:(0,d.default)({invisible:!this.state.editing})},n.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveEdit},(0,u.default)("Save")))}renderBody(){const{series:e}=this.props;return n.default.createElement(l.Form,{horizontal:!0},n.default.createElement(l.FormGroup,null,n.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:1},(0,u.default)("Name")),n.default.createElement(l.Col,{sm:4},n.default.createElement(l.FormControl,{type:"text",ref:"name",defaultValue:e.name,onChange:this.checkForEdits})),n.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:1},(0,u.default)("Premise")),n.default.createElement(l.Col,{sm:4},n.default.createElement(l.FormControl,{type:"text",ref:"premise",defaultValue:e.premise,onChange:this.checkForEdits}))),n.default.createElement(l.FormGroup,null,n.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:1},(0,u.default)("Genre")),n.default.createElement(l.Col,{sm:4},n.default.createElement(l.FormControl,{type:"text",ref:"genre",defaultValue:e.genre,onChange:this.checkForEdits})),n.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:1},(0,u.default)("Theme")),n.default.createElement(l.Col,{sm:4},n.default.createElement(l.FormControl,{type:"text",ref:"theme",defaultValue:e.theme,onChange:this.checkForEdits}))))}render(){return n.default.createElement("div",{className:"edit-book__container"},n.default.createElement("h2",null,(0,u.default)("Series")),this.renderBody(),n.default.createElement(l.Row,null,n.default.createElement(l.Col,{sm:10},this.renderToolBar())))}}m(g,"propTypes",{ui:o.default.object.isRequired,series:o.default.object.isRequired,actions:o.default.object.isRequired});var b=(0,a.connect)((function(e){return{ui:e.present.ui,series:e.present.series}}),(function(e){return{actions:(0,s.bindActionCreators)(c,e)}}))(g);t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editSeries=function(e){return{type:n.EDIT_SERIES,attributes:e}};var n=r(11)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(r(1)),o=(r(9),g(r(8))),i=r(13),a=r(15),s=v(r(254)),l=v(r(135)),u=v(r(118)),c=g(r(5)),d=g(r(912)),f=r(7),p=r(1059),h=g(r(3)),m=r(22);function g(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class w extends n.Component{constructor(...e){super(...e),y(this,"addBook",()=>{const{actions:e,books:t,lineActions:r,sceneActions:n}=this.props,o=(0,m.objectId)(t.allIds);e.addBook(),r.addLine(o),n.addScene(o)}),y(this,"reorder",(e,t)=>{const r=this.props.books.allIds,[n]=r.splice(e,1);return r.splice(t,0,n),r}),y(this,"onDragEnd",e=>{if(!e.destination)return;const t=this.reorder(e.source.index,e.destination.index);this.props.actions.reorderBooks(t)})}renderBooks(){return this.props.books.allIds.map((e,t)=>n.default.createElement(p.Draggable,{key:e,draggableId:e.toString(),index:t},(r,o)=>n.default.createElement("div",Object.assign({ref:r.innerRef},r.draggableProps,r.dragHandleProps,{style:r.draggableProps.style,className:(0,h.default)("book-list__droppable",{dragging:o.isDragging})}),n.default.createElement(d.default,{bookId:e,bookNumber:t+1}))))}render(){return n.default.createElement("div",{className:"book-list__container"},n.default.createElement("h2",null,`${(0,c.default)("Books")} `,n.default.createElement("span",{onClick:this.addBook},n.default.createElement(f.Glyphicon,{glyph:"plus"}))),n.default.createElement(p.DragDropContext,{onDragEnd:this.onDragEnd},n.default.createElement(p.Droppable,{droppableId:"droppable",direction:"horizontal"},(e,t)=>n.default.createElement("div",Object.assign({ref:e.innerRef,className:(0,h.default)("book-list__list",{dragging:t.isDraggingOver})},e.droppableProps),this.renderBooks(),e.placeholder,n.default.createElement(d.default,{addBook:this.addBook})))))}}y(w,"propTypes",{ui:o.default.object.isRequired,books:o.default.object.isRequired,actions:o.default.object});var E=(0,i.connect)((function(e){return{ui:e.present.ui,books:e.present.books}}),(function(e){return{actions:(0,a.bindActionCreators)(s,e),lineActions:(0,a.bindActionCreators)(l,e),sceneActions:(0,a.bindActionCreators)(u,e)}}))(w);t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(1)),o=b(r(8)),i=r(13),a=r(15),s=b(r(5)),l=b(r(106)),u=y(r(254)),c=y(r(47)),d=b(r(39)),f=b(r(913)),p=r(7),h=b(r(3)),m=r(395),g=b(r(32));function b(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class E extends n.Component{constructor(...e){super(...e),w(this,"state",{editing:!1,hovering:!1,deleting:!1}),w(this,"chooseImage",e=>{const t=-1==e?null:e;this.props.actions.editBook(this.props.book.id,{imageId:t})}),w(this,"deleteBook",e=>{e.stopPropagation(),this.props.actions.deleteBook(this.props.book.id)}),w(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),w(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),w(this,"navigateToBook",()=>{this.props.uiActions.navigateToBookTimeline(this.props.book.id)})}renderDelete(){return this.state.deleting?n.default.createElement(g.default,{name:this.props.book.title||(0,s.default)("Untitled"),onDelete:this.deleteBook,onCancel:this.cancelDelete}):null}renderHoverOptions(){return n.default.createElement("div",{className:(0,h.default)("hover-options",{hovering:this.state.hovering})},n.default.createElement(p.ButtonGroup,null,n.default.createElement(p.Button,{title:(0,s.default)("Edit"),onClick:()=>this.setState({editing:!0})},n.default.createElement(p.Glyphicon,{glyph:"edit"})),n.default.createElement(l.default,{chooseImage:this.chooseImage,selectedId:this.props.book.imageId,iconOnly:!0,deleteButton:!0}),this.props.canDelete?n.default.createElement(p.Button,{bsStyle:"danger",onClick:this.handleDelete},n.default.createElement(p.Glyphicon,{glyph:"trash"})):null))}renderDialog(){if(!this.state.editing)return null;const{book:e,bookNumber:t}=this.props;return n.default.createElement(f.default,{bookId:e.id,bookNumber:t,modal:!0,cancel:()=>this.setState({editing:!1})})}renderImage(){const{book:e}=this.props;return e.imageId?n.default.createElement(d.default,{responsive:!0,imageId:e.imageId}):null}renderTitle(){const{book:e}=this.props;return e.imageId?null:n.default.createElement("h6",null,e.title||(0,s.default)("Untitled"))}render(){const{book:e,ui:t}=this.props;return e?n.default.createElement("div",{className:(0,h.default)("book-container",{darkmode:t.darkMode}),onMouseEnter:()=>this.setState({hovering:!0}),onMouseLeave:()=>this.setState({hovering:!1})},this.renderHoverOptions(),this.renderDialog(),this.renderDelete(),n.default.createElement("div",{className:(0,h.default)("book",{hovering:this.state.hovering}),onClick:this.navigateToBook},n.default.createElement("div",{className:"front"},n.default.createElement("div",{className:"cover"},this.renderTitle(),n.default.createElement("div",{className:"book-container__cover-image-wrapper"},this.renderImage()))),n.default.createElement("div",{className:"left-side"},n.default.createElement("h2",null,n.default.createElement("span",null,e.title||(0,s.default)("Untitled")))))):n.default.createElement("div",{className:(0,h.default)("book-container","add",{darkmode:t.darkMode})},n.default.createElement("div",{className:"book add",onClick:this.props.addBook},n.default.createElement("div",{className:"front"},n.default.createElement("div",{className:"cover add"},n.default.createElement("div",{className:"book-container__add"},n.default.createElement("h1",null,n.default.createElement(p.Glyphicon,{glyph:"plus"}))))),n.default.createElement("div",{className:"left-side add"},n.default.createElement("h2",null,n.default.createElement("span",null,(0,s.default)("New Book"))))))}}w(E,"propTypes",{bookId:o.default.number,bookNumber:o.default.number,addBook:o.default.func,ui:o.default.object.isRequired,canDelete:o.default.bool,book:o.default.object});var _=(0,i.connect)((function(e,t){return{ui:e.present.ui,book:e.present.books[t.bookId],canDelete:(0,m.canDeleteBookSelector)(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(u,e),uiActions:(0,a.bindActionCreators)(c,e)}}))(E);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(1)),o=f(r(8)),i=r(9),a=r(13),s=r(15),l=r(7),u=f(r(5)),c=h(r(254)),d=f(r(3));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends n.Component{constructor(...e){super(...e),m(this,"saveEdit",()=>{const{book:e}=this.props;let t=(0,i.findDOMNode)(this.refs.title).value,r=(0,i.findDOMNode)(this.refs.premise).value,n=(0,i.findDOMNode)(this.refs.genre).value,o=(0,i.findDOMNode)(this.refs.theme).value;this.props.actions.editBook(e.id,{title:t,premise:r,genre:n,theme:o}),this.props.cancel()})}renderToolBar(){return n.default.createElement(l.ButtonToolbar,null,n.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveEdit},(0,u.default)("Save")),n.default.createElement(l.Button,{onClick:this.props.cancel},(0,u.default)("Cancel")))}renderBody(){const{book:e}=this.props;return n.default.createElement(l.Form,{horizontal:!0},n.default.createElement(l.FormGroup,null,n.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:3},(0,u.default)("Book #")),n.default.createElement(l.Col,{sm:8},n.default.createElement("span",{className:"lead"},this.props.bookNumber))),n.default.createElement(l.FormGroup,null,n.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:3},(0,u.default)("Title")),n.default.createElement(l.Col,{sm:8},n.default.createElement(l.FormControl,{type:"text",ref:"title",defaultValue:e.title}))),n.default.createElement(l.FormGroup,null,n.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:3},(0,u.default)("Premise")),n.default.createElement(l.Col,{sm:8},n.default.createElement(l.FormControl,{type:"text",ref:"premise",defaultValue:e.premise}))),n.default.createElement(l.FormGroup,null,n.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:3},(0,u.default)("Genre")),n.default.createElement(l.Col,{sm:8},n.default.createElement(l.FormControl,{type:"text",ref:"genre",defaultValue:e.genre}))),n.default.createElement(l.FormGroup,null,n.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:3},(0,u.default)("Theme")),n.default.createElement(l.Col,{sm:8},n.default.createElement(l.FormControl,{type:"text",ref:"theme",defaultValue:e.theme}))))}render(){return n.default.createElement(l.Modal,{show:!0,onHide:this.props.cancel,dialogClassName:(0,d.default)("book-dialog",{darkmode:this.props.ui.darkMode})},n.default.createElement(l.Modal.Body,null,this.renderBody()),n.default.createElement(l.Modal.Footer,null,this.renderToolBar()))}}m(g,"propTypes",{bookId:o.default.number.isRequired,cancel:o.default.func.isRequired,ui:o.default.object.isRequired,book:o.default.object,bookNumber:o.default.number,actions:o.default.object.isRequired});var b=(0,a.connect)((function(e,t){return{ui:e.present.ui,book:e.present.books[t.bookId],bookNumber:e.present.books.allIds.indexOf(t.bookId)+1}}),(function(e){return{actions:(0,s.bindActionCreators)(c,e)}}))(g);t.default=b},function(e,t,r){"use strict";
/** @license React v16.13.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case b:case g:case u:return e;default:return t}}case i:return t}}}function O(e){return _(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=b,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return O(e)||_(e)===d},t.isConcurrentMode=O,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===b},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===w||e.$$typeof===E||e.$$typeof===v)},t.typeOf=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=d(r(8)),i=r(13),a=(r(15),r(7)),s=d(r(5)),l=r(78),u=r(50),c=r(14);function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=c.remote.getCurrentWindow();let m=(0,s.default)("Show in File Explorer");l.is.macos&&(m=(0,s.default)("Show in Finder"));class g extends n.Component{constructor(...e){super(...e),p(this,"chooseLocation",()=>{c.ipcRenderer.sendTo(h.webContents.id,"move-from-temp")})}render(){const{file:e}=this.props;let t=n.default.createElement(a.Button,{bsSize:"small",onClick:()=>c.shell.showItemInFolder(e.fileName)},m);return e.fileName.includes(u.TEMP_FILES_PATH)&&(t=n.default.createElement(a.Button,{bsSize:"small",onClick:this.chooseLocation,title:(0,s.default)("Choose where to save this file on your computer")},(0,s.default)("Save File"))),n.default.createElement(a.NavItem,null,t)}}p(g,"propTypes",{file:o.default.object.isRequired});var b=(0,i.connect)((function(e){return{file:e.present.file}}),(function(e){return{}}))(g);t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),s=f(r(8)),l=r(13),u=(r(15),r(7)),c=(f(r(38)),f(r(5))),d=f(r(27));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}class h extends a.Component{render(){return a.default.createElement(d.default,null,a.default.createElement("div",null,a.default.createElement("h1",{className:"secondary-text"},(0,c.default)("Export")),a.default.createElement(u.Form,{horizontal:!0},a.default.createElement(u.FormGroup,null,a.default.createElement(u.Col,{componentClass:u.ControlLabel,sm:1},(0,c.default)("Name")),a.default.createElement(u.Col,{sm:4},a.default.createElement(u.FormControl,{type:"text",ref:"name",defaultValue:series.name})),a.default.createElement(u.Col,{componentClass:u.ControlLabel,sm:1},(0,c.default)("Premise")),a.default.createElement(u.Col,{sm:4},a.default.createElement(u.FormControl,{type:"text",ref:"premise",defaultValue:series.premise}))))))}}n=h,o="propTypes",i={ui:s.default.object.isRequired,series:s.default.object.isRequired,books:s.default.object.isRequired},o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i;var m=(0,l.connect)((function(e){return{ui:e.present.ui,series:e.present.series,books:e.present.books}}),(function(e){return{}}))(h);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=a(r(27)),i=a(r(918));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}t.default=()=>n.default.createElement(o.default,null,n.default.createElement(i.default,null))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(103)),o=m(r(919)),i=m(r(131)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),s=(m(r(8)),r(13)),l=(r(15),r(7)),u=m(r(922)),c=m(r(923));r(937);var d=r(22),f=m(r(939)),p=r(9);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b extends a.Component{constructor(...e){super(...e),g(this,"state",{tab:"search",path:null,tree:null}),g(this,"handleClick",({key:e,value:t,path:r})=>{""!=r&&this.setState({path:r,tree:t})}),g(this,"searchCardsByLine",e=>{this.searchCards([["lineId",e.target.value]])}),g(this,"searchCardsByChapter",e=>{this.searchCards([["chapterId",e.target.value]])}),g(this,"searchCards",e=>{const{pltr:t}=this.props,r=t.cards.filter(t=>e.some(e=>t[e[0]]==e[1]));this.setState({tree:r,path:"cards"})}),g(this,"searchLines",e=>{const{pltr:t}=this.props,r=t.lines.filter(t=>t.id==e.target.value);this.setState({tree:r,path:"lines"})}),g(this,"searchChapters",e=>{const{pltr:t}=this.props,r=t.chapters.filter(t=>t.id==e.target.value);this.setState({tree:r,path:"chapters"})}),g(this,"searchCardsById",e=>{const{pltr:t}=this.props,r=t.cards.filter(t=>t.id==e.target.value);this.setState({tree:r,path:"cards"})}),g(this,"searchAbandoned",()=>{const{pltr:e}=this.props,t=e.cards,r=e.lines.map(e=>e.id),n=e.chapters.map(e=>e.id),o=e.seriesLines.map(e=>e.id),i=e.beats.map(e=>e.id),a=t.filter(e=>!(r.includes(e.lineId)||n.includes(e.chapterId)||o.includes(e.seriesLineId)||i.includes(e.beatId)));this.setState({tree:a,path:"cards"})}),g(this,"searchDuplicateChapters",()=>{const{pltr:e}=this.props,t=e.chapters.map(e=>e.id),r=(0,n.default)((0,o.default)((0,i.default)(t),e=>e.length>1)).map(Number);let a=[];r&&(a=(0,i.default)(e.chapters.filter(e=>r.includes(e.id)),"id")),this.setState({tree:a,path:"chapters"})}),g(this,"searchDuplicateLines",()=>{const{pltr:e}=this.props,t=e.lines.map(e=>e.id),r=(0,n.default)((0,o.default)((0,i.default)(t),e=>e.length>1)).map(Number);let a=[];r&&(a=(0,i.default)(e.lines.filter(e=>r.includes(e.id)),"id")),this.setState({tree:a,path:"lines"})}),g(this,"searchDuplicateCards",()=>{const{pltr:e}=this.props,t=e.cards.map(e=>e.id),r=(0,n.default)((0,o.default)((0,i.default)(t),e=>e.length>1)).map(Number);let a=[];r&&(a=(0,i.default)(e.cards.filter(e=>r.includes(e.id)),"id")),this.setState({tree:a,path:"cards"})}),g(this,"searchChaptersByPosition",e=>{const{pltr:t}=this.props,r=t.chapters.filter(t=>t.position==e.target.value);this.setState({tree:r,path:"chapters"})}),g(this,"moveBookToIdOne",()=>{const e=(0,p.findDOMNode)(this.idToMove).value;if(e)if("series"==e);else{const{pltr:t}=this.props,r=new RegExp(`bookId":s?${e},`,"g"),n=JSON.parse(JSON.stringify(t).replace(r,'bookId":1,'));console.log(n.books,n.chapters.filter(e=>"1"==e.bookId),n.lines.filter(e=>"1"==e.bookId))}})}renderDetails(){return this.state.tree?a.default.createElement("div",{className:"analyzer__details"},a.default.createElement(u.default,{src:this.state.tree,name:this.state.path,iconStyle:"circle"})):null}renderTree(){const{pltr:e}=this.props;return a.default.createElement("div",{className:"analyzer__tree"},a.default.createElement(c.default,{data:e,onClick:this.handleClick,searchOptions:{debounceTime:300}}))}renderTab(){const{pltr:e}=this.props;if("search"==this.state.tab)return a.default.createElement(l.Grid,{fluid:!0},a.default.createElement(l.Row,null,a.default.createElement(l.Col,{sm:12,md:5},this.renderTree()),a.default.createElement(l.Col,{sm:12,md:7},a.default.createElement("h3",null,this.state.path),this.renderDetails())));if("cards"==this.state.tab){const t=(0,d.nextId)(e.cards);return a.default.createElement(l.Grid,{fluid:!0},a.default.createElement(l.Row,null,a.default.createElement(l.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{onChange:this.searchCardsById,placeholder:"Card Id"}),a.default.createElement("input",{onChange:this.searchCardsByLine,placeholder:"Line Id"}),a.default.createElement("input",{onChange:this.searchCardsByChapter,placeholder:"Chapter Id"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchAbandoned},"Abandoned")),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchDuplicateCards},"Duplicates"))),this.renderDetails())))}if("lines"==this.state.tab){const t=(0,d.nextId)(e.lines);return a.default.createElement(l.Grid,{fluid:!0},a.default.createElement(l.Row,null,a.default.createElement(l.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{onChange:this.searchLines,placeholder:"Line Id"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchDuplicateLines},"Duplicates"))),this.renderDetails())))}if("chapters"==this.state.tab){const t=(0,d.nextId)(e.chapters);return a.default.createElement(l.Grid,{fluid:!0},a.default.createElement(l.Row,null,a.default.createElement(l.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{onChange:this.searchChaptersByPosition,placeholder:"Chapter Position"}),a.default.createElement("input",{onChange:this.searchChapters,placeholder:"Chapter Id"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchDuplicateChapters},"Duplicates"))),this.renderDetails())))}if("books"==this.state.tab){const t=(0,d.objectId)(e.books);return a.default.createElement(l.Grid,{fluid:!0},a.default.createElement(l.Row,null,a.default.createElement(l.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{ref:e=>this.idToMove=e,placeholder:"Id To Move"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.moveBookToIdOne},"Move to Book 1"))),this.renderDetails())))}}render(){const{pltr:e}=this.props;return a.default.createElement("div",{className:"analyzer__container"},a.default.createElement("h3",null,e.file.version," ",a.default.createElement("small",null,e.file.fileName),a.default.createElement(f.default,null)),a.default.createElement("div",{className:"analyzer__tabs"},a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"search",tree:null,path:null})},"Search"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"cards",tree:null,path:null})},"Cards"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"lines",tree:null,path:null})},"Lines"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"chapters",tree:null,path:null})},"Chapters"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"books",tree:null,path:null})},"Books")),this.renderTab(),a.default.createElement("div",null))}}var v=(0,s.connect)((function(e){return{pltr:e.present}}),(function(e){return{}}))(b);t.default=v},function(e,t,r){var n=r(171),o=r(241),i=r(920),a=r(330);e.exports=function(e,t){if(null==e)return{};var r=n(a(e),(function(e){return[e]}));return t=o(t),i(e,r,(function(e,r){return t(e,r[0])}))}},function(e,t,r){var n=r(245),o=r(921),i=r(170);e.exports=function(e,t,r){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=n(e,u);r(c,u)&&o(l,i(u,e),c)}return l}},function(e,t,r){var n=r(212),o=r(170),i=r(164),a=r(54),s=r(132);e.exports=function(e,t,r,l){if(!a(e))return e;for(var u=-1,c=(t=o(t,e)).length,d=c-1,f=e;null!=f&&++u<c;){var p=s(t[u]),h=r;if(u!=d){var m=f[p];void 0===(h=l?l(m,p,f):void 0)&&(h=a(m)?m:i(t[u+1])?[]:{})}n(f,p,h),f=f[p]}return e}},function(e,t,r){var n;"undefined"!=typeof self&&self,e.exports=(n=r(1),function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=60)}([function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t,r){return e||console.error("theme has not been set"),l(e)(t,r)};var o=r(64),i=function(e){return e&&e.__esModule?e:{default:e}}(r(65)),a=r(66),s=function(e){var t=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base02,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}}(e);return{"app-container":{fontFamily:i.default.globalFontFamily,cursor:i.default.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:i.default.ellipsisFontSize,lineHeight:i.default.ellipsisLineHeight,cursor:i.default.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:i.default.braceCursor,fontWeight:i.default.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:i.default.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,r){return{style:n({paddingTop:i.default.keyValPaddingTop,paddingRight:i.default.keyValPaddingRight,paddingBottom:i.default.keyValPaddingBottom,borderLeft:i.default.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:r.paddingLeft-1+"px",borderLeft:i.default.keyValBorderHover+" "+t.objectBorder}},r)}},"object-key-val-no-border":{padding:i.default.keyValPadding},"pushed-content":{marginLeft:i.default.pushedContentMarginLeft},variableValue:function(e,t){return{style:n({display:"inline-block",paddingRight:i.default.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:i.default.keyLetterSpacing,fontStyle:i.default.keyFontStyle,verticalAlign:i.default.keyVerticalAlign,opacity:i.default.keyOpacity,":hover":{opacity:i.default.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:i.default.keyLetterSpacing,fontStyle:i.default.keyFontStyle,verticalAlign:i.default.keyVerticalAlign,opacity:i.default.keyOpacity,":hover":{opacity:i.default.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:i.default.objectSizeBorderRadius,fontStyle:i.default.objectSizeFontStyle,margin:i.default.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:i.default.dataTypeFontSize,marginRight:i.default.dataTypeMarginRight,opacity:i.default.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:i.default.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontSize:i.default.nanFontSize,fontWeight:i.default.nanFontWeight,backgroundColor:t.dataTypes.background,padding:i.default.nanPadding,borderRadius:i.default.nanBorderRadius},null:{display:"inline-block",color:t.dataTypes.null,fontSize:i.default.nullFontSize,fontWeight:i.default.nullFontWeight,backgroundColor:t.dataTypes.background,padding:i.default.nullPadding,borderRadius:i.default.nullBorderRadius},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:i.default.undefinedFontSize,padding:i.default.undefinedPadding,borderRadius:i.default.undefinedBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:i.default.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:i.default.iconFontSize,marginRight:i.default.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:i.default.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:i.default.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:i.default.metaDataPadding},"icon-container":{display:"inline-block",width:i.default.iconContainerWidth},tooltip:{padding:i.default.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:i.default.iconCursor,fontSize:i.default.iconFontSize,marginRight:i.default.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:i.default.iconCursor,fontSize:i.default.iconFontSize,marginRight:i.default.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:i.default.iconCursor,fontSize:i.default.iconFontSize,marginRight:i.default.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:i.default.iconCursor,color:t.editVariable.checkIcon,fontSize:i.default.iconFontSize,paddingRight:i.default.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:i.default.iconCursor,color:t.editVariable.cancelIcon,fontSize:i.default.iconFontSize,paddingRight:i.default.iconPaddingRight},"edit-input":{display:"inline-block",minHeight:i.default.editInputHeight,minWidth:i.default.editInputMinWidth,borderRadius:i.default.editInputBorderRadius,backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:i.default.editInputPadding,marginRight:i.default.editInputMarginRight,fontFamily:i.default.editInputFontFamily},"detected-row":{paddingTop:i.default.detectedRowPaddingTop},"key-modal-request":{position:i.default.addKeyCoverPosition,top:i.default.addKeyCoverPositionPx,left:i.default.addKeyCoverPositionPx,right:i.default.addKeyCoverPositionPx,bottom:i.default.addKeyCoverPositionPx,backgroundColor:i.default.addKeyCoverBackground},"key-modal":{width:i.default.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:i.default.addKeyModalMargin,marginRight:i.default.addKeyModalMargin,padding:i.default.addKeyModalPadding,borderRadius:i.default.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:i.default.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:i.default.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:i.default.ellipsisFontSize,lineHeight:i.default.ellipsisLineHeight,cursor:i.default.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:i.default.iconFontSize,transform:"rotate(45deg)"}}},l=function(e){var t=o.rjv_default;return!1!==e&&"none"!==e||(t=o.rjv_grey),(0,a.createStyling)(s,{defaultBase16:t})(e)}},function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(32)("wks"),o=r(23),i=r(5).Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},function(e,t,r){"use strict";function n(e){var t=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),t}Object.defineProperty(t,"__esModule",{value:!0}),t.toType=n,t.isTheme=function(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===n(e)){for(var r=0;r<t.length;r++)if(!(t[r]in e))return!1;return!0}return!1}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(0)),u=n(r(1)),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=(e.rjvId,e.type_name),r=e.displayDataTypes,n=e.theme;return r?l.default.createElement("span",a({className:"data-type-label"},(0,u.default)(n,"data-type-label")),t):null}}]),t}(l.default.PureComponent);t.default=c},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(9),o=r(22);e.exports=r(10)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(16),o=r(44),i=r(29),a=Object.defineProperty;t.f=r(10)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(49),o=r(28);e.exports=function(e){return n(o(e))}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(161),l=function(e){return e&&e.__esModule?e:{default:e}}(r(14)),u=r(4),c=new(function(e){function t(){var e,r,s;o(this,t);for(var l=arguments.length,c=Array(l),d=0;d<l;d++)c[d]=arguments[d];return r=s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),s.objects={},s.set=function(e,t,r,n){void 0===s.objects[e]&&(s.objects[e]={}),void 0===s.objects[e][t]&&(s.objects[e][t]={}),s.objects[e][t][r]=n},s.get=function(e,t,r,n){return void 0===s.objects[e]||void 0===s.objects[e][t]||null==s.objects[e][t][r]?n:s.objects[e][t][r]},s.handleAction=function(e){var t=e.rjvId,r=e.data;switch(e.name){case"RESET":s.emit("reset-"+t);break;case"VARIABLE_UPDATED":e.data.updated_src=s.updateSrc(t,r),s.set(t,"action","variable-update",a({},r,{type:"variable-edited"})),s.emit("variable-update-"+t);break;case"VARIABLE_REMOVED":e.data.updated_src=s.updateSrc(t,r),s.set(t,"action","variable-update",a({},r,{type:"variable-removed"})),s.emit("variable-update-"+t);break;case"VARIABLE_ADDED":e.data.updated_src=s.updateSrc(t,r),s.set(t,"action","variable-update",a({},r,{type:"variable-added"})),s.emit("variable-update-"+t);break;case"ADD_VARIABLE_KEY_REQUEST":s.set(t,"action","new-key-request",r),s.emit("add-key-request-"+t)}},s.updateSrc=function(e,t){var r=t.name,o=t.namespace,i=t.new_value,a=(t.existing_value,t.variable_removed);o.shift();var l=s.get(e,"global","src"),c=s.deepCopy(l,[].concat(n(o))),d=c,f=!0,p=!1,h=void 0;try{for(var m,g=o[Symbol.iterator]();!(f=(m=g.next()).done);f=!0)d=d[m.value]}catch(e){p=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw h}}return a?"array"==(0,u.toType)(d)?d.splice(r,1):delete d[r]:null!==r?d[r]=i:c=i,s.set(e,"global","src",c),c},s.deepCopy=function(e,t){var r=(0,u.toType)(e),o=void 0,i=t.shift();return"array"==r?o=[].concat(n(e)):"object"==r&&(o=a({},e)),void 0!==i&&(o[i]=s.deepCopy(e[i],t)),o},i(s,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(s.EventEmitter));l.default.register(c.handleAction.bind(c)),t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new(r(162).Dispatcher);t.default=n},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e||(e={}),{style:l({verticalAlign:"middle"},e,{color:e.color?e.color:d,height:"1em",width:"1em"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckCircle=t.Edit=t.Add=t.AddCircle=t.RemoveCircle=t.Clippy=t.ArrowDown=t.ArrowRight=t.SquarePlus=t.SquareMinus=t.CirclePlus=t.CircleMinus=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),d="#000000";t.CircleMinus=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",l({},s(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),t}(c.default.PureComponent),t.CirclePlus=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",l({},s(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),t}(c.default.PureComponent),t.SquareMinus=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]),o=s(t).style;return c.default.createElement("span",r,c.default.createElement("svg",{fill:o.color,width:o.height,height:o.width,style:o,viewBox:"0 0 1792 1792"},c.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(c.default.PureComponent),t.SquarePlus=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]),o=s(t).style;return c.default.createElement("span",r,c.default.createElement("svg",{fill:o.color,width:o.height,height:o.width,style:o,viewBox:"0 0 1792 1792"},c.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(c.default.PureComponent),t.ArrowRight=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",{style:l({},s(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},c.default.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),t}(c.default.PureComponent),t.ArrowDown=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",{style:l({},s(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},c.default.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),t}(c.default.PureComponent),t.Clippy=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),t}(c.default.PureComponent),t.RemoveCircle=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(c.default.PureComponent),t.AddCircle=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(c.default.PureComponent),t.Add=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),t}(c.default.PureComponent),t.Edit=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),t}(c.default.PureComponent),t.CheckCircle=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=n(e,["style"]);return c.default.createElement("span",r,c.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(c.default.PureComponent)},function(e,t,r){var n=r(17);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,r){var n=r(48),o=r(33);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t){e.exports=!0},function(e,t,r){var n=r(5),o=r(2),i=r(71),a=r(8),s=r(7),l=function(e,t,r){var u,c,d,f=e&l.F,p=e&l.G,h=e&l.S,m=e&l.P,g=e&l.B,b=e&l.W,v=p?o:o[t]||(o[t]={}),y=v.prototype,w=p?n:h?n[t]:(n[t]||{}).prototype;for(u in p&&(r=t),r)(c=!f&&w&&void 0!==w[u])&&s(v,u)||(d=c?w[u]:r[u],v[u]=p&&"function"!=typeof w[u]?r[u]:g&&c?i(d,n):b&&w[u]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((v.virtual||(v.virtual={}))[u]=d,e&l.R&&y&&!y[u]&&a(y,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(0)),l=r(41),u=r(4),c=r(42),d=n(r(171)),f=n(r(56)),p=n(r(57)),h=n(r(58)),m=n(r(13)),g=r(59),b=n(r(1)),v=function(e){function t(e){o(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));y.call(r);var n=t.getState(e);return r.state=i({},n,{prevProps:{}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getBraceStart",value:function(e,t){var r=this,n=this.props,o=n.src,a=n.theme,l=n.iconStyle;if("array_group"===n.parent_type)return s.default.createElement("span",null,s.default.createElement("span",(0,b.default)(a,"brace"),"array"===e?"[":"{"),t?this.getObjectMetaData(o):null);var u=t?g.ExpandedIcon:g.CollapsedIcon;return s.default.createElement("span",null,s.default.createElement("span",i({onClick:function(e){r.toggleCollapsed()}},(0,b.default)(a,"brace-row")),s.default.createElement("div",i({className:"icon-container"},(0,b.default)(a,"icon-container")),s.default.createElement(u,{theme:a,iconStyle:l})),s.default.createElement(h.default,this.props),s.default.createElement("span",(0,b.default)(a,"brace"),"array"===e?"[":"{")),t?this.getObjectMetaData(o):null)}},{key:"render",value:function(){var e=this.props,t=e.depth,r=e.src,n=(e.namespace,e.name,e.type,e.parent_type),o=e.theme,a=e.jsvRoot,l=e.iconStyle,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),c=this.state,d=c.object_type,f=c.expanded,p={};return a||"array_group"===n?"array_group"===n&&(p.borderLeft=0,p.display="inline"):p.paddingLeft=5*this.props.indentWidth,s.default.createElement("div",i({className:"object-key-val"},(0,b.default)(o,a?"jsv-root":"objectKeyVal",p)),this.getBraceStart(d,f),f?this.getObjectContent(t,r,i({theme:o,iconStyle:l},u)):this.getEllipsis(),s.default.createElement("span",{className:"brace-row"},s.default.createElement("span",{style:i({},(0,b.default)(o,"brace").style,{paddingLeft:f?"3px":"0px"})},"array"===d?"]":"}"),f?null:this.getObjectMetaData(r)))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var n=r.prevProps;if(e.src!==n.src||e.collapsed!==n.collapsed||e.name!==n.name||e.namespace!==n.namespace||e.rjvId!==n.rjvId){var o=t.getState(e);return i({},o,{prevProps:e})}return null}}]),t}(s.default.PureComponent);v.getState=function(e){var t=Object.keys(e.src).length,r=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:(0,u.toType)(e.src),namespace:e.namespace}))&&0!==t;return{expanded:m.default.get(e.rjvId,e.namespace,"expanded",r),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t}};var y=function(){var e=this;this.toggleCollapsed=function(){e.setState({expanded:!e.state.expanded},(function(){m.default.set(e.props.rjvId,e.props.namespace,"expanded",e.state.expanded)}))},this.getObjectContent=function(t,r,n){return s.default.createElement("div",{className:"pushed-content object-container"},s.default.createElement("div",i({className:"object-content"},(0,b.default)(e.props.theme,"pushed-content")),e.renderObjectContents(r,n)))},this.getEllipsis=function(){return 0===e.state.size?null:s.default.createElement("div",i({},(0,b.default)(e.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:e.toggleCollapsed}),"...")},this.getObjectMetaData=function(t){var r=e.props,n=(r.rjvId,r.theme,e.state.size);return s.default.createElement(f.default,i({size:n},e.props))},this.renderObjectContents=function(t,r){var n=e.props,o=n.depth,a=n.parent_type,l=n.index_offset,u=n.groupArraysAfterLength,f=n.namespace,h=e.state.object_type,m=(r.theme,[]),g=void 0,b=Object.keys(t||{});return e.props.sortKeys&&(b=b.sort()),b.forEach((function(n){if(g=new w(n,t[n]),"array_group"===a&&l&&(g.name=parseInt(g.name)+l),t.hasOwnProperty(n))if("object"===g.type)m.push(s.default.createElement(c.JsonObject,i({key:g.name,depth:o+1,name:g.name,src:g.value,namespace:f.concat(g.name),parent_type:h},r)));else if("array"===g.type){var b=c.JsonObject;u&&g.value.length>u&&(b=p.default),m.push(s.default.createElement(b,i({key:g.name,depth:o+1,name:g.name,src:g.value,namespace:f.concat(g.name),type:"array",parent_type:h},r)))}else m.push(s.default.createElement(d.default,i({key:g.name+"_"+f,variable:g,singleIndent:5,namespace:f,type:e.props.type},r)))})),m}},w=function e(t,r){o(this,e),this.name=t,this.value=r,this.type=(0,u.toType)(r)};(0,l.polyfill)(v),t.default=v},function(e,t,r){"use strict";var n=r(70)(!0);r(43)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(17);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(32)("keys"),o=r(23);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(2),o=r(5),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(20)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(9).f,o=r(7),i=r(3)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(28);e.exports=function(e){return Object(n(e))}},function(e,t,r){r(80);for(var n=r(5),o=r(8),i=r(18),a=r(3)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=n[u],d=c&&c.prototype;d&&!d[a]&&o(d,a,u),i[u]=i.Array}},function(e,t,r){t.f=r(3)},function(e,t,r){var n=r(5),o=r(2),i=r(20),a=r(37),s=r(9).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t,r){return Math.min(Math.max(e,t),r)}},function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function i(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var l=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;c.call(this,e,t,n)}}return e}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"polyfill",(function(){return a})),n.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(63);Object.defineProperty(t,"JsonBoolean",{enumerable:!0,get:function(){return n(o).default}});var i=r(158);Object.defineProperty(t,"JsonDate",{enumerable:!0,get:function(){return n(i).default}});var a=r(159);Object.defineProperty(t,"JsonFloat",{enumerable:!0,get:function(){return n(a).default}});var s=r(160);Object.defineProperty(t,"JsonFunction",{enumerable:!0,get:function(){return n(s).default}});var l=r(165);Object.defineProperty(t,"JsonNan",{enumerable:!0,get:function(){return n(l).default}});var u=r(166);Object.defineProperty(t,"JsonNull",{enumerable:!0,get:function(){return n(u).default}});var c=r(167);Object.defineProperty(t,"JsonInteger",{enumerable:!0,get:function(){return n(c).default}});var d=r(25);Object.defineProperty(t,"JsonObject",{enumerable:!0,get:function(){return n(d).default}});var f=r(168);Object.defineProperty(t,"JsonRegexp",{enumerable:!0,get:function(){return n(f).default}});var p=r(169);Object.defineProperty(t,"JsonString",{enumerable:!0,get:function(){return n(p).default}});var h=r(170);Object.defineProperty(t,"JsonUndefined",{enumerable:!0,get:function(){return n(h).default}})},function(e,t,r){"use strict";var n=r(20),o=r(21),i=r(46),a=r(8),s=r(18),l=r(73),u=r(34),c=r(79),d=r(3)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,h,m,g,b){l(r,t,h);var v,y,w,E=function(e){if(!f&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},_=t+" Iterator",O="values"==m,C=!1,x=e.prototype,T=x[d]||x["@@iterator"]||m&&x[m],S=T||E(m),P=m?O?E("entries"):S:void 0,k="Array"==t&&x.entries||T;if(k&&(w=c(k.call(new e)))!==Object.prototype&&w.next&&(u(w,_,!0),n||"function"==typeof w[d]||a(w,d,p)),O&&T&&"values"!==T.name&&(C=!0,S=function(){return T.call(this)}),n&&!b||!f&&!C&&x[d]||a(x,d,S),s[t]=S,s[_]=p,m)if(v={values:O?S:E("values"),keys:g?S:E("keys"),entries:P},b)for(y in v)y in x||i(x,y,v[y]);else o(o.P+o.F*(f||C),t,v);return v}},function(e,t,r){e.exports=!r(10)&&!r(11)((function(){return 7!=Object.defineProperty(r(45)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(17),o=r(5).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){e.exports=r(8)},function(e,t,r){var n=r(16),o=r(74),i=r(33),a=r(31)("IE_PROTO"),s=function(){},l=function(){var e,t=r(45)("iframe"),n=i.length;for(t.style.display="none",r(78).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=l(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(7),o=r(12),i=r(75)(!1),a=r(31)("IE_PROTO");e.exports=function(e,t){var r,s=o(e),l=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(u,r)||u.push(r));return u}},function(e,t,r){var n=r(30);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(48),o=r(33).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(30),o=r(3)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.default=function(e){var t=void 0;switch((0,n.toType)(e)){case"undefined":t="undefined";break;case"nan":t="NaN";break;case"string":t=e;break;case"date":case"function":case"regexp":t=e.toString();break;default:try{t=JSON.stringify(e,null,"  ")}catch(e){t=""}}return t}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(0)),s=r(4),l=(n(r(54)),r(15)),u=n(r(1)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.copiedTimer=null,r.handleCopy=function(){var e=document.createElement("textarea"),t=r.props,n=t.clickCallback,o=t.src,i=t.namespace;e.innerHTML=JSON.stringify(r.clipboardValue(o),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),r.copiedTimer=setTimeout((function(){r.setState({copied:!1})}),5500),r.setState({copied:!0},(function(){"function"==typeof n&&n({src:o,namespace:i,name:i[i.length-1]})}))},r.getClippyIcon=function(){var e=r.props.theme;return r.state.copied?a.default.createElement("span",null,a.default.createElement(l.Clippy,o({className:"copy-icon"},(0,u.default)(e,"copy-icon"))),a.default.createElement("span",(0,u.default)(e,"copy-icon-copied"),"")):a.default.createElement(l.Clippy,o({className:"copy-icon"},(0,u.default)(e,"copy-icon")))},r.clipboardValue=function(e){switch((0,s.toType)(e)){case"function":case"regexp":return e.toString();default:return e}},r.state={copied:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),r=e.hidden,n=(0,u.default)(t,"copy-to-clipboard").style,i="inline";return r&&(i="none"),a.default.createElement("span",{className:"copy-to-clipboard-container"},a.default.createElement("span",{style:o({},n,{display:i}),onClick:this.handleCopy},this.getClippyIcon()))}}]),t}(a.default.PureComponent);t.default=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=n(r(0)),u=n(r(14)),c=n(r(55)),d=r(4),f=r(15),p=n(r(1)),h=function(e){function t(){var e,r,n;i(this,t);for(var h=arguments.length,m=Array(h),g=0;g<h;g++)m[g]=arguments[g];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(m))),n.getObjectSize=function(){var e=n.props,t=e.size,r=e.theme;if(e.displayObjectSize)return l.default.createElement("span",s({className:"object-size"},(0,p.default)(r,"object-size")),t," item",1===t?"":"s")},n.getAddAttribute=function(){var e=n.props,t=e.theme,r=e.namespace,i=e.name,a=e.src,c=e.rjvId,h=e.depth;return l.default.createElement("span",{className:"click-to-add",style:{verticalAlign:"top"}},l.default.createElement(f.AddCircle,s({className:"click-to-add-icon"},(0,p.default)(t,"addVarIcon"),{onClick:function(){var e={name:h>0?i:null,namespace:r.splice(0,r.length-1),existing_value:a,variable_removed:!1,key_name:null};"object"===(0,d.toType)(a)?u.default.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:c,data:e}):u.default.dispatch({name:"VARIABLE_ADDED",rjvId:c,data:s({},e,{new_value:[].concat(o(a),[null])})})}})))},n.getRemoveObject=function(){var e=n.props,t=e.theme,r=(e.hover,e.namespace),o=e.name,i=e.src,a=e.rjvId;if(1!==r.length)return l.default.createElement("span",{className:"click-to-remove"},l.default.createElement(f.RemoveCircle,s({className:"click-to-remove-icon"},(0,p.default)(t,"removeVarIcon"),{onClick:function(){u.default.dispatch({name:"VARIABLE_REMOVED",rjvId:a,data:{name:o,namespace:r.splice(0,r.length-1),existing_value:i,variable_removed:!0}})}})))},n.render=function(){var e=n.props,t=e.theme,r=e.onDelete,o=e.onAdd,i=e.enableClipboard,a=e.src,u=e.namespace;return l.default.createElement("div",s({},(0,p.default)(t,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),n.getObjectSize(),i?l.default.createElement(c.default,s({clickCallback:i},{src:a,theme:t,namespace:u})):null,!1!==o?n.getAddAttribute():null,!1!==r?n.getRemoveObject():null)},a(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(l.default.PureComponent);t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(0)),s=n(r(1)),l=n(r(56)),u=n(r(58)),c=n(r(25)),d=r(59),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.toggleCollapsed=function(e){var t=[];for(var n in r.state.expanded)t.push(r.state.expanded[n]);t[e]=!t[e],r.setState({expanded:t})},r.state={expanded:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getExpandedIcon",value:function(e){var t=this.props,r=t.theme,n=t.iconStyle;return this.state.expanded[e]?a.default.createElement(d.ExpandedIcon,{theme:r,iconStyle:n}):a.default.createElement(d.CollapsedIcon,{theme:r,iconStyle:n})}},{key:"render",value:function(){var e=this,t=this.props,r=t.src,n=t.groupArraysAfterLength,i=(t.depth,t.name),d=t.theme,f=t.jsvRoot,p=t.namespace,h=(t.parent_type,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),m=0,g=5*this.props.indentWidth;f||(m=5*this.props.indentWidth);var b=n,v=Math.ceil(r.length/b);return a.default.createElement("div",o({className:"object-key-val"},(0,s.default)(d,f?"jsv-root":"objectKeyVal",{paddingLeft:m})),a.default.createElement(u.default,this.props),a.default.createElement("span",null,a.default.createElement(l.default,o({size:r.length},this.props))),[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(Array(v))).map((function(t,n){return a.default.createElement("div",o({key:n,className:"object-key-val array-group"},(0,s.default)(d,"objectKeyVal",{marginLeft:6,paddingLeft:g})),a.default.createElement("span",(0,s.default)(d,"brace-row"),a.default.createElement("div",o({className:"icon-container"},(0,s.default)(d,"icon-container"),{onClick:function(t){e.toggleCollapsed(n)}}),e.getExpandedIcon(n)),e.state.expanded[n]?a.default.createElement(c.default,o({key:i+n,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:b,index_offset:n*b,src:r.slice(n*b,n*b+b),namespace:p,type:"array",parent_type:"array_group",theme:d},h)):a.default.createElement("span",o({},(0,s.default)(d,"brace"),{onClick:function(t){e.toggleCollapsed(n)},className:"array-group-brace"}),"[",a.default.createElement("div",o({},(0,s.default)(d,"array-group-meta-data"),{className:"array-group-meta-data"}),a.default.createElement("span",o({className:"object-size"},(0,s.default)(d,"object-size")),n*b," - ",n*b+b>r.length?r.length:n*b+b)),"]")))})))}}]),t}(a.default.PureComponent);t.default=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){var t=e.parent_type,r=e.namespace,n=e.theme,s=e.jsvRoot,l=e.name,u=e.name?e.name:"";return!s||!1!==l&&null!==l?"array"==t?i.default.createElement("span",o({},(0,a.default)(n,"array-key"),{key:r}),i.default.createElement("span",{className:"array-key"},u),i.default.createElement("span",(0,a.default)(n,"colon"),":")):i.default.createElement("span",o({},(0,a.default)(n,"object-name"),{key:r}),i.default.createElement("span",{className:"object-key"},i.default.createElement("span",{style:{verticalAlign:"top"}},'"'),i.default.createElement("span",null,u),i.default.createElement("span",{style:{verticalAlign:"top"}},'"')),i.default.createElement("span",(0,a.default)(n,"colon"),":")):i.default.createElement("span",null)};var i=n(r(0)),a=n(r(1))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.ExpandedIcon=function(e){var t=e.theme;switch(e.iconStyle){case"triangle":return i.default.createElement(s.ArrowDown,o({},(0,a.default)(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return i.default.createElement(s.SquareMinus,o({},(0,a.default)(t,"expanded-icon"),{className:"expanded-icon"}));default:return i.default.createElement(s.CircleMinus,o({},(0,a.default)(t,"expanded-icon"),{className:"expanded-icon"}))}},t.CollapsedIcon=function(e){var t=e.theme;switch(e.iconStyle){case"triangle":return i.default.createElement(s.ArrowRight,o({},(0,a.default)(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return i.default.createElement(s.SquarePlus,o({},(0,a.default)(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return i.default.createElement(s.CirclePlus,o({},(0,a.default)(t,"collapsed-icon"),{className:"collapsed-icon"}))}};var i=n(r(0)),a=n(r(1)),s=r(15)},function(e,t,r){e.exports=r(61)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(0)),s=r(41),l=n(r(62)),u=n(r(177)),c=n(r(179)),d=r(4),f=n(r(13)),p=n(r(1));r(180);var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.rjvId=Date.now().toString(),r.getListeners=function(){return{reset:r.resetState,"variable-update":r.updateSrc,"add-key-request":r.addKeyRequest}},r.updateSrc=function(){var e=f.default.get(r.rjvId,"action","variable-update"),t=e.name,n=e.namespace,o=e.new_value,i=e.existing_value,a=(e.variable_removed,e.updated_src),s=e.type,l=r.props,u=l.onEdit,c=l.onDelete,d=l.onAdd,p=void 0,h={existing_src:r.state.src,new_value:o,updated_src:a,name:t,namespace:n,existing_value:i};switch(s){case"variable-added":p=d(h);break;case"variable-edited":p=u(h);break;case"variable-removed":p=c(h)}!1!==p?(f.default.set(r.rjvId,"global","src",a),r.setState({src:a})):r.setState({validationFailure:!0})},r.addKeyRequest=function(){r.setState({addKeyRequest:!0})},r.resetState=function(){r.setState({validationFailure:!1,addKeyRequest:!1})},r.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:t.defaultProps.src,name:t.defaultProps.name,theme:t.defaultProps.theme,validationMessage:t.defaultProps.validationMessage,prevSrc:t.defaultProps.src,prevName:t.defaultProps.name,prevTheme:t.defaultProps.theme},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){f.default.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)f.default.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&f.default.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)f.default.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,r=e.validationMessage,n=e.addKeyRequest,i=e.theme,s=e.src,f=e.name,h=this.props,m=h.style,g=h.defaultValue;return a.default.createElement("div",{className:"react-json-view",style:o({},(0,p.default)(i,"app-container").style,m)},a.default.createElement(c.default,{message:r,active:t,theme:i,rjvId:this.rjvId}),a.default.createElement(l.default,o({},this.props,{src:s,name:f,theme:i,type:(0,d.toType)(s),rjvId:this.rjvId})),a.default.createElement(u.default,{active:n,theme:i,rjvId:this.rjvId,defaultValue:g}))}}],[{key:"getDerivedStateFromProps",value:function(e,r){if(e.src!==r.prevSrc||e.name!==r.prevName||e.theme!==r.prevTheme){var n={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return t.validateState(n)}return null}}]),t}(a.default.PureComponent);h.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null},h.validateState=function(e){var t={};return"object"!==(0,d.toType)(e.theme)||(0,d.isTheme)(e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.theme="rjv-default"),"object"!==(0,d.toType)(e.src)&&"array"!==(0,d.toType)(e.src)&&(console.error("react-json-view error:","src property must be a valid json object"),t.name="ERROR",t.src={message:"src property must be a valid json object"}),o({},e,t)},(0,s.polyfill)(h),t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=n(r(0)),l=n(r(25)),u=n(r(57)),c=function(e){function t(){var e,r,n;o(this,t);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),n.render=function(){var e=n.props,t=[e.name],r=l.default;return e.groupArraysAfterLength&&e.src.length>e.groupArraysAfterLength&&(r=u.default),s.default.createElement("div",{className:"pretty-json-container object-container"},s.default.createElement("div",{className:"object-content"},s.default.createElement(r,a({namespace:t,depth:0,jsvRoot:!0},e))))},i(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(s.default.PureComponent);t.default=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(0)),u=n(r(6)),c=n(r(1)),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return l.default.createElement("div",(0,c.default)(e.theme,"boolean"),l.default.createElement(u.default,a({type_name:"bool"},e)),e.value?"true":"false")}}]),t}(l.default.PureComponent);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rjv_default={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},t.rjv_grey={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputHeight:"25px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var o=n(r(67)),i=n(r(94)),a=n(r(99)),s=n(r(107)),l=n(r(111)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(112)),c=n(r(150)),d=n(r(151)),f=n(r(156)),p=r(157),h=u.default,m=(0,s.default)(h),g=function(e){return e<.25?1:e<.5?.9-e:1.1-e},b=(0,f.default)(d.default,p.rgb2yuv,(function(e){var t=(0,a.default)(e,3),r=t[0],n=t[1],o=t[2];return[g(r),n,o]}),p.yuv2rgb,c.default),v=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,i.default)({},t.style||{},e.style||{})}}},y=function(e,t){var r=(0,s.default)(t);for(var n in e)-1===r.indexOf(n)&&r.push(n);return r.reduce((function(r,n){return r[n]=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var r=void 0===e?"undefined":(0,o.default)(e),n=void 0===t?"undefined":(0,o.default)(t);switch(r){case"string":switch(n){case"string":return[t,e].filter(Boolean).join(" ");case"object":return v({className:e,style:t});case"function":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return v({className:e})(t.apply(void 0,[r].concat(o)))}}case"object":switch(n){case"string":return v({className:t,style:e});case"object":return(0,i.default)({},t,e);case"function":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return v({style:e})(t.apply(void 0,[r].concat(o)))}}case"function":switch(n){case"string":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.apply(void 0,[v(r)({className:t})].concat(o))};case"object":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.apply(void 0,[v(r)({style:t})].concat(o))};case"function":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.apply(void 0,[t.apply(void 0,[r].concat(o))].concat(o))}}}}(e[n],t[n]),r}),{})},w=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(null===t)return e;Array.isArray(t)||(t=[t]);var l=t.map((function(t){return e[t]})).filter(Boolean),u=l.reduce((function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,o.default)(t))?e.style=(0,i.default)({},e.style,t):"function"==typeof t&&(e=(0,i.default)({},e,t.apply(void 0,[e].concat(n)))),e}),{className:"",style:{}});return u.className||delete u.className,0===(0,s.default)(u.style).length&&delete u.style,u},E=t.invertTheme=function(e){return(0,s.default)(e).reduce((function(t,r){return t[r]=/^base/.test(r)?b(e[r]):"scheme"===r?e[r]+":inverted":e[r],t}),{})},_=(t.createStyling=(0,l.default)((function(e){for(var t=arguments.length,r=Array(t>3?t-3:0),n=3;n<t;n++)r[n-3]=arguments[n];var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=o.defaultBase16,c=void 0===u?h:u,d=o.base16Themes,f=void 0===d?null:d,p=_(a,f);p&&(a=(0,i.default)({},p,a));var g=m.reduce((function(e,t){return e[t]=a[t]||c[t],e}),{}),b=(0,s.default)(a).reduce((function(e,t){return-1===m.indexOf(t)?(e[t]=a[t],e):e}),{}),v=e(g),E=y(b,v);return(0,l.default)(w,2).apply(void 0,[E].concat(r))}),3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var r=e.split(":"),n=(0,a.default)(r,2),o=n[0],i=n[1];e=(t||{})[o]||u[o],"inverted"===i&&(e=E(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(r(68)),i=n(r(83)),a="function"==typeof i.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};t.default="function"==typeof i.default&&"symbol"===a(o.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,r){e.exports={default:r(69),__esModule:!0}},function(e,t,r){r(26),r(36),e.exports=r(37).f("iterator")},function(e,t,r){var n=r(27),o=r(28);e.exports=function(e){return function(t,r){var i,a,s=String(o(t)),l=n(r),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,r){var n=r(72);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";var n=r(47),o=r(22),i=r(34),a={};r(8)(a,r(3)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(9),o=r(16),i=r(19);e.exports=r(10)?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,l=0;s>l;)n.f(e,r=a[l++],t[r]);return e}},function(e,t,r){var n=r(12),o=r(76),i=r(77);e.exports=function(e){return function(t,r,a){var s,l=n(t),u=o(l.length),c=i(a,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(27),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){var n=r(27),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},function(e,t,r){var n=r(5).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(7),o=r(35),i=r(31)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){"use strict";var n=r(81),o=r(82),i=r(18),a=r(12);e.exports=r(43)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){e.exports={default:r(84),__esModule:!0}},function(e,t,r){r(85),r(91),r(92),r(93),e.exports=r(2).Symbol},function(e,t,r){"use strict";var n=r(5),o=r(7),i=r(10),a=r(21),s=r(46),l=r(86).KEY,u=r(11),c=r(32),d=r(34),f=r(23),p=r(3),h=r(37),m=r(38),g=r(87),b=r(88),v=r(16),y=r(17),w=r(12),E=r(29),_=r(22),O=r(47),C=r(89),x=r(90),T=r(9),S=r(19),P=x.f,k=T.f,I=C.f,A=n.Symbol,j=n.JSON,D=j&&j.stringify,R=p("_hidden"),N=p("toPrimitive"),M={}.propertyIsEnumerable,L=c("symbol-registry"),F=c("symbols"),B=c("op-symbols"),W=Object.prototype,H="function"==typeof A,z=n.QObject,U=!z||!z.prototype||!z.prototype.findChild,q=i&&u((function(){return 7!=O(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=P(W,t);n&&delete W[t],k(e,t,r),n&&e!==W&&k(W,t,n)}:k,G=function(e){var t=F[e]=O(A.prototype);return t._k=e,t},V=H&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},K=function(e,t,r){return e===W&&K(B,t,r),v(e),t=E(t,!0),v(r),o(F,t)?(r.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),r=O(r,{enumerable:_(0,!1)})):(o(e,R)||k(e,R,_(1,{})),e[R][t]=!0),q(e,t,r)):k(e,t,r)},X=function(e,t){v(e);for(var r,n=g(t=w(t)),o=0,i=n.length;i>o;)K(e,r=n[o++],t[r]);return e},Y=function(e){var t=M.call(this,e=E(e,!0));return!(this===W&&o(F,e)&&!o(B,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,R)&&this[R][e])||t)},$=function(e,t){if(e=w(e),t=E(t,!0),e!==W||!o(F,t)||o(B,t)){var r=P(e,t);return!r||!o(F,t)||o(e,R)&&e[R][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=I(w(e)),n=[],i=0;r.length>i;)o(F,t=r[i++])||t==R||t==l||n.push(t);return n},J=function(e){for(var t,r=e===W,n=I(r?B:w(e)),i=[],a=0;n.length>a;)!o(F,t=n[a++])||r&&!o(W,t)||i.push(F[t]);return i};H||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===W&&t.call(B,r),o(this,R)&&o(this[R],e)&&(this[R][e]=!1),q(this,e,_(1,r))};return i&&U&&q(W,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),x.f=$,T.f=K,r(50).f=C.f=Z,r(24).f=Y,r(39).f=J,i&&!r(20)&&s(W,"propertyIsEnumerable",Y,!0),h.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)p(Q[ee++]);for(var te=S(p.store),re=0;te.length>re;)m(te[re++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=A(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?O(e):X(O(e),t)},defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),j&&a(a.S+a.F*(!H||u((function(){var e=A();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(y(t)||void 0!==e)&&!V(e))return b(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!V(t))return t}),n[1]=t,D.apply(j,n)}}),A.prototype[N]||r(8)(A.prototype,N,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,r){var n=r(23)("meta"),o=r(17),i=r(7),a=r(9).f,s=0,l=Object.isExtensible||function(){return!0},u=!r(11)((function(){return l(Object.preventExtensions({}))})),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&d.NEED&&l(e)&&!i(e,n)&&c(e),e}}},function(e,t,r){var n=r(19),o=r(39),i=r(24);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),l=i.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,r){var n=r(30);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(12),o=r(50).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},function(e,t,r){var n=r(24),o=r(22),i=r(12),a=r(29),s=r(7),l=r(44),u=Object.getOwnPropertyDescriptor;t.f=r(10)?u:function(e,t){if(e=i(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,r){r(38)("asyncIterator")},function(e,t,r){r(38)("observable")},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(95));t.default=n.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){e.exports={default:r(96),__esModule:!0}},function(e,t,r){r(97),e.exports=r(2).Object.assign},function(e,t,r){var n=r(21);n(n.S+n.F,"Object",{assign:r(98)})},function(e,t,r){"use strict";var n=r(19),o=r(39),i=r(24),a=r(35),s=r(49),l=Object.assign;e.exports=!l||r(11)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=n}))?function(e,t){for(var r=a(e),l=arguments.length,u=1,c=o.f,d=i.f;l>u;)for(var f,p=s(arguments[u++]),h=c?n(p).concat(c(p)):n(p),m=h.length,g=0;m>g;)d.call(p,f=h[g++])&&(r[f]=p[f]);return r}:l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(r(100)),i=n(r(103));t.default=function(e,t){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var s,l=(0,i.default)(e);!(n=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){e.exports={default:r(101),__esModule:!0}},function(e,t,r){r(36),r(26),e.exports=r(102)},function(e,t,r){var n=r(51),o=r(3)("iterator"),i=r(18);e.exports=r(2).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){e.exports={default:r(104),__esModule:!0}},function(e,t,r){r(36),r(26),e.exports=r(105)},function(e,t,r){var n=r(16),o=r(106);e.exports=r(2).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){var n=r(51),o=r(3)("iterator"),i=r(18);e.exports=r(2).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){e.exports={default:r(108),__esModule:!0}},function(e,t,r){r(109),e.exports=r(2).Object.keys},function(e,t,r){var n=r(35),o=r(19);r(110)("keys",(function(){return function(e){return o(n(e))}}))},function(e,t,r){var n=r(21),o=r(2),i=r(11);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i((function(){r(1)})),"Object",a)}},function(e,t,r){(function(t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,o,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function o(e){return e!=e}function i(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}function a(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r];a!==t&&a!==I||(e[r]=I,i[o++]=r)}return i}function s(e){return x(e)?me(e):{}}function l(e){return!(!x(e)||function(e){return!!ce&&ce in e}(e))&&(function(e){var t=x(e)?pe.call(e):"";return t==G||t==V}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?he:ee).test(function(e){if(null!=e){try{return de.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function u(e,t,r,n){for(var o=-1,i=e.length,a=r.length,s=-1,l=t.length,u=ge(i-a,0),c=Array(l+u),d=!n;++s<l;)c[s]=t[s];for(;++o<a;)(d||o<i)&&(c[r[o]]=e[o]);for(;u--;)c[s++]=e[o++];return c}function c(e,t,r,n){for(var o=-1,i=e.length,a=-1,s=r.length,l=-1,u=t.length,c=ge(i-s,0),d=Array(c+u),f=!n;++o<c;)d[o]=e[o];for(var p=o;++l<u;)d[p+l]=t[l];for(;++a<s;)(f||o<i)&&(d[p+r[a]]=e[o++]);return d}function d(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=s(e.prototype),n=e.apply(r,t);return x(n)?n:r}}function f(e,t,n){var o=d(e);return function i(){for(var s=arguments.length,l=Array(s),u=s,c=b(i);u--;)l[u]=arguments[u];var d=s<3&&l[0]!==c&&l[s-1]!==c?[]:a(l,c);return(s-=d.length)<n?m(e,t,p,i.placeholder,void 0,l,d,void 0,void 0,n-s):r(this&&this!==ae&&this instanceof i?o:e,this,l)}}function p(e,t,r,n,o,s,l,f,h,g){var v=t&F,y=t&A,w=t&j,E=t&(R|N),O=t&B,C=w?void 0:d(e);return function x(){for(var T=arguments.length,S=Array(T),P=T;P--;)S[P]=arguments[P];if(E)var k=b(x),I=i(S,k);if(n&&(S=u(S,n,o,E)),s&&(S=c(S,s,l,E)),T-=I,E&&T<g){var A=a(S,k);return m(e,t,p,x.placeholder,r,S,A,f,h,g-T)}var j=y?r:this,D=w?j[e]:e;return T=S.length,f?S=_(S,f):O&&T>1&&S.reverse(),v&&h<T&&(S.length=h),this&&this!==ae&&this instanceof x&&(D=C||d(D)),D.apply(j,S)}}function h(e,t,n,o){var i=t&A,a=d(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=o.length,d=Array(c+l),f=this&&this!==ae&&this instanceof t?a:e;++u<c;)d[u]=o[u];for(;l--;)d[u++]=arguments[++s];return r(f,i?n:this,d)}}function m(e,t,r,n,o,i,a,s,l,u){var c=t&R;t|=c?M:L,(t&=~(c?L:M))&D||(t&=~(A|j));var d=r(e,t,o,c?i:void 0,c?a:void 0,c?void 0:i,c?void 0:a,s,l,u);return d.placeholder=n,ye(d,e,t)}function g(e,t,r,n,o,i,a,s){var l=t&j;if(!l&&"function"!=typeof e)throw new TypeError(k);var u=n?n.length:0;if(u||(t&=~(M|L),n=o=void 0),a=void 0===a?a:ge(S(a),0),s=void 0===s?s:S(s),u-=o?o.length:0,t&L){var c=n,m=o;n=o=void 0}var g=[e,t,r,n,o,c,m,i,a,s];if(e=g[0],t=g[1],r=g[2],n=g[3],o=g[4],!(s=g[9]=null==g[9]?l?0:e.length:ge(g[9]-u,0))&&t&(R|N)&&(t&=~(R|N)),t&&t!=A)b=t==R||t==N?f(e,t,s):t!=M&&t!=(A|M)||o.length?p.apply(void 0,g):h(e,t,r,n);else var b=function(e,t,r){var n=t&A,o=d(e);return function t(){return(this&&this!==ae&&this instanceof t?o:e).apply(n?r:this,arguments)}}(e,t,r);return ye(b,e,t)}function b(e){return e.placeholder}function v(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return l(r)?r:void 0}function y(e){var t=e.match($);return t?t[1].split(Z):[]}function w(e,t){var r=t.length,n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}function E(e,t){return!!(t=null==t?H:t)&&("number"==typeof e||re.test(e))&&e>-1&&e%1==0&&e<t}function _(e,t){for(var r=e.length,n=be(t.length,r),o=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e);n--;){var i=t[n];e[n]=E(i,r)?o[i]:void 0}return e}function O(e,t){return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(q,(function(r){var o="_."+r[0];t&r[1]&&!n(e,o)&&e.push(o)})),e.sort()}function C(e,t,r){var n=g(e,R,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return n.placeholder=C.placeholder,n}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function T(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&pe.call(e)==K}(e))return U;if(x(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=x(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(X,"");var r=Q.test(e);return r||te.test(e)?ne(e.slice(2),r?2:8):J.test(e)?U:+e}(e))===W||e===-W?(e<0?-1:1)*z:e==e?e:0:0===e?e:0}function S(e){var t=T(e),r=t%1;return t==t?r?t-r:t:0}function P(e){return function(){return e}}var k="Expected a function",I="__lodash_placeholder__",A=1,j=2,D=4,R=8,N=16,M=32,L=64,F=128,B=512,W=1/0,H=9007199254740991,z=17976931348623157e292,U=NaN,q=[["ary",F],["bind",A],["bindKey",j],["curry",R],["curryRight",N],["flip",B],["partial",M],["partialRight",L],["rearg",256]],G="[object Function]",V="[object GeneratorFunction]",K="[object Symbol]",X=/^\s+|\s+$/g,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,J=/^[-+]0x[0-9a-f]+$/i,Q=/^0b[01]+$/i,ee=/^\[object .+?Constructor\]$/,te=/^0o[0-7]+$/i,re=/^(?:0|[1-9]\d*)$/,ne=parseInt,oe="object"==typeof t&&t&&t.Object===Object&&t,ie="object"==typeof self&&self&&self.Object===Object&&self,ae=oe||ie||Function("return this")(),se=Function.prototype,le=Object.prototype,ue=ae["__core-js_shared__"],ce=function(){var e=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),de=se.toString,fe=le.hasOwnProperty,pe=le.toString,he=RegExp("^"+de.call(fe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=Object.create,ge=Math.max,be=Math.min,ve=function(){var e=v(Object,"defineProperty"),t=v.name;return t&&t.length>2?e:void 0}(),ye=ve?function(e,t,r){var n=t+"";return ve(e,"toString",{configurable:!0,enumerable:!1,value:P(w(n,O(y(n),r)))})}:function(e){return e};C.placeholder={},e.exports=C}).call(t,r(52))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=r(113);t.threezerotwofour=n(o);var i=r(114);t.apathy=n(i);var a=r(115);t.ashes=n(a);var s=r(116);t.atelierDune=n(s);var l=r(117);t.atelierForest=n(l);var u=r(118);t.atelierHeath=n(u);var c=r(119);t.atelierLakeside=n(c);var d=r(120);t.atelierSeaside=n(d);var f=r(121);t.bespin=n(f);var p=r(122);t.brewer=n(p);var h=r(123);t.bright=n(h);var m=r(124);t.chalk=n(m);var g=r(125);t.codeschool=n(g);var b=r(126);t.colors=n(b);var v=r(127);t.default=n(v);var y=r(128);t.eighties=n(y);var w=r(129);t.embers=n(w);var E=r(130);t.flat=n(E);var _=r(131);t.google=n(_);var O=r(132);t.grayscale=n(O);var C=r(133);t.greenscreen=n(C);var x=r(134);t.harmonic=n(x);var T=r(135);t.hopscotch=n(T);var S=r(136);t.isotope=n(S);var P=r(137);t.marrakesh=n(P);var k=r(138);t.mocha=n(k);var I=r(139);t.monokai=n(I);var A=r(140);t.ocean=n(A);var j=r(141);t.paraiso=n(j);var D=r(142);t.pop=n(D);var R=r(143);t.railscasts=n(R);var N=r(144);t.shapeshifter=n(N);var M=r(145);t.solarized=n(M);var L=r(146);t.summerfruit=n(L);var F=r(147);t.tomorrow=n(F);var B=r(148);t.tube=n(B);var W=r(149);t.twilight=n(W)},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timothe poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},function(e,t,r){function n(e){var t=Math.round(o(e,0,255)).toString(16);return 1==t.length?"0"+t:t}var o=r(40);e.exports=function(e){var t=4===e.length?n(255*e[3]):"";return"#"+n(e[0])+n(e[1])+n(e[2])+t}},function(e,t,r){function n(e){for(var t in l)if(0===e.indexOf(t))return l[t](e)}var o=r(152),i=r(153),a=r(154),s=r(155),l={"#":i,hsl:function(e){var t=o(e),r=s(t);return 4===t.length&&r.push(t[3]),r},rgb:a};n.rgb=a,n.hsl=o,n.hex=i,e.exports=n},function(e,t,r){function n(e,t){switch(e=parseFloat(e),t){case 0:return i(e,0,360);case 1:case 2:return i(e,0,100);case 3:return i(e,0,1)}}var o=r(53),i=r(40);e.exports=function(e){return o(e).map(n)}},function(e,t){e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",r=1;r<e.length;r++){var n=e.charAt(r);t+=n+n}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var r=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(r)}return t}},function(e,t,r){function n(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*i(parseInt(e,10),0,100)/100):i(parseInt(e,10),0,255):i(parseFloat(e),0,1)}var o=r(53),i=r(40);e.exports=function(e){return o(e).map(n)}},function(e,t){e.exports=function(e){var t,r,n,o,i,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[i=255*l,i,i];t=2*l-(r=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var u=0;u<3;u++)(n=a+1/3*-(u-1))<0&&n++,n>1&&n--,i=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,o[u]=255*i;return o}},function(e,t,r){(function(t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function o(e){return y(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?h.call(e):"";return t==s||t==l}(e)}(e)}(e)&&p.call(e,"callee")&&(!g.call(e,"callee")||h.call(e)==a)}(e)||!!(b&&e&&e[b])}var i=9007199254740991,a="[object Arguments]",s="[object Function]",l="[object GeneratorFunction]",u="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=Object.prototype,p=f.hasOwnProperty,h=f.toString,m=d.Symbol,g=f.propertyIsEnumerable,b=m?m.isConcatSpreadable:void 0,v=Math.max,y=Array.isArray,w=function(e,t){return t=v(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=v(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=a,r(e,this,s)}}((function(e){for(var t=(e=function e(t,r,i,a,s){var l=-1,u=t.length;for(i||(i=o),s||(s=[]);++l<u;){var c=t[l];r>0&&i(c)?r>1?e(c,r-1,i,a,s):n(s,c):a||(s[s.length]=c)}return s}(e,1)).length,r=t;r--;)if("function"!=typeof e[r])throw new TypeError("Expected a function");return function(){for(var r=0,n=t?e[r].apply(this,arguments):arguments[0];++r<t;)n=e[r].call(this,n);return n}}));e.exports=w}).call(t,r(52))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=function(e){var t,r,n,o=e[0],i=e[1],a=e[2];return t=1*o+0*i+1.13983*a,r=1*o+-.39465*i+-.5806*a,n=1*o+2.02311*i+0*a,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},t.rgb2yuv=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[.299*t+.587*r+.114*n,-.14713*t+-.28886*r+.436*n,.615*t+-.51499*r+-.10001*n]}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(0)),u=n(r(6)),c=n(r(1)),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return l.default.createElement("div",(0,c.default)(e.theme,"date"),l.default.createElement(u.default,a({type_name:"date"},e)),l.default.createElement("span",a({className:"date-value"},(0,c.default)(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),t}(l.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(0)),u=n(r(6)),c=n(r(1)),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return l.default.createElement("div",(0,c.default)(e.theme,"float"),l.default.createElement(u.default,a({type_name:"float"},e)),this.props.value)}}]),t}(l.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(0)),s=n(r(6)),l=n(r(1)),u=n(r(13)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d.call(r),r.state={collapsed:u.default.get(e.rjvId,e.namespace,"collapsed",!0)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return a.default.createElement("div",(0,l.default)(e.theme,"function"),a.default.createElement(s.default,o({type_name:"function"},e)),a.default.createElement("span",o({},(0,l.default)(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),t}(a.default.PureComponent),d=function(){var e=this;this.toggleCollapsed=function(){e.setState({collapsed:!e.state.collapsed},(function(){u.default.set(e.props.rjvId,e.props.namespace,"collapsed",e.state.collapsed)}))},this.getFunctionDisplay=function(t){var r=e.props;return t?a.default.createElement("span",null,e.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),a.default.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},a.default.createElement("span",null,"{"),a.default.createElement("span",(0,l.default)(r.theme,"ellipsis"),"..."),a.default.createElement("span",null,"}"))):e.props.value.toString().slice(9,-1)}};t.default=c},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,a,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(o(r))for(s=Array.prototype.slice.call(arguments,1),a=(u=r.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),o||(o=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var o=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){e.exports.Dispatcher=r(163)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(164),o=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||n(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||n(!1);for(var t=0;t<e.length;t++){var r=e[t];this._isPending[r]?this._isHandled[r]||n(!1):(this._callbacks[r]||n(!1),this._invokeCallback(r))}},e.prototype.dispatch=function(e){this._isDispatching&&n(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=o},function(e,t,r){"use strict";var n=function(e){};e.exports=function(e,t,r,o,i,a,s,l){if(n(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,i,a,s,l],d=0;(u=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(0)),l=n(r(1)),u=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return s.default.createElement("div",(0,l.default)(this.props.theme,"nan"),"NaN")}}]),t}(s.default.PureComponent);t.default=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(0)),l=n(r(1)),u=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return s.default.createElement("div",(0,l.default)(this.props.theme,"null"),"NULL")}}]),t}(s.default.PureComponent);t.default=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(0)),u=n(r(6)),c=n(r(1)),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return l.default.createElement("div",(0,c.default)(e.theme,"integer"),l.default.createElement(u.default,a({type_name:"int"},e)),this.props.value)}}]),t}(l.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(0)),u=n(r(6)),c=n(r(1)),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props;return l.default.createElement("div",(0,c.default)(e.theme,"regexp"),l.default.createElement(u.default,a({type_name:"regexp"},e)),this.props.value.toString())}}]),t}(l.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(0)),s=n(r(6)),l=r(4),u=n(r(1)),c=n(r(13)),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){c.default.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.state={collapsed:c.default.get(e.rjvId,e.namespace,"collapsed",!0)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=(this.state.collapsed,this.props),t=e.collapseStringsAfterLength,r=e.theme,n=e.value,i={style:{cursor:"default"}};return"integer"===(0,l.toType)(t)&&n.length>t&&(i.style.cursor="pointer",this.state.collapsed&&(n=a.default.createElement("span",null,n.substring(0,t),a.default.createElement("span",(0,u.default)(r,"ellipsis")," ...")))),a.default.createElement("div",(0,u.default)(r,"string"),a.default.createElement(s.default,o({type_name:"string"},e)),a.default.createElement("span",o({className:"string-value"},i,{onClick:this.toggleCollapsed}),'"',n,'"'))}}]),t}(a.default.PureComponent);t.default=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(r(0)),l=n(r(1)),u=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return s.default.createElement("div",(0,l.default)(this.props.theme,"undefined"),"undefined")}}]),t}(s.default.PureComponent);t.default=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(0)),s=n(r(172)),l=n((r(4),r(14))),u=n(r(176)),c=n(r(54)),d=n(r(55)),f=r(42),p=r(15),h=n(r(1)),m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g.call(r),r.state={editMode:!1,editValue:"",renameKey:!1,parsedInput:{type:!1,value:null}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.variable,n=(t.src,t.singleIndent),i=t.type,s=t.theme,l=t.namespace,u=t.indentWidth,c=t.enableClipboard,f=t.onEdit,p=t.onDelete,m=t.onSelect,g=(t.rjvId,this.state.editMode);return a.default.createElement("div",o({},(0,h.default)(s,"objectKeyVal",{paddingLeft:u*n}),{className:"variable-row",key:r.name}),"array"==i?a.default.createElement("span",o({},(0,h.default)(s,"array-key"),{key:r.name+"_"+l}),r.name,a.default.createElement("div",(0,h.default)(s,"colon"),":")):a.default.createElement("span",null,a.default.createElement("span",o({},(0,h.default)(s,"object-name"),{className:"object-key",key:r.name+"_"+l}),a.default.createElement("span",{style:{verticalAlign:"top"}},'"'),a.default.createElement("span",{style:{display:"inline-block"}},r.name),a.default.createElement("span",{style:{verticalAlign:"top"}},'"')),a.default.createElement("span",(0,h.default)(s,"colon"),":")),a.default.createElement("div",o({className:"variable-value",onClick:!1===m&&!1===f?null:function(t){var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(l));(t.ctrlKey||t.metaKey)&&!1!==f?e.prepopInput(r):!1!==m&&(n.shift(),m(o({},r,{namespace:n})))}},(0,h.default)(s,"variableValue",{cursor:!1===m?"default":"pointer"})),this.getValue(r,g)),c?a.default.createElement(d.default,o({hidden:g,src:r.value,clickCallback:c},{theme:s,namespace:l})):null,!1!==f&&0==g?this.getEditIcon():null,!1!==p&&0==g?this.getRemoveIcon():null)}}]),t}(a.default.PureComponent),g=function(){var e=this;this.getEditIcon=function(){var t=e.props,r=t.variable,n=t.theme;return a.default.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top"}},a.default.createElement(p.Edit,o({className:"click-to-edit-icon"},(0,h.default)(n,"editVarIcon"),{onClick:function(){e.prepopInput(r)}})))},this.prepopInput=function(t){if(!1!==e.props.onEdit){var r=(0,c.default)(t.value),n=(0,u.default)(r);e.setState({editMode:!0,editValue:r,parsedInput:{type:n.type,value:n.value}})}},this.getRemoveIcon=function(){var t=e.props,r=t.variable,n=t.namespace,i=t.theme,s=t.rjvId;return a.default.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top"}},a.default.createElement(p.RemoveCircle,o({className:"click-to-remove-icon"},(0,h.default)(i,"removeVarIcon"),{onClick:function(){l.default.dispatch({name:"VARIABLE_REMOVED",rjvId:s,data:{name:r.name,namespace:n,existing_value:r.value,variable_removed:!0}})}})))},this.getValue=function(t,r){var n=!r&&t.type,i=e.props;switch(n){case!1:return e.getEditInput();case"string":return a.default.createElement(f.JsonString,o({value:t.value},i));case"integer":return a.default.createElement(f.JsonInteger,o({value:t.value},i));case"float":return a.default.createElement(f.JsonFloat,o({value:t.value},i));case"boolean":return a.default.createElement(f.JsonBoolean,o({value:t.value},i));case"function":return a.default.createElement(f.JsonFunction,o({value:t.value},i));case"null":return a.default.createElement(f.JsonNull,i);case"nan":return a.default.createElement(f.JsonNan,i);case"undefined":return a.default.createElement(f.JsonUndefined,i);case"date":return a.default.createElement(f.JsonDate,o({value:t.value},i));case"regexp":return a.default.createElement(f.JsonRegexp,o({value:t.value},i));default:return a.default.createElement("div",{className:"object-value"},JSON.stringify(t.value))}},this.getEditInput=function(){var t=e.props.theme,r=e.state.editValue;return a.default.createElement("div",null,a.default.createElement(s.default,o({type:"text",inputRef:function(e){return e&&e.focus()},value:r,className:"variable-editor",onChange:function(t){var r=t.target.value,n=(0,u.default)(r);e.setState({editValue:r,parsedInput:{type:n.type,value:n.value}})},onKeyDown:function(t){switch(t.key){case"Escape":e.setState({editMode:!1,editValue:""});break;case"Enter":(t.ctrlKey||t.metaKey)&&e.submitEdit(!0)}t.stopPropagation()},placeholder:"update this value"},(0,h.default)(t,"edit-input"))),a.default.createElement("div",(0,h.default)(t,"edit-icon-container"),a.default.createElement(p.RemoveCircle,o({className:"edit-cancel"},(0,h.default)(t,"cancel-icon"),{onClick:function(){e.setState({editMode:!1,editValue:""})}})),a.default.createElement(p.CheckCircle,o({className:"edit-check string-value"},(0,h.default)(t,"check-icon"),{onClick:function(){e.submitEdit()}})),a.default.createElement("div",null,e.showDetected())))},this.submitEdit=function(t){var r=e.props,n=r.variable,o=r.namespace,i=r.rjvId,a=e.state,s=a.editValue,u=a.parsedInput,c=s;t&&u.type&&(c=u.value),e.setState({editMode:!1}),l.default.dispatch({name:"VARIABLE_UPDATED",rjvId:i,data:{name:n.name,namespace:o,existing_value:n.value,new_value:c,variable_removed:!1}})},this.showDetected=function(){var t=e.props,r=t.theme,n=(t.variable,t.namespace,t.rjvId,e.state.parsedInput),i=(n.type,n.value,e.getDetectedInput());if(i)return a.default.createElement("div",null,a.default.createElement("div",(0,h.default)(r,"detected-row"),i,a.default.createElement(p.CheckCircle,{className:"edit-check detected",style:o({verticalAlign:"top",paddingLeft:"3px"},(0,h.default)(r,"check-icon").style),onClick:function(){e.submitEdit(!0)}})))},this.getDetectedInput=function(){var t=e.state.parsedInput,r=t.type,n=t.value,i=e.props,s=i.theme;if(!1!==r)switch(r.toLowerCase()){case"object":return a.default.createElement("span",null,a.default.createElement("span",{style:o({},(0,h.default)(s,"brace").style,{cursor:"default"})},"{"),a.default.createElement("span",{style:o({},(0,h.default)(s,"ellipsis").style,{cursor:"default"})},"..."),a.default.createElement("span",{style:o({},(0,h.default)(s,"brace").style,{cursor:"default"})},"}"));case"array":return a.default.createElement("span",null,a.default.createElement("span",{style:o({},(0,h.default)(s,"brace").style,{cursor:"default"})},"["),a.default.createElement("span",{style:o({},(0,h.default)(s,"ellipsis").style,{cursor:"default"})},"..."),a.default.createElement("span",{style:o({},(0,h.default)(s,"brace").style,{cursor:"default"})},"]"));case"string":return a.default.createElement(f.JsonString,o({value:n},i));case"integer":return a.default.createElement(f.JsonInteger,o({value:n},i));case"float":return a.default.createElement(f.JsonFloat,o({value:n},i));case"boolean":return a.default.createElement(f.JsonBoolean,o({value:n},i));case"function":return a.default.createElement(f.JsonFunction,o({value:n},i));case"null":return a.default.createElement(f.JsonNull,i);case"nan":return a.default.createElement(f.JsonNan,i);case"undefined":return a.default.createElement(f.JsonUndefined,i);case"date":return a.default.createElement(f.JsonDate,o({value:new Date(n)},i))}}};t.default=m},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t,r,n,o){void 0===r&&(r=!1),void 0===n&&(n=null),void 0===o&&(o=null),null===m.parentNode&&document.body.appendChild(m);var a=i(e,t,r);if(null===a)return null;var s=a.paddingSize,l=a.borderSize,u=a.boxSizing,c=a.sizingStyle;Object.keys(c).forEach((function(e){m.style[e]=c[e]})),g(m),m.value=e.value||e.placeholder||"x";var d=-1/0,f=1/0,p=m.scrollHeight;"border-box"===u?p+=l:"content-box"===u&&(p-=s),m.value="x";var h=m.scrollHeight-s;return null===n&&null===o||(null!==n&&(d=h*n,"border-box"===u&&(d=d+s+l),p=Math.max(d,p)),null!==o&&(f=h*o,"border-box"===u&&(f=f+s+l),p=Math.min(f,p))),{height:p,minHeight:d,maxHeight:f,rowCount:Math.floor(p/h)}}function i(e,t,r){if(void 0===r&&(r=!1),r&&h[t])return h[t];var n=window.getComputedStyle(e);if(null===n)return null;var o=p.reduce((function(e,t){return e[t]=n.getPropertyValue(t),e}),{}),i=o["box-sizing"];if(""===i)return null;d&&"border-box"===i&&(o.width=parseFloat(o.width)+parseFloat(n["border-right-width"])+parseFloat(n["border-left-width"])+parseFloat(n["padding-right"])+parseFloat(n["padding-left"])+"px");var a={sizingStyle:o,paddingSize:parseFloat(o["padding-bottom"])+parseFloat(o["padding-top"]),borderSize:parseFloat(o["border-bottom-width"])+parseFloat(o["border-top-width"]),boxSizing:i};return r&&(h[t]=a),a}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=r.n(a),l=r(173),u=r.n(l),c=(Object.setPrototypeOf,"object"==typeof Reflect&&Reflect.construct,"undefined"!=typeof window&&"undefined"!=typeof document),d=!!c&&!!document.documentElement.currentStyle,f={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},p=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],h={},m=c&&document.createElement("textarea"),g=function(e){Object.keys(f).forEach((function(t){e.style.setProperty(t,f[t],"important")}))};c&&g(m);var b=function(e){return void 0===e&&(e=0),function(){return++e}}(),v=function(){},y=c&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],w=y[0],E=y[1],_=function(e){function t(t){var r;return(r=e.call(this,t)||this)._resizeLock=!1,r._onRootDOMNode=function(e){r._rootDOMNode=e,r.props.inputRef(e)},r._onChange=function(e){r._controlled||r._resizeComponent(),r.props.onChange(e)},r._resizeComponent=function(e){if(void 0===e&&(e=v),void 0!==r._rootDOMNode){var t=o(r._rootDOMNode,r._uid,r.props.useCacheForDOMMeasurements,r.props.minRows,r.props.maxRows);if(null!==t){var n=t.height,i=t.minHeight,a=t.maxHeight,s=t.rowCount;r.rowCount=s,r.state.height===n&&r.state.minHeight===i&&r.state.maxHeight===a?e():r.setState({height:n,minHeight:i,maxHeight:a},e)}else e()}else e()},r.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},r._uid=b(),r._controlled="string"==typeof t.value,r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var r=t.prototype;return r.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=n({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),s.a.createElement("textarea",n({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},r.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent((function(){return e._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener)},r.componentDidUpdate=function(e,t){var r=this;e!==this.props&&(this._clearNextFrame(),this._onNextFrameActionId=w((function(){return r._resizeComponent()}))),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},r.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),function(e){delete h[e]}(this._uid)},r._clearNextFrame=function(){E(this._onNextFrameActionId)},t}(s.a.Component);_.propTypes={inputRef:u.a.func,maxRows:u.a.number,minRows:u.a.number,onChange:u.a.func,onHeightChange:u.a.func,useCacheForDOMMeasurements:u.a.bool,value:u.a.string},_.defaultProps={inputRef:v,onChange:v,onHeightChange:v,useCacheForDOMMeasurements:!1},t.default=_},function(e,t,r){e.exports=r(174)()},function(e,t,r){"use strict";function n(){}var o=r(175);e.exports=function(){function e(e,t,r,n,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";function n(e,t){return{type:e,value:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return n("array",JSON.parse(e));if("{"===e[0])return n("object",JSON.parse(e));if(e.match(/\-?\d+\.\d+/)&&e.match(/\-?\d+\.\d+/)[0]===e)return n("float",parseFloat(e));if(e.match(/\-?\d+/)&&e.match(/\-?\d+/)[0]===e)return n("integer",parseInt(e))}catch(e){}switch(e=e.toLowerCase()){case"undefined":return n("undefined",void 0);case"nan":return n("nan",NaN);case"null":return n("null",null);case"true":return n("boolean",!0);case"false":return n("boolean",!1);default:if(e=Date.parse(e))return n("date",new Date(e))}return n(!1,null)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(0)),u=n(r(14)),c=n(r(13)),d=n(r(178)),f=(n(r(1)),function(e){function t(){var e,r,n;o(this,t);for(var s=arguments.length,l=Array(s),d=0;d<s;d++)l[d]=arguments[d];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.isValid=function(e){var t=n.props.rjvId,r=c.default.get(t,"action","new-key-request");return""!=e&&-1===Object.keys(r.existing_value).indexOf(e)},n.submit=function(e){var t=n.props.rjvId,r=c.default.get(t,"action","new-key-request");r.new_value=a({},r.existing_value),r.new_value[e]=n.props.defaultValue,u.default.dispatch({name:"VARIABLE_ADDED",rjvId:t,data:r})},i(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.active,r=e.theme,n=e.rjvId;return t?l.default.createElement(d.default,{rjvId:n,theme:r,isValid:this.isValid,submit:this.submit}):null}}]),t}(l.default.PureComponent));t.default=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(0)),s=n(r(14)),l=r(15),u=n(r(1)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.closeModal=function(){s.default.dispatch({rjvId:r.props.rjvId,name:"RESET"})},r.submit=function(){r.props.submit(r.state.input)},r.state={input:e.input?e.input:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.theme,n=t.rjvId,i=t.isValid,c=this.state.input,d=i(c);return a.default.createElement("div",o({className:"key-modal-request"},(0,u.default)(r,"key-modal-request"),{onClick:this.closeModal}),a.default.createElement("div",o({},(0,u.default)(r,"key-modal"),{onClick:function(e){e.stopPropagation()}}),a.default.createElement("div",(0,u.default)(r,"key-modal-label"),"Key Name:"),a.default.createElement("div",{style:{position:"relative"}},a.default.createElement("input",o({},(0,u.default)(r,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:c,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){d&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),d?a.default.createElement(l.CheckCircle,o({},(0,u.default)(r,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),a.default.createElement("span",(0,u.default)(r,"key-modal-cancel"),a.default.createElement(l.Add,o({},(0,u.default)(r,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){s.default.dispatch({rjvId:n,name:"RESET"})}})))))}}]),t}(a.default.PureComponent);t.default=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(0)),u=n(r(14)),c=(n(r(13)),r(15)),d=n(r(1)),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.message,r=e.active,n=e.theme,o=e.rjvId;return r?l.default.createElement("div",a({className:"validation-failure"},(0,d.default)(n,"validation-failure"),{onClick:function(){u.default.dispatch({rjvId:o,name:"RESET"})}}),l.default.createElement("span",(0,d.default)(n,"validation-failure-label"),t),l.default.createElement(c.Add,(0,d.default)(n,"validation-failure-clear"))):null}}]),t}(l.default.PureComponent);t.default=f},function(e,t,r){var n=r(181);"string"==typeof n&&(n=[[e.i,n,""]]);var o={transform:void 0};r(183)(n,o),n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(182)(!1)).push([e.i,".react-json-view .copy-to-clipboard-container{vertical-align:top;display:none}.react-json-view .click-to-add,.react-json-view .click-to-edit,.react-json-view .click-to-remove{display:none}.react-json-view .object-content .variable-row:hover .click-to-edit,.react-json-view .object-content .variable-row:hover .click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-add,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.copy-to-clipboard-container,.react-json-view .variable-row:hover .copy-to-clipboard-container{display:inline-block}",""])},function(e,t){function r(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n);return[r].concat(n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}))).concat([o]).join("\n")}return[r].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=r(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=h[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(c(n.parts[i],t))}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(c(n.parts[i],t));h[n.id]={id:n.id,refs:1,parts:a}}}}function o(e,t){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function i(e,t){var r=g(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=y[y.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),i(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),i(e,t),t}function u(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function c(e,t){var r,n,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var u=v++;r=b||(b=s(t)),n=d.bind(null,r,u,!1),o=d.bind(null,r,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=l(t),n=p.bind(null,r,t),o=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(t),n=f.bind(null,r),o=function(){a(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function d(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,t,r){var n=r.css,o=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=w(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),g=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e.call(this,r)),t[r]}}((function(e){return document.querySelector(e)})),b=null,v=0,y=[],w=r(184);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=o(e,t);return n(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var s=r[a];(l=h[s.id]).refs--,i.push(l)}for(e&&n(o(e,t),t),a=0;a<i.length;a++){var l;if(0===(l=i[a]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete h[l.id]}}}};var E=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}}]))},function(e,t,r){var n=r(1),o=r(178),i=r(2),a=r(927),s=n.createElement,l=r(929),u=r(933),c=r(934),d=r(398),f=r(936),p=r(397);e.exports=o({propTypes:{data:i.any.isRequired,search:i.oneOfType([i.func,i.bool]),searchOptions:i.shape({debounceTime:i.number}),onClick:i.func,validateQuery:i.func,isExpanded:i.func,filterOptions:i.shape({cacheResults:i.bool,ignoreCase:i.bool}),query:i.string,verboseShowOriginal:i.bool},getDefaultProps:function(){return{data:null,search:u,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:p,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,r=""!==t.query&&e.validateQuery(t.query),n=r?t.filterer(t.query):e.data,o=r&&d(n);return s("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?s("div",{className:"json-inspector__not-found"},"Nothing found"):s(l,{data:n,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:r?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return s("div",{className:"json-inspector__toolbar"},s(e,{onChange:a(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions),"string"==typeof e.query&&e.query!==this.state.query&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:c(e,t)})},getOriginal:function(e){return f(this.props.data,e)}})},function(e,t,r){"use strict";var n=r(186),o=r(925),i=r(926);e.exports=function(e,t,r){var a=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var r=0;r<t.length;r++)d(e,t[r])},childContextTypes:function(e,t){e.childContextTypes=n({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=n({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=n({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var r in t){var n=t[r];if(t.hasOwnProperty(r)){if(i(!(r in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r),r in e){var o=l.hasOwnProperty(r)?l[r]:null;return i("DEFINE_MANY_MERGED"===o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),void(e[r]=p(e[r],n))}e[r]=n}}}(e,t)},autobind:function(){}};function c(e,t){var r=s.hasOwnProperty(t)?s[t]:null;v.hasOwnProperty(t)&&i("OVERRIDE_BASE"===r,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===r||"DEFINE_MANY_MERGED"===r,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,r){if(r){i("function"!=typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,o=n.__reactAutoBindPairs;for(var a in r.hasOwnProperty("mixins")&&u.mixins(e,r.mixins),r)if(r.hasOwnProperty(a)&&"mixins"!==a){var l=r[a],d=n.hasOwnProperty(a);if(c(d,a),u.hasOwnProperty(a))u[a](e,l);else{var f=s.hasOwnProperty(a);if("function"==typeof l&&!f&&!d&&!1!==r.autobind)o.push(a,l),n[a]=l;else if(d){var m=s[a];i(f&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,a),"DEFINE_MANY_MERGED"===m?n[a]=p(n[a],l):"DEFINE_MANY"===m&&(n[a]=h(n[a],l))}else n[a]=l}}}else;}function f(e,t){for(var r in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(r)&&(i(void 0===e[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r),e[r]=t[r]);return e}function p(e,t){return function(){var r=e.apply(this,arguments),n=t.apply(this,arguments);if(null==r)return n;if(null==n)return r;var o={};return f(o,r),f(o,n),o}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},y=function(){};return n(y.prototype,e.prototype,v),function(e){var t=function(e,n,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[n]=m(e,o)}}(this),this.props=e,this.context=n,this.refs=o,this.updater=a||r,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var n in t.prototype=new y,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,b),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[n]||(t.prototype[n]=null);return t}}},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,i,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,r){var n=r(928);e.exports=function(e,t,r){var o,i,a,s,l;function u(){var c=n()-s;c<t&&c>0?o=setTimeout(u,t-c):(o=null,r||(l=e.apply(a,i),o||(a=i=null)))}return null==t&&(t=100),function(){a=this,i=arguments,s=n();var c=r&&!o;return o||(o=setTimeout(u,t)),c&&(l=e.apply(a,i),a=i=null),l}}},function(e,t){e.exports=Date.now||function(){return(new Date).getTime()}},function(e,t,r){var n=r(1),o=r(178),i=r(930),a=r(931),s=r(255),l=r(396),u=r(932),c=n.createElement,d=o({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+a(),t=this.props,r={path:this.keypath(),key:t.label.toString(),value:t.data},n=this._onClick.bind(this,r);return c("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},c("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),c("label",{className:"json-inspector__line",htmlFor:e,onClick:n},c("div",{className:"json-inspector__flatpath"},r.path),c("span",{className:"json-inspector__key"},this.format(r.key),":",this.renderInteractiveLabel(r.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=s(e);switch(t){case"Array":return c("span",{className:"json-inspector__value json-inspector__value_helper"},"[] "+f(e.length));case"Object":return c("span",{className:"json-inspector__value json-inspector__value_helper"},"{} "+f(Object.keys(e).length));default:return c("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),r=this.data();return this.state.expanded&&!l(r)?Object.keys(r).map((function(n){var o=r[n],i=!this.state.original||!!e.verboseShowOriginal&&e.query;return c(d,{data:o,label:n,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:p(n,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})}),this):null},renderShowOriginalButton:function(){var e=this.props;return l(e.data)||this.state.original||!e.getOriginal||!e.query||h(this.keypath(),e.query)?null:c("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return"function"==typeof this.props.interactiveLabel?c(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!h(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(".root.".length)},data:function(){return this.state.original||this.props.data},format:function(e){return c(u,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),l(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return!!e.root||(e.query?!h(t,e.query)&&"function"==typeof e.getOriginal:e.isExpanded(t,e.data))}});function f(e){return e+(1===e?" item":" items")}function p(e,t){return l(t)?e+":"+i(String(t)):e+"["+s(t)+"]"}function h(e,t){return-1!==e.indexOf(t)}e.exports=d},function(e,t,r){"use strict";e.exports=function(e){for(var t=function(e){var t,r=1+(e.length+8>>6),n=new Array(16*r);for(t=0;t<16*r;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(8*e.length+t)%4*8;n[t>>2]|=128<<(8*e.length+t)%4*8;var o=8*e.length;return n[16*r-2]=255&o,n[16*r-2]|=(o>>>8&255)<<8,n[16*r-2]|=(o>>>16&255)<<16,n[16*r-2]|=(o>>>24&255)<<24,n}(e),r=1732584193,n=-271733879,o=-1732584194,i=271733878,l=0;l<t.length;l+=16){var p=r,h=n,m=o,g=i;r=u(r,n,o,i,t[l+0],7,-680876936),i=u(i,r,n,o,t[l+1],12,-389564586),o=u(o,i,r,n,t[l+2],17,606105819),n=u(n,o,i,r,t[l+3],22,-1044525330),r=u(r,n,o,i,t[l+4],7,-176418897),i=u(i,r,n,o,t[l+5],12,1200080426),o=u(o,i,r,n,t[l+6],17,-1473231341),n=u(n,o,i,r,t[l+7],22,-45705983),r=u(r,n,o,i,t[l+8],7,1770035416),i=u(i,r,n,o,t[l+9],12,-1958414417),o=u(o,i,r,n,t[l+10],17,-42063),n=u(n,o,i,r,t[l+11],22,-1990404162),r=u(r,n,o,i,t[l+12],7,1804603682),i=u(i,r,n,o,t[l+13],12,-40341101),o=u(o,i,r,n,t[l+14],17,-1502002290),n=u(n,o,i,r,t[l+15],22,1236535329),r=c(r,n,o,i,t[l+1],5,-165796510),i=c(i,r,n,o,t[l+6],9,-1069501632),o=c(o,i,r,n,t[l+11],14,643717713),n=c(n,o,i,r,t[l+0],20,-373897302),r=c(r,n,o,i,t[l+5],5,-701558691),i=c(i,r,n,o,t[l+10],9,38016083),o=c(o,i,r,n,t[l+15],14,-660478335),n=c(n,o,i,r,t[l+4],20,-405537848),r=c(r,n,o,i,t[l+9],5,568446438),i=c(i,r,n,o,t[l+14],9,-1019803690),o=c(o,i,r,n,t[l+3],14,-187363961),n=c(n,o,i,r,t[l+8],20,1163531501),r=c(r,n,o,i,t[l+13],5,-1444681467),i=c(i,r,n,o,t[l+2],9,-51403784),o=c(o,i,r,n,t[l+7],14,1735328473),n=c(n,o,i,r,t[l+12],20,-1926607734),r=d(r,n,o,i,t[l+5],4,-378558),i=d(i,r,n,o,t[l+8],11,-2022574463),o=d(o,i,r,n,t[l+11],16,1839030562),n=d(n,o,i,r,t[l+14],23,-35309556),r=d(r,n,o,i,t[l+1],4,-1530992060),i=d(i,r,n,o,t[l+4],11,1272893353),o=d(o,i,r,n,t[l+7],16,-155497632),n=d(n,o,i,r,t[l+10],23,-1094730640),r=d(r,n,o,i,t[l+13],4,681279174),i=d(i,r,n,o,t[l+0],11,-358537222),o=d(o,i,r,n,t[l+3],16,-722521979),n=d(n,o,i,r,t[l+6],23,76029189),r=d(r,n,o,i,t[l+9],4,-640364487),i=d(i,r,n,o,t[l+12],11,-421815835),o=d(o,i,r,n,t[l+15],16,530742520),n=d(n,o,i,r,t[l+2],23,-995338651),r=f(r,n,o,i,t[l+0],6,-198630844),i=f(i,r,n,o,t[l+7],10,1126891415),o=f(o,i,r,n,t[l+14],15,-1416354905),n=f(n,o,i,r,t[l+5],21,-57434055),r=f(r,n,o,i,t[l+12],6,1700485571),i=f(i,r,n,o,t[l+3],10,-1894986606),o=f(o,i,r,n,t[l+10],15,-1051523),n=f(n,o,i,r,t[l+1],21,-2054922799),r=f(r,n,o,i,t[l+8],6,1873313359),i=f(i,r,n,o,t[l+15],10,-30611744),o=f(o,i,r,n,t[l+6],15,-1560198380),n=f(n,o,i,r,t[l+13],21,1309151649),r=f(r,n,o,i,t[l+4],6,-145523070),i=f(i,r,n,o,t[l+11],10,-1120210379),o=f(o,i,r,n,t[l+2],15,718787259),n=f(n,o,i,r,t[l+9],21,-343485551),r=a(r,p),n=a(n,h),o=a(o,m),i=a(i,g)}return s(r)+s(n)+s(o)+s(i)};function n(e,t){return(e>>>1|t>>>1)<<1|(1&e|1&t)}function o(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t}function i(e,t){return(e>>>1&t>>>1)<<1|1&e&t}function a(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e){var t,r="";for(t=0;t<=3;t++)r+="0123456789abcdef".charAt(e>>8*t+4&15)+"0123456789abcdef".charAt(e>>8*t&15);return r}function l(e,t,r,n,o,i){return a((s=a(a(t,e),a(n,i)))<<(l=o)|s>>>32-l,r);var s,l}function u(e,t,r,o,a,s,u){return l(n(i(t,r),i(~t,o)),e,t,a,s,u)}function c(e,t,r,o,a,s,u){return l(n(i(t,o),i(r,~o)),e,t,a,s,u)}function d(e,t,r,n,i,a,s){return l(o(o(t,r),n),e,t,i,a,s)}function f(e,t,r,i,a,s,u){return l(o(r,n(t,~i)),e,t,a,s,u)}},function(e,t){var r=Math.ceil(10*Math.random());e.exports=function(){return++r}},function(e,t,r){var n=r(1),o=r(178),i=n.createElement;e.exports=o({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||-1===t)return i("span",null,e.string);var r=e.highlight.source.length,n=e.string.substr(t,r);return i("span",null,e.string.split(e.highlight).map((function(e,t){return i("span",{key:t},t>0?i("span",{className:"json-inspector__hl"},n):null,e)})))}})},function(e,t,r){var n=r(1),o=r(178),i=n.createElement,a=r(397);e.exports=o({getDefaultProps:function(){return{onChange:a}},render:function(){return i("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}})},function(e,t,r){var n=r(935),o=Object.keys,i=r(396),a=r(398);function s(e,t,r){return o(e).reduce((function(o,u){var c,d=e[u];return i(d)?(l(t,u,r)||l(t,d,r))&&(o[u]=d):l(t,u,r)?o[u]=d:(c=s(d,t,r),a(c)||n(o,function(e,t){var r={};return r[e]=t,r}(u,c))),o}),{})}function l(e,t,r){if(t){var n=String(t),o=e;return r.ignoreCase&&(n=n.toLowerCase(),o=o.toLowerCase()),-1!==n.indexOf(o)}}e.exports=function(e,t){t||(t={cacheResults:!0});var r={};return function(n){if(!t.cacheResults)return s(e,n,t);var o;if(!r[n])for(var i=n.length-1;i>0;i-=1)if(o=n.substr(0,i),r[o]){r[n]=s(r[o],n,t);break}return r[n]||(r[n]=s(e,n,t)),r[n]}}},function(e,t,r){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var r,o,i=n(e),a=1;a<arguments.length;a++){r=arguments[a],o=Object.keys(Object(r));for(var s=0;s<o.length;s++)i[o[s]]=r[o[s]]}return i}},function(e,t,r){var n=r(255);function o(e){return parseInt(e,10)}e.exports=function e(t,r){var i=r.split("."),a=i.shift();if(!a)return t;var s=n(t);return"Array"===s&&t[o(a)]?e(t[o(a)],i.join(".")):"Object"===s&&t[a]?e(t[a],i.join(".")):void 0}},function(e,t,r){var n=r(938);"string"==typeof n&&(n=[[e.i,n,""]]);r(400)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(399)(!1)).push([e.i,"@charset \"UTF-8\";\n.json-inspector,\n.json-inspector__selection {\n  font: 14px/1.4 Consolas, monospace; }\n\n.json-inspector__leaf {\n  padding-left: 10px; }\n\n.json-inspector__line {\n  display: block;\n  position: relative;\n  cursor: default; }\n\n.json-inspector__line:after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -200px;\n  right: -50px;\n  bottom: 0;\n  z-index: -1;\n  pointer-events: none; }\n\n.json-inspector__line:hover:after {\n  background: rgba(0, 0, 0, 0.06); }\n\n.json-inspector__leaf_composite > .json-inspector__line {\n  cursor: pointer; }\n\n.json-inspector__radio,\n.json-inspector__flatpath {\n  display: none; }\n\n.json-inspector__value {\n  margin-left: 5px; }\n\n.json-inspector__search {\n  min-width: 300px;\n  margin: 0 10px 10px 0;\n  padding: 2px; }\n\n.json-inspector__key {\n  color: #505050; }\n\n.json-inspector__value_helper,\n.json-inspector__value_null,\n.json-inspector__not-found {\n  color: #b0b0b0; }\n\n.json-inspector__value_string {\n  color: #798953; }\n\n.json-inspector__value_boolean {\n  color: #75b5aa; }\n\n.json-inspector__value_number {\n  color: #d28445; }\n\n.json-inspector__hl {\n  background: #ff0;\n  box-shadow: 0 -1px 0 2px #ff0;\n  border-radius: 2px; }\n\n.json-inspector__show-original {\n  display: inline-block;\n  padding: 0 6px;\n  color: #666;\n  cursor: pointer; }\n\n.json-inspector__show-original:hover {\n  color: #111; }\n\n.json-inspector__show-original:before {\n  content: ''; }\n\n.json-inspector__show-original:hover:after {\n  content: ' expand'; }\n",""])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,r]=(0,o.useState)(!1);return o.default.createElement("div",{className:(0,i.default)("image-picker__dropzone",{dropping:t}),onDrop:e=>{e.stopPropagation(),e.preventDefault(),r(!1);const{files:t}=e.dataTransfer;if(t&&t.length>0)for(const e of t)a.ipcRenderer.send("dev-open-analyzer-file",e.name,e.path)},onDragOver:e=>{e.preventDefault(),r(!0)},style:{height:"20px",width:"200px",border:"1px solid orange",display:"inline-block",margin:0,marginLeft:"10px"}})};var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),i=(n=r(3))&&n.__esModule?n:{default:n},a=r(14);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=s(r(1060)),i=s(r(38)),a=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends n.Component{constructor(...e){super(...e),u(this,"state",{showTour:!0}),u(this,"steps",[{selector:"",content:(0,a.default)("Since this is your first time using Plottr, I'll give you a guided tour if you like.")},{selector:".sticky-table-row:nth-child(1) .sticky-table-cell:nth-child(3) .scene__body",content:(0,a.default)("This is a scene or chapter. You can change its name by clicking on it")},{selector:".insert-scene-wrapper.append-scene",content:(0,a.default)("Add new scenes or chapters here")},{selector:".sticky-table-row:nth-child(1) .sticky-table-cell:nth-child(2) .scene-list__insert",content:(0,a.default)("Or hover here to insert between scenes")},{selector:".sticky-table-row:nth-child(2)",content:(0,a.default)("This is a plotline")},{selector:".sticky-table-row:nth-child(2) .sticky-table-cell:nth-child(1) .line-title__cell",content:(0,a.default)("You can change its name or color by hovering over it (disabled for the tour)"),stepInteraction:!1},{selector:".sticky-table-row:nth-child(2) .sticky-table-cell:nth-child(3) .card__cell",content:(0,a.default)("Add cards to the timeline so you can write notes about your scenes. Click on the card to add more details")},{selector:".sticky-table-row:nth-child(3) .sticky-table-cell:nth-child(1) .line-list__append-line",content:(0,a.default)("Add more plotlines here")},{selector:".subnav__container .container ul li:nth-child(5)",content:(0,a.default)("You can export everything to a Word document")},{selector:".nav.navbar-nav li:nth-child(3)",content:(0,a.default)("See the outline here")},{selector:".nav.navbar-nav li:nth-child(4)",content:(0,a.default)("Keep all your notes here (brainstorming, world-building, etc.)")},{selector:".nav.navbar-nav li:nth-child(5)",content:(0,a.default)("Keep your character sheets here")},{selector:".nav.navbar-nav li:nth-child(6)",content:(0,a.default)("Keep info about your locations here")},{selector:".nav.navbar-nav li:nth-child(7)",content:(0,a.default)("Tags can be used for organization")}]),u(this,"closeTheTour",()=>{i.default.set("showTheTour",!1),this.setState({showTour:!1})})}render(){return n.default.createElement(o.default,{isOpen:this.state.showTour,steps:this.steps,accentColor:"#f9703e",className:"tour-helper",closeWithMask:!1,rounded:4,onBeforeClose:this.closeTheTour,onRequestClose:()=>this.setState({showTour:!1}),lastStepNextButton:n.default.createElement("div",{className:"btn btn-success"},(0,a.default)("Done"))})}}t.default=c},function(e,t){function r(){var e=this;document.addEventListener("keydown",(function(t){e.focusByKeyboard=!0}),!0),document.addEventListener("mousedown",(function(t){e.focusByKeyboard=!1}),!0),document.addEventListener("focus",(function(t){e.updateVisibility()}),!0),document.addEventListener("focusout",(function(t){window.setTimeout((function(){document.hasFocus()||(e.focusByKeyboard=!0,e.updateVisibility())}),0)})),this.updateVisibility()}r.prototype={focusByKeyboard:!0,updateVisibility:function(){this.hidden=!this.focusByKeyboard},set hidden(e){document.documentElement.classList.toggle("focus-outline-hidden",e)},get hidden(){return document.documentElement.classList.contains("focus-outline-hidden")}},new r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(401),a=(n=i)&&n.__esModule?n:{default:n};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,r=void 0===t?'[href^="#"]:not([href="#"]':t,n=e.match,i=void 0===n?function(e){return document.getElementById(e.hash.substring(1))}:n,s=e.hashChange,l=void 0===s||s,u=e.scrollSmoothConfig,c=document.querySelectorAll(r),d=function(e){e.preventDefault();var t=i(e.target);t&&(l&&history.replaceState(null,null,"#"+t.id),(0,a.default)(t,o({},u)))};Array.from(c).map((function(e){e.addEventListener("click",d,!1)}))},e.exports=t.default},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.activeClass,r=void 0===t?"active":t,o=e.query,i=void 0===o?'[href^="#"]:not([href="#"]':o,a=e.threshold,s=void 0===a?[.25,.5,.75]:a,l=e.detectType,u=void 0===l?"max":l,c={threshold:s},d=function(e){return e.classList.remove(r)},f=function(e){return e.classList.add(r)},p=function(){document.querySelectorAll("."+r).forEach(d)},h=function(e){p(),f(document.querySelector('a[href="#'+e.id+'"]'))},m=function(e){e.forEach((function(e){e.intersectionRatio>=Math[u].apply(Math,n(s))&&h(e.target)}))},g=document.querySelectorAll(i),b=new IntersectionObserver(m,c),v=function(e){var t=document.querySelector("#"+e.hash.slice(1));b.observe(t)};g.forEach(v)},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(14),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),i=d(r(8)),a=r(9),s=r(13),l=(r(15),r(7)),u=d(r(5)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=n.remote.getCurrentWindow();class m extends o.Component{constructor(...e){super(...e),p(this,"saveEdit",()=>{const e={name:(0,a.findDOMNode)(this.refs.name).value,description:(0,a.findDOMNode)(this.refs.description).value,link:(0,a.findDOMNode)(this.refs.link).value};n.ipcRenderer.sendTo(h.webContents.id,"save-custom-template",{type:this.props.type,data:e}),this.props.close()})}renderToolBar(){return o.default.createElement(l.ButtonToolbar,null,o.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveEdit},(0,u.default)("Save")),o.default.createElement(l.Button,{onClick:this.props.close},(0,u.default)("Cancel")))}renderBody(){return o.default.createElement(l.Form,{horizontal:!0},o.default.createElement(l.FormGroup,null,o.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:3},(0,u.default)("Name")),o.default.createElement(l.Col,{sm:8},o.default.createElement(l.FormControl,{type:"text",ref:"name",defaultValue:(0,u.default)("Custom Template")}))),o.default.createElement(l.FormGroup,null,o.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:3},(0,u.default)("Description")),o.default.createElement(l.Col,{sm:8},o.default.createElement(l.FormControl,{type:"text",ref:"description",defaultValue:""}))),o.default.createElement(l.FormGroup,null,o.default.createElement(l.Col,{componentClass:l.ControlLabel,sm:3},(0,u.default)("Source Link")),o.default.createElement(l.Col,{sm:8},o.default.createElement(l.FormControl,{type:"text",ref:"link",defaultValue:"",placeholder:"https://example.com/"}))))}render(){let e="plotlines"==this.props.type?(0,u.default)("My Timeline Template"):(0,u.default)("My Character Template");return o.default.createElement(l.Modal,{show:!0,onHide:this.props.close,dialogClassName:(0,c.default)("book-dialog",{darkmode:this.props.ui.darkMode})},o.default.createElement(l.Modal.Header,{closeButton:!0},o.default.createElement(l.Modal.Title,null,e)),o.default.createElement(l.Modal.Body,null,this.renderBody()),o.default.createElement(l.Modal.Footer,null,this.renderToolBar()))}}p(m,"propTypes",{close:i.default.func.isRequired,type:i.default.string,ui:i.default.object.isRequired});var g=(0,s.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{}}))(m);t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({save:e,dontSave:t,cancel:r}){return n.default.createElement(o.Modal,{show:!0,onHide:r,dialogClassName:"center-modal-vertically"},n.default.createElement(o.Modal.Header,{closeButton:!0},(0,i.default)("Save before closing?")),n.default.createElement(o.Modal.Body,null,n.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},n.default.createElement(o.Button,{"data-testid":s.ok,bsStyle:"success",onClick:e},(0,i.default)("Save")),n.default.createElement(o.Button,{"data-testid":s.cancel,bsStyle:"danger",onClick:t},(0,i.default)("Exit Without Saving")))))},t.testIds=void 0;var n=a(r(1)),o=r(7),i=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}const s=(0,a(r(430)).default)();t.testIds=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=!t.type.includes("@@redux")&&(0,a.isSeriesSelector)(e);switch(t.type){case i.DELETE_BOOK:if(e.ui.currentTimeline==t.id){const r=e.books.allIds.find(e=>e!=t.id);let n={...e};return n.ui.currentTimeline=r,(0,o.default)(n,t)}return(0,o.default)(e,t);case i.CLEAR_TEMPLATE_FROM_TIMELINE:const n=e.chapters.reduce((e,r)=>(r.bookId==t.bookId&&r.fromTemplateId==t.templateId||(e[r.id]=!0),e),{}),a=e.lines.reduce((e,r)=>(r.bookId==t.bookId&&r.fromTemplateId==t.templateId||(e[r.id]=!0),e),{}),s={...t,chapterIds:n,lineIds:a};return(0,o.default)(e,s);case i.RESET_TIMELINE:let l={...t,isSeries:r};if(!r){const r=e.chapters.reduce((e,r)=>(r.bookId!=t.bookId&&(e[r.id]=!0),e),{}),n=e.lines.reduce((e,r)=>(r.bookId!=t.bookId&&(e[r.id]=!0),e),{});l={...l,chapterIds:r,lineIds:n}}return(0,o.default)(e,l);default:return(0,o.default)(e,t)}};var n,o=(n=r(947))&&n.__esModule?n:{default:n},i=r(11),a=r(28)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(15),o=w(r(948)),i=w(r(949)),a=w(r(950)),s=w(r(951)),l=w(r(952)),u=w(r(953)),c=w(r(954)),d=w(r(955)),f=w(r(956)),p=w(r(957)),h=w(r(958)),m=w(r(959)),g=w(r(960)),b=w(r(961)),v=w(r(962)),y=w(r(963));function w(e){return e&&e.__esModule?e:{default:e}}var E=(0,n.combineReducers)({ui:o.default,file:i.default,series:b.default,books:g.default,characters:l.default,chapters:u.default,cards:c.default,lines:d.default,customAttributes:f.default,places:a.default,tags:s.default,notes:p.default,beats:m.default,seriesLines:v.default,categories:y.default,images:h.default});t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=i.ui,t){let r;switch(t.type){case n.CHANGE_CURRENT_VIEW:return Object.assign({},e,{currentView:t.view});case n.CHANGE_ORIENTATION:return Object.assign({},e,{orientation:t.orientation});case n.CHANGE_CURRENT_TIMELINE:return Object.assign({},e,{currentTimeline:t.id,timelineScrollPosition:{x:0,y:0}});case n.NAVIGATE_TO_BOOK_TIMELINE:return Object.assign({},e,{currentTimeline:t.bookId,currentView:"timeline",timelineScrollPosition:{x:0,y:0}});case n.EXPAND_TIMELINE:return Object.assign({},e,{timelineIsExpanded:!0});case n.COLLAPSE_TIMELINE:return Object.assign({},e,{timelineIsExpanded:!1});case n.SET_DARK_MODE:return Object.assign({},e,{darkMode:t.on});case n.SET_CHARACTER_SORT:return Object.assign({},e,{characterSort:`${t.attr}~${t.direction}`});case n.SET_PLACE_SORT:return Object.assign({},e,{placeSort:`${t.attr}~${t.direction}`});case n.SET_CHARACTER_FILTER:return Object.assign({},e,{characterFilter:t.filter});case n.ADD_CHARACTER_ATTRIBUTE:return r={...e.characterFilter},"paragraph"==t.attribute.type?e:(r[t.attribute.name]=[],Object.assign({},e,{characterFilter:r}));case n.ADD_PLACES_ATTRIBUTE:return r={...e.placeFilter},"paragraph"==t.attribute.type?e:(r[t.attribute.name]=[],Object.assign({},e,{placeFilter:r}));case n.REMOVE_CHARACTER_ATTRIBUTE:return r={...e.characterFilter},delete r[t.attribute],Object.assign({},e,{characterFilter:r});case n.REMOVE_PLACES_ATTRIBUTE:return r={...e.placeFilter},delete r[t.attribute],Object.assign({},e,{placeFilter:r});case n.EDIT_CHARACTER_ATTRIBUTE:return r={...e.characterFilter},delete r[t.oldAttribute.name],"paragraph"==t.newAttribute.type?e:(r[t.newAttribute.name]=[],Object.assign({},e,{characterFilter:r}));case n.EDIT_PLACES_ATTRIBUTE:return r={...e.placeFilter},delete r[t.oldAttribute.name],"paragraph"==t.newAttribute.type?e:(r[t.newAttribute.name]=[],Object.assign({},e,{placeFilter:r}));case n.SET_PLACE_FILTER:return Object.assign({},e,{placeFilter:t.filter});case n.SET_TIMELINE_FILTER:return Object.assign({},e,{timelineFilter:t.filter});case n.INCREASE_ZOOM:return(s=e.zoomIndex||0)<o.ZOOM_STATES.length-1&&s++,Object.assign({},e,{zoomState:o.INITIAL_ZOOM_STATE,zoomIndex:s});case n.DECREASE_ZOOM:var s;return(s=e.zoomIndex||0)>0&&s--,Object.assign({},e,{zoomState:o.INITIAL_ZOOM_STATE,zoomIndex:s});case n.FIT_ZOOM:return Object.assign({},e,{zoomState:o.FIT_ZOOM_STATE,zoomIndex:o.INITIAL_ZOOM_INDEX});case n.RESET_ZOOM:return Object.assign({},e,{zoomState:o.INITIAL_ZOOM_STATE,zoomIndex:o.INITIAL_ZOOM_INDEX});case n.FILE_LOADED:return t.data.ui;case n.NEW_FILE:return a.newFileUI;case n.RECORD_SCROLL_POSITION:return{...e,timelineScrollPosition:{x:t.x,y:t.y}};default:return e}};var n=r(11),o=r(55),i=r(18),a=r(36)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=i.file,t){switch(t.type){case o.FILE_LOADED:return{fileName:t.fileName,loaded:!0,dirty:t.dirty,version:a};case o.FILE_SAVED:return Object.assign({},e,{dirty:!1});case o.NEW_FILE:return{fileName:t.fileName,loaded:!0,dirty:!1,version:a};case o.EDIT_FILENAME:return Object.assign({},e,{fileName:t.newName});case o.RESET:return Object.assign({},t.data.file,{dirty:!0});default:return Object.assign({},e,{dirty:!0})}};var n=r(14),o=r(11),i=r(18);const a=n.remote.app.getVersion()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=u,t){switch(t.type){case i.ADD_PLACE:return[...e,{...a.place,id:(0,l.nextId)(e),name:t.name,description:t.description,notes:t.notes}];case i.EDIT_PLACE:return e.map(e=>e.id===t.id?Object.assign({},e,t.attributes):e);case i.EDIT_PLACES_ATTRIBUTE:return"text"!=t.oldAttribute.type&&t.oldAttribute.name==t.newAttribute.name?e:e.map(e=>{let r=(0,o.default)(e);if(t.oldAttribute.name!=t.newAttribute.name&&(r[t.newAttribute.name]=r[t.oldAttribute.name],delete r[t.oldAttribute.name]),"text"==t.oldAttribute.type){let e=r[t.newAttribute.name];e&&e.length&&"string"!=typeof e&&(e=""),r[t.newAttribute.name]=e}return r});case i.ATTACH_PLACE_TO_CARD:return e.map(e=>{let r=(0,o.default)(e.cards);return r.push(t.id),e.id===t.placeId?Object.assign({},e,{cards:r}):e});case i.REMOVE_PLACE_FROM_CARD:return e.map(e=>{let r=(0,o.default)(e.cards);return r.splice(r.indexOf(t.id),1),e.id===t.placeId?Object.assign({},e,{cards:r}):e});case i.ATTACH_PLACE_TO_NOTE:return e.map(e=>{let r=(0,o.default)(e.noteIds);return r.push(t.id),e.id===t.placeId?Object.assign({},e,{noteIds:r}):e});case i.REMOVE_PLACE_FROM_NOTE:return e.map(e=>{let r=(0,o.default)(e.noteIds);return r.splice(r.indexOf(t.id),1),e.id===t.placeId?Object.assign({},e,{noteIds:r}):e});case i.ATTACH_TAG_TO_PLACE:return e.map(e=>{let r=(0,o.default)(e.tags);return r.push(t.tagId),e.id===t.id?Object.assign({},e,{tags:r}):e});case i.REMOVE_TAG_FROM_PLACE:return e.map(e=>{let r=(0,o.default)(e.tags);return r.splice(r.indexOf(t.tagId),1),e.id===t.id?Object.assign({},e,{tags:r}):e});case i.ATTACH_BOOK_TO_PLACE:return e.map(e=>{let r=(0,o.default)(e.bookIds);return r.push(t.bookId),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case i.REMOVE_BOOK_FROM_PLACE:return e.map(e=>{let r=(0,o.default)(e.bookIds);return r.splice(r.indexOf(t.bookId),1),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case i.DELETE_NOTE:return e.map(e=>{let r=(0,o.default)(e.noteIds);return r?(r.splice(r.indexOf(t.id),1),Object.assign({},e,{noteIds:r})):e});case i.DELETE_CARD:return e.map(e=>{let r=(0,o.default)(e.cards);return r?(r.splice(r.indexOf(t.id),1),Object.assign({},e,{cards:r})):e});case i.DELETE_PLACE:return e.filter(e=>e.id!==t.id);case i.DELETE_IMAGE:return e.map(e=>t.id==e.imageId?{...e,imageId:null}:e);case i.RESET:case i.FILE_LOADED:return t.data.places;case i.NEW_FILE:return s.newFilePlaces;default:return e}};var n,o=(n=r(74))&&n.__esModule?n:{default:n},i=r(11),a=r(18),s=r(36),l=r(22);const u=[a.place]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=s,t){switch(t.type){case n.ADD_TAG:return[...e,{id:(0,a.nextId)(e),title:o.tag.title,color:o.tag.color}];case n.ADD_CREATED_TAG:return[...e,{...o.tag,id:(0,a.nextId)(e),...t.attributes}];case n.EDIT_TAG:return e.map(e=>e.id===t.id?Object.assign({},e,{title:t.title,color:t.color}):e);case n.DELETE_TAG:return e.filter(e=>e.id!==t.id);case n.RESET:case n.FILE_LOADED:return t.data.tags;case n.NEW_FILE:return i.newFileTags;default:return e}};var n=r(11),o=r(18),i=r(36),a=r(22);const s=[o.tag]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=u,t){switch(t.type){case i.ADD_CHARACTER:return[...e,{...a.character,id:(0,l.nextId)(e),name:t.name,description:t.description,notes:t.notes}];case i.ADD_CHARACTER_WITH_TEMPLATE:const r={id:t.templateData.id,version:t.templateData.version,attributes:t.templateData.attributes,value:""};return[...e,{...a.character,id:(0,l.nextId)(e),name:t.name,description:t.description,notes:t.notes,templates:[r]}];case i.EDIT_CHARACTER:return e.map(e=>e.id===t.id?Object.assign({},e,t.attributes):e);case i.EDIT_CHARACTER_ATTRIBUTE:return"text"!=t.oldAttribute.type&&t.oldAttribute.name==t.newAttribute.name?e:e.map(e=>{let r=(0,o.default)(e);if(t.oldAttribute.name!=t.newAttribute.name&&(r[t.newAttribute.name]=r[t.oldAttribute.name],delete r[t.oldAttribute.name]),"text"==t.oldAttribute.type){let e=r[t.newAttribute.name];e&&e.length&&"string"!=typeof e&&(e=""),r[t.newAttribute.name]=e}return r});case i.ATTACH_CHARACTER_TO_CARD:return e.map(e=>{let r=(0,o.default)(e.cards);return r.push(t.id),e.id===t.characterId?Object.assign({},e,{cards:r}):e});case i.REMOVE_CHARACTER_FROM_CARD:return e.map(e=>{let r=(0,o.default)(e.cards);return r.splice(r.indexOf(t.id),1),e.id===t.characterId?Object.assign({},e,{cards:r}):e});case i.ATTACH_CHARACTER_TO_NOTE:return e.map(e=>{let r=(0,o.default)(e.noteIds);return r.push(t.id),e.id===t.characterId?Object.assign({},e,{noteIds:r}):e});case i.REMOVE_CHARACTER_FROM_NOTE:return e.map(e=>{let r=(0,o.default)(e.noteIds);return r.splice(r.indexOf(t.id),1),e.id===t.characterId?Object.assign({},e,{noteIds:r}):e});case i.ATTACH_TAG_TO_CHARACTER:return e.map(e=>{let r=(0,o.default)(e.tags);return r.push(t.tagId),e.id===t.id?Object.assign({},e,{tags:r}):e});case i.REMOVE_TAG_FROM_CHARACTER:return e.map(e=>{let r=(0,o.default)(e.tags);return r.splice(r.indexOf(t.tagId),1),e.id===t.id?Object.assign({},e,{tags:r}):e});case i.ATTACH_BOOK_TO_CHARACTER:return e.map(e=>{let r=(0,o.default)(e.bookIds);return r.push(t.bookId),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case i.REMOVE_BOOK_FROM_CHARACTER:return e.map(e=>{let r=(0,o.default)(e.bookIds);return r.splice(r.indexOf(t.bookId),1),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case i.DELETE_NOTE:return e.map(e=>{let r=(0,o.default)(e.noteIds);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{noteIds:r})});case i.DELETE_CARD:return e.map(e=>{let r=(0,o.default)(e.cards);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{cards:r})});case i.DELETE_CHARACTER:return e.filter(e=>e.id!==t.id);case i.DELETE_IMAGE:return e.map(e=>t.id==e.imageId?{...e,imageId:null}:e);case i.RESET:case i.FILE_LOADED:return t.data.characters;case i.NEW_FILE:return s.newFileCharacters;case i.DELETE_CHARACTER_CATEGORY:return e.map(e=>String(e.categoryId)!==String(t.category.id)?e:{...e,categoryId:null});default:return e}};var n,o=(n=r(74))&&n.__esModule?n:{default:n},i=r(11),a=r(18),s=r(36),l=r(22);const u=[a.character]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=d,t){switch(t.type){case i.ADD_SCENE:return[...e,{id:(0,l.nextId)(e),bookId:t.bookId,position:(0,u.nextPositionInBook)(e,t.bookId),title:t.title,time:0,autoOutlineSort:!0,fromTemplateId:null}];case i.ADD_LINES_FROM_TEMPLATE:const[r,a]=(0,o.default)(e,e=>e.bookId==t.bookId);return[...a,...t.chapters];case i.EDIT_SCENE_TITLE:return e.map(e=>e.id==t.id?Object.assign({},e,{title:t.title}):e);case i.DELETE_SCENE:const[c,d]=(0,o.default)(e,e=>e.bookId==t.bookId);return[...d,...(0,u.positionReset)(c.filter(e=>e.id!=t.id))];case i.REORDER_SCENES:return[...e.filter(e=>e.bookId!=t.bookId),...(0,u.positionReset)(t.chapters)];case i.REORDER_CARDS_IN_CHAPTER:return e.map(e=>e.id!=t.chapterId||t.isSeries?e:Object.assign({},e,{autoOutlineSort:!1}));case i.AUTO_SORT_CHAPTER:return e.map(e=>e.id==t.id?Object.assign({},e,{autoOutlineSort:!0}):e);case i.CLEAR_TEMPLATE_FROM_TIMELINE:const f=e.reduce((e,r)=>(r.bookId==t.bookId?r.fromTemplateId!=t.templateId&&e.book.push(r):e.notBook.push(r),e),{book:[],notBook:[]}),p=(0,u.positionReset)((0,n.default)(f.book,"position"));return f.notBook.concat(p);case i.RESET_TIMELINE:if(t.isSeries)return e;return[...e.filter(e=>e.bookId!=t.bookId),{id:(0,l.nextId)(e),bookId:t.bookId,position:0,title:"auto",time:0,autoOutlineSort:!0,fromTemplateId:null}];case i.RESET:case i.FILE_LOADED:return t.data.chapters;case i.NEW_FILE:return s.newFileChapters;default:return e}};var n=c(r(29)),o=c(r(405)),i=r(11),a=r(18),s=r(36),l=r(22),u=r(58);function c(e){return e&&e.__esModule?e:{default:e}}const d=[a.chapter]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r;switch(t.type){case i.ADD_CARD:return[Object.assign({},s.card,t.card,{id:(0,l.nextId)(e)}),...e];case i.ADD_CARD_IN_CHAPTER:return[Object.assign({},s.card,t.newCard,{id:(0,l.nextId)(e)}),...e.map(e=>{const r=t.reorderIds.indexOf(e.id);return-1!=r?Object.assign({},e,{positionWithinLine:r}):e})];case i.ADD_LINES_FROM_TEMPLATE:return[...t.cards];case i.EDIT_CARD_DETAILS:var n={title:t.title,description:t.description};return e.map(e=>e.id===t.id?Object.assign({},e,n):e);case i.EDIT_CARD_COORDINATES:return r={},"series"==t.bookId?(r.seriesLineId=t.lineId,r.beatId=t.chapterId):(r.lineId=t.lineId,r.chapterId=t.chapterId),e.map(e=>e.id===t.id?Object.assign({},e,r):e);case i.CHANGE_LINE:return r={},"series"==t.bookId?r.seriesLineId=t.lineId:r.lineId=t.lineId,e.map(e=>e.id===t.id?Object.assign({},e,r):e);case i.CHANGE_SCENE:return r={},"series"==t.bookId?r.beatId=t.chapterId:r.chapterId=t.chapterId,e.map(e=>e.id===t.id?Object.assign({},e,r):e);case i.CHANGE_BOOK:return e.map(e=>e.id===t.id?Object.assign({},e,{bookId:t.bookId}):e);case i.REORDER_CARDS_WITHIN_LINE:return e.map(e=>{const r=t.ids.indexOf(e.id);return-1!=r?t.isSeries?Object.assign({},e,{positionWithinLine:r,beatId:t.chapterId,seriesLineId:t.lineId}):Object.assign({},e,{positionWithinLine:r,chapterId:t.chapterId,lineId:t.lineId}):e});case i.REORDER_CARDS_IN_CHAPTER:return e.map(e=>{const r=t.newOrderInChapter.indexOf(e.id);let n=-1;if(t.newOrderWithinLine&&(n=t.newOrderWithinLine.indexOf(e.id)),-1==n&&-1==r)return e;let o={...e};return e.id==t.newIdInChapter&&(t.isSeries?o.beatId=t.chapterId:o.chapterId=t.chapterId),-1!=n&&(o.positionWithinLine=n),-1!=r&&(o.positionInChapter=r),o});case i.AUTO_SORT_CHAPTER:return e.map(e=>{let r=e.chapterId;return t.isSeries&&(r=e.beatId),e.chapterId!=r?e:Object.assign({},e,{positionInChapter:0})});case i.DELETE_CARD:return e.filter(e=>e.id!==t.id);case i.DELETE_SCENE:return e.filter(e=>e.chapterId!==t.id);case i.DELETE_LINE:return e.filter(e=>e.lineId!==t.id);case i.DELETE_SERIES_LINE:return e.filter(e=>e.seriesLineId!==t.id);case i.DELETE_BEAT:return e.filter(e=>e.beatId!==t.id);case i.ATTACH_CHARACTER_TO_CARD:return e.map(e=>{let r=(0,o.default)(e.characters);return r.push(t.characterId),e.id===t.id?Object.assign({},e,{characters:r}):e});case i.REMOVE_CHARACTER_FROM_CARD:return e.map(e=>{let r=(0,o.default)(e.characters);return r.splice(r.indexOf(t.characterId),1),e.id===t.id?Object.assign({},e,{characters:r}):e});case i.ATTACH_PLACE_TO_CARD:return e.map(e=>{let r=(0,o.default)(e.places);return r.push(t.placeId),e.id===t.id?Object.assign({},e,{places:r}):e});case i.REMOVE_PLACE_FROM_CARD:return e.map(e=>{let r=(0,o.default)(e.places);return r.splice(r.indexOf(t.placeId),1),e.id===t.id?Object.assign({},e,{places:r}):e});case i.ATTACH_TAG_TO_CARD:return e.map(e=>{let r=(0,o.default)(e.tags);return r.push(t.tagId),e.id===t.id?Object.assign({},e,{tags:r}):e});case i.REMOVE_TAG_FROM_CARD:return e.map(e=>{let r=(0,o.default)(e.tags);return r.splice(r.indexOf(t.tagId),1),e.id===t.id?Object.assign({},e,{tags:r}):e});case i.DELETE_TAG:return e.map(e=>{if(e.tags.includes(t.id)){let r=(0,o.default)(e.tags);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{tags:r})}return e});case i.DELETE_CHARACTER:return e.map(e=>{if(e.characters.includes(t.id)){let r=(0,o.default)(e.characters);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{characters:r})}return e});case i.DELETE_PLACE:return e.map(e=>{if(e.places.includes(t.id)){let r=(0,o.default)(e.places);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{places:r})}return e});case i.RESET_TIMELINE:return t.isSeries?e.filter(e=>!e.seriesLineId&&!e.beatId):e.filter(e=>t.chapterIds[e.chapterId]||t.lineIds[e.lineId]);case i.CLEAR_TEMPLATE_FROM_TIMELINE:return e.filter(e=>t.chapterIds[e.chapterId]||t.lineIds[e.lineId]);case i.RESET:case i.FILE_LOADED:return t.data.cards;case i.NEW_FILE:return a.newFileCards;default:return e||[]}};var n,o=(n=r(74))&&n.__esModule?n:{default:n},i=r(11),a=r(36),s=r(18),l=r(22)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=p,t){switch(t.type){case a.ADD_LINE:const r=e.filter(e=>e.bookId==t.bookId).length;return[{id:(0,u.nextId)(e),bookId:t.bookId,title:"",color:(0,c.nextColor)(r),position:(0,d.nextPositionInBook)(e,t.bookId),expanded:null,fromTemplateId:null},...e];case a.ADD_LINES_FROM_TEMPLATE:const[s,f]=(0,o.default)(e,e=>e.bookId==t.bookId);return[...f,...t.lines];case a.EDIT_LINE_TITLE:return e.map(e=>e.id===t.id?Object.assign({},e,{title:t.title}):e);case a.EDIT_LINE_COLOR:return e.map(e=>e.id===t.id?Object.assign({},e,{color:t.color}):e);case a.DELETE_LINE:return e.filter(e=>e.id!==t.id);case a.REORDER_LINES:return[...e.filter(e=>e&&e.bookId!=t.bookId),...(0,d.positionReset)(t.lines)];case a.EXPAND_LINE:return e.map(e=>e.id===t.id?Object.assign({},e,{expanded:!0}):e);case a.COLLAPSE_LINE:return e.map(e=>e.id===t.id?Object.assign({},e,{expanded:!1}):e);case a.COLLAPSE_TIMELINE:case a.EXPAND_TIMELINE:return e.map(e=>Object.assign({},e,{expanded:null}));case a.CLEAR_TEMPLATE_FROM_TIMELINE:const p=e.reduce((e,r)=>(r.bookId==t.bookId?r.fromTemplateId!=t.templateId&&e.book.push(r):e.notBook.push(r),e),{book:[],notBook:[]}),h=(0,d.positionReset)((0,n.default)(p.book,"position"));return p.notBook.concat(h);case a.RESET_TIMELINE:if(t.isSeries)return e;const m=e.filter(e=>e.bookId!=t.bookId);return[{id:(0,u.nextId)(e),bookId:t.bookId,title:(0,i.default)("Main Plot"),color:(0,c.nextColor)(0),position:0,expanded:null,fromTemplateId:null},...m];case a.RESET:case a.FILE_LOADED:return t.data.lines;case a.NEW_FILE:return l.newFileLines;default:return e}};var n=f(r(29)),o=f(r(405)),i=f(r(5)),a=r(11),s=r(18),l=r(36),u=r(22),c=r(177),d=r(58);function f(e){return e&&e.__esModule?e:{default:e}}const p=[s.line]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(11),o=r(15),i=r(36);var a=(0,o.combineReducers)({characters:function(e=[],t){switch(t.type){case n.ADD_CHARACTER_ATTRIBUTE:return[...e,t.attribute];case n.REMOVE_CHARACTER_ATTRIBUTE:return e.filter(e=>e.name!==t.attribute);case n.EDIT_CHARACTER_ATTRIBUTE:let r=[...e];return r[t.index]=t.newAttribute,r;case n.RESET:case n.NEW_FILE:return i.newFileCustomAttributes.characters;case n.FILE_LOADED:return t.data.customAttributes.characters;case n.REORDER_CHARACTER_ATTRIBUTE:let{toIndex:o,attribute:a}=t;const s=e.slice().filter(({name:e})=>e!=a.name);return s.splice(o,0,a),s;default:return e}},places:function(e=[],t){switch(t.type){case n.ADD_PLACES_ATTRIBUTE:return[...e,t.attribute];case n.REMOVE_PLACES_ATTRIBUTE:return e.filter(e=>e.name!==t.attribute);case n.EDIT_PLACES_ATTRIBUTE:let r=[...e];return r[t.index]=t.newAttribute,r;case n.RESET:case n.NEW_FILE:return i.newFileCustomAttributes.places;case n.FILE_LOADED:return t.data.customAttributes.places;case n.REORDER_PLACES_ATTRIBUTE:let{toIndex:o,attribute:a}=t;const s=e.slice().filter(({name:e})=>e!=a.name);return s.splice(o,0,a),s;default:return e}},cards:function(e=[],t){switch(t.type){case n.ADD_CARDS_ATTRIBUTE:return[...e,t.attribute];case n.REMOVE_CARDS_ATTRIBUTE:return e.splice(e.indexOf(t.attribute),1),[...e];case n.RESET:case n.NEW_FILE:return i.newFileCustomAttributes.cards;case n.FILE_LOADED:return t.data.customAttributes.cards;default:return e}},scenes:function(e=[],t){switch(t.type){case n.ADD_SCENES_ATTRIBUTE:return[...e,t.attribute];case n.REMOVE_SCENES_ATTRIBUTE:return e.splice(e.indexOf(t.attribute),1),[...e];case n.RESET:case n.NEW_FILE:return i.newFileCustomAttributes.scenes;case n.FILE_LOADED:return t.data.customAttributes.scenes;default:return e}},lines:function(e=[],t){switch(t.type){case n.ADD_LINES_ATTRIBUTE:return[...e,t.attribute];case n.REMOVE_LINES_ATTRIBUTE:return e.splice(e.indexOf(t.attribute),1),[...e];case n.RESET:case n.NEW_FILE:return i.newFileCustomAttributes.lines;case n.FILE_LOADED:return t.data.customAttributes.lines;default:return e}}});t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=u,t){switch(t.type){case i.ADD_NOTE:return[...e,{...a.note,id:(0,l.nextId)(e),title:t.title,content:t.content}];case i.EDIT_NOTE:const r={lastEdited:(new Date).getTime()};return e.map(e=>e.id===t.id?Object.assign({},e,t.attributes,r):e);case i.DELETE_NOTE:return e.filter(e=>e.id!==t.id);case i.ATTACH_CHARACTER_TO_NOTE:return e.map(e=>{let r=(0,o.default)(e.characters);return r.push(t.characterId),e.id===t.id?Object.assign({},e,{characters:r}):e});case i.REMOVE_CHARACTER_FROM_NOTE:return e.map(e=>{let r=(0,o.default)(e.characters);return r.splice(r.indexOf(t.characterId),1),e.id===t.id?Object.assign({},e,{characters:r}):e});case i.ATTACH_PLACE_TO_NOTE:return e.map(e=>{let r=(0,o.default)(e.places);return r.push(t.placeId),e.id===t.id?Object.assign({},e,{places:r}):e});case i.REMOVE_PLACE_FROM_NOTE:return e.map(e=>{let r=(0,o.default)(e.places);return r.splice(r.indexOf(t.placeId),1),e.id===t.id?Object.assign({},e,{places:r}):e});case i.ATTACH_TAG_TO_NOTE:return e.map(e=>{let r=(0,o.default)(e.tags);return r.push(t.tagId),e.id===t.id?Object.assign({},e,{tags:r}):e});case i.REMOVE_TAG_FROM_NOTE:return e.map(e=>{let r=(0,o.default)(e.tags);return r.splice(r.indexOf(t.tagId),1),e.id===t.id?Object.assign({},e,{tags:r}):e});case i.ATTACH_BOOK_TO_NOTE:return e.map(e=>{let r=(0,o.default)(e.bookIds);return r.push(t.bookId),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case i.REMOVE_BOOK_FROM_NOTE:return e.map(e=>{let r=(0,o.default)(e.bookIds);return r.splice(r.indexOf(t.bookId),1),e.id===t.id?Object.assign({},e,{bookIds:r}):e});case i.DELETE_TAG:return e.map(e=>{if(e.tags.includes(t.id)){let r=(0,o.default)(e.tags);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{tags:r})}return e});case i.DELETE_CHARACTER:return e.map(e=>{if(e.characters.includes(t.id)){let r=(0,o.default)(e.characters);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{characters:r})}return e});case i.DELETE_PLACE:return e.map(e=>{if(e.places.includes(t.id)){let r=(0,o.default)(e.places);return r.splice(r.indexOf(t.id),1),Object.assign({},e,{places:r})}return e});case i.DELETE_IMAGE:return e.map(e=>t.id==e.imageId?{...e,imageId:null}:e);case i.RESET:case i.FILE_LOADED:return t.data.notes||[];case i.NEW_FILE:return s.newFileNotes;default:return e}};var n,o=(n=r(74))&&n.__esModule?n:{default:n},i=r(11),a=r(18),s=r(36),l=r(22);const u=[a.note]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t.type){case n.ADD_IMAGE:const r=(0,i.imageId)(e),a=Object.assign({},t.image,{id:r});return{...e,[r]:a};case n.RENAME_IMAGE:return{...e,[t.id]:{...e[t.id],name:t.name}};case n.DELETE_IMAGE:return Object.keys(e).reduce((r,n)=>(n!=t.id&&(r[n]=e[n]),r),{});case n.RESET:case n.FILE_LOADED:return t.data.images;case n.NEW_FILE:return o.newFileImages;default:return e||{}}};var n=r(11),o=r(36),i=r(22)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=o.beat,t){switch(t.type){case n.ADD_BEAT:return[{id:(0,a.nextId)(e),title:t.title,time:0,position:(0,s.nextPosition)(e),autoOutlineSort:!0},...e];case n.EDIT_BEAT_TITLE:return e.map(e=>e.id==t.id?Object.assign({},e,{title:t.title}):e);case n.DELETE_BEAT:return e.filter(e=>e.id!=t.id);case n.REORDER_BEATS:return(0,s.positionReset)(t.beats);case n.REORDER_CARDS_IN_CHAPTER:return e.map(e=>e.id==t.chapterId&&t.isSeries?Object.assign({},e,{autoOutlineSort:!1}):e);case n.AUTO_SORT_BEAT:return e.map(e=>e.id==t.id?Object.assign({},e,{autoOutlineSort:!0}):e);case n.RESET_TIMELINE:return t.isSeries?[{id:(0,a.nextId)(e),title:"auto",time:0,position:0,autoOutlineSort:!0}]:e;case n.RESET:case n.FILE_LOADED:return t.data.beats;case n.NEW_FILE:return i.newFileBeats;default:return e}};var n=r(11),o=r(18),i=r(36),a=r(22),s=r(58)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=o.book,t){switch(t.type){case n.EDIT_BOOK:return{...e,[t.id]:{...e[t.id],...t.attributes}};case n.ADD_BOOK:const r=(0,a.objectId)(e.allIds);return{...e,allIds:[...e.allIds,r],[r]:{...t.book,id:r}};case n.REORDER_BOOKS:return{...e,allIds:t.ids};case n.DELETE_BOOK:const o=[...e.allIds];return o.splice(o.indexOf(t.id),1),e.allIds.reduce((r,n)=>(n!=t.id&&(r[n]=e[n]),r),{allIds:o});case n.ADD_LINES_FROM_TEMPLATE:return{...e,[t.bookId]:{...e[t.bookId],timelineTemplates:[...e[t.bookId].timelineTemplates,{id:t.template.id,name:t.template.name}]}};case n.CLEAR_TEMPLATE_FROM_TIMELINE:return{...e,[t.bookId]:{...e[t.bookId],timelineTemplates:e[t.bookId].timelineTemplates.filter(e=>e.id!=t.templateId)}};case n.RESET:case n.FILE_LOADED:return t.data.books;case n.NEW_FILE:return i.newFileBooks;default:return e}};var n=r(11),o=r(18),i=r(36),a=r(22)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=o.series,t){switch(t.type){case n.EDIT_SERIES:return{...e,...t.attributes};case n.RESET:case n.FILE_LOADED:return t.data.series;case n.NEW_FILE:return i.newFileSeries;default:return e}};var n=r(11),o=r(18),i=r(36)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=d,t){switch(t.type){case i.ADD_SERIES_LINE:return[{id:(0,l.nextId)(e),title:"",color:(0,u.nextColor)(e.length),position:(0,c.nextPosition)(e),expanded:null},...e];case i.ADD_SERIES_LINES_FROM_TEMPLATE:const r=(0,c.nextPosition)(e);return[...t.lines.map((t,n)=>({id:t.id,title:t.title,color:(0,u.nextColor)(e.length+n),position:r+n})),...e];case i.EDIT_SERIES_LINE_TITLE:return e.map(e=>e.id===t.id?Object.assign({},e,{title:t.title}):e);case i.EDIT_SERIES_LINE_COLOR:return e.map(e=>e.id===t.id?Object.assign({},e,{color:t.color}):e);case i.DELETE_SERIES_LINE:return e.filter(e=>e.id!==t.id);case i.REORDER_SERIES_LINES:return(0,c.positionReset)(t.lines);case i.EXPAND_SERIES_LINE:return e.map(e=>e.id===t.id?Object.assign({},e,{expanded:!0}):e);case i.COLLAPSE_SERIES_LINE:return e.map(e=>e.id===t.id?Object.assign({},e,{expanded:!1}):e);case i.COLLAPSE_TIMELINE:case i.EXPAND_TIMELINE:return e.map(e=>Object.assign({},e,{expanded:null}));case i.RESET_TIMELINE:return t.isSeries?[{id:(0,l.nextId)(e),title:(0,o.default)("Main Plot"),color:(0,u.nextColor)(0),position:0,expanded:null}]:e;case i.RESET:case i.FILE_LOADED:return t.data.seriesLines;case i.NEW_FILE:return s.newFileSeriesLines;default:return e}};var n,o=(n=r(5))&&n.__esModule?n:{default:n},i=r(11),a=r(18),s=r(36),l=r(22),u=r(177),c=r(58);const d=[a.seriesLine]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=i.categories,t){switch(t.type){case n.RESET:case n.FILE_LOADED:return t.data.categories;case n.NEW_FILE:return o.newFileCategories;case n.ADD_CHARACTER_CATEGORY:return function(e,t,r){const n=(0,a.nextId)(t[e]);return{...t,[e]:[...t[e],{id:n,name:r.name,position:t[e].length}]}}("characters",e,t);case n.DELETE_CHARACTER_CATEGORY:return function(e,t,r){const n=t[e].findIndex(e=>e.id===r.category.id);if(-1==n)return t;const o=[...t[e].slice(0,n),...t[e].slice(n+1)];return o.forEach((e,t)=>e.position=t),{...t,[e]:o}}("characters",e,t);case n.UPDATE_CHARACTER_CATEGORY:return function(e,t,r){const n=t[e].findIndex(e=>e.id===r.category.id);if(-1===n)return t;const o=[...t[e]];return o[n]={...t[e][n],...r.category},{...t,[e]:o}}("characters",e,t);case n.REORDER_CHARACTER_CATEGORY:return function(e,t,{toIndex:r,category:n}){const o=t[e].slice().filter(({id:e})=>e!=n.id);o.splice(r,0,n);const i=(0,s.positionReset)(o);return{...t,[e]:i}}("characters",e,t);default:return e}};var n=r(11),o=r(36),i=r(18),a=r(22),s=r(58)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(17)),o=l(r(5)),i=r(11),a=r(257),s=r(14);function l(e){return e&&e.__esModule?e:{default:e}}const u=s.remote.dialog,c=s.remote.getCurrentWindow(),d=[i.FILE_SAVED,i.FILE_LOADED];let f=!0;var p=e=>t=>r=>{const i=t(r);if(d.includes(r.type))return i;const s=e.getState().present;return function(e,t){let r="";r=JSON.stringify(t);n.default.writeFile(e,r,r=>{(0,a.saveBackup)(e,t,t=>{t&&(log.warn("[save state backup]",t),rollbar.error({message:"BACKUP failed"}),rollbar.warn(t,{fileName:e}))}),r?(log.warn(r),rollbar.warn(r,{fileName:e}),f=!1,u.showErrorBox((0,o.default)("Auto-saving failed"),(0,o.default)("Saving your file didn't work. Check where it's stored."))):f||(f=!0,u.showMessageBox(c,{title:(0,o.default)("Auto-saving worked"),message:(0,o.default)("Saving worked this time ")}))})}(s.file.fileName,s),i};t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(11),o=a(r(60)),i=a(r(87));function a(e){return e&&e.__esModule?e:{default:e}}const s=[n.ADD_LINES_FROM_TEMPLATE];var l=e=>t=>r=>{const a=t(r);if(!s.includes(r.type))return a;if(!i.default.get("payment_id"))return a;const l=e.getState();if(l&&l.ui&&l.file){const e={timeline_orientation:l.ui.orientation,version:l.file.version};r.type==n.ADD_LINES_FROM_TEMPLATE&&o.default.push("use_timeline_template",{...e,template:r.templateName})}return a};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e=>e=>t=>e(t);t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(204);var o=e=>e=>t=>((0,n.setPreviousAction)(t),e(t));t.default=o},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.set(t.debug);var r,n=u({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:i.ActionTypes.UNDO,redoType:i.ActionTypes.REDO,jumpToPastType:i.ActionTypes.JUMP_TO_PAST,jumpToFutureType:i.ActionTypes.JUMP_TO_FUTURE,jumpType:i.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},t,{initTypes:(0,a.parseActions)(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,a.parseActions)(t.clearHistoryType,[i.ActionTypes.CLEAR_HISTORY])}),s=n.neverSkipReducer?function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return u({},t,{present:e.apply(void 0,[t.present,r].concat(o))})}:function(e){return e};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.start(i,t);for(var l,u=t,c=arguments.length,d=new Array(c>2?c-2:0),v=2;v<c;v++)d[v-2]=arguments[v];if(!r){if(o.log("history is uninitialized"),void 0===t){var y={type:"@@redux-undo/CREATE_HISTORY"},w=e.apply(void 0,[t,y].concat(d));return u=f(w,n.ignoreInitialState),o.log("do not set initialState on probe actions"),o.end(u),u}(0,a.isHistory)(t)?(u=r=n.ignoreInitialState?t:(0,a.newHistory)(t.past,t.present,t.future),o.log("initialHistory initialized: initialState is a history",r)):(u=r=f(t,n.ignoreInitialState),o.log("initialHistory initialized: initialState is not a history",r))}switch(i.type){case void 0:return u;case n.undoType:return l=g(u,-1),o.log("perform undo"),o.end(l),s.apply(void 0,[l,i].concat(d));case n.redoType:return l=g(u,1),o.log("perform redo"),o.end(l),s.apply(void 0,[l,i].concat(d));case n.jumpToPastType:return l=m(u,i.index),o.log("perform jumpToPast to ".concat(i.index)),o.end(l),s.apply(void 0,[l,i].concat(d));case n.jumpToFutureType:return l=h(u,i.index),o.log("perform jumpToFuture to ".concat(i.index)),o.end(l),s.apply(void 0,[l,i].concat(d));case n.jumpType:return l=g(u,i.index),o.log("perform jump to ".concat(i.index)),o.end(l),s.apply(void 0,[l,i].concat(d));case b(i.type,n.clearHistoryType):return l=f(u.present,n.ignoreInitialState),o.log("perform clearHistory"),o.end(l),s.apply(void 0,[l,i].concat(d));default:if(l=e.apply(void 0,[u.present,i].concat(d)),n.initTypes.some((function(e){return e===i.type})))return o.log("reset history due to init action"),o.end(r),r;if(u._latestUnfiltered===l)return u;var E="function"==typeof n.filter&&!n.filter(i,l,u);if(E){var _=(0,a.newHistory)(u.past,l,u.future,u.group);return n.syncFilter||(_._latestUnfiltered=u._latestUnfiltered),o.log("filter ignored action, not storing it in past"),o.end(_),_}var O=n.groupBy(i,l,u);if(null!=O&&O===u.group){var C=(0,a.newHistory)(u.past,l,u.future,u.group);return o.log("groupBy grouped the action with the previous action"),o.end(C),C}return u=p(u,l,n.limit,O),o.log("inserted new state into history"),o.end(u),u}}};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(969)),i=r(407),a=r(408);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){var r=(0,a.newHistory)([],e,[]);return t&&(r._latestUnfiltered=null),r}function p(e,t,r,n){var i=e.past.length+1;o.log("inserting",t),o.log("new free: ",r-i);var s=e.past,l=e._latestUnfiltered,u=r&&r<=i,c=s.slice(u?1:0),f=null!=l?[].concat(d(c),[l]):c;return(0,a.newHistory)(f,t,[],n)}function h(e,t){if(t<0||t>=e.future.length)return e;var r=e.past,n=e.future,o=e._latestUnfiltered,i=[].concat(d(r),[o],d(n.slice(0,t))),s=n[t],l=n.slice(t+1);return(0,a.newHistory)(i,s,l)}function m(e,t){if(t<0||t>=e.past.length)return e;var r=e.past,n=e.future,o=e._latestUnfiltered,i=r.slice(0,t),s=[].concat(d(r.slice(t+1)),[o],d(n)),l=r[t];return(0,a.newHistory)(i,l,s)}function g(e,t){return t>0?h(e,t-1):t<0?m(e,e.past.length+t):e}function b(e,t){return t.indexOf(e)>-1?e:!e}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e){o=e},t.start=function(e,t){void(i={header:[],prev:[],action:[],next:[],msgs:[]}),o&&(console.group?(i.header=["%credux-undo","font-style: italic","action",e.type],i.action=u("action",s,e),i.prev=u("prev history",a,t)):(i.header=["redux-undo action",e.type],i.action=["action",e],i.prev=["prev history",t]))},t.end=function(e){o&&(console.group?i.next=u("next history",l,e):i.next=["next history",e],function(){var e=i,t=e.header,r=e.prev,o=e.next,a=e.action,s=e.msgs;if(console.group){var l,u,c,d,f;(l=console).groupCollapsed.apply(l,n(t)),(u=console).log.apply(u,n(r)),(c=console).log.apply(c,n(a)),(d=console).log.apply(d,n(o)),(f=console).log.apply(f,n(s)),console.groupEnd()}else{var p,h,m,g,b;(p=console).log.apply(p,n(t)),(h=console).log.apply(h,n(r)),(m=console).log.apply(m,n(a)),(g=console).log.apply(g,n(o)),(b=console).log.apply(b,n(s))}}())},t.log=function(){if(o){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.msgs=i.msgs.concat([].concat(t,["\n"]))}};var a="#9E9E9E",s="#03A9F4",l="#4CAF50";function u(e,t,r){return["%c".concat(e),"color: ".concat(t,"; font-weight: bold"),r]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const l=t.includes(".scriv")?t:`${t}.scriv`;try{!function(e){try{a.default.statSync(e).isDirectory()&&(w(e),a.default.mkdirSync(e))}catch(t){a.default.mkdirSync(e)}a.default.mkdirSync(i.default.join(e,"Files","Docs"),{recursive:!0}),a.default.mkdirSync(i.default.join(e,"Settings"))}(l),function(e,t){const r=i.default.join(t,"Files","Docs");Object.keys(e).forEach(t=>{const n=e[t];let o=new d.default,l=null;n.lineTitle&&(o.writeText((0,u.default)("Plotline: {name}",{name:n.lineTitle})),o.addLine(),o.addLine());try{(0,b.default)(n.description,o),l=o.createDocument(),l=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t+=n<128?e[r]:`\\u${n}`}return t}(l),l=Buffer.from(l,"utf8"),a.default.writeFileSync(i.default.join(r,`${t}_notes.rtf`),l)}catch(e){s.default.error(e)}})}(function(e,t){const s=(0,o.default)(r(982)),l=r(983);let u=3,d={};const b=(0,f.sortedChaptersByBookSelector)(e),v=(0,g.sortedLinesByBookSelector)(e),y=(0,p.cardMapSelector)(e),w=(0,m.isSeriesSelector)(e),E=(0,h.cardMapping)(b,v,y,null),_=(0,n.default)(v,"id");b.forEach(t=>{const r=(0,f.makeChapterTitleSelector)(e)(e,t.id),n=function(e,t,r){let n=(0,o.default)(e);return n._attributes.ID=r,n._attributes.Type="Folder",n.Title._text=t,n.Children={BinderItem:[]},(0,o.default)(n)}(l,r,u),i=E[t.id];(0,h.sortCardsInChapter)(t.autoOutlineSort,i,v,w).forEach(e=>{++u;const t=function(e,t,r){let n=(0,o.default)(e);return n._attributes.ID=r,n.Title._text=t.title,(0,o.default)(n)}(l,e,u);n.Children.BinderItem.push(t);let r="";const i=w?e.seriesLineId:e.lineId,a=_[i];a&&(r=a.title),d[u+0]={lineTitle:r,description:e.description}}),s.ScrivenerProject.Binder.BinderItem[0].Children.BinderItem.push(n),++u});const O=c.default.json2xml(s,{compact:!0,ignoreComment:!0,spaces:2}),C=i.default.basename(t).replace(".scriv","");return a.default.writeFileSync(i.default.join(t,`${C}.scrivx`),O),d}(e,l),l)}catch(e){return s.default.error(e),w(l),!1}(0,v.notifyUser)(l,"scrivener")};var n=y(r(247)),o=y(r(74)),i=y(r(16)),a=y(r(17)),s=y(r(42)),l=r(14),u=y(r(5)),c=y(r(410)),d=y(r(414)),f=r(67),p=r(107),h=r(79),m=r(28),g=r(59),b=y(r(981)),v=r(417);function y(e){return e&&e.__esModule?e:{default:e}}function w(e){l.shell.moveItemToTrash(e)}},,,,function(e,t,r){var n;!function(o){var i=function(){},a=Object.prototype.hasOwnProperty,s=Object.create||function(e){var t=function(){};return t.prototype=e,new t},l=Object.keys||function(e){var t=[];for(var r in e)a.call(e,r)&&t.push(r);return t},u=function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);return e},c=Object.setPrototypeOf||u,d=Object.prototype.toString,f=Array.isArray||function(e){return"[object Array]"===d.call(e)},p=function(e){return"[object Function]"===d.call(e)},h=!0,m={toString:""};for(var g in m)m.hasOwnProperty(g)&&(h=!1);var b=h?["toString","valueOf"]:null;function v(e,t,r){for(var n,o,a=function(e){var t=l(e);if(h)for(var r,n=0;r=b[n++];)e.hasOwnProperty(r)&&t.push(r);return t}(r),s=0,u=a.length;s<u;)"__self"!==(n=a[s++])&&(o=r[n],p(o)&&(!o.prototype||!o.prototype.__self)&&o.toString().indexOf(".__base")>-1?t[n]=function(r,n){var o=e[r]?e[r]:"__constructor"===r?t.__self.__parent:i,a=function(){var e=this.__base;this.__base=a.__base;var t=n.apply(this,arguments);return this.__base=e,t};return a.__base=o,a}(n,o):t[n]=o)}function y(e,t){for(var r,n=1;r=e[n++];)t?p(r)?w.self(t,r.prototype,r):w.self(t,r):t=p(r)?w(e[0],r.prototype,r):w(e[0],r);return t||e[0]}function w(){var e=arguments,t=f(e[0]),r=t||p(e[0]),n=r?t?y(e[0]):e[0]:i,o=e[r?1:0]||{},a=e[r?2:1],l=o.__constructor||r&&n.prototype&&n.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:r?function(){return n.apply(this,arguments)}:function(){};if(!r)return l.prototype=o,l.prototype.__self=l.prototype.constructor=l,u(l,a);c(l,n),l.__parent=n;var d=n.prototype,h=l.prototype=s(d);return h.__self=h.constructor=l,o&&v(d,h,o),a&&v(n,l,a),l}w.self=function(){var e=arguments,t=f(e[0]),r=t?y(e[0],e[0][0]):e[0],n=e[1],o=e[2],i=r.prototype;return n&&v(i,i,n),o&&v(r,r,o),r};e.exports=w,"object"==typeof modules&&"function"==typeof modules.define&&modules.define("inherit",(function(e){e(w)})),void 0===(n=function(e,t,r){r.exports=w}.call(t,r,t,e))||(e.exports=n),!1&&(o.inherit=w)}(this)},function(e,t){e.exports={ENG_US:1033,SP_MX:2058,FR:1036,RU:1049,NONE:1024}},function(e,t){var r={single:"s",doubleThickness:"th",shadowed:"sh",double:"db",dotted:"dot",dashed:"dash",hairline:"hair",dashSmall:"dashsm",dotDash:"dashd",dotDotDash:"dashdd",triple:"triple",thickThinSmall:"tnthsg",thinThickSmall:"thtnsg",thinThickThinSmall:"tnthtnsg",thickThinMedium:"tnthmg",thinThickMedium:"thtnmg",thinThickThinMedium:"tnthtnmg",thickThinLarge:"tnthlg",thinThickLarge:"thtnlg",thinThickThinLarge:"tnthtnlg",wavy:"wavy",doubleWavy:"wavydb",striped:"dashdotstr",emboss:"emboss",engrave:"engrave"},n=function(e,t,r){return Object.keys(r).filter(t=>void 0!==r[t]&&void 0!==e[t]).map(n=>{var o=r[n],i=e[n];return"object"==typeof i&&i.name&&("object"==typeof i.value&&void 0!==i.value[o]?(o=i.value[o],i=i.name):"function"==typeof i.value&&(o=i.value.call(this,o,t),i=i.name)),"\\"+i+o}).join("")},o={spacing:"brsp",width:"brdrw",type:{name:"brdr",value:r},color:{name:"brdrcf",value:function(e,t){return this[t].colorPos+1}}};e.exports={entities:{spaceBefore:"sb",spaceAfter:"sa",leftIndent:"li",rightIndent:"ri",alignLeft:"ql",alignRight:"qr",alignCenter:"qc",alignFull:"qj",align:{name:"q",value:e=>String(e).toLowerCase().charAt(0)},verticalAlignTop:"vertalt",verticalAlignBottom:"vertalb",verticalAlignCenter:"vertalc",verticalAlignJustify:"vertalj",verticalAlign:{name:"vertal",value:e=>String(e).toLowerCase().charAt(0)},tableHeader:{filter:["rowDef"],name:"trhdr"},cellVerticalAlign:{filter:["cellDef"],name:"clvertal",value:e=>String(e).toLowerCase().charAt(0)},font:{filter:["text"],name:"f",test:e=>e,value:function(e){return this.fontPos}},color:{filter:["text"],name:"cf",test:e=>e,value:function(e){return this.colorPos+1}},bgColor:{filter:["text"],name:"cb",test:e=>e,value:function(e){return this.bgColorPos+1}},cellBgColor:{filter:["cellDef"],name:"clcbpat",test:e=>e,value:function(e){return this.cellBgColorPos+1}},borderColor:{name:"brdrcf",test:e=>e,value:function(e){return this.borderColorPos+1}},rowBorderLeft:{filter:"rowDef",name:"trbrdrl",value:function(e){return n.call(this,o,"rowBorderLeft",e)}},rowBorderRight:{filter:"rowDef",name:"trbrdrr",value:function(e){return n.call(this,o,"rowBorderRight",e)}},rowBorderTop:{filter:"rowDef",name:"trbrdrt",value:function(e){return n.call(this,o,"rowBorderTop",e)}},rowBorderBottom:{filter:"rowDef",name:"trbrdrb",value:function(e){return n.call(this,o,"rowBorderBottom",e)}},rowBorderHorizontal:{filter:"rowDef",name:"trbrdrh",value:function(e){return n.call(this,o,"rowBorderTop",e)}},rowBorderVertical:{filter:"rowDef",name:"trbrdrv",value:function(e){return n.call(this,o,"rowBorderBottom",e)}},cellBorderLeft:{filter:"cellDef",name:"clbrdrl",value:function(e){return n.call(this,o,"cellBorderLeft",e)}},cellBorderRight:{filter:"cellDef",name:"clbrdrr",value:function(e){return n.call(this,o,"cellBorderRight",e)}},cellBorderTop:{filter:"cellDef",name:"clbrdrt",value:function(e){return n.call(this,o,"cellBorderTop",e)}},cellBorderBottom:{filter:"cellDef",name:"clbrdrb",value:function(e){return n.call(this,o,"cellBorderBottom",e)}},border:{prefix:null,name:null,value:function(e){return n.call(this,o,"border",e)}},borderLeft:{name:"brdrl",value:function(e){return n.call(this,o,"borderLeft",e)}},borderRight:{name:"brdrr",value:function(e){return n.call(this,o,"borderRight",e)}},borderTop:{name:"brdrt",value:function(e){return n.call(this,o,"borderTop",e)}},borderBottom:{name:"brdrb",value:function(e){return n.call(this,o,"borderBottom",e)}},borderSpacing:"brsp",borderWidth:"brdrw",borderType:{name:"brdr",value:r},fontSize:{name:"fs",value:e=>isNaN(e)?e:2*e},landscape:"lndscpsxn",pageWidth:"pgwsxn",pageHeight:"pghsxn",marginLeft:"margl",marginRight:"margr",marginTop:"margt",marginBottom:"margb",language:"deflang",pageNumbering:{prefix:"",value:"{\\header\\pard\\qr\\plain\\f0\\chpgn\\par}"},columns:"cols",columnLines:"linebetcol",paragraph:{wrap:!0,prefix:"\\pard",postfix:"\\par"},bold:{wrap:!0,test:e=>e,prefix:"\\b",postfix:"\\b0"},italic:{wrap:!0,test:e=>e,prefix:"\\i",postfix:"\\i0"},underline:{wrap:!0,test:e=>e,prefix:"\\ul",postfix:"\\ul0"},strike:{wrap:!0,test:e=>e,prefix:"\\strike",postfix:"\\strike0"},subScript:{wrap:!0,test:e=>e,prefix:"\\sub",postfix:"\\sub0"},superScript:{wrap:!0,test:e=>e,prefix:"\\super",postfix:"\\super0"}},entitiesFirst:["paragraph"],oprionsLast:["bold","italic","underline","strike","subScript","superScript"]}},function(e,t,r){var n=r(137),o=r(136),i=r(91),a=r(68),s=Array.isArray,l=a(n,{__constructor:function(e,t){this.__base.call(this,t),!this.format||"object"!=typeof this.format||this.format instanceof o||(this.format=new o(this.format)),this.data=e},getItemRTFCode:function(e,t){return s(e)?e.map(e=>this.getItemRTFCode(e,t)).join("\n"):e instanceof n?e.getRTFCode(t):this.format.formatText(e,t)},getRTFCode:function(e){var t=this.getItemRTFCode(this.data,e);return t=this.format.formatText(t,e,{noEscape:!0}),t=i.makeRtfCmd("",t,"",!0)}});e.exports=l},function(e,t,r){var n=r(137),o=(r(136),r(91)),i=r(68)(n,{__constructor:function(e,t,r){this.__base.call(this,t),this.text=e,this.options=r||{filter:"text"}},getRTFCode:function(e){var t=this.format.formatText(this.text,e,this.options);return t=o.makeRtfCmd("",t,"",!0)}});e.exports=i},function(e,t,r){var n=r(91),o=r(136),i=r(137),a=r(68),s=Array.isArray,l=a(i,{__constructor:function(e){this.__base.call(this,e&&e.format),this.data=[],Object.assign(this,e),this.data||(this.data=[]),this.format||(this.format=new o),this.rowFormat||(this.rowFormat=new o),this.cellFormats||(this.cellFormats=[])},addRow:function(e){this.data.push(e)},setData:function(e){this.data=e},columnsCount:function(){return this.data.reduce((e,t)=>Math.max(e,t.length),0)},getRowContent:function(e,t,r){var o=t.length,a=[this.format,this.rowFormat];!r&&this.firstRowFormat&&a.push(this.firstRowFormat);var l=a.concat([this.cellFormat]),u=t.map(t=>t instanceof i?t.getRTFCode(e):n.getRTFSafeText(t)).map((t,r)=>{var n=l.concat([s(this.cellFormats)&&this.cellFormats[r]]);return t=e.cascadeFormats(t,n,{reverseCascade:!0,noEscape:!0,filter:"text",strictFilter:!1})}).map(e=>e+"\\cell").join(" ");u=e.cascadeFormats(u,a,{reverseCascade:!0,noEscape:!0,filter:"row",strictFilter:!0});var c="{\\trowd\\trautofit1\\intbl";c+=e.cascadeFormats("",a,{reverseCascade:!0,noEscape:!0,filter:"rowDef",strictFilter:!0});var d=0;return t.map((t,r)=>{c+=e.cascadeFormats("",l.concat([s(this.cellFormats)&&this.cellFormats[r]]),{reverseCascade:!0,noEscape:!0,filter:"cellDef",strictFilter:!0});var n,i=this.cellFormats[r]||this.cellFormat;if(i&&i.width)n=i.width;else{var a=(r+1)/o;i&&i.widthPercents&&(a=d+i.widthPercents/100),i&&i.widthRatio&&(a=d+i.widthRatio),d=a,n=Math.round(this.format.tableWidth?this.format.tableWidth*a:o*a)}c+="\n\\cellx"+n}),u+="\n"+(c+="\n\\row}")},updateFormats:function(e){(this.cellFormats||[]).concat([this.format,this.rowFormat,this.firstRowsFormat]).filter(e=>e).map(t=>t.updateTables(e))},getRTFCode:function(e){return this.updateFormats(e),this.data.filter(e=>s(e)).map((t,r)=>this.getRowContent(e,t,r),this).join("\n")}});e.exports=l},function(e,t,r){var n=r(91),o=r(137),i=r(68)(o,{__constructor:function(e,t){this.__base.call(this,t),this.elements=[],this.name=e},addElement:function(e){this.elements.push(e)},getRTFCode:function(e){var t=this.elements.map(t=>t instanceof o?t.getRTFCode(e):n.getRTFSafeText(t)).join("\n");return t=this.format.formatText(t,e,{noEscape:!0})}});e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e?"string"==typeof e?t.writeText(e):e.flatMap(e=>{if(!e.children)return p(e,t);switch(e.type){case"numbered-list":case"bulleted-list":return t.addLine(),m(e,t);case"heading-one":return t.addElement([e.children.map(h)],a);case"heading-two":return t.addElement([e.children.map(h)],s);case"list-item":case"link":return t.writeText(e.url);case"image-link":return t.writeText(e.url,f);case"image-data":return t.writeText((0,o.default)("[image]"),f);case"block-quote":return t.writeText(e.children[0].text,f);case"paragraph":default:return t.addElement([e.children.map(h)],f)}}):t};var n=i(r(414)),o=i(r(5));function i(e){return e&&e.__esModule?e:{default:e}}const a=new n.default.Format({bold:!0,paragraph:!0,spaceBefore:100,spaceAfter:100,fontSize:18,alignCenter:!0}),s=new n.default.Format({bold:!0,paragraph:!0,spaceBefore:100,spaceAfter:100,fontSize:16,alignCenter:!0}),l=new n.default.Format({bold:!0}),u=new n.default.Format({italic:!0}),c=new n.default.Format({underline:!0}),d=new n.default.Format({strike:!0}),f=new n.default.Format({paragraph:!0,spaceBefore:100,spaceAfter:100});const p=(e,t)=>e.bold?t.writeText(e.text,l):e.italic?t.writeText(e.text,u):e.underline?t.writeText(e.text,c):e.strike?t.writeText(e.text,d):t.writeText(e.text),h=e=>e.bold?new n.default.TextElement(e.text,l):e.italic?new n.default.TextElement(e.text,u):e.underline?new n.default.TextElement(e.text,c):new n.default.TextElement(e.text),m=(e,t)=>{const r=e.children.map(g).join(" "),o=n.default.Utils.makeRtfCmd("\\ls1\\ilvl0\\cf2 \\kerning1\\expnd0\\expndtw0 \\outl0\\strokewidth0 ",r,"",!1);t.addCommand(o)},g=e=>{const t=e.children.flatMap(e=>e.text).join(" ");return n.default.Utils.makeRtfCmd("{\\listtext\t\\uc0\\u8226\t}",t,"\\\n",!1)}},function(e){e.exports={_declaration:{_attributes:{version:"1.0",encoding:"UTF-8"}},ScrivenerProject:{_attributes:{Version:"1.5"},Binder:{BinderItem:[{_attributes:{ID:"0",Type:"DraftFolder"},Title:{_text:"Manuscript"},Children:{BinderItem:[]}},{_attributes:{ID:"1",Type:"ResearchFolder"},Title:{_text:"Notes"}},{_attributes:{ID:"2",Type:"TrashFolder"},Title:{_text:"Trash"}}]},ProjectProperties:{ProjectTitle:{_text:"Title"}}}}},function(e){e.exports={_attributes:{ID:"",Type:"Text"},Title:{_text:""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,{fileName:t,bookId:r}){let c=new i.Document,f=function(e){let t=e.characters.reduce((function(e,t){return e[t.id]=t.name,e}),{}),r=e.places.reduce((function(e,t){return e[t.id]=t.name,e}),{}),n=e.tags.reduce((function(e,t){return e[t.id]=t.title,e}),{});return{characters:t,places:r,tags:n}}(e),p=[];r||(r=e.ui.currentTimeline);p.push(function(e,t){let r="series"==t?e.series.name:e.books[t].title;return{children:[new i.Paragraph({text:r,heading:i.HeadingLevel.TITLE,alignment:i.AlignmentType.CENTER})]}}(e,r)),p.push(function(e,t,r,a){let u=[];u.push(new i.Paragraph({text:(0,s.default)("Outline"),heading:i.HeadingLevel.HEADING_1,alignment:i.AlignmentType.CENTER}));let c=[];c="series"==r?(0,o.default)(e.beats,"position"):(0,o.default)(e.chapters.filter(e=>e.bookId==r),"position");if(!c.length)return{children:u};const f=(h=c,h[0].title==(0,s.default)("Prologue")?-1:0),p=c.flatMap(u=>function(e,t,r,a,u,c){const f="series"==a;let p=[new i.Paragraph("")];p.push(new i.Paragraph("^"));let h=function(e,t,r){return r?"auto"==e.title?(0,s.default)("Beat {number}",{number:e.position+t+1}):e.title:"auto"==e.title?(0,s.default)("Chapter {number}",{number:e.position+t+1}):e.title}(e,u,f);p.push(new i.Paragraph({text:h,heading:i.HeadingLevel.HEADING_2}));let m=t.lines;f&&(m=t.seriesLines);let g=function(e,t,r,i,a){let s=function(e,t,r){const n=r?"beatId":"chapterId";return t.filter(t=>t[n]===e)}(t,r,a);const l=(0,o.default)(i,"position");if(e){const e=a?"seriesLineId":"lineId",t=(0,n.default)(s,"positionWithinLine"),r=l.map(e=>e.id);return Object.keys(t).flatMap(n=>t[n].sort((t,n)=>r.indexOf(t[e])-r.indexOf(n[e])))}return(0,o.default)(s,"positionInChapter")}(e.autoOutlineSort,e.id,t.cards,m,f).flatMap(e=>function(e,t,r,n,o){let a=[new i.Paragraph("")];const s=o?"seriesLineId":"lineId";let u=t.find(t=>e[s]==t.id),c=e.title;u&&(c=`${e.title} (${u.title})`);let f=d(e,r);a.push(new i.Paragraph({text:c,heading:i.HeadingLevel.HEADING_3})),a=a.concat(f);const p=(0,l.default)(e.description,n);return a.concat(p)}(e,m,r,c,f));return p.concat(g)}(u,e,t,r,f,a));var h;return{children:u.concat(p)}}(e,f,r,c)),p.push(function(e,t){let r=[new i.Paragraph({text:"",pageBreakBefore:!0}),new i.Paragraph("^"),new i.Paragraph({text:(0,s.default)("Characters"),heading:i.HeadingLevel.HEADING_1,alignment:i.AlignmentType.CENTER})];const n=function(e,t,r,n){let o=[];return e.forEach(e=>{o.push(new i.Paragraph("")),o.push(new i.Paragraph("^"));let a=new i.Paragraph({text:e.name,heading:i.HeadingLevel.HEADING_2});if(o.push(a),e.imageId){const t=r[e.imageId]&&r[e.imageId].data;if(t){const e=i.Media.addImage(n,Buffer.from(t.replace("data:image/jpeg;base64,",""),"base64"));o.push(new i.Paragraph({children:[e]}))}}o.push(new i.Paragraph({text:(0,s.default)("Description"),heading:i.HeadingLevel.HEADING_3})),o.push(new i.Paragraph(e.description)),o.push(new i.Paragraph({text:(0,s.default)("Notes"),heading:i.HeadingLevel.HEADING_3}));const u=(0,l.default)(e.notes,n);o=[...o,...u],t.forEach(t=>{if(o.push(new i.Paragraph({text:t.name,heading:i.HeadingLevel.HEADING_3})),e[t.name])if("paragraph"==t.type){const r=(0,l.default)(e[t.name],n);o=[...o,...r]}else e[t.name]&&o.push(new i.Paragraph(e[t.name]));else o.push(new i.Paragraph(""))}),e.templates.forEach(e=>{e.attributes.forEach(e=>{if(o.push(new i.Paragraph({text:e.name,heading:i.HeadingLevel.HEADING_3})),e.value)if("paragraph"==e.type){const t=(0,l.default)(e.value,n);o=[...o,...t]}else o.push(new i.Paragraph(e.value))})})}),o}(e.characters,e.customAttributes.characters,e.images,t);return{children:r.concat(n)}}(e,c)),p.push(function(e,t){let r=[new i.Paragraph({text:"",pageBreakBefore:!0}),new i.Paragraph("^"),new i.Paragraph({text:(0,s.default)("Places"),heading:i.HeadingLevel.HEADING_1,alignment:i.AlignmentType.CENTER})];const n=function(e,t,r,n){let o=[];return e.forEach(e=>{o.push(new i.Paragraph("")),o.push(new i.Paragraph("^"));let a=new i.Paragraph({text:e.name,heading:i.HeadingLevel.HEADING_2});if(o.push(a),e.imageId){const t=r[e.imageId]&&r[e.imageId].data;if(t){const e=i.Media.addImage(n,Buffer.from(t.replace("data:image/jpeg;base64,",""),"base64"));o.push(new i.Paragraph({children:[e]}))}}o.push(new i.Paragraph({text:(0,s.default)("Description"),heading:i.HeadingLevel.HEADING_3})),o.push(new i.Paragraph(e.description)),o.push(new i.Paragraph({text:(0,s.default)("Notes"),heading:i.HeadingLevel.HEADING_3}));const u=(0,l.default)(e.notes,n);o=[...o,...u],t.forEach(t=>{if(o.push(new i.Paragraph({text:t.name,heading:i.HeadingLevel.HEADING_3})),e[t.name])if("paragraph"==t.type){const r=(0,l.default)(e[t.name],n);o=[...o,...r]}else e[t.name]&&o.push(new i.Paragraph(e[t.name]));else o.push(new i.Paragraph(""))})}),o}(e.places,e.customAttributes.places,e.images,t);return{children:r.concat(n)}}(e,c)),p.push(function(e,t,r){let n=[new i.Paragraph({text:"",pageBreakBefore:!0}),new i.Paragraph("^"),new i.Paragraph({text:(0,s.default)("Notes"),heading:i.HeadingLevel.HEADING_1,alignment:i.AlignmentType.CENTER})];const o=function(e,t,r,n){let o=[];return e.forEach((function(e){o.push(new i.Paragraph("")),o.push(new i.Paragraph("^"));let a=new i.Paragraph({text:e.title,heading:i.HeadingLevel.HEADING_2});if(o.push(a),e.imageId){const t=r[e.imageId]&&r[e.imageId].data;if(t){const e=i.Media.addImage(n,Buffer.from(t.replace("data:image/jpeg;base64,",""),"base64"));o.push(new i.Paragraph({children:[e]}))}}const s=d(e,t),u=(0,l.default)(e.content,n);o=[...o,...s,...u]})),o}(e.notes,t,e.images,r);return{children:n.concat(o)}}(e,f,c)),p.forEach(e=>c.addSection(e)),i.Packer.toBuffer(c).then(e=>{const r=t.includes(".docx")?t:`${t}.docx`;a.default.writeFileSync(r,e),(0,u.notifyUser)(r,"word")})};var n=c(r(131)),o=c(r(29)),i=(r(14),r(418)),a=c(r(17)),s=c(r(5)),l=c(r(985)),u=r(417);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){let r=[],n=[],o=[],a=[];return e.characters&&(n=e.characters.map(e=>t.characters[e])),e.places&&(o=e.places.map(e=>t.places[e])),e.tags&&(a=e.tags.map(e=>t.tags[e])),n.length&&r.push(new i.Paragraph(`${(0,s.default)("Characters")}: ${n.join(", ")}`)),o.length&&r.push(new i.Paragraph(`${(0,s.default)("Places")}: ${o.join(", ")}`)),a.length&&r.push(new i.Paragraph(`${(0,s.default)("Tags")}: ${a.join(", ")}`)),r.length&&r.push(new i.Paragraph("")),r}},function(e,t,r){"use strict";const{Paragraph:n,TextRun:o,AlignmentType:i,HeadingLevel:a,Numbering:s,Hyperlink:l,HyperlinkType:u,HyperLinkRef:c,Media:d}=r(418),f=new s({config:[{reference:"decimal-numbering",levels:[{level:0,format:"decimal",text:"%1",alignment:i.START,style:{paragraph:{indent:{left:720,hanging:260}}}}]}]}),p=f.createAbstractNumbering([{level:0,format:"decimal",text:"%1",alignment:i.START,style:{paragraph:{indent:{left:720,hanging:260}}}}]),h=(f.createConcreteNumbering(p),(e,t)=>e&&e.flatMap?"string"==typeof e?[new n({children:[m({text:e})]})]:e.flatMap(e=>{if(!e.children)return m(e);const r=h(e.children,t);switch(e.type){case"bulleted-list":return r.map(e=>new n({children:[e],bullet:{level:0}}));case"heading-one":return new n({children:r,heading:a.HEADING_4});case"heading-two":return new n({children:r,heading:a.HEADING_5});case"list-item":return r[0];case"numbered-list":return r.map(e=>new n({children:[e],bullet:{level:0}}));case"link":return t.createHyperlink(e.url,e.url);case"image-link":return new n({children:[t.createHyperlink(e.url,e.url),...r]});case"image-data":const o=e.data,i=d.addImage(t,Buffer.from(o.replace("data:image/jpeg;base64,",""),"base64"));return new n({children:[i]});case"block-quote":case"paragraph":default:return new n({children:r})}}):[]),m=e=>{const t={text:e.text};return e.bold&&(t.bold=!0),e.italic&&(t.italics=!0),e.underline&&(t.underline={}),e.color&&(t.color=e.color.replace("#","")),e.strike&&(t.strike=!0),e.font&&(t.font={hint:e.font,name:e.font}),new o(t)};e.exports=h},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNewCustomTemplate=function(e,{type:t,data:r}){"plotlines"==t?function(e,{name:t,description:r,link:o}){const i=(0,n.default)(e);let s=l("pl"),u=i.ui.currentTimeline,c={id:s,type:"plotlines",name:t,description:r,link:o,templateData:{}};const d=i.chapters.filter(e=>e.bookId==u);c.templateData.chapters=d;const f=i.lines.filter(e=>e.bookId==u);f.length>1&&(c.templateData.lines=f);if(i.cards.length){const e=d.map(e=>e.id);let t=[];f.forEach(r=>{const n=i.cards.filter(t=>e.includes(t.chapterId)&&t.lineId==r.id);t=t.concat(n)}),c.templateData.cards=t}a.customTemplatesStore.set(s,c)}(e,r):"characters"==t&&function(e,{name:t,description:r,link:o}){const i=(0,n.default)(e);let s=l("ch");const u={id:s,type:"characters",name:t,description:r,link:o,attributes:i.customAttributes.characters};a.customTemplatesStore.set(s,u)}(e,r);try{new o.Notification((0,i.default)("Template Saved"),{body:(0,i.default)("Your template has been saved and is ready to use"),silent:!0})}catch(e){}};var n=s(r(74)),o=r(14),i=s(r(5)),a=r(35);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return Math.random().toString(16).replace("0.",`${e}`).substr(0,8)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=r(111),l=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(d)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],l=a,f=!1;function p(){l===a&&(l=a.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),l.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var r=l.indexOf(e);l.splice(r,1),a=null}}}function g(e){if(!c(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,i=o(i,e)}finally{f=!1}for(var t=a=l,r=0;r<t.length;r++){(0,t[r])()}return e}function b(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,g({type:u.REPLACE})}function v(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(h())}return r(),{unsubscribe:t(r)}}})[s.a]=function(){return this},e}return g({type:u.INIT}),(n={dispatch:g,subscribe:m,getState:h,replaceReducer:b})[s.a]=v,n}function f(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return f(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=f(o,t))}return r}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}r(2);var v=o.a.createContext(null);var y=function(e){e()},w={notify:function(){}};function E(){var e=y,t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){n&&null!==t&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var _=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=w,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=E())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=w)},e}();var O=function(e){var t=e.store,r=e.context,i=e.children,a=Object(n.useMemo)((function(){var e=new _(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=Object(n.useMemo)((function(){return t.getState()}),[t]);Object(n.useEffect)((function(){var e=a.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,s]);var l=r||v;return o.a.createElement(l.Provider,{value:a},i)};function C(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var x=r(180),T=r.n(x),S=r(445),P="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,k=[],I=[null,null];function A(e,t){var r=e[1];return[t.payload,r+1]}function j(e,t,r){P((function(){return e.apply(void 0,t)}),r)}function D(e,t,r,n,o,i,a){e.current=n,t.current=o,r.current=!1,i.current&&(i.current=null,a())}function R(e,t,r,n,o,i,a,s,l,u){if(e){var c=!1,d=null,f=function(){if(!c){var e,r,f=t.getState();try{e=n(f,o.current)}catch(e){r=e,d=e}r||(d=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=f,r.trySubscribe(),f();return function(){if(c=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d}}}var N=function(){return[null,0]};function M(e,t){void 0===t&&(t={});var r=t,i=r.getDisplayName,s=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,l=r.methodName,u=void 0===l?"connectAdvanced":l,c=r.renderCountProp,d=void 0===c?void 0:c,f=r.shouldHandleStateChanges,p=void 0===f||f,h=r.storeKey,m=void 0===h?"store":h,g=(r.withRef,r.forwardRef),b=void 0!==g&&g,y=r.context,w=void 0===y?v:y,E=C(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),O=w;return function(t){var r=t.displayName||t.name||"Component",i=s(r),l=a({},E,{getDisplayName:s,methodName:u,renderCountProp:d,shouldHandleStateChanges:p,storeKey:m,displayName:i,wrappedComponentName:r,WrappedComponent:t}),c=E.pure;var f=c?n.useMemo:function(e){return e()};function h(r){var i=Object(n.useMemo)((function(){var e=r.forwardedRef,t=C(r,["forwardedRef"]);return[r.context,e,t]}),[r]),s=i[0],u=i[1],c=i[2],d=Object(n.useMemo)((function(){return s&&s.Consumer&&Object(S.isContextConsumer)(o.a.createElement(s.Consumer,null))?s:O}),[s,O]),h=Object(n.useContext)(d),m=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var g=m?r.store:h.store,b=Object(n.useMemo)((function(){return function(t){return e(t.dispatch,l)}(g)}),[g]),v=Object(n.useMemo)((function(){if(!p)return I;var e=new _(g,m?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[g,m,h]),y=v[0],w=v[1],E=Object(n.useMemo)((function(){return m?h:a({},h,{subscription:y})}),[m,h,y]),x=Object(n.useReducer)(A,k,N),T=x[0][0],P=x[1];if(T&&T.error)throw T.error;var M=Object(n.useRef)(),L=Object(n.useRef)(c),F=Object(n.useRef)(),B=Object(n.useRef)(!1),W=f((function(){return F.current&&c===L.current?F.current:b(g.getState(),c)}),[g,T,c]);j(D,[L,M,B,c,W,F,w]),j(R,[p,g,y,b,L,M,B,F,w,P],[g,y,b]);var H=Object(n.useMemo)((function(){return o.a.createElement(t,a({},W,{ref:u}))}),[u,t,W]);return Object(n.useMemo)((function(){return p?o.a.createElement(d.Provider,{value:E},H):H}),[d,H,E])}var g=c?o.a.memo(h):h;if(g.WrappedComponent=t,g.displayName=i,b){var v=o.a.forwardRef((function(e,t){return o.a.createElement(g,a({},e,{forwardedRef:t}))}));return v.displayName=i,v.WrappedComponent=t,T()(v,t)}return T()(g,t)}}function L(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function F(e,t){if(L(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!L(e[r[o]],t[r[o]]))return!1;return!0}function B(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function W(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function H(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=W(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=W(o),o=n(t,r)),o},n}}var z=[function(e){return"function"==typeof e?H(e):void 0},function(e){return e?void 0:B((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?B((function(t){return p(e,t)})):void 0}];var U=[function(e){return"function"==typeof e?H(e):void 0},function(e){return e?void 0:B((function(){return{}}))}];function q(e,t,r){return a({},r,{},e,{},t)}var G=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,s){var l=e(t,r,s);return a?o&&i(l,n)||(n=l):(a=!0,n=l),n}}}(e):void 0},function(e){return e?void 0:function(){return q}}];function V(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function K(e,t,r,n,o){var i,a,s,l,u,c=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1;function h(o,p){var h,m,g=!d(p,a),b=!c(o,i);return i=o,a=p,g&&b?(s=e(i,a),t.dependsOnOwnProps&&(l=t(n,a)),u=r(s,l,a)):g?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(n,a)),u=r(s,l,a)):b?(h=e(i,a),m=!f(h,s),s=h,m&&(u=r(s,l,a)),u):u}return function(o,c){return p?h(o,c):(s=e(i=o,a=c),l=t(n,a),u=r(s,l,a),p=!0,u)}}function X(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=C(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,i),s=n(e,i),l=o(e,i);return(i.pure?K:V)(a,s,l,e,i)}function Y(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function $(e,t){return e===t}function Z(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?M:r,o=t.mapStateToPropsFactories,i=void 0===o?U:o,s=t.mapDispatchToPropsFactories,l=void 0===s?z:s,u=t.mergePropsFactories,c=void 0===u?G:u,d=t.selectorFactory,f=void 0===d?X:d;return function(e,t,r,o){void 0===o&&(o={});var s=o,u=s.pure,d=void 0===u||u,p=s.areStatesEqual,h=void 0===p?$:p,m=s.areOwnPropsEqual,g=void 0===m?F:m,b=s.areStatePropsEqual,v=void 0===b?F:b,y=s.areMergedPropsEqual,w=void 0===y?F:y,E=C(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=Y(e,i,"mapStateToProps"),O=Y(t,l,"mapDispatchToProps"),x=Y(r,c,"mergeProps");return n(f,a({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:O,initMergeProps:x,pure:d,areStatesEqual:h,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:w},E))}}var J=Z();var Q,ee=r(9),te=r.n(ee);function re(e,t){var r=Object(n.useState)((function(){return{inputs:t,result:e()}}))[0],o=Object(n.useRef)(r),i=Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return Object(n.useEffect)((function(){o.current=i}),[i]),i.result}Q=ee.unstable_batchedUpdates,y=Q;var ne=re,oe=function(e,t){return re((function(){return e}),t)};var ie=function(e,t){if(!e)throw new Error("Invariant failed")},ae=function(e){var t=e.top,r=e.right,n=e.bottom,o=e.left;return{top:t,right:r,bottom:n,left:o,width:r-o,height:n-t,x:o,y:t,center:{x:(r+o)/2,y:(n+t)/2}}},se=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},le=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},ue={top:0,right:0,bottom:0,left:0},ce=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?ue:r,o=e.border,i=void 0===o?ue:o,a=e.padding,s=void 0===a?ue:a,l=ae(se(t,n)),u=ae(le(t,i)),c=ae(le(u,s));return{marginBox:l,borderBox:ae(t),paddingBox:u,contentBox:c,margin:n,border:i,padding:s}},de=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&ie(!1),r},fe=function(e,t){var r,n,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(n=t,{top:(r=o).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return ce({borderBox:l,border:i,margin:a,padding:s})},pe=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),fe(e,t)},he=function(e,t){var r={top:de(t.marginTop),right:de(t.marginRight),bottom:de(t.marginBottom),left:de(t.marginLeft)},n={top:de(t.paddingTop),right:de(t.paddingRight),bottom:de(t.paddingBottom),left:de(t.paddingLeft)},o={top:de(t.borderTopWidth),right:de(t.borderRightWidth),bottom:de(t.borderBottomWidth),left:de(t.borderLeftWidth)};return ce({borderBox:e,margin:r,padding:n,border:o})},me=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return he(t,r)},ge=r(25),be=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};r.d(t,"DragDropContext",(function(){return xo})),r.d(t,"Draggable",(function(){return ai})),r.d(t,"Droppable",(function(){return ci})),r.d(t,"resetServerContext",(function(){return Co}));function ve(e,t){}ve.bind(null,"warn"),ve.bind(null,"error");function ye(){}function we(e,t,r){var n=t.map((function(t){var n,o,i=(n=r,o=t.options,a({},n,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){n.forEach((function(e){e()}))}}function Ee(e){this.message=e}function _e(e,t){if(!e)throw new Ee("Invariant failed")}Ee.prototype.toString=function(){return this.message};var Oe=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).callbacks=null,t.unbind=ye,t.onWindowError=function(e){var r=t.getCallbacks();r.isDragging()&&r.tryAbort(),e.error instanceof Ee&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}i(t,e);var r=t.prototype;return r.componentDidMount=function(){this.unbind=we(window,[{eventName:"error",fn:this.onWindowError}])},r.componentWillUnmount=function(){this.unbind()},r.componentDidCatch=function(e){if(!(e instanceof Ee))throw e;this.setState({})},r.render=function(){return this.props.children(this.setCallbacks)},t}(o.a.Component),Ce=function(e){return e+1},xe=function(e,t){var r=e.droppableId===t.droppableId,n=Ce(e.index),o=Ce(t.index);return r?"\n      You have moved the item from position "+n+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+n+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},Te=function(e,t,r){return t.droppableId===r.droppableId?"\n      The item "+e+"\n      has been combined with "+r.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+r.draggableId+"\n      in list "+r.droppableId+"\n    "},Se=function(e){return"\n  The item has returned to its starting position\n  of "+Ce(e.index)+"\n"},Pe="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",ke=function(e){return"\n  You have lifted an item in position "+Ce(e.source.index)+"\n"},Ie=function(e){var t=e.destination;if(t)return xe(e.source,t);var r=e.combine;return r?Te(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},Ae=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Se(e.source)+"\n    ";var t=e.destination,r=e.combine;return t?"\n      You have dropped the item.\n      "+xe(e.source,t)+"\n    ":r?"\n      You have dropped the item.\n      "+Te(e.draggableId,e.source,r)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Se(e.source)+"\n  "},je={x:0,y:0},De=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Re=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Ne=function(e,t){return e.x===t.x&&e.y===t.y},Me=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Le=function(e,t,r){var n;return void 0===r&&(r=0),(n={})[e]=t,n["x"===e?"y":"x"]=r,n},Fe=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Be=function(e,t){return Math.min.apply(Math,t.map((function(t){return Fe(e,t)})))},We=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},He=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},ze=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Ue=function(e,t){return t&&t.shouldClipSubject?function(e,t){var r=ae({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}(t.pageMarginBox,e):ae(e)},qe=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,o=e.frame,i=function(e,t,r){var n;return r&&r.increasedBy?a({},e,((n={})[t.end]=e[t.end]+r.increasedBy[t.line],n)):e}(function(e,t){return t?He(e,t.scroll.diff.displacement):e}(t.marginBox,o),n,r);return{page:t,withPlaceholder:r,active:Ue(i,o)}},Ge=function(e,t){e.frame||_e(!1);var r=e.frame,n=Re(t,r.scroll.initial),o=Me(n),i=a({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}});return a({},e,{frame:i,subject:qe({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Ve(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Ke(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Xe(e,t){if(e.find)return e.find(t);var r=Ke(e,t);return-1!==r?e[r]:void 0}function Ye(e){return Array.prototype.slice.call(e)}var $e=Object(ge.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Ze=Object(ge.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Je=Object(ge.a)((function(e){return Ve(e)})),Qe=Object(ge.a)((function(e){return Ve(e)})),et=Object(ge.a)((function(e,t){return Qe(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function tt(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function rt(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var nt=Object(ge.a)((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),ot=function(e,t){return e.descriptor.droppableId===t.descriptor.id},it={point:je,value:0},at={invisible:{},visible:{},all:[]},st={displaced:at,displacedBy:it,at:null},lt=function(e,t){return function(r){return e<=r&&r<=t}},ut=function(e){var t=lt(e.top,e.bottom),r=lt(e.left,e.right);return function(n){if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;var o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right);if(o&&i)return!0;var a=n.top<e.top&&n.bottom>e.bottom,s=n.left<e.left&&n.right>e.right;return!(!a||!s)||(a&&i||s&&o)}},ct=function(e){var t=lt(e.top,e.bottom),r=lt(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)}},dt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ft={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},pt=function(e){var t=e.target,r=e.destination,n=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:je;return He(e,r)}(t,r):t;return function(e,t,r){return!!t.subject.active&&r(t.subject.active)(e)}(a,r,i)&&function(e,t,r){return r(t)(e)}(a,n,i)},ht=function(e){return pt(a({},e,{isVisibleThroughFrameFn:ut}))},mt=function(e){return pt(a({},e,{isVisibleThroughFrameFn:ct}))};function gt(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return ae(se(r,n))}(t,n),l=t.descriptor.id;if(e.all.push(l),!ht({target:s,destination:r,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var u={draggableId:l,shouldAnimate:function(e,t,r){if("boolean"==typeof r)return r;if(!t)return!0;var n=t.invisible,o=t.visible;if(n[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i)};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function bt(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:at,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function vt(e){var t=e.draggable,r=e.insideDestination,n=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,u=ot(t,n);if(null==s)return bt({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var c=Xe(r,(function(e){return e.descriptor.index===s}));if(!c)return bt({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var d=nt(t,r),f=r.indexOf(c);return{displaced:gt({afterDragging:d.slice(f),destination:n,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function yt(e,t){return Boolean(t.effected[e])}var wt=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,u=e.afterCritical,c=s.at;if(c||_e(!1),"REORDER"===c.type){var d=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var i=o.index,a=t?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return a<s||a>(r?l:l+1)?null:a}({isMovingForward:t,isInHomeList:r,location:c.destination,insideDestination:a});return null==d?null:vt({draggable:n,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var f=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,o=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var a=o.draggableId,s=n[a].descriptor.index;return yt(a,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:c.combine,afterCritical:u});return null==f?null:vt({draggable:n,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},Et=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,o=rt(r);o||_e(!1);var i=o.draggableId,a=n[i].page.borderBox.center,s=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[n]||t.invisible[n]);return yt(n,r)?i?je:Me(o.point):i?o.point:je}({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return De(a,s)},_t=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Ot=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},Ct=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return Le(t.line,r.marginBox[t.end]+_t(t,n),Ot(t,r.marginBox,n))},xt=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return Le(t.line,r.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,n),Ot(t,r.marginBox,n))},Tt=function(e){var t=e.impact,r=e.draggable,n=e.draggables,o=e.droppable,i=e.afterCritical,a=et(o.descriptor.id,n),s=r.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,r=e.moveInto,n=e.isMoving;return Le(t.line,r.contentBox[t.start]+_t(t,n),Ot(t,r.contentBox,n))}({axis:l,moveInto:o.page,isMoving:s});var u=t.displaced,c=t.displacedBy,d=u.all[0];if(d){var f=n[d];if(yt(d,i))return xt({axis:l,moveRelativeTo:f.page,isMoving:s});var p=fe(f.page,c.point);return xt({axis:l,moveRelativeTo:p,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===r.descriptor.id)return s.borderBox.center;if(yt(h.descriptor.id,i)){var m=fe(h.page,Me(i.displacedBy.point));return Ct({axis:l,moveRelativeTo:m,isMoving:s})}return Ct({axis:l,moveRelativeTo:h.page,isMoving:s})},St=function(e,t){var r=e.frame;return r?De(t,r.scroll.diff.displacement):t},Pt=function(e){var t=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.afterCritical,a=r.page.borderBox.center,s=t.at;return n&&s?"REORDER"===s.type?Tt({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:i}):Et({impact:t,draggables:o,afterCritical:i}):a}(e),r=e.droppable;return r?St(r,t):t},kt=function(e,t){var r=Re(t,e.scroll.initial),n=Me(r);return{frame:ae({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function It(e,t){return e.map((function(e){return t[e]}))}var At=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=function(e,t){return De(e.scroll.diff.displacement,t)}(e.viewport,t),o=Re(n,r.page.borderBox.center);return De(r.client.borderBox.center,o)},jt=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,s=e.onlyOnMainAxis,l=void 0!==s&&s,u=Re(n,t.page.borderBox.center),c={target:He(t.page.borderBox,u),destination:r,withDroppableDisplacement:i,viewport:o};return l?function(e){return pt(a({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var r=lt(e.top,e.bottom),n=lt(e.left,e.right);return function(e){return t===dt?r(e.top)&&r(e.bottom):n(e.left)&&n(e.right)}})}));var t}(c):mt(c)},Dt=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.draggables,i=e.previousImpact,s=e.viewport,l=e.previousPageBorderBoxCenter,u=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var d=et(n.descriptor.id,o),f=ot(r,n),p=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;if(!tt(i))return null;function s(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return a({},i,{at:t})}var l=i.displaced.all,u=l.length?l[0]:null;if(t)return u?s(u):null;var c=nt(r,o);if(!u)return c.length?s(c[c.length-1].descriptor.id):null;var d=Ke(c,(function(e){return e.descriptor.id===u}));-1===d&&_e(!1);var f=d-1;return f<0?null:s(c[f].descriptor.id)}({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:i})||wt({isMovingForward:t,isInHomeList:f,draggable:r,draggables:o,destination:n,insideDestination:d,previousImpact:i,viewport:s,afterCritical:c});if(!p)return null;var h=Pt({impact:p,draggable:r,droppable:n,draggables:o,afterCritical:c});if(jt({draggable:r,destination:n,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:At({pageBorderBoxCenter:h,draggable:r,viewport:s}),impact:p,scrollJumpRequest:null};var m=Re(h,l);return{clientSelection:u,impact:function(e){var t=e.impact,r=e.viewport,n=e.destination,o=e.draggables,i=e.maxScrollChange,s=kt(r,De(r.scroll.current,i)),l=n.frame?Ge(n,De(n.frame.scroll.current,i)):n,u=t.displaced,c=gt({afterDragging:It(u.all,o),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:u,forceShouldAnimate:!1}),d=gt({afterDragging:It(u.all,o),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:u,forceShouldAnimate:!1}),f={},p={},h=[u,c,d];return u.all.forEach((function(e){var t=function(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}(e,h);t?p[e]=t:f[e]=!0})),a({},t,{displaced:{all:u.all,invisible:f,visible:p}})}({impact:p,viewport:s,destination:n,draggables:o,maxScrollChange:m}),scrollJumpRequest:m}},Rt=function(e){var t=e.subject.active;return t||_e(!1),t},Nt=function(e,t){var r=e.page.borderBox.center;return yt(e.descriptor.id,t)?Re(r,t.displacedBy.point):r},Mt=function(e,t){var r=e.page.borderBox;return yt(e.descriptor.id,t)?He(r,Me(t.displacedBy.point)):r},Lt=Object(ge.a)((function(e,t){var r=t[e.line];return{value:r,point:Le(e.line,r)}})),Ft=function(e,t){return a({},e,{scroll:a({},e.scroll,{max:t})})},Bt=function(e,t,r){var n=e.frame;ot(t,e)&&_e(!1),e.subject.withPlaceholder&&_e(!1);var o=Lt(e.axis,t.displaceBy).point,i=function(e,t,r){var n=e.axis;if("virtual"===e.descriptor.mode)return Le(n.line,t[n.line]);var o=e.subject.page.contentBox[n.size],i=et(e.descriptor.id,r).reduce((function(e,t){return e+t.client.marginBox[n.size]}),0)+t[n.line]-o;return i<=0?null:Le(n.line,i)}(e,o,r),s={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n)return a({},e,{subject:qe({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame})});var l=i?De(n.scroll.max,i):n.scroll.max,u=Ft(n,l);return a({},e,{subject:qe({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:u}),frame:u})},Wt=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,u=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,o=e.droppables,i=e.viewport,a=n.subject.active;if(!a)return null;var s=n.axis,l=lt(a[s.start],a[s.end]),u=Je(o).filter((function(e){return e!==n})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return ut(i.frame)(Rt(e))})).filter((function(e){var r=Rt(e);return t?a[s.crossAxisEnd]<r[s.crossAxisEnd]:r[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Rt(e),r=lt(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||r(a[s.start])||r(a[s.end])})).sort((function(e,r){var n=Rt(e)[s.crossAxisStart],o=Rt(r)[s.crossAxisStart];return t?n-o:o-n})).filter((function(e,t,r){return Rt(e)[s.crossAxisStart]===Rt(r[0])[s.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var c=u.filter((function(e){return lt(Rt(e)[s.start],Rt(e)[s.end])(r[s.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return Rt(e)[s.start]-Rt(t)[s.start]}))[0]:u.sort((function(e,t){var n=Be(r,ze(Rt(e))),o=Be(r,ze(Rt(t)));return n!==o?n-o:Rt(e)[s.start]-Rt(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:a,viewport:s});if(!u)return null;var c=et(u.descriptor.id,i),d=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:at,displacedBy:it,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},c=Pt({impact:u,draggable:o,droppable:a,draggables:i,afterCritical:l}),d=ot(o,a)?a:Bt(a,o,i);return jt({draggable:o,destination:d,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var f,p=Boolean(t[a.axis.line]<=r.page.borderBox.center[a.axis.line]),h=(f=r.descriptor.index,r.descriptor.id===o.descriptor.id||p?f:f+1),m=Lt(a.axis,o.displaceBy);return vt({draggable:o,insideDestination:n,destination:a,viewport:s,displacedBy:m,last:at,index:h})}({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:i,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,o=e.insideDestination,i=e.afterCritical;return o.filter((function(e){return mt({target:Mt(e,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})})).sort((function(e,r){var o=Fe(t,St(n,Nt(e,i))),a=Fe(t,St(n,Nt(r,i)));return o<a?-1:a<o?1:e.descriptor.index-r.descriptor.index}))[0]||null}({pageBorderBoxCenter:r,viewport:s,destination:u,insideDestination:c,afterCritical:l}),insideDestination:c,viewport:s,afterCritical:l});if(!d)return null;var f=Pt({impact:d,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:At({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:d,scrollJumpRequest:null}},Ht=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},zt=function(e){var t=e.state,r=e.type,n=function(e,t){var r=Ht(e);return r?t[r]:null}(t.impact,t.dimensions.droppables),o=Boolean(n),i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===s&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(l&&!o)return null;var u="MOVE_DOWN"===r||"MOVE_RIGHT"===r,c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,p=f.draggables,h=f.droppables;return l?Dt({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:a,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Wt({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:a,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Ut(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function qt(e){var t=lt(e.top,e.bottom),r=lt(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}function Gt(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,o=Je(n).filter((function(e){if(!e.isEnabled)return!1;var r,n,o=e.subject.active;if(!o)return!1;if(n=o,!((r=t).left<n.right&&r.right>n.left&&r.top<n.bottom&&r.bottom>n.top))return!1;if(qt(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],u=lt(o[i.crossAxisStart],o[i.crossAxisEnd]),c=u(s),d=u(l);return!c&&!d||(c?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,o=r.page.borderBox.center,i=n.map((function(e){var r=e.axis,n=Le(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:Fe(o,n)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:r,candidates:o}):null}var Vt=function(e,t){return ae(He(e,t))};function Kt(e){var t=e.displaced,r=e.id;return Boolean(t.visible[r]||t.invisible[r])}var Xt=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=Vt(r.page.borderBox,t),u=Gt({pageBorderBox:l,draggable:r,droppables:o});if(!u)return st;var c,d,f=o[u],p=et(f.descriptor.id,n),h=(c=l,(d=f.frame)?Vt(c,d.scroll.diff.value):c);return function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=Lt(o.axis,t.displaceBy),u=l.value,c=r[s.start],d=r[s.end],f=Xe(nt(t,i),(function(e){var t=e.descriptor.id,r=e.page.borderBox,o=r[s.size]/4,i=yt(t,a),l=Kt({displaced:n.displaced,id:t});return i?l?d>r[s.start]+o&&d<r[s.end]-o:c>r[s.start]-u+o&&c<r[s.end]-u-o:l?d>r[s.start]+u+o&&d<r[s.end]+u-o:c>r[s.start]+o&&c<r[s.end]-o}));return f?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:i,destination:f,insideDestination:p,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=n.axis,u=Lt(n.axis,r.displaceBy),c=u.value,d=t[l.start],f=t[l.end],p=function(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:Xe(nt(r,o),(function(e){var t=e.descriptor.id,r=e.page.borderBox.center[l.line],n=yt(t,s),o=Kt({displaced:i,id:t});return n?o?f<=r:d<r-c:o?f<=r+c:d<r})),inHomeList:ot(r,n)});return vt({draggable:r,insideDestination:o,destination:n,viewport:a,last:i,displacedBy:u,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:f,insideDestination:p,last:i.displaced,viewport:a,afterCritical:s})},Yt=function(e,t){var r;return a({},e,((r={})[t.descriptor.id]=t,r))},$t=function(e){var t=e.previousImpact,r=e.impact,n=e.droppables,o=Ht(t),i=Ht(r);if(!o)return n;if(o===i)return n;var s=n[o];if(!s.subject.withPlaceholder)return n;var l=function(e){var t=e.subject.withPlaceholder;t||_e(!1);var r=e.frame;if(!r)return a({},e,{subject:qe({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var n=t.oldFrameMaxScroll;n||_e(!1);var o=Ft(r,n);return a({},e,{subject:qe({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(s);return Yt(n,l)},Zt=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,o=e.viewport,i=e.impact,s=e.scrollJumpRequest,l=o||t.viewport,u=n||t.dimensions,c=r||t.current.client.selection,d=Re(c,t.initial.client.selection),f={offset:d,selection:c,borderBoxCenter:De(t.initial.client.borderBoxCenter,d)},p={selection:De(f.selection,l.scroll.current),borderBoxCenter:De(f.borderBoxCenter,l.scroll.current),offset:De(f.offset,l.scroll.diff.value)},h={client:f,page:p};if("COLLECTING"===t.phase)return a({phase:"COLLECTING"},t,{dimensions:u,viewport:l,current:h});var m=u.draggables[t.critical.draggable.id],g=i||Xt({pageOffset:p.offset,draggable:m,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),b=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,o=e.previousImpact,i=e.impact,a=$t({previousImpact:o,impact:i,droppables:n}),s=Ht(i);if(!s)return a;var l=n[s];if(ot(t,l))return a;if(l.subject.withPlaceholder)return a;var u=Bt(l,t,r);return Yt(a,u)}({draggable:m,impact:g,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables});return a({},t,{current:h,dimensions:{draggables:u.draggables,droppables:b},impact:g,viewport:l,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})};var Jt=function(e){var t=e.impact,r=e.viewport,n=e.draggables,o=e.destination,i=e.forceShouldAnimate,s=t.displaced;return a({},t,{displaced:gt({afterDragging:function(e,t){return e.map((function(e){return t[e]}))}(s.all,n),destination:o,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:s})})},Qt=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=Pt({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:a});return At({pageBorderBoxCenter:s,draggable:r,viewport:i})},er=function(e){var t=e.state,r=e.dimensions,n=e.viewport;"SNAP"!==t.movementMode&&_e(!1);var o=t.impact,i=n||t.viewport,a=r||t.dimensions,s=a.draggables,l=a.droppables,u=s[t.critical.draggable.id],c=Ht(o);c||_e(!1);var d=l[c],f=Jt({impact:o,viewport:i,destination:d,draggables:s}),p=Qt({impact:f,draggable:u,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Zt({impact:f,clientSelection:p,state:t,dimensions:a,viewport:i})},tr=function(e){var t=e.draggable,r=e.home,n=e.draggables,o=e.viewport,i=Lt(r.axis,t.displaceBy),a=et(r.descriptor.id,n),s=a.indexOf(t);-1===s&&_e(!1);var l,u=a.slice(s+1),c=u.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:i,effected:c};return{impact:{displaced:gt({afterDragging:u,destination:r,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},rr=function(e){0},nr=function(e){0},or=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||_e(!1),t}(r[t]).scroll.diff.value;return function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,o=fe(t.client,r),i=pe(o,n);return a({},t,{placeholder:a({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:De(o,i),initialWindowScroll:n.scroll.initial})}))},ir=function(e){return"SNAP"===e.movementMode},ar=function(e,t,r){var n=function(e,t){return{draggables:e.draggables,droppables:Yt(e.droppables,t)}}(e.dimensions,t);return!ir(e)||r?Zt({state:e,dimensions:n}):er({state:e,dimensions:n})};function sr(e){return e.isDragging&&"SNAP"===e.movementMode?a({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var lr={phase:"IDLE",completed:null,shouldFlush:!1},ur=function(e,t){if(void 0===e&&(e=lr),"FLUSH"===t.type)return a({},lr,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&_e(!1);var r=t.payload,n=r.critical,o=r.clientSelection,i=r.viewport,s=r.dimensions,l=r.movementMode,u=s.draggables[n.draggable.id],c=s.droppables[n.droppable.id],d={selection:o,borderBoxCenter:u.client.borderBox.center,offset:je},f={client:d,page:{selection:De(d.selection,i.scroll.initial),borderBoxCenter:De(d.selection,i.scroll.initial),offset:De(d.selection,i.scroll.diff.value)}},p=Je(s.droppables).every((function(e){return!e.isFixedOnPage})),h=tr({draggable:u,home:c,draggables:s.draggables,viewport:i}),m=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:s,initial:f,current:f,isWindowScrollAllowed:p,impact:m,afterCritical:h.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&_e(!1),a({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&_e(!1),function(e){var t=e.state,r=e.published;rr();var n=r.modified.map((function(e){var r=t.dimensions.droppables[e.droppableId];return Ge(r,e.scroll)})),o=a({},t.dimensions.droppables,{},$e(n)),i=Ze(or({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),s=a({},t.dimensions.draggables,{},i);r.removals.forEach((function(e){delete s[e]}));var l={droppables:o,draggables:s},u=Ht(t.impact),c=u?l.droppables[u]:null,d=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],p=tr({draggable:d,home:f,draggables:s,viewport:t.viewport}),h=p.impact,m=p.afterCritical,g=c&&c.isCombineEnabled?t.impact:h,b=Xt({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m});nr();var v=a({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:h,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:a({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Ut(e)||_e(!1);var g=t.payload.client;return Ne(g,e.current.client.selection)?e:Zt({state:e,clientSelection:g,impact:ir(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return sr(e);if("COLLECTING"===e.phase)return sr(e);Ut(e)||_e(!1);var b=t.payload,v=b.id,y=b.newScroll,w=e.dimensions.droppables[v];if(!w)return e;var E=Ge(w,y);return ar(e,E,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ut(e)||_e(!1);var _=t.payload,O=_.id,C=_.isEnabled,x=e.dimensions.droppables[O];x||_e(!1),x.isEnabled===C&&_e(!1);var T=a({},x,{isEnabled:C});return ar(e,T,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ut(e)||_e(!1);var S=t.payload,P=S.id,k=S.isCombineEnabled,I=e.dimensions.droppables[P];I||_e(!1),I.isCombineEnabled===k&&_e(!1);var A=a({},I,{isCombineEnabled:k});return ar(e,A,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Ut(e)||_e(!1),e.isWindowScrollAllowed||_e(!1);var j=t.payload.newScroll;if(Ne(e.viewport.scroll.current,j))return sr(e);var D=kt(e.viewport,j);return ir(e)?er({state:e,viewport:D}):Zt({state:e,viewport:D})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Ut(e))return e;var R=t.payload.maxScroll;if(Ne(R,e.viewport.scroll.max))return e;var N=a({},e.viewport,{scroll:a({},e.viewport.scroll,{max:R})});return a({phase:"DRAGGING"},e,{viewport:N})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&_e(!1);var M=zt({state:e,type:t.type});return M?Zt({state:e,impact:M.impact,clientSelection:M.clientSelection,scrollJumpRequest:M.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var L=t.payload.reason;return"COLLECTING"!==e.phase&&_e(!1),a({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L})}if("DROP_ANIMATE"===t.type){var F=t.payload,B=F.completed,W=F.dropDuration,H=F.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&_e(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:W,newHomeClientOffset:H,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},cr=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},dr=function(){return{type:"COLLECTION_STARTING",payload:null}},fr=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},pr=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},hr=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},mr=function(e){return{type:"MOVE",payload:e}},gr=function(){return{type:"MOVE_UP",payload:null}},br=function(){return{type:"MOVE_DOWN",payload:null}},vr=function(){return{type:"MOVE_RIGHT",payload:null}},yr=function(){return{type:"MOVE_LEFT",payload:null}},wr=function(e){return{type:"DROP_COMPLETE",payload:e}},Er=function(e){return{type:"DROP",payload:e}},_r=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Or="cubic-bezier(.2,1,.1,1)",Cr={drop:0,combining:.7},xr={drop:.75},Tr=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Sr={fluid:"opacity "+Tr,snap:"transform "+Tr+", opacity "+Tr,drop:function(e){var t=e+"s "+Or;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Tr,placeholder:"height "+Tr+", width "+Tr+", margin "+Tr},Pr=function(e){return Ne(e,je)?null:"translate("+e.x+"px, "+e.y+"px)"},kr=Pr,Ir=function(e,t){var r=Pr(e);return r?t?r+" scale("+xr.drop+")":r:null},Ar=.33,jr=.55,Dr=jr-Ar,Rr=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){if("DROP"===n.type){var o=t(),i=n.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&_e(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&_e(!1);var s=o.critical,l=o.dimensions,u=l.draggables[o.critical.draggable.id],c=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,o=e.home,i=e.viewport,s=e.onLiftImpact;return n.at&&"DROP"===r?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:a({},n,{displaced:at}),didDropInsideDroppable:!0}:{impact:Jt({draggables:t,impact:s,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),d=c.impact,f=c.didDropInsideDroppable,p=f?tt(d):null,h=f?rt(d):null,m={index:s.draggable.index,droppableId:s.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:m,reason:i,mode:o.movementMode,destination:p,combine:h},b=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,o=e.viewport,i=e.afterCritical,a=n.draggables,s=n.droppables,l=Ht(t),u=l?s[l]:null,c=s[r.descriptor.droppableId],d=Qt({impact:t,draggable:r,draggables:a,afterCritical:i,droppable:u||c,viewport:o});return Re(d,r.client.borderBox.center)}({impact:d,draggable:u,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:d};if(!Ne(o.current.client.offset,b)||Boolean(g.combine)){var y=function(e){var t=e.current,r=e.destination,n=e.reason,o=Fe(t,r);if(o<=0)return Ar;if(o>=1500)return jr;var i=Ar+Dr*(o/1500);return Number(("CANCEL"===n?.6*i:i).toFixed(2))}({current:o.current.client.offset,destination:b,reason:i});r(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:b,dropDuration:y,completed:v}))}else r(wr({completed:v}))}}else r(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(n)}}},Nr=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Mr(e){var t=e.onWindowScroll;var r,n=be((function(){t(Nr())})),o=(r=n,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||r()}}),i=ye;function a(){return i!==ye}return{start:function(){a()&&_e(!1),i=we(window,[o])},stop:function(){a()||_e(!1),n.cancel(),i(),i=ye},isActive:a}}var Lr=function(e){var t=Mr({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(r){t.isActive()||"INITIAL_PUBLISH"!==r.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r)&&t.stop(),e(r)}}},Fr=function(){var e=[];return{add:function(t){var r=setTimeout((function(){return function(t){var r=Ke(e,(function(e){return e.timerId===t}));-1===r&&_e(!1),e.splice(r,1)[0].callback()}(r)})),n={timerId:r,callback:t};e.push(n)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Br=function(e,t){rr(),t(),nr()},Wr=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Hr=function(e,t,r,n){if(e){var o=function(e){var t=!1,r=!1,n=setTimeout((function(){r=!0})),o=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return o.wasCalled=function(){return t},o}(r);e(t,{announce:o}),o.wasCalled()||r(n(t))}else r(n(t))},zr=function(e,t){var r=function(e,t){var r=Fr(),n=null,o=function(r){n||_e(!1),n=null,Br(0,(function(){return Hr(e().onDragEnd,r,t,Ae)}))};return{beforeCapture:function(t,r){n&&_e(!1),Br(0,(function(){var n=e().onBeforeCapture;n&&n({draggableId:t,mode:r})}))},beforeStart:function(t,r){n&&_e(!1),Br(0,(function(){var n=e().onBeforeDragStart;n&&n(Wr(t,r))}))},start:function(o,i){n&&_e(!1);var a=Wr(o,i);n={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},r.add((function(){Br(0,(function(){return Hr(e().onDragStart,a,t,ke)}))}))},update:function(o,i){var s=tt(i),l=rt(i);n||_e(!1);var u=!function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n}(o,n.lastCritical);u&&(n.lastCritical=o);var c,d,f=(c=n.lastLocation,d=s,!(null==c&&null==d||null!=c&&null!=d&&c.droppableId===d.droppableId&&c.index===d.index));f&&(n.lastLocation=s);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&(e.draggableId===t.draggableId&&e.droppableId===t.droppableId)}(n.lastCombine,l);if(p&&(n.lastCombine=l),u||f||p){var h=a({},Wr(o,n.mode),{combine:l,destination:s});r.add((function(){Br(0,(function(){return Hr(e().onDragUpdate,h,t,Ie)}))}))}},flush:function(){n||_e(!1),r.flush()},drop:o,abort:function(){if(n){var e=a({},Wr(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(n){if("BEFORE_INITIAL_CAPTURE"!==n.type){if("INITIAL_PUBLISH"===n.type){var o=n.payload.critical;return r.beforeStart(o,n.payload.movementMode),t(n),void r.start(o,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){var i=n.payload.completed.result;return r.flush(),t(n),void r.drop(i)}if(t(n),"FLUSH"!==n.type){var a=e.getState();"DRAGGING"===a.phase&&r.update(a.critical,a.impact)}else r.abort()}else r.beforeCapture(n.payload.draggableId,n.payload.movementMode)}}}},Ur=function(e){return function(t){return function(r){if("DROP_ANIMATION_FINISHED"===r.type){var n=e.getState();"DROP_ANIMATING"!==n.phase&&_e(!1),e.dispatch(wr({completed:n.completed}))}else t(r)}}},qr=function(e){var t=null,r=null;return function(n){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),n(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame((function(){r=null,t=we(window,[i])}))}}}},Gr=function(e){return function(t){return function(r){if(t(r),"PUBLISH_WHILE_DRAGGING"===r.type){var n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(Er({reason:n.reason})))}}}},Vr=b,Kr=function(e){var t,r=e.dimensionMarshal,n=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return d(ur,Vr(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return g({},r,{dispatch:n=b.apply(void 0,i)(r.dispatch)})}}}((t=o,function(){return function(e){return function(r){"INITIAL_PUBLISH"===r.type&&t.dragging(),"DROP_ANIMATE"===r.type&&t.dropping(r.payload.completed.result.reason),"FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type||t.resting(),e(r)}}}),function(e){return function(){return function(t){return function(r){"DROP_COMPLETE"!==r.type&&"FLUSH"!==r.type&&"DROP_ANIMATE"!==r.type||e.stopPublishing(),t(r)}}}}(r),function(e){return function(t){var r=t.getState,n=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,u=r();"DROP_ANIMATING"===u.phase&&n(wr({completed:u.completed})),"IDLE"!==r().phase&&_e(!1),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var c={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(c),f=d.critical,p=d.dimensions,h=d.viewport;n(function(e){return{type:"INITIAL_PUBLISH",payload:e}}({critical:f,dimensions:p,clientSelection:s,movementMode:l,viewport:h}))}else t(o)}}}}(r),Rr,Ur,qr,Gr,function(e){return function(t){return function(r){return function(n){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n))return e.stop(),void r(n);if("INITIAL_PUBLISH"===n.type){r(n);var o=t.getState();return"DRAGGING"!==o.phase&&_e(!1),void e.start(o)}r(n),e.scroll(t.getState())}}}}(s),Lr,function(e){var t=!1;return function(){return function(r){return function(n){if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),void e.tryRestoreFocusRecorded();if(r(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(n),zr(i,a))))};var Xr=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,o=e.width,i=Re({x:r,y:t},{x:o,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Yr=function(){var e=document.documentElement;return e||_e(!1),e},$r=function(){var e=Yr();return Xr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Zr=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry;rr();var o,i,a,s,l,u,c,d=(o=Nr(),i=$r(),a=o.y,s=o.x,l=Yr(),u=l.clientWidth,c=l.clientHeight,{frame:ae({top:a,left:s,right:s+u,bottom:a+c}),scroll:{initial:o,current:o,max:i,diff:{value:je,displacement:je}}}),f=d.scroll.current,p=t.droppable,h=n.droppable.getAllByType(p.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(f,r)})),m=n.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(f)})),g={draggables:Ze(m),droppables:$e(h)};return nr(),{dimensions:g,critical:t,viewport:d}};function Jr(e,t,r){return r.descriptor.id!==t.id&&(r.descriptor.type===t.type&&"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode)}var Qr,en,tn=function(e,t){var r=null,n=function(e){var t=e.registry,r=e.callbacks,n={additions:{},removals:{},modified:{}},o=null,i=function(){o||(r.collectionStarting(),o=requestAnimationFrame((function(){o=null,rr();var e=n,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(je)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),u=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:l,removals:Object.keys(a),modified:u};n={additions:{},removals:{},modified:{}},nr(),r.publish(c)})))};return{add:function(e){var t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],i()},remove:function(e){var t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){r||_e(!1);var o=r.critical.draggable;"ADDITION"===t.type&&Jr(e,o,t.value)&&n.add(t.value),"REMOVAL"===t.type&&Jr(e,o,t.value)&&n.remove(t.value)};return{updateDroppableIsEnabled:function(n,o){e.droppable.exists(n)||_e(!1),r&&t.updateDroppableIsEnabled({id:n,isEnabled:o})},updateDroppableIsCombineEnabled:function(n,o){r&&(e.droppable.exists(n)||_e(!1),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:o}))},scrollDroppable:function(t,n){r&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:function(n,o){r&&(e.droppable.exists(n)||_e(!1),t.updateDroppableScroll({id:n,newScroll:o}))},startPublishing:function(t){r&&_e(!1);var n=e.draggable.getById(t.draggableId),i=e.droppable.getById(n.descriptor.droppableId),a={draggable:n.descriptor,droppable:i.descriptor},s=e.subscribe(o);return r={critical:a,unsubscribe:s},Zr({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(r){n.stop();var t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),r.unsubscribe(),r=null}}}},rn=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},nn=function(e){window.scrollBy(e.x,e.y)},on=Object(ge.a)((function(e){return Je(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),an=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var o=n[r];return o.frame?o:null}return function(e,t){return Xe(on(t),(function(t){return t.frame||_e(!1),qt(t.frame.pageMarginBox)(e)}))}(t,n)},sn=.25,ln=.05,un=28,cn=function(e){return Math.pow(e,2)},dn={stopDampeningAt:1200,accelerateAt:360},fn=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,o=r-t;return 0===o?0:(n-t)/o},pn=dn.accelerateAt,hn=dn.stopDampeningAt,mn=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return un;if(e===t.startScrollingFrom)return 1;var r=fn({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=un*cn(1-r);return Math.ceil(n)}(t,r);return 0===i?0:o?Math.max(function(e,t){var r=t,n=hn,o=Date.now()-r;if(o>=hn)return e;if(o<pn)return 1;var i=fn({startOfRange:pn,endOfRange:n,current:o}),a=e*cn(i);return Math.ceil(a)}(i,n),1):i},gn=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*sn,maxScrollValueAt:e[t.size]*ln}}(t,o);return r[o.end]<r[o.start]?mn({distanceToEdge:r[o.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i}):-1*mn({distanceToEdge:r[o.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i})},bn=We((function(e){return 0===e?0:e})),vn=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y,left:o.x-r.left},s=gn({container:r,distanceToEdges:a,dragStartTime:t,axis:dt,shouldUseTimeDampening:i}),l=gn({container:r,distanceToEdges:a,dragStartTime:t,axis:ft,shouldUseTimeDampening:i}),u=bn({x:l,y:s});if(Ne(u,je))return null;var c=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,o=r.height>t.height,i=r.width>t.width;return i||o?i&&o?null:{x:i?0:n.x,y:o?0:n.y}:n}({container:r,subject:n,proposedScroll:u});return c?Ne(c,je)?null:c:null},yn=We((function(e){return 0===e?0:e>0?1:-1})),wn=(Qr=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,r=e.max,n=e.change,o=De(t,n),i={x:Qr(o.x,r.x),y:Qr(o.y,r.y)};return Ne(i,je)?null:i}),En=function(e){var t=e.max,r=e.current,n=e.change,o={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},i=yn(n),a=wn({max:o,current:r,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},_n=function(e,t){return En({current:e.scroll.current,max:e.scroll.max,change:t})},On=function(e,t){var r=e.frame;return!!r&&En({current:r.scroll.current,max:r.scroll.max,change:t})},Cn=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=vn({dragStartTime:o,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return a&&_n(t,a)?a:null}({dragStartTime:r,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:n});if(l)return void o(l)}var u=an({center:a,destination:Ht(t.impact),droppables:t.dimensions.droppables});if(u){var c=function(e){var t=e.droppable,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=vn({dragStartTime:o,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return s&&On(t,s)?s:null}({dragStartTime:r,droppable:u,subject:s,center:a,shouldUseTimeDampening:n});c&&i(u.descriptor.id,c)}},xn=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,o=function(e,t){if(!On(e,t))return t;var n=function(e,t){var r=e.frame;return r&&On(e,t)?wn({current:r.scroll.current,max:r.scroll.max,change:t}):null}(e,t);if(!n)return r(e.descriptor.id,t),null;var o=Re(t,n);return r(e.descriptor.id,o),Re(t,o)},i=function(e,t,r){if(!e)return r;if(!_n(t,r))return r;var o=function(e,t){if(!_n(e,t))return null;var r=e.scroll.max,n=e.scroll.current;return wn({current:n,max:r,change:t})}(t,r);if(!o)return n(r),null;var i=Re(r,o);return n(i),Re(r,i)};return function(e){var r=e.scrollJumpRequest;if(r){var n=Ht(e.impact);n||_e(!1);var a=o(e.dimensions.droppables[n],r);if(a){var s=e.viewport,l=i(e.isWindowScrollAllowed,s,a);l&&function(e,r){var n=De(e.current.client.selection,r);t({client:n})}(e,l)}}}},Tn=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,o=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=be(t),o=be(r),i=null,a=function(e){i||_e(!1);var t=i,r=t.shouldUseTimeDampening,a=t.dragStartTime;Cn({state:e,scrollWindow:n,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:r})};return{start:function(e){rr(),i&&_e(!1);var t=Date.now(),r=!1,n=function(){r=!0};Cn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n}),i={dragStartTime:t,shouldUseTimeDampening:r},nr(),r&&a(e)},stop:function(){i&&(n.cancel(),o.cancel(),i=null)},scroll:a}}({scrollWindow:r,scrollDroppable:t}),i=xn({move:n,scrollWindow:r,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},Sn={base:en="data-rbd-drag-handle",draggableId:en+"-draggable-id",contextId:en+"-context-id"},Pn=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),kn=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),In={contextId:"data-rbd-scroll-container-context-id"},An=function(e,t){return e.map((function(e){var r=e.styles[t];return r?e.selector+" { "+r+" }":""})).join(" ")},jn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,Dn=function(){var e=document.querySelector("head");return e||_e(!1),e},Rn=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Nn(e,t){var r=ne((function(){return function(e){var t,r,n,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(r="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(Sn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:r,dragging:"pointer-events: none;",dropAnimating:r}}),a=[(n="\n      transition: "+Sr.outOfTheWay+";\n    ",{selector:o(Pn.contextId),styles:{dragging:n,dropAnimating:n,userCancel:n}}),i,{selector:o(kn.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:An(a,"always"),resting:An(a,"resting"),dragging:An(a,"dragging"),dropAnimating:An(a,"dropAnimating"),userCancel:An(a,"userCancel")}}(e)}),[e]),o=Object(n.useRef)(null),i=Object(n.useRef)(null),a=oe(Object(ge.a)((function(e){var t=i.current;t||_e(!1),t.textContent=e})),[]),s=oe((function(e){var t=o.current;t||_e(!1),t.textContent=e}),[]);jn((function(){(o.current||i.current)&&_e(!1);var n=Rn(t),l=Rn(t);return o.current=n,i.current=l,n.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),Dn().appendChild(n),Dn().appendChild(l),s(r.always),a(r.resting),function(){var e=function(e){var t=e.current;t||_e(!1),Dn().removeChild(t),e.current=null};e(o),e(i)}}),[t,s,a,r.always,r.resting,e]);var l=oe((function(){return a(r.dragging)}),[a,r.dragging]),u=oe((function(e){a("DROP"!==e?r.userCancel:r.dropAnimating)}),[a,r.dropAnimating,r.userCancel]),c=oe((function(){i.current&&a(r.resting)}),[a,r.resting]);return ne((function(){return{dragging:l,dropping:u,resting:c}}),[l,u,c])}var Mn=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ln(e){return e instanceof Mn(e).HTMLElement}function Fn(e,t){var r="["+Sn.contextId+'="'+e+'"]',n=Ye(document.querySelectorAll(r));if(!n.length)return null;var o=Xe(n,(function(e){return e.getAttribute(Sn.draggableId)===t}));return o&&Ln(o)?o:null}function Bn(){var e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach((function(t){return t(e)}))}function n(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:function(t,r){var n=e.draggables[r.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=n(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],r({type:"REMOVAL",value:t}))},getById:function(e){var t=n(e);return t||_e(!1),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return Ve(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var r=o(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||_e(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return Ve(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Wn=o.a.createContext(null),Hn=function(){var e=document.body;return e||_e(!1),e},zn={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Un=0,qn={separator:"::"};function Gn(e,t){return void 0===t&&(t=qn),ne((function(){return""+e+t.separator+Un++}),[t.separator,e])}var Vn=o.a.createContext(null);function Kn(e){0}function Xn(e,t){Kn()}function Yn(){Xn()}function $n(e){var t=Object(n.useRef)(e);return Object(n.useEffect)((function(){t.current=e})),t}var Zn,Jn=((Zn={})[13]=!0,Zn[9]=!0,Zn),Qn=function(e){Jn[e.keyCode]&&e.preventDefault()},eo=function(){var e="visibilitychange";return"undefined"==typeof document?e:Xe([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var to,ro={type:"IDLE"};function no(e){var t=e.cancel,r=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,r=e.clientX,i=e.clientY;if(0===t){var a={x:r,y:i},s=n();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&_e(!1);var l=s.point;if(u=l,c=a,Math.abs(c.x-u.x)>=5||Math.abs(c.y-u.y)>=5){var u,c;e.preventDefault();var d=s.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Qn(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var r=n();"IDLE"===r.type&&_e(!1),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:eo,fn:t}]}function oo(){}var io=((to={})[34]=!0,to[33]=!0,to[36]=!0,to[35]=!0,to);function ao(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:function(n){return 27===n.keyCode?(n.preventDefault(),void r()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(io[n.keyCode]?n.preventDefault():Qn(n))}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:eo,fn:r}]}var so={type:"IDLE"};var lo={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function uo(e,t){var r=t.target;return!!Ln(r)&&function e(t,r){if(null==r)return!1;if(Boolean(lo[r.tagName.toLowerCase()]))return!0;var n=r.getAttribute("contenteditable");return"true"===n||""===n||r!==t&&e(t,r.parentElement)}(e,r)}var co=function(e){return ae(e.getBoundingClientRect()).center};var fo="undefined"==typeof document?"matches":Xe(["matches","msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||"matches";function po(e,t){return e.closest?e.closest(t):function e(t,r){return null==t?null:t[fo](r)?t:e(t.parentElement,r)}(e,t)}function ho(e,t){var r,n=t.target;if(!((r=n)instanceof Mn(r).Element))return null;var o=po(n,function(e){return"["+Sn.contextId+'="'+e+'"]'}(e));return o&&Ln(o)?o:null}function mo(e){e.preventDefault()}function go(e){var t=e.expected,r=e.phase,n=e.isLockActive;e.shouldWarn;return!!n()&&t===r}function bo(e){var t=e.lockAPI,r=e.store,n=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!rn(r.getState(),o))}function vo(e){var t=e.lockAPI,r=e.contextId,n=e.store,o=e.registry,i=e.draggableId,s=e.forceSensorStop,l=e.sourceEvent;if(!bo({lockAPI:t,store:n,registry:o,draggableId:i}))return null;var u=o.draggable.getById(i),c=function(e,t){var r="["+Pn.contextId+'="'+e+'"]',n=Xe(Ye(document.querySelectorAll(r)),(function(e){return e.getAttribute(Pn.id)===t}));return n&&Ln(n)?n:null}(r,u.descriptor.id);if(!c)return null;if(l&&!u.options.canDragInteractiveElements&&uo(c,l))return null;var d=t.claim(s||ye),f="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function h(){return t.isActive(d)}var m=function(e,t){go({expected:e,phase:f,isLockActive:h,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function g(e){function r(){t.release(),f="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=we(window,[{eventName:"click",fn:mo,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}r(),n.dispatch(Er({reason:t}))}return"PRE_DRAG"!==f&&(r(),"PRE_DRAG"!==f&&_e(!1)),n.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),f="DRAGGING",a({isActive:function(){return go({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return go({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=be((function(e){m((function(){return mr({client:e})}))}));return a({},g({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return m(gr)},moveRight:function(){return m(vr)},moveDown:function(){return m(br)},moveLeft:function(){return m(yr)}};return g({liftActionArgs:{id:i,clientSelection:co(c),movementMode:"SNAP"},cleanup:ye,actions:e})},abort:function(){go({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0})&&t.release()}}}var yo=[function(e){var t=Object(n.useRef)(ro),r=Object(n.useRef)(ye),o=ne((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};r.current(),c(o,i)}}}}}}),[e]),i=ne((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var n=e.findOptionsForDraggable(r);n&&(n.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}}}}}),[e]),a=oe((function(){r.current=we(window,[i,o],{passive:!1,capture:!0})}),[i,o]),s=oe((function(){"IDLE"!==t.current.type&&(t.current=ro,r.current(),a())}),[a]),l=oe((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),u=oe((function(){var e=no({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});r.current=we(window,e,{capture:!0,passive:!1})}),[l,s]),c=oe((function(e,r){"IDLE"!==t.current.type&&_e(!1),t.current={type:"PENDING",point:r,actions:e},u()}),[u]);jn((function(){return a(),function(){r.current()}}),[a])},function(e){var t=Object(n.useRef)(oo),r=ne((function(){return{eventName:"keydown",fn:function(r){if(!r.defaultPrevented&&32===r.keyCode){var n=e.findClosestDraggableId(r);if(n){var i=e.tryGetLock(n,l,{sourceEvent:r});if(i){r.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=we(window,ao(s,l),{capture:!0,passive:!1})}}}function l(){a||_e(!1),a=!1,t.current(),o()}}}}),[e]),o=oe((function(){t.current=we(window,[r],{passive:!1,capture:!0})}),[r]);jn((function(){return o(),function(){t.current()}}),[o])},function(e){var t=Object(n.useRef)(so),r=Object(n.useRef)(ye),o=oe((function(){return t.current}),[]),i=oe((function(e){t.current=e}),[]),a=ne((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};r.current(),f(o,a)}}}}}}),[e]),s=oe((function(){r.current=we(window,[a],{capture:!0,passive:!1})}),[a]),l=oe((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(so),r.current(),s())}),[s,i]),u=oe((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),c=oe((function(){var e={capture:!0,passive:!1},t={cancel:u,completed:l,getPhase:o},n=we(window,function(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var r=n();if("DRAGGING"===r.type){r.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),r.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var r=n();"IDLE"===r.type&&_e(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return i?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:eo,fn:t}]}(t),e),i=we(window,function(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===r().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:eo,fn:t}]}(t),e);r.current=function(){n(),i()}}),[u,o,l]),d=oe((function(){var e=o();"PENDING"!==e.type&&_e(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,i]),f=oe((function(e,t){"IDLE"!==o().type&&_e(!1);var r=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:r}),c()}),[c,o,i,d]);jn((function(){return s(),function(){r.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(so))}}),[o,s,i]),jn((function(){return we(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function wo(e){var t=e.contextId,r=e.store,o=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?yo:[],i||[]),l=Object(n.useState)((function(){return function(){var e=null;function t(){e||_e(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&_e(!1);var r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],u=oe((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);jn((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();u(e,t),e=t}))}),[l,r,u]),jn((function(){return l.tryAbandon}),[l.tryAbandon]);var c=oe((function(e){return bo({lockAPI:l,registry:o,store:r,draggableId:e})}),[l,o,r]),d=oe((function(e,n,i){return vo({lockAPI:l,registry:o,contextId:t,store:r,draggableId:e,forceSensorStop:n,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,o,r]),f=oe((function(e){return function(e,t){var r=ho(e,t);return r?r.getAttribute(Sn.draggableId):null}(t,e)}),[t]),p=oe((function(e){var t=o.draggable.findById(e);return t?t.options:null}),[o.draggable]),h=oe((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))}),[l,r]),m=oe(l.isClaimed,[l]),g=ne((function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:m}}),[c,d,f,p,h,m]);Kn();for(var b=0;b<s.length;b++)s[b](g)}function Eo(e){return e.current||_e(!1),e.current}function _o(e){var t=e.contextId,r=e.setCallbacks,i=e.sensors,s=e.nonce,l=e.dragHandleUsageInstructions,u=Object(n.useRef)(null);Yn();var c=$n(e),d=oe((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(c.current)}),[c]),f=function(e){var t=ne((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),a(e.style,zn),Hn().appendChild(e),function(){setTimeout((function(){var t=Hn();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[t]),oe((function(e){var t=r.current;t&&(t.textContent=e)}),[])}(t),h=function(e){var t=e.contextId,r=e.text,o=Gn("hidden-text",{separator:"-"}),i=ne((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:o}).contextId+"-"+e.uniqueId;var e}),[o,t]);return Object(n.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=r,e.style.display="none",Hn().appendChild(e),function(){var t=Hn();t.contains(e)&&t.removeChild(e)}}),[i,r]),i}({contextId:t,text:l}),m=Nn(t,s),g=oe((function(e){Eo(u).dispatch(e)}),[]),b=ne((function(){return p({publishWhileDragging:cr,updateDroppableScroll:fr,updateDroppableIsEnabled:pr,updateDroppableIsCombineEnabled:hr,collectionStarting:dr},g)}),[g]),v=function(){var e=ne(Bn,[]);return Object(n.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),y=ne((function(){return tn(v,b)}),[v,b]),w=ne((function(){return Tn(a({scrollWindow:nn,scrollDroppable:y.scrollDroppable},p({move:mr},g)))}),[y.scrollDroppable,g]),E=function(e){var t=Object(n.useRef)({}),r=Object(n.useRef)(null),o=Object(n.useRef)(null),i=Object(n.useRef)(!1),a=oe((function(e,r){var n={id:e,focus:r};return t.current[e]=n,function(){var r=t.current;r[e]!==n&&delete r[e]}}),[]),s=oe((function(t){var r=Fn(e,t);r&&r!==document.activeElement&&r.focus()}),[e]),l=oe((function(e,t){r.current===e&&(r.current=t)}),[]),u=oe((function(){o.current||i.current&&(o.current=requestAnimationFrame((function(){o.current=null;var e=r.current;e&&s(e)})))}),[s]),c=oe((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(Sn.draggableId)===e&&(r.current=e)}),[]);return jn((function(){return i.current=!0,function(){i.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}}),[]),ne((function(){return{register:a,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:l}}),[a,c,u,l])}(t),_=ne((function(){return Kr({announce:f,autoScroller:w,dimensionMarshal:y,focusMarshal:E,getResponders:d,styleMarshal:m})}),[f,w,y,E,d,m]);u.current=_;var C=oe((function(){var e=Eo(u);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),x=oe((function(){var e=Eo(u).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);r(ne((function(){return{isDragging:x,tryAbort:C}}),[x,C]));var T=oe((function(e){return rn(Eo(u).getState(),e)}),[]),S=oe((function(){return Ut(Eo(u).getState())}),[]),P=ne((function(){return{marshal:y,focus:E,contextId:t,canLift:T,isMovementAllowed:S,dragHandleUsageInstructionsId:h,registry:v}}),[t,y,h,E,T,S,v]);return wo({contextId:t,store:_,registry:v,customSensors:i,enableDefaultSensors:!1!==e.enableDefaultSensors}),Object(n.useEffect)((function(){return C}),[C]),o.a.createElement(Vn.Provider,{value:P},o.a.createElement(O,{context:Wn,store:_},e.children))}var Oo=0;function Co(){Oo=0,Un=0}function xo(e){var t=ne((function(){return""+Oo++}),[]),r=e.dragHandleUsageInstructions||Pe;return o.a.createElement(Oe,null,(function(n){return o.a.createElement(_o,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var To=function(e){return function(t){return e===t}},So=To("scroll"),Po=To("auto"),ko=(To("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Io=function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return ko(r,So)||ko(r,Po)},Ao=function e(t){return null==t||t===document.body||t===document.documentElement?null:Io(t)?t:e(t.parentElement)},jo=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Do=function(e){return{closestScrollable:Ao(e),isFixedOnPage:function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))}(e)}},Ro=function(e){var t=e.ref,r=e.descriptor,n=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,u=n.closestScrollable,c=function(e,t){var r=me(e);if(!t)return r;if(e!==t)return r;var n=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,a=o+t.scrollWidth,s=se({top:n,right:a,bottom:i,left:o},r.border);return ce({borderBox:s,margin:r.margin,border:r.border,padding:r.padding})}(t,u),d=pe(c,o),f=function(){if(!u)return null;var e=me(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:pe(e,o),scroll:jo(u),scrollSize:t,shouldClipSubject:l}}();return function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,u=function(){if(!l)return null;var e=l.scrollSize,t=l.client,r=Xr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:r,diff:{value:je,displacement:je}}}}(),c="vertical"===i?dt:ft;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:o,axis:c,isEnabled:r,client:a,page:s,frame:u,subject:qe({page:s,withPlaceholder:null,axis:c,frame:u})}}({descriptor:r,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:d,closest:f})},No={passive:!1},Mo={passive:!0},Lo=function(e){return e.shouldPublishImmediately?No:Mo};function Fo(e){var t=Object(n.useContext)(e);return t||_e(!1),t}var Bo=function(e){return e&&e.env.closestScrollable||null};function Wo(){}var Ho={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},zo=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate;return t||"close"===n?Ho:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}}({isAnimatingOpenOnMount:t,placeholder:r,animate:n});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Sr.placeholder:null}};var Uo=o.a.memo((function(e){var t=Object(n.useRef)(null),r=oe((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),i=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,u=Object(n.useState)("open"===e.animate),c=u[0],d=u[1];Object(n.useEffect)((function(){return c?"open"!==i?(r(),d(!1),Wo):t.current?Wo:(t.current=setTimeout((function(){t.current=null,d(!1)})),r):Wo}),[i,c,r]);var f=oe((function(e){"height"===e.propertyName&&(a(),"close"===i&&s())}),[i,s,a]),p=zo({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return o.a.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":l,onTransitionEnd:f,ref:e.innerRef})})),qo=o.a.createContext(null);var Go=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return i(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(o.a.PureComponent),Vo=5e3,Ko=4500,Xo=function(e,t){return t?Sr.drop(t.duration):e?Sr.snap:Sr.fluid},Yo=function(e,t){return e?t?Cr.drop:Cr.combining:null};function $o(e){return"DRAGGING"===e.type?(n=(r=e).dimension.client,o=r.offset,i=r.combineWith,a=r.dropping,s=Boolean(i),l=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(r),u=Boolean(a),c=u?Ir(o,s):kr(o),{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Xo(l,a),transform:c,opacity:Yo(s,u),zIndex:u?Ko:Vo,pointerEvents:"none"}):{transform:kr((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,r,n,o,i,a,s,l,u,c}function Zo(e){var t=Gn("draggable"),r=e.descriptor,o=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,u=ne((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),c=oe((function(e){var t=i();return t||_e(!1),function(e,t,r){void 0===r&&(r=je);var n=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=he(o,n),a=pe(i,r);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(r,t,e)}),[r,i]),d=ne((function(){return{uniqueId:t,descriptor:r,options:u,getDimension:c}}),[r,c,u,t]),f=Object(n.useRef)(d),p=Object(n.useRef)(!0);jn((function(){return o.draggable.register(f.current),function(){return o.draggable.unregister(f.current)}}),[o.draggable]),jn((function(){if(p.current)p.current=!1;else{var e=f.current;f.current=d,o.draggable.update(d,e)}}),[d,o.draggable])}function Jo(e,t,r){Xn()}function Qo(e){e.preventDefault()}var ei=function(e,t){return e===t},ti=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null};function ri(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ni={mapped:{type:"SECONDARY",offset:je,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ri(null)}};var oi=J((function(){var e,t,r,n=(e=Object(ge.a)((function(e,t){return{x:e,y:t}})),t=Object(ge.a)((function(e,t,r,n,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:r,combineWith:n,combineTargetFor:null}})),r=Object(ge.a)((function(e,r,n,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:r,offset:e,dimension:n,forceShouldAnimate:s,snapshot:t(r,o,i,a,null)}}})),function(n,o){if(n.isDragging){if(n.critical.draggable.id!==o.draggableId)return null;var i=n.current.client.offset,a=n.dimensions.draggables[o.draggableId],s=Ht(n.impact),l=(c=n.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,u=n.forceShouldAnimate;return r(e(i.x,i.y),n.movementMode,a,o.isClone,s,l,u)}var c;if("DROP_ANIMATING"===n.phase){var d=n.completed;if(d.result.draggableId!==o.draggableId)return null;var f=o.isClone,p=n.dimensions.draggables[o.draggableId],h=d.result,m=h.mode,g=ti(h),b=function(e){return e.combine?e.combine.draggableId:null}(h),v={duration:n.dropDuration,curve:Or,moveTo:n.newHomeClientOffset,opacity:b?Cr.drop:null,scale:b?xr.drop:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:p,dropping:v,draggingOver:g,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,f,g,b,v)}}}return null}),o=function(){var e=Object(ge.a)((function(e,t){return{x:e,y:t}})),t=Object(ge.a)(ri),r=Object(ge.a)((function(e,r,n){return void 0===r&&(r=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:n,snapshot:t(r)}}})),n=function(e){return e?r(je,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),u=rt(i),c=u&&u.draggableId===t?o:null;if(!s){if(!l)return n(c);if(i.displaced.invisible[t])return null;var d=Me(a.displacedBy.point),f=e(d.x,d.y);return r(f,c,!0)}if(l)return n(c);var p=i.displacedBy.point,h=e(p.x,p.y);return r(h,c,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var r=e.completed;return r.result.draggableId===t.draggableId?null:o(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return function(e,t){return n(e,t)||o(e,t)||ni}}),{dropAnimationFinished:_r},null,{context:Wn,pure:!0,areStatePropsEqual:ei})((function(e){var t=Object(n.useRef)(null),r=oe((function(e){t.current=e}),[]),o=oe((function(){return t.current}),[]),i=Fo(Vn),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,u=Fo(qo),c=u.type,d=u.droppableId,f=ne((function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}}),[e.draggableId,e.index,c,d]),p=e.children,h=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,b=e.canDragInteractiveElements,v=e.isClone,y=e.mapped,w=e.dropAnimationFinished;Jo(),Kn(),v||Zo(ne((function(){return{descriptor:f,registry:l,getDraggableRef:o,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:m}}),[f,l,o,b,g,m]));var E=ne((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:Qo}:null}),[a,s,h,m]),_=oe((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&w()}),[w,y]),O=ne((function(){var e=$o(y),t="DRAGGING"===y.type&&y.dropping?_:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:E}}),[a,E,h,y,_,r]),C=ne((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return p(O,y.snapshot,C)}));function ii(e){return Fo(qo).isUsingCloneFor!==e.draggableId||e.isClone?o.a.createElement(oi,e):null}function ai(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),n=Boolean(e.shouldRespectForcePress);return o.a.createElement(ii,a({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}var si=function(e,t){return e===t.droppable.type},li=function(e,t){return t.draggables[e.draggable.id]};var ui={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||_e(!1),document.body}},ci=J((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=a({},e,{shouldAnimatePlaceholder:!1}),r=Object(ge.a)((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),n=Object(ge.a)((function(n,o,i,a,s,l){var u=s.descriptor.id;if(s.descriptor.droppableId===n){var c=l?{render:l,dragging:r(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:c}}if(!o)return t;if(!a)return e;var f={isDraggingOver:i,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}}));return function(r,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(r.isDragging){var u=r.critical;if(!si(a,u))return t;var c=li(u,r.dimensions),d=Ht(r.impact)===i;return n(i,s,d,d,c,l)}if("DROP_ANIMATING"===r.phase){var f=r.completed;if(!si(a,f.critical))return t;var p=li(f.critical,r.dimensions);return n(i,s,ti(f.result)===i,Ht(f.impact)===i,p,l)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){var h=r.completed;if(!si(a,h.critical))return t;var m=Ht(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),b=h.critical.droppable.id===i;return m?g?e:t:b?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Wn,pure:!0,areStatePropsEqual:ei})((function(e){var t=Object(n.useContext)(Vn);t||_e(!1);var r=t.contextId,i=t.isMovementAllowed,a=Object(n.useRef)(null),s=Object(n.useRef)(null),l=e.children,u=e.droppableId,c=e.type,d=e.mode,f=e.direction,p=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,b=e.useClone,v=e.updateViewportMaxScroll,y=e.getContainerForClone,w=oe((function(){return a.current}),[]),E=oe((function(e){a.current=e}),[]),_=(oe((function(){return s.current}),[]),oe((function(e){s.current=e}),[]));Xn();var O=oe((function(){i()&&v({maxScroll:$r()})}),[i,v]);!function(e){var t=Object(n.useRef)(null),r=Fo(Vn),o=Gn("droppable"),i=r.registry,a=r.marshal,s=$n(e),l=ne((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),u=Object(n.useRef)(l),c=ne((function(){return Object(ge.a)((function(e,r){t.current||_e(!1);var n={x:e,y:r};a.updateDroppableScroll(l.id,n)}))}),[l.id,a]),d=oe((function(){var e=t.current;return e&&e.env.closestScrollable?jo(e.env.closestScrollable):je}),[]),f=oe((function(){var e=d();c(e.x,e.y)}),[d,c]),p=ne((function(){return be(f)}),[f]),h=oe((function(){var e=t.current,r=Bo(e);e&&r||_e(!1),e.scrollOptions.shouldPublishImmediately?f():p()}),[p,f]),m=oe((function(e,n){t.current&&_e(!1);var o=s.current,i=o.getDroppableRef();i||_e(!1);var a=Do(i),u={ref:i,descriptor:l,env:a,scrollOptions:n};t.current=u;var c=Ro({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(In.contextId,r.contextId),d.addEventListener("scroll",h,Lo(u.scrollOptions))),c}),[r.contextId,l,h,s]),g=oe((function(){var e=t.current,r=Bo(e);return e&&r||_e(!1),jo(r)}),[]),b=oe((function(){var e=t.current;e||_e(!1);var r=Bo(e);t.current=null,r&&(p.cancel(),r.removeAttribute(In.contextId),r.removeEventListener("scroll",h,Lo(e.scrollOptions)))}),[h,p]),v=oe((function(e){var r=t.current;r||_e(!1);var n=Bo(r);n||_e(!1),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),y=ne((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:b,scroll:v}}),[b,m,g,v]),w=ne((function(){return{uniqueId:o,descriptor:l,callbacks:y}}),[y,l,o]);jn((function(){return u.current=w.descriptor,i.droppable.register(w),function(){t.current&&b(),i.droppable.unregister(w)}}),[y,l,b,w,a,i.droppable]),jn((function(){t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),jn((function(){t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:u,type:c,mode:d,direction:f,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:p,getDroppableRef:w});var C=o.a.createElement(Go,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,n=e.data,i=e.animate;return o.a.createElement(Uo,{placeholder:n,onClose:t,innerRef:_,animate:i,contextId:r,onTransitionEnd:O})})),x=ne((function(){return{innerRef:E,placeholder:C,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":r}}}),[r,u,C,E]),T=b?b.dragging.draggableId:null,S=ne((function(){return{droppableId:u,type:c,isUsingCloneFor:T}}),[u,T,c]);return o.a.createElement(qo.Provider,{value:S},l(x,g),function(){if(!b)return null;var e=b.dragging,t=b.render,r=o.a.createElement(ii,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(r,n){return t(r,n,e)}));return te.a.createPortal(r,y())}())}));ci.defaultProps=ui},function(e,t,r){"use strict";r.r(t);r(941);var n=r(1),o=r.n(n),i=r(3),a=r.n(i),s=r(446),l=r.n(s),u=r(447),c=r.n(u),d=r(448),f=r.n(d);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=r(2),m=r.n(h);function g(e,t){return r=t,o=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):null!=e&&(e.current=t),e}(e,t)}))},(i=Object(n.useState)((function(){return{value:r,callback:o,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}}))[0]).callback=o,i.facade;var r,o,i}var b={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},v=function(e){var t=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:b}),t,t&&o.a.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:b}))};v.propTypes={},v.defaultProps={children:null};var y=function(){return(y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function w(e){return e}function E(e,t){void 0===t&&(t=w);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var o=t(e,n);return r.push(o),function(){r=r.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var o=r;r=[],o.forEach(e),t=r}var i=function(){var r=t;t=[],r.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),r={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),r}}}}}function _(e,t){return void 0===t&&(t=w),E(e,t)}var O=_({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),C=_(),x=_(),T=function(e){void 0===e&&(e={});var t=E(null);return t.options=y({async:!0,ssr:!1},e),t}({async:!0}),S=[],P=o.a.forwardRef((function(e,t){var r,i=Object(n.useState)(),a=i[0],s=i[1],l=Object(n.useRef)(),u=Object(n.useRef)(!1),c=Object(n.useRef)(null),d=e.children,f=e.disabled,h=e.noFocusGuards,m=e.persistentFocus,v=e.autoFocus,y=(e.allowTextSelection,e.group),w=e.className,E=e.whiteList,_=e.shards,x=void 0===_?S:_,P=e.as,k=void 0===P?"div":P,I=e.lockProps,A=void 0===I?{}:I,j=e.sideCar,D=e.returnFocus,R=e.onActivation,N=e.onDeactivation,M=Object(n.useState)({})[0],L=Object(n.useCallback)((function(){c.current=c.current||document&&document.activeElement,l.current&&R&&R(l.current),u.current=!0}),[R]),F=Object(n.useCallback)((function(){u.current=!1,N&&N(l.current)}),[N]),B=Object(n.useCallback)((function(e){var t=c.current;if(Boolean(D)&&t&&t.focus){var r="object"==typeof D?D:void 0;c.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}),[D]),W=Object(n.useCallback)((function(e){u.current&&O.useMedium(e)}),[]),H=C.useMedium,z=Object(n.useCallback)((function(e){l.current!==e&&(l.current=e,s(e))}),[]);var U=p(((r={})["data-focus-lock-disabled"]=f&&"disabled",r["data-focus-lock"]=y,r),A),q=!0!==h,G=q&&"tail"!==h,V=g([t,z]);return o.a.createElement(o.a.Fragment,null,q&&[o.a.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:b}),o.a.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:b})],!f&&o.a.createElement(j,{id:M,sideCar:T,observed:a,disabled:f,persistentFocus:m,autoFocus:v,whiteList:E,shards:x,onActivation:L,onDeactivation:F,returnFocus:B}),o.a.createElement(k,p({ref:V},U,{className:w,onBlur:H,onFocus:W}),d),G&&o.a.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:b}))}));P.propTypes={},P.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var k=P;var I=function(e,t){return function(r){var i,a=[];function s(){i=e(a.map((function(e){return e.props}))),t(i)}var l,u,c,d=function(e){var t,n;function l(){return e.apply(this,arguments)||this}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.peek=function(){return i};var u=l.prototype;return u.componentDidMount=function(){a.push(this),s()},u.componentDidUpdate=function(){s()},u.componentWillUnmount=function(){var e=a.indexOf(this);a.splice(e,1),s()},u.render=function(){return o.a.createElement(r,this.props)},l}(n.PureComponent);return l=d,u="displayName",c="SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")",u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,d}},A=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t},j=function(e){return Array.isArray(e)?e:[e]},D=function(){return document&&A(document.querySelectorAll("[data-no-focus-lock]")).some((function(e){return e.contains(document.activeElement)}))},R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=function(e){return j(e).filter(Boolean).reduce((function(e,t){var r=t.getAttribute("data-focus-lock");return e.push.apply(e,r?function e(t){for(var r=t.length,n=0;n<r;n+=1)for(var o=function(r){if(n!==r&&t[n].contains(t[r]))return{v:e(t.filter((function(e){return e!==t[r]})))}},i=0;i<r;i+=1){var a=o(i);if("object"===(void 0===a?"undefined":R(a)))return a.v}return t}(A(function e(t){return t.parentNode?e(t.parentNode):t}(t).querySelectorAll('[data-focus-lock="'+r+'"]:not([data-focus-lock-disabled="disabled"])'))):[t]),e}),[])},M=function(e){return e===document.activeElement},L=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&N(e).reduce((function(e,r){return e||r.contains(t)||function(e){return t=A(e.querySelectorAll("iframe")),r=M,!!t.filter((function(e){return e===r}))[0];var t,r}(r)}),!1)},F=function(e,t){var r=e.tabIndex-t.tabIndex,n=e.index-t.index;if(r){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return r||n},B=function(e,t,r){return A(e).map((function(e,t){return{node:e,index:t,tabIndex:r&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(F)},W=["button:enabled:not([readonly])","select:enabled:not([readonly])","textarea:enabled:not([readonly])","input:enabled:not([readonly])","a[href]","area[href]","iframe","object","embed","[tabindex]","[contenteditable]","[autofocus]"],H=W.join(","),z=H+", [data-focus-guard]",U=function(e,t){return e.reduce((function(e,r){return e.concat(A(r.querySelectorAll(t?z:H)),r.parentNode?A(r.parentNode.querySelectorAll(W.join(","))).filter((function(e){return e===r})):[])}),[])},q=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.push(t),t.parentNode&&e(t.parentNode,r),r},G=function(e,t){for(var r=q(e),n=q(t),o=0;o<r.length;o+=1){var i=r[o];if(n.indexOf(i)>=0)return i}return!1},V=function(e){return A(e).filter((function(e){return function e(t){return!t||t===document||t.nodeType===Node.DOCUMENT_NODE||!((r=window.getComputedStyle(t,null))&&r.getPropertyValue&&("none"===r.getPropertyValue("display")||"hidden"===r.getPropertyValue("visibility")))&&e(t.parentNode);var r}(e)})).filter((function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)}))},K=function(e,t){return B(V(U(e,t)),!0,t)},X=function(e){return V((t=e.querySelectorAll("[data-autofocus-inside]"),A(t).map((function(e){return U([e])})).reduce((function(e,t){return e.concat(t)}),[])));var t},Y=function(e){return"INPUT"===e.tagName&&"radio"===e.type},$=function(e){return e[0]&&e.length>1&&Y(e[0])&&e[0].name?function(e,t){return t.filter(Y).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e[0],e):e[0]},Z=function(e){return e.dataset&&e.dataset.focusGuard},J=function(e){return!Z(e)},Q=function(e,t,r){var n=j(e),o=j(t),i=n[0],a=null;return o.filter(Boolean).forEach((function(e){a=G(a||e,e)||a,r.filter(Boolean).forEach((function(e){var t=G(i,e);t&&(a=!a||t.contains(a)?t:G(t,a))}))})),a},ee=function(e,t){var r=document&&document.activeElement,n=N(e).filter(J),o=Q(r||e,e,n),i=K(n).filter((function(e){var t=e.node;return J(t)}));if(i[0]||(i=(a=n,B(V(U(a)),!1)).filter((function(e){var t=e.node;return J(t)})))[0]){var a,s,l,u,c,d=K([o]).map((function(e){return e.node})),f=(s=d,l=i,u=new Map,l.forEach((function(e){return u.set(e.node,e)})),s.map((function(e){return u.get(e)})).filter(Boolean)),p=f.map((function(e){return e.node})),h=function(e,t,r,n,o){var i=e.length,a=e[0],s=e[i-1];if(!(e.indexOf(r)>=0)){var l=t.indexOf(r),u=t.indexOf(n||l),c=e.indexOf(n),d=l-u,f=t.indexOf(a),p=t.indexOf(s);return-1===l||-1===c?e.indexOf(o.length?$(o):$(e)):!d&&c>=0?c:l<=f&&Z(r)&&Math.abs(d)>1?0:d&&Math.abs(d)>1?c:l<=f?i-1:l>p?0:d?Math.abs(d)>1?c:(i+c+d)%i:void 0}}(p,d,r,t,p.filter((c=function(e){return e.reduce((function(e,t){return e.concat(X(t))}),[])}(n),function(e){return!!e.autofocus||e.dataset&&!!e.dataset.autofocus||c.indexOf(e)>=0})));return void 0===h?h:f[h]}},te=0,re=!1,ne=function(e,t){var r,n=ee(e,t);if(!re&&n){if(te>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),re=!0,void setTimeout((function(){re=!1}),1);te++,(r=n.node).focus(),r.contentWindow&&r.contentWindow.focus(),te--}};function oe(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var ie=function(){return document&&document.activeElement===document.body||D()},ae=null,se=null,le=null,ue=!1,ce=function(){return!0};function de(e,t,r,n){var o=null,i=e;do{var a=n[i];if(a.guard)a.node.dataset.focusAutoGuard&&(o=a);else{if(!a.lockItem)break;if(i!==e)return;o=null}}while((i+=r)!==t);o&&(o.node.tabIndex=0)}var fe=function(e){return e&&"current"in e?e.current:e},pe=function(){var e,t,r,n,o,i,a=!1;if(ae){var s=ae,l=s.observed,u=s.persistentFocus,c=s.autoFocus,d=s.shards,f=l||le&&le.portaledElement,p=document&&document.activeElement;if(f){var h=[f].concat(d.map(fe).filter(Boolean));if(p&&!function(e){return(ae.whiteList||ce)(e)}(p)||(u||ue||!ie()||!se&&c)&&(!f||L(h)||(i=p,le&&le.portaledElement===i)||(document&&!se&&p&&!c?(p.blur(),document.body.focus()):(a=ne(h,se),le={})),ue=!1,se=document&&document.activeElement),document){var m=document&&document.activeElement,g=(t=N(e=h).filter(J),r=Q(e,e,t),n=K([r],!0),o=K(t).filter((function(e){var t=e.node;return J(t)})).map((function(e){return e.node})),n.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:o.indexOf(t)>=0,guard:Z(t)}}))),b=g.find((function(e){return e.node===m}));if(b){g.filter((function(e){var t=e.guard,r=e.node;return t&&r.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")}));var v=g.indexOf(b);de(v,g.length,1,g),de(v,-1,-1,g)}}}}return a},he=function(e){pe()&&e&&(e.stopPropagation(),e.preventDefault())},me=function(){return oe(pe)},ge=function(e){var t=e.target,r=e.currentTarget;r.contains(t)||(le={observerNode:r,portaledElement:t})},be=function(){ue=!0};O.assignSyncMedium(ge),C.assignMedium(me),x.assignMedium((function(e){return e({moveFocusInside:ne,focusInside:L})}));var ve=I((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!ae&&(document.addEventListener("focusin",he,!0),document.addEventListener("focusout",me),window.addEventListener("blur",be));var r=ae,n=r&&t&&t.id===r.id;ae=t,r&&!n&&(r.onDeactivation(),e.filter((function(e){return e.id===r.id})).length||r.returnFocus(!t)),t?(se=null,n&&r.observed===t.observed||t.onActivation(),pe(),oe(pe)):(document.removeEventListener("focusin",he,!0),document.removeEventListener("focusout",me),window.removeEventListener("blur",be),se=null)}))((function(){return null})),ye=o.a.forwardRef((function(e,t){return o.a.createElement(k,p({sideCar:ve,ref:t},e))})),we=k.propTypes||{},Ee=(we.sideCar,function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(we,["sideCar"]));ye.propTypes=Ee;var _e=ye,Oe=r(44),Ce=r(9);function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function De(){var e=je(["\n  .focus-outline-hidden :focus {\n      outline: none;\n  }\n"]);return De=function(){return e},e}r.d(t,"Arrow",(function(){return He})),r.d(t,"Badge",(function(){return Qe})),r.d(t,"Close",(function(){return qe})),r.d(t,"Controls",(function(){return tt})),r.d(t,"Dot",(function(){return it})),r.d(t,"Navigation",(function(){return nt}));var Re=Object(Oe.createGlobalStyle)(De());function Ne(){var e=je(["\n  display: block;\n  padding: 0;\n  border: 0;\n  background: none;\n  font-size: 0;\n  cursor: ",";\n"]);return Ne=function(){return e},e}var Me=Oe.default.button(Ne(),(function(e){return e.disabled?"not-allowed":"pointer"}));function Le(){var e=je(["\n  color: ",";\n\n  ",";\n  ",";\n\n  &:hover {\n    color: ",";\n  }\n"]);return Le=function(){return e},e}function Fe(){var e=je(["\n  font-size: 12px;\n  line-height: 1;\n"]);return Fe=function(){return e},e}var Be=Oe.default.span(Fe());function We(e){var t=e.className,r=e.onClick,n=e.inverted,i=e.label,a=e.disabled;return o.a.createElement(Me,{className:t,onClick:r,"data-tour-elem":"".concat(n?"right":"left","-arrow"),disabled:a},i?o.a.createElement(Be,null,i):o.a.createElement("svg",{viewBox:"0 0 18.4 14.4"},o.a.createElement("path",{d:n?"M17 7.2H1M10.8 1L17 7.2l-6.2 6.2":"M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10"})))}We.propTypes={className:m.a.string.isRequired,onClick:m.a.func.isRequired,inverted:m.a.bool,label:m.a.node,disabled:m.a.bool};var He=Object(Oe.default)(We)(Le(),(function(e){return e.disabled?"#caccce":"#646464"}),(function(e){return e.inverted?"margin-left: 24px;":"margin-right: 24px;"}),(function(e){return!e.label&&"\n    width: 16px;\n    height: 12px;\n    flex: 0 0 16px;\n  "}),(function(e){return e.disabled?"#caccce":"#000"}));function ze(){var e=je(["\n  position: absolute;\n  top: 22px;\n  right: 22px;\n  width: 9px;\n  height: 9px;\n  color: #5e5e5e;\n  &:hover {\n    color: #000;\n  }\n"]);return ze=function(){return e},e}function Ue(e){var t=e.className,r=e.onClick;return o.a.createElement(Me,{className:t,onClick:r},o.a.createElement("svg",{viewBox:"0 0 9.1 9.1"},o.a.createElement("path",{fill:"currentColor",d:"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z"})))}Ue.propTypes={className:m.a.string.isRequired,onClick:m.a.func.isRequired};var qe=Object(Oe.default)(Ue)(ze());function Ge(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function Ve(e){return e===document.querySelector("body")||e===document.querySelector("html")}var Ke=function(e,t){return e>t},Xe=function(e,t){return e>t},Ye=function(e){return e<0?0:e};function $e(){var e=je(["\n  --reactour-accent: ",";\n  ","\n  position: fixed;\n  transition: transform 0.3s;\n  top: 0;\n  left: 0;\n  z-index: 1000000;\n\n  transform: ",";\n"]);return $e=function(){return e},e}var Ze=Oe.default.div($e(),(function(e){return e.accentColor}),(function(e){return e.defaultStyles?"\n  max-width: 331px;\n  min-width: 150px;\n  padding-right: 40px;\n  border-radius: ".concat(e.rounded,"px;\n  background-color: #fff;\n  padding: 24px 30px;\n  box-shadow: 0 0.5em 3em rgba(0, 0, 0, 0.3);\n  color: inherit;\n  "):""}),(function(e){var t=e.targetTop,r=e.targetRight,n=e.targetBottom,o=e.targetLeft,i=e.windowWidth,a=e.windowHeight,s=e.helperWidth,l=e.helperHeight,u=e.helperPosition,c=e.padding,d={left:o,right:i-r,top:t,bottom:a-n},f=function(e){return d[e]>(function(e){return/(left|right)/.test(e)}(e)?s+2*c:l+2*c)},p=function(e){for(var t,r=(t=d,Object.keys(t).map((function(e){return{position:e,value:t[e]}})).sort((function(e,t){return t.value-e.value})).map((function(e){return e.position}))),n=0;n<r.length;n++)if(f(r[n]))return e[r[n]];return e.center},h=function(e){if(Array.isArray(e)){var u=Ke(e[0],i),d=Xe(e[1],a),h=function(e,t){console.warn("".concat(e,":").concat(t," is outside window, falling back to center"))};return u&&h("x",e[0]),d&&h("y",e[1]),[u?i/2-s/2:e[0],d?a/2-l/2:e[1]]}var m=Ke(o+s,i)?Ke(r+c,i)?r-s:r-s+c:o-c,g=m>c?m:c,b=Xe(t+l,a)?Xe(n+c,a)?n-l:n-l+c:t-c,v=b>c?b:c,y={top:[g,t-l-2*c],right:[r+2*c,v],bottom:[g,n+2*c],left:[o-s-2*c,v],center:[i/2-s/2,a/2-l/2]};return"center"===e||f(e)?y[e]:p(y)}(u);return"translate(".concat(Math.round(h[0]),"px, ").concat(Math.round(h[1]),"px)")}));function Je(){var e=je(["\n  position: absolute;\n  font-family: monospace;\n  background: var(--reactour-accent);\n  background: ",";\n  height: 1.875em;\n  line-height: 2;\n  padding-left: 0.8125em;\n  padding-right: 0.8125em;\n  font-size: 1em;\n  border-radius: 1.625em;\n  color: white;\n  text-align: center;\n  box-shadow: 0 0.25em 0.5em rgba(0, 0, 0, 0.3);\n  top: -0.8125em;\n  left: -0.8125em;\n"]);return Je=function(){return e},e}var Qe=Oe.default.span(Je(),(function(e){return e.accentColor}));function et(){var e=je(["\n  display: flex;\n  margin-top: 24px;\n  align-items: center;\n"]);return et=function(){return e},e}var tt=Oe.default.div(et());function rt(){var e=je(["\n  counter-reset: dot;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n"]);return rt=function(){return e},e}var nt=Oe.default.nav(rt());function ot(){var e=je(["\n  counter-increment: dot;\n  width: 8px;\n  height: 8px;\n  border: ",";\n\n  border-radius: 100%;\n  padding: 0;\n  display: block;\n  margin: 4px;\n  transition: opacity 0.3s, transform 0.3s;\n  cursor: ",";\n  transform: scale(",");\n\n  color: ",";\n  background: ",";\n\n  color: ",";\n  background: ",";\n\n  &:before {\n    content: counter(dot);\n    position: absolute;\n    bottom: calc(100% + 0.25em);\n    left: 50%;\n    opacity: 0;\n    transform: translate(-50%, 1em);\n    transition: 0.3s;\n    display: ",";\n  }\n\n  &:hover {\n    background-color: currentColor;\n\n    &:before {\n      opacity: 0.5;\n      transform: translate(-50%, -2px);\n    }\n  }\n"]);return ot=function(){return e},e}var it=Oe.default.button(ot(),(function(e){return e.current===e.index?"0":"1px solid #caccce"}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.current===e.index?1.25:1}),(function(e){return e.current===e.index?"var(--reactour-accent)":"#caccce"}),(function(e){return e.current===e.index?"var(--reactour-accent)":"none"}),(function(e){return e.current===e.index?e.accentColor:"#caccce"}),(function(e){return e.current===e.index?e.accentColor:"none"}),(function(e){return e.showNumber?"block":"none"}));function at(){var e=je(["\n  opacity: 0.7;\n  width: 100%;\n  left: 0;\n  top: 0;\n  height: 100%;\n  position: fixed;\n  z-index: 99999;\n  pointer-events: none;\n  color: #000;\n"]);return at=function(){return e},e}var st=Oe.default.div(at());function lt(e){var t=e.windowWidth,r=e.windowHeight,n=e.targetWidth,i=e.targetHeight,a=e.targetTop,s=e.targetLeft,l=e.padding,u=e.rounded,c=e.disableInteraction,d=e.disableInteractionClassName,f=e.className,p=e.onClick,h=Ye(n+2*l),m=Ye(i+2*l),g=Ye(a-l),b=Ye(s-l);return o.a.createElement(st,{onClick:p},o.a.createElement("svg",{width:t,height:r,xmlns:"http://www.w3.org/2000/svg",className:f},o.a.createElement("defs",null,o.a.createElement("mask",{id:"mask-main"},o.a.createElement("rect",{x:0,y:0,width:t,height:r,fill:"white"}),o.a.createElement("rect",{x:b,y:g,width:h,height:m,fill:"black"}),o.a.createElement("rect",{x:b-1,y:g-1,width:u,height:u,fill:"white"}),o.a.createElement("circle",{cx:b+u,cy:g+u,r:u,fill:"black"}),o.a.createElement("rect",{x:b+h-u+1,y:g-1,width:u,height:u,fill:"white"}),o.a.createElement("circle",{cx:b+h-u,cy:g+u,r:u,fill:"black"}),o.a.createElement("rect",{x:b-1,y:g+m-u+1,width:u,height:u,fill:"white"}),o.a.createElement("circle",{cx:b+u,cy:g+m-u,r:u,fill:"black"}),o.a.createElement("rect",{x:b+h-u+1,y:g+m-u+1,width:u,height:u,fill:"white"}),o.a.createElement("circle",{cx:b+h-u,cy:g+m-u,r:u,fill:"black "})),o.a.createElement("clipPath",{id:"clip-path"},o.a.createElement("rect",{x:0,y:0,width:t,height:g}),o.a.createElement("rect",{x:0,y:g,width:b,height:m}),o.a.createElement("rect",{x:s+n+l,y:g,width:Ye(t-n-b),height:m}),o.a.createElement("rect",{x:0,y:a+i+l,width:t,height:Ye(r-i-g)}))),o.a.createElement("rect",{x:0,y:0,width:t,height:r,fill:"currentColor",mask:"url(#mask-main)"}),o.a.createElement("rect",{x:0,y:0,width:t,height:r,fill:"currentColor",clipPath:"url(#clip-path)",pointerEvents:"auto"}),o.a.createElement("rect",{x:b,y:g,width:h,height:m,pointerEvents:"auto",fill:"transparent",display:c?"block":"none",className:d})))}function ut(e){var t=e.children,r=Object(n.useRef)(null);return null===r.current&&(r.current=document.createElement("div"),r.current.setAttribute("id","___reactour")),Object(n.useEffect)((function(){return document.body.appendChild(r.current),function(){document.body.removeChild(r.current)}}),[r]),Object(Ce.createPortal)(t,r.current)}lt.propTypes={windowWidth:m.a.number.isRequired,windowHeight:m.a.number.isRequired,targetWidth:m.a.number.isRequired,targetHeight:m.a.number.isRequired,targetTop:m.a.number.isRequired,targetLeft:m.a.number.isRequired,padding:m.a.number.isRequired,rounded:m.a.number.isRequired,disableInteraction:m.a.bool.isRequired,disableInteractionClassName:m.a.string.isRequired};var ct={badgeContent:m.a.func,highlightedMaskClassName:m.a.string,children:m.a.oneOfType([m.a.node,m.a.element]),className:m.a.string,closeWithMask:m.a.bool,inViewThreshold:m.a.number,isOpen:m.a.bool.isRequired,lastStepNextButton:m.a.node,maskClassName:m.a.string,maskSpace:m.a.number,nextButton:m.a.node,onAfterOpen:m.a.func,onBeforeClose:m.a.func,onRequestClose:m.a.func,prevButton:m.a.node,scrollDuration:m.a.number,scrollOffset:m.a.number,showButtons:m.a.bool,showCloseButton:m.a.bool,showNavigation:m.a.bool,showNavigationNumber:m.a.bool,showNumber:m.a.bool,startAt:m.a.number,goToStep:m.a.number,getCurrentStep:m.a.func,nextStep:m.a.func,prevStep:m.a.func,steps:m.a.arrayOf(m.a.shape({selector:m.a.string,content:m.a.oneOfType([m.a.node,m.a.element,m.a.func]).isRequired,position:m.a.oneOfType([m.a.arrayOf(m.a.number),m.a.oneOf(["top","right","bottom","left","center"])]),action:m.a.func,style:m.a.object,stepInteraction:m.a.bool,navDotAriaLabel:m.a.string})),update:m.a.string,updateDelay:m.a.number,disableInteraction:m.a.bool,disableDotsNavigation:m.a.bool,disableKeyboardNavigation:m.a.oneOfType([m.a.arrayOf(m.a.oneOf(["esc","right","left"])),m.a.bool]),rounded:m.a.number,accentColor:m.a.string},dt={base:"reactour__mask",isOpen:"reactour__mask--is-open",disableInteraction:"reactour__mask--disable-interaction"},ft={base:"reactour__helper",isOpen:"reactour__helper--is-open"},pt={base:"reactour__dot",active:"reactour__dot--is-active"},ht=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Ae(e):t}(this,ke(t).call(this)),Te(Ae(e),"unlockFocus",(function(t){e.setState({focusUnlocked:!0},t())})),Te(Ae(e),"showStep",(function(){var t=e.props.steps,r=e.state,n=r.current;r.focusUnlocked&&e.setState({focusUnlocked:!1});var o=t[n],i=o.selector?document.querySelector(o.selector):null,a=function(t){o.action&&"function"==typeof o.action&&e.unlockFocus((function(){return o.action(t)}))};if(o.observe){var s=document.querySelector(o.observe),l={attributes:!0,childList:!0,characterData:!0};e.setState((function(t){return t.observer&&setTimeout((function(){t.observer.disconnect()}),0),{observer:new MutationObserver((function(t){t.forEach((function(t){if("childList"===t.type&&t.addedNodes.length>0){var r=function(){return a(t.addedNodes[0])};setTimeout((function(){return e.calculateNode(t.addedNodes[0],o.position,r)}),100)}else if("childList"===t.type&&t.removedNodes.length>0){e.calculateNode(i,o.position,(function(){return a(i)}))}}))}))}}),(function(){return e.state.observer.observe(s,l)}))}else e.state.observer&&(e.state.observer.disconnect(),e.setState({observer:null}));if(i){e.calculateNode(i,o.position,(function(){return a(i)}))}else e.setState(mt(null,e.helper.current,o.position),a),o.selector&&console.warn("Doesn't find a DOM node '".concat(o.selector,"'. Please check the 'steps' Tour prop Array at position ").concat(n,"."))})),Te(Ae(e),"calculateNode",(function(t,r,n){var o=e.props,i=o.scrollDuration,a=o.inViewThreshold,s=o.scrollOffset,u=Ge(t),d=Math.max(document.documentElement.clientWidth,window.innerWidth||0),f=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(function(e){var t=e.top,r=e.right,n=e.bottom,o=e.left,i=e.w,a=e.h,s=e.threshold,l=void 0===s?0:s;return t>=0+l&&o>=0+l&&n<=a-l&&r<=i-l}(Pe({},u,{w:d,h:f,threshold:a})))e.setState(mt(t,e.helper.current,r),n);else{var p=c()(t),h=s||(u.height>f?-25:-f/2+u.height/2);l.a.to(t,{context:Ve(p)?window:p,duration:i,offset:h,callback:function(t){e.setState(mt(t,e.helper.current,r),n)}})}})),Te(Ae(e),"maskClickHandler",(function(t){var r=e.props,n=r.closeWithMask,o=r.onRequestClose;n&&!t.target.classList.contains(dt.disableInteraction)&&o(t)})),Te(Ae(e),"nextStep",(function(){var t=e.props,r=t.steps,n=t.getCurrentStep;e.setState((function(e){var t=e.current<r.length-1?e.current+1:e.current;return"function"==typeof n&&n(t),{current:t}}),e.showStep)})),Te(Ae(e),"prevStep",(function(){var t=e.props.getCurrentStep;e.setState((function(e){var r=e.current>0?e.current-1:e.current;return"function"==typeof t&&t(r),{current:r}}),e.showStep)})),Te(Ae(e),"gotoStep",(function(t){var r=e.props,n=r.steps,o=r.getCurrentStep;e.setState((function(e){var r=n[t]?t:e.current;return"function"==typeof o&&o(r),{current:r}}),e.showStep)})),Te(Ae(e),"keyDownHandler",(function(t){var r,n,o,i=e.props,a=i.onRequestClose,s=i.nextStep,l=i.prevStep,u=i.disableKeyboardNavigation;i.showCloseButton;(t.stopPropagation(),!0!==u)&&(u&&(r=u.includes("esc"),n=u.includes("right"),o=u.includes("left")),27!==t.keyCode||r||(t.preventDefault(),a()),39!==t.keyCode||n||(t.preventDefault(),"function"==typeof s?s():e.nextStep()),37!==t.keyCode||o||(t.preventDefault(),"function"==typeof l?l():e.prevStep()))})),e.state={isOpen:!1,current:0,top:0,right:0,bottom:0,left:0,width:0,height:0,w:0,h:0,inDOM:!1,observer:null,focusUnlocked:!1},e.helper=Object(n.createRef)(),e.helperElement=null,e.debouncedShowStep=f()(e.showStep,70),e}var r,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,e),r=t,(i=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,r=e.startAt;t&&this.open(r)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,r=t.isOpen,n=t.update,o=t.updateDelay;!r&&e.isOpen?this.open(e.startAt):r&&!e.isOpen&&this.close(),r&&n!==e.update&&(e.steps[this.state.current]?setTimeout(this.showStep,o):this.props.onRequestClose()),r&&e.isOpen&&this.state.current!==e.goToStep&&this.gotoStep(e.goToStep)}},{key:"componentWillUnmount",value:function(){this.props.isOpen&&this.close(),this.state.observer&&this.state.observer.disconnect()}},{key:"open",value:function(e){var t=this,r=this.props.onAfterOpen;this.setState((function(t){return{isOpen:!0,current:void 0!==e?e:t.current}}),(function(){setTimeout(t.showStep,1),t.helperElement=t.helper.current,t.helper.current.focus(),r&&r(t.helperElement)})),window.addEventListener("resize",this.debouncedShowStep,!1),window.addEventListener("keydown",this.keyDownHandler,!1)}},{key:"close",value:function(){this.setState((function(e){return e.observer&&e.observer.disconnect(),{isOpen:!1,observer:null}}),this.onBeforeClose),window.removeEventListener("resize",this.debouncedShowStep),window.removeEventListener("keydown",this.keyDownHandler)}},{key:"onBeforeClose",value:function(){var e=this.props.onBeforeClose;e&&e(this.helperElement)}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.className,i=r.steps,s=r.maskClassName,l=r.showButtons,u=r.showCloseButton,c=r.showNavigation,d=r.showNavigationNumber,f=r.showNumber,p=r.onRequestClose,h=r.maskSpace,m=r.lastStepNextButton,g=r.nextButton,b=r.prevButton,v=r.badgeContent,y=r.highlightedMaskClassName,w=r.disableInteraction,E=r.disableDotsNavigation,_=r.nextStep,O=r.prevStep,C=r.rounded,x=r.accentColor,T=r.CustomHelper,S=this.state,P=S.isOpen,k=S.current,I=S.inDOM,A=S.top,j=S.right,D=S.bottom,R=S.left,N=S.width,M=S.height,L=S.w,F=S.h,B=S.helperWidth,W=S.helperHeight,H=S.helperPosition,z=S.focusUnlocked;return P?o.a.createElement(ut,null,o.a.createElement(Re,null),o.a.createElement(lt,(e={className:a()(dt.base,s,Te({},dt.isOpen,P)),onClick:this.maskClickHandler,forwardRef:function(e){return t.mask=e},windowWidth:L,windowHeight:F,targetWidth:N,targetHeight:M,targetTop:A,targetLeft:R,padding:h,rounded:C},Te(e,"className",s),Te(e,"disableInteraction",!1===i[k].stepInteraction||w?!i[k].stepInteraction:w),Te(e,"disableInteractionClassName","".concat(dt.disableInteraction," ").concat(y)),e)),o.a.createElement(_e,{disabled:z},o.a.createElement(Ze,{ref:this.helper,targetHeight:M,targetWidth:N,targetTop:A,targetRight:j,targetBottom:D,targetLeft:R,windowWidth:L,windowHeight:F,helperWidth:B,helperHeight:W,helperPosition:H,padding:h,tabIndex:-1,current:k,style:i[k].style?i[k].style:{},rounded:C,className:a()(ft.base,n,Te({},ft.isOpen,P)),accentColor:x,defaultStyles:!T},T?o.a.createElement(T,{current:k,totalSteps:i.length,gotoStep:this.gotoStep,close:p,content:i[k]&&("function"==typeof i[k].content?i[k].content({close:p,goTo:this.gotoStep,inDOM:I,step:k+1}):i[k].content)},this.props.children):o.a.createElement(o.a.Fragment,null,this.props.children,i[k]&&("function"==typeof i[k].content?i[k].content({close:p,goTo:this.gotoStep,inDOM:I,step:k+1}):i[k].content),f&&o.a.createElement(Qe,{"data-tour-elem":"badge",accentColor:x},"function"==typeof v?v(k+1,i.length):k+1),(l||c)&&o.a.createElement(tt,{"data-tour-elem":"controls"},l&&o.a.createElement(He,{onClick:"function"==typeof O?O:this.prevStep,disabled:0===k,label:b||null}),c&&o.a.createElement(nt,{"data-tour-elem":"navigation"},i.map((function(e,r){return o.a.createElement(it,{key:"".concat(e.selector?e.selector:"undef","_").concat(r),onClick:function(){return t.gotoStep(r)},current:k,index:r,accentColor:x,disabled:k===r||E,showNumber:d,"data-tour-elem":"dot",className:a()(pt.base,Te({},pt.active,k===r)),"aria-label":e.navDotAriaLabel})}))),l&&o.a.createElement(He,{onClick:k===i.length-1?m?p:function(){}:"function"==typeof _?_:this.nextStep,disabled:!m&&k===i.length-1,inverted:!0,label:m&&k===i.length-1?m:g||null})),u?o.a.createElement(qe,{onClick:p}):null)))):null}}])&&xe(r.prototype,i),s&&xe(r,s),t}(n.Component),mt=function(e,t,r){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=Ge(t),a=i.width,s=i.height,l=e?Ge(e):{top:o+10,right:n/2+9,bottom:o/2+9,left:n/2-a/2,width:0,height:0,w:n,h:o,helperPosition:"center"};return function(){return Pe({w:n,h:o,helperWidth:a,helperHeight:s,helperPosition:r},l,{inDOM:!!e})}};ht.propTypes=ct,ht.defaultProps={showNavigation:!0,showNavigationNumber:!0,showButtons:!0,showCloseButton:!0,showNumber:!0,scrollDuration:1,maskSpace:10,updateDelay:1,disableInteraction:!1,rounded:0,accentColor:"#007aff",closeWithMask:!0};t.default=ht},function(e,t,r){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}r.r(t);var o=function(e){var t,r;return!1!==n(e)&&("function"==typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))},i=r(4);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"createHyperscript",(function(){return E})),r.d(t,"jsx",(function(){return C}));var s=new WeakMap,l=new WeakMap;class u{}class c extends u{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}class d extends u{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}var f=e=>l.get(e);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=new WeakSet,g=e=>{var t=[],r=e=>{if(null!=e){var n=t[t.length-1];if("string"==typeof e){var o={text:e};m.add(o),e=o}if(i.Text.isText(e)){var a=e;i.Text.isText(n)&&m.has(n)&&m.has(a)&&i.Text.equals(n,a,{loose:!0})?n.text+=a.text:t.push(a)}else if(i.Element.isElement(e))t.push(e);else{if(!(e instanceof u))throw new Error("Unexpected hyperscript child object: ".concat(e));var f=t[t.length-1];i.Text.isText(f)||(r(""),f=t[t.length-1]),e instanceof c?((e,t)=>{var r=e.text.length;s.set(e,[r,t])})(f,e):e instanceof d&&((e,t)=>{var r=e.text.length;l.set(e,[r,t])})(f,e)}}};for(var n of e.flat(1/0))r(n);return t};function b(e,t,r){return h({},t,{children:g(r)})}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={anchor:function(e,t,r){return new c(t)},cursor:function(e,t,r){return[new c(t),new d(t)]},editor:function(e,t,r){var n,o=[];for(var a of r)i.Range.isRange(a)?n=a:o.push(a);var l,u=g(o),c={},d=Object(i.createEditor)();for(var[p,h]of(Object.assign(d,t),d.children=u,i.Node.texts(d))){var m=(l=p,s.get(l)),b=f(p);if(null!=m){var[v]=m;c.anchor={path:h,offset:v}}if(null!=b){var[y]=b;c.focus={path:h,offset:y}}}if(c.anchor&&!c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=n?d.selection=n:i.Range.isRange(c)&&(d.selection=c),d},element:b,focus:function(e,t,r){return new d(t)},fragment:function(e,t,r){return g(r)},selection:function(e,t,r){var n=r.find(e=>e instanceof c),o=r.find(e=>e instanceof d);if(!n||null==n.offset||null==n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return h({anchor:{offset:n.offset,path:n.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,r){var n=g(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=n;if(null==o&&(o={text:""}),!i.Text.isText(o))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return m.delete(o),Object.assign(o,t),o}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,r=O(t),n=y({},w,{},r,{},e.creators),o=_(n);return o},_=e=>function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var s=e[t];if(!s)throw new Error("No hyperscript creator found for tag: <".concat(t,">"));null==r&&(r={}),o(r)||(i=[r].concat(i),r={});var l=s(t,r,i=i.filter(e=>Boolean(e)).flat());return l},O=e=>{var t={},r=function(r){var n=e[r];if("object"!=typeof n)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(n));t[r]=(e,t,r)=>b(0,y({},n,{},t),r)};for(var n in e)r(n);return t},C=E()},function(e,t,r){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}r.r(t);var o=function(e){var t,r;return!1!==n(e)&&("function"==typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))},i=r(4);r.d(t,"HISTORY",(function(){return s})),r.d(t,"History",(function(){return a})),r.d(t,"HistoryEditor",(function(){return c})),r.d(t,"MERGING",(function(){return u})),r.d(t,"SAVING",(function(){return l})),r.d(t,"withHistory",(function(){return d}));var a={isHistory:e=>o(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||i.Operation.isOperationList(e.redos[0]))&&(0===e.undos.length||i.Operation.isOperationList(e.undos[0]))},s=new WeakMap,l=new WeakMap,u=new WeakMap,c={isHistoryEditor:e=>i.Editor.isEditor(e)&&a.isHistory(e.history),isMerging:e=>u.get(e),isSaving:e=>l.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var r=c.isMerging(e);u.set(e,!1),t(),u.set(e,r)},withoutSaving(e,t){var r=c.isSaving(e);l.set(e,!1),t(),l.set(e,r)}},d=e=>{var t=e,{apply:r}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:r}=e;if(r.length>0){var n=r[r.length-1];c.withoutSaving(t,()=>{i.Editor.withoutNormalizing(t,()=>{for(var e of n)t.apply(e)})}),e.redos.pop(),e.undos.push(n)}},t.undo=()=>{var{history:e}=t,{undos:r}=e;if(r.length>0){var n=r[r.length-1];c.withoutSaving(t,()=>{i.Editor.withoutNormalizing(t,()=>{var e=n.map(i.Operation.inverse).reverse();for(var r of e)r===e[e.length-1]&&"set_selection"===r.type&&null==r.newProperties||t.apply(r)})}),e.redos.push(n),e.undos.pop()}},t.apply=e=>{var{operations:n,history:o}=t,{undos:i}=o,a=i[i.length-1],s=a&&a[a.length-1],l=h(e,s),u=c.isSaving(t),d=c.isMerging(t);if(null==u&&(u=p(e)),u){if(null==d&&(d=null!=a&&(0!==n.length||(f(e,s)||l))),a&&d)l&&a.pop(),a.push(e);else{var g=[e];i.push(g)}for(;i.length>100;)i.shift();m(e)&&(o.redos=[])}r(e)},t},f=(e,t)=>"set_selection"===e.type||(!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!i.Path.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!i.Path.equals(e.path,t.path))),p=(e,t)=>"set_selection"!==e.type||null!=e.newProperties,h=(e,t)=>!(!t||"set_selection"!==e.type||"set_selection"!==t.type),m=e=>"set_selection"!==e.type},function(e,t,r){"use strict";r.r(t);var n=!("undefined"==typeof window||!window.document||!window.document.createElement);var o=void 0;function i(){return void 0===o&&(o=function(){if(!n)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};window.addEventListener("testPassiveEventSupport",r,t),window.removeEventListener("testPassiveEventSupport",r,t)}catch(e){}return e}()),o}function a(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function s(e){this.target=e,this.events={}}s.prototype.getEventHandlers=function(e,t){var r,n=String(e)+" "+String((r=t)?!0===r?100:(r.capture<<0)+(r.passive<<1)+(r.once<<2):0);return this.events[n]||(this.events[n]={handlers:[],handleEvent:void 0},this.events[n].nextHandlers=this.events[n].handlers),this.events[n]},s.prototype.handleEvent=function(e,t,r){var n=this.getEventHandlers(e,t);n.handlers=n.nextHandlers,n.handlers.forEach((function(e){e&&e(r)}))},s.prototype.add=function(e,t,r){var n=this,o=this.getEventHandlers(e,r);a(o),0===o.nextHandlers.length&&(o.handleEvent=this.handleEvent.bind(this,e,r),this.target.addEventListener(e,o.handleEvent,r)),o.nextHandlers.push(t);var i=!0;return function(){if(i){i=!1,a(o);var s=o.nextHandlers.indexOf(t);o.nextHandlers.splice(s,1),0===o.nextHandlers.length&&(n.target&&n.target.removeEventListener(e,o.handleEvent,r),o.handleEvent=void 0)}}};function l(e,t,r,n){e.__consolidated_events_handlers__||(e.__consolidated_events_handlers__=new s(e));var o=function(e){if(e)return i()?e:!!e.capture}(n);return e.__consolidated_events_handlers__.add(t,r,o)}r(2);var u=r(1),c=r.n(u),d=r(95);function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){var r,n=(r=e,!isNaN(parseFloat(r))&&isFinite(r)?parseFloat(r):"px"===r.slice(-2)?parseFloat(r.slice(0,-2)):void 0);if("number"==typeof n)return n;var o=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"==typeof o?o*t:void 0}r.d(t,"Waypoint",(function(){return _}));function b(e){return"string"==typeof e.type}var v;var y=[];function w(e){y.push(e),v||(v=setTimeout((function(){var e;for(v=null;e=y.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var r=y.indexOf(e);-1!==r&&(y.splice(r,1),!y.length&&v&&(clearTimeout(v),v=null))}}}var E={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},_=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,p(t).call(this,e))).refElement=function(e){r._ref=e},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){var e=this;t.getWindow()&&(this.cancelOnNextTick=w((function(){e.cancelOnNextTick=null;var t=e.props,r=t.children;t.debug,function(e,t){if(e&&!b(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(r,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=l(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=l(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;t.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=w((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){t.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var e=this.props,t=e.horizontal,r=e.scrollableAncestor;if(r)return function(e){return"window"===e?global.window:e}(r);for(var n=this._ref;n.parentNode;){if((n=n.parentNode)===document.body)return window;var o=window.getComputedStyle(n),i=(t?o.getPropertyValue("overflow-x"):o.getPropertyValue("overflow-y"))||o.getPropertyValue("overflow");if("auto"===i||"scroll"===i)return n}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),r=function(e){return e.viewportBottom-e.viewportTop==0?"invisible":e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?"inside":e.viewportBottom<e.waypointTop?"below":e.waypointTop<e.viewportTop?"above":"invisible"}(t),n=this._previousPosition,o=this.props,i=(o.debug,o.onPositionChange),a=o.onEnter,s=o.onLeave,l=o.fireOnRapidScroll;if(this._previousPosition=r,n!==r){var u={currentPosition:r,previousPosition:n,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};i.call(this,u),"inside"===r?a.call(this,u):"inside"===n&&s.call(this,u),l&&("below"===n&&"above"===r||"above"===n&&"below"===r)&&(a.call(this,{currentPosition:"inside",previousPosition:n,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),s.call(this,{currentPosition:r,previousPosition:"inside",event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,r=this.props,n=r.horizontal,o=(r.debug,this._ref.getBoundingClientRect()),i=o.left,a=o.top,s=o.right,l=o.bottom,u=n?i:a,c=n?s:l;this.scrollableAncestor===window?(e=n?window.innerWidth:window.innerHeight,t=0):(e=n?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=n?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var d=this.props,f=d.bottomOffset;return{waypointTop:u,waypointBottom:c,viewportTop:t+g(d.topOffset,e),viewportBottom:t+e-g(f,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?b(t)||Object(d.isForwardRef)(t)?c.a.cloneElement(t,{ref:function(r){e.refElement(r),t.ref&&("function"==typeof t.ref?t.ref(r):t.ref.current=r)}}):c.a.cloneElement(t,{innerRef:this.refElement}):c.a.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&f(r.prototype,n),o&&f(r,o),t}(c.a.PureComponent);_.above="above",_.below="below",_.inside="inside",_.invisible="invisible",_.getWindow=function(){if("undefined"!=typeof window)return window},_.defaultProps=E,_.displayName="Waypoint"}]);
//# sourceMappingURL=https://raw.githubusercontent.com/Plotinator/pltr_sourcemaps/main/2020.12.21/app.map