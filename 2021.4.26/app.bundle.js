!function(e){function t(t){for(var n,a,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={2:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([625,1,0]),r()}({110:function(e,t){e.exports=require("punycode")},111:function(e,t){e.exports=require("events")},1114:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=h(r(12)),i=r(22),a=h(r(1115)),s=h(r(1186)),l=h(r(1189)),c=h(r(1190)),u=h(r(1194)),d=h(r(1199)),p=h(r(1215)),f=h(r(1224));function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}class g extends n.Component{render(){switch(this.props.currentView){case"project":return n.default.createElement(p.default,null);case"outline":return n.default.createElement(a.default,null);case"notes":return n.default.createElement(u.default,null);case"tags":return n.default.createElement(s.default,null);case"characters":return n.default.createElement(l.default,null);case"places":return n.default.createElement(c.default,null);case"analyzer":return n.default.createElement(f.default,null);case"timeline":default:return n.default.createElement(d.default,null)}}}g.propTypes={currentView:o.default.string.isRequired};var b=(0,i.connect)((function(e){return{currentView:e.present.ui.currentView}}),(function(e){return{}}))(g);t.default=b},1115:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement(o.ErrorBoundary,null,n.default.createElement(i.default,null))};var n=a(r(2)),o=r(20),i=a(r(1116));function a(e){return e&&e.__esModule?e:{default:e}}},1116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=h(r(12)),i=r(22),a=r(24),s=r(18),l=h(r(1117)),c=h(r(1119)),u=r(7),d=r(20),p=h(r(515)),f=r(11);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{cardMapSelector:b,sortedBeatsByBookSelector:v,sortedLinesByBookSelector:y,isSeriesSelector:w}=f.selectors,{card:{cardMapping:E}}=f.helpers;class _ extends n.Component{constructor(e){super(e),g(this,"setActive",e=>{this.setState({active:e})}),g(this,"fixMe",()=>{console.warn("OutlineView waypoint needs fixing")}),g(this,"filterItem",e=>{const{actions:t}=this.props;t.setOutlineFilter(e)}),g(this,"removeFilter",()=>{this.props.actions.setOutlineFilter(null)}),this.state={active:0,firstRender:!0}}componentDidMount(){setTimeout(()=>this.setState({firstRender:!1}),500)}UNSAFE_componentWillReceiveProps(e){e.ui.currentTimeline!=this.props.ui.currentTimeline&&(this.setState({firstRender:!0}),setTimeout(()=>this.setState({firstRender:!1}),500))}renderFilterList(){var e=this.props.lines.map(e=>this.renderFilterItem(e));return n.default.createElement("ul",{className:"filter-list__list"},e)}renderFilterItem(e){const{ui:t}=this.props;var r=n.default.createElement("span",{className:"filter-list__placeholder"});return(Array.isArray(t.outlineFilter)&&t.outlineFilter.includes(e.id)||!Array.isArray(t.outlineFilter)&&t.outlineFilter===e.id)&&(r=n.default.createElement(s.Glyphicon,{glyph:"eye-open"})),n.default.createElement("li",{key:e.id,onMouseDown:()=>this.filterItem(e.id)},r," ",e.title)}renderSubNav(){const{ui:e}=this.props;let t=n.default.createElement(s.Popover,{id:"filter"},n.default.createElement("div",{className:"filter-list"},this.renderFilterList())),r=n.default.createElement(s.Alert,{onClick:this.removeFilter,bsStyle:"warning"},n.default.createElement(s.Glyphicon,{glyph:"remove-sign"}),"  ",(0,u.t)("Outline is filtered"));return e.outlineFilter&&e.outlineFilter.length||(r=n.default.createElement("span",null)),n.default.createElement(d.SubNav,null,n.default.createElement(s.Nav,{bsStyle:"pills"},n.default.createElement(s.NavItem,null,n.default.createElement(s.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:t},n.default.createElement(s.Button,{bsSize:"small"},n.default.createElement(s.Glyphicon,{glyph:"filter"}),(0,u.t)("Filter by Plotline"))),r)),n.default.createElement(s.Nav,{pullRight:!0},n.default.createElement(p.default,null)))}renderBeats(e){const{beats:t,ui:r}=this.props;return!!t.length&&t.map((t,o)=>this.state.firstRender&&o>2?null:n.default.createElement(d.ErrorBoundary,{key:t.id},n.default.createElement(l.default,{beat:t,cards:e[t.id],waypoint:this.fixMe,activeFilter:!!r.outlineFilter})))}renderBody(){const{beats:e,lines:t,card2Dmap:r,ui:o}=this.props,i=E(e,t,r,o.outlineFilter);return n.default.createElement("div",{className:"outline__container tab-body"},n.default.createElement("div",{className:"outline__minimap__placeholder"},"Fish are friends, not food"),n.default.createElement(d.ErrorBoundary,null,n.default.createElement(c.default,{active:this.state.active,handleActive:this.setActive,cardMapping:i,activeFilter:!!o.outlineFilter})),n.default.createElement("div",{className:"outline__scenes-container"},this.renderBeats(i)))}render(){const{beats:e}=this.props;return n.default.createElement("div",{className:"container-with-sub-nav"},this.renderSubNav(),!!e.length&&this.renderBody())}}_.propTypes={beats:o.default.array.isRequired,lines:o.default.array.isRequired,card2Dmap:o.default.object.isRequired,ui:o.default.object.isRequired,isSeries:o.default.bool,actions:o.default.object.isRequired};var x=(0,i.connect)((function(e){return{beats:v(e.present),lines:y(e.present),card2Dmap:b(e.present),ui:e.present.ui,isSeries:w(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(f.actions.ui,e)}}))(_);t.default=x},1117:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=f(r(12)),i=r(22),a=r(24),s=r(18),l=r(1448),c=r(7),u=f(r(1118)),d=f(r(5)),p=r(11);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{beatsByBookSelector:g,positionOffsetSelector:b,sortedLinesByBookSelector:v,sortedHierarchyLevels:y,beatHierarchyIsOn:w,isSeriesSelector:E}=p.selectors,_=p.actions.beat,x=p.actions.card,{card:{sortCardsInBeat:O},beats:{beatTitle:S},lists:{moveToAbove:C}}=p.helpers;class T extends n.Component{constructor(...e){super(...e),m(this,"state",{sortedCards:[]}),m(this,"autoSortBeat",()=>{const{beatActions:e,beat:t,ui:r}=this.props;e.autoSortBeat(t.id,r.currentTimeline)}),m(this,"reorderCards",({current:e,currentIndex:t,dropped:r})=>{const{sortedCards:n}=this.state,{beat:o,actions:i,ui:a}=this.props,s=n.map(e=>e.id),l=e.lineId;let c=[],u=null;if(s.includes(r.cardId)){if(c=C(r.index,t,s),r.lineId==l){const t=n.filter(e=>e.lineId==l).map(e=>e.id),o=n.find(e=>e.id==r.cardId).positionWithinLine;u=C(o,e.positionWithinLine,t)}i.reorderCardsInBeat(o.id,l,c,u,void 0,a.currentTimeline)}else if(r.lineId==l){let t=n.filter(e=>e.lineId==l).map(e=>e.id);t.splice(e.positionWithinLine,0,r.cardId),i.reorderCardsWithinLine(o.id,l,t)}else c=s,c.splice(t,0,r.cardId),i.reorderCardsInBeat(o.id,l,c,null,r.cardId,a.currentTimeline)})}static getDerivedStateFromProps(e,t){const{beat:r,cards:n,lines:o}=e;return{sortedCards:O(r.autoOutlineSort,n,o)}}renderManualSort(){return this.props.beat.autoOutlineSort?null:n.default.createElement("small",{className:"outline__beat-manual-sort",onClick:this.autoSortBeat},(0,c.t)("Manually Sorted")," ",n.default.createElement(s.Glyphicon,{glyph:"remove-sign"}))}renderCards(){return this.state.sortedCards.map((e,t)=>n.default.createElement(u.default,{key:e.id,card:e,index:t,reorder:this.reorderCards}))}render(){const{beat:e,beats:t,hierarchyLevels:r,ui:o,waypoint:i,cards:a,activeFilter:s,positionOffset:c,hierarchyEnabled:u,isSeries:p}=this.props;if(s&&!a.length)return null;const f=(0,d.default)("outline__scene-title",{darkmode:o.darkMode});return n.default.createElement(l.Waypoint,{onEnter:()=>i(e.id),scrollableAncestor:window,topOffset:"60%",bottomOffset:"60%"},n.default.createElement("div",null,n.default.createElement("h3",{id:"beat-"+e.id,className:f},S(t,e,r,c,u,p),this.renderManualSort()),this.renderCards()))}}T.propTypes={beat:o.default.object.isRequired,beats:o.default.object.isRequired,hierarchyLevels:o.default.array.isRequired,cards:o.default.array.isRequired,waypoint:o.default.func.isRequired,activeFilter:o.default.bool.isRequired,ui:o.default.object.isRequired,lines:o.default.array.isRequired,positionOffset:o.default.number.isRequired,beatActions:o.default.object,actions:o.default.object,hierarchyEnabled:o.default.bool,isSeries:o.default.bool};var k=(0,i.connect)((function(e){return{ui:e.present.ui,beats:g(e.present),hierarchyLevels:y(e.present),lines:v(e.present),positionOffset:b(e.present),hierarchyEnabled:w(e.present),isSeries:E(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(x,e),beatActions:(0,a.bindActionCreators)(_,e)}}))(T);t.default=k},1118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=p(r(12)),i=r(22),a=r(24),s=r(18),l=r(7),c=r(20),u=p(r(5)),d=r(81);function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=r(11).actions.card;class g extends n.Component{constructor(e){super(e),h(this,"saveEdit",()=>{const{card:e,actions:t}=this.props;var r=this.titleInputRef.value||e.title;t.editCard(e.id,r,this.state.description,e.templates,{}),this.setState({editing:!1})}),h(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),h(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),h(this,"handleDragStart",e=>{this.setState({dragging:!0,editing:!1});const{card:t,index:r}=this.props,n=t.lineId;e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify({cardId:t.id,lineId:n,index:r}))}),h(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),h(this,"editOnClick",()=>{this.state.editing||this.setState({editing:!0})}),h(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),h(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),h(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),h(this,"handleDrop",e=>{if(e.stopPropagation(),e.preventDefault(),this.state.dragging)return;this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.reorder({current:this.props.card,currentIndex:this.props.index,dropped:r})}),this.state={editing:!1,description:e.card.description,dragging:!1,inDropZone:!1,dropDepth:0},this.titleInputRef=null}componentWillUnmount(){this.state.editing&&this.saveEdit()}renderDropZone(){if(this.state.inDropZone)return n.default.createElement("div",{className:"outline__card-drop"},n.default.createElement(d.FaCircle,null))}renderTitle(){const{title:e}=this.props.card;return this.state.editing?n.default.createElement(s.FormGroup,null,n.default.createElement(s.FormControl,{onKeyPress:this.handleEnter,onKeyDown:this.handleEsc,type:"text",autoFocus:!0,inputRef:e=>{this.titleInputRef=e},defaultValue:e})):null}renderDescription(){const{description:e}=this.props.card;return n.default.createElement("div",{className:"outline__description__editing"},n.default.createElement(c.RichText,{className:"outline__description",onChange:e=>this.setState({description:e}),description:e,editable:this.state.editing,darkMode:this.props.ui.darkMode}),this.state.editing&&n.default.createElement(s.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(s.Button,{onClick:()=>this.setState({editing:!1})},(0,l.t)("Cancel")),n.default.createElement(s.Button,{bsStyle:"success",onClick:this.saveEdit},(0,l.t)("Save"))))}renderTags(){return this.props.card.tags.map(e=>{var t=this.props.tags.find(t=>t.id==e);return t?n.default.createElement(c.TagLabel,{tag:t,key:"outline-taglabel-"+e}):null})}renderChipCloud(e,t){if(!e.length)return null;const r=e.map((e,r)=>{const o=t.find(t=>t.id==e);if(!o)return null;const i=`${r}-${e}`;return n.default.createElement("div",{key:i,className:"chip"},n.default.createElement(c.Image,{size:"xs",shape:"circle",imageId:o.imageId}),n.default.createElement("span",null,o.name))});return n.default.createElement("div",{className:"chip-cloud"},r)}renderCharacters(){const{card:e,characters:t}=this.props;return this.renderChipCloud(e.characters,t)}renderPlaces(){const{card:e,places:t}=this.props;return this.renderChipCloud(e.places,t)}renderDivider(){const{card:e}=this.props;return e.tags.length||e.characters.length||e.places.length?n.default.createElement("div",{className:"divider"}):null}render(){const{line:e,ui:t,card:r}=this.props,o={color:e.color};return n.default.createElement("div",{className:"outline__card-wrapper",onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderDropZone(),n.default.createElement("div",{className:(0,u.default)("outline__card",{darkmode:t.darkMode})},n.default.createElement("div",{style:o,className:"outline__card__line-title"},e.title),n.default.createElement("div",{className:(0,u.default)("outline__card__grip",{editing:this.state.editing,dragging:this.state.dragging}),draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},n.default.createElement(d.FaGripLinesVertical,null),this.state.editing?null:n.default.createElement("h6",null,r.title)),n.default.createElement("div",{className:(0,u.default)("outline__card__inner",{editing:this.state.editing}),onClick:this.editOnClick},this.renderTitle(),this.renderDescription(),n.default.createElement(s.Glyphicon,{glyph:"pencil"})),this.renderDivider(),n.default.createElement("div",{className:"outline__card__label-list"},this.renderTags()),this.renderCharacters(),this.renderPlaces()))}}g.propTypes={card:o.default.object.isRequired,index:o.default.number.isRequired,reorder:o.default.func.isRequired,line:o.default.object.isRequired,tags:o.default.array.isRequired,characters:o.default.array.isRequired,places:o.default.array.isRequired,ui:o.default.object.isRequired,actions:o.default.object.isRequired,images:o.default.object};var b=(0,i.connect)((function(e,t){return{line:e.present.lines.find(e=>e.id==t.card.lineId),tags:e.present.tags,characters:e.present.characters,places:e.present.places,ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(m,e)}}))(g);t.default=b},1119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(226)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),i=h(r(12)),a=r(10),s=r(22),l=r(24),c=r(18),u=h(r(5)),d=h(r(1122)),p=r(11);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e){return e&&e.__esModule?e:{default:e}}const m=p.actions.card,{beatsByBookSelector:g,sortedBeatsByBookSelector:b,positionOffsetSelector:v,sortedLinesByBookSelector:y,sortedHierarchyLevels:w,beatHierarchyIsOn:E,isSeriesSelector:_}=p.selectors;class x extends o.Component{constructor(e){super(e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"selectNav",e=>{const t=document.querySelector("#beat-"+e);if(t.scrollIntoView(),e!=this.firstBeatKey){const e=document.querySelector(".outline__container"),r=t.getBoundingClientRect().y;e.scrollBy(0,r-115)}this.props.handleActive(e)}),this.state={mouseOver:!1,firstRender:!0},this.firstBeatKey=e.beats.length?e.beats[0].id:0}componentDidMount(){setTimeout(()=>this.setState({firstRender:!1}),300)}UNSAFE_componentWillReceiveProps(e){e.ui.currentTimeline!=this.props.ui.currentTimeline&&(this.setState({firstRender:!0}),setTimeout(()=>this.setState({firstRender:!1}),500))}renderBeats(){const{lines:e,beats:t,beatsTree:r,activeFilter:i,cardMapping:a,positionOffset:s,actions:l,ui:u,hierarchyLevels:p,hierarchyEnabled:f,isSeries:h}=this.props,m=(0,n.default)(e,"id");return t.map((t,n)=>{if(this.state.firstRender&&n>20)return null;const g=a[t.id];return i&&!g.length?null:o.default.createElement(c.NavItem,{ref:e=>this[`beat-${t.id}-ref`]=e,key:"minimap-beat-"+t.id,eventKey:t.id},o.default.createElement(d.default,{bookId:u.currentTimeline,beat:t,beats:r,hierarchyLevels:p,idx:n+s,cards:g,linesById:m,sortedLines:e,positionOffset:s,reorderCardsWithinLine:l.reorderCardsWithinLine,reorderCardsInBeat:l.reorderCardsInBeat,hierarchyEnabled:f,isSeries:h}))})}render(){return o.default.createElement(c.Nav,{className:(0,u.default)("outline__minimap",{darkmode:this.props.ui.darkMode}),activeKey:this.props.active,onSelect:this.selectNav,onMouseEnter:()=>this.setState({mouseOver:!0}),onMouseLeave:()=>this.setState({mouseOver:!1})},this.renderBeats())}componentDidUpdate(){if(!this.state.mouseOver){const t=this.props.beats.find(e=>e.id===this.props.active);let r="";t&&(r=`beat-${t.id}-ref`);var e=(0,a.findDOMNode)(this[r]);e&&e.scrollIntoView()}}shouldComponentUpdate(e,t){return t.mouseOver==this.state.mouseOver}}x.propTypes={active:i.default.number.isRequired,cardMapping:i.default.object.isRequired,activeFilter:i.default.bool.isRequired,beatsTree:i.default.object.isRequired,beats:i.default.array.isRequired,hierarchyLevels:i.default.array.isRequired,lines:i.default.array.isRequired,ui:i.default.object.isRequired,positionOffset:i.default.number.isRequired,actions:i.default.object,handleActive:i.default.func,hierarchyEnabled:i.default.bool,isSeries:i.default.bool};var O=(0,s.connect)((function(e){return{beats:b(e.present),beatsTree:g(e.present),hierarchyLevels:w(e.present),lines:y(e.present),ui:e.present.ui,positionOffset:v(e.present),hierarchyEnabled:E(e.present),isSeries:_(e.present)}}),(function(e){return{actions:(0,l.bindActionCreators)(m,e)}}))(x);t.default=O},1122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=s(r(12)),i=s(r(5)),a=r(11);function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}const{card:{sortCardsInBeat:c},beats:{beatTitle:u}}=a.helpers;function d(e){const{bookId:t,beat:r,beats:o,hierarchyLevels:a,idx:s,cards:l,linesById:d,sortedLines:p,positionOffset:f,hierarchyEnabled:h,isSeries:m}=e,[g,b]=(0,n.useState)([]),[v,y]=(0,n.useState)(!1),[w,E]=(0,n.useState)(0);(0,n.useEffect)(()=>{b(c(r.autoOutlineSort,l,p))},[r,l]);const _=(n,o)=>{const i=g.map(e=>e.id);if(!i.includes(n)){let a=g.filter(e=>e.lineId==o).map(e=>e.id);a.push(n),r.autoOutlineSort?e.reorderCardsWithinLine(r.id,o,a):(i.push(n),e.reorderCardsInBeat(r.id,o,i,a,n,t))}};return n.default.createElement("div",{className:(0,i.default)("outline__minimap__beat-title",{dropping:v}),onDragEnter:e=>{E(w+1)},onDragOver:e=>{e.preventDefault(),y(!0)},onDragLeave:e=>{let t=w;--t,E(t),t>0||y(!1)},onDrop:e=>{e.stopPropagation(),e.preventDefault(),E(0),y(!1);const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&_(r.cardId,r.lineId)}},n.default.createElement("span",null,n.default.createElement("span",{className:"accented-text"},s+1+".  "),n.default.createElement("span",null,u(o,r,a,f,h,m))),n.default.createElement("div",{className:"outline__minimap__dots"},g.map(e=>{let t=(e=>{const t=e.lineId;return d[t]})(e);if(!t)return null;let r={backgroundColor:t.color};return n.default.createElement("div",{key:`dot-${t.id}-${e.id}`,title:t.title,style:r,className:"outline__minimap__card-dot"})})))}d.propTypes={bookId:o.default.string.isRequired,beat:o.default.object.isRequired,beats:o.default.object.isRequired,hierarchyLevels:o.default.array.isRequired,idx:o.default.number.isRequired,cards:o.default.array.isRequired,sortedLines:o.default.array.isRequired,linesById:o.default.object.isRequired,positionOffset:o.default.number.isRequired,reorderCardsWithinLine:o.default.func.isRequired,reorderCardsInBeat:o.default.func.isRequired,hierarchyEnabled:o.default.bool,isSeries:o.default.bool};var p=d;t.default=p},1123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=h(r(12)),i=r(17),a=r(22),s=r(7),l=r(18),c=r(20),u=h(r(1124)),d=r(34),p=h(r(33)),f=h(r(310));function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}const{dialog:g}=i.remote;function b(e){const[t,r,o]=(0,d.useExportConfigInfo)(),[i,a]=(0,n.useState)(t.savedType||"word"),[h,m]=(0,n.useState)(t.saveSettings),[b,v]=(0,n.useState)(t),y=()=>n.default.createElement(l.Nav,{bsStyle:"pills",activeKey:i,onSelect:e=>a(e)},n.default.createElement(l.NavItem,{eventKey:"word",title:(0,s.t)(".docx")},(0,s.t)("MS Word")),n.default.createElement(l.NavItem,{eventKey:"scrivener",title:(0,s.t)(".scriv")},(0,s.t)("Scrivener")));return n.default.createElement(c.PlottrModal,{isOpen:!0,onRequestClose:e.close},n.default.createElement("div",{className:"export-dialog__wrapper"},n.default.createElement("div",{className:"export-dialog__header"},n.default.createElement("div",{className:"export-dialog__type-chooser"},n.default.createElement("h3",null,(0,s.t)("Advanced Export Options")),n.default.createElement("div",{className:"right-side"},n.default.createElement(y,null),n.default.createElement(l.Button,{bsStyle:"success",disabled:!i,onClick:()=>{const{ui:t,seriesName:r,books:n,fullState:a}=e,l=t.currentTimeline,c="series"==l?r+" "+(0,s.t)("(Series View)"):n[""+l].title;(0,f.default)(c,a,i,b[i],(t,r)=>{if(h&&(o("savedType",i),o(i,b[i])),t)return p.default.error(t),void g.showErrorBox((0,s.t)("Error"),(0,s.t)("There was an error doing that. Try again"));r&&e.close()})}},n.default.createElement(l.Glyphicon,{glyph:"export"})))),n.default.createElement("hr",null)),n.default.createElement("div",{className:"export-dialog__body"},n.default.createElement(u.default,{type:i,setType:a,onChange:e=>{const t={...b};t[i]=e,v(t)}}),null==i?n.default.createElement("div",{className:"export-dialog__null-type"},n.default.createElement("h3",null,(0,s.t)("Export to:")),n.default.createElement(y,null)):null),n.default.createElement("div",{className:"export-dialog__footer"},n.default.createElement("hr",null),n.default.createElement("div",null,n.default.createElement(c.Switch,{isOn:h,handleToggle:()=>m(!h),labelText:(0,s.t)("Save these settings across projects?")}),n.default.createElement(l.ButtonToolbar,null,n.default.createElement(l.Button,{onClick:e.close},(0,s.t)("Cancel")))))))}b.propTypes={close:o.default.func,ui:o.default.object,seriesName:o.default.string,books:o.default.object,fullState:o.default.object};var v=(0,a.connect)(e=>({ui:e.present.ui,seriesName:e.present.series.name,books:e.present.books,fullState:e.present}))(b);t.default=v},1124:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=d(r(12)),i=r(34),a=d(r(1125)),s=d(r(1126)),l=d(r(1127)),c=d(r(1128)),u=d(r(1129));function d(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f({type:e,onChange:t}){const[r]=(0,i.useExportConfigInfo)(),[o,d]=(0,n.useState)(r[e]);(0,n.useEffect)(()=>{d(r[e])},[e]);const p=(e,r,n)=>{const i={...o};i[r][n]=e,d(i),t(i)};return e&&o?n.default.createElement("div",{className:"export-dialog__option-lists"},"scrivener"!=e?n.default.createElement(s.default,{type:e,options:o.general,updateOptions:p}):null,n.default.createElement(a.default,{type:e,options:o.outline,updateOptions:p}),n.default.createElement(u.default,{type:e,options:o.notes,updateOptions:p}),n.default.createElement(l.default,{type:e,options:o.characters,updateOptions:p}),n.default.createElement(c.default,{type:e,options:o.places,updateOptions:p})):null}f.propTypes={type:o.default.string,setType:o.default.func,onChange:o.default.func}},1125:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=s(r(2)),o=r(7),i=s(r(12)),a=r(163);function s(e){return e&&e.__esModule?e:{default:e}}function l({type:e,options:t,updateOptions:r}){return n.default.createElement("div",{className:"list-wrapper"},n.default.createElement("div",{className:"list-title"},n.default.createElement(a.CheckOption,{checked:t.export,onChange:r,category:"outline",attr:"export"},n.default.createElement("span",null,(0,o.t)("Outline")))),n.default.createElement("ul",null,n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.sceneCards,onChange:r,category:"outline",attr:"sceneCards",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Scene Cards"))),n.default.createElement("ul",null,n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.plotlineInTitle,onChange:r,category:"outline",attr:"plotlineInTitle",disabled:!t.export||!t.sceneCards},n.default.createElement("span",null,(0,o.t)("Plotline Title")))),"word"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.attachments,onChange:r,category:"outline",attr:"attachments",disabled:!t.export||!t.sceneCards},n.default.createElement("span",null,(0,o.t)("Tags / Characters / Places")))):null,n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.description,onChange:r,category:"outline",attr:"description",disabled:!t.export||!t.sceneCards},n.default.createElement("span",null,(0,o.t)("Description")))),"scrivener"==e?n.default.createElement("li",null,n.default.createElement("ul",null,n.default.createElement("li",null,n.default.createElement("div",null,(0,o.t)("Put Description in:"))),n.default.createElement("li",null,n.default.createElement(a.RadioOption,{checked:"synopsis"==t.where,onChange:r,category:"outline",attr:"where",value:"synopsis",disabled:!t.export||!t.sceneCards||!t.description},n.default.createElement("span",null,(0,o.t)("Synopsis")))),n.default.createElement("li",null,n.default.createElement(a.RadioOption,{checked:"body"==t.where,onChange:r,category:"outline",attr:"where",value:"body",disabled:!t.export||!t.sceneCards||!t.description},n.default.createElement("span",null,(0,o.t)("Body")))),n.default.createElement("li",null,n.default.createElement(a.RadioOption,{checked:"notes"==t.where,onChange:r,category:"outline",attr:"where",value:"notes",disabled:!t.export||!t.sceneCards||!t.description},n.default.createElement("span",null,(0,o.t)("Notes")))))):null,n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.customAttributes,onChange:r,category:"outline",attr:"customAttributes",disabled:!t.export||!t.sceneCards},n.default.createElement("span",null,(0,o.t)("Custom Attributes")))),n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.templates,onChange:r,category:"outline",attr:"templates",disabled:!t.export||!t.sceneCards},n.default.createElement("span",null,(0,o.t)("Templates"))))))))}l.propTypes={options:i.default.object,type:i.default.string,updateOptions:i.default.func}},1126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=s(r(2)),o=r(7),i=s(r(12)),a=r(163);function s(e){return e&&e.__esModule?e:{default:e}}function l({type:e,options:t,updateOptions:r}){return n.default.createElement("div",{className:"list-wrapper"},n.default.createElement("div",{className:"list-title"},(0,o.t)("General")),n.default.createElement("ul",null,"word"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.titlePage,onChange:r,category:"general",attr:"titlePage"},n.default.createElement("span",null,(0,o.t)("Title Page")))):null))}l.propTypes={options:i.default.object,type:i.default.string,updateOptions:i.default.func}},1127:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=s(r(2)),o=r(7),i=s(r(12)),a=r(163);function s(e){return e&&e.__esModule?e:{default:e}}function l({type:e,options:t,updateOptions:r}){return n.default.createElement("div",{className:"list-wrapper"},n.default.createElement("div",{className:"list-title"},n.default.createElement(a.CheckOption,{checked:t.export,onChange:r,category:"characters",attr:"export"},n.default.createElement("span",null,(0,o.t)("Characters")))),n.default.createElement("ul",null,"scrivener"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.heading,onChange:r,category:"characters",attr:"heading",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Character Name")))):null,"word"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.images,onChange:r,category:"characters",attr:"images",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Character Image")))):null,n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.description,onChange:r,category:"characters",attr:"description",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Description")))),n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.notes,onChange:r,category:"characters",attr:"notes",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Notes")))),"scrivener"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.tags,onChange:r,category:"characters",attr:"category",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Category")))):null,n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.customAttributes,onChange:r,category:"characters",attr:"customAttributes",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Custom Attributes")))),n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.templates,onChange:r,category:"characters",attr:"templates",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Templates")))),"scrivener"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.tags,onChange:r,category:"characters",attr:"tags",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Tags")))):null))}l.propTypes={options:i.default.object,type:i.default.string,updateOptions:i.default.func}},1128:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=s(r(2)),o=r(7),i=s(r(12)),a=r(163);function s(e){return e&&e.__esModule?e:{default:e}}function l({type:e,options:t,updateOptions:r}){return n.default.createElement("div",{className:"list-wrapper"},n.default.createElement("div",{className:"list-title"},n.default.createElement(a.CheckOption,{checked:t.export,onChange:r,category:"places",attr:"export"},n.default.createElement("span",null,(0,o.t)("Places")))),n.default.createElement("ul",null,"scrivener"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.heading,onChange:r,category:"places",attr:"heading",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Place Name")))):null,"word"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.images,onChange:r,category:"places",attr:"images",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Place Image")))):null,n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.description,onChange:r,category:"places",attr:"description",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Description")))),n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.notes,onChange:r,category:"places",attr:"notes",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Notes")))),n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.customAttributes,onChange:r,category:"places",attr:"customAttributes",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Custom Attributes")))),"scrivener"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.tags,onChange:r,category:"places",attr:"tags",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Tags")))):null))}l.propTypes={options:i.default.object,type:i.default.string,updateOptions:i.default.func}},1129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=s(r(2)),o=r(7),i=s(r(12)),a=r(163);function s(e){return e&&e.__esModule?e:{default:e}}function l({type:e,options:t,updateOptions:r}){return n.default.createElement("div",{className:"list-wrapper"},n.default.createElement("div",{className:"list-title"},n.default.createElement(a.CheckOption,{checked:t.export,onChange:r,category:"notes",attr:"export"},n.default.createElement("span",null,(0,o.t)("Notes")))),n.default.createElement("ul",null,"scrivener"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.heading,onChange:r,category:"notes",attr:"heading",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Note Title")))):null,"word"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.images,onChange:r,category:"notes",attr:"images",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Note Image")))):null,"word"==e?n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.attachments,onChange:r,category:"notes",attr:"attachments",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Tags / Characters / Places")))):null,n.default.createElement("li",null,n.default.createElement(a.CheckOption,{checked:t.content,onChange:r,category:"notes",attr:"content",disabled:!t.export},n.default.createElement("span",null,(0,o.t)("Content"))))))}l.propTypes={options:i.default.object,type:i.default.string,updateOptions:i.default.func}},1130:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const s=t.includes(".scriv")?t:t+".scriv";try{!function(e){try{o.default.statSync(e).isDirectory()&&((0,m.remove)(e),o.default.mkdirSync(e))}catch(t){o.default.mkdirSync(e)}o.default.mkdirSync(n.default.join(e,"Files","Docs"),{recursive:!0}),o.default.mkdirSync(n.default.join(e,"Settings"))}(s),function(e,t){const r=n.default.join(t,"Files","Docs");Object.keys(e).forEach(t=>{const a=e[t];a.notes&&b(t,a.notes,r,!0),a.body&&b(t,a.body,r,!1),a.synopsis&&function(e,t,r){try{const i=(0,c.serialize)(t.description),a=e+"_synopsis.txt";o.default.writeFileSync(n.default.join(r,a),i)}catch(e){i.default.error(e)}}(t,a.synopsis,r)})}(function(e,t,r){let i=(0,m.startNewScrivx)(),s={};if(r.outline.export){const t=(0,d.default)(e,s,r);(0,m.addToScrivx)(i,t,"main")}if(r.characters.export){const t=(0,p.default)(e,s,r);(0,m.addToScrivx)(i,t,"research")}if(r.places.export){const t=(0,h.default)(e,s,r);(0,m.addToScrivx)(i,t,"research")}if(r.notes.export){const t=(0,f.default)(e,s,r);(0,m.addToScrivx)(i,t,"research")}const l=a.default.json2xml(i,{compact:!0,ignoreComment:!0,spaces:2}),c=n.default.basename(t).replace(".scriv","");return o.default.writeFileSync(n.default.join(t,c+".scrivx"),l),s}(e,s,r),s)}catch(e){return i.default.error(e),(0,m.remove)(s),!1}(0,u.notifyUser)(s,"scrivener")};var n=g(r(21)),o=g(r(25)),i=g(r(33)),a=g(r(517)),s=g(r(521)),l=g(r(1141)),c=r(1142),u=r(524),d=g(r(1143)),p=g(r(1168)),f=g(r(1169)),h=g(r(1170)),m=r(166);function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r,a){let c=new s.default,u=null;t.docTitle&&(c.writeText(t.docTitle),c.addLine(),c.addLine());try{(0,l.default)(t.description,c),u=c.createDocument(),u=(0,m.convertUnicode)(u),u=Buffer.from(u,"utf8");const i=a?e+"_notes.rtf":e+".rtf";o.default.writeFileSync(n.default.join(r,i),u)}catch(e){i.default.error(e)}}},1134:function(e,t,r){var n;!function(o){var i=function(){},a=Object.prototype.hasOwnProperty,s=Object.create||function(e){var t=function(){};return t.prototype=e,new t},l=Object.keys||function(e){var t=[];for(var r in e)a.call(e,r)&&t.push(r);return t},c=function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);return e},u=Object.setPrototypeOf||c,d=Object.prototype.toString,p=Array.isArray||function(e){return"[object Array]"===d.call(e)},f=function(e){return"[object Function]"===d.call(e)},h=!0,m={toString:""};for(var g in m)m.hasOwnProperty(g)&&(h=!1);var b=h?["toString","valueOf"]:null;function v(e,t,r){for(var n,o,a=function(e){var t=l(e);if(h)for(var r,n=0;r=b[n++];)e.hasOwnProperty(r)&&t.push(r);return t}(r),s=0,c=a.length;s<c;)"__self"!==(n=a[s++])&&(o=r[n],f(o)&&(!o.prototype||!o.prototype.__self)&&o.toString().indexOf(".__base")>-1?t[n]=function(r,n){var o=e[r]?e[r]:"__constructor"===r?t.__self.__parent:i,a=function(){var e=this.__base;this.__base=a.__base;var t=n.apply(this,arguments);return this.__base=e,t};return a.__base=o,a}(n,o):t[n]=o)}function y(e,t){for(var r,n=1;r=e[n++];)t?f(r)?w.self(t,r.prototype,r):w.self(t,r):t=f(r)?w(e[0],r.prototype,r):w(e[0],r);return t||e[0]}function w(){var e=arguments,t=p(e[0]),r=t||f(e[0]),n=r?t?y(e[0]):e[0]:i,o=e[r?1:0]||{},a=e[r?2:1],l=o.__constructor||r&&n.prototype&&n.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:r?function(){return n.apply(this,arguments)}:function(){};if(!r)return l.prototype=o,l.prototype.__self=l.prototype.constructor=l,c(l,a);u(l,n),l.__parent=n;var d=n.prototype,h=l.prototype=s(d);return h.__self=h.constructor=l,o&&v(d,h,o),a&&v(n,l,a),l}w.self=function(){var e=arguments,t=p(e[0]),r=t?y(e[0],e[0][0]):e[0],n=e[1],o=e[2],i=r.prototype;return n&&v(i,i,n),o&&v(r,r,o),r};e.exports=w,"object"==typeof modules&&"function"==typeof modules.define&&modules.define("inherit",(function(e){e(w)})),void 0===(n=function(e,t,r){r.exports=w}.call(t,r,t,e))||(e.exports=n),!1&&(o.inherit=w)}(this)},1135:function(e,t){e.exports={ENG_US:1033,SP_MX:2058,FR:1036,RU:1049,NONE:1024}},1136:function(e,t){var r={single:"s",doubleThickness:"th",shadowed:"sh",double:"db",dotted:"dot",dashed:"dash",hairline:"hair",dashSmall:"dashsm",dotDash:"dashd",dotDotDash:"dashdd",triple:"triple",thickThinSmall:"tnthsg",thinThickSmall:"thtnsg",thinThickThinSmall:"tnthtnsg",thickThinMedium:"tnthmg",thinThickMedium:"thtnmg",thinThickThinMedium:"tnthtnmg",thickThinLarge:"tnthlg",thinThickLarge:"thtnlg",thinThickThinLarge:"tnthtnlg",wavy:"wavy",doubleWavy:"wavydb",striped:"dashdotstr",emboss:"emboss",engrave:"engrave"},n=function(e,t,r){return Object.keys(r).filter(t=>void 0!==r[t]&&void 0!==e[t]).map(n=>{var o=r[n],i=e[n];return"object"==typeof i&&i.name&&("object"==typeof i.value&&void 0!==i.value[o]?(o=i.value[o],i=i.name):"function"==typeof i.value&&(o=i.value.call(this,o,t),i=i.name)),"\\"+i+o}).join("")},o={spacing:"brsp",width:"brdrw",type:{name:"brdr",value:r},color:{name:"brdrcf",value:function(e,t){return this[t].colorPos+1}}};e.exports={entities:{spaceBefore:"sb",spaceAfter:"sa",leftIndent:"li",rightIndent:"ri",alignLeft:"ql",alignRight:"qr",alignCenter:"qc",alignFull:"qj",align:{name:"q",value:e=>String(e).toLowerCase().charAt(0)},verticalAlignTop:"vertalt",verticalAlignBottom:"vertalb",verticalAlignCenter:"vertalc",verticalAlignJustify:"vertalj",verticalAlign:{name:"vertal",value:e=>String(e).toLowerCase().charAt(0)},tableHeader:{filter:["rowDef"],name:"trhdr"},cellVerticalAlign:{filter:["cellDef"],name:"clvertal",value:e=>String(e).toLowerCase().charAt(0)},font:{filter:["text"],name:"f",test:e=>e,value:function(e){return this.fontPos}},color:{filter:["text"],name:"cf",test:e=>e,value:function(e){return this.colorPos+1}},bgColor:{filter:["text"],name:"cb",test:e=>e,value:function(e){return this.bgColorPos+1}},cellBgColor:{filter:["cellDef"],name:"clcbpat",test:e=>e,value:function(e){return this.cellBgColorPos+1}},borderColor:{name:"brdrcf",test:e=>e,value:function(e){return this.borderColorPos+1}},rowBorderLeft:{filter:"rowDef",name:"trbrdrl",value:function(e){return n.call(this,o,"rowBorderLeft",e)}},rowBorderRight:{filter:"rowDef",name:"trbrdrr",value:function(e){return n.call(this,o,"rowBorderRight",e)}},rowBorderTop:{filter:"rowDef",name:"trbrdrt",value:function(e){return n.call(this,o,"rowBorderTop",e)}},rowBorderBottom:{filter:"rowDef",name:"trbrdrb",value:function(e){return n.call(this,o,"rowBorderBottom",e)}},rowBorderHorizontal:{filter:"rowDef",name:"trbrdrh",value:function(e){return n.call(this,o,"rowBorderTop",e)}},rowBorderVertical:{filter:"rowDef",name:"trbrdrv",value:function(e){return n.call(this,o,"rowBorderBottom",e)}},cellBorderLeft:{filter:"cellDef",name:"clbrdrl",value:function(e){return n.call(this,o,"cellBorderLeft",e)}},cellBorderRight:{filter:"cellDef",name:"clbrdrr",value:function(e){return n.call(this,o,"cellBorderRight",e)}},cellBorderTop:{filter:"cellDef",name:"clbrdrt",value:function(e){return n.call(this,o,"cellBorderTop",e)}},cellBorderBottom:{filter:"cellDef",name:"clbrdrb",value:function(e){return n.call(this,o,"cellBorderBottom",e)}},border:{prefix:null,name:null,value:function(e){return n.call(this,o,"border",e)}},borderLeft:{name:"brdrl",value:function(e){return n.call(this,o,"borderLeft",e)}},borderRight:{name:"brdrr",value:function(e){return n.call(this,o,"borderRight",e)}},borderTop:{name:"brdrt",value:function(e){return n.call(this,o,"borderTop",e)}},borderBottom:{name:"brdrb",value:function(e){return n.call(this,o,"borderBottom",e)}},borderSpacing:"brsp",borderWidth:"brdrw",borderType:{name:"brdr",value:r},fontSize:{name:"fs",value:e=>isNaN(e)?e:2*e},landscape:"lndscpsxn",pageWidth:"pgwsxn",pageHeight:"pghsxn",marginLeft:"margl",marginRight:"margr",marginTop:"margt",marginBottom:"margb",language:"deflang",pageNumbering:{prefix:"",value:"{\\header\\pard\\qr\\plain\\f0\\chpgn\\par}"},columns:"cols",columnLines:"linebetcol",paragraph:{wrap:!0,prefix:"\\pard",postfix:"\\par"},bold:{wrap:!0,test:e=>e,prefix:"\\b",postfix:"\\b0"},italic:{wrap:!0,test:e=>e,prefix:"\\i",postfix:"\\i0"},underline:{wrap:!0,test:e=>e,prefix:"\\ul",postfix:"\\ul0"},strike:{wrap:!0,test:e=>e,prefix:"\\strike",postfix:"\\strike0"},subScript:{wrap:!0,test:e=>e,prefix:"\\sub",postfix:"\\sub0"},superScript:{wrap:!0,test:e=>e,prefix:"\\super",postfix:"\\super0"}},entitiesFirst:["paragraph"],oprionsLast:["bold","italic","underline","strike","subScript","superScript"]}},1137:function(e,t,r){var n=r(165),o=r(164),i=r(117),a=r(82),s=Array.isArray,l=a(n,{__constructor:function(e,t){this.__base.call(this,t),!this.format||"object"!=typeof this.format||this.format instanceof o||(this.format=new o(this.format)),this.data=e},getItemRTFCode:function(e,t){return s(e)?e.map(e=>this.getItemRTFCode(e,t)).join("\n"):e instanceof n?e.getRTFCode(t):this.format.formatText(e,t)},getRTFCode:function(e){var t=this.getItemRTFCode(this.data,e);return t=this.format.formatText(t,e,{noEscape:!0}),t=i.makeRtfCmd("",t,"",!0)}});e.exports=l},1138:function(e,t,r){var n=r(165),o=(r(164),r(117)),i=r(82)(n,{__constructor:function(e,t,r){this.__base.call(this,t),this.text=e,this.options=r||{filter:"text"}},getRTFCode:function(e){var t=this.format.formatText(this.text,e,this.options);return t=o.makeRtfCmd("",t,"",!0)}});e.exports=i},1139:function(e,t,r){var n=r(117),o=r(164),i=r(165),a=r(82),s=Array.isArray,l=a(i,{__constructor:function(e){this.__base.call(this,e&&e.format),this.data=[],Object.assign(this,e),this.data||(this.data=[]),this.format||(this.format=new o),this.rowFormat||(this.rowFormat=new o),this.cellFormats||(this.cellFormats=[])},addRow:function(e){this.data.push(e)},setData:function(e){this.data=e},columnsCount:function(){return this.data.reduce((e,t)=>Math.max(e,t.length),0)},getRowContent:function(e,t,r){var o=t.length,a=[this.format,this.rowFormat];!r&&this.firstRowFormat&&a.push(this.firstRowFormat);var l=a.concat([this.cellFormat]),c=t.map(t=>t instanceof i?t.getRTFCode(e):n.getRTFSafeText(t)).map((t,r)=>{var n=l.concat([s(this.cellFormats)&&this.cellFormats[r]]);return t=e.cascadeFormats(t,n,{reverseCascade:!0,noEscape:!0,filter:"text",strictFilter:!1})}).map(e=>e+"\\cell").join(" ");c=e.cascadeFormats(c,a,{reverseCascade:!0,noEscape:!0,filter:"row",strictFilter:!0});var u="{\\trowd\\trautofit1\\intbl";u+=e.cascadeFormats("",a,{reverseCascade:!0,noEscape:!0,filter:"rowDef",strictFilter:!0});var d=0;return t.map((t,r)=>{u+=e.cascadeFormats("",l.concat([s(this.cellFormats)&&this.cellFormats[r]]),{reverseCascade:!0,noEscape:!0,filter:"cellDef",strictFilter:!0});var n,i=this.cellFormats[r]||this.cellFormat;if(i&&i.width)n=i.width;else{var a=(r+1)/o;i&&i.widthPercents&&(a=d+i.widthPercents/100),i&&i.widthRatio&&(a=d+i.widthRatio),d=a,n=Math.round(this.format.tableWidth?this.format.tableWidth*a:o*a)}u+="\n\\cellx"+n}),c+="\n"+(u+="\n\\row}")},updateFormats:function(e){(this.cellFormats||[]).concat([this.format,this.rowFormat,this.firstRowsFormat]).filter(e=>e).map(t=>t.updateTables(e))},getRTFCode:function(e){return this.updateFormats(e),this.data.filter(e=>s(e)).map((t,r)=>this.getRowContent(e,t,r),this).join("\n")}});e.exports=l},1140:function(e,t,r){var n=r(117),o=r(165),i=r(82)(o,{__constructor:function(e,t){this.__base.call(this,t),this.elements=[],this.name=e},addElement:function(e){this.elements.push(e)},getRTFCode:function(e){var t=this.elements.map(t=>t instanceof o?t.getRTFCode(e):n.getRTFSafeText(t)).join("\n");return t=this.format.formatText(t,e,{noEscape:!0})}});e.exports=i},1141:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e?"string"==typeof e?t.writeText(e):e.flatMap(e=>{if(!e.children)return f(e,t);switch(e.type){case"numbered-list":case"bulleted-list":return t.addLine(),m(e,t);case"heading-one":case"heading-two":{const r="heading-one"===e.type?a:s;return e.children.map(e=>null!=e.text?t.addElement([h(e)],r):e.children.map(e=>t.addElement([h(e)],r)))}case"list-item":case"link":return t.writeText(e.url);case"image-link":return t.writeText(e.url,p);case"image-data":return t.writeText((0,i.t)("[image]"),p);case"block-quote":return t.writeText(e.children[0].text,p);case"paragraph":default:return t.addElement([e.children.map(h)],p)}}):t};var n,o=(n=r(521))&&n.__esModule?n:{default:n},i=r(7);const a=new o.default.Format({bold:!0,paragraph:!0,spaceBefore:100,spaceAfter:100,fontSize:18,alignCenter:!0}),s=new o.default.Format({bold:!0,paragraph:!0,spaceBefore:100,spaceAfter:100,fontSize:16,alignCenter:!0}),l=new o.default.Format({bold:!0}),c=new o.default.Format({italic:!0}),u=new o.default.Format({underline:!0}),d=new o.default.Format({strike:!0}),p=new o.default.Format({paragraph:!0,spaceBefore:100,spaceAfter:100});const f=(e,t)=>e.bold?t.writeText(e.text,l):e.italic?t.writeText(e.text,c):e.underline?t.writeText(e.text,u):e.strike?t.writeText(e.text,d):t.writeText(e.text),h=e=>e.bold?new o.default.TextElement(e.text,l):e.italic?new o.default.TextElement(e.text,c):e.underline?new o.default.TextElement(e.text,u):new o.default.TextElement(e.text),m=(e,t)=>{const r=e.children.map(g).join("\n");t.addCommand(r)},g=e=>`{\\pard\\fi-300\\li100\\bullet\\tab ${e.children.flatMap(e=>e.text).join(" ")} \\par}`},1142:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var n=r(72),o=r(1446);t.serialize=e=>{const t=n.is.windows?"\r\n":"\n";return e&&e.map?"string"==typeof e?n.is.windows?e.replace(/\n/g,t):e:e.map(e=>{const r=o.Node.string(e);switch(e.type){case"numbered-list":return e.children.map(e=>"- "+o.Node.string(e)).join(t);case"bulleted-list":return e.children.map((e,t)=>`${t+1}. ${o.Node.string(e)}`).join(t);case"heading-one":case"heading-two":return r+t;case"link":return e.url;case"image-link":return e.url||r;case"image-data":case"list-item":case"block-quote":case"paragraph":default:return r}}).join(t):""}},1143:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const n=u(e),s=l(e),m=c(e),g=h(n,s,m,null),b=(0,o.default)(s,"id"),v=p(e);return n.map(n=>{const o=d(e)(e,n.id),{binderItem:l}=(0,a.createFolderBinderItem)(o);if(r.outline.sceneCards){const e=g[n.id];f(n.autoOutlineSort,e,s).forEach(e=>{const{id:n,binderItem:o}=(0,a.createTextBinderItem)(e.title);l.Children.BinderItem.push(o);let s="";const c=e.lineId,u=b[c];u&&(s=u.title);let d={};r.outline.customAttributes&&v.reduce((t,r)=>(t[r.name]=e[r.name],t),d),r.outline.templates&&e.templates.forEach(e=>{e.attributes.forEach(t=>{d[t.name]?d[`${e.name}:${t.name}`]=t.value:d[t.name]=t.value})}),"notes"==r.outline.where&&(d.description=e.description);let p=(0,a.buildDescriptionFromObject)(d,r.outline);r.outline.templates&&(p=[...p,...(0,a.buildDescriptionFromObject)((0,a.buildTemplateProperties)(e.templates),!0)]);const f={docTitle:r.outline.plotlineInTitle?(0,i.t)("Plotline: {title}",{title:s}):null,description:p};t[n]={notes:f},"notes"!=r.outline.where&&(t[n][r.outline.where]={description:(0,a.buildDescriptionFromObject)({description:e.description},r.outline)})})}return l})};var n,o=(n=r(226))&&n.__esModule?n:{default:n},i=r(7),a=r(166),s=r(11);const{sortedLinesByBookSelector:l,cardMapSelector:c,sortedBeatsByBookSelector:u,makeBeatTitleSelector:d,cardsCustomAttributesSelector:p}=s.selectors,{card:{sortCardsInBeat:f,cardMapping:h}}=s.helpers},115:function(e,t){e.exports=require("os")},1166:function(e){e.exports=JSON.parse('{"_attributes":{"ID":"","Type":"Text"},"Title":{"_text":""}}')},1167:function(e){e.exports=JSON.parse('{"_declaration":{"_attributes":{"version":"1.0","encoding":"UTF-8"}},"ScrivenerProject":{"_attributes":{"Version":"1.5"},"Binder":{"BinderItem":[{"_attributes":{"ID":"0","Type":"DraftFolder"},"Title":{"_text":"Manuscript"},"Children":{"BinderItem":[]}},{"_attributes":{"ID":"1","Type":"ResearchFolder"},"Title":{"_text":"Notes"},"Children":{"BinderItem":[]}},{"_attributes":{"ID":"2","Type":"TrashFolder"},"Title":{"_text":"Trash"},"Children":{"BinderItem":[]}}]},"ProjectProperties":{"ProjectTitle":{"_text":"Title"}}}}')},1168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const{binderItem:i}=(0,o.createFolderBinderItem)((0,n.t)("Characters")),l=s(e),c=Object.values(a(e));return l.forEach(n=>{const{cards:a,color:s,id:l,imageId:u,noteIds:d,bookIds:p,name:f,categoryId:h,tags:m,templates:g,...b}=n,{id:v,binderItem:y}=(0,o.createTextBinderItem)(f);if(i.Children.BinderItem.push(y),r.characters.tags&&(b.Tags=(0,o.buildTagsString)(m,e)),r.characters.category&&null!=h){const e=c.find(e=>String(e.id)===h);b.Category=e.name}let w=(0,o.buildDescriptionFromObject)(b,r.characters);r.characters.templates&&(w=[...w,...(0,o.buildDescriptionFromObject)((0,o.buildTemplateProperties)(g),!0)]),t[v]={body:{docTitle:r.characters.heading?f:null,description:w}}}),i};var n=r(7),o=r(166),i=r(11);const{characterCategoriesSelector:a,charactersSortedInBookSelector:s}=i.selectors},1169:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const{binderItem:i}=(0,o.createFolderBinderItem)((0,n.t)("Notes"));return a(e).forEach(e=>{const{title:n,content:a}=e,{id:s,binderItem:l}=(0,o.createTextBinderItem)(n);i.Children.BinderItem.push(l),t[s]={body:{docTitle:r.notes.heading?n:null,description:r.notes.content?a:null}}}),i};var n=r(7),o=r(166),i=r(11);const{allNotesInBookSelector:a}=i.selectors},117:function(e,t,r){var n=r(227),o=r(313);r(82);String.prototype.replaceAll=function(e,t,r){var n=this.toString(),o=-1;if("string"==typeof e){if(!0!==r)return this.split(e).join(t);for(e.toLowerCase();-1!==(o=n.toLowerCase().indexOf(e,o>=0?o+t.length:0));)n=n.substring(0,o).concat(t).concat(n.substring(o+e.length))}return n},e.exports={dpi:300,twipsPerMM:56.6925562674,mm2twips:function(e){return Math.round(this.twipsPerMM*e)},isIndex:function(e){return!isNaN(e)&&e>=0},makeRtfCmd:function(e,t,r,n){e&&String(e).match(/\\\w+$/)&&t&&!String(t).match(/^\\/)&&(e+=" ");var o=[e,t,r].join("");return n&&!o.match(/^\{.*\}$/)&&(o="{"+o+"}"),o},getRTFSafeText:function(e){if("object"==typeof e&&e.hasOwnProperty("text")&&e.noEscape)return e.text;if("object"==typeof e)throw new Error("Expecting text, not object");return String(e).replaceAll("\\","\\\\").replaceAll("{","\\{").replaceAll("}","\\}").replaceAll("\n\r"," \\line ").replaceAll("\n"," \\line ").replaceAll("\r"," \\line ")},createColorTable:function(e){var t,r="";for(r+="{\\colortbl;\n",t=0;t<e.length;t++){var n=e[t];r+="\\red"+n.red+"\\green"+n.green+"\\blue"+n.blue+";\n"}return r+="}"},createFontTable:function(e){var t,r="";if(r+="{\\fonttbl;\n",0===e.length)r+="{\\f0 "+o.ARIAL+"}\n";else for(t=0;t<e.length;t++)r+="{\\f"+t+" "+e[t]+"}\n";return r+="}"},getColorPosition:function(e,t){var r=-1;return Array.isArray(e)&&t&&t instanceof n&&e.map((function(e,n){e.red===t.red&&e.green===t.green&&e.blue===t.blue&&(r=n)})),r}}},1170:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const{binderItem:i}=(0,o.createFolderBinderItem)((0,n.t)("Places"));return a(e).forEach(n=>{const{cards:a,colors:s,id:l,imageId:c,noteIds:u,bookIds:d,name:p,tags:f,templates:h,...m}=n,{id:g,binderItem:b}=(0,o.createTextBinderItem)(p);i.Children.BinderItem.push(b),r.places.tags&&(m.Tags=(0,o.buildTagsString)(f,e));let v=(0,o.buildDescriptionFromObject)(m,r.places);r.places.templates&&(v=[...v,...(0,o.buildDescriptionFromObject)((0,o.buildTemplateProperties)(h),!0)]),t[g]={body:{docTitle:r.places.heading?p:null,description:v}}}),i};var n=r(7),o=r(166),i=r(11);const{placesSortedInBookSelector:a}=i.selectors},1171:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let s=new n.Document;const p=function(e){let t=e.characters.reduce((function(e,t){return e[t.id]=t.name,e}),{}),r=e.places.reduce((function(e,t){return e[t.id]=t.name,e}),{}),n=e.tags.reduce((function(e,t){return e[t.id]=t.title,e}),{});return{characters:t,places:r,tags:n}}(e),h=e.ui.currentTimeline;r.general.titlePage&&s.addSection(function(e,t){let r=f(t)?e.series.name+" "+(0,i.t)("(Series View)"):e.books[""+t].title;return{children:[new n.Paragraph({text:r,heading:n.HeadingLevel.TITLE,alignment:n.AlignmentType.CENTER})]}}(e,h));r.outline.export&&s.addSection((0,l.default)(e,p,s,r));r.characters.export&&s.addSection((0,c.default)(e,s,r));r.places.export&&s.addSection((0,u.default)(e,s,r));r.notes.export&&s.addSection((0,d.default)(e,p,s,r));n.Packer.toBuffer(s).then(e=>{const r=t.includes(".docx")?t:t+".docx";o.default.writeFileSync(r,e),(0,a.notifyUser)(r,"word")})};var n=r(83),o=p(r(25)),i=r(7),a=r(524),s=r(11),l=p(r(1172)),c=p(r(1183)),u=p(r(1184)),d=p(r(1185));function p(e){return e&&e.__esModule?e:{default:e}}const{books:{isSeries:f}}=s.helpers},1172:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a){const p=m(e),w=f(e),E=e.ui.outlineFilter,_=h(e),x=y(p,w,_,null),O=(0,o.default)(w,"id");let S=[];a.outline.heading&&S.push(new s.Paragraph({text:(0,i.t)("Outline"),heading:s.HeadingLevel.HEADING_1,alignment:s.AlignmentType.CENTER}));if(!p.length)return{children:S};const C=p.flatMap(o=>{const i=g(e)(e,o.id);let p=[new s.Paragraph("")];if(a.outline.sceneCards){const f=x[o.id],h=b(e),m=v(o.autoOutlineSort,f,w),g=E?m.filter(e=>(0,n.default)(E,e.lineId)):m;g.length&&p.push(new s.Paragraph({text:i,heading:s.HeadingLevel.HEADING_2}));const y=g.flatMap(e=>function(e,t,r,n,o,i){let a=[new s.Paragraph("")],p=t[e.lineId],f=e.title;p&&(f=i.outline.plotlineInTitle?`${e.title} (${p.title})`:e.title);a.push(new s.Paragraph({text:f,heading:s.HeadingLevel.HEADING_3})),i.outline.attachments&&(a=[...a,...(0,d.default)(e,r)]);i.outline.description&&(a=[...a,...(0,l.default)(e.description,o)]);i.outline.customAttributes&&(a=[...a,...(0,c.default)(e,n,s.HeadingLevel.HEADING_4,o)]);i.outline.templates&&(a=[...a,...(0,u.default)(e,s.HeadingLevel.HEADING_4,o)]);return a}(e,O,t,h,r,a));p=[...p,...y]}else p.push(new s.Paragraph({text:i,heading:s.HeadingLevel.HEADING_2}));return p});return{children:[...S,...C]}};var n=p(r(1173)),o=p(r(226)),i=r(7),a=r(11),s=r(83),l=p(r(133)),c=p(r(318)),u=p(r(530)),d=p(r(531));function p(e){return e&&e.__esModule?e:{default:e}}const{sortedLinesByBookSelector:f,cardMapSelector:h,sortedBeatsByBookSelector:m,makeBeatTitleSelector:g,cardsCustomAttributesSelector:b}=a.selectors,{card:{sortCardsInBeat:v,cardMapping:y}}=a.helpers},1173:function(e,t,r){var n=r(527),o=r(114),i=r(528),a=r(529),s=r(1181),l=Math.max;e.exports=function(e,t,r,c){e=o(e)?e:s(e),r=r&&!c?a(r):0;var u=e.length;return r<0&&(r=l(u+r,0)),i(e)?r<=u&&e.indexOf(t,r)>-1:!!u&&n(e,t,r)>-1}},1174:function(e,t){e.exports=function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},1175:function(e,t){e.exports=function(e){return e!=e}},1176:function(e,t){e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},1177:function(e,t,r){var n=r(1178);e.exports=function(e){return e?(e=n(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},1178:function(e,t,r){var n=r(1179),o=r(80),i=r(159),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):a.test(e)?NaN:+e}},1179:function(e,t,r){var n=r(1180),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},1180:function(e,t){var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},1181:function(e,t,r){var n=r(1182),o=r(113);e.exports=function(e){return null==e?[]:n(e,o(e))}},1182:function(e,t,r){var n=r(158);e.exports=function(e,t){return n(t,(function(t){return e[t]}))}},1183:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let l=[new o.Paragraph({text:"",pageBreakBefore:!0})];r.characters.heading&&l.push(new o.Paragraph({text:(0,n.t)("Characters"),heading:o.HeadingLevel.HEADING_1,alignment:o.AlignmentType.CENTER}));const c=function(e,t,r,l,c){let u=[];return e.forEach(e=>{if(u.push(new o.Paragraph("")),u.push(new o.Paragraph({text:e.name,heading:o.HeadingLevel.HEADING_2})),c.characters.images&&e.imageId){const t=r[e.imageId]&&r[e.imageId].data;if(t){const e=o.Media.addImage(l,Buffer.from(t.replace("data:image/jpeg;base64,",""),"base64"));u.push(new o.Paragraph({children:[e]}))}}c.characters.descriptionHeading&&u.push(new o.Paragraph({text:(0,n.t)("Description"),heading:o.HeadingLevel.HEADING_3})),c.characters.description&&u.push(new o.Paragraph(e.description)),c.characters.notesHeading&&u.push(new o.Paragraph({text:(0,n.t)("Notes"),heading:o.HeadingLevel.HEADING_3})),c.characters.notes&&(u=[...u,...(0,i.default)(e.notes,l)]),c.characters.customAttributes&&(u=[...u,...(0,a.default)(e,t,o.HeadingLevel.HEADING_3,l)]),c.characters.templates&&(u=[...u,...(0,s.default)(e,o.HeadingLevel.HEADING_3,l)])}),u}(e.characters,e.customAttributes.characters,e.images,t,r);return{children:l.concat(c)}};var n=r(7),o=r(83),i=l(r(133)),a=l(r(318)),s=l(r(530));function l(e){return e&&e.__esModule?e:{default:e}}},1184:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let s=[new o.Paragraph({text:"",pageBreakBefore:!0})];r.places.heading&&s.push(new o.Paragraph({text:(0,n.t)("Places"),heading:o.HeadingLevel.HEADING_1,alignment:o.AlignmentType.CENTER}));const l=function(e,t,r,s,l){let c=[];return e.forEach(e=>{if(c.push(new o.Paragraph("")),c.push(new o.Paragraph({text:e.name,heading:o.HeadingLevel.HEADING_2})),l.places.images&&e.imageId){const t=r[e.imageId]&&r[e.imageId].data;if(t){const e=o.Media.addImage(s,Buffer.from(t.replace("data:image/jpeg;base64,",""),"base64"));c.push(new o.Paragraph({children:[e]}))}}l.places.descriptionHeading&&c.push(new o.Paragraph({text:(0,n.t)("Description"),heading:o.HeadingLevel.HEADING_3})),l.places.description&&c.push(new o.Paragraph(e.description)),l.places.notesHeading&&c.push(new o.Paragraph({text:(0,n.t)("Notes"),heading:o.HeadingLevel.HEADING_3})),l.places.notes&&(c=[...c,...(0,i.default)(e.notes,s)]),l.places.customAttributes&&(c=[...c,...(0,a.default)(e,t,o.HeadingLevel.HEADING_3,s)])}),c}(e.places,e.customAttributes.places,e.images,t,r);return{children:s.concat(l)}};var n=r(7),o=r(83),i=s(r(133)),a=s(r(318));function s(e){return e&&e.__esModule?e:{default:e}}},1185:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,s){let l=[new o.Paragraph({text:"",pageBreakBefore:!0})];s.notes.heading&&l.push(new o.Paragraph({text:(0,n.t)("Notes"),heading:o.HeadingLevel.HEADING_1,alignment:o.AlignmentType.CENTER}));const c=function(e,t,r,n,s){let l=[];return e.forEach((function(e){if(l.push(new o.Paragraph("")),l.push(new o.Paragraph({text:e.title,heading:o.HeadingLevel.HEADING_2})),s.notes.images&&e.imageId){const t=r[e.imageId]&&r[e.imageId].data;if(t){const e=o.Media.addImage(n,Buffer.from(t.replace("data:image/jpeg;base64,",""),"base64"));l.push(new o.Paragraph({children:[e]}))}}s.notes.attachments&&(l=[...l,...(0,a.default)(e,t)]),s.notes.content&&(l=[...l,...(0,i.default)(e.content,n)])})),l}(e.notes,t,e.images,r,s);return{children:l.concat(c)}};var n=r(7),o=r(83),i=s(r(133)),a=s(r(531));function s(e){return e&&e.__esModule?e:{default:e}}},1186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement(i.ErrorBoundary,null,n.default.createElement(o.default,null))};var n=a(r(2)),o=a(r(1187)),i=r(20);function a(e){return e&&e.__esModule?e:{default:e}}},1187:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=f(r(12)),i=r(22),a=r(24),s=r(18),l=f(r(1188)),c=f(r(5)),u=r(7),d=r(11),p=r(20);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{sortedTagsSelector:g}=d.selectors,{tag:b}=d.initialState,v=d.actions.tag;class y extends n.Component{constructor(...e){super(...e),m(this,"state",{appending:!1}),m(this,"appendBlankTag",()=>{this.setState({appending:!0})}),m(this,"doneCreating",()=>{this.setState({appending:!1})})}renderTags(){let e=this.props.tags.map(e=>n.default.createElement(l.default,{key:e.id,tag:e}));return this.state.appending&&e.push(n.default.createElement(l.default,{key:"appended",new:!0,tag:b,doneCreating:this.doneCreating})),e}renderSubNav(){return n.default.createElement(p.SubNav,null,n.default.createElement(s.Nav,{bsStyle:"pills"},n.default.createElement(s.NavItem,null,n.default.createElement(s.Button,{bsSize:"small",onClick:this.appendBlankTag},n.default.createElement(s.Glyphicon,{glyph:"plus"})," ",(0,u.t)("New")))))}render(){const{ui:e}=this.props;return n.default.createElement("div",{className:"tag-list__container container-with-sub-nav"},this.renderSubNav(),n.default.createElement("div",{className:"tab-body"},n.default.createElement("h1",{className:(0,c.default)("secondary-text",{darkmode:e.darkMode})},(0,u.t)("Tags")),n.default.createElement("div",{className:"tag-list__wrapper"},n.default.createElement("div",{className:"tag-list__tags"},this.renderTags(),n.default.createElement("div",{className:"tag-list__tag-wrapper"},this.state.appending?null:n.default.createElement("div",{className:(0,c.default)("tag-list__new",{darkmode:e.darkMode}),onClick:this.appendBlankTag},n.default.createElement(s.Glyphicon,{glyph:"plus"})))))))}}y.propTypes={tags:o.default.array.isRequired,actions:o.default.object.isRequired,ui:o.default.object.isRequired};var w=(0,i.connect)((function(e){return{tags:g(e.present),ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(v,e)}}))(y);t.default=w},1188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=d(r(12)),i=r(22),a=r(24),s=r(18),l=r(20),c=r(7),u=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=r(11).actions.tag;class m extends n.Component{constructor(e){super(e),f(this,"deleteTag",e=>{e.stopPropagation(),this.props.actions.deleteTag(this.props.tag.id)}),f(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),f(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),f(this,"handleCancel",()=>{this.setState({editing:!1}),this.props.new&&this.props.doneCreating()}),f(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),f(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),f(this,"startEditing",()=>{this.setState({editing:!0})}),f(this,"startHovering",()=>{this.setState({hovering:!0})}),f(this,"stopHovering",()=>{this.setState({hovering:!1})}),f(this,"saveEdit",()=>{let{title:e,id:t,color:r}=this.props.tag;var n=this.titleInputRef.value||e;this.props.new?(this.props.actions.addCreatedTag({title:n,color:this.state.color}),this.props.doneCreating()):this.props.actions.editTag(t,n,r),this.setState({editing:!1})}),f(this,"changeColor",e=>{if(this.props.new)this.setState({color:e});else{let{id:t,title:r}=this.props.tag;this.props.actions.editTag(t,r,e)}this.setState({showColorPicker:!1})}),this.state={editing:""===e.tag.title,showColorPicker:!1,hovering:!1,color:null,deleting:!1},this.titleInputRef=null}componentWillUnmount(){this.state.editing&&!this.props.new&&this.saveEdit()}renderDelete(){return this.state.deleting?n.default.createElement(l.DeleteConfirmModal,{name:this.props.tag.title,onDelete:this.deleteTag,onCancel:this.cancelDelete}):null}renderColorPicker(){if(this.state.showColorPicker){var e="colorPicker-"+this.props.tag.id;return n.default.createElement(l.ColorPicker,{key:e,color:this.props.tag.color||this.state.color,closeDialog:this.changeColor})}return null}renderEditing(){const{tag:e}=this.props;return n.default.createElement("div",{onKeyDown:this.handleEsc},n.default.createElement(s.FormGroup,null,n.default.createElement(s.ControlLabel,null,(0,c.t)("Tag Name")),n.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.titleInputRef=e},autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.title})),this.renderColorPicker(),n.default.createElement(s.ButtonToolbar,{className:"tag-list__tag__button-bar"},n.default.createElement(s.Button,{bsStyle:"success",onClick:this.saveEdit},(0,c.t)("Save")),n.default.createElement(s.Button,{onClick:this.handleCancel},(0,c.t)("Cancel"))))}renderHoverOptions(){const{color:e}=this.props.tag;var t={visibility:"hidden"};return this.state.hovering&&(t.visibility="visible"),n.default.createElement("div",{className:"tag-list__tag__hover-options",style:t},n.default.createElement(s.ButtonGroup,null,this.props.new?null:n.default.createElement(s.Button,{title:(0,c.t)("Edit"),onClick:this.startEditing},n.default.createElement(s.Glyphicon,{glyph:"edit"})),n.default.createElement(s.Button,{title:(0,c.t)("Choose color"),onClick:()=>this.setState({showColorPicker:!0})},n.default.createElement(s.Glyphicon,{glyph:"tint"})),e||this.state.color?n.default.createElement(s.Button,{bsStyle:"warning",title:(0,c.t)("No color"),onClick:()=>this.changeColor(null)},n.default.createElement(s.Glyphicon,{glyph:"ban-circle"})):null,this.props.new?null:n.default.createElement(s.Button,{bsStyle:"danger",title:(0,c.t)("Delete"),onClick:this.handleDelete},n.default.createElement(s.Glyphicon,{glyph:"trash"}))))}renderTag(){return n.default.createElement("div",{className:"tag-list__tag-normal",onClick:this.startEditing},n.default.createElement("h6",null,this.props.tag.title))}render(){let e=null;this.state.editing?(window.SCROLLWITHKEYS=!1,e=this.renderEditing()):(window.SCROLLWITHKEYS=!0,e=this.renderTag());const{tag:t,ui:r}=this.props;let o={};return t.color&&(o={border:"2px solid "+t.color}),this.state.color&&(o={border:"2px solid "+this.state.color}),n.default.createElement("div",{className:"tag-list__tag-wrapper",onMouseOver:this.startHovering,onMouseLeave:this.stopHovering},this.renderDelete(),this.renderColorPicker(),this.renderHoverOptions(),n.default.createElement("div",{className:(0,u.default)("tag-list__tag",{darkmode:r.darkMode,editing:this.state.editing}),style:o},e))}}m.propTypes={tag:o.default.object.isRequired,new:o.default.bool,doneCreating:o.default.func,actions:o.default.object.isRequired,ui:o.default.object.isRequired};var g=(0,i.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(h,e)}}))(m);t.default=g},1189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.default.createElement(i.ErrorBoundary,null,o.default.createElement(i.CharacterListView,null))};var n,o=(n=r(2))&&n.__esModule?n:{default:n},i=r(20)},1190:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement(i.ErrorBoundary,null,n.default.createElement(o.default,null))};var n=a(r(2)),o=a(r(1191)),i=r(20);function a(e){return e&&e.__esModule?e:{default:e}}},1191:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=h(r(12)),i=r(22),a=r(24),s=h(r(5)),l=r(18),c=r(20),u=h(r(1192)),d=r(7),p=h(r(1193)),f=r(11);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{nextId:b}=f.newIds,{placeCustomAttributesThatCanChangeSelector:v,placeCustomAttributesRestrictedValues:y,visibleSortedPlacesSelector:w,placeFilterIsEmptySelector:E}=f.selectors,_=f.actions.customAttribute,x=f.actions.place,O=f.actions.ui;class S extends n.Component{constructor(e){super(e),g(this,"editingSelected",()=>{this.setState({editingSelected:!0})}),g(this,"stopEditing",()=>{this.setState({editingSelected:!1})}),g(this,"closeDialog",()=>{this.setState({dialogOpen:!1})}),g(this,"handleCreateNewPlace",()=>{const e=b(this.props.places);this.props.actions.addPlace(),this.setState({placeDetailId:e,editingSelected:!0})}),g(this,"handleType",()=>{const e=this.attrInputRef.current.value;this.setState({addAttrText:e})}),g(this,"handleAddCustomAttr",e=>{13===e.which&&this.saveAttr()}),g(this,"saveAttr",()=>{const e=this.attrInputRef.current.value;""==e||this.props.restrictedValues.includes(e)||(this.props.customAttributeActions.addPlaceAttr({name:e,type:"text"}),this.setState({addAttrText:""}))}),g(this,"removeAttr",e=>{this.props.customAttributeActions.removePlaceAttr(e.name),this.setState({addAttrText:this.state.addAttrText})}),g(this,"updateAttr",(e,t,r)=>{this.props.customAttributeActions.editPlaceAttr(e,t,r)}),g(this,"renderVisiblePlaces",()=>this.props.visiblePlaces.map(e=>n.default.createElement(p.default,{key:e.id,place:e,selected:e.id==this.state.placeDetailId,startEdit:this.editingSelected,stopEdit:this.stopEditing,select:()=>this.setState({placeDetailId:e.id})}))),this.state={dialogOpen:!1,addAttrText:"",placeDetailId:null,editingSelected:!1},this.attrInputRef=n.default.createRef()}static getDerivedStateFromProps(e,t){let r={...t};const{visiblePlaces:n}=e;return r.placeDetailId=S.detailID(n,t.placeDetailId),r}static detailID(e,t){if(0==e.length)return null;let r=e[0].id;if(null!=t){let n=e.find(e=>e.id===t);n&&(r=n.id)}return r}renderSubNav(){const{ui:e,filterIsEmpty:t,uiActions:r}=this.props;let o=n.default.createElement(l.Popover,{id:"filter"},n.default.createElement(c.CustomAttrFilterList,{type:"places"})),i=n.default.createElement(l.Alert,{onClick:()=>r.setPlaceFilter(null),bsStyle:"warning"},n.default.createElement(l.Glyphicon,{glyph:"remove-sign"}),"  ",(0,d.t)("Place list is filtered"));t&&(i=n.default.createElement("span",null));let a=n.default.createElement(l.Popover,{id:"sort"},n.default.createElement(c.SortList,{type:"places"})),s="sort-by-attributes";return e.placeSort.includes("~desc")&&(s="sort-by-attributes-alt"),n.default.createElement(c.SubNav,null,n.default.createElement(l.Nav,{bsStyle:"pills"},n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:this.handleCreateNewPlace},n.default.createElement(l.Glyphicon,{glyph:"plus"})," ",(0,d.t)("New"))),n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:()=>this.setState({dialogOpen:!0})},n.default.createElement(l.Glyphicon,{glyph:"list"})," ",(0,d.t)("Attributes"))),n.default.createElement(l.NavItem,null,n.default.createElement(l.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:o},n.default.createElement(l.Button,{bsSize:"small"},n.default.createElement(l.Glyphicon,{glyph:"filter"})," ",(0,d.t)("Filter"))),i),n.default.createElement(l.NavItem,null,n.default.createElement(l.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:a},n.default.createElement(l.Button,{bsSize:"small"},n.default.createElement(l.Glyphicon,{glyph:s})," ",(0,d.t)("Sort"))))))}renderPlaces(){return n.default.createElement("div",{className:(0,s.default)("place-list__list","list-group",{darkmode:this.props.ui.darkMode})},this.renderVisiblePlaces())}renderPlaceDetails(){let e=this.props.places.find(e=>e.id===this.state.placeDetailId);return e?n.default.createElement(c.ErrorBoundary,null,n.default.createElement(u.default,{key:"place-"+e.id,place:e,editing:this.state.editingSelected,stopEditing:this.stopEditing,startEditing:this.editingSelected})):null}renderCustomAttributes(){return this.state.dialogOpen?n.default.createElement(c.CustomAttributeModal,{hideSaveAsTemplate:!0,type:"places",closeDialog:this.closeDialog}):null}render(){let e="secondary-text";return this.props.ui.darkMode&&(e+=" darkmode"),n.default.createElement("div",{className:"place-list container-with-sub-nav"},this.renderSubNav(),this.renderCustomAttributes(),n.default.createElement(l.Grid,{fluid:!0,className:"tab-body"},n.default.createElement(l.Row,null,n.default.createElement(l.Col,{sm:3},n.default.createElement("h1",{className:e},(0,d.t)("Places")," ",n.default.createElement(l.Button,{onClick:this.handleCreateNewPlace},n.default.createElement(l.Glyphicon,{glyph:"plus"}))),this.renderPlaces()),n.default.createElement(l.Col,{sm:9},this.renderPlaceDetails()))))}}S.propTypes={visiblePlaces:o.default.array.isRequired,filterIsEmpty:o.default.bool.isRequired,customAttributes:o.default.array.isRequired,customAttributesThatCanChange:o.default.array,restrictedValues:o.default.array,ui:o.default.object.isRequired,actions:o.default.object.isRequired,customAttributeActions:o.default.object.isRequired,uiActions:o.default.object.isRequired,places:o.default.array};var C=(0,i.connect)((function(e){return{places:e.present.places,visiblePlaces:w(e.present),filterIsEmpty:E(e.present),customAttributes:e.present.customAttributes.places,customAttributesThatCanChange:v(e.present),restrictedValues:y(e.present),ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(x,e),customAttributeActions:(0,a.bindActionCreators)(_,e),uiActions:(0,a.bindActionCreators)(O,e)}}))(S);t.default=C},1192:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=p(r(12)),i=r(22),a=r(24),s=p(r(5)),l=r(18),c=r(7),u=r(20),d=r(11);function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{sortedTagsSelector:m}=d.selectors,g=d.actions.place;class b extends n.Component{constructor(e){super(e),h(this,"deletePlace",e=>{e.stopPropagation(),this.props.actions.deletePlace(this.props.place.id)}),h(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),h(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEditing()}),h(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),h(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),h(this,"handleAttrDescriptionChange",(e,t)=>{let r={...this.state.description};r[e]=t,this.setState({description:r})}),h(this,"saveEdit",(e=!0)=>{var t=this.nameInputRef.value||this.props.place.name,r=this.descriptionInputRef.value,n=this.state.notes,o={};this.state.newImageId&&(o.imageId=-1==this.state.newImageId?null:this.state.newImageId),this.props.customAttributes.forEach(e=>{const{name:t,type:r}=e;if("paragraph"==r)o[t]=this.state.description[t];else{const e=this[t+"InputRef"].value;o[t]=e}}),this.props.actions.editPlace(this.props.place.id,{name:t,description:r,notes:n,...o}),e&&this.props.stopEditing()});let t={};e.customAttributes.forEach(r=>{const{name:n}=r;t[n]=e.place[n]}),this.state={notes:e.place.notes,description:t,newImageId:null,deleting:!1},this.nameInputRef=null,this.descriptionInputRef=null}componentWillUnmount(){this.props.editing&&this.saveEdit(!1)}renderDelete(){return this.state.deleting?n.default.createElement(u.DeleteConfirmModal,{name:this.props.place.name||(0,c.t)("New Place"),onDelete:this.deletePlace,onCancel:this.cancelDelete}):null}renderEditingImage(){const{place:e}=this.props;let t=this.state.newImageId||e.imageId;return n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,c.t)("Place Image")),n.default.createElement("div",{className:"place-list__place__edit-image-wrapper"},n.default.createElement("div",{className:"place-list__place__edit-image"},n.default.createElement(u.Image,{size:"small",shape:"rounded",imageId:t})),n.default.createElement("div",null,n.default.createElement(u.ImagePicker,{selectedId:t,chooseImage:e=>this.setState({newImageId:e}),deleteButton:!0}))))}renderEditingCustomAttributes(){const{place:e,ui:t,customAttributes:r}=this.props;return r.map((r,o)=>{const{name:i,type:a}=r;return"paragraph"==a?n.default.createElement("div",{key:o},n.default.createElement(l.ControlLabel,null,i),n.default.createElement(u.RichText,{description:e[i],onChange:e=>this.handleAttrDescriptionChange(i,e),editable:!0,autofocus:!1,darkMode:t.darkMode})):n.default.createElement(l.FormGroup,{key:o},n.default.createElement(l.ControlLabel,null,i),n.default.createElement(l.FormControl,{type:"text",inputRef:e=>{this[i+"InputRef"]=e},defaultValue:e[i],onKeyDown:this.handleEsc,onKeyPress:this.handleEnter}))})}renderEditing(){const{place:e,ui:t}=this.props;return n.default.createElement("div",{className:"place-list__place-wrapper"},n.default.createElement("div",{className:(0,s.default)("place-list__place","editing",{darkmode:t.darkMode})},n.default.createElement("div",{className:"place-list__place__edit-form"},n.default.createElement("div",{className:"place-list__inputs__normal"},n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,c.t)("Name")),n.default.createElement(l.FormControl,{type:"text",inputRef:e=>{this.nameInputRef=e},autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.name})),n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,c.t)("Short Description")),n.default.createElement(l.FormControl,{type:"text",inputRef:e=>{this.descriptionInputRef=e},onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,defaultValue:e.description})),this.renderEditingImage(),n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,c.t)("Notes")),n.default.createElement(u.RichText,{description:e.notes,onChange:e=>this.setState({notes:e}),editable:!0,autofocus:!1,darkMode:t.darkMode}))),n.default.createElement("div",{className:"place-list__inputs__custom"},this.renderEditingCustomAttributes())),n.default.createElement(l.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveEdit},(0,c.t)("Save")),n.default.createElement(l.Button,{className:"card-dialog__delete",onClick:this.handleDelete},(0,c.t)("Delete")))))}renderPlace(){const{place:e,customAttributes:t,ui:r}=this.props,o=t.map((t,o)=>{const{name:i,type:a}=t;let s=n.default.createElement("dd",null,e[i]);return"paragraph"==a&&(s=n.default.createElement("dd",null,n.default.createElement(u.RichText,{description:e[i],darkMode:r.darkMode}))),n.default.createElement("dl",{key:o,className:"dl-horizontal"},n.default.createElement("dt",null,i),s)});return n.default.createElement("div",{className:"place-list__place-wrapper"},this.renderDelete(),n.default.createElement("div",{className:"place-list__place",onClick:this.props.startEditing},n.default.createElement("h4",{className:"secondary-text"},e.name||(0,c.t)("New Place")),n.default.createElement("div",{className:"place-list__place-inner"},n.default.createElement("div",null,n.default.createElement("dl",{className:"dl-horizontal"},n.default.createElement("dt",null,(0,c.t)("Description")),n.default.createElement("dd",null,e.description)),o,n.default.createElement("dl",{className:"dl-horizontal"},n.default.createElement("dt",null,(0,c.t)("Notes")),n.default.createElement("dd",null,n.default.createElement(u.RichText,{description:e.notes,editable:!1,darkMode:this.props.ui.darkMode})))),n.default.createElement("div",{className:"place-list__right-side"},n.default.createElement(l.Glyphicon,{glyph:"pencil"}),n.default.createElement(u.Image,{responsive:!0,imageId:e.imageId})))))}render(){this.props.editing?window.SCROLLWITHKEYS=!1:window.SCROLLWITHKEYS=!0;const{place:e,tags:t,actions:r,ui:o}=this.props;return n.default.createElement("div",{className:(0,s.default)("place-list__place-view",{darkmode:o.darkMode})},n.default.createElement("div",{className:"place-list__place-view__left-side"},n.default.createElement(u.BookSelectList,{selectedBooks:e.bookIds,parentId:e.id,add:r.addBook,remove:r.removeBook}),n.default.createElement(u.SelectList,{parentId:e.id,type:"Tags",selectedItems:e.tags,allItems:t,add:r.addTag,remove:r.removeTag})),n.default.createElement("div",{className:"place-list__place-view__right-side"},this.props.editing?this.renderEditing():this.renderPlace()))}}b.propTypes={place:o.default.object.isRequired,editing:o.default.bool.isRequired,startEditing:o.default.func.isRequired,stopEditing:o.default.func.isRequired,actions:o.default.object.isRequired,customAttributes:o.default.array.isRequired,cards:o.default.array.isRequired,notes:o.default.array.isRequired,ui:o.default.object.isRequired,tags:o.default.array.isRequired,places:o.default.array};var v=(0,i.connect)((function(e){return{customAttributes:e.present.customAttributes.places,cards:e.present.cards,notes:e.present.notes,ui:e.present.ui,tags:m(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(g,e)}}))(b);t.default=v},1193:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=d(r(12)),i=r(22),a=r(24),s=r(18),l=r(7),c=d(r(5)),u=r(20);function d(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=r(11).actions.place;class m extends n.Component{constructor(e){super(e),f(this,"state",{deleting:!1}),f(this,"scrollIntoView",()=>{if(this.props.selected){const e=this.ref.current;e&&e.scrollIntoView()}}),f(this,"deletePlace",e=>{e.stopPropagation(),this.props.actions.deletePlace(this.props.place.id)}),f(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),f(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEdit()}),f(this,"selectPlace",()=>{const{place:e,selected:t,select:r,startEdit:n}=this.props;t?n():r(e.id)}),f(this,"startEditing",e=>{e.stopPropagation(),this.props.select(this.props.place.id),this.props.startEdit()}),this.ref=n.default.createRef()}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderDelete(){return this.state.deleting?n.default.createElement(u.DeleteConfirmModal,{name:this.props.place.name||(0,l.t)("New Place"),onDelete:this.deletePlace,onCancel:this.cancelDelete}):null}render(){const{place:e,selected:t}=this.props;let r=null;e.imageId&&(r=n.default.createElement("div",{className:"place-list__item-inner__image-wrapper"},n.default.createElement(u.Image,{size:"small",shape:"rounded",imageId:e.imageId})));const o=(0,c.default)("list-group-item",{selected:t}),i=(0,c.default)("place-list__item-buttons",{visible:t});return n.default.createElement("div",{className:o,ref:this.ref,onClick:this.selectPlace},this.renderDelete(),n.default.createElement("div",{className:"place-list__item-inner"},r,n.default.createElement("div",null,n.default.createElement("h6",{className:(0,c.default)("list-group-item-heading",{withImage:!!e.imageId})},e.name||(0,l.t)("New Place")),n.default.createElement("p",{className:"list-group-item-text"},e.description.substr(0,100))),n.default.createElement(s.ButtonGroup,{className:i},n.default.createElement(s.Button,{bsSize:"small",onClick:this.startEditing},n.default.createElement(s.Glyphicon,{glyph:"edit"})),n.default.createElement(s.Button,{bsSize:"small",onClick:this.handleDelete},n.default.createElement(s.Glyphicon,{glyph:"trash"})))))}}f(m,"propTypes",{place:o.default.object.isRequired,selected:o.default.bool.isRequired,select:o.default.func.isRequired,startEdit:o.default.func.isRequired,stopEdit:o.default.func.isRequired,actions:o.default.object.isRequired});var g=(0,i.connect)((function(e){return{}}),(function(e){return{actions:(0,a.bindActionCreators)(h,e)}}))(m);t.default=g},1194:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement(i.ErrorBoundary,null,n.default.createElement(o.default,null))};var n=a(r(2)),o=a(r(1195)),i=r(20);function a(e){return e&&e.__esModule?e:{default:e}}},1195:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(131)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),i=g(r(12)),a=r(22),s=r(24),l=r(18),c=g(r(1196)),u=r(7),d=g(r(5)),p=r(20),f=g(r(1197)),h=r(11);function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{nextId:v}=h.newIds,y=h.actions.note;class w extends o.Component{constructor(e){super(e),b(this,"handleCreateNewNote",()=>{const e=v(this.props.notes);this.props.actions.addNote(),this.setState({noteDetailId:e,editingSelected:!0})}),b(this,"updateFilter",e=>{this.setState({filter:e})}),b(this,"removeFilter",()=>{this.updateFilter(null)}),b(this,"editingSelected",()=>{this.setState({editingSelected:!0})}),b(this,"stopEditing",()=>{this.setState({editingSelected:!1})}),this.state={noteDetailId:null,filter:null,viewableNotes:[],editingSelected:!1}}static getDerivedStateFromProps(e,t){let r={...t};const{notes:n}=e,o=w.viewableNotes(n,t.filter);return r.viewableNotes=o,r.noteDetailId=w.detailID(o,t.noteDetailId),r}static detailID(e,t){if(0==e.length)return null;let r=e[0].id;if(null!=t){let n=e.find(e=>e.id===t);n&&(r=n.id)}return r}static viewableNotes(e,t){let r=e;w.staticFilterIsEmpty(t)||(r=e.filter(e=>w.isViewable(t,e)));let o=(0,n.default)(r,["lastEdited"]);return o.reverse(),o}static staticFilterIsEmpty(e){return null==e||0===e.tag.length&&0===e.character.length&&0===e.place.length&&0===e.book.length}filterIsEmpty(e){return null==e||0===e.tag.length&&0===e.character.length&&0===e.place.length&&0===e.book.length}static isViewable(e,t){if(!t)return!1;let r=!1;return t.tags&&e.tag.some(e=>t.tags.includes(e))&&(r=!0),t.characters&&e.character.some(e=>t.characters.includes(e))&&(r=!0),t.places&&e.place.some(e=>t.places.includes(e))&&(r=!0),t.bookIds&&(e.book.some(e=>t.bookIds.includes(e))&&(r=!0),e.book.length&&!t.bookIds.length&&(r=!0)),r}renderVisibleNotes(){return this.state.viewableNotes.map(e=>o.default.createElement(f.default,{key:e.id,note:e,selected:e.id==this.state.noteDetailId,startEdit:this.editingSelected,stopEdit:this.stopEditing,select:()=>this.setState({noteDetailId:e.id})}))}renderNotes(){return o.default.createElement("div",{className:(0,d.default)("note-list__list","list-group",{darkmode:this.props.ui.darkMode})},this.renderVisibleNotes())}renderNoteDetails(){if(null==this.state.noteDetailId)return null;let e=this.props.notes.find(e=>e.id===this.state.noteDetailId);return e||(e=this.state.viewableNotes[0]),o.default.createElement(p.ErrorBoundary,null,o.default.createElement(c.default,{key:"note-"+e.id,note:e,editing:this.state.editingSelected,stopEditing:this.stopEditing,startEditing:this.editingSelected}))}renderSubNav(){let e=o.default.createElement(l.Popover,{id:"filter"},o.default.createElement(p.FilterList,{filteredItems:this.state.filter,updateItems:this.updateFilter,renderBooks:!0})),t=o.default.createElement(l.Alert,{onClick:this.removeFilter,bsStyle:"warning"},o.default.createElement(l.Glyphicon,{glyph:"remove-sign"}),"  ",(0,u.t)("Notes are filtered"));return this.filterIsEmpty(this.state.filter)&&(t=o.default.createElement("span",null)),o.default.createElement(p.SubNav,null,o.default.createElement(l.Nav,{bsStyle:"pills"},o.default.createElement(l.NavItem,null,o.default.createElement(l.Button,{bsSize:"small",onClick:this.handleCreateNewNote},o.default.createElement(l.Glyphicon,{glyph:"plus"})," ",(0,u.t)("New"))),o.default.createElement(l.NavItem,null,o.default.createElement(l.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:e},o.default.createElement(l.Button,{bsSize:"small"},o.default.createElement(l.Glyphicon,{glyph:"filter"})," ",(0,u.t)("Filter"))),t)))}render(){return o.default.createElement("div",{className:"note-list container-with-sub-nav"},this.renderSubNav(),o.default.createElement(l.Grid,{fluid:!0,className:"tab-body"},o.default.createElement(l.Row,null,o.default.createElement(l.Col,{sm:3},o.default.createElement("h1",{className:(0,d.default)("secondary-text",{darkmode:this.props.ui.darkMode})},(0,u.t)("Notes")," ",o.default.createElement(l.Button,{onClick:this.handleCreateNewNote},o.default.createElement(l.Glyphicon,{glyph:"plus"}))),this.renderNotes()),o.default.createElement(l.Col,{sm:9},this.renderNoteDetails()))))}}w.propTypes={notes:i.default.array.isRequired,actions:i.default.object.isRequired,characters:i.default.array.isRequired,places:i.default.array.isRequired,tags:i.default.array.isRequired,ui:i.default.object.isRequired};var E=(0,a.connect)((function(e){return{notes:e.present.notes,characters:e.present.characters,places:e.present.places,tags:e.present.tags,ui:e.present.ui}}),(function(e){return{actions:(0,s.bindActionCreators)(y,e)}}))(w);t.default=E},1196:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=p(r(12)),i=r(22),a=r(24),s=r(18),l=r(7),c=r(20),u=p(r(5)),d=r(11);function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{charactersSortedAtoZSelector:m,placesSortedAtoZSelector:g,sortedTagsSelector:b}=d.selectors,v=d.actions.note;class y extends n.Component{constructor(e){super(e),h(this,"deleteNote",e=>{e.stopPropagation(),this.props.actions.deleteNote(this.props.note.id)}),h(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),h(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEditing()}),h(this,"handleEnter",e=>{13===e.which&&this.saveEdit()}),h(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),h(this,"saveEdit",(e=!0)=>{const{note:t}=this.props;let r={title:this.titleInputRef.value||t.title,content:this.state.content};this.state.newImageId&&(r.imageId=-1==this.state.newImageId?null:this.state.newImageId),this.props.actions.editNote(t.id,r),e&&this.props.stopEditing()}),this.state={content:e.note.content,newImageId:null,deleting:!1},this.titleInputRef=null}componentWillUnmount(){this.props.editing&&this.saveEdit(!1)}renderDelete(){return this.state.deleting?n.default.createElement(c.DeleteConfirmModal,{name:this.props.note.title||(0,l.t)("New Note"),onDelete:this.deleteNote,onCancel:this.cancelDelete}):null}renderBookSelectList(){const{note:e,actions:t}=this.props;return n.default.createElement(c.BookSelectList,{selectedBooks:e.bookIds,parentId:e.id,add:t.addBook,remove:t.removeBook})}renderEditingImage(){const{note:e}=this.props;let t=this.state.newImageId||e.imageId;return n.default.createElement(s.FormGroup,null,n.default.createElement(s.ControlLabel,null,(0,l.t)("Note Image")),n.default.createElement("div",{className:"note-list__note__edit-image-wrapper"},n.default.createElement("div",{className:"note-list__note__edit-image"},n.default.createElement(c.Image,{size:"small",shape:"rounded",imageId:t})),n.default.createElement("div",null,n.default.createElement(c.ImagePicker,{selectedId:t,chooseImage:e=>this.setState({newImageId:e}),deleteButton:!0}))))}renderContent(){const{note:e,ui:t}=this.props;if(this.props.editing)return n.default.createElement("div",{className:"note-list__content editing"},n.default.createElement("div",{className:"note-list__note__edit-form"},n.default.createElement(s.FormGroup,null,n.default.createElement(s.ControlLabel,null,(0,l.t)("Title")),n.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.titleInputRef=e},autoFocus:!0,onKeyDown:this.handleEsc,onKeyPress:this.handleEnter,onChange:()=>this.setState({unsaved:!0}),defaultValue:e.title,style:{marginBottom:"10px"}})),this.renderEditingImage(),n.default.createElement(s.FormGroup,null,n.default.createElement(s.ControlLabel,null,(0,l.t)("Content")),n.default.createElement(c.RichText,{description:e.content,onChange:e=>this.setState({content:e}),editable:!0,autofocus:!1,darkMode:t.darkMode}))),n.default.createElement(s.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(s.Button,{bsStyle:"success",onClick:this.saveEdit},(0,l.t)("Save")),n.default.createElement(s.Button,{className:"card-dialog__delete",onClick:this.handleDelete},(0,l.t)("Delete"))));{let r=null;return e.imageId&&(r=n.default.createElement("div",{className:"text-center"},n.default.createElement(c.Image,{responsive:!0,imageId:e.imageId}))),n.default.createElement("div",{className:"note-list__content",onClick:this.props.startEditing},n.default.createElement("h4",{className:"secondary-text"},e.title||(0,l.t)("New Note")),r,n.default.createElement(c.RichText,{description:e.content,darkMode:t.darkMode}),n.default.createElement(s.Glyphicon,{className:"pull-right",glyph:"pencil"}))}}render(){const{editing:e,ui:t,note:r,characters:o,actions:i,places:a,tags:s}=this.props;return n.default.createElement("div",{className:"note-list__note-wrapper"},this.renderDelete(),n.default.createElement("div",{className:(0,u.default)("note-list__note",{editing:e,darkmode:t.darkMode})},n.default.createElement("div",{className:"note-list__body"},n.default.createElement("div",{className:"note-list__left-side"},this.renderBookSelectList(),n.default.createElement(c.SelectList,{parentId:r.id,type:"Characters",selectedItems:r.characters,allItems:o,add:i.addCharacter,remove:i.removeCharacter}),n.default.createElement(c.SelectList,{parentId:r.id,type:"Places",selectedItems:r.places,allItems:a,add:i.addPlace,remove:i.removePlace}),n.default.createElement(c.SelectList,{parentId:r.id,type:"Tags",selectedItems:r.tags,allItems:s,add:i.addTag,remove:i.removeTag})),this.renderContent())))}}y.propTypes={note:o.default.object.isRequired,editing:o.default.bool.isRequired,startEditing:o.default.func.isRequired,stopEditing:o.default.func.isRequired,characters:o.default.array.isRequired,places:o.default.array.isRequired,tags:o.default.array.isRequired,actions:o.default.object.isRequired,ui:o.default.object.isRequired};var w=(0,i.connect)((function(e){return{tags:b(e.present),characters:m(e.present),places:g(e.present),ui:e.present.ui}}),(function(e){return{actions:(0,a.bindActionCreators)(v,e)}}))(y);t.default=w},1197:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=p(r(12)),i=r(22),a=r(24),s=r(18),l=r(7),c=p(r(5)),u=r(20),d=p(r(1198));function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=r(11).actions.note;class g extends n.Component{constructor(e){super(e),h(this,"state",{deleting:!1}),h(this,"scrollIntoView",()=>{if(this.props.selected){const e=this.ref.current;e&&e.scrollIntoView()}}),h(this,"deleteNote",e=>{e.stopPropagation(),this.props.actions.deleteNote(this.props.note.id)}),h(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),h(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0}),this.props.stopEdit()}),h(this,"selectNote",()=>{const{note:e,selected:t,select:r,startEdit:n}=this.props;t?n():r(e.id)}),h(this,"startEditing",e=>{e.stopPropagation(),this.props.select(this.props.note.id),this.props.startEdit()}),this.ref=n.default.createRef()}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderDelete(){return this.state.deleting?n.default.createElement(u.DeleteConfirmModal,{name:this.props.note.title||(0,l.t)("New Note"),onDelete:this.deleteNote,onCancel:this.cancelDelete}):null}render(){const{note:e,selected:t}=this.props;let r=null;e.imageId&&(r=n.default.createElement("div",{className:"note-list__item-inner__image-wrapper"},n.default.createElement(u.Image,{responsive:!0,imageId:e.imageId})));let o=null;e.lastEdited&&(o=n.default.createElement("p",{className:"list-group-item-text secondary-text"},d.default.format(new Date(e.lastEdited))));const i=(0,c.default)("list-group-item",{selected:t}),a=(0,c.default)("note-list__item-buttons",{visible:t});return n.default.createElement("div",{className:i,ref:this.ref,onClick:this.selectNote},this.renderDelete(),n.default.createElement("div",{className:"note-list__item-inner"},r,n.default.createElement("div",null,n.default.createElement("h6",{className:(0,c.default)("list-group-item-heading",{withImage:!!e.imageId})},e.title||(0,l.t)("New Note")),o),n.default.createElement(s.ButtonGroup,{className:a},n.default.createElement(s.Button,{bsSize:"small",onClick:this.startEditing},n.default.createElement(s.Glyphicon,{glyph:"edit"})),n.default.createElement(s.Button,{bsSize:"small",onClick:this.handleDelete},n.default.createElement(s.Glyphicon,{glyph:"trash"})))))}}h(g,"propTypes",{note:o.default.object.isRequired,selected:o.default.bool.isRequired,select:o.default.func.isRequired,startEdit:o.default.func.isRequired,stopEdit:o.default.func.isRequired,actions:o.default.object.isRequired});var b=(0,i.connect)((function(e){return{}}),(function(e){return{actions:(0,a.bindActionCreators)(m,e)}}))(g);t.default=b},1198:function(e,t){function r(e,t,r){return function(n){var o=Math.floor(n/e);return o+" "+(t+(o>1?"s":""))+" "+r}}var n=[{threshold:1,handler:function(){return"just now"}},{threshold:60,handler:r(1,"second","ago")},{threshold:3600,handler:r(60,"minute","ago")},{threshold:86400,handler:r(3600,"hour","ago")},{threshold:172800,handler:function(){return"yesterday"}},{threshold:604800,handler:r(86400,"day","ago")},{threshold:2592e3,handler:r(604800,"week","ago")},{threshold:31536e3,handler:r(2592e3,"month","ago")},{threshold:1/0,handler:r(31536e3,"year","ago")}],o={format:function(e){for(var t=((new Date).getTime()-e.getTime())/1e3,r=0;r<n.length;r++)if(t<n[r].threshold)return n[r].handler(t);throw new Error("exhausted all formatter options, none found")}};e.exports=o},1199:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(2)),o=r(20),i=a(r(1200));function a(e){return e&&e.__esModule?e:{default:e}}const s=()=>n.default.createElement(o.ErrorBoundary,null,n.default.createElement(i.default,null));var l=n.default.memo(s);t.default=l},1200:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=E();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=r(17),i=w(r(12)),a=r(22),s=r(24),l=r(18),c=r(73),u=r(7),d=w(r(1201)),p=w(r(5)),f=r(20),h=r(81),m=r(536),g=w(r(515)),b=w(r(1214)),v=r(11),y=w(r(67));function w(e){return e&&e.__esModule?e:{default:e}}function E(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return E=function(){return e},e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const x=o.remote.getCurrentWindow();class O extends n.Component{constructor(e){super(e),_(this,"closeBeatConfig",()=>{this.setState({beatConfigIsOpen:!1}),this.props.tour.run&&4===this.props.tour.stepIndex&&this.props.tourActions.tourNext("next")}),_(this,"openBeatConfig",()=>{this.setState({beatConfigIsOpen:!0}),this.props.tour.run&&0===this.props.tour.stepIndex&&this.props.tourActions.tourNext("next")}),_(this,"openCustomAttributesDialog",()=>{this.props.actions.openAttributesDialog()}),_(this,"clearFilter",()=>{this.props.actions.setTimelineFilter({tag:[],character:[],place:[],color:[]})}),_(this,"scrollTo",e=>{const t={behavior:"smooth"};"vertical"===this.props.ui.orientation?t.top=e:t.left=e,this.tableRef.scrollTo(t)}),_(this,"scrollDistance",()=>"vertical"===this.props.ui.orientation?228:384),_(this,"scrollLeft",()=>{y.default.push("btn_scroll_left");const e="vertical"===this.props.ui.orientation?this.tableRef.scrollTop:this.tableRef.scrollLeft;this.scrollTo(e-this.scrollDistance())}),_(this,"scrollRight",()=>{y.default.push("btn_scroll_right");const e="vertical"===this.props.ui.orientation?this.tableRef.scrollTop:this.tableRef.scrollLeft;this.scrollTo(e+this.scrollDistance())}),_(this,"scrollBeginning",()=>{y.default.push("btn_scroll_beginning"),this.scrollTo(0)}),_(this,"scrollMiddle",()=>{y.default.push("btn_scroll_middle");const e="vertical"===this.props.ui.orientation?this.tableRef.scrollHeight/2-window.innerHeight/2:this.tableRef.scrollWidth/2-window.innerWidth/2;this.scrollTo(e)}),_(this,"scrollEnd",()=>{y.default.push("btn_scroll_end");const e="vertical"===this.props.ui.orientation?this.tableRef.scrollHeight:this.tableRef.scrollWidth;this.scrollTo(e)}),_(this,"scrollHandler",e=>{const t={x:e.currentTarget.scrollLeft,y:e.currentTarget.scrollTop};clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.props.actions.recordScrollPosition(t)},500)}),_(this,"flipOrientation",()=>{let e="horizontal"===this.props.ui.orientation?"vertical":"horizontal";this.props.actions.changeOrientation(e)}),_(this,"toggleExpanded",()=>{this.props.ui.timelineIsExpanded?this.props.actions.collapseTimeline():this.props.actions.expandTimeline()}),_(this,"startSaveAsTemplate",()=>{o.ipcRenderer.sendTo(x.webContents.id,"save-as-template-start","plotlines")}),_(this,"closeCustomAttributesDialog",()=>{this.props.actions.closeAttributesDialog()}),this.state={mounted:!1,beatConfigIsOpen:!1},this.tableRef=null}componentDidMount(){this.props.isSmall||(this.tableRef&&(this.tableRef.onscroll=this.scrollHandler),setTimeout(()=>{this.setState({mounted:!0},()=>{null!=this.props.ui.timelineScrollPosition&&this.tableRef&&this.tableRef.scrollTo({top:this.props.ui.timelineScrollPosition.y,left:this.props.ui.timelineScrollPosition.x,behavior:"auto"})})},10))}UNSAFE_componentWillReceiveProps(e){const{ui:t}=this.props;e.ui.currentTimeline==t.currentTimeline&&e.ui.orientation==t.orientation&&e.ui.timeline.size==t.timeline.size||(this.setState({mounted:!1}),setTimeout(()=>this.setState({mounted:!0},()=>{null!=e.ui.timelineScrollPosition&&this.tableRef&&this.tableRef.scrollTo({top:this.props.ui.timelineScrollPosition.y,left:this.props.ui.timelineScrollPosition.x,behavior:"auto"})}),10))}componentWillUnmount(){this.tableRef&&(this.tableRef.onScroll=null,this.tableRef=null)}renderSubNav(){const{ui:e,filterIsEmpty:t,featureFlags:r,isSmall:o,isMedium:i,isLarge:a,actions:s}=this.props,c=v.helpers.featureFlags.gatedByBeatHierarchy(r);let d="option-vertical",y="menu-left",w="menu-right";"vertical"===e.orientation&&(d="option-horizontal",y="menu-up",w="menu-down");let E=n.default.createElement(l.Popover,{id:"filter"},n.default.createElement(f.CustomAttrFilterList,{type:"cards",showColor:!0})),_=n.default.createElement(l.Alert,{onClick:this.clearFilter,bsStyle:"warning"},n.default.createElement(l.Glyphicon,{glyph:"remove-sign"}),"  ",(0,u.t)("Timeline is filtered"));return t&&(_=n.default.createElement("span",null)),n.default.createElement(f.SubNav,null,n.default.createElement(l.Nav,{bsStyle:"pills"},n.default.createElement(l.NavItem,null,n.default.createElement(l.OverlayTrigger,{containerPadding:20,trigger:"click",rootClose:!0,placement:"bottom",overlay:E},n.default.createElement(l.Button,{bsSize:"small"},n.default.createElement(l.Glyphicon,{glyph:"filter"})," ",(0,u.t)("Filter"))),_),n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:this.flipOrientation},n.default.createElement(l.Glyphicon,{glyph:d})," ",(0,u.t)("Flip"))),n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:this.openCustomAttributesDialog},n.default.createElement(l.Glyphicon,{glyph:"list"})," ",(0,u.t)("Attributes"))),c(()=>n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:this.openBeatConfig,className:"acts-tour-step1"},n.default.createElement(m.VscSymbolStructure,{size:16,style:{verticalAlign:"text-bottom",marginRight:"4px"}}),(0,u.t)("Structure")))),n.default.createElement(l.NavItem,null,n.default.createElement("span",{className:"subnav__container__label"},(0,u.t)("Zoom"),": "),n.default.createElement(l.ButtonGroup,null,n.default.createElement(l.Button,{bsSize:"small",className:(0,p.default)({active:a}),onClick:()=>s.setTimelineSize("large"),title:(0,u.t)("Size: large")},"L"),n.default.createElement(l.Button,{bsSize:"small",className:(0,p.default)({active:i}),onClick:()=>s.setTimelineSize("medium"),title:(0,u.t)("Size: medium")},"M"),n.default.createElement(l.Button,{bsSize:"small",className:(0,p.default)({active:o}),onClick:()=>s.setTimelineSize("small"),title:(0,u.t)("Size: small")},"S"))),n.default.createElement(l.NavItem,null,n.default.createElement("span",{className:"subnav__container__label"},(0,u.t)("Scroll"),": "),n.default.createElement(l.ButtonGroup,{bsSize:"small"},n.default.createElement(l.Button,{onClick:this.scrollLeft},n.default.createElement(l.Glyphicon,{glyph:y})),n.default.createElement(l.Button,{onClick:this.scrollRight},n.default.createElement(l.Glyphicon,{glyph:w})),n.default.createElement(l.Button,{onClick:this.scrollBeginning},(0,u.t)("Beginning")),n.default.createElement(l.Button,{onClick:this.scrollMiddle},(0,u.t)("Middle")),n.default.createElement(l.Button,{onClick:this.scrollEnd},(0,u.t)("End")))),n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:this.startSaveAsTemplate},n.default.createElement(h.FaSave,{className:"svg-save-template"})," ",(0,u.t)("Save as Template"))),n.default.createElement(b.default,null),n.default.createElement(g.default,null)))}renderBody(){const{ui:e,isSmall:t}=this.props;return t?n.default.createElement(d.default,{tableRef:this.tableRef}):n.default.createElement(c.StickyTable,{leftColumnZ:5,headerZ:5,wrapperRef:e=>this.tableRef=e,className:(0,p.default)({darkmode:e.darkMode,vertical:"vertical"==e.orientation})},this.state.mounted?n.default.createElement(d.default,{tableRef:this.tableRef}):n.default.createElement(f.FunSpinner,null))}renderCustomAttributes(){return this.props.ui.attributesDialogIsOpen?n.default.createElement(f.CustomAttributeModal,{type:"scenes",closeDialog:this.closeCustomAttributesDialog}):null}renderBeatConfig(){return v.helpers.featureFlags.gatedByBeatHierarchy(this.props.featureFlags)(()=>this.state.beatConfigIsOpen?n.default.createElement(f.ActsConfigModal,{closeDialog:this.closeBeatConfig}):null)}render(){const{ui:e}=this.props;return n.default.createElement("div",{id:"timelineview__container",className:(0,p.default)("container-with-sub-nav",{darkmode:e.darkMode})},this.renderSubNav(),this.renderCustomAttributes(),this.renderBeatConfig(),n.default.createElement("div",{id:"timelineview__root",className:"tab-body"},this.renderBody()))}}O.propTypes={ui:i.default.object.isRequired,isSmall:i.default.bool,isMedium:i.default.bool,isLarge:i.default.bool,featureFlags:i.default.object.isRequired,filterIsEmpty:i.default.bool.isRequired,actions:i.default.object.isRequired,tourActions:i.default.object.isRequired,tour:i.default.object.isRequired};var S=(0,a.connect)((function(e){return{ui:e.present.ui,filterIsEmpty:v.selectors.timelineFilterIsEmptySelector(e.present),isSmall:v.selectors.isSmallSelector(e.present),isMedium:v.selectors.isMediumSelector(e.present),isLarge:v.selectors.isLargeSelector(e.present),featureFlags:v.selectors.featureFlags(e.present),tour:v.selectors.tourSelector(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(v.actions.ui,e),tourActions:(0,s.bindActionCreators)(v.actions.tour,e)}}))(O);t.default=S},1201:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=v(r(12)),i=r(22),a=r(10),s=r(24),l=v(r(5)),c=r(73),u=v(r(1202)),d=v(r(532)),p=v(r(533)),f=v(r(534)),h=v(r(1212)),m=v(r(535)),g=v(r(1213)),b=r(11);function v(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{card:E}=b.initialState,{beats:{nextId:_,hasChildren:x},lists:{reorderList:O}}=b.helpers,{cardMapSelector:S,visibleSortedBeatsByBookSelector:C,beatsByBookSelector:T,beatHasChildrenSelector:k,sortedLinesByBookSelector:P,isSeriesSelector:A,isLargeSelector:I,isSmallSelector:j,isMediumSelector:R,sparceBeatMap:D}=b.selectors,N=b.actions.line,M=b.actions.beat,B=b.actions.card,L=b.actions.ui;class F extends n.Component{constructor(...e){super(...e),w(this,"state",{tableLength:0,hovering:null}),w(this,"setLength",()=>{const{tableRef:e,ui:t,isSmall:r}=this.props;if(r)return;const n=(0,a.findDOMNode)(e);if(!n)return;let o=n.scrollWidth;"horizontal"!=t.orientation&&(o=n.scrollHeight),this.state.tableLength!=o&&this.setState({tableLength:o})}),w(this,"handleReorderBeats",(e,t)=>{this.props.beatActions.reorderBeats(t,e,this.props.ui.currentTimeline)}),w(this,"handleReorderLines",(e,t)=>{const r=O(e,t,this.props.lines);this.props.lineActions.reorderLines(r,this.props.ui.currentTimeline)}),w(this,"startHovering",e=>(this.setState({hovering:e}),e)),w(this,"stopHovering",()=>(this.setState({hovering:!1}),null)),w(this,"handleInsertNewBeat",e=>{const{ui:t,beatActions:r}=this.props;r.insertBeat(t.currentTimeline,e)}),w(this,"handleInsertChildBeat",e=>{const{ui:t,beatActions:r}=this.props;r.addBeat(t.currentTimeline,e)}),w(this,"handleAppendBeat",()=>{this.props.beatActions.addBeat(this.props.ui.currentTimeline)})}componentDidMount(){this.setLength()}componentDidUpdate(){this.setLength()}lineMapping(){return this.props.lines.reduce((e,t)=>(e[t.position]=t,e),{})}buildCard(e,t){return Object.assign({},E,{beatId:t,lineId:e})}renderHorizontal(){const{lines:e,isSmall:t,ui:r}=this.props,o=this.props.beatMapping,i=Object.keys(o);let a=0;return[...e.map(e=>{const s=n.default.createElement(p.default,{line:e,handleReorder:this.handleReorderLines,bookId:r.currentTimeline}),l=this.renderHorizontalCards(e,o,i);return a=l.length,t?n.default.createElement("tr",{key:"lineId-"+e.id},s,l,n.default.createElement("td",null)):n.default.createElement(c.Row,{key:"lineId-"+e.id},s,l)}),n.default.createElement(g.default,{key:"insert-line",bookId:r.currentTimeline,howManyCells:a})]}renderVertical(){const e=this.lineMapping(),t=Object.keys(e),{beats:r,beatActions:o,ui:i,isSmall:a,booksBeats:s,isLarge:l}=this.props,u=e=>()=>{e&&(e.expanded?o.collapseBeat(e.id,i.currentTimeline):o.expandBeat(e.id,i.currentTimeline))},d=r.map((o,i)=>{let d=[];(l||0===i)&&(d=t.flatMap((t,i)=>{const a=e[t];return n.default.createElement(f.default,{key:t+"-insert",beatToLeft:r[i-1],isInBeatList:!1,handleInsert:this.handleInsertNewBeat,color:a.color,showLine:0==o.position,tableLength:this.state.tableLength,hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering})}));const p=n.default.createElement(m.default,{beatId:o.id,handleReorder:this.handleReorderBeats,hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering});if(a)return n.default.createElement("tr",{key:"beatId-"+o.id},p,this.renderVerticalCards(o,e,t));{const a=r[i-1];return[n.default.createElement(c.Row,{key:"beatId-"+o.id},l||0===i?n.default.createElement(f.default,{isFirst:0===i,isInBeatList:!0,beatToLeft:r[i-1],handleInsertChild:a&&x(s,a&&a.id)?void 0:this.handleInsertChildBeat,expanded:a&&a.expanded,toggleExpanded:u(a),handleInsert:this.handleInsertNewBeat,hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering}):null,d),n.default.createElement(c.Row,{key:`beatId-${o.id}-insert`},p,this.renderVerticalCards(o,e,t))]}});let p;if(a){const e=t.map(e=>n.default.createElement("td",{key:e}));p=[n.default.createElement("tr",{key:"last-insert"},n.default.createElement(f.default,{isInBeatList:!0,handleInsert:this.handleAppendBeat,isLast:!0}),[...e,n.default.createElement("td",{key:"empty-cell"})])]}else{const e=r[r.length-1];p=[],l&&p.push(n.default.createElement(c.Row,{key:"second-last-insert"},n.default.createElement(f.default,{isInBeatList:!0,handleInsert:this.handleInsertNewBeat,beatToLeft:e,handleInsertChild:e&&x(s,e&&e.id)?void 0:this.handleInsertChildBeat,expanded:e&&e.expanded,toggleExpanded:u(e)}))),p.push(n.default.createElement(c.Row,{key:"last-insert"},n.default.createElement(f.default,{isInBeatList:!0,handleInsert:this.handleAppendBeat,isLast:!0,beatToLeft:e,handleInsertChild:e&&x(s,e&&e.id)?void 0:this.handleInsertChildBeat,expanded:e&&e.expanded,toggleExpanded:u(e)})))}return[...d,...p]}renderRows(){return"horizontal"===this.props.ui.orientation?this.renderHorizontal():this.renderVertical()}renderHorizontalCards(e,t,r){const{beats:o,cardMap:i,isLarge:a,isMedium:s,beatHasChildrenMap:l}=this.props;return r.flatMap(r=>{const c=[],p=t[r],h=o[r];(a||s&&0==r)&&c.push(n.default.createElement(f.default,{key:r+"-insert",isInBeatList:!1,lineId:e.id,handleInsert:this.handleInsertNewBeat,beatToLeft:o[r-1],showLine:0==r,color:e.color,tableLength:this.state.tableLength}));const m=i[`${e.id}-${p}`],g=`${m?"card":"blank"}-${r}-${e.position}`;return m?c.push(n.default.createElement(u.default,{key:g,cards:m,beatIsExpanded:h&&h.expanded||!l.get(h.id),beatId:p,lineId:e.id,beatPosition:r,linePosition:e.position,color:e.color})):c.push(n.default.createElement(d.default,{beatId:p,lineId:e.id,key:g,color:e.color})),c})}renderVerticalCards(e,t,r){const{cardMap:o,isSmall:i}=this.props,a=r.flatMap(r=>{const i=[],a=t[r],s=o[`${a.id}-${e.id}`],l=`${s?"card":"blank"}-${e.position}-${r}`;return s?i.push(n.default.createElement(u.default,{key:l,cards:s,beatIsExpanded:e&&e.expanded,beatId:e.id,lineId:a.id,beatPosition:e.position,linePosition:r,color:a.color})):i.push(n.default.createElement(d.default,{beatId:e.id,lineId:a.id,key:l,color:a.color})),i});return i?[...a,n.default.createElement("td",{key:"empty-cell"})]:a}render(){const{ui:e,isSmall:t}=this.props;return t?n.default.createElement("div",{className:(0,l.default)("small-timeline__wrapper",{darkmode:e.darkMode,vertical:"vertical"==e.orientation})},n.default.createElement("table",{className:"table-header-rotated"},n.default.createElement(h.default,null),n.default.createElement("tbody",null,this.renderRows()))):[n.default.createElement(h.default,{key:"top-row"}),this.renderRows()]}}F.propTypes={nextBeatId:o.default.number,beats:o.default.array,beatHasChildrenMap:o.default.instanceOf(Map).isRequired,booksBeats:o.default.object,beatMapping:o.default.object,lines:o.default.array,cardMap:o.default.object.isRequired,ui:o.default.object.isRequired,isSeries:o.default.bool,isSmall:o.default.bool,isMedium:o.default.bool,isLarge:o.default.bool,tableRef:o.default.object,actions:o.default.object,lineActions:o.default.object,cardActions:o.default.object,beatActions:o.default.object};var U=(0,i.connect)((function(e){return{beats:C(e.present),booksBeats:T(e.present),beatHasChildrenMap:k(e.present),beatMapping:D(e.present),nextBeatId:_(e.present.beats),lines:P(e.present),cardMap:S(e.present),ui:e.present.ui,isSeries:A(e.present),isSmall:j(e.present),isMedium:R(e.present),isLarge:I(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(L,e),lineActions:(0,s.bindActionCreators)(N,e),cardActions:(0,s.bindActionCreators)(B,e),beatActions:(0,s.bindActionCreators)(M,e)}}))(F);t.default=U},1202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=h(r(12)),i=r(22),a=r(24),s=r(73),l=h(r(1203)),c=h(r(5)),u=h(r(235)),d=h(r(1210)),p=r(20),f=r(11);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{lists:{reorderList:b,moveToAbove:v}}=f.helpers;class y extends n.PureComponent{constructor(...e){super(...e),g(this,"moveSceneCardAbove",(e,t)=>{const{beatId:r,lineId:n,cards:o}=this.props;let i=[];const a=o.map(e=>e.id);if(a.includes(e)){const r=o.find(t=>t.id==e).positionWithinLine;i=v(r,t,a)}else i=a,i.splice(t,0,e);this.props.actions.reorderCardsWithinLine(r,n,i)}),g(this,"moveSceneCard",(e,t)=>{const{beatId:r,lineId:n,cards:o}=this.props;let i=[];const a=o.map(e=>e.id);if(a.includes(e)){const r=o.find(t=>t.id==e).positionWithinLine;i=b(t,r,a)}else i=a,i.splice(t,0,e);this.props.actions.reorderCardsWithinLine(r,n,i)}),g(this,"addSceneCard",e=>{const t=this.buildCard(e),r=this.props.cards.map(e=>e.id);r.splice(e.positionWithinLine,0,null),this.props.actions.addNewCardInBeat(t,r)}),g(this,"renderHiddenCards",()=>n.default.createElement("div",{className:"card__hidden-cards"},this.renderCards(!1)))}buildCard(e){const{beatId:t,lineId:r}=this.props;return Object.assign({},{beatId:t,lineId:r},e)}renderCards(e){const{beatId:t,lineId:r,beatPosition:o,linePosition:i,color:a,cards:s,isSmall:c}=this.props,u=s.length-1;return s.map((f,h)=>{const m=h==s.length-1;return n.default.createElement("div",{key:f.id},n.default.createElement(p.ErrorBoundary,null,n.default.createElement(l.default,{card:f,beatId:t,lineId:r,idx:h,beatPosition:o,linePosition:i,color:a,last:u==h,moveCard:this.moveSceneCardAbove,allowDrop:e||c})),e?n.default.createElement(d.default,{color:a,positionWithinLine:h,moveCard:this.moveSceneCard,addCard:this.addSceneCard,allowDrop:m,dropPosition:s.length,beatId:t,lineId:r}):null)})}renderBody(){const{cards:e,ui:t,isVisible:r,color:o,lineIsExpanded:i,beatIsExpanded:a,isMedium:s}=this.props,l=e.length,p="vertical"==t.orientation;if(a&&(i||1==l)){const e=(0,c.default)("card__cell",{multiple:l>1,vertical:p,"medium-timeline":s});return n.default.createElement("div",{className:e},this.renderCards(!0))}{let t={borderColor:o};r||(t.opacity="0.1");const i=(0,c.default)("card__body shadow",{"medium-timeline":s}),a=(0,c.default)("card__cell__overview-cell",{vertical:p,"medium-timeline":s});return n.default.createElement("div",{className:a},n.default.createElement("div",null,n.default.createElement(u.default,{component:this.renderHiddenCards,placement:"right",offset:0,disableAnimation:!0,styles:{wrapper:{cursor:"pointer"}}},n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:i,style:t},n.default.createElement("div",{className:"card__title"},e[0].title)),n.default.createElement("div",{className:"card__behind",style:t})))),n.default.createElement(d.default,{color:this.props.color,positionWithinLine:l,moveCard:this.moveSceneCard,addCard:this.addSceneCard,beatId:this.props.beatId,lineId:this.props.lineId,allowDrop:!0}))}}render(){const{cards:e,isSmall:t}=this.props;return e.length?t?n.default.createElement("td",null,this.renderCards(!1)):n.default.createElement(s.Cell,null,this.renderBody()):t?n.default.createElement("td",null):n.default.createElement(s.Cell,null)}}y.propTypes={cards:o.default.array,beatId:o.default.number.isRequired,lineId:o.default.number.isRequired,color:o.default.string.isRequired,linePosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,beatPosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,ui:o.default.object.isRequired,beatIsExpanded:o.default.bool,lineIsExpanded:o.default.bool.isRequired,isVisible:o.default.bool.isRequired,isSmall:o.default.bool.isRequired,isMedium:o.default.bool.isRequired,actions:o.default.object.isRequired};var w=(0,i.connect)((function(e,t){const r=f.selectors.visibleCardsSelector(e.present),n=t.cards.some(e=>r[e.id]);return{ui:e.present.ui,lineIsExpanded:f.selectors.lineIsExpandedSelector(e.present)[t.lineId],isVisible:n,isSmall:f.selectors.isSmallSelector(e.present),isMedium:f.selectors.isMediumSelector(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(f.actions.card,e)}}))(y);t.default=w},1203:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=m(r(12)),i=r(22),a=r(24),s=m(r(1204)),l=r(18),c=r(20),u=m(r(5)),d=r(81),p=r(11),f=r(1207),h=m(r(319));function m(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{visibleCardsSelector:v,isSmallSelector:y,isMediumSelector:w}=p.selectors,E=p.actions.card,{card:{truncateTitle:_}}=p.helpers;class x extends n.Component{constructor(e){super(e),b(this,"cardRef",(0,n.createRef)()),b(this,"closeDialog",()=>{this.setState({dialogOpen:!1})}),b(this,"handleDragStart",e=>{this.setState({dragging:!0}),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify({cardId:this.props.card.id}))}),b(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),b(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),b(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),b(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),b(this,"handleDrop",e=>{if(e.stopPropagation(),e.preventDefault(),this.state.dragging)return;if(!this.props.allowDrop)return;this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.moveCard(r.cardId,this.props.idx)}),b(this,"startHovering",()=>{this.setState({hovering:!0})}),b(this,"stopHovering",()=>{this.setState({hovering:!1})}),b(this,"openDialog",()=>{this.setState({dialogOpen:!0})}),this.state={dialogOpen:!1,dragging:!1,inDropZone:!1,dropDepth:0,hovering:!1}}renderDialog(){if(!this.state.dialogOpen)return null;const{ui:e,card:t,beatId:r,lineId:o}=this.props;return n.default.createElement(s.default,{ui:e,card:t,beatId:r,lineId:o,closeDialog:this.closeDialog})}renderPopover(){return n.default.createElement(l.Popover,{title:this.props.card.title,id:"card-popover-"+this.props.card.id},n.default.createElement("div",{className:"card__popover-wrapper"},n.default.createElement(c.RichText,{description:this.props.card.description,editable:!1,className:"card__popover-description",darkMode:this.props.ui.darkMode}),this.renderTags()))}hasDetailsToShow(){const{card:e}=this.props;return!(!e.tags||!e.tags.length)||!!e.description&&(!!e.description.length&&(e.description.length>1||!(1==e.description.length&&e.description[0]&&e.description[0].children&&1==e.description[0].children.length&&e.description[0].children[0]&&""==e.description[0].children[0].text)))}renderTags(){const{card:e,tags:t}=this.props;if(!e.tags||!e.tags.length)return null;const r=e.tags.map(e=>{const r=t.find(t=>t.id==e);return r?n.default.createElement(c.TagLabel,{tag:r,key:"taglabel-"+e}):null});return n.default.createElement("div",{className:"card__popover-labels"},r)}renderDropZone(){const{color:e,allowDrop:t,isSmall:r}=this.props;if(!t)return;if(!this.state.inDropZone)return;let o={};return r&&(o={color:e}),n.default.createElement("div",{className:"card__drop-zone"},n.default.createElement(d.FaCircle,{style:o}))}renderTitle(){const{card:e,isSmall:t,ui:r,beatPosition:o,linePosition:i}=this.props;let a={};if(!t&&e.color){a.backgroundColor=e.color;const[t,r]=(0,f.getContrastYIQ)(e.color&&e.color||"#F1F5F8");t||(a.color="white")}let s=n.default.createElement("div",{className:"card__title",style:a},t?"":_(e.title,150));if(!this.state.dragging&&(t||this.hasDetailsToShow())){let e="left";(t||"horizontal"===r.orientation&&Number(o)<=2||Number(i)<=2)&&(e="right");const a=this.cardRef.current?this.cardRef.current.getBoundingClientRect():null,c=document.querySelector("#react-root").getBoundingClientRect().width/2;a&&(a.x>c&&(e="left"),a.x<c&&(e="right")),s=n.default.createElement(l.OverlayTrigger,{placement:e,overlay:this.renderPopover()},s)}return s}render(){const{color:e,card:t,isVisible:r,allowDrop:o,last:i,isSmall:a,isMedium:s,ui:l}=this.props;var c={borderColor:t.color?(0,h.default)(t.color).darken(10).toHslString():e};if(this.state.dragging&&(c.opacity="0.5"),r||(c.opacity="0.1"),a)return n.default.createElement("div",{ref:this.cardRef,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderDropZone(),this.renderDialog(),n.default.createElement("div",{className:"card-circle",style:{backgroundColor:e},draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseOver:this.startHovering,onMouseLeave:this.stopHovering},n.default.createElement("div",{onClick:this.openDialog},this.renderTitle())));{const e=(0,u.default)("card__body",{"medium-timeline":s,vertical:"vertical"==l.orientation});return n.default.createElement("div",{ref:this.cardRef,className:(0,u.default)("card__body-wrapper",{lastOne:i}),onDragEnter:o?this.handleDragEnter:null,onDragOver:o?this.handleDragOver:null,onDragLeave:o?this.handleDragLeave:null,onDrop:o?this.handleDrop:null},this.renderDialog(),this.renderDropZone(),n.default.createElement("div",{className:e,style:c,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onClick:this.openDialog,onMouseOver:this.startHovering,onMouseLeave:this.stopHovering},this.renderTitle()))}}shouldComponentUpdate(e,t){return this.state.dragging!=t.dragging||(this.state.dialogOpen!=t.dialogOpen||(this.state.inDropZone!=t.inDropZone||(this.state.hovering!=t.hovering||(this.props.color!=e.color||(this.props.isVisible!=e.isVisible||(this.props.card!=e.card||(this.props.last!=e.last||this.props.ui.timeline.size!=e.ui.timeline.size)))))))}}x.propTypes={card:o.default.object.isRequired,beatId:o.default.number.isRequired,lineId:o.default.number.isRequired,color:o.default.string.isRequired,last:o.default.bool.isRequired,linePosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,beatPosition:o.default.oneOfType([o.default.string,o.default.number]).isRequired,moveCard:o.default.func.isRequired,idx:o.default.number.isRequired,allowDrop:o.default.bool.isRequired,tags:o.default.array,ui:o.default.object.isRequired,isVisible:o.default.bool.isRequired,isSmall:o.default.bool.isRequired,isMedium:o.default.bool.isRequired};var O=(0,i.connect)((function(e,t){return{tags:e.present.tags,ui:e.present.ui,isVisible:v(e.present)[t.card.id],isSmall:y(e.present),isMedium:w(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(E,e)}}))(x);t.default=O},1204:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=h(r(12)),i=h(r(1205)),a=r(22),s=r(24),l=r(18),c=r(7),u=h(r(5)),d=h(r(319)),p=r(20),f=r(11);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{card:{truncateTitle:b},beats:{beatTitle:v}}=f.helpers;class y extends n.Component{constructor(e){super(e),g(this,"selectTab",e=>()=>{this.setState({selected:e})}),g(this,"deleteCard",e=>{e.stopPropagation(),this.props.actions.deleteCard(this.props.card.id)}),g(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),g(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),g(this,"saveAndClose",()=>{this.props.closeDialog()}),g(this,"openColorPicker",()=>{this.setState({showColorPicker:!0})}),g(this,"handleAttrChange",e=>t=>{this.setState({attributes:{...this.state.attributes,[e]:t}})}),g(this,"handleTemplateAttrChange",(e,t)=>r=>{const n={...this.state.templateAttrs,[e]:{...this.state.templateAttrs[e],[t]:r}};this.setState({templateAttrs:n})}),g(this,"saveEdit",()=>{var e=this.titleInputRef.value;const t={};this.props.customAttributes.forEach(e=>{const{name:r}=e;t[r]=this.state.attributes[r]||this.props.card[r]});const r=this.props.card.templates.map(e=>(e.attributes=e.attributes.map(t=>(t.value=this.state.templateAttrs[e.id][t.name],t)),e));this.props.actions.editCard(this.props.card.id,e,this.state.description,r,t)}),g(this,"handleEnter",e=>{13===e.which&&this.saveAndClose()}),g(this,"handleEsc",e=>{27===e.which&&this.saveEdit()}),g(this,"handleNewAttributeTypeChange",e=>{this.setState({newAttributeType:e.target.checked?"paragraph":"text"})}),g(this,"addNewCustomAttribute",e=>{e&&this.props.customAttributeActions.addCardAttr({name:e,type:this.state.newAttributeType}),this.closeNewAttributeSection()}),g(this,"closeNewAttributeSection",()=>{this.setState({addingAttribute:!1,newAttributeType:"text"})}),g(this,"handleNewAttributeEnter",e=>{13===e.which&&this.addNewCustomAttribute(e.target.value)}),g(this,"onAddAttributeClicked",()=>{this.setState({addingAttribute:!0})}),g(this,"closeWithoutSaving",()=>{this.setState({cancelling:!0},this.props.closeDialog)}),g(this,"chooseCardColor",e=>{const{card:t,actions:r}=this.props;r.editCardAttributes(t.id,{color:e}),this.setState({showColorPicker:!1})});const t={};e.customAttributes.forEach(({name:r,type:n})=>{t[r]=e.card[r]});const r=e.card.templates.reduce((e,t)=>(e[t.id]=t.attributes.reduce((e,t)=>(e[t.name]=t.value,e),{}),e),{});this.state={description:e.card.description,attributes:t,deleting:!1,templateAttrs:r,selected:"Description",addingAttribute:!1,newAttributeType:"text",cancelling:!1,showColorPicker:!1},this.newAttributeInputRef=n.default.createRef(),this.titleInputRef=null,this.colorButtonRef=n.default.createRef()}componentDidMount(){window.SCROLLWITHKEYS=!1}componentDidUpdate(e){if(this.newAttributeInputRef.current&&this.newAttributeInputRef.current.focus(),this.props.customAttributes!=e.customAttributes){const e={};this.props.customAttributes.forEach(({name:t,type:r})=>{"text"===r&&(e[t]=this.props.card[t])}),this.setState({attributes:e})}}componentWillUnmount(){this.state.cancelling||this.saveEdit(),window.SCROLLWITHKEYS=!0}changeBeat(e){this.props.actions.changeBeat(this.props.card.id,e,this.props.ui.currentTimeline)}changeLine(e){this.props.actions.changeLine(this.props.card.id,e,this.props.ui.currentTimeline)}changeBook(e){this.props.actions.changeBook(this.props.card.id,e)}getCurrentBeat(){return this.props.beats.find(e=>e.id==this.props.beatId)}getCurrentLine(){return this.props.lines.find(e=>e.id==this.props.lineId)}getBookTitle(){const e=this.props.books[this.props.card.bookId];return e?e.title||(0,c.t)("Untitled"):(0,c.t)("Choose...")}renderDelete(){return this.state.deleting?n.default.createElement(p.DeleteConfirmModal,{name:this.props.card.title,onDelete:this.deleteCard,onCancel:this.cancelDelete}):null}renderEditingCustomAttributes(){const{card:e,ui:t,customAttributes:r}=this.props;return r.map((r,o)=>n.default.createElement(n.default.Fragment,{key:`custom-attribute-${o}-${r.name}`},n.default.createElement(p.EditAttribute,{index:o,entity:e,entityType:"scene",value:this.state.attributes[r.name],ui:t,onChange:this.handleAttrChange(r.name),onShortDescriptionKeyDown:this.handleEsc,onShortDescriptionKeyPress:this.handleEnter,name:r.name,type:r.type})))}renderEditingTemplates(){const{card:e,ui:t}=this.props;return e.templates.flatMap(r=>r.attributes.map((o,i)=>n.default.createElement(n.default.Fragment,{key:`template-attribute-${i}-${r.id}-${o.name}`},n.default.createElement(p.EditAttribute,{templateAttribute:!0,index:i,entity:e,entityType:"scene",value:this.state.templateAttrs[r.id][o.name],ui:t,inputId:`${r.id}-${o.name}Input`,onChange:this.handleTemplateAttrChange(r.id,o.name),onShortDescriptionKeyDown:this.handleEsc,onShortDescriptionKeyPress:this.handleEnter,name:o.name,type:o.type}))))}renderAddCustomAttribute(){return this.state.addingAttribute?n.default.createElement("div",null,n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,c.t)("New Attribute")),n.default.createElement("input",{ref:this.newAttributeInputRef,className:"form-control",type:"text",onKeyDown:this.handleNewAttributeEnter})),n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,(0,c.t)("Paragraph"),"  "),n.default.createElement("input",{type:"checkbox",onChange:this.handleNewAttributeTypeChange})),n.default.createElement(l.ButtonToolbar,null,n.default.createElement(l.Button,{bsStyle:"success",onClick:()=>{this.newAttributeInputRef.current&&this.addNewCustomAttribute(this.newAttributeInputRef.current.value)}},(0,c.t)("Create")),n.default.createElement(l.Button,{onClick:this.closeNewAttributeSection},"Cancel"))):n.default.createElement(l.Button,{bsSize:"small",onClick:this.onAddAttributeClicked},n.default.createElement(l.Glyphicon,{glyph:"plus"}))}renderBeatItems(){const{beats:e,beatTree:t,hierarchyLevels:r,positionOffset:o,hierarchyEnabled:i,isSeries:a}=this.props;return e.map(e=>n.default.createElement(l.MenuItem,{key:e.id,onSelect:()=>this.changeBeat(e.id)},b(v(t,e,r,o,i,a),50)))}renderLineItems(){return this.props.lines.map(e=>n.default.createElement(l.MenuItem,{key:e.id,onSelect:()=>this.changeLine(e.id)},b(e.title,50)))}renderBooks(){const{books:e}=this.props;return e.allIds.map(t=>n.default.createElement(l.MenuItem,{key:t,onSelect:()=>this.changeBook(t)},e[t].title||(0,c.t)("Untitled")))}renderButtonBar(){return n.default.createElement(l.ButtonToolbar,{className:"card-dialog__button-bar"},n.default.createElement(l.Button,{onClick:this.closeWithoutSaving},(0,c.t)("Cancel")),n.default.createElement(l.Button,{bsStyle:"success",onClick:this.saveAndClose},(0,c.t)("Save")),n.default.createElement(l.Button,{className:"card-dialog__delete",onClick:this.handleDelete},(0,c.t)("Delete")))}renderTitle(){const e=this.props.card.title;return n.default.createElement(l.FormControl,{style:{fontSize:"24pt",textAlign:"center",marginBottom:"6px"},onKeyPress:this.handleEnter,type:"text",inputRef:e=>{this.titleInputRef=e},defaultValue:e})}renderBookDropdown(){let e=null;if(this.props.card.bookId){const t=()=>{this.props.uiActions.changeCurrentTimeline(this.props.card.bookId),this.props.closeDialog()};e=n.default.createElement(l.Button,{onClick:t},(0,c.t)("View Timeline"))}return n.default.createElement("div",{className:"card-dialog__dropdown-wrapper",style:{marginBottom:"5px"}},n.default.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-book"},(0,c.t)("Book"),":",n.default.createElement(l.DropdownButton,{id:"select-book",className:"card-dialog__select-line",title:this.getBookTitle()},this.renderBooks())),e)}renderLeftSide(){const{hierarchyLevels:e,positionOffset:t,isSeries:r,card:o,ui:i,beatTree:a,hierarchyEnabled:s}=this.props;let u=(0,c.t)("Chapter"),f=null;r&&(u=(0,c.t)("Beat"),f=this.renderBookDropdown());const h=v(a,this.getCurrentBeat(),e,t,s,r),m=o.color||null===o.color?(0,d.default)(o.color).darken().toHslString():null,g=o.color||null===o.color?m:"hsl(211, 27%, 70%)";return n.default.createElement("div",{className:"card-dialog__left-side"},f,n.default.createElement("div",{className:"card-dialog__dropdown-wrapper"},n.default.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-line"},(0,c.t)("Plotline"),":",n.default.createElement(l.DropdownButton,{id:"select-line",className:"card-dialog__select-line",title:b(this.getCurrentLine().title,35)},this.renderLineItems()))),n.default.createElement("div",{className:"card-dialog__dropdown-wrapper"},n.default.createElement("label",{className:"card-dialog__details-label",htmlFor:"select-beat"},u,":",n.default.createElement(l.DropdownButton,{id:"select-beat",className:"card-dialog__select-card",title:b(h,40)},this.renderBeatItems()))),n.default.createElement(p.SelectList,{parentId:this.props.card.id,type:"Characters",selectedItems:this.props.card.characters,allItems:this.props.characters,add:this.props.actions.addCharacter,remove:this.props.actions.removeCharacter}),n.default.createElement(p.SelectList,{parentId:this.props.card.id,type:"Places",selectedItems:this.props.card.places,allItems:this.props.places,add:this.props.actions.addPlace,remove:this.props.actions.removePlace}),n.default.createElement(p.SelectList,{parentId:this.props.card.id,type:"Tags",selectedItems:this.props.card.tags,allItems:this.props.tags,add:this.props.actions.addTag,remove:this.props.actions.removeTag}),n.default.createElement("div",{className:"color-picker__box"},n.default.createElement("label",{className:"card-dialog__details-label",style:{minWidth:"55px"}},(0,c.t)("Color"),":"),n.default.createElement(p.ColorPickerColor,{color:o.color||null===o.color?"none":"#F1F5F8",choose:this.openColorPicker,style:{margin:"2px",marginRight:"12px"},buttonStyle:{border:"1px solid "+g},ref:this.colorButtonRef}),n.default.createElement("div",{className:"buttons",style:{alignSelf:"flex-start"}},n.default.createElement(l.Button,{bsSize:"xs",block:!0,title:(0,c.t)("Choose color"),onClick:this.openColorPicker},n.default.createElement(l.Glyphicon,{glyph:"tint"})),n.default.createElement(l.Button,{bsSize:"xs",block:!0,title:(0,c.t)("No color"),bsStyle:"warning",onClick:()=>this.chooseCardColor(null)},n.default.createElement(l.Glyphicon,{glyph:"ban-circle"}))),n.default.createElement(l.Overlay,{show:this.state.showColorPicker,placement:"bottom",container:()=>this.colorButtonRef.current},n.default.createElement(p.MiniColorPicker,{darkMode:i.darkMode,chooseColor:this.chooseCardColor,el:this.colorButtonRef,close:()=>this.setState({showColorPicker:!1})}))))}render(){const{card:e,ui:t}=this.props,{selected:r}=this.state;return n.default.createElement(p.PlottrModal,{isOpen:!0,onRequestClose:this.saveAndClose},this.renderDelete(),n.default.createElement("div",{className:(0,u.default)("card-dialog",{darkmode:t.darkMode})},n.default.createElement("div",{className:"card-dialog__body"},this.renderLeftSide(),n.default.createElement("div",{className:"card-dialog__description"},this.renderTitle(),n.default.createElement("div",{className:"card-dialog__tab-container"},n.default.createElement("div",{className:"card-dialog__left-tabs"},n.default.createElement("div",{className:(0,u.default)("card-dialog__details-label card-dialog__tab",{"card-dialog__tab--selected":"Description"===r}),onClick:this.selectTab("Description")},(0,c.t)("Description")),n.default.createElement("div",{className:(0,u.default)("card-dialog__details-label card-dialog__tab",{"card-dialog__tab--selected":"Attributes"===r}),onClick:this.selectTab("Attributes")},(0,c.t)("Attributes"))),n.default.createElement("a",{href:"#",className:(0,u.default)("card-dialog__custom-attributes-configuration-link",{hidden:"Attributes"!==r}),onClick:this.props.uiActions.openAttributesDialog},(0,c.t)("Configure"))),n.default.createElement("div",{className:(0,u.default)("card-dialog__details-show-hide-wrapper",{hidden:"Description"!==r})},n.default.createElement(p.RichText,{description:e.description,onChange:e=>this.setState({description:e}),editable:!0,darkMode:t.darkMode,autofocus:!0})),n.default.createElement("div",{className:(0,u.default)("card-dialog__custom-attributes",{hidden:"Attributes"!==r})},this.renderEditingCustomAttributes(),this.renderEditingTemplates(),n.default.createElement("hr",null),this.renderAddCustomAttribute()))),this.renderButtonBar()))}}y.propTypes={card:o.default.object,beatId:o.default.number.isRequired,lineId:o.default.number.isRequired,closeDialog:o.default.func,lines:o.default.array.isRequired,beatTree:o.default.object.isRequired,beats:o.default.array.isRequired,hierarchyLevels:o.default.array.isRequired,actions:o.default.object.isRequired,tags:o.default.array.isRequired,characters:o.default.array.isRequired,places:o.default.array.isRequired,ui:o.default.object.isRequired,books:o.default.object.isRequired,isSeries:o.default.bool.isRequired,positionOffset:o.default.number.isRequired,customAttributes:o.default.array.isRequired,uiActions:o.default.object.isRequired,customAttributeActions:o.default.object.isRequired,hierarchyEnabled:o.default.bool};const w=(0,i.default)(y);var E=(0,a.connect)((function(e){return{beatTree:f.selectors.beatsByBookSelector(e.present),beats:f.selectors.sortedBeatsByBookSelector(e.present),hierarchyLevels:f.selectors.sortedHierarchyLevels(e.present),lines:f.selectors.sortedLinesByBookSelector(e.present),tags:f.selectors.sortedTagsSelector(e.present),characters:f.selectors.charactersSortedAtoZSelector(e.present),places:f.selectors.placesSortedAtoZSelector(e.present),customAttributes:e.present.customAttributes.scenes,ui:e.present.ui,books:e.present.books,isSeries:f.selectors.isSeriesSelector(e.present),positionOffset:f.selectors.positionOffsetSelector(e.present),hierarchyEnabled:f.selectors.beatHierarchyIsOn(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(f.actions.card,e),uiActions:(0,s.bindActionCreators)(f.actions.ui,e),customAttributeActions:(0,s.bindActionCreators)(f.actions.customAttribute,e)}}))(w);t.default=E},1205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,r=a,n=!0,s=c=void 0}};function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=a(r(1206)),c=r(2),u=a(c);t.default=function(e){return function(t){function r(){s(this,r),i(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),o(r,[{key:"shouldComponentUpdate",value:function(e,t){return(0,l.default)(this,e,t)}},{key:"render",value:function(){return u.default.createElement(e,n({},this.props,this.state))}}]),r}(c.Component)},e.exports=t.default},1206:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function i(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!n.call(t,r[a])||!o(e[r[a]],t[r[a]]))return!1;return!0}e.exports=function(e,t,r){return!i(e.props,t)||!i(e.state,r)}},1207:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContrastYIQ=void 0;var n,o=(n=r(319))&&n.__esModule?n:{default:n};t.getContrastYIQ=e=>{const t=(0,o.default)(e).getBrightness();return[t>=180,t]}},1208:function(e,t,r){var n,o;o=function(e){var t=["N","E","A","D"];function r(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,r){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,r){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function l(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function c(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}function d(e){var t=0,r=c(e);if("array"===r)return e.forEach((function(e){t+=d(e)})),t+u("[type: array, hash: "+t+"]");if("object"===r){for(var n in e)if(e.hasOwnProperty(n)){var o="[ type: object, key: "+n+", value hash: "+d(e[n])+"]";t+=u(o)}return t}return t+u("[ type: "+r+" ; value: "+e+"]")}function p(e,t,r,n,l,u,f,h){r=r||[],f=f||[];var m=(l=l||[]).slice(0);if(null!=u){if(n){if("function"==typeof n&&n(m,u))return;if("object"==typeof n){if(n.prefilter&&n.prefilter(m,u))return;if(n.normalize){var g=n.normalize(m,u,e,t);g&&(e=g[0],t=g[1])}}}m.push(u)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var b,v,y,w,E=typeof e,_=typeof t,x="undefined"!==E||f&&f.length>0&&f[f.length-1].lhs&&Object.getOwnPropertyDescriptor(f[f.length-1].lhs,u),O="undefined"!==_||f&&f.length>0&&f[f.length-1].rhs&&Object.getOwnPropertyDescriptor(f[f.length-1].rhs,u);if(!x&&O)r.push(new i(m,t));else if(!O&&x)r.push(new a(m,e));else if(c(e)!==c(t))r.push(new o(m,e,t));else if("date"===c(e)&&e-t!=0)r.push(new o(m,e,t));else if("object"===E&&null!==e&&null!==t){for(b=f.length-1;b>-1;--b)if(f[b].lhs===e){w=!0;break}if(w)e!==t&&r.push(new o(m,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){for(h&&(e.sort((function(e,t){return d(e)-d(t)})),t.sort((function(e,t){return d(e)-d(t)}))),b=t.length-1,v=e.length-1;b>v;)r.push(new s(m,b,new i(void 0,t[b--])));for(;v>b;)r.push(new s(m,v,new a(void 0,e[v--])));for(;b>=0;--b)p(e[b],t[b],r,n,m,b,f,h)}else{var S=Object.keys(e),C=Object.keys(t);for(b=0;b<S.length;++b)y=S[b],(w=C.indexOf(y))>=0?(p(e[y],t[y],r,n,m,y,f,h),C[w]=null):p(e[y],void 0,r,n,m,y,f,h);for(b=0;b<C.length;++b)(y=C[b])&&p(void 0,t[y],r,n,m,y,f,h)}f.length=f.length-1}}else e!==t&&("number"===E&&isNaN(e)&&isNaN(t)||r.push(new o(m,e,t)))}function f(e,t,r,n,o){var i=[];if(p(e,t,i,n,null,null,null,o),r)for(var a=0;a<i.length;++a)r(i[a]);return i}function h(e,t,r,n){var o=f(e,t,n?function(e){e&&n.push(e)}:void 0,r);return n||(o.length?o:void 0)}function m(e,r,n){if(void 0===n&&r&&~t.indexOf(r.kind)&&(n=r),e&&n&&n.kind){for(var o=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)void 0===o[n.path[i]]&&(o[n.path[i]]=void 0!==n.path[i+1]&&"number"==typeof n.path[i+1]?[]:{}),o=o[n.path[i]];switch(n.kind){case"A":n.path&&void 0===o[n.path[i]]&&(o[n.path[i]]=[]),function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],a=n.path.length-1;for(o=0;o<a;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":delete i[n.path[o]];break;case"E":case"N":i[n.path[o]]=n.rhs}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":t=l(t,r);break;case"E":case"N":t[r]=n.rhs}return t}(n.path?o[n.path[i]]:o,n.index,n.item);break;case"D":delete o[n.path[i]];break;case"E":case"N":o[n.path[i]]=n.rhs}}}return r(o,n),r(i,n),r(a,n),r(s,n),Object.defineProperties(h,{diff:{value:h,enumerable:!0},orderIndependentDiff:{value:function(e,t,r,n){var o=n?function(e){e&&n.push(e)}:void 0,i=f(e,t,o,r,!0);return n||(i.length?i:void 0)},enumerable:!0},observableDiff:{value:f,enumerable:!0},orderIndependentObservableDiff:{value:function(e,t,r,n,o,i,a){return p(e,t,r,n,o,i,a,!0)},enumerable:!0},orderIndepHash:{value:d,enumerable:!0},applyDiff:{value:function(e,t,r){e&&t&&f(e,t,(function(n){r&&!r(e,t,n)||m(e,t,n)}))},enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:function(e,t,r){if(e&&t&&r&&r.kind){var n,o,i=e;for(o=r.path.length-1,n=0;n<o;n++)void 0===i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],a=n.path.length-1;for(o=0;o<a;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":case"E":i[n.path[o]]=n.lhs;break;case"N":delete i[n.path[o]]}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":case"E":t[r]=n.lhs;break;case"N":t=l(t,r)}return t}(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof $conflict},enumerable:!0}}),h.DeepDiff=h,e&&(e.DeepDiff=h),h}(this),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)},1209:function(e,t,r){"use strict";
/**
* @license nested-property https://github.com/cosmosio/nested-property
*
* The MIT License (MIT)
*
* Copyright (c) 2014-2015 Olivier Scherrer <pode.fr@gmail.com>
*/e.exports={set:function(e,t,r){if(e&&"object"==typeof e){if("string"==typeof t&&""!==t){var n=t.split(".");return n.reduce((function(e,t,o){const i=Number.isInteger(Number(n[o+1]));return e[t]=e[t]||(i?[]:{}),n.length==o+1&&(e[t]=r),e[t]}),e)}return"number"==typeof t?(e[t]=r,e[t]):e}return e},get:function(e,t){return e&&"object"==typeof e?"string"==typeof t&&""!==t?t.split(".").reduce((function(e,t){return e&&e[t]}),e):"number"==typeof t?e[t]:e:e},has:function(e,t,r){return r=r||{},!(!e||"object"!=typeof e)&&("string"==typeof t&&""!==t?t.split(".").reduce((function(e,t,n,o){return n==o.length-1?r.own?!(!e||!e.hasOwnProperty(t)):!(null===e||"object"!=typeof e||!(t in e)):e&&e[t]}),e):"number"==typeof t&&t in e)},hasOwn:function(e,t,r){return this.has(e,t,r||{own:!0})},isIn:function(e,t,r,n){if(n=n||{},e&&"object"==typeof e){if("string"==typeof t&&""!==t){var o,i=t.split("."),a=!1;return o=!!i.reduce((function(e,t){return a=a||e===r||!!e&&e[t]===r,e&&e[t]}),e),n.validPath?a&&o:a}return!1}return!1}}},1210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=l(r(532)),i=l(r(12)),a=r(18),s=l(r(5));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends n.Component{constructor(...e){super(...e),u(this,"state",{creating:!1,dropping:!1}),u(this,"titleInputRef",(0,n.createRef)()),u(this,"saveCreate",()=>{const e=this.titleInputRef.current.value;this.props.addCard({title:e,positionWithinLine:this.props.positionWithinLine+1}),this.setState({creating:!1})}),u(this,"stopCreating",()=>{this.setState({creating:!1})}),u(this,"handleFinishCreate",e=>{13===e.which&&this.saveCreate()}),u(this,"handleCancelCreate",e=>{27===e.which&&(window.removeEventListener("keydown",this.handleCancelCreate),this.setState({creating:!1}))}),u(this,"handleBlur",()=>{if(""==this.titleInputRef.current.value)return this.setState({creating:!1}),!1;this.saveCreate(),this.setState({creating:!1})}),u(this,"startCreating",()=>{window.addEventListener("keydown",this.handleCancelCreate),this.setState({creating:!0})}),u(this,"handleDragEnter",e=>{this.setState({dropping:!0})}),u(this,"handleDragOver",e=>{this.setState({dropping:!0}),e.preventDefault()}),u(this,"handleDragLeave",e=>{this.setState({dropping:!1})}),u(this,"handleDrop",e=>{e.stopPropagation(),this.setState({dropping:!1});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);r.cardId&&this.props.moveCard(r.cardId,this.props.dropPosition||this.props.positionWithinLine)})}render(){return this.state.creating?n.default.createElement("div",{className:"vertical-blank-card__wrapper"},n.default.createElement(o.default,{verticalInsertion:!0,beatId:this.props.beatId,lineId:this.props.lineId,positionWithinLine:this.props.positionWithinLine+1,color:this.props.color,onDone:this.stopCreating})):this.props.allowDrop?n.default.createElement("div",{className:(0,s.default)("card__add-card",{dropping:this.state.dropping}),onClick:this.startCreating,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},n.default.createElement(a.Glyphicon,{glyph:"plus"})):n.default.createElement("div",{className:(0,s.default)("card__add-card",{dropping:this.state.dropping}),onClick:this.startCreating},n.default.createElement(a.Glyphicon,{glyph:"plus"}))}shouldComponentUpdate(e,t){return this.state.dropping!=t.dropping||(this.state.creating!=t.creating||(this.props.color!=e.color||this.props.allowDrop!=e.allowDrop))}}t.default=d,u(d,"propTypes",{color:i.default.string.isRequired,positionWithinLine:i.default.number.isRequired,moveCard:i.default.func.isRequired,addCard:i.default.func.isRequired,allowDrop:i.default.bool.isRequired,beatId:i.default.number.isRequired,lineId:i.default.number.isRequired,dropPosition:i.default.number})},1211:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=s(r(12)),i=r(11),a=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}const{orientedClassName:{orientedClassName:c}}=i.helpers,u={horizontal:{medium:{first:85,last:211},large:{first:155,last:211}},vertical:{medium:{first:120,last:110},large:{first:100,last:110}}},d=(e,t)=>{const r=u[e][t?"medium":"large"];return r.first+r.last};function p({color:e,orientation:t,isMedium:r,tableLength:o}){const[i,s]=(0,n.useState)(d(t,r)),[l,u]=(0,n.useState)(0),[p,f]=(0,n.useState)(0),[h,m]=(0,n.useState)(null),[g,b]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{s(d(t,r))},[t,r]),(0,n.useEffect)(()=>{o&&o>0&&(g||(f(o-i),b(!0)))},[o,i,p]),(0,n.useEffect)(()=>{if(!g)return;if(!p)return;const e=setInterval(()=>{u(e=>{let t=e+100;return t>p&&(t=p),t})},10);return m(e),()=>clearInterval(e)},[g]),(0,n.useEffect)(()=>{l==p&&(clearInterval(h),b(!1))},[l]),!l)return null;const v={borderColor:e};"horizontal"==t?v.width=l+"px":v.height=l+"px";const y=(0,a.default)(c("line-title__line-line",t),{"medium-timeline":r});return n.default.createElement("div",{className:y,style:v})}p.propTypes={color:o.default.string,orientation:o.default.string,tableLength:o.default.number,isMedium:o.default.bool}},1212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=f(r(12)),i=r(22),a=r(24),s=r(73),l=r(18),c=f(r(535)),u=f(r(533)),d=f(r(534)),p=r(11);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{beats:{nextId:g,hasChildren:b},lists:{reorderList:v},orientedClassName:{orientedClassName:y}}=p.helpers,w=p.actions.line,E=p.actions.beat,{visibleSortedBeatsByBookSelector:_,sortedLinesByBookSelector:x,beatsByBookSelector:O,isSeriesSelector:S,isLargeSelector:C,isMediumSelector:T,isSmallSelector:k}=p.selectors;class P extends n.Component{constructor(e){super(e),m(this,"handleReorderBeats",(e,t)=>{const{ui:r,beatActions:n}=this.props;n.reorderBeats(t,e,r.currentTimeline)}),m(this,"handleReorderLines",(e,t)=>{const{ui:r,lineActions:n,lines:o}=this.props,i=v(e,t,o);n.reorderLines(i,r.currentTimeline)}),m(this,"startHovering",e=>(this.setState({hovering:e}),e)),m(this,"stopHovering",()=>(this.setState({hovering:null}),null)),m(this,"handleInsertNewBeat",e=>{const{ui:t,beatActions:r}=this.props;r.insertBeat(t.currentTimeline,e)}),m(this,"handleInsertChildBeat",e=>{const{ui:t,beatActions:r}=this.props;r.expandBeat(e,t.currentTimeline),r.addBeat(t.currentTimeline,e)}),m(this,"handleAppendBeat",()=>{const{ui:e,beatActions:t}=this.props;t.addBeat(e.currentTimeline)}),m(this,"handleAppendLine",()=>{const{ui:e,lineActions:t}=this.props;t.addLine(e.currentTimeline)}),this.state={hovering:null}}renderSecondLastInsertBeatCell(){const{ui:{currentTimeline:e,orientation:t},isLarge:r,booksBeats:o,beats:i,beatActions:a}=this.props;if(!r)return null;const s=i&&0!==i.length?i[i.length-1]:null;return n.default.createElement(d.default,{key:"second-last-insert",isInBeatList:!0,handleInsert:this.handleInsertNewBeat,beatToLeft:s,handleInsertChild:s&&b(o,s&&s.id)?void 0:this.handleInsertChildBeat,expanded:s&&s.expanded,toggleExpanded:()=>{s&&s.expanded?a.collapseBeat(s.id,e):a.expandBeat(s.id,e)},orientation:t})}renderLastInsertBeatCell(){const{ui:{orientation:e}}=this.props;return n.default.createElement(d.default,{key:"last-insert",handleInsert:this.handleAppendBeat,isInBeatList:!0,isLast:!0,orientation:e})}renderBeats(){const{ui:e,booksBeats:t,beats:r,beatActions:o,isLarge:i,isMedium:a,isSmall:l}=this.props,u=t=>()=>{t&&(t.expanded?o.collapseBeat(t.id,e.currentTimeline):o.expandBeat(t.id,e.currentTimeline))},p=r.flatMap((o,s)=>{const l=r[s-1],p=[];return(i||a&&0===s)&&p.push(n.default.createElement(d.default,{isFirst:0===s,key:`beatId-${o.id}-insert`,isInBeatList:!0,beatToLeft:l,handleInsert:this.handleInsertNewBeat,handleInsertChild:l&&b(t,l&&l.id)?void 0:this.handleInsertChildBeat,expanded:l&&l.expanded,toggleExpanded:u(l),orientation:e.orientation,hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering})),p.push(n.default.createElement(c.default,{isFirst:0===s,key:"beatId-"+o.id,beatId:o.id,handleReorder:this.handleReorderBeats,hovering:this.state.hovering,onMouseEnter:()=>this.startHovering(o.id),onMouseLeave:this.stopHovering})),p});return l?[...p,this.renderLastInsertBeatCell()]:[n.default.createElement(s.Cell,{key:"placeholder"}),...p,this.renderSecondLastInsertBeatCell(),this.renderLastInsertBeatCell()]}renderLines(){const{lines:e,ui:t,isSmall:r,isLarge:o}=this.props,i=e.map(e=>n.default.createElement(u.default,{key:"line-"+e.id,line:e,handleReorder:this.handleReorderLines,bookId:t.currentTimeline})),a=n.default.createElement("div",{className:y("line-list__append-line",t.orientation),onClick:this.handleAppendLine},n.default.createElement("div",{className:y("line-list__append-line-wrapper",t.orientation)},n.default.createElement(l.Glyphicon,{glyph:"plus"})));if(r){const e=n.default.createElement("th",{key:"insert-line",className:"rotate-45"},a);return[...i,e]}let c=[n.default.createElement(s.Cell,{key:"placeholder"}),...i];if(o){const e=n.default.createElement(s.Row,{key:"insert-line"},n.default.createElement(s.Cell,null,a));c=[...c,e]}return c}render(){const{ui:e,isSmall:t}=this.props;let r=null;return r="horizontal"===e.orientation?this.renderBeats():this.renderLines(),t?n.default.createElement("thead",null,n.default.createElement("tr",null,n.default.createElement("th",null),r)):n.default.createElement(s.Row,null,r)}}P.propTypes={ui:o.default.object.isRequired,isSeries:o.default.bool,isSmall:o.default.bool,isMedium:o.default.bool,isLarge:o.default.bool,beats:o.default.array,booksBeats:o.default.object,nextBeatId:o.default.number,lines:o.default.array,lineActions:o.default.object,beatActions:o.default.object};var A=(0,i.connect)((function(e){const t=g(e.present.beats);return{ui:e.present.ui,isSeries:S(e.present),isSmall:k(e.present),isMedium:T(e.present),isLarge:C(e.present),beats:_(e.present),booksBeats:O(e.present),nextBeatId:t,lines:x(e.present)}}),(function(e){return{lineActions:(0,a.bindActionCreators)(w,e),beatActions:(0,a.bindActionCreators)(E,e)}}))(P);t.default=A},1213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(131)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),i=m(r(12)),a=r(22),s=r(24),l=r(73),c=r(18),u=r(7),d=m(r(5)),p=r(11),f=r(20);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{nextColor:b}=p.lineColors,v=p.initialState.card,y=p.initialState.line;class w extends o.Component{constructor(...e){super(...e),g(this,"state",{hovering:!1,showTemplatePicker:!1,askingForInput:!1}),g(this,"allBeats",[]),g(this,"allLines",[]),g(this,"allCards",[]),g(this,"nextBeatId",null),g(this,"nextLineId",null),g(this,"nextCardId",null),g(this,"newLineMapping",{}),g(this,"newBeatOffset",0),g(this,"getLast",e=>e[e.length-1]),g(this,"getPositionById",e=>e.reduce((e,t)=>(e[t.id]=t.position,e),{})),g(this,"addBlankLine",(e,t)=>{const r=Object.assign({},y,{title:e.name,bookId:t});this.addLines([r],t,!1,e)}),g(this,"addBeats",(e,t,r)=>{if(!e||0===e.length)return;const n=e.every(e=>"auto"==e.title);if(this.allBeats.length<2)this.allBeats=e.map(e=>{const n=this.nextBeatId;return++this.nextBeatId,{...e,id:n,bookId:t,fromTemplateId:r.id}});else if(n)this.allBeats.length<e.length&&e.slice(this.allBeats.length).forEach(e=>{const n=this.nextBeatId;++this.nextBeatId;const o=this.getLast(this.allBeats),i={...e,id:n,bookId:t,position:o.position+1,fromTemplateId:r.id};this.allBeats.push(i)});else if(this.allBeats.length<e.length)this.newBeatOffset=this.allBeats.length,e.forEach(e=>{const n=this.nextBeatId;++this.nextBeatId;const o=this.getLast(this.allBeats),i={...e,id:n,bookId:t,position:o.position+1,fromTemplateId:r.id};this.allBeats.push(i)});else{this.addBlankLine(r,t);let n=this.getLast(this.allLines);e.forEach(e=>{const o=this.nextCardId;++this.nextCardId;const i=Object.assign({},v,{id:o,bookId:t,lineId:n.id,beatId:this.allBeats[e.position].id,title:e.title,fromTemplateId:r.id});this.allCards.push(i)})}}),g(this,"addLines",(e,t,r,o)=>{e&&(e=(0,n.default)(e,"position")).forEach(e=>{const n=this.nextLineId;r&&(this.newLineMapping[e.id]=n);const i=this.getLast(this.allLines),a=i?i.position:0,s=b(this.allLines.length),l={...e,id:n,bookId:t,position:a+1+e.position,color:s,fromTemplateId:o.id};this.allLines.push(l),++this.nextLineId})}),g(this,"addCards",(e,t,r,n)=>{if(!e)return;const o=this.getPositionById(t);let i=!0,a=null;if(!Object.keys(this.newLineMapping).length){i=!1,this.addBlankLine(n,r);const e=this.getLast(this.allLines);e&&(a=e.id)}e.forEach(e=>{const t=this.nextCardId;a=i?this.newLineMapping[e.lineId]:a;const s=o[e.beatId],l=this.allBeats[s+this.newBeatOffset]||this.allBeats[this.allBeats.length-1],c=l?l.id:0,u={...e,id:t,bookId:r,beatId:c,lineId:a,fromTemplateId:n.id};this.allCards.push(u),++this.nextCardId})}),g(this,"handleChooseTemplate",e=>{const{ui:t,actions:r}=this.props;let n=t.currentTimeline;this.nextLineId=this.props.nextLineId,this.nextCardId=this.props.nextCardId,this.nextBeatId=this.props.nextBeatId,this.allBeats=this.props.beats,this.allLines=this.props.lines,this.allCards=this.props.cards;const o=p.helpers.books.isSeries(n)&&e.beats[n]?n:1,i=p.selectors.beatsByPosition(()=>!0)(e.beats[o]),a=e.lines.filter(e=>e.bookId===o);this.addBeats(i,n,e),this.addLines(a,n,!0,e),this.addCards(e.cards,i,n,e),r.addLinesFromTemplate(this.allCards,this.allLines,this.allBeats,e,n),this.setState({showTemplatePicker:!1})}),g(this,"simpleAddLine",e=>{const{ui:t,actions:r}=this.props;r.addLineWithTitle(e,t.currentTimeline),this.setState({askingForInput:!1,hovering:!1})})}renderInputModal(){return this.state.askingForInput?o.default.createElement(f.InputModal,{isOpen:!0,getValue:this.simpleAddLine,title:(0,u.t)("Plotline Title:"),type:"text",cancel:()=>this.setState({askingForInput:!1,hovering:!1})}):null}renderInsertButton(){const{hierarchyEnabled:e,isSmall:t,isMedium:r,ui:n,actions:i}=this.props;if(t)return o.default.createElement("th",{className:"row-header"},this.renderInputModal(),o.default.createElement("div",{className:"line-list__append-line",onClick:()=>this.setState({askingForInput:!0})},o.default.createElement("div",{className:"line-list__append-line-wrapper"},o.default.createElement(c.Glyphicon,{glyph:"plus"}))));const a=(0,d.default)("line-list__append-line",{"medium-timeline":r});return o.default.createElement("div",{className:a},this.state.hovering?o.default.createElement("div",{className:"line-list__append-line__double"},o.default.createElement("div",{onClick:()=>{e||this.setState({showTemplatePicker:!0,hovering:!1})},title:e?"Templates are disabled when Act Structure is on":null,className:(0,d.default)("template",{disabled:e})},(0,u.t)("Use Template")),o.default.createElement("div",{onClick:()=>i.addLine(n.currentTimeline),className:"non-template"},o.default.createElement(c.Glyphicon,{glyph:"plus"}))):o.default.createElement("div",{className:"line-list__append-line-wrapper"},o.default.createElement(c.Glyphicon,{glyph:"plus"})))}renderTemplatePicker(){return this.state.showTemplatePicker?o.default.createElement(f.TemplatePicker,{type:["plotlines"],modal:!0,isOpen:this.state.showTemplatePicker,close:()=>this.setState({showTemplatePicker:!1}),onChooseTemplate:this.handleChooseTemplate}):null}render(){const{isSmall:e,howManyCells:t}=this.props;if(e){const e=[o.default.createElement("td",{key:t+1})];for(let r=0;r<t;r++)e.push(o.default.createElement("td",{key:r}));return o.default.createElement("tr",null,this.renderInsertButton(),e)}return o.default.createElement(l.Row,null,o.default.createElement(l.Cell,{onMouseEnter:()=>this.setState({hovering:!0}),onMouseLeave:()=>this.setState({hovering:!1})},this.renderInsertButton(),this.renderTemplatePicker()))}shouldComponentUpdate(e,t){return this.state.showTemplatePicker!=t.showTemplatePicker||(this.state.hovering!=t.hovering||this.state.askingForInput!=t.askingForInput)}}g(w,"propTypes",{hierarchyEnabled:i.default.bool.isRequired,howManyCells:i.default.number,ui:i.default.object.isRequired,isSmall:i.default.bool,isMedium:i.default.bool,bookId:i.default.oneOfType([i.default.string,i.default.number]),beats:i.default.array,lines:i.default.array,cards:i.default.array,nextLineId:i.default.number,nextBeatId:i.default.number,nextCardId:i.default.number,actions:i.default.object});var E=(0,a.connect)((function(e){return{hierarchyEnabled:p.selectors.beatHierarchyIsOn(e.present),ui:e.present.ui,isSmall:p.selectors.isSmallSelector(e.present),isMedium:p.selectors.isMediumSelector(e.present),beats:p.selectors.sortedBeatsByBookSelector(e.present),lines:p.selectors.linesByBookSelector(e.present),cards:e.present.cards,nextLineId:p.selectors.nextLineIdSelector(e.present),nextBeatId:p.selectors.nextBeatIdSelector(e.present),nextCardId:p.selectors.nextCardIdSelector(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(p.actions.line,e)}}))(w);t.default=E},1214:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),i=(n=r(12))&&n.__esModule?n:{default:n},a=r(22),s=r(24),l=r(7),c=r(18),u=r(20),d=r(11);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{currentTimelineSelector:h}=d.selectors,m=d.actions.ui;class g extends o.Component{constructor(...e){super(...e),f(this,"state",{deleting:!1}),f(this,"clearTimeline",e=>{e.stopPropagation(),this.setState({deleting:!1}),this.props.actions.resetTimeline(this.props.bookId)})}renderDelete(){if(!this.state.deleting)return null;const e=(0,l.t)("Are you sure you want to clear everything in this timeline?");return o.default.createElement(u.DeleteConfirmModal,{onDelete:this.clearTimeline,onCancel:()=>this.setState({deleting:!1}),customText:e,notSubmit:!0})}render(){return o.default.createElement(c.NavItem,null,o.default.createElement(c.Button,{bsSize:"small",onClick:()=>this.setState({deleting:!0})},o.default.createElement(c.Glyphicon,{glyph:"refresh"})," ",(0,l.t)("Clear")),this.renderDelete())}}g.propTypes={bookId:i.default.oneOfType([i.default.number,i.default.string]).isRequired,actions:i.default.object};var b=(0,a.connect)((function(e){return{bookId:h(e.present)}}),(function(e){return{actions:(0,s.bindActionCreators)(m,e)}}))(g);t.default=b},1215:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=()=>{u.ipcRenderer.send("pls-open-dashboard")},t=()=>n.default.createElement(s.SubNav,null,n.default.createElement(l.Nav,{bsStyle:"pills"},n.default.createElement(l.NavItem,null,n.default.createElement(l.Button,{bsSize:"small",onClick:e},(0,a.t)("Open Dashboard"))),n.default.createElement(c.default,null)));return n.default.createElement(s.ErrorBoundary,null,n.default.createElement("div",{className:"series__container container-with-sub-nav"},n.default.createElement(t,null),n.default.createElement("div",{className:"tab-body"},n.default.createElement(o.default,null),n.default.createElement(i.default,null))))};var n=d(r(2)),o=d(r(1216)),i=d(r(1217)),a=r(7),s=r(20),l=r(18),c=d(r(1223)),u=r(17);function d(e){return e&&e.__esModule?e:{default:e}}},1216:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=u(r(12)),i=r(22),a=r(24),s=r(18),l=r(7),c=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=r(11).actions.series;class h extends n.Component{constructor(e){super(e),p(this,"state",{editing:!1}),p(this,"saveEdit",()=>{const e=this.state.name,t=this.state.premise,r=this.state.genre,n=this.state.theme;this.props.actions.editSeries({name:e,premise:t,genre:r,theme:n}),this.setState({editing:!1})}),p(this,"checkForEdits",(e,t)=>{const{series:r}=this.props;let n=["name","premise","genre","theme"].filter(e=>e!=t).some(e=>this.state[e]!=r[e]);r[t]!=e.target.value&&(n=!0),this.setState({editing:n,[t]:e.target.value})});const{series:t}=e;this.state={editing:!1,name:t.name,premise:t.premise,genre:t.genre,theme:t.theme}}componentWillUnmount(){this.state.editing&&this.saveEdit()}renderToolBar(){return n.default.createElement(s.ButtonToolbar,{className:(0,c.default)({invisible:!this.state.editing})},n.default.createElement(s.Button,{bsStyle:"success",onClick:this.saveEdit},(0,l.t)("Save")))}renderBody(){return n.default.createElement(s.Form,{horizontal:!0},n.default.createElement(s.FormGroup,null,n.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:1},(0,l.t)("Name")),n.default.createElement(s.Col,{sm:4},n.default.createElement(s.FormControl,{type:"text",value:this.state.name,onChange:e=>this.checkForEdits(e,"name")})),n.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:1},(0,l.t)("Premise")),n.default.createElement(s.Col,{sm:4},n.default.createElement(s.FormControl,{type:"text",value:this.state.premise,onChange:e=>this.checkForEdits(e,"premise")}))),n.default.createElement(s.FormGroup,null,n.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:1},(0,l.t)("Genre")),n.default.createElement(s.Col,{sm:4},n.default.createElement(s.FormControl,{type:"text",value:this.state.genre,onChange:e=>this.checkForEdits(e,"genre")})),n.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:1},(0,l.t)("Theme")),n.default.createElement(s.Col,{sm:4},n.default.createElement(s.FormControl,{type:"text",value:this.state.theme,onChange:e=>this.checkForEdits(e,"theme")}))))}render(){return n.default.createElement("div",{className:"edit-book__container"},n.default.createElement("h2",null,(0,l.t)("Series")),this.renderBody(),n.default.createElement(s.Row,null,n.default.createElement(s.Col,{sm:10},this.renderToolBar())))}}p(h,"propTypes",{ui:o.default.object.isRequired,series:o.default.object.isRequired,actions:o.default.object.isRequired});var m=(0,i.connect)((function(e){return{ui:e.present.ui,series:e.present.series}}),(function(e){return{actions:(0,a.bindActionCreators)(f,e)}}))(h);t.default=m},1217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(1218)),o=g(r(1219)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),a=g(r(12)),s=r(22),l=r(24),c=r(7),u=g(r(1221)),d=r(18),p=r(1443),f=g(r(5)),h=r(11);function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{objectId:v}=h.newIds;class y extends i.Component{constructor(e){super(e),b(this,"dragDropAreaRef",i.default.createRef()),b(this,"bookRef",i.default.createRef()),b(this,"addBook",()=>{const{actions:e,books:t,lineActions:r,beatActions:n}=this.props,o=v(t.allIds);this.setState({rows:[...this.state.rows.slice(0,this.state.rows.length-1),[...this.state.rows[this.state.rows.length-1],o]]}),e.addBook(),r.addLineWithTitle((0,c.t)("Main Plot"),o),n.addBeat(o)}),b(this,"reorder",(e,t,r)=>{const[n]=e.splice(t,1);return e.splice(r,0,n),e}),b(this,"onDragEnd",e=>{if(!e.destination)return;const{source:t,destination:r}=e,i=+t.droppableId,a=+r.droppableId,s=(0,n.default)(this.state.rows),l=i<a?-1:0,c=i*this.state.itemsPerRow,u=a*this.state.itemsPerRow,d=this.reorder(s,t.index+c,r.index+u+l);this.setState({rows:(0,o.default)(d,this.state.itemsPerRow)}),this.props.actions.reorderBooks(d)}),b(this,"updateLayout",()=>{let e;if(this.bookRef.current){const{width:t}=this.bookRef.current.getBoundingClientRect();e=t,this.setState({bookWidth:t})}if(this.dragDropAreaRef.current){const{width:t}=this.dragDropAreaRef.current.querySelector("#book-list").getBoundingClientRect(),r=window.getComputedStyle(this.dragDropAreaRef.current),n=parseInt(r.paddingLeft),i=parseInt(r.paddingRight),a=Math.floor((t-(n+i))/(e||this.state.bookWidth));this.setState({rows:(0,o.default)(this.props.books.allIds,a),itemsPerRow:a})}}),this.state={bookWidth:245,itemsPerRow:5,rows:[e.books.allIds]}}componentDidMount(){this.updateLayout(),window.addEventListener("resize",this.updateLayout)}componentWillUnmount(){window.removeEventListener("resize",this.updateLayout)}componentDidUpdate(e){e.books.allIds.length!=this.props.books.allIds.length&&this.updateLayout()}renderBooks(e){return e.map((e,t)=>i.default.createElement(p.Draggable,{key:e,draggableId:e.toString(),index:t},(r,n)=>i.default.createElement("div",Object.assign({ref:r.innerRef},r.draggableProps,r.dragHandleProps,{style:r.draggableProps.style,className:(0,f.default)("book-list__droppable",{dragging:n.isDragging})}),0===e?i.default.createElement(u.default,{bookId:e,bookNumber:t+1,ref:this.bookRef}):i.default.createElement(u.default,{bookId:e,bookNumber:t+1}))))}render(){return i.default.createElement("div",{className:"book-list__container",ref:this.dragDropAreaRef},i.default.createElement("h2",null,(0,c.t)("Books")+" ",i.default.createElement("span",{onClick:this.addBook},i.default.createElement(d.Glyphicon,{glyph:"plus"}))),i.default.createElement(p.DragDropContext,{onDragEnd:this.onDragEnd},this.state.rows.map((e,t)=>i.default.createElement(p.Droppable,{key:t,droppableId:""+t,direction:"horizontal"},(r,n)=>i.default.createElement("div",Object.assign({ref:r.innerRef,id:"book-list",className:(0,f.default)("book-list__list",{dragging:n.isDraggingOver})},r.droppableProps),this.renderBooks(e),t===this.state.rows.length-1?i.default.createElement(i.default.Fragment,null,r.placeholder,i.default.createElement(u.default,{addBook:this.addBook})):null)))))}}b(y,"propTypes",{ui:a.default.object.isRequired,books:a.default.object.isRequired,actions:a.default.object,lineActions:a.default.object,beatActions:a.default.object});var w=(0,s.connect)((function(e){return{ui:e.present.ui,books:e.present.books}}),(function(e){return{actions:(0,l.bindActionCreators)(h.actions.book,e),lineActions:(0,l.bindActionCreators)(h.actions.line,e),beatActions:(0,l.bindActionCreators)(h.actions.beat,e)}}))(y);t.default=w},1218:function(e,t,r){var n=r(210);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},1219:function(e,t,r){var n=r(1220),o=r(500),i=r(529),a=Math.ceil,s=Math.max;e.exports=function(e,t,r){t=(r?o(e,t,r):void 0===t)?1:s(i(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,u=0,d=Array(a(l/t));c<l;)d[u++]=n(e,c,c+=t);return d}},1220:function(e,t){e.exports=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}},1221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=f(r(12)),i=r(22),a=r(24),s=r(7),l=f(r(1222)),c=r(18),u=f(r(5)),d=r(20),p=r(11);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const g=p.actions.book,b=p.actions.ui,{canDeleteBookSelector:v}=p.selectors;class y extends n.Component{constructor(...e){super(...e),m(this,"state",{editing:!1,hovering:!1,deleting:!1}),m(this,"chooseImage",e=>{const t=-1==e?null:e;this.props.actions.editBook(this.props.book.id,{imageId:t})}),m(this,"deleteBook",e=>{e.stopPropagation(),this.props.actions.deleteBook(this.props.book.id)}),m(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),m(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0})}),m(this,"navigateToBook",()=>{this.props.uiActions.navigateToBookTimeline(this.props.book.id)})}renderDelete(){return this.state.deleting?n.default.createElement(d.DeleteConfirmModal,{name:this.props.book.title||(0,s.t)("Untitled"),onDelete:this.deleteBook,onCancel:this.cancelDelete}):null}renderHoverOptions(){return n.default.createElement("div",{className:(0,u.default)("hover-options",{hovering:this.state.hovering})},n.default.createElement(c.ButtonGroup,null,n.default.createElement(c.Button,{title:(0,s.t)("Edit"),onClick:()=>this.setState({editing:!0})},n.default.createElement(c.Glyphicon,{glyph:"edit"})),n.default.createElement(d.ImagePicker,{chooseImage:this.chooseImage,selectedId:this.props.book.imageId,iconOnly:!0,deleteButton:!0}),this.props.canDelete?n.default.createElement(c.Button,{bsStyle:"danger",onClick:this.handleDelete},n.default.createElement(c.Glyphicon,{glyph:"trash"})):null))}renderDialog(){if(!this.state.editing)return null;const{book:e,bookNumber:t}=this.props;return n.default.createElement(l.default,{bookId:e.id,bookNumber:t,modal:!0,cancel:()=>this.setState({editing:!1})})}renderImage(){const{book:e}=this.props;return e.imageId?n.default.createElement(d.Image,{responsive:!0,imageId:e.imageId}):null}renderTitle(){const{book:e}=this.props;return e.imageId?null:n.default.createElement("h6",null,e.title||(0,s.t)("Untitled"))}render(){const{book:e,ui:t}=this.props;return e?n.default.createElement("div",{className:(0,u.default)("book-container",{darkmode:t.darkMode}),onMouseEnter:()=>this.setState({hovering:!0}),onMouseLeave:()=>this.setState({hovering:!1})},this.renderHoverOptions(),this.renderDialog(),this.renderDelete(),n.default.createElement("div",{className:(0,u.default)("book",{hovering:this.state.hovering}),onClick:this.navigateToBook},n.default.createElement("div",{className:"front"},n.default.createElement("div",{className:"cover"},this.renderTitle(),n.default.createElement("div",{className:"book-container__cover-image-wrapper"},this.renderImage()))),n.default.createElement("div",{className:"left-side"},n.default.createElement("h2",null,n.default.createElement("span",null,e.title||(0,s.t)("Untitled")))))):n.default.createElement("div",{className:(0,u.default)("book-container","add",{darkmode:t.darkMode})},n.default.createElement("div",{className:"book add",onClick:this.props.addBook},n.default.createElement("div",{className:"front"},n.default.createElement("div",{className:"cover add"},n.default.createElement("div",{className:"book-container__add"},n.default.createElement("h1",null,n.default.createElement(c.Glyphicon,{glyph:"plus"}))))),n.default.createElement("div",{className:"left-side add"},n.default.createElement("h2",null,n.default.createElement("span",null,(0,s.t)("New Book"))))))}}m(y,"propTypes",{bookId:o.default.number,bookNumber:o.default.number,addBook:o.default.func,ui:o.default.object.isRequired,canDelete:o.default.bool,book:o.default.object,actions:o.default.object,uiActions:o.default.object});var w=(0,i.connect)((function(e,t){return{ui:e.present.ui,book:e.present.books[t.bookId],canDelete:v(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(g,e),uiActions:(0,a.bindActionCreators)(b,e)}}))(y);t.default=w},1222:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=u(r(12)),i=r(22),a=r(24),s=r(18),l=r(7),c=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=r(11).actions.book;class h extends n.Component{constructor(e){super(e),p(this,"saveEdit",()=>{const{book:e}=this.props;let t=this.titleRef.value,r=this.premiseRef.value,n=this.genreRef.value,o=this.themeRef.value;this.props.actions.editBook(e.id,{title:t,premise:r,genre:n,theme:o}),this.props.cancel()}),this.titleRef=null,this.premiseRef=null,this.genreRef=null,this.themeRef=null}renderToolBar(){return n.default.createElement(s.ButtonToolbar,null,n.default.createElement(s.Button,{bsStyle:"success",onClick:this.saveEdit},(0,l.t)("Save")),n.default.createElement(s.Button,{onClick:this.props.cancel},(0,l.t)("Cancel")))}renderBody(){const{book:e}=this.props;return n.default.createElement(s.Form,{horizontal:!0},n.default.createElement(s.FormGroup,null,n.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Book #")),n.default.createElement(s.Col,{sm:8},n.default.createElement("span",{className:"lead"},this.props.bookNumber))),n.default.createElement(s.FormGroup,null,n.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Title")),n.default.createElement(s.Col,{sm:8},n.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.titleRef=e},defaultValue:e.title}))),n.default.createElement(s.FormGroup,null,n.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Premise")),n.default.createElement(s.Col,{sm:8},n.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.premiseRef=e},defaultValue:e.premise}))),n.default.createElement(s.FormGroup,null,n.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Genre")),n.default.createElement(s.Col,{sm:8},n.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.genreRef=e},defaultValue:e.genre}))),n.default.createElement(s.FormGroup,null,n.default.createElement(s.Col,{componentClass:s.ControlLabel,sm:3},(0,l.t)("Theme")),n.default.createElement(s.Col,{sm:8},n.default.createElement(s.FormControl,{type:"text",inputRef:e=>{this.themeRef=e},defaultValue:e.theme}))))}render(){return n.default.createElement(s.Modal,{show:!0,onHide:this.props.cancel,dialogClassName:(0,c.default)("book-dialog",{darkmode:this.props.ui.darkMode})},n.default.createElement(s.Modal.Body,null,this.renderBody()),n.default.createElement(s.Modal.Footer,null,this.renderToolBar()))}}p(h,"propTypes",{bookId:o.default.number.isRequired,cancel:o.default.func.isRequired,ui:o.default.object.isRequired,book:o.default.object,bookNumber:o.default.number,actions:o.default.object.isRequired});var m=(0,i.connect)((function(e,t){return{ui:e.present.ui,book:e.present.books[t.bookId],bookNumber:e.present.books.allIds.indexOf(t.bookId)+1}}),(function(e){return{actions:(0,a.bindActionCreators)(f,e)}}))(h);t.default=m},1223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),i=(n=r(12))&&n.__esModule?n:{default:n},a=r(22),s=r(18),l=r(7),c=r(72),u=r(66),d=r(17);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=d.remote.getCurrentWindow();let m=(0,l.t)("Show in File Explorer");c.is.macos&&(m=(0,l.t)("Show in Finder"));class g extends o.Component{constructor(...e){super(...e),f(this,"chooseLocation",()=>{d.ipcRenderer.sendTo(h.webContents.id,"move-from-temp")})}render(){const{file:e}=this.props;let t=o.default.createElement(s.Button,{bsSize:"small",onClick:()=>d.shell.showItemInFolder(e.fileName)},m);return e.fileName.includes(u.TEMP_FILES_PATH)&&(t=o.default.createElement(s.Button,{bsSize:"small",onClick:this.chooseLocation,title:(0,l.t)("Choose where to save this file on your computer")},(0,l.t)("Save File"))),o.default.createElement(s.NavItem,null,t)}}f(g,"propTypes",{file:i.default.object.isRequired});var b=(0,a.connect)((function(e){return{file:e.present.file}}),(function(e){return{}}))(g);t.default=b},1224:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement(o.ErrorBoundary,null,n.default.createElement(i.default,null))};var n=a(r(2)),o=r(20),i=a(r(1225));function a(e){return e&&e.__esModule?e:{default:e}}},1225:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(113)),o=m(r(1226)),i=m(r(537)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),s=m(r(12)),l=r(22),c=r(18),u=m(r(1229)),d=m(r(1230));r(1242);var p=m(r(1244)),f=r(11);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{books:{isSeries:b}}=f.helpers,v=f.helpers.beats.nextId,{nextId:y,objectId:w}=f.newIds;class E extends a.Component{constructor(...e){super(...e),g(this,"state",{tab:"search",path:null,tree:null}),g(this,"handleClick",({key:e,value:t,path:r})=>{""!=r&&this.setState({path:r,tree:t})}),g(this,"searchCardsByLine",e=>{this.searchCards([["lineId",e.target.value]])}),g(this,"searchCardsByBeat",e=>{this.searchCards([["beatId",e.target.value]])}),g(this,"searchCards",e=>{const{pltr:t}=this.props,r=t.cards.filter(t=>e.some(e=>t[e[0]]==e[1]));this.setState({tree:r,path:"cards"})}),g(this,"searchLines",e=>{const{pltr:t}=this.props,r=t.lines.filter(t=>t.id==e.target.value);this.setState({tree:r,path:"lines"})}),g(this,"searchBeats",e=>{const{pltr:t}=this.props,r=t.beats.filter(t=>t.id==e.target.value);this.setState({tree:r,path:"beats"})}),g(this,"searchCardsById",e=>{const{pltr:t}=this.props,r=t.cards.filter(t=>t.id==e.target.value);this.setState({tree:r,path:"cards"})}),g(this,"searchAbandoned",()=>{const{pltr:e}=this.props,t=e.cards,r=e.lines.map(e=>e.id),n=f.selectors.sortedBeatsByBookSelector(e).map(e=>e.id),o=t.filter(e=>!r.includes(e.lineId)&&!n.includes(e.beatId));this.setState({tree:o,path:"cards"})}),g(this,"searchDuplicateBeats",()=>{const{pltr:e}=this.props,t=f.selectors.sortedBeatsByBookSelector(e).map(e=>e.id),r=(0,n.default)((0,o.default)((0,i.default)(t),e=>e.length>1)).map(Number);let a=[];r&&(a=(0,i.default)(e.beats.filter(e=>r.includes(e.id)),"id")),this.setState({tree:a,path:"beats"})}),g(this,"searchDuplicateLines",()=>{const{pltr:e}=this.props,t=e.lines.map(e=>e.id),r=(0,n.default)((0,o.default)((0,i.default)(t),e=>e.length>1)).map(Number);let a=[];r&&(a=(0,i.default)(e.lines.filter(e=>r.includes(e.id)),"id")),this.setState({tree:a,path:"lines"})}),g(this,"searchDuplicateCards",()=>{const{pltr:e}=this.props,t=e.cards.map(e=>e.id),r=(0,n.default)((0,o.default)((0,i.default)(t),e=>e.length>1)).map(Number);let a=[];r&&(a=(0,i.default)(e.cards.filter(e=>r.includes(e.id)),"id")),this.setState({tree:a,path:"cards"})}),g(this,"searchBeatsByPosition",e=>{const{pltr:t}=this.props,r=t.beats.filter(t=>t.position==e.target.value);this.setState({tree:r,path:"beats"})}),g(this,"moveBookToIdOne",()=>{const e=this.idToMove.value;if(e)if(b(e));else{const{pltr:t}=this.props,r=new RegExp(`bookId":s?${e},`,"g"),n=JSON.parse(JSON.stringify(t).replace(r,'bookId":1,'));n.books[1]=n.books[""+e],delete n.books[""+e],n.books[1].id=1,console.log(n.books,n.beats.filter(e=>"1"==e.bookId),n.lines.filter(e=>"1"==e.bookId))}})}renderDetails(){return this.state.tree?a.default.createElement("div",{className:"analyzer__details"},a.default.createElement(u.default,{src:this.state.tree,name:this.state.path,iconStyle:"circle"})):null}renderTree(){const{pltr:e}=this.props;return a.default.createElement("div",{className:"analyzer__tree"},a.default.createElement(d.default,{data:e,onClick:this.handleClick,searchOptions:{debounceTime:300}}))}renderTab(){const{pltr:e}=this.props;if("search"==this.state.tab)return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},this.renderTree()),a.default.createElement(c.Col,{sm:12,md:7},a.default.createElement("h3",null,this.state.path),this.renderDetails())));if("cards"==this.state.tab){const t=y(e.cards);return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{onChange:this.searchCardsById,placeholder:"Card Id"}),a.default.createElement("input",{onChange:this.searchCardsByLine,placeholder:"Line Id"}),a.default.createElement("input",{onChange:this.searchCardsByBeat,placeholder:"Beat Id"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchAbandoned},"Abandoned")),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchDuplicateCards},"Duplicates"))),this.renderDetails())))}if("lines"==this.state.tab){const t=y(e.lines);return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{onChange:this.searchLines,placeholder:"Line Id"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchDuplicateLines},"Duplicates"))),this.renderDetails())))}if("beats"==this.state.tab){const t=v(e.beats);return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{onChange:this.searchBeatsByPosition,placeholder:"Beat Position"}),a.default.createElement("input",{onChange:this.searchBeats,placeholder:"Beat Id"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.searchDuplicateBeats},"Duplicates"))),this.renderDetails())))}if("books"==this.state.tab){const t=w(e.books);return a.default.createElement(c.Grid,{fluid:!0},a.default.createElement(c.Row,null,a.default.createElement(c.Col,{sm:12,md:5},a.default.createElement("div",null,a.default.createElement("input",{ref:e=>this.idToMove=e,placeholder:"Id To Move"}),a.default.createElement("span",{className:"analyzer__sub-option"},"nextId: ",t),a.default.createElement("span",{className:"analyzer__sub-option"},a.default.createElement("a",{href:"#",onClick:this.moveBookToIdOne},"Move to Book 1"))),this.renderDetails())))}}render(){const{pltr:e}=this.props;return a.default.createElement("div",{className:"analyzer__container"},a.default.createElement("h3",null,e.file.version," ",a.default.createElement("small",null,e.file.fileName),a.default.createElement(p.default,null)),a.default.createElement("div",{className:"analyzer__tabs"},a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"search",tree:null,path:null})},"Search"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"cards",tree:null,path:null})},"Cards"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"lines",tree:null,path:null})},"Lines"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"beats",tree:null,path:null})},"Beats"),a.default.createElement("span",{className:"analyzer__tab",onClick:()=>this.setState({tab:"books",tree:null,path:null})},"Books")),this.renderTab(),a.default.createElement("div",null))}}g(E,"propTypes",{pltr:s.default.object});var _=(0,l.connect)((function(e){return{pltr:e.present}}),(function(e){return{}}))(E);t.default=_},1226:function(e,t,r){var n=r(158),o=r(219),i=r(1227),a=r(526);e.exports=function(e,t){if(null==e)return{};var r=n(a(e),(function(e){return[e]}));return t=o(t),i(e,r,(function(e,r){return t(e,r[0])}))}},1227:function(e,t,r){var n=r(211),o=r(1228),i=r(212);e.exports=function(e,t,r){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=n(e,c);r(u,c)&&o(l,i(c,e),u)}return l}},1228:function(e,t,r){var n=r(315),o=r(212),i=r(220),a=r(80),s=r(160);e.exports=function(e,t,r,l){if(!a(e))return e;for(var c=-1,u=(t=o(t,e)).length,d=u-1,p=e;null!=p&&++c<u;){var f=s(t[c]),h=r;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(c!=d){var m=p[f];void 0===(h=l?l(m,f,p):void 0)&&(h=a(m)?m:i(t[c+1])?[]:{})}n(p,f,h),p=p[f]}return e}},1229:function(e,t,r){var n;e.exports=(n=r(2),function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=48)}([function(e,t){e.exports=n},function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(26)("wks"),o=r(17),i=r(3).Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){e.exports=!r(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(7),o=r(16);e.exports=r(4)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(10),o=r(35),i=r(23),a=Object.defineProperty;t.f=r(4)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(40),o=r(22);e.exports=function(e){return n(o(e))}},function(e,t,r){var n=r(11);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,r){var n=r(39),o=r(27);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t){e.exports=!0},function(e,t,r){var n=r(3),o=r(1),i=r(53),a=r(6),s=r(5),l=function(e,t,r){var c,u,d,p=e&l.F,f=e&l.G,h=e&l.S,m=e&l.P,g=e&l.B,b=e&l.W,v=f?o:o[t]||(o[t]={}),y=v.prototype,w=f?n:h?n[t]:(n[t]||{}).prototype;for(c in f&&(r=t),r)(u=!p&&w&&void 0!==w[c])&&s(v,c)||(d=u?w[c]:r[c],v[c]=f&&"function"!=typeof w[c]?r[c]:g&&u?i(d,n):b&&w[c]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((v.virtual||(v.virtual={}))[c]=d,e&l.R&&y&&!y[c]&&a(y,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(22);e.exports=function(e){return Object(n(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var n=r(52)(!0);r(34)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(11);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(26)("keys"),o=r(17);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(1),o=r(3),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(14)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(7).f,o=r(5),i=r(2)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){r(62);for(var n=r(3),o=r(6),i=r(12),a=r(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=n[c],d=u&&u.prototype;d&&!d[a]&&o(d,a,c),i[c]=i.Array}},function(e,t,r){t.f=r(2)},function(e,t,r){var n=r(3),o=r(1),i=r(14),a=r(30),s=r(7).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t,r){return Math.min(Math.max(e,t),r)}},function(e,t,r){"use strict";var n=r(14),o=r(15),i=r(37),a=r(6),s=r(12),l=r(55),c=r(28),u=r(61),d=r(2)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,h,m,g,b){l(r,t,h);var v,y,w,E=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},_=t+" Iterator",x="values"==m,O=!1,S=e.prototype,C=S[d]||S["@@iterator"]||m&&S[m],T=C||E(m),k=m?x?E("entries"):T:void 0,P="Array"==t&&S.entries||C;if(P&&(w=u(P.call(new e)))!==Object.prototype&&w.next&&(c(w,_,!0),n||"function"==typeof w[d]||a(w,d,f)),x&&C&&"values"!==C.name&&(O=!0,T=function(){return C.call(this)}),n&&!b||!p&&!O&&S[d]||a(S,d,T),s[t]=T,s[_]=f,m)if(v={values:x?T:E("values"),keys:g?T:E("keys"),entries:k},b)for(y in v)y in S||i(S,y,v[y]);else o(o.P+o.F*(p||O),t,v);return v}},function(e,t,r){e.exports=!r(4)&&!r(8)((function(){return 7!=Object.defineProperty(r(36)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(11),o=r(3).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){e.exports=r(6)},function(e,t,r){var n=r(10),o=r(56),i=r(27),a=r(25)("IE_PROTO"),s=function(){},l=function(){var e,t=r(36)("iframe"),n=i.length;for(t.style.display="none",r(60).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=l(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(5),o=r(9),i=r(57)(!1),a=r(25)("IE_PROTO");e.exports=function(e,t){var r,s=o(e),l=0,c=[];for(r in s)r!=a&&n(s,r)&&c.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){var n=r(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(39),o=r(27).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(24),o=r(2)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var n=f(r(49)),o=f(r(76)),i=f(r(81)),a=f(r(89)),s=f(r(93)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(94)),c=f(r(132)),u=f(r(133)),d=f(r(138)),p=r(139);function f(e){return e&&e.__esModule?e:{default:e}}var h=l.default,m=(0,a.default)(h),g=(0,d.default)(u.default,p.rgb2yuv,(function(e){var t,r=(0,i.default)(e,3);return[(t=r[0],t<.25?1:t<.5?.9-t:1.1-t),r[1],r[2]]}),p.yuv2rgb,c.default),b=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,o.default)({},t.style||{},e.style||{})}}},v=function(e,t){var r=(0,a.default)(t);for(var i in e)-1===r.indexOf(i)&&r.push(i);return r.reduce((function(r,i){return r[i]=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var r=void 0===e?"undefined":(0,n.default)(e),i=void 0===t?"undefined":(0,n.default)(t);switch(r){case"string":switch(i){case"string":return[t,e].filter(Boolean).join(" ");case"object":return b({className:e,style:t});case"function":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return b({className:e})(t.apply(void 0,[r].concat(o)))}}case"object":switch(i){case"string":return b({className:t,style:e});case"object":return(0,o.default)({},t,e);case"function":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return b({style:e})(t.apply(void 0,[r].concat(o)))}}case"function":switch(i){case"string":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.apply(void 0,[b(r)({className:t})].concat(o))};case"object":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.apply(void 0,[b(r)({style:t})].concat(o))};case"function":return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.apply(void 0,[t.apply(void 0,[r].concat(o))].concat(o))}}}}(e[i],t[i]),r}),{})},y=function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(null===t)return e;Array.isArray(t)||(t=[t]);var l=t.map((function(t){return e[t]})).filter(Boolean),c=l.reduce((function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,n.default)(t))?e.style=(0,o.default)({},e.style,t):"function"==typeof t&&(e=(0,o.default)({},e,t.apply(void 0,[e].concat(i)))),e}),{className:"",style:{}});return c.className||delete c.className,0===(0,a.default)(c.style).length&&delete c.style,c},w=t.invertTheme=function(e){return(0,a.default)(e).reduce((function(t,r){return t[r]=/^base/.test(r)?g(e[r]):"scheme"===r?e[r]+":inverted":e[r],t}),{})},E=(t.createStyling=(0,s.default)((function(e){for(var t=arguments.length,r=Array(t>3?t-3:0),n=3;n<t;n++)r[n-3]=arguments[n];var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=i.defaultBase16,u=void 0===c?h:c,d=i.base16Themes,p=void 0===d?null:d,f=E(l,p);f&&(l=(0,o.default)({},f,l));var g=m.reduce((function(e,t){return e[t]=l[t]||u[t],e}),{}),b=(0,a.default)(l).reduce((function(e,t){return-1===m.indexOf(t)?(e[t]=l[t],e):e}),{}),w=e(g),_=v(b,w);return(0,s.default)(y,2).apply(void 0,[_].concat(r))}),3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var r=e.split(":"),n=(0,i.default)(r,2),o=n[0],a=n[1];e=(t||{})[o]||l[o],"inverted"===a&&(e=w(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function o(){void 0!==i&&e.removeListener("error",i),r([].slice.call(arguments))}var i;"error"!==t&&(i=function(r){e.removeListener(t,o),n(r)},e.once("error",i)),e.once(t,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var o,i,a,s;if(c(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=p.bind(n);return o.listener=r,n.wrapFn=o,o}function h(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):g(o,o.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=g(l,c);for(r=0;r<c;++r)i(u[r],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,o,i,a;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){e.exports.Dispatcher=r(140)},function(e,t,r){e.exports=r(142)},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(50)),o=a(r(65)),i="function"==typeof o.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,r){e.exports={default:r(51),__esModule:!0}},function(e,t,r){r(20),r(29),e.exports=r(30).f("iterator")},function(e,t,r){var n=r(21),o=r(22);e.exports=function(e){return function(t,r){var i,a,s=String(o(t)),l=n(r),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,r){var n=r(54);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";var n=r(38),o=r(16),i=r(28),a={};r(6)(a,r(2)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(7),o=r(10),i=r(13);e.exports=r(4)?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,l=0;s>l;)n.f(e,r=a[l++],t[r]);return e}},function(e,t,r){var n=r(9),o=r(58),i=r(59);e.exports=function(e){return function(t,r,a){var s,l=n(t),c=o(l.length),u=i(a,c);if(e&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var n=r(21),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){var n=r(21),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},function(e,t,r){var n=r(3).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(5),o=r(18),i=r(25)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){"use strict";var n=r(63),o=r(64),i=r(12),a=r(9);e.exports=r(34)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){e.exports={default:r(66),__esModule:!0}},function(e,t,r){r(67),r(73),r(74),r(75),e.exports=r(1).Symbol},function(e,t,r){"use strict";var n=r(3),o=r(5),i=r(4),a=r(15),s=r(37),l=r(68).KEY,c=r(8),u=r(26),d=r(28),p=r(17),f=r(2),h=r(30),m=r(31),g=r(69),b=r(70),v=r(10),y=r(11),w=r(18),E=r(9),_=r(23),x=r(16),O=r(38),S=r(71),C=r(72),T=r(32),k=r(7),P=r(13),A=C.f,I=k.f,j=S.f,R=n.Symbol,D=n.JSON,N=D&&D.stringify,M=f("_hidden"),B=f("toPrimitive"),L={}.propertyIsEnumerable,F=u("symbol-registry"),U=u("symbols"),z=u("op-symbols"),H=Object.prototype,W="function"==typeof R&&!!T.f,G=n.QObject,q=!G||!G.prototype||!G.prototype.findChild,X=i&&c((function(){return 7!=O(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=A(H,t);n&&delete H[t],I(e,t,r),n&&e!==H&&I(H,t,n)}:I,V=function(e){var t=U[e]=O(R.prototype);return t._k=e,t},K=W&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Y=function(e,t,r){return e===H&&Y(z,t,r),v(e),t=_(t,!0),v(r),o(U,t)?(r.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),r=O(r,{enumerable:x(0,!1)})):(o(e,M)||I(e,M,x(1,{})),e[M][t]=!0),X(e,t,r)):I(e,t,r)},$=function(e,t){v(e);for(var r,n=g(t=E(t)),o=0,i=n.length;i>o;)Y(e,r=n[o++],t[r]);return e},Z=function(e){var t=L.call(this,e=_(e,!0));return!(this===H&&o(U,e)&&!o(z,e))&&(!(t||!o(this,e)||!o(U,e)||o(this,M)&&this[M][e])||t)},J=function(e,t){if(e=E(e),t=_(t,!0),e!==H||!o(U,t)||o(z,t)){var r=A(e,t);return!r||!o(U,t)||o(e,M)&&e[M][t]||(r.enumerable=!0),r}},Q=function(e){for(var t,r=j(E(e)),n=[],i=0;r.length>i;)o(U,t=r[i++])||t==M||t==l||n.push(t);return n},ee=function(e){for(var t,r=e===H,n=j(r?z:E(e)),i=[],a=0;n.length>a;)!o(U,t=n[a++])||r&&!o(H,t)||i.push(U[t]);return i};W||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===H&&t.call(z,r),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),X(this,e,x(1,r))};return i&&q&&X(H,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",(function(){return this._k})),C.f=J,k.f=Y,r(41).f=S.f=Q,r(19).f=Z,T.f=ee,i&&!r(14)&&s(H,"propertyIsEnumerable",Z,!0),h.f=function(e){return V(f(e))}),a(a.G+a.W+a.F*!W,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)f(te[re++]);for(var ne=P(f.store),oe=0;ne.length>oe;)m(ne[oe++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=R(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!W,"Object",{create:function(e,t){return void 0===t?O(e):$(O(e),t)},defineProperty:Y,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ie=c((function(){T.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return T.f(w(e))}}),D&&a(a.S+a.F*(!W||c((function(){var e=R();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(y(t)||void 0!==e)&&!K(e))return b(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,N.apply(D,n)}}),R.prototype[B]||r(6)(R.prototype,B,R.prototype.valueOf),d(R,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,r){var n=r(17)("meta"),o=r(11),i=r(5),a=r(7).f,s=0,l=Object.isExtensible||function(){return!0},c=!r(8)((function(){return l(Object.preventExtensions({}))})),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!i(e,n)&&u(e),e}}},function(e,t,r){var n=r(13),o=r(32),i=r(19);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),l=i.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,r){var n=r(24);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(9),o=r(41).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},function(e,t,r){var n=r(19),o=r(16),i=r(9),a=r(23),s=r(5),l=r(35),c=Object.getOwnPropertyDescriptor;t.f=r(4)?c:function(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,r){r(31)("asyncIterator")},function(e,t,r){r(31)("observable")},function(e,t,r){"use strict";t.__esModule=!0;var n,o=(n=r(77))&&n.__esModule?n:{default:n};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){e.exports={default:r(78),__esModule:!0}},function(e,t,r){r(79),e.exports=r(1).Object.assign},function(e,t,r){var n=r(15);n(n.S+n.F,"Object",{assign:r(80)})},function(e,t,r){"use strict";var n=r(4),o=r(13),i=r(32),a=r(19),s=r(18),l=r(40),c=Object.assign;e.exports=!c||r(8)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||Object.keys(c({},t)).join("")!=n}))?function(e,t){for(var r=s(e),c=arguments.length,u=1,d=i.f,p=a.f;c>u;)for(var f,h=l(arguments[u++]),m=d?o(h).concat(d(h)):o(h),g=m.length,b=0;g>b;)f=m[b++],n&&!p.call(h,f)||(r[f]=h[f]);return r}:c},function(e,t,r){"use strict";t.__esModule=!0;var n=i(r(82)),o=i(r(85));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(e);!(n=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){e.exports={default:r(83),__esModule:!0}},function(e,t,r){r(29),r(20),e.exports=r(84)},function(e,t,r){var n=r(42),o=r(2)("iterator"),i=r(12);e.exports=r(1).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){e.exports={default:r(86),__esModule:!0}},function(e,t,r){r(29),r(20),e.exports=r(87)},function(e,t,r){var n=r(10),o=r(88);e.exports=r(1).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){var n=r(42),o=r(2)("iterator"),i=r(12);e.exports=r(1).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){e.exports={default:r(90),__esModule:!0}},function(e,t,r){r(91),e.exports=r(1).Object.keys},function(e,t,r){var n=r(18),o=r(13);r(92)("keys",(function(){return function(e){return o(n(e))}}))},function(e,t,r){var n=r(15),o=r(1),i=r(8);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i((function(){r(1)})),"Object",a)}},function(e,t,r){(function(t){var r=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],n=/^\s+|\s+$/g,o=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,i=/\{\n\/\* \[wrapped with (.+)\] \*/,a=/,? & /,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^\[object .+?Constructor\]$/,u=/^0o[0-7]+$/i,d=/^(?:0|[1-9]\d*)$/,p=parseInt,f="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,m=f||h||Function("return this")();function g(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function b(e){return e!=e}function v(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}function y(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r];a!==t&&"__lodash_placeholder__"!==a||(e[r]="__lodash_placeholder__",i[o++]=r)}return i}var w,E,_,x=Function.prototype,O=Object.prototype,S=m["__core-js_shared__"],C=(w=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",T=x.toString,k=O.hasOwnProperty,P=O.toString,A=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=Object.create,j=Math.max,R=Math.min,D=(E=H(Object,"defineProperty"),(_=H.name)&&_.length>2?E:void 0);function N(e){return $(e)?I(e):{}}function M(e,t,r,n){for(var o=-1,i=e.length,a=r.length,s=-1,l=t.length,c=j(i-a,0),u=Array(l+c),d=!n;++s<l;)u[s]=t[s];for(;++o<a;)(d||o<i)&&(u[r[o]]=e[o]);for(;c--;)u[s++]=e[o++];return u}function B(e,t,r,n){for(var o=-1,i=e.length,a=-1,s=r.length,l=-1,c=t.length,u=j(i-s,0),d=Array(u+c),p=!n;++o<u;)d[o]=e[o];for(var f=o;++l<c;)d[f+l]=t[l];for(;++a<s;)(p||o<i)&&(d[f+r[a]]=e[o++]);return d}function L(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=N(e.prototype),n=e.apply(r,t);return $(n)?n:r}}function F(e,t,r,n,o,i,a,s,l,c){var u=128&t,d=1&t,p=2&t,f=24&t,h=512&t,g=p?void 0:L(e);return function b(){for(var w=arguments.length,E=Array(w),_=w;_--;)E[_]=arguments[_];if(f)var x=z(b),O=v(E,x);if(n&&(E=M(E,n,o,f)),i&&(E=B(E,i,a,f)),w-=O,f&&w<c){var S=y(E,x);return U(e,t,F,b.placeholder,r,E,S,s,l,c-w)}var C=d?r:this,T=p?C[e]:e;return w=E.length,s?E=X(E,s):h&&w>1&&E.reverse(),u&&l<w&&(E.length=l),this&&this!==m&&this instanceof b&&(T=g||L(T)),T.apply(C,E)}}function U(e,t,r,n,o,i,a,s,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=r(e,t,o,u?i:void 0,u?a:void 0,u?void 0:i,u?void 0:a,s,l,c);return d.placeholder=n,V(d,e,t)}function z(e){return e.placeholder}function H(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!$(e)||function(e){return!!C&&C in e}(e))&&(function(e){var t=$(e)?P.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?A:c).test(function(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function W(e){var t=e.match(i);return t?t[1].split(a):[]}function G(e,t){var r=t.length,n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(o,"{\n/* [wrapped with "+t+"] */\n")}function q(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}function X(e,t){for(var r=e.length,n=R(t.length,r),o=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e);n--;){var i=t[n];e[n]=q(i,r)?o[i]:void 0}return e}var V=D?function(e,t,r){var n,o=t+"";return D(e,"toString",{configurable:!0,enumerable:!1,value:(n=G(o,K(W(o),r)),function(){return n})})}:function(e){return e};function K(e,t){return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r]););}(r,(function(r){var n="_."+r[0];t&r[1]&&!function(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=-1;++i<o;)if(t(e[i],i,e))return i;return-1}(e,b);for(var n=-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t)>-1}(e,n)&&e.push(n)})),e.sort()}function Y(e,t,r){var n=function(e,t,r,n,o,i,a,s){var l=2&t;if(!l&&"function"!=typeof e)throw new TypeError("Expected a function");var c=n?n.length:0;if(c||(t&=-97,n=o=void 0),a=void 0===a?a:j(Z(a),0),s=void 0===s?s:Z(s),c-=o?o.length:0,64&t){var u=n,d=o;n=o=void 0}var p=[e,t,r,n,o,u,d,i,a,s];if(e=p[0],t=p[1],r=p[2],n=p[3],o=p[4],!(s=p[9]=null==p[9]?l?0:e.length:j(p[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?function(e,t,r){var n=L(e);return function o(){for(var i=arguments.length,a=Array(i),s=i,l=z(o);s--;)a[s]=arguments[s];var c=i<3&&a[0]!==l&&a[i-1]!==l?[]:y(a,l);if((i-=c.length)<r)return U(e,t,F,o.placeholder,void 0,a,c,void 0,void 0,r-i);var u=this&&this!==m&&this instanceof o?n:e;return g(u,this,a)}}(e,t,s):32!=t&&33!=t||o.length?F.apply(void 0,p):function(e,t,r,n){var o=1&t,i=L(e);return function t(){for(var a=-1,s=arguments.length,l=-1,c=n.length,u=Array(c+s),d=this&&this!==m&&this instanceof t?i:e;++l<c;)u[l]=n[l];for(;s--;)u[l++]=arguments[++a];return g(d,o?r:this,u)}}(e,t,r,n);else var f=function(e,t,r){var n=1&t,o=L(e);return function t(){var i=this&&this!==m&&this instanceof t?o:e;return i.apply(n?r:this,arguments)}}(e,t,r);return V(f,e,t)}(e,8,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return n.placeholder=Y.placeholder,n}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Z(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==P.call(e)}(e))return NaN;if($(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var r=l.test(e);return r||u.test(e)?p(e.slice(2),r?2:8):s.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}Y.placeholder={},e.exports=Y}).call(this,r(43))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=r(95);t.threezerotwofour=n(o);var i=r(96);t.apathy=n(i);var a=r(97);t.ashes=n(a);var s=r(98);t.atelierDune=n(s);var l=r(99);t.atelierForest=n(l);var c=r(100);t.atelierHeath=n(c);var u=r(101);t.atelierLakeside=n(u);var d=r(102);t.atelierSeaside=n(d);var p=r(103);t.bespin=n(p);var f=r(104);t.brewer=n(f);var h=r(105);t.bright=n(h);var m=r(106);t.chalk=n(m);var g=r(107);t.codeschool=n(g);var b=r(108);t.colors=n(b);var v=r(109);t.default=n(v);var y=r(110);t.eighties=n(y);var w=r(111);t.embers=n(w);var E=r(112);t.flat=n(E);var _=r(113);t.google=n(_);var x=r(114);t.grayscale=n(x);var O=r(115);t.greenscreen=n(O);var S=r(116);t.harmonic=n(S);var C=r(117);t.hopscotch=n(C);var T=r(118);t.isotope=n(T);var k=r(119);t.marrakesh=n(k);var P=r(120);t.mocha=n(P);var A=r(121);t.monokai=n(A);var I=r(122);t.ocean=n(I);var j=r(123);t.paraiso=n(j);var R=r(124);t.pop=n(R);var D=r(125);t.railscasts=n(D);var N=r(126);t.shapeshifter=n(N);var M=r(127);t.solarized=n(M);var B=r(128);t.summerfruit=n(B);var L=r(129);t.tomorrow=n(L);var F=r(130);t.tube=n(F);var U=r(131);t.twilight=n(U)},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timothée poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},function(e,t,r){var n=r(33);function o(e){var t=Math.round(n(e,0,255)).toString(16);return 1==t.length?"0"+t:t}e.exports=function(e){var t=4===e.length?o(255*e[3]):"";return"#"+o(e[0])+o(e[1])+o(e[2])+t}},function(e,t,r){var n=r(134),o=r(135),i=r(136),a=r(137),s={"#":o,hsl:function(e){var t=n(e),r=a(t);return 4===t.length&&r.push(t[3]),r},rgb:i};function l(e){for(var t in s)if(0===e.indexOf(t))return s[t](e)}l.rgb=i,l.hsl=n,l.hex=o,e.exports=l},function(e,t,r){var n=r(44),o=r(33);function i(e,t){switch(e=parseFloat(e),t){case 0:return o(e,0,360);case 1:case 2:return o(e,0,100);case 3:return o(e,0,1)}}e.exports=function(e){return n(e).map(i)}},function(e,t){e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",r=1;r<e.length;r++){var n=e.charAt(r);t+=n+n}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var r=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(r)}return t}},function(e,t,r){var n=r(44),o=r(33);function i(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*o(parseInt(e,10),0,100)/100):o(parseInt(e,10),0,255):o(parseFloat(e),0,1)}e.exports=function(e){return n(e).map(i)}},function(e,t){e.exports=function(e){var t,r,n,o,i,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[i=255*l,i,i];t=2*l-(r=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var c=0;c<3;c++)(n=a+1/3*-(c-1))<0&&n++,n>1&&n--,i=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,o[c]=255*i;return o}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t,n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")();function i(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function a(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var s=Object.prototype,l=s.hasOwnProperty,c=s.toString,u=o.Symbol,d=s.propertyIsEnumerable,p=u?u.isConcatSpreadable:void 0,f=Math.max;function h(e){return b(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?c.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&l.call(e,"callee")&&(!d.call(e,"callee")||"[object Arguments]"==c.call(e))}(e)||!!(p&&e&&e[p])}var m,g,b=Array.isArray,v=(m=function(e){for(var t=(e=function e(t,r,n,o,i){var s=-1,l=t.length;for(n||(n=h),i||(i=[]);++s<l;){var c=t[s];r>0&&n(c)?r>1?e(c,r-1,n,o,i):a(i,c):o||(i[i.length]=c)}return i}(e,1)).length,r=t;r--;)if("function"!=typeof e[r])throw new TypeError("Expected a function");return function(){for(var r=0,n=t?e[r].apply(this,arguments):arguments[0];++r<t;)n=e[r].call(this,n);return n}},g=f(void 0===g?m.length-1:g,0),function(){for(var e=arguments,t=-1,r=f(e.length-g,0),n=Array(r);++t<r;)n[t]=e[g+t];t=-1;for(var o=Array(g+1);++t<g;)o[t]=e[t];return o[g]=n,i(m,this,o)});e.exports=v}).call(this,r(43))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=function(e){var t,r,n,o=e[0],i=e[1],a=e[2];return t=1*o+0*i+1.13983*a,r=1*o+-.39465*i+-.5806*a,n=1*o+2.02311*i+0*a,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},t.rgb2yuv=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[.299*t+.587*r+.114*n,-.14713*t+-.28886*r+.436*n,.615*t+-.51499*r+-.10001*n]}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(141),i=function(){function e(){n(this,"_callbacks",void 0),n(this,"_isDispatching",void 0),n(this,"_isHandled",void 0),n(this,"_isPending",void 0),n(this,"_lastID",void 0),n(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var t=e.prototype;return t.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},t.unregister=function(e){this._callbacks[e]||o(!1),delete this._callbacks[e]},t.waitFor=function(e){this._isDispatching||o(!1);for(var t=0;t<e.length;t++){var r=e[t];this._isPending[r]?this._isHandled[r]||o(!1):(this._callbacks[r]||o(!1),this._invokeCallback(r))}},t.dispatch=function(e){this._isDispatching&&o(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},t.isDispatching=function(){return this._isDispatching},t._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},t._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},t._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=i},function(e,t,r){"use strict";e.exports=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(i=new Error(t.replace(/%s/g,(function(){return String(n[a++])})))).name="Invariant Violation"}throw i.framesToPop=1,i}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?f(e):t}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}r.r(t);var g=r(0),b=r.n(g);function v(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function y(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function w(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function E(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,n=null,o=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=v,t.componentWillReceiveProps=y),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=w;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;s.call(this,e,t,n)}}return e}function _(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function x(e){var t=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),t}v.__suppressDeprecationWarning=!0,y.__suppressDeprecationWarning=!0,w.__suppressDeprecationWarning=!0;var O={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},S={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},C={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},T=r(45),k=function(e){var t=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base02,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}}(e);return{"app-container":{fontFamily:C.globalFontFamily,cursor:C.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:C.ellipsisFontSize,lineHeight:C.ellipsisLineHeight,cursor:C.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:C.braceCursor,fontWeight:C.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:C.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,r){return{style:i({paddingTop:C.keyValPaddingTop,paddingRight:C.keyValPaddingRight,paddingBottom:C.keyValPaddingBottom,borderLeft:C.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:r.paddingLeft-1+"px",borderLeft:C.keyValBorderHover+" "+t.objectBorder}},r)}},"object-key-val-no-border":{padding:C.keyValPadding},"pushed-content":{marginLeft:C.pushedContentMarginLeft},variableValue:function(e,t){return{style:i({display:"inline-block",paddingRight:C.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:C.keyLetterSpacing,fontStyle:C.keyFontStyle,verticalAlign:C.keyVerticalAlign,opacity:C.keyOpacity,":hover":{opacity:C.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:C.keyLetterSpacing,fontStyle:C.keyFontStyle,verticalAlign:C.keyVerticalAlign,opacity:C.keyOpacity,":hover":{opacity:C.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:C.objectSizeBorderRadius,fontStyle:C.objectSizeFontStyle,margin:C.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:C.dataTypeFontSize,marginRight:C.dataTypeMarginRight,opacity:C.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:C.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontSize:C.nanFontSize,fontWeight:C.nanFontWeight,backgroundColor:t.dataTypes.background,padding:C.nanPadding,borderRadius:C.nanBorderRadius},null:{display:"inline-block",color:t.dataTypes.null,fontSize:C.nullFontSize,fontWeight:C.nullFontWeight,backgroundColor:t.dataTypes.background,padding:C.nullPadding,borderRadius:C.nullBorderRadius},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:C.undefinedFontSize,padding:C.undefinedPadding,borderRadius:C.undefinedBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:C.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:C.iconFontSize,marginRight:C.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:C.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:C.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:C.metaDataPadding},"icon-container":{display:"inline-block",width:C.iconContainerWidth},tooltip:{padding:C.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:C.iconCursor,fontSize:C.iconFontSize,marginRight:C.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:C.iconCursor,fontSize:C.iconFontSize,marginRight:C.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:C.iconCursor,fontSize:C.iconFontSize,marginRight:C.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:C.iconCursor,color:t.editVariable.checkIcon,fontSize:C.iconFontSize,paddingRight:C.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:C.iconCursor,color:t.editVariable.cancelIcon,fontSize:C.iconFontSize,paddingRight:C.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:C.editInputMinWidth,borderRadius:C.editInputBorderRadius,backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:C.editInputPadding,marginRight:C.editInputMarginRight,fontFamily:C.editInputFontFamily},"detected-row":{paddingTop:C.detectedRowPaddingTop},"key-modal-request":{position:C.addKeyCoverPosition,top:C.addKeyCoverPositionPx,left:C.addKeyCoverPositionPx,right:C.addKeyCoverPositionPx,bottom:C.addKeyCoverPositionPx,backgroundColor:C.addKeyCoverBackground},"key-modal":{width:C.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:C.addKeyModalMargin,marginRight:C.addKeyModalMargin,padding:C.addKeyModalPadding,borderRadius:C.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:C.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:C.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:C.ellipsisFontSize,lineHeight:C.ellipsisLineHeight,cursor:C.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:C.iconFontSize,transform:"rotate(45deg)"}}};function P(e,t,r){return e||console.error("theme has not been set"),function(e){var t=O;return!1!==e&&"none"!==e||(t=S),Object(T.createStyling)(k,{defaultBase16:t})(e)}(e)(t,r)}var A=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=(e.rjvId,e.type_name),r=e.displayDataTypes,n=e.theme;return r?b.a.createElement("span",Object.assign({className:"data-type-label"},P(n,"data-type-label")),t):null}}]),r}(b.a.PureComponent),I=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props;return b.a.createElement("div",P(e.theme,"boolean"),b.a.createElement(A,Object.assign({type_name:"bool"},e)),e.value?"true":"false")}}]),r}(b.a.PureComponent),j=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props;return b.a.createElement("div",P(e.theme,"date"),b.a.createElement(A,Object.assign({type_name:"date"},e)),b.a.createElement("span",Object.assign({className:"date-value"},P(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),r}(b.a.PureComponent),R=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props;return b.a.createElement("div",P(e.theme,"float"),b.a.createElement(A,Object.assign({type_name:"float"},e)),this.props.value)}}]),r}(b.a.PureComponent);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}function M(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=N(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function B(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=r(46),F=new(r(47).Dispatcher),U=new(function(e){u(r,e);var t=m(r);function r(){var e;a(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).objects={},e.set=function(t,r,n,o){void 0===e.objects[t]&&(e.objects[t]={}),void 0===e.objects[t][r]&&(e.objects[t][r]={}),e.objects[t][r][n]=o},e.get=function(t,r,n,o){return void 0===e.objects[t]||void 0===e.objects[t][r]||null==e.objects[t][r][n]?o:e.objects[t][r][n]},e.handleAction=function(t){var r=t.rjvId,n=t.data;switch(t.name){case"RESET":e.emit("reset-"+r);break;case"VARIABLE_UPDATED":t.data.updated_src=e.updateSrc(r,n),e.set(r,"action","variable-update",i(i({},n),{},{type:"variable-edited"})),e.emit("variable-update-"+r);break;case"VARIABLE_REMOVED":t.data.updated_src=e.updateSrc(r,n),e.set(r,"action","variable-update",i(i({},n),{},{type:"variable-removed"})),e.emit("variable-update-"+r);break;case"VARIABLE_ADDED":t.data.updated_src=e.updateSrc(r,n),e.set(r,"action","variable-update",i(i({},n),{},{type:"variable-added"})),e.emit("variable-update-"+r);break;case"ADD_VARIABLE_KEY_REQUEST":e.set(r,"action","new-key-request",n),e.emit("add-key-request-"+r)}},e.updateSrc=function(t,r){var n=r.name,o=r.namespace,i=r.new_value,a=(r.existing_value,r.variable_removed);o.shift();var s,l=e.get(t,"global","src"),c=e.deepCopy(l,B(o)),u=c,d=M(o);try{for(d.s();!(s=d.n()).done;)u=u[s.value]}catch(e){d.e(e)}finally{d.f()}return a?"array"==x(u)?u.splice(n,1):delete u[n]:null!==n?u[n]=i:c=i,e.set(t,"global","src",c),c},e.deepCopy=function(t,r){var n,o=x(t),a=r.shift();return"array"==o?n=B(t):"object"==o&&(n=i({},t)),void 0!==a&&(n[a]=e.deepCopy(t[a],r)),n},e}return r}(L.EventEmitter));F.register(U.handleAction.bind(U));var z=U,H=function(e){u(r,e);var t=m(r);function r(e){var n;return a(this,r),(n=t.call(this,e)).toggleCollapsed=function(){n.setState({collapsed:!n.state.collapsed},(function(){z.set(n.props.rjvId,n.props.namespace,"collapsed",n.state.collapsed)}))},n.getFunctionDisplay=function(e){var t=f(n).props;return e?b.a.createElement("span",null,n.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),b.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},b.a.createElement("span",null,"{"),b.a.createElement("span",P(t.theme,"ellipsis"),"..."),b.a.createElement("span",null,"}"))):n.props.value.toString().slice(9,-1)},n.state={collapsed:z.get(e.rjvId,e.namespace,"collapsed",!0)},n}return l(r,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return b.a.createElement("div",P(e.theme,"function"),b.a.createElement(A,Object.assign({type_name:"function"},e)),b.a.createElement("span",Object.assign({},P(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),r}(b.a.PureComponent),W=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){return b.a.createElement("div",P(this.props.theme,"nan"),"NaN")}}]),r}(b.a.PureComponent),G=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){return b.a.createElement("div",P(this.props.theme,"null"),"NULL")}}]),r}(b.a.PureComponent),q=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props;return b.a.createElement("div",P(e.theme,"integer"),b.a.createElement(A,Object.assign({type_name:"int"},e)),this.props.value)}}]),r}(b.a.PureComponent),X=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props;return b.a.createElement("div",P(e.theme,"regexp"),b.a.createElement(A,Object.assign({type_name:"regexp"},e)),this.props.value.toString())}}]),r}(b.a.PureComponent),V=function(e){u(r,e);var t=m(r);function r(e){var n;return a(this,r),(n=t.call(this,e)).toggleCollapsed=function(){n.setState({collapsed:!n.state.collapsed},(function(){z.set(n.props.rjvId,n.props.namespace,"collapsed",n.state.collapsed)}))},n.state={collapsed:z.get(e.rjvId,e.namespace,"collapsed",!0)},n}return l(r,[{key:"render",value:function(){this.state.collapsed;var e=this.props,t=e.collapseStringsAfterLength,r=e.theme,n=e.value,o={style:{cursor:"default"}};return"integer"===x(t)&&n.length>t&&(o.style.cursor="pointer",this.state.collapsed&&(n=b.a.createElement("span",null,n.substring(0,t),b.a.createElement("span",P(r,"ellipsis")," ...")))),b.a.createElement("div",P(r,"string"),b.a.createElement(A,Object.assign({type_name:"string"},e)),b.a.createElement("span",Object.assign({className:"string-value"},o,{onClick:this.toggleCollapsed}),'"',n,'"'))}}]),r}(b.a.PureComponent),K=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){return b.a.createElement("div",P(this.props.theme,"undefined"),"undefined")}}]),r}(b.a.PureComponent);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var $=g.useLayoutEffect,Z=function(e,t){"function"!=typeof e?e.current=t:e(t)},J={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Q=function(e){Object.keys(J).forEach((function(t){e.style.setProperty(t,J[t],"important")}))},ee=null,te=function(){},re=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],ne=!!document.documentElement.currentStyle,oe=Object(g.forwardRef)((function(e,t){var r,n=e.cacheMeasurements,o=e.maxRows,i=e.minRows,a=e.onChange,s=void 0===a?te:a,l=e.onHeightChange,c=void 0===l?te:l,u=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),d=void 0!==u.value,p=Object(g.useRef)(null),f=function(e,t){var r=Object(g.useRef)();return Object(g.useCallback)((function(n){e.current=n,r.current&&Z(r.current,null),r.current=t,t&&Z(t,n)}),[t])}(p,t),h=Object(g.useRef)(0),m=Object(g.useRef)(),b=function(){var e=p.current,t=n&&m.current?m.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r,n=(r=t,re.reduce((function(e,t){return e[t]=r[t],e}),{})),o=n.boxSizing;return""===o?null:(ne&&"border-box"===o&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})}(e);if(t){m.current=t;var r=function(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=1/0),ee||((ee=document.createElement("textarea")).setAttribute("tab-index","-1"),ee.setAttribute("aria-hidden","true"),Q(ee)),null===ee.parentNode&&document.body.appendChild(ee);var o=e.paddingSize,i=e.borderSize,a=e.sizingStyle,s=a.boxSizing;Object.keys(a).forEach((function(e){var t=e;ee.style[t]=a[t]})),Q(ee),ee.value=t;var l=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize}(ee,e);ee.value="x";var c=ee.scrollHeight-o,u=c*r;"border-box"===s&&(u=u+o+i),l=Math.max(u,l);var d=c*n;return"border-box"===s&&(d=d+o+i),[l=Math.min(d,l),c]}(t,e.value||e.placeholder||"x",i,o),a=r[0],s=r[1];h.current!==a&&(h.current=a,e.style.setProperty("height",a+"px","important"),c(a,{rowHeight:s}))}};return Object(g.useLayoutEffect)(b),r=function(e){var t=Object(g.useRef)(e);return $((function(){t.current=e})),t}(b),Object(g.useLayoutEffect)((function(){var e=function(e){r.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(g.createElement)("textarea",Y({},u,{onChange:function(e){d||b(),s(e)},ref:f}))}));function ie(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return ae("array",JSON.parse(e));if("{"===e[0])return ae("object",JSON.parse(e));if(e.match(/\-?\d+\.\d+/)&&e.match(/\-?\d+\.\d+/)[0]===e)return ae("float",parseFloat(e));if(e.match(/\-?\d+e-\d+/)&&e.match(/\-?\d+e-\d+/)[0]===e)return ae("float",Number(e));if(e.match(/\-?\d+/)&&e.match(/\-?\d+/)[0]===e)return ae("integer",parseInt(e));if(e.match(/\-?\d+e\+\d+/)&&e.match(/\-?\d+e\+\d+/)[0]===e)return ae("integer",Number(e))}catch(e){}switch(e=e.toLowerCase()){case"undefined":return ae("undefined",void 0);case"nan":return ae("nan",NaN);case"null":return ae("null",null);case"true":return ae("boolean",!0);case"false":return ae("boolean",!1);default:if(e=Date.parse(e))return ae("date",new Date(e))}return ae(!1,null)}function ae(e,t){return{type:e,value:t}}var se=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),b.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),r}(b.a.PureComponent),le=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),b.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),r}(b.a.PureComponent),ce=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]),n=ye(t).style;return b.a.createElement("span",r,b.a.createElement("svg",{fill:n.color,width:n.height,height:n.width,style:n,viewBox:"0 0 1792 1792"},b.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),r}(b.a.PureComponent),ue=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]),n=ye(t).style;return b.a.createElement("span",r,b.a.createElement("svg",{fill:n.color,width:n.height,height:n.width,style:n,viewBox:"0 0 1792 1792"},b.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),r}(b.a.PureComponent),de=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",{style:i(i({},ye(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},b.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),r}(b.a.PureComponent),pe=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",{style:i(i({},ye(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},b.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),r}(b.a.PureComponent),fe=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),b.a.createElement("g",null,b.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),r}(b.a.PureComponent),he=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),b.a.createElement("g",null,b.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),r}(b.a.PureComponent),me=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),b.a.createElement("g",null,b.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),r}(b.a.PureComponent),ge=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),b.a.createElement("g",null,b.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),r}(b.a.PureComponent),be=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),b.a.createElement("g",null,b.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),r}(b.a.PureComponent),ve=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=_(e,["style"]);return b.a.createElement("span",r,b.a.createElement("svg",Object.assign({},ye(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),b.a.createElement("g",null,b.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),r}(b.a.PureComponent);function ye(e){return e||(e={}),{style:i(i({verticalAlign:"middle"},e),{},{color:e.color?e.color:"#000000",height:"1em",width:"1em"})}}var we=function(e){u(r,e);var t=m(r);function r(e){var n;return a(this,r),(n=t.call(this,e)).copiedTimer=null,n.handleCopy=function(){var e=document.createElement("textarea"),t=n.props,r=t.clickCallback,o=t.src,i=t.namespace;e.innerHTML=JSON.stringify(n.clipboardValue(o),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),n.copiedTimer=setTimeout((function(){n.setState({copied:!1})}),5500),n.setState({copied:!0},(function(){"function"==typeof r&&r({src:o,namespace:i,name:i[i.length-1]})}))},n.getClippyIcon=function(){var e=n.props.theme;return n.state.copied?b.a.createElement("span",null,b.a.createElement(fe,Object.assign({className:"copy-icon"},P(e,"copy-icon"))),b.a.createElement("span",P(e,"copy-icon-copied"),"✔")):b.a.createElement(fe,Object.assign({className:"copy-icon"},P(e,"copy-icon")))},n.clipboardValue=function(e){switch(x(e)){case"function":case"regexp":return e.toString();default:return e}},n.state={copied:!1},n}return l(r,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),r=e.hidden,n=e.rowHovered,o=P(t,"copy-to-clipboard").style,a="inline";return r&&(a="none"),b.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:n?"inline-block":"none"}},b.a.createElement("span",{style:i(i({},o),{},{display:a}),onClick:this.handleCopy},this.getClippyIcon()))}}]),r}(b.a.PureComponent),Ee=function(e){u(r,e);var t=m(r);function r(e){var n;return a(this,r),(n=t.call(this,e)).getEditIcon=function(){var e=n.props,t=e.variable,r=e.theme;return b.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:n.state.hovered?"inline-block":"none"}},b.a.createElement(be,Object.assign({className:"click-to-edit-icon"},P(r,"editVarIcon"),{onClick:function(){n.prepopInput(t)}})))},n.prepopInput=function(e){if(!1!==n.props.onEdit){var t=function(e){var t;switch(x(e)){case"undefined":t="undefined";break;case"nan":t="NaN";break;case"string":t=e;break;case"date":case"function":case"regexp":t=e.toString();break;default:try{t=JSON.stringify(e,null,"  ")}catch(e){t=""}}return t}(e.value),r=ie(t);n.setState({editMode:!0,editValue:t,parsedInput:{type:r.type,value:r.value}})}},n.getRemoveIcon=function(){var e=n.props,t=e.variable,r=e.namespace,o=e.theme,i=e.rjvId;return b.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:n.state.hovered?"inline-block":"none"}},b.a.createElement(he,Object.assign({className:"click-to-remove-icon"},P(o,"removeVarIcon"),{onClick:function(){F.dispatch({name:"VARIABLE_REMOVED",rjvId:i,data:{name:t.name,namespace:r,existing_value:t.value,variable_removed:!0}})}})))},n.getValue=function(e,t){var r=!t&&e.type,o=f(n).props;switch(r){case!1:return n.getEditInput();case"string":return b.a.createElement(V,Object.assign({value:e.value},o));case"integer":return b.a.createElement(q,Object.assign({value:e.value},o));case"float":return b.a.createElement(R,Object.assign({value:e.value},o));case"boolean":return b.a.createElement(I,Object.assign({value:e.value},o));case"function":return b.a.createElement(H,Object.assign({value:e.value},o));case"null":return b.a.createElement(G,o);case"nan":return b.a.createElement(W,o);case"undefined":return b.a.createElement(K,o);case"date":return b.a.createElement(j,Object.assign({value:e.value},o));case"regexp":return b.a.createElement(X,Object.assign({value:e.value},o));default:return b.a.createElement("div",{className:"object-value"},JSON.stringify(e.value))}},n.getEditInput=function(){var e=n.props.theme,t=n.state.editValue;return b.a.createElement("div",null,b.a.createElement(oe,Object.assign({type:"text",inputRef:function(e){return e&&e.focus()},value:t,className:"variable-editor",onChange:function(e){var t=e.target.value,r=ie(t);n.setState({editValue:t,parsedInput:{type:r.type,value:r.value}})},onKeyDown:function(e){switch(e.key){case"Escape":n.setState({editMode:!1,editValue:""});break;case"Enter":(e.ctrlKey||e.metaKey)&&n.submitEdit(!0)}e.stopPropagation()},placeholder:"update this value",minRows:2},P(e,"edit-input"))),b.a.createElement("div",P(e,"edit-icon-container"),b.a.createElement(he,Object.assign({className:"edit-cancel"},P(e,"cancel-icon"),{onClick:function(){n.setState({editMode:!1,editValue:""})}})),b.a.createElement(ve,Object.assign({className:"edit-check string-value"},P(e,"check-icon"),{onClick:function(){n.submitEdit()}})),b.a.createElement("div",null,n.showDetected())))},n.submitEdit=function(e){var t=n.props,r=t.variable,o=t.namespace,i=t.rjvId,a=n.state,s=a.editValue,l=a.parsedInput,c=s;e&&l.type&&(c=l.value),n.setState({editMode:!1}),F.dispatch({name:"VARIABLE_UPDATED",rjvId:i,data:{name:r.name,namespace:o,existing_value:r.value,new_value:c,variable_removed:!1}})},n.showDetected=function(){var e=n.props,t=e.theme,r=(e.variable,e.namespace,e.rjvId,n.state.parsedInput),o=(r.type,r.value,n.getDetectedInput());if(o)return b.a.createElement("div",null,b.a.createElement("div",P(t,"detected-row"),o,b.a.createElement(ve,{className:"edit-check detected",style:i({verticalAlign:"top",paddingLeft:"3px"},P(t,"check-icon").style),onClick:function(){n.submitEdit(!0)}})))},n.getDetectedInput=function(){var e=n.state.parsedInput,t=e.type,r=e.value,o=f(n).props,a=o.theme;if(!1!==t)switch(t.toLowerCase()){case"object":return b.a.createElement("span",null,b.a.createElement("span",{style:i(i({},P(a,"brace").style),{},{cursor:"default"})},"{"),b.a.createElement("span",{style:i(i({},P(a,"ellipsis").style),{},{cursor:"default"})},"..."),b.a.createElement("span",{style:i(i({},P(a,"brace").style),{},{cursor:"default"})},"}"));case"array":return b.a.createElement("span",null,b.a.createElement("span",{style:i(i({},P(a,"brace").style),{},{cursor:"default"})},"["),b.a.createElement("span",{style:i(i({},P(a,"ellipsis").style),{},{cursor:"default"})},"..."),b.a.createElement("span",{style:i(i({},P(a,"brace").style),{},{cursor:"default"})},"]"));case"string":return b.a.createElement(V,Object.assign({value:r},o));case"integer":return b.a.createElement(q,Object.assign({value:r},o));case"float":return b.a.createElement(R,Object.assign({value:r},o));case"boolean":return b.a.createElement(I,Object.assign({value:r},o));case"function":return b.a.createElement(H,Object.assign({value:r},o));case"null":return b.a.createElement(G,o);case"nan":return b.a.createElement(W,o);case"undefined":return b.a.createElement(K,o);case"date":return b.a.createElement(j,Object.assign({value:new Date(r)},o))}},n.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},n}return l(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.variable,n=t.singleIndent,o=t.type,a=t.theme,s=t.namespace,l=t.indentWidth,c=t.enableClipboard,u=t.onEdit,d=t.onDelete,p=t.onSelect,f=t.displayArrayKey,h=t.quotesOnKeys,m=this.state.editMode;return b.a.createElement("div",Object.assign({},P(a,"objectKeyVal",{paddingLeft:l*n}),{onMouseEnter:function(){return e.setState(i(i({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(i(i({},e.state),{},{hovered:!1}))},className:"variable-row",key:r.name}),"array"==o?f?b.a.createElement("span",Object.assign({},P(a,"array-key"),{key:r.name+"_"+s}),r.name,b.a.createElement("div",P(a,"colon"),":")):null:b.a.createElement("span",null,b.a.createElement("span",Object.assign({},P(a,"object-name"),{className:"object-key",key:r.name+"_"+s}),!!h&&b.a.createElement("span",{style:{verticalAlign:"top"}},'"'),b.a.createElement("span",{style:{display:"inline-block"}},r.name),!!h&&b.a.createElement("span",{style:{verticalAlign:"top"}},'"')),b.a.createElement("span",P(a,"colon"),":")),b.a.createElement("div",Object.assign({className:"variable-value",onClick:!1===p&&!1===u?null:function(t){var n=B(s);(t.ctrlKey||t.metaKey)&&!1!==u?e.prepopInput(r):!1!==p&&(n.shift(),p(i(i({},r),{},{namespace:n})))}},P(a,"variableValue",{cursor:!1===p?"default":"pointer"})),this.getValue(r,m)),c?b.a.createElement(we,{rowHovered:this.state.hovered,hidden:m,src:r.value,clickCallback:c,theme:a,namespace:[].concat(B(s),[r.name])}):null,!1!==u&&0==m?this.getEditIcon():null,!1!==d&&0==m?this.getRemoveIcon():null)}}]),r}(b.a.PureComponent),_e=function(e){u(r,e);var t=m(r);function r(){var e;a(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).getObjectSize=function(){var t=e.props,r=t.size,n=t.theme;if(t.displayObjectSize)return b.a.createElement("span",Object.assign({className:"object-size"},P(n,"object-size")),r," item",1===r?"":"s")},e.getAddAttribute=function(t){var r=e.props,n=r.theme,o=r.namespace,a=r.name,s=r.src,l=r.rjvId,c=r.depth;return b.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:t?"inline-block":"none"}},b.a.createElement(me,Object.assign({className:"click-to-add-icon"},P(n,"addVarIcon"),{onClick:function(){var e={name:c>0?a:null,namespace:o.splice(0,o.length-1),existing_value:s,variable_removed:!1,key_name:null};"object"===x(s)?F.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:l,data:e}):F.dispatch({name:"VARIABLE_ADDED",rjvId:l,data:i(i({},e),{},{new_value:[].concat(B(s),[null])})})}})))},e.getRemoveObject=function(t){var r=e.props,n=r.theme,o=(r.hover,r.namespace),i=r.name,a=r.src,s=r.rjvId;if(1!==o.length)return b.a.createElement("span",{className:"click-to-remove",style:{display:t?"inline-block":"none"}},b.a.createElement(he,Object.assign({className:"click-to-remove-icon"},P(n,"removeVarIcon"),{onClick:function(){F.dispatch({name:"VARIABLE_REMOVED",rjvId:s,data:{name:i,namespace:o.splice(0,o.length-1),existing_value:a,variable_removed:!0}})}})))},e.render=function(){var t=e.props,r=t.theme,n=t.onDelete,o=t.onAdd,i=t.enableClipboard,a=t.src,s=t.namespace,l=t.rowHovered;return b.a.createElement("div",Object.assign({},P(r,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),e.getObjectSize(),i?b.a.createElement(we,{rowHovered:l,clickCallback:i,src:a,theme:r,namespace:s}):null,!1!==o?e.getAddAttribute(l):null,!1!==n?e.getRemoveObject(l):null)},e}return r}(b.a.PureComponent);function xe(e){var t=e.parent_type,r=e.namespace,n=e.quotesOnKeys,o=e.theme,i=e.jsvRoot,a=e.name,s=e.displayArrayKey,l=e.name?e.name:"";return!i||!1!==a&&null!==a?"array"==t?s?b.a.createElement("span",Object.assign({},P(o,"array-key"),{key:r}),b.a.createElement("span",{className:"array-key"},l),b.a.createElement("span",P(o,"colon"),":")):b.a.createElement("span",null):b.a.createElement("span",Object.assign({},P(o,"object-name"),{key:r}),b.a.createElement("span",{className:"object-key"},n&&b.a.createElement("span",{style:{verticalAlign:"top"}},'"'),b.a.createElement("span",null,l),n&&b.a.createElement("span",{style:{verticalAlign:"top"}},'"')),b.a.createElement("span",P(o,"colon"),":")):b.a.createElement("span",null)}function Oe(e){var t=e.theme;switch(e.iconStyle){case"triangle":return b.a.createElement(pe,Object.assign({},P(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return b.a.createElement(ce,Object.assign({},P(t,"expanded-icon"),{className:"expanded-icon"}));default:return b.a.createElement(se,Object.assign({},P(t,"expanded-icon"),{className:"expanded-icon"}))}}function Se(e){var t=e.theme;switch(e.iconStyle){case"triangle":return b.a.createElement(de,Object.assign({},P(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return b.a.createElement(ue,Object.assign({},P(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return b.a.createElement(le,Object.assign({},P(t,"collapsed-icon"),{className:"collapsed-icon"}))}}var Ce=function(e){u(r,e);var t=m(r);function r(e){var n;return a(this,r),(n=t.call(this,e)).toggleCollapsed=function(e){var t=[];for(var r in n.state.expanded)t.push(n.state.expanded[r]);t[e]=!t[e],n.setState({expanded:t})},n.state={expanded:[]},n}return l(r,[{key:"getExpandedIcon",value:function(e){var t=this.props,r=t.theme,n=t.iconStyle;return this.state.expanded[e]?b.a.createElement(Oe,{theme:r,iconStyle:n}):b.a.createElement(Se,{theme:r,iconStyle:n})}},{key:"render",value:function(){var e=this,t=this.props,r=t.src,n=t.groupArraysAfterLength,o=(t.depth,t.name),i=t.theme,a=t.jsvRoot,s=t.namespace,l=(t.parent_type,_(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),c=0,u=5*this.props.indentWidth;a||(c=5*this.props.indentWidth);var d=n,p=Math.ceil(r.length/d);return b.a.createElement("div",Object.assign({className:"object-key-val"},P(i,a?"jsv-root":"objectKeyVal",{paddingLeft:c})),b.a.createElement(xe,this.props),b.a.createElement("span",null,b.a.createElement(_e,Object.assign({size:r.length},this.props))),B(Array(p)).map((function(t,n){return b.a.createElement("div",Object.assign({key:n,className:"object-key-val array-group"},P(i,"objectKeyVal",{marginLeft:6,paddingLeft:u})),b.a.createElement("span",P(i,"brace-row"),b.a.createElement("div",Object.assign({className:"icon-container"},P(i,"icon-container"),{onClick:function(t){e.toggleCollapsed(n)}}),e.getExpandedIcon(n)),e.state.expanded[n]?b.a.createElement(Pe,Object.assign({key:o+n,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:d,index_offset:n*d,src:r.slice(n*d,n*d+d),namespace:s,type:"array",parent_type:"array_group",theme:i},l)):b.a.createElement("span",Object.assign({},P(i,"brace"),{onClick:function(t){e.toggleCollapsed(n)},className:"array-group-brace"}),"[",b.a.createElement("div",Object.assign({},P(i,"array-group-meta-data"),{className:"array-group-meta-data"}),b.a.createElement("span",Object.assign({className:"object-size"},P(i,"object-size")),n*d," - ",n*d+d>r.length?r.length:n*d+d)),"]")))})))}}]),r}(b.a.PureComponent),Te=function(e){u(r,e);var t=m(r);function r(e){var n;a(this,r),(n=t.call(this,e)).toggleCollapsed=function(){n.setState({expanded:!n.state.expanded},(function(){z.set(n.props.rjvId,n.props.namespace,"expanded",n.state.expanded)}))},n.getObjectContent=function(e,t,r){return b.a.createElement("div",{className:"pushed-content object-container"},b.a.createElement("div",Object.assign({className:"object-content"},P(n.props.theme,"pushed-content")),n.renderObjectContents(t,r)))},n.getEllipsis=function(){return 0===n.state.size?null:b.a.createElement("div",Object.assign({},P(n.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:n.toggleCollapsed}),"...")},n.getObjectMetaData=function(e){var t=n.props,r=(t.rjvId,t.theme,n.state),o=r.size,i=r.hovered;return b.a.createElement(_e,Object.assign({rowHovered:i,size:o},n.props))},n.renderObjectContents=function(e,t){var r,o=n.props,i=o.depth,a=o.parent_type,s=o.index_offset,l=o.groupArraysAfterLength,c=o.namespace,u=n.state.object_type,d=[],p=Object.keys(e||{});return n.props.sortKeys&&"array"!==u&&(p=p.sort()),p.forEach((function(o){if(r=new ke(o,e[o]),"array_group"===a&&s&&(r.name=parseInt(r.name)+s),e.hasOwnProperty(o))if("object"===r.type)d.push(b.a.createElement(Pe,Object.assign({key:r.name,depth:i+1,name:r.name,src:r.value,namespace:c.concat(r.name),parent_type:u},t)));else if("array"===r.type){var p=Pe;l&&r.value.length>l&&(p=Ce),d.push(b.a.createElement(p,Object.assign({key:r.name,depth:i+1,name:r.name,src:r.value,namespace:c.concat(r.name),type:"array",parent_type:u},t)))}else d.push(b.a.createElement(Ee,Object.assign({key:r.name+"_"+c,variable:r,singleIndent:5,namespace:c,type:n.props.type},t)))})),d};var o=r.getState(e);return n.state=i(i({},o),{},{prevProps:{}}),n}return l(r,[{key:"getBraceStart",value:function(e,t){var r=this,n=this.props,o=n.src,i=n.theme,a=n.iconStyle;if("array_group"===n.parent_type)return b.a.createElement("span",null,b.a.createElement("span",P(i,"brace"),"array"===e?"[":"{"),t?this.getObjectMetaData(o):null);var s=t?Oe:Se;return b.a.createElement("span",null,b.a.createElement("span",Object.assign({onClick:function(e){r.toggleCollapsed()}},P(i,"brace-row")),b.a.createElement("div",Object.assign({className:"icon-container"},P(i,"icon-container")),b.a.createElement(s,{theme:i,iconStyle:a})),b.a.createElement(xe,this.props),b.a.createElement("span",P(i,"brace"),"array"===e?"[":"{")),t?this.getObjectMetaData(o):null)}},{key:"render",value:function(){var e=this,t=this.props,r=t.depth,n=t.src,o=(t.namespace,t.name,t.type,t.parent_type),a=t.theme,s=t.jsvRoot,l=t.iconStyle,c=_(t,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),u=this.state,d=u.object_type,p=u.expanded,f={};return s||"array_group"===o?"array_group"===o&&(f.borderLeft=0,f.display="inline"):f.paddingLeft=5*this.props.indentWidth,b.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return e.setState(i(i({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(i(i({},e.state),{},{hovered:!1}))}},P(a,s?"jsv-root":"objectKeyVal",f)),this.getBraceStart(d,p),p?this.getObjectContent(r,n,i({theme:a,iconStyle:l},c)):this.getEllipsis(),b.a.createElement("span",{className:"brace-row"},b.a.createElement("span",{style:i(i({},P(a,"brace").style),{},{paddingLeft:p?"3px":"0px"})},"array"===d?"]":"}"),p?null:this.getObjectMetaData(n)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps;return e.src!==n.src||e.collapsed!==n.collapsed||e.name!==n.name||e.namespace!==n.namespace||e.rjvId!==n.rjvId?i(i({},r.getState(e)),{},{prevProps:e}):null}}]),r}(b.a.PureComponent);Te.getState=function(e){var t=Object.keys(e.src).length,r=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:x(e.src),namespace:e.namespace}))&&0!==t;return{expanded:z.get(e.rjvId,e.namespace,"expanded",r),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t,hovered:!1}};var ke=function e(t,r){a(this,e),this.name=t,this.value=r,this.type=x(r)};E(Te);var Pe=Te,Ae=function(e){u(r,e);var t=m(r);function r(){var e;a(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).render=function(){var t=f(e).props,r=[t.name],n=Pe;return Array.isArray(t.src)&&t.groupArraysAfterLength&&t.src.length>t.groupArraysAfterLength&&(n=Ce),b.a.createElement("div",{className:"pretty-json-container object-container"},b.a.createElement("div",{className:"object-content"},b.a.createElement(n,Object.assign({namespace:r,depth:0,jsvRoot:!0},t))))},e}return r}(b.a.PureComponent),Ie=function(e){u(r,e);var t=m(r);function r(e){var n;return a(this,r),(n=t.call(this,e)).closeModal=function(){F.dispatch({rjvId:n.props.rjvId,name:"RESET"})},n.submit=function(){n.props.submit(n.state.input)},n.state={input:e.input?e.input:""},n}return l(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.theme,n=t.rjvId,o=t.isValid,i=this.state.input,a=o(i);return b.a.createElement("div",Object.assign({className:"key-modal-request"},P(r,"key-modal-request"),{onClick:this.closeModal}),b.a.createElement("div",Object.assign({},P(r,"key-modal"),{onClick:function(e){e.stopPropagation()}}),b.a.createElement("div",P(r,"key-modal-label"),"Key Name:"),b.a.createElement("div",{style:{position:"relative"}},b.a.createElement("input",Object.assign({},P(r,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:i,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){a&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),a?b.a.createElement(ve,Object.assign({},P(r,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),b.a.createElement("span",P(r,"key-modal-cancel"),b.a.createElement(ge,Object.assign({},P(r,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){F.dispatch({rjvId:n,name:"RESET"})}})))))}}]),r}(b.a.PureComponent),je=function(e){u(r,e);var t=m(r);function r(){var e;a(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).isValid=function(t){var r=e.props.rjvId,n=z.get(r,"action","new-key-request");return""!=t&&-1===Object.keys(n.existing_value).indexOf(t)},e.submit=function(t){var r=e.props.rjvId,n=z.get(r,"action","new-key-request");n.new_value=i({},n.existing_value),n.new_value[t]=e.props.defaultValue,F.dispatch({name:"VARIABLE_ADDED",rjvId:r,data:n})},e}return l(r,[{key:"render",value:function(){var e=this.props,t=e.active,r=e.theme,n=e.rjvId;return t?b.a.createElement(Ie,{rjvId:n,theme:r,isValid:this.isValid,submit:this.submit}):null}}]),r}(b.a.PureComponent),Re=function(e){u(r,e);var t=m(r);function r(){return a(this,r),t.apply(this,arguments)}return l(r,[{key:"render",value:function(){var e=this.props,t=e.message,r=e.active,n=e.theme,o=e.rjvId;return r?b.a.createElement("div",Object.assign({className:"validation-failure"},P(n,"validation-failure"),{onClick:function(){F.dispatch({rjvId:o,name:"RESET"})}}),b.a.createElement("span",P(n,"validation-failure-label"),t),b.a.createElement(ge,P(n,"validation-failure-clear"))):null}}]),r}(b.a.PureComponent),De=function(e){u(r,e);var t=m(r);function r(e){var n;return a(this,r),(n=t.call(this,e)).rjvId=Date.now().toString(),n.getListeners=function(){return{reset:n.resetState,"variable-update":n.updateSrc,"add-key-request":n.addKeyRequest}},n.updateSrc=function(){var e,t=z.get(n.rjvId,"action","variable-update"),r=t.name,o=t.namespace,i=t.new_value,a=t.existing_value,s=(t.variable_removed,t.updated_src),l=t.type,c=n.props,u=c.onEdit,d=c.onDelete,p=c.onAdd,f={existing_src:n.state.src,new_value:i,updated_src:s,name:r,namespace:o,existing_value:a};switch(l){case"variable-added":e=p(f);break;case"variable-edited":e=u(f);break;case"variable-removed":e=d(f)}!1!==e?(z.set(n.rjvId,"global","src",s),n.setState({src:s})):n.setState({validationFailure:!0})},n.addKeyRequest=function(){n.setState({addKeyRequest:!0})},n.resetState=function(){n.setState({validationFailure:!1,addKeyRequest:!1})},n.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:r.defaultProps.src,name:r.defaultProps.name,theme:r.defaultProps.theme,validationMessage:r.defaultProps.validationMessage,prevSrc:r.defaultProps.src,prevName:r.defaultProps.name,prevTheme:r.defaultProps.theme},n}return l(r,[{key:"componentDidMount",value:function(){z.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)z.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&z.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)z.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,r=e.validationMessage,n=e.addKeyRequest,o=e.theme,a=e.src,s=e.name,l=this.props,c=l.style,u=l.defaultValue;return b.a.createElement("div",{className:"react-json-view",style:i(i({},P(o,"app-container").style),c)},b.a.createElement(Re,{message:r,active:t,theme:o,rjvId:this.rjvId}),b.a.createElement(Ae,Object.assign({},this.props,{src:a,name:s,theme:o,type:x(a),rjvId:this.rjvId})),b.a.createElement(je,{active:n,theme:o,rjvId:this.rjvId,defaultValue:u}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.src!==t.prevSrc||e.name!==t.prevName||e.theme!==t.prevTheme){var n={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return r.validateState(n)}return null}}]),r}(b.a.PureComponent);De.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},De.validateState=function(e){var t={};return"object"!==x(e.theme)||function(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===x(e)){for(var r=0;r<t.length;r++)if(!(t[r]in e))return!1;return!0}return!1}(e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.theme="rjv-default"),"object"!==x(e.src)&&"array"!==x(e.src)&&(console.error("react-json-view error:","src property must be a valid json object"),t.name="ERROR",t.src={message:"src property must be a valid json object"}),i(i({},e),t)},E(De),t.default=De}]))},1230:function(e,t,r){var n=r(2),o=r(229),i=r(3),a=r(1232),s=n.createElement,l=r(1234),c=r(1238),u=r(1239),d=r(540),p=r(1241),f=r(539);e.exports=o({propTypes:{data:i.any.isRequired,search:i.oneOfType([i.func,i.bool]),searchOptions:i.shape({debounceTime:i.number}),onClick:i.func,validateQuery:i.func,isExpanded:i.func,filterOptions:i.shape({cacheResults:i.bool,ignoreCase:i.bool}),query:i.string,verboseShowOriginal:i.bool},getDefaultProps:function(){return{data:null,search:c,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:f,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,r=""!==t.query&&e.validateQuery(t.query),n=r?t.filterer(t.query):e.data,o=r&&d(n);return s("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?s("div",{className:"json-inspector__not-found"},"Nothing found"):s(l,{data:n,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:r?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return s("div",{className:"json-inspector__toolbar"},s(e,{onChange:a(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions),"string"==typeof e.query&&e.query!==this.state.query&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:u(e,t)})},getOriginal:function(e){return p(this.props.data,e)}})},1231:function(e,t,r){"use strict";var n=r(244),o={};function i(e,t,r,n,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=function(e,t,r){var a=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var r=0;r<t.length;r++)d(e,t[r])},childContextTypes:function(e,t){e.childContextTypes=n({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=n({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=n({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var r in t){var n=t[r];if(t.hasOwnProperty(r)){if(i(!(r in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r),r in e)return i("DEFINE_MANY_MERGED"===(l.hasOwnProperty(r)?l[r]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),void(e[r]=f(e[r],n));e[r]=n}}}(e,t)},autobind:function(){}};function u(e,t){var r=s.hasOwnProperty(t)?s[t]:null;v.hasOwnProperty(t)&&i("OVERRIDE_BASE"===r,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===r||"DEFINE_MANY_MERGED"===r,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,r){if(r){i("function"!=typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,o=n.__reactAutoBindPairs;for(var a in r.hasOwnProperty("mixins")&&c.mixins(e,r.mixins),r)if(r.hasOwnProperty(a)&&"mixins"!==a){var l=r[a],d=n.hasOwnProperty(a);if(u(d,a),c.hasOwnProperty(a))c[a](e,l);else{var p=s.hasOwnProperty(a);if("function"==typeof l&&!p&&!d&&!1!==r.autobind)o.push(a,l),n[a]=l;else if(d){var m=s[a];i(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,a),"DEFINE_MANY_MERGED"===m?n[a]=f(n[a],l):"DEFINE_MANY"===m&&(n[a]=h(n[a],l))}else n[a]=l}}}else;}function p(e,t){for(var r in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(r)&&(i(void 0===e[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r),e[r]=t[r]);return e}function f(e,t){return function(){var r=e.apply(this,arguments),n=t.apply(this,arguments);if(null==r)return n;if(null==n)return r;var o={};return p(o,r),p(o,n),o}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},y=function(){};return n(y.prototype,e.prototype,v),function(e){var t=function(e,n,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[n]=m(e,o)}}(this),this.props=e,this.context=n,this.refs=o,this.updater=a||r,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var n in t.prototype=new y,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,b),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[n]||(t.prototype[n]=null);return t}}},1232:function(e,t,r){var n=r(1233);e.exports=function(e,t,r){var o,i,a,s,l;function c(){var u=n()-s;u<t&&u>0?o=setTimeout(c,t-u):(o=null,r||(l=e.apply(a,i),o||(a=i=null)))}return null==t&&(t=100),function(){a=this,i=arguments,s=n();var u=r&&!o;return o||(o=setTimeout(c,t)),u&&(l=e.apply(a,i),a=i=null),l}}},1233:function(e,t){e.exports=Date.now||function(){return(new Date).getTime()}},1234:function(e,t,r){var n=r(2),o=r(229),i=r(1235),a=r(1236),s=r(320),l=r(538),c=r(1237),u=n.createElement,d=o({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+a(),t=this.props,r={path:this.keypath(),key:t.label.toString(),value:t.data},n=this._onClick.bind(this,r);return u("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},u("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),u("label",{className:"json-inspector__line",htmlFor:e,onClick:n},u("div",{className:"json-inspector__flatpath"},r.path),u("span",{className:"json-inspector__key"},this.format(r.key),":",this.renderInteractiveLabel(r.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=s(e);switch(t){case"Array":return u("span",{className:"json-inspector__value json-inspector__value_helper"},"[] "+p(e.length));case"Object":return u("span",{className:"json-inspector__value json-inspector__value_helper"},"{} "+p(Object.keys(e).length));default:return u("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),r=this.data();return this.state.expanded&&!l(r)?Object.keys(r).map((function(n){var o=r[n],i=!this.state.original||!!e.verboseShowOriginal&&e.query;return u(d,{data:o,label:n,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:f(n,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})}),this):null},renderShowOriginalButton:function(){var e=this.props;return l(e.data)||this.state.original||!e.getOriginal||!e.query||h(this.keypath(),e.query)?null:u("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return"function"==typeof this.props.interactiveLabel?u(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!h(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(".root.".length)},data:function(){return this.state.original||this.props.data},format:function(e){return u(c,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),l(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return!!e.root||(e.query?!h(t,e.query)&&"function"==typeof e.getOriginal:e.isExpanded(t,e.data))}});function p(e){return e+(1===e?" item":" items")}function f(e,t){return l(t)?e+":"+i(String(t)):e+"["+s(t)+"]"}function h(e,t){return-1!==e.indexOf(t)}e.exports=d},1235:function(e,t,r){"use strict";e.exports=function(e){for(var t=function(e){var t,r=1+(e.length+8>>6),n=new Array(16*r);for(t=0;t<16*r;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(8*e.length+t)%4*8;n[t>>2]|=128<<(8*e.length+t)%4*8;var o=8*e.length;return n[16*r-2]=255&o,n[16*r-2]|=(o>>>8&255)<<8,n[16*r-2]|=(o>>>16&255)<<16,n[16*r-2]|=(o>>>24&255)<<24,n}(e),r=1732584193,n=-271733879,o=-1732584194,i=271733878,l=0;l<t.length;l+=16){var f=r,h=n,m=o,g=i;r=c(r,n,o,i,t[l+0],7,-680876936),i=c(i,r,n,o,t[l+1],12,-389564586),o=c(o,i,r,n,t[l+2],17,606105819),n=c(n,o,i,r,t[l+3],22,-1044525330),r=c(r,n,o,i,t[l+4],7,-176418897),i=c(i,r,n,o,t[l+5],12,1200080426),o=c(o,i,r,n,t[l+6],17,-1473231341),n=c(n,o,i,r,t[l+7],22,-45705983),r=c(r,n,o,i,t[l+8],7,1770035416),i=c(i,r,n,o,t[l+9],12,-1958414417),o=c(o,i,r,n,t[l+10],17,-42063),n=c(n,o,i,r,t[l+11],22,-1990404162),r=c(r,n,o,i,t[l+12],7,1804603682),i=c(i,r,n,o,t[l+13],12,-40341101),o=c(o,i,r,n,t[l+14],17,-1502002290),n=c(n,o,i,r,t[l+15],22,1236535329),r=u(r,n,o,i,t[l+1],5,-165796510),i=u(i,r,n,o,t[l+6],9,-1069501632),o=u(o,i,r,n,t[l+11],14,643717713),n=u(n,o,i,r,t[l+0],20,-373897302),r=u(r,n,o,i,t[l+5],5,-701558691),i=u(i,r,n,o,t[l+10],9,38016083),o=u(o,i,r,n,t[l+15],14,-660478335),n=u(n,o,i,r,t[l+4],20,-405537848),r=u(r,n,o,i,t[l+9],5,568446438),i=u(i,r,n,o,t[l+14],9,-1019803690),o=u(o,i,r,n,t[l+3],14,-187363961),n=u(n,o,i,r,t[l+8],20,1163531501),r=u(r,n,o,i,t[l+13],5,-1444681467),i=u(i,r,n,o,t[l+2],9,-51403784),o=u(o,i,r,n,t[l+7],14,1735328473),n=u(n,o,i,r,t[l+12],20,-1926607734),r=d(r,n,o,i,t[l+5],4,-378558),i=d(i,r,n,o,t[l+8],11,-2022574463),o=d(o,i,r,n,t[l+11],16,1839030562),n=d(n,o,i,r,t[l+14],23,-35309556),r=d(r,n,o,i,t[l+1],4,-1530992060),i=d(i,r,n,o,t[l+4],11,1272893353),o=d(o,i,r,n,t[l+7],16,-155497632),n=d(n,o,i,r,t[l+10],23,-1094730640),r=d(r,n,o,i,t[l+13],4,681279174),i=d(i,r,n,o,t[l+0],11,-358537222),o=d(o,i,r,n,t[l+3],16,-722521979),n=d(n,o,i,r,t[l+6],23,76029189),r=d(r,n,o,i,t[l+9],4,-640364487),i=d(i,r,n,o,t[l+12],11,-421815835),o=d(o,i,r,n,t[l+15],16,530742520),n=d(n,o,i,r,t[l+2],23,-995338651),r=p(r,n,o,i,t[l+0],6,-198630844),i=p(i,r,n,o,t[l+7],10,1126891415),o=p(o,i,r,n,t[l+14],15,-1416354905),n=p(n,o,i,r,t[l+5],21,-57434055),r=p(r,n,o,i,t[l+12],6,1700485571),i=p(i,r,n,o,t[l+3],10,-1894986606),o=p(o,i,r,n,t[l+10],15,-1051523),n=p(n,o,i,r,t[l+1],21,-2054922799),r=p(r,n,o,i,t[l+8],6,1873313359),i=p(i,r,n,o,t[l+15],10,-30611744),o=p(o,i,r,n,t[l+6],15,-1560198380),n=p(n,o,i,r,t[l+13],21,1309151649),r=p(r,n,o,i,t[l+4],6,-145523070),i=p(i,r,n,o,t[l+11],10,-1120210379),o=p(o,i,r,n,t[l+2],15,718787259),n=p(n,o,i,r,t[l+9],21,-343485551),r=a(r,f),n=a(n,h),o=a(o,m),i=a(i,g)}return s(r)+s(n)+s(o)+s(i)};function n(e,t){return(e>>>1|t>>>1)<<1|(1&e|1&t)}function o(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t}function i(e,t){return(e>>>1&t>>>1)<<1|1&e&t}function a(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e){var t,r="";for(t=0;t<=3;t++)r+="0123456789abcdef".charAt(e>>8*t+4&15)+"0123456789abcdef".charAt(e>>8*t&15);return r}function l(e,t,r,n,o,i){return a((s=a(a(t,e),a(n,i)))<<(l=o)|s>>>32-l,r);var s,l}function c(e,t,r,o,a,s,c){return l(n(i(t,r),i(~t,o)),e,t,a,s,c)}function u(e,t,r,o,a,s,c){return l(n(i(t,o),i(r,~o)),e,t,a,s,c)}function d(e,t,r,n,i,a,s){return l(o(o(t,r),n),e,t,i,a,s)}function p(e,t,r,i,a,s,c){return l(o(r,n(t,~i)),e,t,a,s,c)}},1236:function(e,t){var r=Math.ceil(10*Math.random());e.exports=function(){return++r}},1237:function(e,t,r){var n=r(2),o=r(229),i=n.createElement;e.exports=o({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||-1===t)return i("span",null,e.string);var r=e.highlight.source.length,n=e.string.substr(t,r);return i("span",null,e.string.split(e.highlight).map((function(e,t){return i("span",{key:t},t>0?i("span",{className:"json-inspector__hl"},n):null,e)})))}})},1238:function(e,t,r){var n=r(2),o=r(229),i=n.createElement,a=r(539);e.exports=o({getDefaultProps:function(){return{onChange:a}},render:function(){return i("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}})},1239:function(e,t,r){var n=r(1240),o=Object.keys,i=r(538),a=r(540);function s(e,t,r){return o(e).reduce((function(o,c){var u,d=e[c];return i(d)?(l(t,c,r)||l(t,d,r))&&(o[c]=d):l(t,c,r)?o[c]=d:(u=s(d,t,r),a(u)||n(o,function(e,t){var r={};return r[e]=t,r}(c,u))),o}),{})}function l(e,t,r){if(t){var n=String(t),o=e;return r.ignoreCase&&(n=n.toLowerCase(),o=o.toLowerCase()),-1!==n.indexOf(o)}}e.exports=function(e,t){t||(t={cacheResults:!0});var r={};return function(n){if(!t.cacheResults)return s(e,n,t);var o;if(!r[n])for(var i=n.length-1;i>0;i-=1)if(o=n.substr(0,i),r[o]){r[n]=s(r[o],n,t);break}return r[n]||(r[n]=s(e,n,t)),r[n]}}},1240:function(e,t,r){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var r,o,i=n(e),a=1;a<arguments.length;a++){r=arguments[a],o=Object.keys(Object(r));for(var s=0;s<o.length;s++)i[o[s]]=r[o[s]]}return i}},1241:function(e,t,r){var n=r(320);function o(e){return parseInt(e,10)}e.exports=function e(t,r){var i=r.split("."),a=i.shift();if(!a)return t;var s=n(t);return"Array"===s&&t[o(a)]?e(t[o(a)],i.join(".")):"Object"===s&&t[a]?e(t[a],i.join(".")):void 0}},1242:function(e,t,r){var n=r(1243);"string"==typeof n&&(n=[[e.i,n,""]]);r(542)(n,{});n.locals&&(e.exports=n.locals)},1243:function(e,t,r){(t=r(541)(!1)).push([e.i,".json-inspector,\n.json-inspector__selection {\n    font: 14px/1.4 Consolas, monospace;\n}\n\n.json-inspector__leaf {\n    padding-left: 10px;\n}\n\n.json-inspector__line {\n    display: block;\n    position: relative;\n\n    cursor: default;\n}\n\n.json-inspector__line:after {\n    content: '';\n\n    position: absolute;\n    top: 0;\n    left: -200px;\n    right: -50px;\n    bottom: 0;\n    z-index: -1;\n\n    pointer-events: none;\n}\n\n.json-inspector__line:hover:after {\n    background: rgba(0, 0, 0, 0.06);\n}\n\n.json-inspector__leaf_composite > .json-inspector__line {\n    cursor: pointer;\n}\n\n.json-inspector__radio,\n.json-inspector__flatpath {\n    display: none;\n}\n\n.json-inspector__value {\n    margin-left: 5px;\n}\n\n.json-inspector__search {\n    min-width: 300px;\n    margin: 0 10px 10px 0;\n    padding: 2px;\n}\n\n.json-inspector__key {\n    color: #505050;\n}\n\n.json-inspector__value_helper,\n.json-inspector__value_null,\n.json-inspector__not-found {\n    color: #b0b0b0;\n}\n\n.json-inspector__value_string {\n    color: #798953;\n}\n\n.json-inspector__value_boolean {\n    color: #75b5aa;\n}\n\n.json-inspector__value_number {\n    color: #d28445;\n}\n\n.json-inspector__hl {\n    background: #ff0;\n    box-shadow: 0 -1px 0 2px #ff0;\n    border-radius: 2px;\n}\n\n.json-inspector__show-original {\n    display: inline-block;\n    padding: 0 6px;\n\n    color: #666;\n    cursor: pointer;\n}\n\n.json-inspector__show-original:hover {\n    color: #111;\n}\n\n.json-inspector__show-original:before {\n    content: '⥂';\n}\n\n.json-inspector__show-original:hover:after {\n    content: ' expand'\n}\n",""]),e.exports=t},1244:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,r]=(0,o.useState)(!1);return o.default.createElement("div",{className:(0,i.default)("image-picker__dropzone",{dropping:t}),onDrop:e=>{e.stopPropagation(),e.preventDefault(),r(!1);const{files:t}=e.dataTransfer;if(t&&t.length>0)for(const e of t)a.ipcRenderer.send("dev-open-analyzer-file",e.name,e.path)},onDragOver:e=>{e.preventDefault(),r(!0)},style:{height:"20px",width:"200px",border:"1px solid orange",display:"inline-block",margin:0,marginLeft:"10px"}})};var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),i=(n=r(5))&&n.__esModule?n:{default:n},a=r(17);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}},1245:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=f(r(2)),i=r(17),a=(n=r(3))&&n.__esModule?n:{default:n},s=r(22),l=r(24),c=r(11),u=f(r(1445)),d=r(1246);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{tourSelector:m}=c.selectors,g=i.remote.getCurrentWindow();class b extends o.Component{constructor(...e){super(...e),h(this,"state",{continuous:!0,loading:this.props.loading,run:this.props.run,steps:this.props.steps,stepIndex:this.props.stepIndex,transitioning:this.props.transitioning,b2bTransition:this.props.b2bTransition,doneTransitioning:!1}),h(this,"handleClickStart",e=>{e.preventDefault(),this.setState({run:!0,stepIndex:0})}),h(this,"handleClickNextButton",()=>{const{stepIndex:e}=this.state;1===this.state.stepIndex&&this.setState({stepIndex:e+1})}),h(this,"handleJoyrideCallback",e=>{const{joyride:t}=this.props,{action:r,index:n,type:o}=e;o===u.EVENTS.STEP_AFTER&&!0===this.props.transitioning&&!1===this.state.doneTransitioning?(this.setState({run:!1,loading:!0}),setTimeout(()=>{this.setState({loading:!1,run:!0})},400),this.props.b2bTransition||this.setState({doneTransitioning:!0})):o===u.EVENTS.STEP_AFTER&&(this.setState({run:!1,loading:!0,doneTransitioning:!1}),setTimeout(()=>{this.setState({loading:!1,run:!0})},400),this.props.actions.tourNext(r),n===this.props.feature.endStep&&g.reload()),"function"==typeof t.callback&&t.callback(e)})}render(){return console.log(this.props,"tour props"),o.default.createElement(u.default,Object.assign({scrollToFirstStep:!0},this.props,{callback:this.handleJoyrideCallback,styles:{options:{zIndex:1001},buttonNext:{backgroundColor:"#ff9466",borderWidth:0},buttonBack:{color:"#ff9466"},tooltipTitle:{color:"black"}}}))}}h(b,"propTypes",{joyride:a.default.shape({callback:a.default.func})}),h(b,"defaultProps",{joyride:{}}),b.propTypes={tour:a.default.object.isRequired,loading:a.default.bool.isRequired,run:a.default.bool.isRequired,steps:a.default.array.isRequired,stepIndex:a.default.number.isRequired,transitioning:a.default.bool,b2bTransition:a.default.bool,actions:a.default.object.isRequired,feature:a.default.object.isRequired};var v=(0,s.connect)((function(e){switch(e.present.tour.feature.name){case"acts":e.present.tour.steps=d.ACTS_TOUR_STEPS;break;default:e.present.tour.run=!1}return m(e.present)}),(function(e){return{actions:(0,l.bindActionCreators)(c.actions.tour,e)}}))(b);t.default=v},1246:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTS_TOUR_STEPS=void 0;const n=[{target:".acts-tour-step1",title:"Plottr by Act & Chapter",content:"Welcome to the next level of Plottr! Click here to use and manage act structures in your Plottr project.",event:"hover",placement:"bottom",spotlightClicks:!0,hideCloseButton:!0,disableBeacon:!0,styles:{buttonNext:{display:"none"}}},{target:".acts-tour-step2",title:"Adding Levels of Structure",content:"Add levels to place your top row timeline cards in their own defined sections. You can have up to three (3) levels for optimal visual arrangement, and can even make cards for entire sections. Think of the second level as a way to organize your top row cards (which will become 'Scenes') into chapters and the third level to organize your chapters into acts, adding layers of specificity and structure to your Plottr project.",placement:"bottom",event:"hover",spotlightClicks:!0,styles:{buttonBack:{display:"none"},buttonNext:{display:"none"}}},{target:".acts-tour-step3",title:"Removing Levels [CAUTION]",content:"You can remove levels of hierarchy, but BE CAREFUL as the cards within that chapter or act may be deleted. Once you decide to go with multiple levels of hierarchy, we recommend sticking with at least as many as you choose to add. Pro-tip: you can always hit 'undo.'",event:"hover",spotlightClicks:!0,disableBeacon:!0},{target:".acts-tour-step4",title:"Naming and Editing Levels",content:'You can manage the settings of each level, including the name of the level that appears on the cards (e.g. "Act"), the color and outline of the level, and whether new cards are autonumbered.',event:"hover",spotlightClicks:!0,disableBeacon:!0},{target:".acts-tour-step5",title:"Take Plottr to the next level!",content:"Make sure you have added levels or the tour will end here.",event:"hover",spotlightClicks:!0,placement:"right",styles:{buttonBack:{display:"none"},buttonNext:{display:"none"},options:{zIndex:0}}},{target:".acts-tour-step6",title:"Adding Acts and Chapters",content:"Click next to higher level cards to add another of that card (e.g. another act). If you just now implemented acts for this project there is only one act (level 3) and/or one chapter (level 2) containing all of your cards. Added acts and chapters display at the end of the section, which may be at the end of the timeline.",event:"hover",spotlightClicks:!0,styles:{buttonBack:{display:"none"},buttonNext:{display:"none"}}},{target:".acts-tour-step7",title:"Compress and Expand Sections",content:"Click to hide the cards within this section for greater ease of navigation. You can click again to show the cards in this section.",event:"hover",spotlightClicks:!0,styles:{buttonBack:{display:"none"},buttonNext:{display:"none"}}},{target:".acts-tour-step8",title:"Adding Lower-Level Cards",content:"Click here to add lower-level cards within their parent section. Lower level cards from other sections can be dragged into this section once there are lower-level cards here (e.g. if this act has at least one chapter then other chapters can be dragged into this act).",event:"hover"},{target:".tour-end",content:"Click the help menu to take the acts tour again! Happy plotting!",spotlightClicks:!1,disableBeacon:!0,placement:"center",styles:{buttonBack:{display:"none"}}}];t.ACTS_TOUR_STEPS=n},1247:function(e,t,r){"use strict";t.__esModule=!0,t.composeWithDevTools=t.default=void 0;var n=r(1248);Object.defineProperty(t,"composeWithDevTools",{enumerable:!0,get:function(){return n.composeWithDevTools}});var o,i=(o=n)&&o.__esModule?o:{default:o};t.default=i.default},1248:function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=Z,t.preEnhancer=J,t.composeWithDevTools=function(){if(0===arguments.length)return Z();if(1===arguments.length&&"object"===n(arguments.length<=0?void 0:arguments[0]))return Q(arguments.length<=0?void 0:arguments[0]);return Q({}).apply(void 0,arguments)};var i=r(545),a=f(r(1251)),s=f(r(1269)),l=r(1278),c=f(r(1279)),u=r(1280),d=f(r(1286)),p=r(1287);function f(e){return e&&e.__esModule?e:{default:e}}var h=void 0,m=void 0,g=void 0,b={},v=void 0,y=void 0,w=void 0,E={},_=void 0,x=void 0,O=void 0,S=void 0,C=void 0,T=void 0,k=void 0,P=void 0,A=void 0,I=void 0,j=void 0,R=void 0,D=void 0,N=void 0,M=void 0,B=void 0;function L(){return(0,p.filterStagedActions)(E.liftedStore.getState(),x)}function F(){h||(h=y&&y.id||Math.random().toString(36).substr(2));try{fetch(I,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({type:"STATE",id:h,name:m,payload:(0,i.stringify)(L())})}).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}function U(e,t,r,n){var o={type:e,id:y.id,name:m};t&&(o.payload="ERROR"===e?t:(0,i.stringify)((0,p.filterState)(t,e,x,M,B,n))),"ACTION"===e?(o.action=(0,i.stringify)(B?B(r.action,n-1):r),o.isExcess=O,o.nextActionId=n):r&&(o.action=r),y.emit(y.id?"log":"log-noid",o)}function z(e){"IMPORT"===e.type||"SYNC"===e.type&&y.id&&e.id!==y.id?E.liftedStore.dispatch({type:"IMPORT_STATE",nextLiftedState:(0,i.parse)(e.state)}):"UPDATE"===e.type?U("STATE",L()):"START"===e.type?(S=!0,"function"==typeof N&&(N=N()),U("STATE",L(),N)):"STOP"===e.type||"DISCONNECTED"===e.type?(S=!1,U("STOP")):"ACTION"===e.type?function(e){try{var t=(0,u.evalAction)(e,N);E.dispatch(t)}catch(e){U("ERROR",e.message)}}(e.action):"DISPATCH"===e.type&&E.liftedStore.dispatch(e.action)}function H(e){setTimeout(e,0)}function W(e){e.message&&e.message===j||(j=e.message,H((function(){E.dispatch(e),C||F()})))}function G(e){return"string"==typeof e?[e]:e&&e.length}function q(e){m=e.name;var t=e.filters||{},r=t.blacklist,n=t.whitelist;x=(0,p.getLocalFilter)({actionsBlacklist:r||e.actionsBlacklist,actionsWhitelist:n||e.actionsWhitelist}),v=e.port?{port:e.port,hostname:e.hostname||"localhost",secure:e.secure}:l.defaultSocketOptions,g=void 0===e.suppressConnectErrors||e.suppressConnectErrors,T=G(e.startOn),k=G(e.stopOn),P=G(e.sendOn),A=e.sendOnError,(P||A)&&(I=e.sendTo||(v.secure?"https":"http")+"://"+v.hostname+":"+v.port,h=e.id),1===A&&(0,d.default)(W),e.actionCreators&&(N=function(){return(0,u.getActionsArray)(e.actionCreators)}),M=e.stateSanitizer,B=e.actionSanitizer}function X(e){C=!1,S=!1,y&&(y.destroyChannel(w),e?y.off(w,z):(y.off(),y.disconnect()))}function V(){C||y&&y.getState()===y.CONNECTING||((y=a.default.connect(v)).on("error",(function(e){b[e.name]=b.hasOwnProperty(e.name)?b[e.name]+1:1,g?1===b[e.name]&&(console.log("remote-redux-devtools: Socket connection errors are being suppressed. \nThis can be disabled by setting suppressConnectErrors to 'false'."),console.log(e)):console.log(e)})),y.on("connect",(function(){console.log("connected to remotedev-server"),b={},y.emit("login","master",(function(e,t){e?console.log(e):(w=t,y.subscribe(t).watch(z),y.on(t,z))})),C=!0,U("START")})),y.on("disconnect",(function(){X(!0)})))}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.liftedStore.getState();return!!e.computedStates[e.currentStateIndex].error&&(C?U("STATE",(0,p.filterStagedActions)(e,x)):F(),!0)}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return _=t.type,!C&&2===A&&E.liftedStore?H(K):t.action&&(T&&!C&&-1!==T.indexOf(t.action.type)?H(V):k&&C&&-1!==k.indexOf(t.action.type)?H(X):P&&!C&&-1!==P.indexOf(t.action.type)&&H(F)),e}function $(e,t,r){if(!K(t))if("PERFORM_ACTION"===_){var n=t.nextActionId,o=t.actionsById[n-1];if((0,p.isFiltered)(o.action,x))return;U("ACTION",e,o,n),!O&&r&&(O=t.stagedActionIds.length>=r)}else{if("JUMP_TO_STATE"===_)return;if("PAUSE_RECORDING"===_?D=t.isPaused:"LOCK_CHANGES"===_&&(R=t.isLocked),D||R){if(!_)return;_=void 0}U("STATE",(0,p.filterStagedActions)(t,x))}}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};q(o({},e,{hostname:(0,c.default)(e.hostname||"localhost")}));var t=void 0!==e.realtime&&e.realtime;if(!t&&!(T||P||A))return function(e){return e};var r=e.maxAge||30;return function(n){return function(o,i){return E=(0,s.default)(n,Y,{maxAge:r,trace:e.trace,traceLimit:e.traceLimit,shouldCatchErrors:!!A,shouldHotReload:e.shouldHotReload,shouldRecordChanges:e.shouldRecordChanges,shouldStartLocked:e.shouldStartLocked,pauseActionType:e.pauseActionType||"@@PAUSED"})(o,i),t&&V(),E.subscribe((function(){S&&$(E.getState(),E.liftedStore.getState(),r)})),E}}}function J(e){return function(t,r,n){return E=e(t,r,n),o({},E,{dispatch:function(e){return R?e:E.dispatch(e)}})}}Z.updateStore=function(e){console.warn("devTools.updateStore is deprecated use composeWithDevTools instead: https://github.com/zalmoxisus/remote-redux-devtools#use-devtools-compose-helper"),E=e};var Q=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(){return[J].concat(r).reduceRight((function(e,t){return t(e)}),Z(e).apply(void 0,arguments))}}}},1249:function(e,t,r){r(547);var n=r(1250),o="undefined"!=typeof WeakMap?WeakMap:function(){var e=[],t=[];return{set:function(r,n){e.push(r),t.push(n)},get:function(r){for(var n=0;n<e.length;n++)if(e[n]===r)return t[n]}}};t.decycle=function e(t,r,i){"use strict";var a=new o,s=!Object.prototype.hasOwnProperty.call(r,"circular"),l=!1!==r.refs;return function t(o,c,u){var d,p,f,h="function"==typeof i?i(u||"",o):o;if(r.date&&h instanceof Date)return{$jsan:"d"+h.getTime()};if(r.regex&&h instanceof RegExp)return{$jsan:"r"+n.getRegexFlags(h)+","+h.source};if(r.function&&"function"==typeof h)return{$jsan:"f"+n.stringifyFunction(h,r.function)};if(r.nan&&"number"==typeof h&&isNaN(h))return{$jsan:"n"};if(r.infinity){if(Number.POSITIVE_INFINITY===h)return{$jsan:"i"};if(Number.NEGATIVE_INFINITY===h)return{$jsan:"y"}}if(r[void 0]&&void 0===h)return{$jsan:"u"};if(r.error&&h instanceof Error)return{$jsan:"e"+h.message};if(r.symbol&&"symbol"==typeof h){var m=Symbol.keyFor(h);return void 0!==m?{$jsan:"g"+m}:{$jsan:"s"+h.toString().slice(7,-1)}}if(r.map&&"function"==typeof Map&&h instanceof Map&&"function"==typeof Array.from)return{$jsan:"m"+JSON.stringify(e(Array.from(h),r,i))};if(r.set&&"function"==typeof Set&&h instanceof Set&&"function"==typeof Array.from)return{$jsan:"l"+JSON.stringify(e(Array.from(h),r,i))};if(h&&"function"==typeof h.toJSON)try{h=h.toJSON(u)}catch(e){var g=u||"$";return"toJSON failed for '"+(a.get(h)||g)+"'"}if(!("object"!=typeof h||null===h||h instanceof Boolean||h instanceof Date||h instanceof Number||h instanceof RegExp||h instanceof String||"symbol"==typeof h||h instanceof Error)){if("object"==typeof h){var b=a.get(h);if(b){if(s&&l)return{$jsan:b};if(0===c.indexOf(b))return s?{$jsan:b}:"function"==typeof r.circular?r.circular(h,c,b):r.circular;if(l)return{$jsan:b}}a.set(h,c)}if("[object Array]"===Object.prototype.toString.apply(h))for(f=[],d=0;d<h.length;d+=1)f[d]=t(h[d],c+"["+d+"]",d);else for(p in f={},h)if(Object.prototype.hasOwnProperty.call(h,p)){var v=/^\w+$/.test(p)?"."+p:"["+JSON.stringify(p)+"]";f[p]="$jsan"===p?[t(h[p],c+v)]:t(h[p],c+v,p)}return f}return h}(t,"$")},t.retrocycle=function(e){"use strict";return function t(r){var o,i,a;if(r&&"object"==typeof r)if("[object Array]"===Object.prototype.toString.apply(r))for(o=0;o<r.length;o+=1)(i=r[o])&&"object"==typeof i&&(i.$jsan?r[o]=n.restore(i.$jsan,e):t(i));else for(a in r){if("string"==typeof r[a]&&"$jsan"===a)return n.restore(r.$jsan,e);"$jsan"===a&&(r[a]=r[a][0]),"object"==typeof r[a]&&(i=r[a])&&"object"==typeof i&&(i.$jsan?r[a]=n.restore(i.$jsan,e):t(i))}return r}(e)}},1250:function(e,t,r){var n=r(547),o=r(546);t.getRegexFlags=function(e){var t="";return e.ignoreCase&&(t+="i"),e.global&&(t+="g"),e.multiline&&(t+="m"),t},t.stringifyFunction=function(e,t){if("function"==typeof t)return t(e);var r=e.toString(),n=r.match(/^[^{]*{|^[^=]*=>/),o=n?n[0]:"<function> ",i="}"===r[r.length-1]?"}":"";return o.replace(/\r\n|\n/g," ").replace(/\s+/g," ")+" /* ... */ "+i},t.restore=function(e,t){var r=e[0],i=e.slice(1);switch(r){case"$":return n(t,e);case"r":var a=i.indexOf(","),s=i.slice(0,a),l=i.slice(a+1);return RegExp(l,s);case"d":return new Date(+i);case"f":var c=function(){throw new Error("can't run jsan parsed function")};return c.toString=function(){return i},c;case"u":return;case"e":var u=new Error(i);return u.stack="Stack is unavailable for jsan parsed errors",u;case"s":return Symbol(i);case"g":return Symbol.for(i);case"m":return new Map(o.parse(i));case"l":return new Set(o.parse(i));case"n":return NaN;case"i":return 1/0;case"y":return-1/0;default:return console.warn("unknown type",e),e}}},1251:function(e,t,r){var n=r(548),o=r(1265);e.exports.factory=o,e.exports.SCClientSocket=n,e.exports.Emitter=r(321),e.exports.create=function(e){return o.create(e)},e.exports.connect=e.exports.create,e.exports.destroy=function(e){return o.destroy(e)},e.exports.clients=o.clients,e.exports.version="14.3.1"},1252:function(e,t,r){var n=r(1253),o=function(e,t,r){n.call(this),this.PENDING="pending",this.SUBSCRIBED="subscribed",this.UNSUBSCRIBED="unsubscribed",this.name=e,this.state=this.UNSUBSCRIBED,this.client=t,this.options=r||{},this.setOptions(this.options)};(o.prototype=Object.create(n.prototype)).setOptions=function(e){e||(e={}),this.waitForAuth=e.waitForAuth||!1,this.batch=e.batch||!1,void 0!==e.data&&(this.data=e.data)},o.prototype.getState=function(){return this.state},o.prototype.subscribe=function(e){this.client.subscribe(this.name,e)},o.prototype.unsubscribe=function(){this.client.unsubscribe(this.name)},o.prototype.isSubscribed=function(e){return this.client.isSubscribed(this.name,e)},o.prototype.publish=function(e,t){this.client.publish(this.name,e,t)},o.prototype.watch=function(e){this.client.watch(this.name,e)},o.prototype.unwatch=function(e){this.client.unwatch(this.name,e)},o.prototype.watchers=function(){return this.client.watchers(this.name)},o.prototype.destroy=function(){this.client.destroyChannel(this.name)},e.exports.SCChannel=o},1253:function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r)for(var n=0,o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},1254:function(e,t){e.exports=function(e){var t=[],r=[];return function e(n,o){var i,a,s;if(!("object"!=typeof n||null===n||n instanceof Boolean||n instanceof Date||n instanceof Number||n instanceof RegExp||n instanceof String)){for(i=0;i<t.length;i+=1)if(t[i]===n)return{$ref:r[i]};if(t.push(n),r.push(o),"[object Array]"===Object.prototype.toString.apply(n))for(s=[],i=0;i<n.length;i+=1)s[i]=e(n[i],o+"["+i+"]");else for(a in s={},n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=e(n[a],o+"["+JSON.stringify(a)+"]"));return s}return n}(e,"$")}},1255:function(e,t){var r=function(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()};r.prototype._checkLocalStorageEnabled=function(){var e;try{global.localStorage,global.localStorage.setItem("__scLocalStorageTest",1),global.localStorage.removeItem("__scLocalStorageTest")}catch(t){e=t}return!e},r.prototype.saveToken=function(e,t,r,n){this.isLocalStorageEnabled&&global.localStorage?global.localStorage.setItem(e,t):this._internalStorage[e]=t,n&&n(null,t)},r.prototype.removeToken=function(e,t){var r;this.loadToken(e,(function(e,t){r=t})),this.isLocalStorageEnabled&&global.localStorage?global.localStorage.removeItem(e):delete this._internalStorage[e],t&&t(null,r)},r.prototype.loadToken=function(e,t){t(null,this.isLocalStorageEnabled&&global.localStorage?global.localStorage.getItem(e):this._internalStorage[e]||null)},e.exports.AuthEngine=r},1256:function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=/^[ \n\r\t]*[{\[]/,o=function(e){for(var t=new Uint8Array(e),n=t.length,o="",i=0;i<n;i+=3)o+=r[t[i]>>2],o+=r[(3&t[i])<<4|t[i+1]>>4],o+=r[(15&t[i+1])<<2|t[i+2]>>6],o+=r[63&t[i+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o},i=function(e,t){if(global.ArrayBuffer&&t instanceof global.ArrayBuffer)return{base64:!0,data:o(t)};if(global.Buffer){if(t instanceof global.Buffer)return{base64:!0,data:t.toString("base64")};if(t&&"Buffer"===t.type&&Array.isArray(t.data))return{base64:!0,data:(global.Buffer.from?global.Buffer.from(t.data):new global.Buffer(t.data)).toString("base64")}}return t};e.exports.decode=function(e){if(null==e)return null;if("#1"===e||"#2"===e)return e;var t=e.toString();if(!n.test(t))return t;try{return JSON.parse(t)}catch(e){}return t},e.exports.encode=function(e){return"#1"===e||"#2"===e?e:JSON.stringify(e,i)}},1257:function(e,t,r){var n,o,i=r(321),a=r(549).Response,s=r(70);global.WebSocket?(n=global.WebSocket,o=function(e,t){return new n(e)}):(n=r(1258),o=function(e,t){return new n(e,null,t)});var l=r(231),c=l.TimeoutError,u=l.BadConnectionError,d=function(e,t,r){var n=this;this.state=this.CLOSED,this.auth=e,this.codec=t,this.options=r,this.connectTimeout=r.connectTimeout,this.pingTimeout=r.ackTimeout,this.pingTimeoutDisabled=!!r.pingTimeoutDisabled,this.callIdGenerator=r.callIdGenerator,this.authTokenName=r.authTokenName,this._pingTimeoutTicker=null,this._callbackMap={},this._batchSendList=[],this.state=this.CONNECTING;var i=this.uri(),a=o(i,this.options);a.binaryType=this.options.binaryType,this.socket=a,a.onopen=function(){n._onOpen()},a.onclose=function(e){var t;t=null==e.code?1005:e.code,n._onClose(t,e.reason)},a.onmessage=function(e,t){n._onMessage(e.data)},a.onerror=function(e){n.state===n.CONNECTING&&n._onClose(1006)},this._connectTimeoutRef=setTimeout((function(){n._onClose(4007),n.socket.close(4007)}),this.connectTimeout)};d.prototype=Object.create(i.prototype),d.CONNECTING=d.prototype.CONNECTING="connecting",d.OPEN=d.prototype.OPEN="open",d.CLOSED=d.prototype.CLOSED="closed",d.prototype.uri=function(){var e,t=this.options.query||{},r=this.options.secure?"wss":"ws";if(this.options.timestampRequests&&(t[this.options.timestampParam]=(new Date).getTime()),(t=s.encode(t)).length&&(t="?"+t),this.options.host)e=this.options.host;else{var n="";this.options.port&&("wss"===r&&443!==this.options.port||"ws"===r&&80!==this.options.port)&&(n=":"+this.options.port),e=this.options.hostname+n}return r+"://"+e+this.options.path+t},d.prototype._onOpen=function(){var e=this;clearTimeout(this._connectTimeoutRef),this._resetPingTimeout(),this._handshake((function(t,r){var n;t?(n=r&&r.code?r.code:4003,e._onError(t),e._onClose(n,t.toString()),e.socket.close(n)):(e.state=e.OPEN,i.prototype.emit.call(e,"open",r),e._resetPingTimeout())}))},d.prototype._handshake=function(e){var t=this;this.auth.loadToken(this.authTokenName,(function(r,n){if(r)e(r);else{t.emit("#handshake",{authToken:n},{force:!0},(function(t,r){r&&(r.authToken=n,r.authError&&(r.authError=l.hydrateError(r.authError))),e(t,r)}))}}))},d.prototype._abortAllPendingEventsDueToBadConnection=function(e){for(var t in this._callbackMap)if(this._callbackMap.hasOwnProperty(t)){var r=this._callbackMap[t];delete this._callbackMap[t],clearTimeout(r.timeout),delete r.timeout;var n="Event '"+r.event+"' was aborted due to a bad connection",o=new u(n,e),i=r.callback;delete r.callback,i.call(r,o,r)}},d.prototype._onClose=function(e,t){delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),clearTimeout(this._pingTimeoutTicker),clearTimeout(this._batchTimeout),this.state===this.OPEN?(this.state=this.CLOSED,i.prototype.emit.call(this,"close",e,t),this._abortAllPendingEventsDueToBadConnection("disconnect")):this.state===this.CONNECTING&&(this.state=this.CLOSED,i.prototype.emit.call(this,"openAbort",e,t),this._abortAllPendingEventsDueToBadConnection("connectAbort"))},d.prototype._handleEventObject=function(e,t){if(e&&null!=e.event){var r=new a(this,e.cid);i.prototype.emit.call(this,"event",e.event,e.data,r)}else if(e&&null!=e.rid){var n=this._callbackMap[e.rid];if(n&&(clearTimeout(n.timeout),delete n.timeout,delete this._callbackMap[e.rid],n.callback)){var o=l.hydrateError(e.error);n.callback(o,e.data)}}else i.prototype.emit.call(this,"event","raw",t)},d.prototype._onMessage=function(e){i.prototype.emit.call(this,"event","message",e);var t=this.decode(e);if("#1"===t)this._resetPingTimeout(),this.socket.readyState===this.socket.OPEN&&this.sendObject("#2");else if(Array.isArray(t))for(var r=t.length,n=0;n<r;n++)this._handleEventObject(t[n],e);else this._handleEventObject(t,e)},d.prototype._onError=function(e){i.prototype.emit.call(this,"error",e)},d.prototype._resetPingTimeout=function(){if(!this.pingTimeoutDisabled){var e=this;(new Date).getTime();clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout((function(){e._onClose(4e3),e.socket.close(4e3)}),this.pingTimeout)}},d.prototype.getBytesReceived=function(){return this.socket.bytesReceived},d.prototype.close=function(e,t){if(e=e||1e3,this.state===this.OPEN){var r={code:e,data:t};this.emit("#disconnect",r),this._onClose(e,t),this.socket.close(e)}else this.state===this.CONNECTING&&(this._onClose(e,t),this.socket.close(e))},d.prototype.emitObject=function(e,t){var r={event:e.event,data:e.data};return e.callback&&(r.cid=e.cid=this.callIdGenerator(),this._callbackMap[e.cid]=e),this.sendObject(r,t),e.cid||null},d.prototype._handleEventAckTimeout=function(e){e.cid&&delete this._callbackMap[e.cid],delete e.timeout;var t=e.callback;if(t){delete e.callback;var r=new c("Event response for '"+e.event+"' timed out");t.call(e,r,e)}},d.prototype.emit=function(e,t,r,n){var o,i,a=this;n?(i=r,o=n):r instanceof Function?(i={},o=r):i=r;var s={event:e,data:t,callback:o};o&&!i.noTimeout&&(s.timeout=setTimeout((function(){a._handleEventAckTimeout(s)}),this.options.ackTimeout));var l=null;return(this.state===this.OPEN||i.force)&&(l=this.emitObject(s,i)),l},d.prototype.cancelPendingResponse=function(e){delete this._callbackMap[e]},d.prototype.decode=function(e){return this.codec.decode(e)},d.prototype.encode=function(e){return this.codec.encode(e)},d.prototype.send=function(e){this.socket.readyState!==this.socket.OPEN?this._onClose(1005):this.socket.send(e)},d.prototype.serializeObject=function(e){var t,r;try{t=this.encode(e)}catch(e){r=e,this._onError(r)}return r?null:t},d.prototype.sendObjectBatch=function(e){var t=this;this._batchSendList.push(e),this._batchTimeout||(this._batchTimeout=setTimeout((function(){if(delete t._batchTimeout,t._batchSendList.length){var e=t.serializeObject(t._batchSendList);null!=e&&t.send(e),t._batchSendList=[]}}),this.options.pubSubBatchDuration||0))},d.prototype.sendObjectSingle=function(e){var t=this.serializeObject(e);null!=t&&this.send(t)},d.prototype.sendObject=function(e,t){t&&t.batch?this.sendObjectBatch(e):this.sendObjectSingle(e)},e.exports.SCTransport=d},1258:function(e,t){var r,n=(r="undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof window&&window||function(){return this}()).WebSocket||r.MozWebSocket;function o(e,t,r){return t?new n(e,t):new n(e)}n&&(o.prototype=n.prototype),e.exports=n?o:null},1259:function(e,t,r){"use strict";e.exports=r(1260)},1260:function(e,t,r){"use strict";var n,o;function i(){if(arguments.length)return i.from(arguments)}function a(){}n="An argument without append, prepend, or detach methods was given to `List",o=i.prototype,i.of=function(){return i.from.call(this,arguments)},i.from=function(e){var t,r,n,o=new this;if(e&&(t=e.length))for(r=-1;++r<t;)null!=(n=e[r])&&o.append(n);return o},o.head=null,o.tail=null,o.toArray=function(){for(var e=this.head,t=[];e;)t.push(e),e=e.next;return t},o.prepend=function(e){if(!e)return!1;if(!e.append||!e.prepend||!e.detach)throw new Error(n+"#prepend`.");var t;return this,(t=this.head)?t.prepend(e):(e.detach(),e.list=this,this.head=e,e)},o.append=function(e){if(!e)return!1;if(!e.append||!e.prepend||!e.detach)throw new Error(n+"#append`.");var t,r;return this,(r=this.tail)?r.append(e):(t=this.head)?t.append(e):(e.detach(),e.list=this,this.head=e,e)},i.Item=a;var s=a.prototype;s.next=null,s.prev=null,s.list=null,s.detach=function(){var e=this.list,t=this.prev,r=this.next;return e?(e.tail===this&&(e.tail=t),e.head===this&&(e.head=r),e.tail===e.head&&(e.tail=null),t&&(t.next=r),r&&(r.prev=t),this.prev=this.next=this.list=null,this):this},s.prepend=function(e){if(!(e&&e.append&&e.prepend&&e.detach))throw new Error(n+"Item#prepend`.");var t=this.list,r=this.prev;return!!t&&(e.detach(),r&&(e.prev=r,r.next=e),e.next=this,e.list=t,this.prev=e,this===t.head&&(t.head=e),t.tail||(t.tail=this),e)},s.append=function(e){if(!(e&&e.append&&e.prepend&&e.detach))throw new Error(n+"Item#append`.");var t=this.list,r=this.next;return!!t&&(e.detach(),r&&(e.next=r,r.prev=e),e.prev=this,e.list=t,this.next=e,this!==t.tail&&t.tail||(t.tail=e),e)},e.exports=i},1261:function(e,t,r){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n=r(1262),o=r(1263),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50;function a(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=a(r),o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(F(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(F(e,SharedArrayBuffer)||e&&F(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);var o=function(e){if(s.isBuffer(e)){var t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||U(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),a(e<0?0:0|f(e))}function d(e){for(var t=e.length<0?0:0|f(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,s.prototype),n}function f(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(o)return n?-1:M(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),U(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(r+l>s&&(r=s-l),i=r;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function y(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(U(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return L(M(t,e.length-r),e,r,n)}function E(e,t,r,n){return L(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return L(B(t),e,r,n)}function x(e,t,r,n){return L(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(F(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(F(i,Uint8Array))o+i.length>n.length?s.from(i).copy(n,o):Uint8Array.prototype.set.call(n,i,o);else{if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o)}o+=i.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,o){if(F(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),l=Math.min(i,a),c=this.slice(n,o),u=e.slice(t,r),d=0;d<l;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=z[e[i]];return o}function P(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function A(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,n,i){return t=+t,r>>>=0,i||j(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,i){return t=+t,r>>>=0,i||j(e,0,r,8),o.write(e,t,r,n,52,8),r+8}s.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||A(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||A(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||A(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||A(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=s.isBuffer(e)?e:s.from(e,n),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%l]}return this};var N=/[^+/0-9A-Za-z-_]/g;function M(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function B(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}var z=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}()},1262:function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),u=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===s&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},1263:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?o-1:0,p=r?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),i-=c}return(f?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[r+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[r+f]=255&a,f+=h,a/=256,c-=8);e[r+f-h]|=128*m}},1264:function(e,t,r){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(e){t=function(){}}try{r=Set}catch(e){r=function(){}}try{n=Promise}catch(e){n=function(){}}function o(i,s,l,c,u){"object"==typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function i(l,h){if(null===l)return null;if(0===h)return l;var m,g;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,r))m=new r;else if(e(l,n))m=new n((function(e,t){l.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(l))m=[];else if(o.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(o.__isDate(l))m=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return m=new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===c?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(c),g=c)}if(s){var b=d.indexOf(l);if(-1!=b)return p[b];d.push(l),p.push(m)}for(var v in e(l,t)&&l.forEach((function(e,t){var r=i(t,h-1),n=i(e,h-1);m.set(r,n)})),e(l,r)&&l.forEach((function(e){var t=i(e,h-1);m.add(t)})),l){var y;g&&(y=Object.getOwnPropertyDescriptor(g,v)),y&&null==y.set||(m[v]=i(l[v],h-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(v=0;v<w.length;v++){var E=w[v];(!(x=Object.getOwnPropertyDescriptor(l,E))||x.enumerable||u)&&(m[E]=i(l[E],h-1),x.enumerable||Object.defineProperty(m,E,{enumerable:!1}))}}if(u){var _=Object.getOwnPropertyNames(l);for(v=0;v<_.length;v++){var x,O=_[v];(x=Object.getOwnPropertyDescriptor(l,O))&&x.enumerable||(m[O]=i(l[O],h-1),Object.defineProperty(m,O,{enumerable:!1}))}}return m}(i,l)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();e.exports&&(e.exports=n)},1265:function(e,t,r){var n=r(548),o=r(231),i=r(1266),a=o.InvalidArgumentsError,s={};function l(e,t){var r=null==e.secure?t:e.secure;return e.port||(global.location&&location.port?location.port:r?443:80)}e.exports={create:function(e){if((e=e||{}).host&&!e.host.match(/[^:]+:\d{2,5}/))throw new a('The host option should include both the hostname and the port number in the format "hostname:port"');if(e.host&&e.hostname)throw new a('The host option should already include the hostname and the port number in the format "hostname:port" - Because of this, you should never use host and hostname options together');if(e.host&&e.port)throw new a('The host option should already include the hostname and the port number in the format "hostname:port" - Because of this, you should never use host and port options together');var t=global.location&&"https:"===location.protocol,r={port:l(e,t),hostname:global.location&&location.hostname||"localhost",path:"/socketcluster/",secure:t,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",authEngine:null,authTokenName:"socketCluster.authToken",binaryType:"arraybuffer",multiplex:!0,pubSubBatchDuration:null,cloneData:!1};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);if(r.clientMap=s,!1===r.multiplex){r.clientId=i.v4();var c=new n(r);return s[r.clientId]=c,c}return r.clientId=function(e){var t=e.secure?"https://":"http://",r="";if(e.query)if("string"==typeof e.query)r=e.query;else{var n=[],o=e.query;for(var i in o)o.hasOwnProperty(i)&&n.push(i+"="+o[i]);n.length&&(r="?"+n.join("&"))}return t+(e.host?e.host:e.hostname+":"+e.port)+e.path+r}(r),s[r.clientId]?r.autoConnect&&s[r.clientId].connect():s[r.clientId]=new n(r),s[r.clientId]},destroy:function(e){e.destroy()},clients:s}},1266:function(e,t,r){var n=r(1267),o=r(1268),i=o;i.v1=n,i.v4=o,e.exports=i},1267:function(e,t,r){var n,o,i=r(550),a=r(551),s=0,l=0;e.exports=function(e,t,r){var c=t&&r||0,u=t||[],d=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==p){var f=i();null==d&&(d=n=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=o=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,o=p;var b=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[c++]=b>>>24&255,u[c++]=b>>>16&255,u[c++]=b>>>8&255,u[c++]=255&b;var v=h/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var y=0;y<6;++y)u[c+y]=d[y];return t||a(u)}},1268:function(e,t,r){var n=r(550),o=r(551);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},1269:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){return(0,i.default)(t,r)(e)};var n,o=r(1270),i=(n=o)&&n.__esModule?n:{default:n}},1270:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liftAction=E,t.liftReducerWith=_,t.unliftState=x,t.unliftStore=O,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof t.maxAge&&t.maxAge<2)throw new Error("DevTools.instrument({ maxAge }) option, if specified, may not be less than 2.");return function(r){return function(n,o){function i(r){if("function"!=typeof r){if(r&&"function"==typeof r.default)throw new Error('Expected the reducer to be a function. Instead got an object with a "default" field. Did you pass a module instead of the default export? Try passing require(...).default instead.');throw new Error("Expected the reducer to be a function.")}return _(r,o,e,t)}var a=r(i(n));if(a.liftedStore)throw new Error("DevTools instrumentation should not be applied more than once. Check your store configuration.");return O(a,i,t)}}},t.INIT_ACTION=t.ActionCreators=t.ActionTypes=void 0;var n=s(r(1271)),o=s(r(1273)),i=s(r(363)),a=s(r(1277));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h={PERFORM_ACTION:"PERFORM_ACTION",RESET:"RESET",ROLLBACK:"ROLLBACK",COMMIT:"COMMIT",SWEEP:"SWEEP",TOGGLE_ACTION:"TOGGLE_ACTION",SET_ACTIONS_ACTIVE:"SET_ACTIONS_ACTIVE",JUMP_TO_STATE:"JUMP_TO_STATE",JUMP_TO_ACTION:"JUMP_TO_ACTION",REORDER_ACTION:"REORDER_ACTION",IMPORT_STATE:"IMPORT_STATE",LOCK_CHANGES:"LOCK_CHANGES",PAUSE_RECORDING:"PAUSE_RECORDING"};t.ActionTypes=h;var m="object"===("undefined"==typeof window?"undefined":f(window))&&(void 0!==window.chrome||void 0!==window.process&&"renderer"===window.process.type),g=m||"undefined"!=typeof process&&process.release&&"node"===process.release.name,b={performAction:function(e,t,r,n){if(!(0,i.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');var o;if(t){var a=0;if("function"==typeof t)o=t(e);else{var s,l=Error();if(Error.captureStackTrace&&g?(r&&Error.stackTraceLimit<r&&(s=Error.stackTraceLimit,Error.stackTraceLimit=r),Error.captureStackTrace(l,n)):a=3,o=l.stack,s&&(Error.stackTraceLimit=s),(a||"number"!=typeof Error.stackTraceLimit||r&&Error.stackTraceLimit>r)&&null!=o){var c=o.split("\n");r&&c.length>r&&(o=c.slice(0,r+a+(c[0].startsWith("Error")?1:0)).join("\n"))}}}return{type:h.PERFORM_ACTION,action:e,timestamp:Date.now(),stack:o}},reset:function(){return{type:h.RESET,timestamp:Date.now()}},rollback:function(){return{type:h.ROLLBACK,timestamp:Date.now()}},commit:function(){return{type:h.COMMIT,timestamp:Date.now()}},sweep:function(){return{type:h.SWEEP}},toggleAction:function(e){return{type:h.TOGGLE_ACTION,id:e}},setActionsActive:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:h.SET_ACTIONS_ACTIVE,start:e,end:t,active:r}},reorderAction:function(e,t){return{type:h.REORDER_ACTION,actionId:e,beforeActionId:t}},jumpToState:function(e){return{type:h.JUMP_TO_STATE,index:e}},jumpToAction:function(e){return{type:h.JUMP_TO_ACTION,actionId:e}},importState:function(e,t){return{type:h.IMPORT_STATE,nextLiftedState:e,noRecompute:t}},lockChanges:function(e){return{type:h.LOCK_CHANGES,status:e}},pauseRecording:function(e){return{type:h.PAUSE_RECORDING,status:e}}};t.ActionCreators=b;var v={type:"@@INIT"};function y(e,t,r,n){return n?function(e,t,r){var n,o=r;try{o=e(r,t)}catch(e){n=e.toString(),m?setTimeout((function(){throw e})):console.error(e)}return{state:o,error:n}}(e,t,r):{state:e(r,t)}}function w(e,t,r,n,o,i,a,s){if(!e||-1===t||t>=e.length&&e.length===i.length)return e;for(var l=e.slice(0,t),c=t;c<i.length;c++){var u=i[c],d=o[u].action,p=l[c-1],f=p?p.state:n,h=void 0;h=a.indexOf(u)>-1?p:s&&p&&p.error?{state:f,error:"Interrupted by an error up the chain"}:y(r,d,f,s),l.push(h)}return l}function E(e,t,r,n){return b.performAction(e,t,r,n)}function _(e,t,r,i){var a={monitorState:r(void 0,{}),nextActionId:1,actionsById:{0:E(v)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!0===i.shouldStartLocked,isPaused:!1===i.shouldRecordChanges};return function(s,c){var u=s||a,f=u.monitorState,m=u.actionsById,g=u.nextActionId,b=u.stagedActionIds,_=u.skippedActionIds,x=u.committedState,O=u.currentStateIndex,S=u.computedStates,C=u.isLocked,T=u.isPaused;function k(e){for(var t=e,r=b.slice(1,t+1),n=0;n<r.length;n++){if(S[n+1].error){t=n,r=b.slice(1,t+1);break}delete m[r[n]]}_=_.filter((function(e){return-1===r.indexOf(e)})),b=[0].concat(l(b.slice(t+1))),x=S[t].state,S=S.slice(t),O=O>t?O-t:0}function P(t){var n;return t?(n=S[O],f=r(f,c)):n=y(e,c.action,S[O].state,!1),i.pauseActionType&&1!==g?(t&&(O===b.length-1&&O++,b=[].concat(l(b),[g]),g++),{monitorState:f,actionsById:d(d({},m),{},p({},g-1,E({type:i.pauseActionType}))),nextActionId:g,stagedActionIds:b,skippedActionIds:_,committedState:x,currentStateIndex:O,computedStates:[].concat(l(S.slice(0,b.length-1)),[n]),isLocked:C,isPaused:!0}):{monitorState:f,actionsById:{0:E(v)},nextActionId:1,stagedActionIds:[0],skippedActionIds:[],committedState:n.state,currentStateIndex:0,computedStates:[n],isLocked:C,isPaused:!0}}s||(m=d({},m));var A,I=0,j=i.maxAge;if("function"==typeof j&&(j=j(c,s)),/^@@redux\/(INIT|REPLACE)/.test(c.type))!1===i.shouldHotReload&&(m={0:E(v)},g=1,b=[0],_=[],x=0===S.length?t:S[O].state,O=0,S=[]),I=0,j&&b.length>j&&(S=w(S,I,e,x,m,b,_,i.shouldCatchErrors),k(b.length-j),I=1/0);else switch(c.type){case h.PERFORM_ACTION:if(C)return s||a;if(T)return P();j&&b.length>=j&&k(b.length-j+1),O===b.length-1&&O++;var R=g++;m[R]=c,I=(b=[].concat(l(b),[R])).length-1;break;case h.RESET:m={0:E(v)},g=1,b=[0],_=[],x=t,O=0,S=[];break;case h.COMMIT:m={0:E(v)},g=1,b=[0],_=[],x=S[O].state,O=0,S=[];break;case h.ROLLBACK:m={0:E(v)},g=1,b=[0],_=[],O=0,S=[];break;case h.TOGGLE_ACTION:var D=c.id,N=_.indexOf(D);_=-1===N?[D].concat(l(_)):_.filter((function(e){return e!==D})),I=b.indexOf(D);break;case h.SET_ACTIONS_ACTIVE:for(var M=c.start,B=c.end,L=c.active,F=[],U=M;U<B;U++)F.push(U);_=L?(0,n.default)(_,F):(0,o.default)(_,F),I=b.indexOf(M);break;case h.JUMP_TO_STATE:O=c.index,I=1/0;break;case h.JUMP_TO_ACTION:var z=b.indexOf(c.actionId);-1!==z&&(O=z),I=1/0;break;case h.SWEEP:b=(0,n.default)(b,_),_=[],O=Math.min(O,b.length-1);break;case h.REORDER_ACTION:var H=c.actionId,W=b.indexOf(H);if(W<1)break;var G=c.beforeActionId,q=b.indexOf(G);if(q<1){var X=b.length;q=G>b[X-1]?X:1}var V=W-q;V>0?(b=[].concat(l(b.slice(0,q)),[H],l(b.slice(q,W)),l(b.slice(W+1))),I=q):V<0&&(b=[].concat(l(b.slice(0,W)),l(b.slice(W+1,q)),[H],l(b.slice(q))),I=W);break;case h.IMPORT_STATE:if(A=c.nextLiftedState,Array.isArray(A))m={0:E(v)},g=1,b=[0],_=[],O=c.nextLiftedState.length,S=[],x=c.preloadedState,I=0,c.nextLiftedState.forEach((function(e){m[g]=E(e,i.trace||i.shouldIncludeCallstack),b.push(g),g++}));else{var K=c.nextLiftedState;f=K.monitorState,m=K.actionsById,g=K.nextActionId,b=K.stagedActionIds,_=K.skippedActionIds,x=K.committedState,O=K.currentStateIndex,S=K.computedStates,c.noRecompute&&(I=1/0)}break;case h.LOCK_CHANGES:C=c.status,I=1/0;break;case h.PAUSE_RECORDING:if(T=c.status)return P(!0);m={0:E(v)},g=1,b=[0],_=[],x=S[O].state,O=0,S=[];break;default:I=1/0}return S=w(S,I,e,x,m,b,_,i.shouldCatchErrors),{monitorState:f=r(f,c),actionsById:m,nextActionId:g,stagedActionIds:b,skippedActionIds:_,committedState:x,currentStateIndex:O,computedStates:S,isLocked:C,isPaused:T}}}function x(e){return e.computedStates[e.currentStateIndex].state}function O(e,t,r){var n,o=r.trace||r.shouldIncludeCallstack,i=r.traceLimit||10;function s(){var t=x(e.getState());return void 0!==t&&(n=t),n}return d(d({},e),{},p({liftedStore:e,dispatch:function t(r){return e.dispatch(E(r,o,i,t)),r},getState:s,replaceReducer:function(r){e.replaceReducer(t(r))}},a.default,(function(){return d(d({},e[a.default]()),{},p({subscribe:function(t){if("object"!==f(t))throw new TypeError("Expected the observer to be an object.");function r(){t.next&&t.next(s())}return r(),{unsubscribe:e.subscribe(r)}}},a.default,(function(){return this})))})))}t.INIT_ACTION=v},1271:function(e,t,r){var n=r(1272),o=r(210),i=r(300),a=r(554),s=i((function(e,t){return a(e)?n(e,o(t,1,a,!0)):[]}));e.exports=s},1272:function(e,t,r){var n=r(292),o=r(552),i=r(553),a=r(158),s=r(161),l=r(293);e.exports=function(e,t,r,c){var u=-1,d=o,p=!0,f=e.length,h=[],m=t.length;if(!f)return h;r&&(t=a(t,s(r))),c?(d=i,p=!1):t.length>=200&&(d=l,p=!1,t=new n(t));e:for(;++u<f;){var g=e[u],b=null==r?g:r(g);if(g=c||0!==g?g:0,p&&b==b){for(var v=m;v--;)if(t[v]===b)continue e;h.push(g)}else d(t,b,c)||h.push(g)}return h}},1273:function(e,t,r){var n=r(210),o=r(300),i=r(1274),a=r(554),s=o((function(e){return i(n(e,1,a,!0))}));e.exports=s},1274:function(e,t,r){var n=r(292),o=r(552),i=r(553),a=r(293),s=r(1275),l=r(294);e.exports=function(e,t,r){var c=-1,u=o,d=e.length,p=!0,f=[],h=f;if(r)p=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);p=!1,u=a,h=new n}else h=t?[]:f;e:for(;++c<d;){var g=e[c],b=t?t(g):g;if(g=r||0!==g?g:0,p&&b==b){for(var v=h.length;v--;)if(h[v]===b)continue e;t&&h.push(b),f.push(g)}else u(h,b,r)||(h!==f&&h.push(b),f.push(g))}return f}},1275:function(e,t,r){var n=r(494),o=r(1276),i=r(294),a=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:o;e.exports=a},1276:function(e,t){e.exports=function(){}},1277:function(e,t,r){"use strict";r.r(t),function(e){var n,o=r(624);n="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:e;var i=Object(o.a)(n);t.default=i}.call(this,r(180)(e))},1278:function(e,t,r){"use strict";t.__esModule=!0;t.defaultSocketOptions={secure:!0,hostname:"remotedev.io",port:443,autoReconnect:!0,autoReconnectOptions:{randomness:3e4}}},1279:function(e,t,r){"use strict";e.exports=function(e){if("object"!=typeof __fbBatchedBridgeConfig||"localhost"!==e&&"127.0.0.1"!==e)return e;var t=function(e){var t="undefined"!=typeof window&&window.__fbBatchedBridgeConfig&&window.__fbBatchedBridgeConfig.remoteModuleConfig;if(!Array.isArray(t)||"localhost"!==e&&"127.0.0.1"!==e)return{hostname:e,passed:!1};var r=e,n=!1;return t.some((function(e){if(!e)return!1;var t=e[0],o=e[1];return("AndroidConstants"===t||"PlatformConstants"===t)&&o&&o.ServerHost?(r=o.ServerHost.split(":")[0],n=!0,!0):!("SourceCode"!==t||!o||!o.scriptURL)&&(r=o.scriptURL.replace(/https?:\/\//,"").split(":")[0],n=!0,!0)})),{hostname:r,passed:n}}(e);return t.passed?t.hostname:function(e){var t,r,n,o=console.warn;if("undefined"==typeof window||!window.__DEV__||"function"!=typeof window.require||"metroRequire"===window.require.name)return e;console.warn=function(){if(!(arguments[0]&&"function"==typeof arguments[0].indexOf&&arguments[0].indexOf("Requiring module 'NativeModules' by name")>-1))return o.apply(console,arguments)};try{t=window.require("NativeModules")}catch(e){}return console.warn=o,t?(r=t.PlatformConstants||t.AndroidConstants,n=t.SourceCode,r&&r.ServerHost?r.ServerHost.split(":")[0]:n&&n.scriptURL?n.scriptURL.replace(/https?:\/\//,"").split(":")[0]:e):e}(e)}},1280:function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.generateId=function(e){return e||(0,a.default)(7)},t.getMethods=function(e){if("object"!==(void 0===e?"undefined":n(e)))return;var t=void 0,r=void 0;e.__proto__&&(r=e.__proto__.__proto__);r||(r=e);return Object.getOwnPropertyNames(r).forEach((function(e){var n=Object.getOwnPropertyDescriptor(r,e);if(n&&!("get"in n)&&!("set"in n)){var i=r[e];"function"==typeof i&&"constructor"!==e&&(t||(t=[]),t.push({name:e||i.name||"anonymous",args:(0,o.default)(i)}))}})),t},t.getActionsArray=function(e){return Array.isArray(e)?e:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[];return Object.keys(t).forEach((function(a){var s=t[a];"function"==typeof s?i.push({name:r+(a||s.name||"anonymous"),func:s,args:(0,o.default)(s)}):"object"===(void 0===s?"undefined":n(s))&&(i=i.concat(e(s,r+a+".")))})),i}(e)},t.evalAction=function(e,t){if("string"==typeof e)return new Function("return "+e)();var r=t[e.selected].func,n=u(e.args,e.rest);return r.apply(void 0,n)},t.evalMethod=function(e,t){if("string"==typeof e)return new Function("return "+e).call(t);var r=u(e.args,e.rest);return new Function("args","return this."+e.name+"(args)").apply(t,r)},t.stringify=function(e,t){if(void 0===t)return function(e){try{return JSON.stringify(e)}catch(t){return i.default.stringify(e,null,null,{circular:"[CIRCULAR]"})}}(e);if(!0===t)return i.default.stringify(e,(function(e,t){return t&&"function"==typeof t.toJS?t.toJS():t}),null,!0);return i.default.stringify(e,t.replacer,null,t.options)},t.getSeralizeParameter=function(e,t){var r=e.serialize;if(r)return!0===r?{options:!0}:r.immutable?{replacer:(0,s.default)(r.immutable,r.refs).replacer,options:r.options||!0}:r.replacer?{replacer:r.replacer,options:r.options||!0}:{options:r.options};var n=e[t];return void 0===n?void 0:(console.warn("`"+t+"` parameter for Redux DevTools Extension is deprecated. Use `serialize` parameter instead: https://github.com/zalmoxisus/redux-devtools-extension/releases/tag/v2.12.1"),"boolean"==typeof serializeState?{options:n}:"function"==typeof serializeState?{replacer:n}:n)},t.getStackTrace=function(e,t){if(!e.trace)return;if("function"==typeof e.trace)return e.trace();var r=void 0,n=0,o=void 0,i=e.traceLimit,a=Error();Error.captureStackTrace?(Error.stackTraceLimit<i&&(o=Error.stackTraceLimit,Error.stackTraceLimit=i),Error.captureStackTrace(a,t)):n=3;r=a.stack,o&&(Error.stackTraceLimit=o);if(n||"number"!=typeof Error.stackTraceLimit||Error.stackTraceLimit>i){var s=r.split("\n");s.length>i&&(r=s.slice(0,i+n+("Error"===s[0]?1:0)).join("\n"))}return r};var o=l(r(1281)),i=l(r(545)),a=l(r(1282)),s=l(r(1283));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return new Function("return "+e)()};function u(e,t){var r=e.map(c);if(!t)return r;var n=c(t);if(Array.isArray(n))return r.concat.apply(r,n);throw new Error("rest must be an array")}},1281:function(e,t,r){var n=function(e){"use strict";if("function"!=typeof e)return[];var t=e.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,""),r=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(/([^\s,]+)/g);return null===r?[]:r};void 0!==e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.GetParams=n)},1282:function(e,t){for(var r="-_",n=36;n--;)r+=n.toString(36);for(n=36;n---10;)r+=n.toString(36).toUpperCase();e.exports=function(e){var t="";for(n=e||21;n--;)t+=r[64*Math.random()|0];return t}},1283:function(e,t,r){var n=r(1284),o=n.mark,i=n.extract,a=n.refer,s=r(1285);e.exports=function(e,t,r,n){function l(r,n){return n instanceof e.Record?a(n,"ImmutableRecord","toObject",t):n instanceof e.Range?i(n,"ImmutableRange"):n instanceof e.Repeat?i(n,"ImmutableRepeat"):e.OrderedMap.isOrderedMap(n)?o(n,"ImmutableOrderedMap","toObject"):e.Map.isMap(n)?o(n,"ImmutableMap","toObject"):e.List.isList(n)?o(n,"ImmutableList","toArray"):e.OrderedSet.isOrderedSet(n)?o(n,"ImmutableOrderedSet","toArray"):e.Set.isSet(n)?o(n,"ImmutableSet","toArray"):e.Seq.isSeq(n)?o(n,"ImmutableSeq","toArray"):e.Stack.isStack(n)?o(n,"ImmutableStack","toArray"):n}function c(r,n){if("object"==typeof n&&null!==n&&"__serializedType__"in n){var o=n.data;switch(n.__serializedType__){case"ImmutableMap":return e.Map(o);case"ImmutableOrderedMap":return e.OrderedMap(o);case"ImmutableList":return e.List(o);case"ImmutableRange":return e.Range(o._start,o._end,o._step);case"ImmutableRepeat":return e.Repeat(o._value,o.size);case"ImmutableSet":return e.Set(o);case"ImmutableOrderedSet":return e.OrderedSet(o);case"ImmutableSeq":return e.Seq(o);case"ImmutableStack":return e.Stack(o);case"ImmutableRecord":return t&&t[n.__serializedRef__]?new t[n.__serializedRef__](o):e.Map(o);default:return o}}return n}return{replacer:r?function(e,t){return r(e,t,l)}:l,reviver:n?function(e,t){return n(e,t,c)}:c,options:s}}},1284:function(e,t){function r(e,t,r){return{data:r?e[r]():e,__serializedType__:t}}e.exports={mark:r,extract:function(e,t){return{data:Object.assign({},e),__serializedType__:t}},refer:function(e,t,n,o){var i=r(e,t,n);if(!o)return i;for(var a=0;a<o.length;a++){var s=o[a];if("function"==typeof s&&e instanceof s)return i.__serializedRef__=a,i}return i}}},1285:function(e,t){e.exports={refs:!1,date:!0,function:!0,regex:!0,undefined:!0,error:!0,symbol:!0,map:!0,set:!0,nan:!0,infinity:!0}},1286:function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){"object"===("undefined"==typeof window?"undefined":o(window))&&"object"===o(window.onerror)?window.onerror=function(t,r,n,o,a){var s={type:i,message:t,url:r,lineNo:n,columnNo:o};return a&&a.stack&&(s.stack=a.stack),e(s),!1}:"undefined"!=typeof global&&global.ErrorUtils&&global.ErrorUtils.setGlobalHandler((function(t,r){e({type:i,error:t,isFatal:r})}));"object"!==("undefined"==typeof console?"undefined":o(console))||"function"!=typeof console.error||console.beforeRemotedev||(console.beforeRemotedev=console.error.bind(console),console.error=function(){var t={type:i},r=arguments[0];t.message=r.message?r.message:r,r.sourceURL&&(t=n({},t,{sourceURL:r.sourceURL,line:r.line,column:r.column})),r.stack&&(t.stack=r.stack),e(t),console.beforeRemotedev.apply(null,arguments)})};var i="@@remotedev/ERROR"},1287:function(e,t,r){"use strict";t.__esModule=!0,t.FilterState=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.arrToRegex=function(e){return"string"==typeof e?e:e.join("|")},t.getLocalFilter=function(e){if(e.actionsBlacklist||e.actionsWhitelist)return{whitelist:e.actionsWhitelist&&e.actionsWhitelist.join("|"),blacklist:e.actionsBlacklist&&e.actionsBlacklist.join("|")};return},t.isFiltered=d,t.filterStagedActions=function(e,t){if(!t)return e;var r=[],o=[];return e.stagedActionIds.forEach((function(n,i){d(e.actionsById[n],t)||(r.push(n),o.push(e.computedStates[i]))})),n({},e,{stagedActionIds:r,computedStates:o})},t.filterState=function(e,t,r,o,i,a,p){if("ACTION"===t)return o?o(e,a-1):e;if("STATE"!==t)return e;var f=u().filter;if(p||r||f&&f!==s.DO_NOT_FILTER){var h=[],m=[],g=i&&{},b=e.actionsById,v=e.computedStates;return e.stagedActionIds.forEach((function(e,t){var a=b[e],s=a.action,l=v[t],c=l.state;if(t){if(p&&!p(c,s))return;if(d(s,r))return}h.push(e),m.push(o?n({},l,{state:o(c,t)}):l),i&&(g[e]=n({},a,{action:i(s,e)}))})),n({},e,{actionsById:g||b,stagedActionIds:h,computedStates:m})}return o||i?n({},e,{actionsById:l(e.actionsById,i),computedStates:c(e.computedStates,o)}):e};var o,i=r(1288),a=(o=i)&&o.__esModule?o:{default:o};var s=t.FilterState={DO_NOT_FILTER:"DO_NOT_FILTER",BLACKLIST_SPECIFIC:"BLACKLIST_SPECIFIC",WHITELIST_SPECIFIC:"WHITELIST_SPECIFIC"};function l(e,t){return t?(0,a.default)(e,(function(e,r){return n({},e,{action:t(e.action,r)})})):e}function c(e,t){return t?e.map((function(e,r){return n({},e,{state:t(e.state,r)})})):e}function u(){return"undefined"!=typeof window&&window.devToolsOptions||{}}function d(e,t){var r=(e.action||e).type,n=u();if(!t&&n.filter&&n.filter===s.DO_NOT_FILTER||r&&"function"!=typeof r.match)return!1;var o=t||n,i=o.whitelist,a=o.blacklist;return i&&!r.match(i)||a&&r.match(a)}},1288:function(e,t,r){var n=r(162),o=r(498),i=r(219);e.exports=function(e,t){var r={};return t=i(t,3),o(e,(function(e,o,i){n(r,o,t(e,o,i))})),r}},1289:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(25)),o=r(17),i=r(7),a=c(r(33)),s=r(322),l=r(11);function c(e){return e&&e.__esModule?e:{default:e}}const{FILE_SAVED:u,FILE_LOADED:d,SET_DARK_MODE:p}=l.ActionTypes,f=o.remote.dialog,h=o.remote.getCurrentWindow(),m=[u,d,p];let g=!0;var b=e=>t=>r=>{const o=t(r);if(m.includes(r.type))return o;const l=e.getState().present;return function(e,t){let r="";r=JSON.stringify(t);n.default.writeFile(e,r,r=>{(0,s.saveBackup)(e,t,t=>{t&&(a.default.warn("[save state backup]",t),rollbar.error({message:"BACKUP failed"}),rollbar.warn(t,{fileName:e}))}),r?(a.default.warn(r),rollbar.warn(r,{fileName:e}),g=!1,f.showErrorBox((0,i.t)("Auto-saving failed"),(0,i.t)("Saving your file didn't work. Check where it's stored."))):g||(g=!0,f.showMessageBox(h,{title:(0,i.t)("Auto-saving worked"),message:(0,i.t)("Saving worked this time 🎉")}))})}(l.file.fileName,l),o};t.default=b},1290:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(11),o=a(r(67)),i=a(r(116));function a(e){return e&&e.__esModule?e:{default:e}}const{ADD_LINES_FROM_TEMPLATE:s,ADD_CARD:l}=n.ActionTypes,c=[s];var u=e=>t=>r=>{const n=t(r);if(!c.includes(r.type))return n;if(!i.default.get("payment_id"))return n;const a=e.getState();if(a&&a.ui&&a.file){const e={timeline_orientation:a.ui.orientation,version:a.file.version};r.type==s&&o.default.push("use_timeline_template",{...e,template:r.templateName})}return n};t.default=u},1291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e=>e=>t=>e(t);t.default=n},1292:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(543);var o=e=>e=>t=>((0,n.setPreviousAction)(t),e(t));t.default=o},1293:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.set(t.debug);var r,n=c({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:i.ActionTypes.UNDO,redoType:i.ActionTypes.REDO,jumpToPastType:i.ActionTypes.JUMP_TO_PAST,jumpToFutureType:i.ActionTypes.JUMP_TO_FUTURE,jumpType:i.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},t,{initTypes:(0,a.parseActions)(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,a.parseActions)(t.clearHistoryType,[i.ActionTypes.CLEAR_HISTORY])}),s=n.neverSkipReducer?function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return c({},t,{present:e.apply(void 0,[t.present,r].concat(o))})}:function(e){return e};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.start(i,t);for(var l,c=t,u=arguments.length,d=new Array(u>2?u-2:0),v=2;v<u;v++)d[v-2]=arguments[v];if(!r){if(o.log("history is uninitialized"),void 0===t){var y={type:"@@redux-undo/CREATE_HISTORY"},w=e.apply(void 0,[t,y].concat(d));return c=p(w,n.ignoreInitialState),o.log("do not set initialState on probe actions"),o.end(c),c}(0,a.isHistory)(t)?(c=r=n.ignoreInitialState?t:(0,a.newHistory)(t.past,t.present,t.future),o.log("initialHistory initialized: initialState is a history",r)):(c=r=p(t,n.ignoreInitialState),o.log("initialHistory initialized: initialState is not a history",r))}switch(i.type){case void 0:return c;case n.undoType:return l=g(c,-1),o.log("perform undo"),o.end(l),s.apply(void 0,[l,i].concat(d));case n.redoType:return l=g(c,1),o.log("perform redo"),o.end(l),s.apply(void 0,[l,i].concat(d));case n.jumpToPastType:return l=m(c,i.index),o.log("perform jumpToPast to ".concat(i.index)),o.end(l),s.apply(void 0,[l,i].concat(d));case n.jumpToFutureType:return l=h(c,i.index),o.log("perform jumpToFuture to ".concat(i.index)),o.end(l),s.apply(void 0,[l,i].concat(d));case n.jumpType:return l=g(c,i.index),o.log("perform jump to ".concat(i.index)),o.end(l),s.apply(void 0,[l,i].concat(d));case b(i.type,n.clearHistoryType):return l=p(c.present,n.ignoreInitialState),o.log("perform clearHistory"),o.end(l),s.apply(void 0,[l,i].concat(d));default:if(l=e.apply(void 0,[c.present,i].concat(d)),n.initTypes.some((function(e){return e===i.type})))return o.log("reset history due to init action"),o.end(r),r;if(c._latestUnfiltered===l)return c;var E="function"==typeof n.filter&&!n.filter(i,l,c);if(E){var _=(0,a.newHistory)(c.past,l,c.future,c.group);return n.syncFilter||(_._latestUnfiltered=c._latestUnfiltered),o.log("filter ignored action, not storing it in past"),o.end(_),_}var x=n.groupBy(i,l,c);if(null!=x&&x===c.group){var O=(0,a.newHistory)(c.past,l,c.future,c.group);return o.log("groupBy grouped the action with the previous action"),o.end(O),O}return c=f(c,l,n.limit,x),o.log("inserted new state into history"),o.end(c),c}}};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(1294)),i=r(556),a=r(557);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){var r=(0,a.newHistory)([],e,[]);return t&&(r._latestUnfiltered=null),r}function f(e,t,r,n){var i=e.past.length+1;o.log("inserting",t),o.log("new free: ",r-i);var s=e.past,l=e._latestUnfiltered,c=r&&r<=i,u=s.slice(c?1:0),p=null!=l?[].concat(d(u),[l]):u;return(0,a.newHistory)(p,t,[],n)}function h(e,t){if(t<0||t>=e.future.length)return e;var r=e.past,n=e.future,o=e._latestUnfiltered,i=[].concat(d(r),[o],d(n.slice(0,t))),s=n[t],l=n.slice(t+1);return(0,a.newHistory)(i,s,l)}function m(e,t){if(t<0||t>=e.past.length)return e;var r=e.past,n=e.future,o=e._latestUnfiltered,i=r.slice(0,t),s=[].concat(d(r.slice(t+1)),[o],d(n)),l=r[t];return(0,a.newHistory)(i,l,s)}function g(e,t){return t>0?h(e,t-1):t<0?m(e,e.past.length+t):e}function b(e,t){return t.indexOf(e)>-1?e:!e}},1294:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e){o=e},t.start=function(e,t){void(i={header:[],prev:[],action:[],next:[],msgs:[]}),o&&(console.group?(i.header=["%credux-undo","font-style: italic","action",e.type],i.action=c("action",s,e),i.prev=c("prev history",a,t)):(i.header=["redux-undo action",e.type],i.action=["action",e],i.prev=["prev history",t]))},t.end=function(e){o&&(console.group?i.next=c("next history",l,e):i.next=["next history",e],function(){var e=i,t=e.header,r=e.prev,o=e.next,a=e.action,s=e.msgs;if(console.group){var l,c,u,d,p;(l=console).groupCollapsed.apply(l,n(t)),(c=console).log.apply(c,n(r)),(u=console).log.apply(u,n(a)),(d=console).log.apply(d,n(o)),(p=console).log.apply(p,n(s)),console.groupEnd()}else{var f,h,m,g,b;(f=console).log.apply(f,n(t)),(h=console).log.apply(h,n(r)),(m=console).log.apply(m,n(a)),(g=console).log.apply(g,n(o)),(b=console).log.apply(b,n(s))}}())},t.log=function(){if(o){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.msgs=i.msgs.concat([].concat(t,["\n"]))}};var a="#9E9E9E",s="#03A9F4",l="#4CAF50";function c(e,t,r){return["%c".concat(e),"color: ".concat(t,"; font-weight: bold"),r]}},1296:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(1297),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default,e.exports=t.default},1297:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(2),a=h(i),s=h(r(10)),l=h(r(3)),c=h(r(1298)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(561)),d=r(324),p=h(d),f=r(382);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",y=d.canUseDOM&&void 0!==s.default.createPortal,w=function(){return y?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function E(e){return e()}var _=function(e){function t(){var e,r,o;m(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return r=o=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!y&&s.default.unmountComponentAtNode(o.node);var e=E(o.props.parentSelector);e&&e.contains(o.node)?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var r=w()(o,a.default.createElement(c.default,n({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(r)},g(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(y||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,E(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:E(e.parentSelector),nextParent:E(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,r){if(d.canUseDOM){var n=this.props,o=n.isOpen,i=n.portalClassName;e.portalClassName!==i&&(this.node.className=i);var a=r.prevParent,s=r.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),r=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);r?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,r-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&y?(!this.node&&y&&(this.node=document.createElement("div")),w()(a.default.createElement(c.default,n({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(i.Component);_.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(p.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(p.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},_.defaultProps={isOpen:!1,portalClassName:b,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(_),t.default=_},1298:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(2),s=g(r(3)),l=m(r(1299)),c=g(r(1300)),u=m(r(561)),d=m(r(1302)),p=r(324),f=g(p),h=g(r(562));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}r(1303);var b={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=0,y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setOverlayRef=function(e){r.overlay=e,r.props.overlayRef&&r.props.overlayRef(e)},r.setContentRef=function(e){r.content=e,r.props.contentRef&&r.props.contentRef(e)},r.afterClose=function(){var e=r.props,t=e.appElement,n=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&d.remove(document.body,i),o&&d.remove(document.getElementsByTagName("html")[0],o),n&&v>0&&0===(v-=1)&&u.show(t),r.props.shouldFocusAfterRender&&(r.props.shouldReturnFocusAfterClose?(l.returnFocus(r.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),r.props.onAfterClose&&r.props.onAfterClose(),h.default.deregister(r)},r.open=function(){r.beforeOpen(),r.state.afterOpen&&r.state.beforeClose?(clearTimeout(r.closeTimer),r.setState({beforeClose:!1})):(r.props.shouldFocusAfterRender&&(l.setupScopedFocus(r.node),l.markForFocusLater()),r.setState({isOpen:!0},(function(){r.setState({afterOpen:!0}),r.props.isOpen&&r.props.onAfterOpen&&r.props.onAfterOpen({overlayEl:r.overlay,contentEl:r.content})})))},r.close=function(){r.props.closeTimeoutMS>0?r.closeWithTimeout():r.closeWithoutTimeout()},r.focusContent=function(){return r.content&&!r.contentHasFocus()&&r.content.focus({preventScroll:!0})},r.closeWithTimeout=function(){var e=Date.now()+r.props.closeTimeoutMS;r.setState({beforeClose:!0,closesAt:e},(function(){r.closeTimer=setTimeout(r.closeWithoutTimeout,r.state.closesAt-Date.now())}))},r.closeWithoutTimeout=function(){r.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},r.afterClose)},r.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(r.content,e),r.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),r.requestClose(e))},r.handleOverlayOnClick=function(e){null===r.shouldClose&&(r.shouldClose=!0),r.shouldClose&&r.props.shouldCloseOnOverlayClick&&(r.ownerHandlesClose()?r.requestClose(e):r.focusContent()),r.shouldClose=null},r.handleContentOnMouseUp=function(){r.shouldClose=!1},r.handleOverlayOnMouseDown=function(e){r.props.shouldCloseOnOverlayClick||e.target!=r.overlay||e.preventDefault()},r.handleContentOnClick=function(){r.shouldClose=!1},r.handleContentOnMouseDown=function(){r.shouldClose=!1},r.requestClose=function(e){return r.ownerHandlesClose()&&r.props.onRequestClose(e)},r.ownerHandlesClose=function(){return r.props.onRequestClose},r.shouldBeClosed=function(){return!r.state.isOpen&&!r.state.beforeClose},r.contentHasFocus=function(){return document.activeElement===r.content||r.content.contains(document.activeElement)},r.buildClassName=function(e,t){var n="object"===(void 0===t?"undefined":o(t))?t:{base:b[e],afterOpen:b[e]+"--after-open",beforeClose:b[e]+"--before-close"},i=n.base;return r.state.afterOpen&&(i=i+" "+n.afterOpen),r.state.beforeClose&&(i=i+" "+n.beforeClose),"string"==typeof t&&t?i+" "+t:i},r.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(r,n){return r[e+"-"+n]=t[n],r}),{})},r.state={afterOpen:!1,beforeClose:!1},r.shouldClose=null,r.moveFromContentToOverlay=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,r=e.ariaHideApp,n=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&d.add(document.body,o),n&&d.add(document.getElementsByTagName("html")[0],n),r&&(v+=1,u.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.className,o=e.overlayClassName,i=e.defaultStyles,a=e.children,s=r?{}:i.content,l=o?{}:i.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:n({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=n({id:t,ref:this.setContentRef,style:n({},s,this.props.style.content),className:this.buildClassName("content",r),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(u,a);return this.props.overlayElement(c,d)}}]),t}(a.Component);y.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},y.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(f.default),s.default.instanceOf(p.SafeHTMLCollection),s.default.instanceOf(p.SafeNodeList),s.default.arrayOf(s.default.instanceOf(f.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=y,e.exports=t.default},1299:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var n,o=r(560),i=(n=o)&&n.__esModule?n:{default:n};var a=[],s=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()}),0)}}},1300:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,i.default)(e);if(!r.length)return void t.preventDefault();var n=void 0,o=t.shiftKey,a=r[0],s=r[r.length-1];if(e===document.activeElement){if(!o)return;n=s}s!==document.activeElement||o||(n=a);a===document.activeElement&&o&&(n=s);if(n)return t.preventDefault(),void n.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=r.indexOf(document.activeElement);c>-1&&(c+=o?-1:1);if(void 0===(n=r[c]))return t.preventDefault(),void(n=o?s:a).focus();t.preventDefault(),n.focus()};var n,o=r(560),i=(n=o)&&n.__esModule?n:{default:n};e.exports=t.default},1301:function(e,t,r){"use strict";var n=function(){};e.exports=n},1302:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var n={},o={};t.add=function(e,t){return r=e.classList,i="html"==e.nodeName.toLowerCase()?n:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),r.add(e)}));var r,i},t.remove=function(e,t){return r=e.classList,i="html"==e.nodeName.toLowerCase()?n:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&r.remove(e)}));var r,i}},1303:function(e,t,r){"use strict";var n,o=r(562),i=(n=o)&&n.__esModule?n:{default:n};var a=void 0,s=void 0,l=[];function c(){0!==l.length&&l[l.length-1].focusContent()}i.default.subscribe((function(e,t){a&&s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",c),(s=a.cloneNode()).addEventListener("focus",c)),(l=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},1304:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNewCustomTemplate=function(e,{type:t,data:r}){"plotlines"===t?function(e,{name:t,description:r,link:n}){const i=(0,o.default)(e),a=u("pl"),d=i.ui.currentTimeline;let p={id:a,version:c.getVersion(),type:"plotlines",name:t,description:r,link:n,templateData:{}};const f=i.beats[d];p.templateData.beats={1:l.tree.map(f,e=>(e.bookId=1,e))};const h=i.lines.filter(e=>e.bookId===d);if(p.templateData.lines=h.map(e=>(e.bookId=1,e)),i.cards.length){const e=l.helpers.beats.beatIds(f);let t=[];h.forEach(r=>{const n=i.cards.filter(({beatId:t,lineId:n})=>e.includes(t)&&n==r.id);t=t.concat(n)}),p.templateData.cards=t}s.customTemplatesStore.set(a,p)}(e,r):"characters"===t?function(e,{name:t,description:r,link:n}){const i=(0,o.default)(e);let a=u("ch");const l={id:a,version:c.getVersion(),type:"characters",name:t,description:r,link:n,attributes:i.customAttributes.characters};s.customTemplatesStore.set(a,l)}(e,r):"scenes"===t&&function(e,{name:t,description:r,link:n}){const i=(0,o.default)(e);let a=u("sc");const l={id:a,version:c.getVersion(),type:"scenes",name:t,description:r,link:n,attributes:i.customAttributes.scenes};s.customTemplatesStore.set(a,l)}(e,r);try{new Notification((0,a.t)("Template Saved"),{body:(0,a.t)("Your template has been saved and is ready to use"),silent:!0})}catch(e){}};var n,o=(n=r(314))&&n.__esModule?n:{default:n},i=r(17),a=r(7),s=r(34),l=r(11);const{app:c}=i.remote;function u(e){return Math.random().toString(16).replace("0.",""+e).substr(0,8)}},1305:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFlagConsistent=t.dispatchingToStore=void 0;t.dispatchingToStore=e=>t=>()=>{e(t())};t.makeFlagConsistent=(e,t,r,n,o)=>{!e.featureFlags&&t?n():e.featureFlags||t?!e.featureFlags[r]&&t?n():e.featureFlags[r]&&!t&&o():o()}},133:function(e,t,r){"use strict";const{Paragraph:n,TextRun:o,HeadingLevel:i,Media:a}=r(83),s=(e,t)=>e&&e.flatMap?"string"==typeof e?[new n({children:[l({text:e})]})]:e.flatMap(e=>{if(!e.children)return l(e);const r=s(e.children,t);switch(e.type){case"bulleted-list":return r.map(e=>e instanceof o?new n({children:[e],bullet:{level:0}}):e instanceof n?new n({children:[e.root[1]],bullet:{level:0}}):void 0);case"heading-one":case"heading-two":{const t="heading-one"===e.type?i.HEADING_4:i.HEADING_5;return e.children.map(e=>null!=e.text?new n({children:[l(e)],heading:t}):"paragraph"===e.type?new n({children:e.children.map(l),heading:t}):void 0)}case"list-item":return r[0];case"numbered-list":return r.map(e=>new n({children:[e],bullet:{level:0}}));case"link":return t.createHyperlink(e.url,e.url);case"image-link":return new n({children:[t.createHyperlink(e.url,e.url),...r]});case"image-data":{const r=e.data,o=a.addImage(t,Buffer.from(r.replace("data:image/jpeg;base64,",""),"base64"));return new n({children:[o]})}case"block-quote":case"paragraph":default:if(Array.isArray(r))return new n({children:r})}}):[],l=e=>{const t={text:e.text};return e.bold&&(t.bold=!0),e.italic&&(t.italics=!0),e.underline&&(t.underline={}),e.color&&(t.color=e.color.replace("#","")),e.strike&&(t.strike=!0),e.font&&(t.font={hint:e.font,name:e.font}),new o(t)};e.exports=s},1443:function(e,t,r){"use strict";r.r(t),r.d(t,"DragDropContext",(function(){return Po})),r.d(t,"Draggable",(function(){return ui})),r.d(t,"Droppable",(function(){return hi})),r.d(t,"resetServerContext",(function(){return ko})),r.d(t,"useKeyboardSensor",(function(){return co})),r.d(t,"useMouseSensor",(function(){return io})),r.d(t,"useTouchSensor",(function(){return po}));var n=r(2),o=r.n(n);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=r(359),c=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function d(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(p)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],s=a,c=!1;function f(){s===a&&(s=a.slice())}function h(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return f(),s.push(e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,f();var r=s.indexOf(e);s.splice(r,1),a=null}}}function g(e){if(!d(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=s,r=0;r<t.length;r++){(0,t[r])()}return e}function b(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,g({type:u.REPLACE})}function v(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(h())}return r(),{unsubscribe:t(r)}}})[l.a]=function(){return this},e}return g({type:u.INIT}),(n={dispatch:g,subscribe:m,getState:h,replaceReducer:b})[l.a]=v,n}function f(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"==typeof e)return f(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=f(o,t))}return r}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}r(3);var y=o.a.createContext(null);var w=function(e){e()},E={notify:function(){}};function _(){var e=w,t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){n&&null!==t&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var x=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=E,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=_())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=E)},e}(),O="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;var S=function(e){var t=e.store,r=e.context,i=e.children,a=Object(n.useMemo)((function(){var e=new x(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=Object(n.useMemo)((function(){return t.getState()}),[t]);O((function(){var e=a.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,s]);var l=r||y;return o.a.createElement(l.Provider,{value:a},i)};function C(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var T=r(236),k=r.n(T),P=r(47),A=[],I=[null,null];function j(e,t){var r=e[1];return[t.payload,r+1]}function R(e,t,r){O((function(){return e.apply(void 0,t)}),r)}function D(e,t,r,n,o,i,a){e.current=n,t.current=o,r.current=!1,i.current&&(i.current=null,a())}function N(e,t,r,n,o,i,a,s,l,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,r,p=t.getState();try{e=n(p,o.current)}catch(e){r=e,d=e}r||(d=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=p,r.trySubscribe(),p();return function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d}}}var M=function(){return[null,0]};function B(e,t){void 0===t&&(t={});var r=t,i=r.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,l=r.methodName,c=void 0===l?"connectAdvanced":l,u=r.renderCountProp,d=void 0===u?void 0:u,p=r.shouldHandleStateChanges,f=void 0===p||p,h=r.storeKey,m=void 0===h?"store":h,g=(r.withRef,r.forwardRef),b=void 0!==g&&g,v=r.context,w=void 0===v?y:v,E=C(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),_=w;return function(t){var r=t.displayName||t.name||"Component",i=a(r),l=s({},E,{getDisplayName:a,methodName:c,renderCountProp:d,shouldHandleStateChanges:f,storeKey:m,displayName:i,wrappedComponentName:r,WrappedComponent:t}),u=E.pure;var p=u?n.useMemo:function(e){return e()};function h(r){var i=Object(n.useMemo)((function(){var e=r.reactReduxForwardedRef,t=C(r,["reactReduxForwardedRef"]);return[r.context,e,t]}),[r]),a=i[0],c=i[1],u=i[2],d=Object(n.useMemo)((function(){return a&&a.Consumer&&Object(P.isContextConsumer)(o.a.createElement(a.Consumer,null))?a:_}),[a,_]),h=Object(n.useContext)(d),m=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var g=m?r.store:h.store,b=Object(n.useMemo)((function(){return function(t){return e(t.dispatch,l)}(g)}),[g]),v=Object(n.useMemo)((function(){if(!f)return I;var e=new x(g,m?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[g,m,h]),y=v[0],w=v[1],E=Object(n.useMemo)((function(){return m?h:s({},h,{subscription:y})}),[m,h,y]),O=Object(n.useReducer)(j,A,M),S=O[0][0],T=O[1];if(S&&S.error)throw S.error;var k=Object(n.useRef)(),B=Object(n.useRef)(u),L=Object(n.useRef)(),F=Object(n.useRef)(!1),U=p((function(){return L.current&&u===B.current?L.current:b(g.getState(),u)}),[g,S,u]);R(D,[B,k,F,u,U,L,w]),R(N,[f,g,y,b,B,k,F,L,w,T],[g,y,b]);var z=Object(n.useMemo)((function(){return o.a.createElement(t,s({},U,{ref:c}))}),[c,t,U]);return Object(n.useMemo)((function(){return f?o.a.createElement(d.Provider,{value:E},z):z}),[d,z,E])}var g=u?o.a.memo(h):h;if(g.WrappedComponent=t,g.displayName=i,b){var v=o.a.forwardRef((function(e,t){return o.a.createElement(g,s({},e,{reactReduxForwardedRef:t}))}));return v.displayName=i,v.WrappedComponent=t,k()(v,t)}return k()(g,t)}}function L(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function F(e,t){if(L(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!L(e[r[o]],t[r[o]]))return!1;return!0}function U(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function z(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function H(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=z(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=z(o),o=n(t,r)),o},n}}var W=[function(e){return"function"==typeof e?H(e):void 0},function(e){return e?void 0:U((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?U((function(t){return h(e,t)})):void 0}];var G=[function(e){return"function"==typeof e?H(e):void 0},function(e){return e?void 0:U((function(){return{}}))}];function q(e,t,r){return s({},r,e,t)}var X=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,s){var l=e(t,r,s);return a?o&&i(l,n)||(n=l):(a=!0,n=l),n}}}(e):void 0},function(e){return e?void 0:function(){return q}}];function V(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function K(e,t,r,n,o){var i,a,s,l,c,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1;function h(o,f){var h,m,g=!d(f,a),b=!u(o,i);return i=o,a=f,g&&b?(s=e(i,a),t.dependsOnOwnProps&&(l=t(n,a)),c=r(s,l,a)):g?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(n,a)),c=r(s,l,a)):b?(h=e(i,a),m=!p(h,s),s=h,m&&(c=r(s,l,a)),c):c}return function(o,u){return f?h(o,u):(s=e(i=o,a=u),l=t(n,a),c=r(s,l,a),f=!0,c)}}function Y(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=C(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,i),s=n(e,i),l=o(e,i);return(i.pure?K:V)(a,s,l,e,i)}function $(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Z(e,t){return e===t}function J(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?B:r,o=t.mapStateToPropsFactories,i=void 0===o?G:o,a=t.mapDispatchToPropsFactories,l=void 0===a?W:a,c=t.mergePropsFactories,u=void 0===c?X:c,d=t.selectorFactory,p=void 0===d?Y:d;return function(e,t,r,o){void 0===o&&(o={});var a=o,c=a.pure,d=void 0===c||c,f=a.areStatesEqual,h=void 0===f?Z:f,m=a.areOwnPropsEqual,g=void 0===m?F:m,b=a.areStatePropsEqual,v=void 0===b?F:b,y=a.areMergedPropsEqual,w=void 0===y?F:y,E=C(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=$(e,i,"mapStateToProps"),x=$(t,l,"mapDispatchToProps"),O=$(r,u,"mergeProps");return n(p,s({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:x,initMergeProps:O,pure:d,areStatesEqual:h,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:w},E))}}var Q=J();var ee,te=r(10),re=r.n(te);function ne(e,t){var r=Object(n.useState)((function(){return{inputs:t,result:e()}}))[0],o=Object(n.useRef)(!0),i=Object(n.useRef)(r),a=o.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return Object(n.useEffect)((function(){o.current=!1,i.current=a}),[a]),a.result}ee=te.unstable_batchedUpdates,w=ee;var oe=ne,ie=function(e,t){return ne((function(){return e}),t)};var ae=function(e,t){if(!e)throw new Error("Invariant failed")},se=function(e){var t=e.top,r=e.right,n=e.bottom,o=e.left;return{top:t,right:r,bottom:n,left:o,width:r-o,height:n-t,x:o,y:t,center:{x:(r+o)/2,y:(n+t)/2}}},le=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},ce=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},ue={top:0,right:0,bottom:0,left:0},de=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?ue:r,o=e.border,i=void 0===o?ue:o,a=e.padding,s=void 0===a?ue:a,l=se(le(t,n)),c=se(ce(t,i)),u=se(ce(c,s));return{marginBox:l,borderBox:se(t),paddingBox:c,contentBox:u,margin:n,border:i,padding:s}},pe=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&ae(!1),r},fe=function(e,t){var r,n,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(n=t,{top:(r=o).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return de({borderBox:l,border:i,margin:a,padding:s})},he=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),fe(e,t)},me=function(e,t){var r={top:pe(t.marginTop),right:pe(t.marginRight),bottom:pe(t.marginBottom),left:pe(t.marginLeft)},n={top:pe(t.paddingTop),right:pe(t.paddingRight),bottom:pe(t.paddingBottom),left:pe(t.paddingLeft)},o={top:pe(t.borderTopWidth),right:pe(t.borderRightWidth),bottom:pe(t.borderBottomWidth),left:pe(t.borderLeftWidth)};return de({borderBox:e,margin:r,padding:n,border:o})},ge=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return me(t,r)},be=r(32),ve=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};function ye(e,t){}ye.bind(null,"warn"),ye.bind(null,"error");function we(){}function Ee(e,t,r){var n=t.map((function(t){var n,o,i=(n=r,o=t.options,s({},n,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){n.forEach((function(e){e()}))}}function _e(e){this.message=e}function xe(e,t){if(!e)throw new _e("Invariant failed")}_e.prototype.toString=function(){return this.message};var Oe=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).callbacks=null,t.unbind=we,t.onWindowError=function(e){var r=t.getCallbacks();r.isDragging()&&r.tryAbort(),e.error instanceof _e&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}a(t,e);var r=t.prototype;return r.componentDidMount=function(){this.unbind=Ee(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(e){if(!(e instanceof _e))throw e;this.setState({})},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(o.a.Component),Se=function(e){return e+1},Ce=function(e,t){var r=e.droppableId===t.droppableId,n=Se(e.index),o=Se(t.index);return r?"\n      You have moved the item from position "+n+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+n+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},Te=function(e,t,r){return t.droppableId===r.droppableId?"\n      The item "+e+"\n      has been combined with "+r.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+r.draggableId+"\n      in list "+r.droppableId+"\n    "},ke=function(e){return"\n  The item has returned to its starting position\n  of "+Se(e.index)+"\n"},Pe="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Ae=function(e){return"\n  You have lifted an item in position "+Se(e.source.index)+"\n"},Ie=function(e){var t=e.destination;if(t)return Ce(e.source,t);var r=e.combine;return r?Te(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},je=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+ke(e.source)+"\n    ";var t=e.destination,r=e.combine;return t?"\n      You have dropped the item.\n      "+Ce(e.source,t)+"\n    ":r?"\n      You have dropped the item.\n      "+Te(e.draggableId,e.source,r)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+ke(e.source)+"\n  "},Re={x:0,y:0},De=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Ne=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Me=function(e,t){return e.x===t.x&&e.y===t.y},Be=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Le=function(e,t,r){var n;return void 0===r&&(r=0),(n={})[e]=t,n["x"===e?"y":"x"]=r,n},Fe=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Ue=function(e,t){return Math.min.apply(Math,t.map((function(t){return Fe(e,t)})))},ze=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},He=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},We=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Ge=function(e,t){return t&&t.shouldClipSubject?function(e,t){var r=se({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}(t.pageMarginBox,e):se(e)},qe=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,o=e.frame,i=function(e,t,r){var n;return r&&r.increasedBy?s({},e,((n={})[t.end]=e[t.end]+r.increasedBy[t.line],n)):e}(function(e,t){return t?He(e,t.scroll.diff.displacement):e}(t.marginBox,o),n,r);return{page:t,withPlaceholder:r,active:Ge(i,o)}},Xe=function(e,t){e.frame||xe(!1);var r=e.frame,n=Ne(t,r.scroll.initial),o=Be(n),i=s({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}});return s({},e,{frame:i,subject:qe({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Ve(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Ke(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ye(e,t){if(e.find)return e.find(t);var r=Ke(e,t);return-1!==r?e[r]:void 0}function $e(e){return Array.prototype.slice.call(e)}var Ze=Object(be.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Je=Object(be.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Qe=Object(be.a)((function(e){return Ve(e)})),et=Object(be.a)((function(e){return Ve(e)})),tt=Object(be.a)((function(e,t){return et(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function rt(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function nt(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ot=Object(be.a)((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),it=function(e,t){return e.descriptor.droppableId===t.descriptor.id},at={point:Re,value:0},st={invisible:{},visible:{},all:[]},lt={displaced:st,displacedBy:at,at:null},ct=function(e,t){return function(r){return e<=r&&r<=t}},ut=function(e){var t=ct(e.top,e.bottom),r=ct(e.left,e.right);return function(n){if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;var o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right);if(o&&i)return!0;var a=n.top<e.top&&n.bottom>e.bottom,s=n.left<e.left&&n.right>e.right;return!(!a||!s)||(a&&i||s&&o)}},dt=function(e){var t=ct(e.top,e.bottom),r=ct(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)}},pt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ft={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ht=function(e){var t=e.target,r=e.destination,n=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:Re;return He(e,r)}(t,r):t;return function(e,t,r){return!!t.subject.active&&r(t.subject.active)(e)}(a,r,i)&&function(e,t,r){return r(t)(e)}(a,n,i)},mt=function(e){return ht(s({},e,{isVisibleThroughFrameFn:ut}))},gt=function(e){return ht(s({},e,{isVisibleThroughFrameFn:dt}))};function bt(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return se(le(r,n))}(t,n),l=t.descriptor.id;if(e.all.push(l),!mt({target:s,destination:r,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c={draggableId:l,shouldAnimate:function(e,t,r){if("boolean"==typeof r)return r;if(!t)return!0;var n=t.invisible,o=t.visible;if(n[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function vt(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:st,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function yt(e){var t=e.draggable,r=e.insideDestination,n=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=it(t,n);if(null==s)return vt({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var u=Ye(r,(function(e){return e.descriptor.index===s}));if(!u)return vt({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var d=ot(t,r),p=r.indexOf(u);return{displaced:bt({afterDragging:d.slice(p),destination:n,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function wt(e,t){return Boolean(t.effected[e])}var Et=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||xe(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var i=o.index,a=t?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return a<s||a>(r?l:l+1)?null:a}({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:a});return null==d?null:yt({draggable:n,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,o=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var a=o.draggableId,s=n[a].descriptor.index;return wt(a,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==p?null:yt({draggable:n,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})},_t=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,o=nt(r);o||xe(!1);var i=o.draggableId,a=n[i].page.borderBox.center,s=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[n]||t.invisible[n]);return wt(n,r)?i?Re:Be(o.point):i?o.point:Re}({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return De(a,s)},xt=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Ot=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},St=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return Le(t.line,r.marginBox[t.end]+xt(t,n),Ot(t,r.marginBox,n))},Ct=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return Le(t.line,r.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,n),Ot(t,r.marginBox,n))},Tt=function(e){var t=e.impact,r=e.draggable,n=e.draggables,o=e.droppable,i=e.afterCritical,a=tt(o.descriptor.id,n),s=r.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,r=e.moveInto,n=e.isMoving;return Le(t.line,r.contentBox[t.start]+xt(t,n),Ot(t,r.contentBox,n))}({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var p=n[d];if(wt(d,i))return Ct({axis:l,moveRelativeTo:p.page,isMoving:s});var f=fe(p.page,u.point);return Ct({axis:l,moveRelativeTo:f,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===r.descriptor.id)return s.borderBox.center;if(wt(h.descriptor.id,i)){var m=fe(h.page,Be(i.displacedBy.point));return St({axis:l,moveRelativeTo:m,isMoving:s})}return St({axis:l,moveRelativeTo:h.page,isMoving:s})},kt=function(e,t){var r=e.frame;return r?De(t,r.scroll.diff.displacement):t},Pt=function(e){var t=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.afterCritical,a=r.page.borderBox.center,s=t.at;return n&&s?"REORDER"===s.type?Tt({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:i}):_t({impact:t,draggables:o,afterCritical:i}):a}(e),r=e.droppable;return r?kt(r,t):t},At=function(e,t){var r=Ne(t,e.scroll.initial),n=Be(r);return{frame:se({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function It(e,t){return e.map((function(e){return t[e]}))}var jt=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=function(e,t){return De(e.scroll.diff.displacement,t)}(e.viewport,t),o=Ne(n,r.page.borderBox.center);return De(r.client.borderBox.center,o)},Rt=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=void 0!==a&&a,c=Ne(n,t.page.borderBox.center),u={target:He(t.page.borderBox,c),destination:r,withDroppableDisplacement:i,viewport:o};return l?function(e){return ht(s({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var r=ct(e.top,e.bottom),n=ct(e.left,e.right);return function(e){return t===pt?r(e.top)&&r(e.bottom):n(e.left)&&n(e.right)}})}));var t}(u):gt(u)},Dt=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=tt(n.descriptor.id,o),p=it(r,n),f=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;if(!rt(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return s({},i,{at:t})}var l=i.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;var u=ot(r,o);if(!c)return u.length?a(u[u.length-1].descriptor.id):null;var d=Ke(u,(function(e){return e.descriptor.id===c}));-1===d&&xe(!1);var p=d-1;return p<0?null:a(u[p].descriptor.id)}({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:i})||Et({isMovingForward:t,isInHomeList:p,draggable:r,draggables:o,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!f)return null;var h=Pt({impact:f,draggable:r,droppable:n,draggables:o,afterCritical:u});if(Rt({draggable:r,destination:n,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:jt({pageBorderBoxCenter:h,draggable:r,viewport:a}),impact:f,scrollJumpRequest:null};var m=Ne(h,l);return{clientSelection:c,impact:function(e){var t=e.impact,r=e.viewport,n=e.destination,o=e.draggables,i=e.maxScrollChange,a=At(r,De(r.scroll.current,i)),l=n.frame?Xe(n,De(n.frame.scroll.current,i)):n,c=t.displaced,u=bt({afterDragging:It(c.all,o),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),d=bt({afterDragging:It(c.all,o),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),p={},f={},h=[c,u,d];return c.all.forEach((function(e){var t=function(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}(e,h);t?f[e]=t:p[e]=!0})),s({},t,{displaced:{all:c.all,invisible:p,visible:f}})}({impact:f,viewport:a,destination:n,draggables:o,maxScrollChange:m}),scrollJumpRequest:m}},Nt=function(e){var t=e.subject.active;return t||xe(!1),t},Mt=function(e,t){var r=e.page.borderBox.center;return wt(e.descriptor.id,t)?Ne(r,t.displacedBy.point):r},Bt=function(e,t){var r=e.page.borderBox;return wt(e.descriptor.id,t)?He(r,Be(t.displacedBy.point)):r},Lt=Object(be.a)((function(e,t){var r=t[e.line];return{value:r,point:Le(e.line,r)}})),Ft=function(e,t){return s({},e,{scroll:s({},e.scroll,{max:t})})},Ut=function(e,t,r){var n=e.frame;it(t,e)&&xe(!1),e.subject.withPlaceholder&&xe(!1);var o=Lt(e.axis,t.displaceBy).point,i=function(e,t,r){var n=e.axis;if("virtual"===e.descriptor.mode)return Le(n.line,t[n.line]);var o=e.subject.page.contentBox[n.size],i=tt(e.descriptor.id,r).reduce((function(e,t){return e+t.client.marginBox[n.size]}),0)+t[n.line]-o;return i<=0?null:Le(n.line,i)}(e,o,r),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n)return s({},e,{subject:qe({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var l=i?De(n.scroll.max,i):n.scroll.max,c=Ft(n,l);return s({},e,{subject:qe({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c}),frame:c})},zt=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,o=e.droppables,i=e.viewport,a=n.subject.active;if(!a)return null;var s=n.axis,l=ct(a[s.start],a[s.end]),c=Qe(o).filter((function(e){return e!==n})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return ut(i.frame)(Nt(e))})).filter((function(e){var r=Nt(e);return t?a[s.crossAxisEnd]<r[s.crossAxisEnd]:r[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Nt(e),r=ct(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||r(a[s.start])||r(a[s.end])})).sort((function(e,r){var n=Nt(e)[s.crossAxisStart],o=Nt(r)[s.crossAxisStart];return t?n-o:o-n})).filter((function(e,t,r){return Nt(e)[s.crossAxisStart]===Nt(r[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return ct(Nt(e)[s.start],Nt(e)[s.end])(r[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return Nt(e)[s.start]-Nt(t)[s.start]}))[0]:c.sort((function(e,t){var n=Ue(r,We(Nt(e))),o=Ue(r,We(Nt(t)));return n!==o?n-o:Nt(e)[s.start]-Nt(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:a,viewport:s});if(!c)return null;var u=tt(c.descriptor.id,i),d=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:st,displacedBy:at,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Pt({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:l}),d=it(o,a)?a:Ut(a,o,i);return Rt({draggable:o,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p,f=Boolean(t[a.axis.line]<=r.page.borderBox.center[a.axis.line]),h=(p=r.descriptor.index,r.descriptor.id===o.descriptor.id||f?p:p+1),m=Lt(a.axis,o.displaceBy);return yt({draggable:o,insideDestination:n,destination:a,viewport:s,displacedBy:m,last:st,index:h})}({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:i,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,o=e.insideDestination,i=e.afterCritical;return o.filter((function(e){return gt({target:Bt(e,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})})).sort((function(e,r){var o=Fe(t,kt(n,Mt(e,i))),a=Fe(t,kt(n,Mt(r,i)));return o<a?-1:a<o?1:e.descriptor.index-r.descriptor.index}))[0]||null}({pageBorderBoxCenter:r,viewport:s,destination:c,insideDestination:u,afterCritical:l}),insideDestination:u,viewport:s,afterCritical:l});if(!d)return null;var p=Pt({impact:d,draggable:n,droppable:c,draggables:i,afterCritical:l});return{clientSelection:jt({pageBorderBoxCenter:p,draggable:n,viewport:s}),impact:d,scrollJumpRequest:null}},Ht=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Wt=function(e){var t=e.state,r=e.type,n=function(e,t){var r=Ht(e);return r?t[r]:null}(t.impact,t.dimensions.droppables),o=Boolean(n),i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===s&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(l&&!o)return null;var c="MOVE_DOWN"===r||"MOVE_RIGHT"===r,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?Dt({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):zt({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Gt(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function qt(e){var t=ct(e.top,e.bottom),r=ct(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}function Xt(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,o=Qe(n).filter((function(e){if(!e.isEnabled)return!1;var r,n,o=e.subject.active;if(!o)return!1;if(n=o,!((r=t).left<n.right&&r.right>n.left&&r.top<n.bottom&&r.bottom>n.top))return!1;if(qt(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=ct(o[i.crossAxisStart],o[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,o=r.page.borderBox.center,i=n.map((function(e){var r=e.axis,n=Le(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:Fe(o,n)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:r,candidates:o}):null}var Vt=function(e,t){return se(He(e,t))};function Kt(e){var t=e.displaced,r=e.id;return Boolean(t.visible[r]||t.invisible[r])}var Yt=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=Vt(r.page.borderBox,t),c=Xt({pageBorderBox:l,draggable:r,droppables:o});if(!c)return lt;var u,d,p=o[c],f=tt(p.descriptor.id,n),h=(u=l,(d=p.frame)?Vt(u,d.scroll.diff.value):u);return function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=Lt(o.axis,t.displaceBy),c=l.value,u=r[s.start],d=r[s.end],p=Ye(ot(t,i),(function(e){var t=e.descriptor.id,r=e.page.borderBox,o=r[s.size]/4,i=wt(t,a),l=Kt({displaced:n.displaced,id:t});return i?l?d>r[s.start]+o&&d<r[s.end]-o:u>r[s.start]-c+o&&u<r[s.end]-c-o:l?d>r[s.start]+c+o&&d<r[s.end]+c-o:u>r[s.start]+o&&u<r[s.end]-o}));return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:i,destination:p,insideDestination:f,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=n.axis,c=Lt(n.axis,r.displaceBy),u=c.value,d=t[l.start],p=t[l.end],f=function(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:Ye(ot(r,o),(function(e){var t=e.descriptor.id,r=e.page.borderBox.center[l.line],n=wt(t,s),o=Kt({displaced:i,id:t});return n?o?p<=r:d<r-u:o?p<=r+u:d<r})),inHomeList:it(r,n)});return yt({draggable:r,insideDestination:o,destination:n,viewport:a,last:i,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:p,insideDestination:f,last:i.displaced,viewport:a,afterCritical:s})},$t=function(e,t){var r;return s({},e,((r={})[t.descriptor.id]=t,r))},Zt=function(e){var t=e.previousImpact,r=e.impact,n=e.droppables,o=Ht(t),i=Ht(r);if(!o)return n;if(o===i)return n;var a=n[o];if(!a.subject.withPlaceholder)return n;var l=function(e){var t=e.subject.withPlaceholder;t||xe(!1);var r=e.frame;if(!r)return s({},e,{subject:qe({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var n=t.oldFrameMaxScroll;n||xe(!1);var o=Ft(r,n);return s({},e,{subject:qe({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(a);return $t(n,l)},Jt=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=o||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,d=Ne(u,t.initial.client.selection),p={offset:d,selection:u,borderBoxCenter:De(t.initial.client.borderBoxCenter,d)},f={selection:De(p.selection,l.scroll.current),borderBoxCenter:De(p.borderBoxCenter,l.scroll.current),offset:De(p.offset,l.scroll.diff.value)},h={client:p,page:f};if("COLLECTING"===t.phase)return s({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:h});var m=c.draggables[t.critical.draggable.id],g=i||Yt({pageOffset:f.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),b=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,o=e.previousImpact,i=e.impact,a=Zt({previousImpact:o,impact:i,droppables:n}),s=Ht(i);if(!s)return a;var l=n[s];if(it(t,l))return a;if(l.subject.withPlaceholder)return a;var c=Ut(l,t,r);return $t(a,c)}({draggable:m,impact:g,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return s({},t,{current:h,dimensions:{draggables:c.draggables,droppables:b},impact:g,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var Qt=function(e){var t=e.impact,r=e.viewport,n=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced;return s({},t,{displaced:bt({afterDragging:function(e,t){return e.map((function(e){return t[e]}))}(a.all,n),destination:o,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:a})})},er=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=Pt({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:a});return jt({pageBorderBoxCenter:s,draggable:r,viewport:i})},tr=function(e){var t=e.state,r=e.dimensions,n=e.viewport;"SNAP"!==t.movementMode&&xe(!1);var o=t.impact,i=n||t.viewport,a=r||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=Ht(o);u||xe(!1);var d=l[u],p=Qt({impact:o,viewport:i,destination:d,draggables:s}),f=er({impact:p,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Jt({impact:p,clientSelection:f,state:t,dimensions:a,viewport:i})},rr=function(e){var t=e.draggable,r=e.home,n=e.draggables,o=e.viewport,i=Lt(r.axis,t.displaceBy),a=tt(r.descriptor.id,n),s=a.indexOf(t);-1===s&&xe(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:bt({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},nr=function(e){0},or=function(e){0},ir=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||xe(!1),t}(r[t]).scroll.diff.value;return function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,o=fe(t.client,r),i=he(o,n);return s({},t,{placeholder:s({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:De(o,i),initialWindowScroll:n.scroll.initial})}))},ar=function(e){return"SNAP"===e.movementMode},sr=function(e,t,r){var n=function(e,t){return{draggables:e.draggables,droppables:$t(e.droppables,t)}}(e.dimensions,t);return!ar(e)||r?Jt({state:e,dimensions:n}):tr({state:e,dimensions:n})};function lr(e){return e.isDragging&&"SNAP"===e.movementMode?s({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var cr={phase:"IDLE",completed:null,shouldFlush:!1},ur=function(e,t){if(void 0===e&&(e=cr),"FLUSH"===t.type)return s({},cr,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&xe(!1);var r=t.payload,n=r.critical,o=r.clientSelection,i=r.viewport,a=r.dimensions,l=r.movementMode,c=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],d={selection:o,borderBoxCenter:c.client.borderBox.center,offset:Re},p={client:d,page:{selection:De(d.selection,i.scroll.initial),borderBoxCenter:De(d.selection,i.scroll.initial),offset:De(d.selection,i.scroll.diff.value)}},f=Qe(a.droppables).every((function(e){return!e.isFixedOnPage})),h=rr({draggable:c,home:u,draggables:a.draggables,viewport:i}),m=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:a,initial:p,current:p,isWindowScrollAllowed:f,impact:m,afterCritical:h.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&xe(!1),s({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&xe(!1),function(e){var t=e.state,r=e.published;nr();var n=r.modified.map((function(e){var r=t.dimensions.droppables[e.droppableId];return Xe(r,e.scroll)})),o=s({},t.dimensions.droppables,{},Ze(n)),i=Je(ir({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),a=s({},t.dimensions.draggables,{},i);r.removals.forEach((function(e){delete a[e]}));var l={droppables:o,draggables:a},c=Ht(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],f=rr({draggable:d,home:p,draggables:a,viewport:t.viewport}),h=f.impact,m=f.afterCritical,g=u&&u.isCombineEnabled?t.impact:h,b=Yt({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m});or();var v=s({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:h,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:s({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Gt(e)||xe(!1);var g=t.payload.client;return Me(g,e.current.client.selection)?e:Jt({state:e,clientSelection:g,impact:ar(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return lr(e);if("COLLECTING"===e.phase)return lr(e);Gt(e)||xe(!1);var b=t.payload,v=b.id,y=b.newScroll,w=e.dimensions.droppables[v];if(!w)return e;var E=Xe(w,y);return sr(e,E,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Gt(e)||xe(!1);var _=t.payload,x=_.id,O=_.isEnabled,S=e.dimensions.droppables[x];S||xe(!1),S.isEnabled===O&&xe(!1);var C=s({},S,{isEnabled:O});return sr(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Gt(e)||xe(!1);var T=t.payload,k=T.id,P=T.isCombineEnabled,A=e.dimensions.droppables[k];A||xe(!1),A.isCombineEnabled===P&&xe(!1);var I=s({},A,{isCombineEnabled:P});return sr(e,I,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Gt(e)||xe(!1),e.isWindowScrollAllowed||xe(!1);var j=t.payload.newScroll;if(Me(e.viewport.scroll.current,j))return lr(e);var R=At(e.viewport,j);return ar(e)?tr({state:e,viewport:R}):Jt({state:e,viewport:R})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Gt(e))return e;var D=t.payload.maxScroll;if(Me(D,e.viewport.scroll.max))return e;var N=s({},e.viewport,{scroll:s({},e.viewport.scroll,{max:D})});return s({phase:"DRAGGING"},e,{viewport:N})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&xe(!1);var M=Wt({state:e,type:t.type});return M?Jt({state:e,impact:M.impact,clientSelection:M.clientSelection,scrollJumpRequest:M.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var B=t.payload.reason;return"COLLECTING"!==e.phase&&xe(!1),s({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:B})}if("DROP_ANIMATE"===t.type){var L=t.payload,F=L.completed,U=L.dropDuration,z=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&xe(!1),{phase:"DROP_ANIMATING",completed:F,dropDuration:U,newHomeClientOffset:z,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},dr=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},pr=function(){return{type:"COLLECTION_STARTING",payload:null}},fr=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},hr=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},mr=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},gr=function(e){return{type:"MOVE",payload:e}},br=function(){return{type:"MOVE_UP",payload:null}},vr=function(){return{type:"MOVE_DOWN",payload:null}},yr=function(){return{type:"MOVE_RIGHT",payload:null}},wr=function(){return{type:"MOVE_LEFT",payload:null}},Er=function(e){return{type:"DROP_COMPLETE",payload:e}},_r=function(e){return{type:"DROP",payload:e}},xr=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Or="cubic-bezier(.2,1,.1,1)",Sr={drop:0,combining:.7},Cr={drop:.75},Tr=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",kr={fluid:"opacity "+Tr,snap:"transform "+Tr+", opacity "+Tr,drop:function(e){var t=e+"s "+Or;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Tr,placeholder:"height "+Tr+", width "+Tr+", margin "+Tr},Pr=function(e){return Me(e,Re)?null:"translate("+e.x+"px, "+e.y+"px)"},Ar=Pr,Ir=function(e,t){var r=Pr(e);return r?t?r+" scale("+Cr.drop+")":r:null},jr=.33,Rr=.55,Dr=Rr-jr,Nr=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){if("DROP"===n.type){var o=t(),i=n.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&xe(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&xe(!1);var a=o.critical,l=o.dimensions,c=l.draggables[o.critical.draggable.id],u=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return n.at&&"DROP"===r?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:s({},n,{displaced:st}),didDropInsideDroppable:!0}:{impact:Qt({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),d=u.impact,p=u.didDropInsideDroppable,f=p?rt(d):null,h=p?nt(d):null,m={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:i,mode:o.movementMode,destination:f,combine:h},b=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,o=e.viewport,i=e.afterCritical,a=n.draggables,s=n.droppables,l=Ht(t),c=l?s[l]:null,u=s[r.descriptor.droppableId],d=er({impact:t,draggable:r,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return Ne(d,r.client.borderBox.center)}({impact:d,draggable:c,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:d};if(!Me(o.current.client.offset,b)||Boolean(g.combine)){var y=function(e){var t=e.current,r=e.destination,n=e.reason,o=Fe(t,r);if(o<=0)return jr;if(o>=1500)return Rr;var i=jr+Dr*(o/1500);return Number(("CANCEL"===n?.6*i:i).toFixed(2))}({current:o.current.client.offset,destination:b,reason:i});r(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:b,dropDuration:y,completed:v}))}else r(Er({completed:v}))}}else r(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(n)}}},Mr=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Br(e){var t=e.onWindowScroll;var r,n=ve((function(){t(Mr())})),o=(r=n,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||r()}}),i=we;function a(){return i!==we}return{start:function(){a()&&xe(!1),i=Ee(window,[o])},stop:function(){a()||xe(!1),n.cancel(),i(),i=we},isActive:a}}var Lr=function(e){var t=Br({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(r){t.isActive()||"INITIAL_PUBLISH"!==r.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r)&&t.stop(),e(r)}}},Fr=function(){var e=[];return{add:function(t){var r=setTimeout((function(){return function(t){var r=Ke(e,(function(e){return e.timerId===t}));-1===r&&xe(!1),e.splice(r,1)[0].callback()}(r)})),n={timerId:r,callback:t};e.push(n)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Ur=function(e,t){nr(),t(),or()},zr=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Hr=function(e,t,r,n){if(e){var o=function(e){var t=!1,r=!1,n=setTimeout((function(){r=!0})),o=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return o.wasCalled=function(){return t},o}(r);e(t,{announce:o}),o.wasCalled()||r(n(t))}else r(n(t))},Wr=function(e,t){var r=function(e,t){var r=Fr(),n=null,o=function(r){n||xe(!1),n=null,Ur(0,(function(){return Hr(e().onDragEnd,r,t,je)}))};return{beforeCapture:function(t,r){n&&xe(!1),Ur(0,(function(){var n=e().onBeforeCapture;n&&n({draggableId:t,mode:r})}))},beforeStart:function(t,r){n&&xe(!1),Ur(0,(function(){var n=e().onBeforeDragStart;n&&n(zr(t,r))}))},start:function(o,i){n&&xe(!1);var a=zr(o,i);n={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},r.add((function(){Ur(0,(function(){return Hr(e().onDragStart,a,t,Ae)}))}))},update:function(o,i){var a=rt(i),l=nt(i);n||xe(!1);var c=!function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n}(o,n.lastCritical);c&&(n.lastCritical=o);var u,d,p=(u=n.lastLocation,d=a,!(null==u&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));p&&(n.lastLocation=a);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&(e.draggableId===t.draggableId&&e.droppableId===t.droppableId)}(n.lastCombine,l);if(f&&(n.lastCombine=l),c||p||f){var h=s({},zr(o,n.mode),{combine:l,destination:a});r.add((function(){Ur(0,(function(){return Hr(e().onDragUpdate,h,t,Ie)}))}))}},flush:function(){n||xe(!1),r.flush()},drop:o,abort:function(){if(n){var e=s({},zr(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(n){if("BEFORE_INITIAL_CAPTURE"!==n.type){if("INITIAL_PUBLISH"===n.type){var o=n.payload.critical;return r.beforeStart(o,n.payload.movementMode),t(n),void r.start(o,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){var i=n.payload.completed.result;return r.flush(),t(n),void r.drop(i)}if(t(n),"FLUSH"!==n.type){var a=e.getState();"DRAGGING"===a.phase&&r.update(a.critical,a.impact)}else r.abort()}else r.beforeCapture(n.payload.draggableId,n.payload.movementMode)}}}},Gr=function(e){return function(t){return function(r){if("DROP_ANIMATION_FINISHED"===r.type){var n=e.getState();"DROP_ANIMATING"!==n.phase&&xe(!1),e.dispatch(Er({completed:n.completed}))}else t(r)}}},qr=function(e){var t=null,r=null;return function(n){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),n(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame((function(){r=null,t=Ee(window,[i])}))}}}},Xr=function(e){return function(t){return function(r){if(t(r),"PUBLISH_WHILE_DRAGGING"===r.type){var n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(_r({reason:n.reason})))}}}},Vr=v,Kr=function(e){var t,r=e.dimensionMarshal,n=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return p(ur,Vr(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return b({},r,{dispatch:n=v.apply(void 0,i)(r.dispatch)})}}}((t=o,function(){return function(e){return function(r){"INITIAL_PUBLISH"===r.type&&t.dragging(),"DROP_ANIMATE"===r.type&&t.dropping(r.payload.completed.result.reason),"FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type||t.resting(),e(r)}}}),function(e){return function(){return function(t){return function(r){"DROP_COMPLETE"!==r.type&&"FLUSH"!==r.type&&"DROP_ANIMATE"!==r.type||e.stopPublishing(),t(r)}}}}(r),function(e){return function(t){var r=t.getState,n=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,c=r();"DROP_ANIMATING"===c.phase&&n(Er({completed:c.completed})),"IDLE"!==r().phase&&xe(!1),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;n(function(e){return{type:"INITIAL_PUBLISH",payload:e}}({critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}))}else t(o)}}}}(r),Nr,Gr,qr,Xr,function(e){return function(t){return function(r){return function(n){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n))return e.stop(),void r(n);if("INITIAL_PUBLISH"===n.type){r(n);var o=t.getState();return"DRAGGING"!==o.phase&&xe(!1),void e.start(o)}r(n),e.scroll(t.getState())}}}}(s),Lr,function(e){var t=!1;return function(){return function(r){return function(n){if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),void e.tryRestoreFocusRecorded();if(r(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(n),Wr(i,a))))};var Yr=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,o=e.width,i=Ne({x:r,y:t},{x:o,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},$r=function(){var e=document.documentElement;return e||xe(!1),e},Zr=function(){var e=$r();return Yr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Jr=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry;nr();var o,i,a,s,l,c,u,d=(o=Mr(),i=Zr(),a=o.y,s=o.x,l=$r(),c=l.clientWidth,u=l.clientHeight,{frame:se({top:a,left:s,right:s+c,bottom:a+u}),scroll:{initial:o,current:o,max:i,diff:{value:Re,displacement:Re}}}),p=d.scroll.current,f=t.droppable,h=n.droppable.getAllByType(f.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(p,r)})),m=n.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(p)})),g={draggables:Je(m),droppables:Ze(h)};return or(),{dimensions:g,critical:t,viewport:d}};function Qr(e,t,r){return r.descriptor.id!==t.id&&(r.descriptor.type===t.type&&"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode)}var en,tn,rn=function(e,t){var r=null,n=function(e){var t=e.registry,r=e.callbacks,n={additions:{},removals:{},modified:{}},o=null,i=function(){o||(r.collectionStarting(),o=requestAnimationFrame((function(){o=null,nr();var e=n,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(Re)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};n={additions:{},removals:{},modified:{}},or(),r.publish(u)})))};return{add:function(e){var t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],i()},remove:function(e){var t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){r||xe(!1);var o=r.critical.draggable;"ADDITION"===t.type&&Qr(e,o,t.value)&&n.add(t.value),"REMOVAL"===t.type&&Qr(e,o,t.value)&&n.remove(t.value)};return{updateDroppableIsEnabled:function(n,o){e.droppable.exists(n)||xe(!1),r&&t.updateDroppableIsEnabled({id:n,isEnabled:o})},updateDroppableIsCombineEnabled:function(n,o){r&&(e.droppable.exists(n)||xe(!1),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:o}))},scrollDroppable:function(t,n){r&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:function(n,o){r&&(e.droppable.exists(n)||xe(!1),t.updateDroppableScroll({id:n,newScroll:o}))},startPublishing:function(t){r&&xe(!1);var n=e.draggable.getById(t.draggableId),i=e.droppable.getById(n.descriptor.droppableId),a={draggable:n.descriptor,droppable:i.descriptor},s=e.subscribe(o);return r={critical:a,unsubscribe:s},Jr({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(r){n.stop();var t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),r.unsubscribe(),r=null}}}},nn=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},on=function(e){window.scrollBy(e.x,e.y)},an=Object(be.a)((function(e){return Qe(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),sn=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var o=n[r];return o.frame?o:null}return function(e,t){return Ye(an(t),(function(t){return t.frame||xe(!1),qt(t.frame.pageMarginBox)(e)}))}(t,n)},ln=.25,cn=.05,un=28,dn=function(e){return Math.pow(e,2)},pn={stopDampeningAt:1200,accelerateAt:360},fn=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,o=r-t;return 0===o?0:(n-t)/o},hn=pn.accelerateAt,mn=pn.stopDampeningAt,gn=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return un;if(e===t.startScrollingFrom)return 1;var r=fn({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=un*dn(1-r);return Math.ceil(n)}(t,r);return 0===i?0:o?Math.max(function(e,t){var r=t,n=mn,o=Date.now()-r;if(o>=mn)return e;if(o<hn)return 1;var i=fn({startOfRange:hn,endOfRange:n,current:o}),a=e*dn(i);return Math.ceil(a)}(i,n),1):i},bn=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*ln,maxScrollValueAt:e[t.size]*cn}}(t,o);return r[o.end]<r[o.start]?gn({distanceToEdge:r[o.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i}):-1*gn({distanceToEdge:r[o.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i})},vn=ze((function(e){return 0===e?0:e})),yn=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y,left:o.x-r.left},s=bn({container:r,distanceToEdges:a,dragStartTime:t,axis:pt,shouldUseTimeDampening:i}),l=bn({container:r,distanceToEdges:a,dragStartTime:t,axis:ft,shouldUseTimeDampening:i}),c=vn({x:l,y:s});if(Me(c,Re))return null;var u=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,o=r.height>t.height,i=r.width>t.width;return i||o?i&&o?null:{x:i?0:n.x,y:o?0:n.y}:n}({container:r,subject:n,proposedScroll:c});return u?Me(u,Re)?null:u:null},wn=ze((function(e){return 0===e?0:e>0?1:-1})),En=(en=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,r=e.max,n=e.change,o=De(t,n),i={x:en(o.x,r.x),y:en(o.y,r.y)};return Me(i,Re)?null:i}),_n=function(e){var t=e.max,r=e.current,n=e.change,o={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},i=wn(n),a=En({max:o,current:r,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},xn=function(e,t){return _n({current:e.scroll.current,max:e.scroll.max,change:t})},On=function(e,t){var r=e.frame;return!!r&&_n({current:r.scroll.current,max:r.scroll.max,change:t})},Sn=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=yn({dragStartTime:o,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return a&&xn(t,a)?a:null}({dragStartTime:r,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:n});if(l)return void o(l)}var c=sn({center:a,destination:Ht(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=yn({dragStartTime:o,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return s&&On(t,s)?s:null}({dragStartTime:r,droppable:c,subject:s,center:a,shouldUseTimeDampening:n});u&&i(c.descriptor.id,u)}},Cn=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,o=function(e,t){if(!On(e,t))return t;var n=function(e,t){var r=e.frame;return r&&On(e,t)?En({current:r.scroll.current,max:r.scroll.max,change:t}):null}(e,t);if(!n)return r(e.descriptor.id,t),null;var o=Ne(t,n);return r(e.descriptor.id,o),Ne(t,o)},i=function(e,t,r){if(!e)return r;if(!xn(t,r))return r;var o=function(e,t){if(!xn(e,t))return null;var r=e.scroll.max,n=e.scroll.current;return En({current:n,max:r,change:t})}(t,r);if(!o)return n(r),null;var i=Ne(r,o);return n(i),Ne(r,i)};return function(e){var r=e.scrollJumpRequest;if(r){var n=Ht(e.impact);n||xe(!1);var a=o(e.dimensions.droppables[n],r);if(a){var s=e.viewport,l=i(e.isWindowScrollAllowed,s,a);l&&function(e,r){var n=De(e.current.client.selection,r);t({client:n})}(e,l)}}}},Tn=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,o=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=ve(t),o=ve(r),i=null,a=function(e){i||xe(!1);var t=i,r=t.shouldUseTimeDampening,a=t.dragStartTime;Sn({state:e,scrollWindow:n,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:r})};return{start:function(e){nr(),i&&xe(!1);var t=Date.now(),r=!1,n=function(){r=!0};Sn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n}),i={dragStartTime:t,shouldUseTimeDampening:r},or(),r&&a(e)},stop:function(){i&&(n.cancel(),o.cancel(),i=null)},scroll:a}}({scrollWindow:r,scrollDroppable:t}),i=Cn({move:n,scrollWindow:r,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},kn={base:tn="data-rbd-drag-handle",draggableId:tn+"-draggable-id",contextId:tn+"-context-id"},Pn=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),An=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),In={contextId:"data-rbd-scroll-container-context-id"},jn=function(e,t){return e.map((function(e){var r=e.styles[t];return r?e.selector+" { "+r+" }":""})).join(" ")},Rn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,Dn=function(){var e=document.querySelector("head");return e||xe(!1),e},Nn=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Mn(e,t){var r=oe((function(){return function(e){var t,r,n,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(r="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(kn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:r,dragging:"pointer-events: none;",dropAnimating:r}}),a=[(n="\n      transition: "+kr.outOfTheWay+";\n    ",{selector:o(Pn.contextId),styles:{dragging:n,dropAnimating:n,userCancel:n}}),i,{selector:o(An.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:jn(a,"always"),resting:jn(a,"resting"),dragging:jn(a,"dragging"),dropAnimating:jn(a,"dropAnimating"),userCancel:jn(a,"userCancel")}}(e)}),[e]),o=Object(n.useRef)(null),i=Object(n.useRef)(null),a=ie(Object(be.a)((function(e){var t=i.current;t||xe(!1),t.textContent=e})),[]),s=ie((function(e){var t=o.current;t||xe(!1),t.textContent=e}),[]);Rn((function(){(o.current||i.current)&&xe(!1);var n=Nn(t),l=Nn(t);return o.current=n,i.current=l,n.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),Dn().appendChild(n),Dn().appendChild(l),s(r.always),a(r.resting),function(){var e=function(e){var t=e.current;t||xe(!1),Dn().removeChild(t),e.current=null};e(o),e(i)}}),[t,s,a,r.always,r.resting,e]);var l=ie((function(){return a(r.dragging)}),[a,r.dragging]),c=ie((function(e){a("DROP"!==e?r.userCancel:r.dropAnimating)}),[a,r.dropAnimating,r.userCancel]),u=ie((function(){i.current&&a(r.resting)}),[a,r.resting]);return oe((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}var Bn=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ln(e){return e instanceof Bn(e).HTMLElement}function Fn(e,t){var r="["+kn.contextId+'="'+e+'"]',n=$e(document.querySelectorAll(r));if(!n.length)return null;var o=Ye(n,(function(e){return e.getAttribute(kn.draggableId)===t}));return o&&Ln(o)?o:null}function Un(){var e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach((function(t){return t(e)}))}function n(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:function(t,r){var n=e.draggables[r.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=n(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],r({type:"REMOVAL",value:t}))},getById:function(e){var t=n(e);return t||xe(!1),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return Ve(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var r=o(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||xe(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return Ve(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var zn=o.a.createContext(null),Hn=function(){var e=document.body;return e||xe(!1),e},Wn={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Gn=0,qn={separator:"::"};function Xn(e,t){return void 0===t&&(t=qn),oe((function(){return""+e+t.separator+Gn++}),[t.separator,e])}var Vn=o.a.createContext(null);function Kn(e){0}function Yn(e,t){Kn()}function $n(){Yn()}function Zn(e){var t=Object(n.useRef)(e);return Object(n.useEffect)((function(){t.current=e})),t}var Jn,Qn=((Jn={})[13]=!0,Jn[9]=!0,Jn),eo=function(e){Qn[e.keyCode]&&e.preventDefault()},to=function(){var e="visibilitychange";return"undefined"==typeof document?e:Ye([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var ro,no={type:"IDLE"};function oo(e){var t=e.cancel,r=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,r=e.clientX,i=e.clientY;if(0===t){var a={x:r,y:i},s=n();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&xe(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void eo(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var r=n();"IDLE"===r.type&&xe(!1),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:to,fn:t}]}function io(e){var t=Object(n.useRef)(no),r=Object(n.useRef)(we),o=oe((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};r.current(),u(o,i)}}}}}}),[e]),i=oe((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var n=e.findOptionsForDraggable(r);n&&(n.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}}}}}),[e]),a=ie((function(){r.current=Ee(window,[i,o],{passive:!1,capture:!0})}),[i,o]),s=ie((function(){"IDLE"!==t.current.type&&(t.current=no,r.current(),a())}),[a]),l=ie((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=ie((function(){var e=oo({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});r.current=Ee(window,e,{capture:!0,passive:!1})}),[l,s]),u=ie((function(e,r){"IDLE"!==t.current.type&&xe(!1),t.current={type:"PENDING",point:r,actions:e},c()}),[c]);Rn((function(){return a(),function(){r.current()}}),[a])}function ao(){}var so=((ro={})[34]=!0,ro[33]=!0,ro[36]=!0,ro[35]=!0,ro);function lo(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:function(n){return 27===n.keyCode?(n.preventDefault(),void r()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(so[n.keyCode]?n.preventDefault():eo(n))}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:to,fn:r}]}function co(e){var t=Object(n.useRef)(ao),r=oe((function(){return{eventName:"keydown",fn:function(r){if(!r.defaultPrevented&&32===r.keyCode){var n=e.findClosestDraggableId(r);if(n){var i=e.tryGetLock(n,l,{sourceEvent:r});if(i){r.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=Ee(window,lo(s,l),{capture:!0,passive:!1})}}}function l(){a||xe(!1),a=!1,t.current(),o()}}}}),[e]),o=ie((function(){t.current=Ee(window,[r],{passive:!1,capture:!0})}),[r]);Rn((function(){return o(),function(){t.current()}}),[o])}var uo={type:"IDLE"};function po(e){var t=Object(n.useRef)(uo),r=Object(n.useRef)(we),o=ie((function(){return t.current}),[]),i=ie((function(e){t.current=e}),[]),a=oe((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};r.current(),p(o,a)}}}}}}),[e]),s=ie((function(){r.current=Ee(window,[a],{capture:!0,passive:!1})}),[a]),l=ie((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(uo),r.current(),s())}),[s,i]),c=ie((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=ie((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:o},n=Ee(window,function(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var r=n();if("DRAGGING"===r.type){r.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),r.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var r=n();"IDLE"===r.type&&xe(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return i?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:to,fn:t}]}(t),e),i=Ee(window,function(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===r().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:to,fn:t}]}(t),e);r.current=function(){n(),i()}}),[c,o,l]),d=ie((function(){var e=o();"PENDING"!==e.type&&xe(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,i]),p=ie((function(e,t){"IDLE"!==o().type&&xe(!1);var r=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:r}),u()}),[u,o,i,d]);Rn((function(){return s(),function(){r.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(uo))}}),[o,s,i]),Rn((function(){return Ee(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}var fo={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ho(e,t){var r=t.target;return!!Ln(r)&&function e(t,r){if(null==r)return!1;if(Boolean(fo[r.tagName.toLowerCase()]))return!0;var n=r.getAttribute("contenteditable");return"true"===n||""===n||r!==t&&e(t,r.parentElement)}(e,r)}var mo=function(e){return se(e.getBoundingClientRect()).center};var go="undefined"==typeof document?"matches":Ye(["matches","msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||"matches";function bo(e,t){return e.closest?e.closest(t):function e(t,r){return null==t?null:t[go](r)?t:e(t.parentElement,r)}(e,t)}function vo(e,t){var r,n=t.target;if(!((r=n)instanceof Bn(r).Element))return null;var o=bo(n,function(e){return"["+kn.contextId+'="'+e+'"]'}(e));return o&&Ln(o)?o:null}function yo(e){e.preventDefault()}function wo(e){var t=e.expected,r=e.phase,n=e.isLockActive;e.shouldWarn;return!!n()&&t===r}function Eo(e){var t=e.lockAPI,r=e.store,n=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!nn(r.getState(),o))}function _o(e){var t=e.lockAPI,r=e.contextId,n=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent;if(!Eo({lockAPI:t,store:n,registry:o,draggableId:i}))return null;var c=o.draggable.getById(i),u=function(e,t){var r="["+Pn.contextId+'="'+e+'"]',n=Ye($e(document.querySelectorAll(r)),(function(e){return e.getAttribute(Pn.id)===t}));return n&&Ln(n)?n:null}(r,c.descriptor.id);if(!u)return null;if(l&&!c.options.canDragInteractiveElements&&ho(u,l))return null;var d=t.claim(a||we),p="PRE_DRAG";function f(){return c.options.shouldRespectForcePress}function h(){return t.isActive(d)}var m=function(e,t){wo({expected:e,phase:p,isLockActive:h,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function g(e){function r(){t.release(),p="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=Ee(window,[{eventName:"click",fn:yo,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}r(),n.dispatch(_r({reason:t}))}return"PRE_DRAG"!==p&&(r(),"PRE_DRAG"!==p&&xe(!1)),n.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),p="DRAGGING",s({isActive:function(){return wo({expected:"DRAGGING",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return wo({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=ve((function(e){m((function(){return gr({client:e})}))}));return s({},g({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return m(br)},moveRight:function(){return m(yr)},moveDown:function(){return m(vr)},moveLeft:function(){return m(wr)}};return g({liftActionArgs:{id:i,clientSelection:mo(u),movementMode:"SNAP"},cleanup:we,actions:e})},abort:function(){wo({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!0})&&t.release()}}}var xo=[io,co,po];function Oo(e){var t=e.contextId,r=e.store,o=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?xo:[],i||[]),l=Object(n.useState)((function(){return function(){var e=null;function t(){e||xe(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&xe(!1);var r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=ie((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Rn((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();c(e,t),e=t}))}),[l,r,c]),Rn((function(){return l.tryAbandon}),[l.tryAbandon]);var u=ie((function(e){return Eo({lockAPI:l,registry:o,store:r,draggableId:e})}),[l,o,r]),d=ie((function(e,n,i){return _o({lockAPI:l,registry:o,contextId:t,store:r,draggableId:e,forceSensorStop:n,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,o,r]),p=ie((function(e){return function(e,t){var r=vo(e,t);return r?r.getAttribute(kn.draggableId):null}(t,e)}),[t]),f=ie((function(e){var t=o.draggable.findById(e);return t?t.options:null}),[o.draggable]),h=ie((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))}),[l,r]),m=ie(l.isClaimed,[l]),g=oe((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}}),[u,d,p,f,h,m]);Kn();for(var b=0;b<s.length;b++)s[b](g)}function So(e){return e.current||xe(!1),e.current}function Co(e){var t=e.contextId,r=e.setCallbacks,i=e.sensors,a=e.nonce,l=e.dragHandleUsageInstructions,c=Object(n.useRef)(null);$n();var u=Zn(e),d=ie((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(u.current)}),[u]),p=function(e){var t=oe((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),s(e.style,Wn),Hn().appendChild(e),function(){setTimeout((function(){var t=Hn();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[t]),ie((function(e){var t=r.current;t&&(t.textContent=e)}),[])}(t),f=function(e){var t=e.contextId,r=e.text,o=Xn("hidden-text",{separator:"-"}),i=oe((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:o}).contextId+"-"+e.uniqueId;var e}),[o,t]);return Object(n.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=r,e.style.display="none",Hn().appendChild(e),function(){var t=Hn();t.contains(e)&&t.removeChild(e)}}),[i,r]),i}({contextId:t,text:l}),m=Mn(t,a),g=ie((function(e){So(c).dispatch(e)}),[]),b=oe((function(){return h({publishWhileDragging:dr,updateDroppableScroll:fr,updateDroppableIsEnabled:hr,updateDroppableIsCombineEnabled:mr,collectionStarting:pr},g)}),[g]),v=function(){var e=oe(Un,[]);return Object(n.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),y=oe((function(){return rn(v,b)}),[v,b]),w=oe((function(){return Tn(s({scrollWindow:on,scrollDroppable:y.scrollDroppable},h({move:gr},g)))}),[y.scrollDroppable,g]),E=function(e){var t=Object(n.useRef)({}),r=Object(n.useRef)(null),o=Object(n.useRef)(null),i=Object(n.useRef)(!1),a=ie((function(e,r){var n={id:e,focus:r};return t.current[e]=n,function(){var r=t.current;r[e]!==n&&delete r[e]}}),[]),s=ie((function(t){var r=Fn(e,t);r&&r!==document.activeElement&&r.focus()}),[e]),l=ie((function(e,t){r.current===e&&(r.current=t)}),[]),c=ie((function(){o.current||i.current&&(o.current=requestAnimationFrame((function(){o.current=null;var e=r.current;e&&s(e)})))}),[s]),u=ie((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(kn.draggableId)===e&&(r.current=e)}),[]);return Rn((function(){return i.current=!0,function(){i.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}}),[]),oe((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),_=oe((function(){return Kr({announce:p,autoScroller:w,dimensionMarshal:y,focusMarshal:E,getResponders:d,styleMarshal:m})}),[p,w,y,E,d,m]);c.current=_;var x=ie((function(){var e=So(c);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),O=ie((function(){var e=So(c).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);r(oe((function(){return{isDragging:O,tryAbort:x}}),[O,x]));var C=ie((function(e){return nn(So(c).getState(),e)}),[]),T=ie((function(){return Gt(So(c).getState())}),[]),k=oe((function(){return{marshal:y,focus:E,contextId:t,canLift:C,isMovementAllowed:T,dragHandleUsageInstructionsId:f,registry:v}}),[t,y,f,E,C,T,v]);return Oo({contextId:t,store:_,registry:v,customSensors:i,enableDefaultSensors:!1!==e.enableDefaultSensors}),Object(n.useEffect)((function(){return x}),[x]),o.a.createElement(Vn.Provider,{value:k},o.a.createElement(S,{context:zn,store:_},e.children))}var To=0;function ko(){To=0,Gn=0}function Po(e){var t=oe((function(){return""+To++}),[]),r=e.dragHandleUsageInstructions||Pe;return o.a.createElement(Oe,null,(function(n){return o.a.createElement(Co,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Ao=function(e){return function(t){return e===t}},Io=Ao("scroll"),jo=Ao("auto"),Ro=(Ao("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Do=function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Ro(r,Io)||Ro(r,jo)},No=function e(t){return null==t||t===document.body||t===document.documentElement?null:Do(t)?t:e(t.parentElement)},Mo=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Bo=function(e){return{closestScrollable:No(e),isFixedOnPage:function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))}(e)}},Lo=function(e){var t=e.ref,r=e.descriptor,n=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=n.closestScrollable,u=function(e,t){var r=ge(e);if(!t)return r;if(e!==t)return r;var n=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,a=o+t.scrollWidth,s=le({top:n,right:a,bottom:i,left:o},r.border);return de({borderBox:s,margin:r.margin,border:r.border,padding:r.padding})}(t,c),d=he(u,o),p=function(){if(!c)return null;var e=ge(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:he(e,o),scroll:Mo(c),scrollSize:t,shouldClipSubject:l}}();return function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,r=Yr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:r,diff:{value:Re,displacement:Re}}}}(),u="vertical"===i?pt:ft;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:o,axis:u,isEnabled:r,client:a,page:s,frame:c,subject:qe({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:r,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:d,closest:p})},Fo={passive:!1},Uo={passive:!0},zo=function(e){return e.shouldPublishImmediately?Fo:Uo};function Ho(e){var t=Object(n.useContext)(e);return t||xe(!1),t}var Wo=function(e){return e&&e.env.closestScrollable||null};function Go(){}var qo={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Xo=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate;return t||"close"===n?qo:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}}({isAnimatingOpenOnMount:t,placeholder:r,animate:n});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?kr.placeholder:null}};var Vo=o.a.memo((function(e){var t=Object(n.useRef)(null),r=ie((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),i=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=Object(n.useState)("open"===e.animate),u=c[0],d=c[1];Object(n.useEffect)((function(){return u?"open"!==i?(r(),d(!1),Go):t.current?Go:(t.current=setTimeout((function(){t.current=null,d(!1)})),r):Go}),[i,u,r]);var p=ie((function(e){"height"===e.propertyName&&(a(),"close"===i&&s())}),[i,s,a]),f=Xo({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return o.a.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":l,onTransitionEnd:p,ref:e.innerRef})})),Ko=o.a.createContext(null);var Yo=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return a(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(o.a.PureComponent),$o=5e3,Zo=4500,Jo=function(e,t){return t?kr.drop(t.duration):e?kr.snap:kr.fluid},Qo=function(e,t){return e?t?Sr.drop:Sr.combining:null};function ei(e){return"DRAGGING"===e.type?(n=(r=e).dimension.client,o=r.offset,i=r.combineWith,a=r.dropping,s=Boolean(i),l=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(r),c=Boolean(a),u=c?Ir(o,s):Ar(o),{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Jo(l,a),transform:u,opacity:Qo(s,c),zIndex:c?Zo:$o,pointerEvents:"none"}):{transform:Ar((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,r,n,o,i,a,s,l,c,u}function ti(e){var t=Xn("draggable"),r=e.descriptor,o=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=oe((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),u=ie((function(e){var t=i();return t||xe(!1),function(e,t,r){void 0===r&&(r=Re);var n=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=me(o,n),a=he(i,r);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(r,t,e)}),[r,i]),d=oe((function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}}),[r,u,c,t]),p=Object(n.useRef)(d),f=Object(n.useRef)(!0);Rn((function(){return o.draggable.register(p.current),function(){return o.draggable.unregister(p.current)}}),[o.draggable]),Rn((function(){if(f.current)f.current=!1;else{var e=p.current;p.current=d,o.draggable.update(d,e)}}),[d,o.draggable])}function ri(e,t,r){Yn()}function ni(e){e.preventDefault()}var oi=function(e,t){return e===t},ii=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null};function ai(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var si={mapped:{type:"SECONDARY",offset:Re,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ai(null)}};var li=Q((function(){var e,t,r,n=(e=Object(be.a)((function(e,t){return{x:e,y:t}})),t=Object(be.a)((function(e,t,r,n,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:r,combineWith:n,combineTargetFor:null}})),r=Object(be.a)((function(e,r,n,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:r,offset:e,dimension:n,forceShouldAnimate:s,snapshot:t(r,o,i,a,null)}}})),function(n,o){if(n.isDragging){if(n.critical.draggable.id!==o.draggableId)return null;var i=n.current.client.offset,a=n.dimensions.draggables[o.draggableId],s=Ht(n.impact),l=(u=n.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=n.forceShouldAnimate;return r(e(i.x,i.y),n.movementMode,a,o.isClone,s,l,c)}var u;if("DROP_ANIMATING"===n.phase){var d=n.completed;if(d.result.draggableId!==o.draggableId)return null;var p=o.isClone,f=n.dimensions.draggables[o.draggableId],h=d.result,m=h.mode,g=ii(h),b=function(e){return e.combine?e.combine.draggableId:null}(h),v={duration:n.dropDuration,curve:Or,moveTo:n.newHomeClientOffset,opacity:b?Sr.drop:null,scale:b?Cr.drop:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:f,dropping:v,draggingOver:g,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,p,g,b,v)}}}return null}),o=function(){var e=Object(be.a)((function(e,t){return{x:e,y:t}})),t=Object(be.a)(ai),r=Object(be.a)((function(e,r,n){return void 0===r&&(r=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:n,snapshot:t(r)}}})),n=function(e){return e?r(Re,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=nt(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return n(u);if(i.displaced.invisible[t])return null;var d=Be(a.displacedBy.point),p=e(d.x,d.y);return r(p,u,!0)}if(l)return n(u);var f=i.displacedBy.point,h=e(f.x,f.y);return r(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var r=e.completed;return r.result.draggableId===t.draggableId?null:o(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return function(e,t){return n(e,t)||o(e,t)||si}}),{dropAnimationFinished:xr},null,{context:zn,pure:!0,areStatePropsEqual:oi})((function(e){var t=Object(n.useRef)(null),r=ie((function(e){t.current=e}),[]),o=ie((function(){return t.current}),[]),i=Ho(Vn),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=Ho(Ko),u=c.type,d=c.droppableId,p=oe((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,h=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,b=e.canDragInteractiveElements,v=e.isClone,y=e.mapped,w=e.dropAnimationFinished;ri(),Kn(),v||ti(oe((function(){return{descriptor:p,registry:l,getDraggableRef:o,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:m}}),[p,l,o,b,g,m]));var E=oe((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:ni}:null}),[a,s,h,m]),_=ie((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&w()}),[w,y]),x=oe((function(){var e=ei(y),t="DRAGGING"===y.type&&y.dropping?_:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:E}}),[a,E,h,y,_,r]),O=oe((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return f(x,y.snapshot,O)}));function ci(e){return Ho(Ko).isUsingCloneFor!==e.draggableId||e.isClone?o.a.createElement(li,e):null}function ui(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),n=Boolean(e.shouldRespectForcePress);return o.a.createElement(ci,s({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}var di=function(e,t){return e===t.droppable.type},pi=function(e,t){return t.draggables[e.draggable.id]};var fi={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||xe(!1),document.body}},hi=Q((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=s({},e,{shouldAnimatePlaceholder:!1}),r=Object(be.a)((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),n=Object(be.a)((function(n,o,i,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===n){var u=l?{render:l,dragging:r(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!o)return t;if(!a)return e;var p={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(r,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(r.isDragging){var c=r.critical;if(!di(a,c))return t;var u=pi(c,r.dimensions),d=Ht(r.impact)===i;return n(i,s,d,d,u,l)}if("DROP_ANIMATING"===r.phase){var p=r.completed;if(!di(a,p.critical))return t;var f=pi(p.critical,r.dimensions);return n(i,s,ii(p.result)===i,Ht(p.impact)===i,f,l)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){var h=r.completed;if(!di(a,h.critical))return t;var m=Ht(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),b=h.critical.droppable.id===i;return m?g?e:t:b?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:zn,pure:!0,areStatePropsEqual:oi})((function(e){var t=Object(n.useContext)(Vn);t||xe(!1);var r=t.contextId,i=t.isMovementAllowed,a=Object(n.useRef)(null),s=Object(n.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,p=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,b=e.useClone,v=e.updateViewportMaxScroll,y=e.getContainerForClone,w=ie((function(){return a.current}),[]),E=ie((function(e){a.current=e}),[]),_=(ie((function(){return s.current}),[]),ie((function(e){s.current=e}),[]));Yn();var x=ie((function(){i()&&v({maxScroll:Zr()})}),[i,v]);!function(e){var t=Object(n.useRef)(null),r=Ho(Vn),o=Xn("droppable"),i=r.registry,a=r.marshal,s=Zn(e),l=oe((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=Object(n.useRef)(l),u=oe((function(){return Object(be.a)((function(e,r){t.current||xe(!1);var n={x:e,y:r};a.updateDroppableScroll(l.id,n)}))}),[l.id,a]),d=ie((function(){var e=t.current;return e&&e.env.closestScrollable?Mo(e.env.closestScrollable):Re}),[]),p=ie((function(){var e=d();u(e.x,e.y)}),[d,u]),f=oe((function(){return ve(p)}),[p]),h=ie((function(){var e=t.current,r=Wo(e);e&&r||xe(!1),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),m=ie((function(e,n){t.current&&xe(!1);var o=s.current,i=o.getDroppableRef();i||xe(!1);var a=Bo(i),c={ref:i,descriptor:l,env:a,scrollOptions:n};t.current=c;var u=Lo({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(In.contextId,r.contextId),d.addEventListener("scroll",h,zo(c.scrollOptions))),u}),[r.contextId,l,h,s]),g=ie((function(){var e=t.current,r=Wo(e);return e&&r||xe(!1),Mo(r)}),[]),b=ie((function(){var e=t.current;e||xe(!1);var r=Wo(e);t.current=null,r&&(f.cancel(),r.removeAttribute(In.contextId),r.removeEventListener("scroll",h,zo(e.scrollOptions)))}),[h,f]),v=ie((function(e){var r=t.current;r||xe(!1);var n=Wo(r);n||xe(!1),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),y=oe((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:b,scroll:v}}),[b,m,g,v]),w=oe((function(){return{uniqueId:o,descriptor:l,callbacks:y}}),[y,l,o]);Rn((function(){return c.current=w.descriptor,i.droppable.register(w),function(){t.current&&b(),i.droppable.unregister(w)}}),[y,l,b,w,a,i.droppable]),Rn((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Rn((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:p,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:w});var O=o.a.createElement(Yo,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,n=e.data,i=e.animate;return o.a.createElement(Vo,{placeholder:n,onClose:t,innerRef:_,animate:i,contextId:r,onTransitionEnd:x})})),S=oe((function(){return{innerRef:E,placeholder:O,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":r}}}),[r,c,O,E]),C=b?b.dragging.draggableId:null,T=oe((function(){return{droppableId:c,type:u,isUsingCloneFor:C}}),[c,C,u]);return o.a.createElement(Ko.Provider,{value:T},l(S,g),function(){if(!b)return null;var e=b.dragging,t=b.render,r=o.a.createElement(ci,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(r,n){return t(r,n,e)}));return re.a.createPortal(r,y())}())}));hi.defaultProps=fi},1445:function(e,t,r){"use strict";r.r(t),r.d(t,"ACTIONS",(function(){return $})),r.d(t,"EVENTS",(function(){return Z})),r.d(t,"LIFECYCLE",(function(){return J})),r.d(t,"STATUS",(function(){return Q}));var n=r(2),o=r.n(n),i=(r(3),r(45)),a=["innerHTML","ownerDocument","style","attributes","nodeValue"],s=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],l=["bigint","boolean","null","number","string","symbol","undefined"];function c(e){var t,r=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(r)?"HTMLElement":(t=r,s.includes(t)?r:void 0)}function u(e){return function(t){return c(t)===e}}function d(e){return function(t){return typeof t===e}}function p(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(p.array(e))return"Array";if(p.plainFunction(e))return"Function";var t=c(e);return t||"Object"}p.array=Array.isArray,p.arrayOf=function(e,t){return!(!p.array(e)&&!p.function(t))&&e.every((function(e){return t(e)}))},p.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===c(e)},p.asyncFunction=u("AsyncFunction"),p.bigint=d("bigint"),p.boolean=function(e){return!0===e||!1===e},p.date=u("Date"),p.defined=function(e){return!p.undefined(e)},p.domElement=function(e){return p.object(e)&&!p.plainObject(e)&&1===e.nodeType&&p.string(e.nodeName)&&a.every((function(t){return t in e}))},p.empty=function(e){return p.string(e)&&0===e.length||p.array(e)&&0===e.length||p.object(e)&&!p.map(e)&&!p.set(e)&&0===Object.keys(e).length||p.set(e)&&0===e.size||p.map(e)&&0===e.size},p.error=u("Error"),p.function=d("function"),p.generator=function(e){return p.iterable(e)&&p.function(e.next)&&p.function(e.throw)},p.generatorFunction=u("GeneratorFunction"),p.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},p.iterable=function(e){return!p.nullOrUndefined(e)&&p.function(e[Symbol.iterator])},p.map=u("Map"),p.nan=function(e){return Number.isNaN(e)},p.null=function(e){return null===e},p.nullOrUndefined=function(e){return p.null(e)||p.undefined(e)},p.number=function(e){return d("number")(e)&&!p.nan(e)},p.numericString=function(e){return p.string(e)&&e.length>0&&!Number.isNaN(Number(e))},p.object=function(e){return!p.nullOrUndefined(e)&&(p.function(e)||"object"==typeof e)},p.oneOf=function(e,t){return!!p.array(e)&&e.indexOf(t)>-1},p.plainFunction=u("Function"),p.plainObject=function(e){if("Object"!==c(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},p.primitive=function(e){return p.null(e)||(t=typeof e,l.includes(t));var t},p.promise=u("Promise"),p.propertyOf=function(e,t,r){if(!p.object(e)||!t)return!1;var n=e[t];return p.function(r)?r(n):p.defined(n)},p.regexp=u("RegExp"),p.set=u("Set"),p.string=d("string"),p.symbol=d("symbol"),p.undefined=d("undefined"),p.weakMap=u("WeakMap"),p.weakSet=u("WeakSet");var f=p;function h(e,t,r){var n=r.actual,o=r.key,i=r.previous,a=r.type,s=_(e,o),l=_(t,o),c=[s,l].every(f.number)&&("increased"===a?s<l:s>l);return f.undefined(n)||(c=c&&l===n),f.undefined(i)||(c=c&&s===i),c}function m(e,t,r){var n=r.key,o=r.type,a=r.value,s=_(e,n),l=_(t,n),c="added"===o?s:l,u="added"===o?l:s;return f.nullOrUndefined(a)?[s,l].every(f.array)?!u.every(w(c)):[s,l].every(f.plainObject)?function(e,t){return t.some((function(t){return e.indexOf(t)<0}))}(Object.keys(c),Object.keys(u)):![s,l].every((function(e){return f.primitive(e)&&f.defined(e)}))&&("added"===o?!f.defined(s)&&f.defined(l):f.defined(s)&&!f.defined(l)):f.defined(c)?!(!f.array(c)&&!f.plainObject(c))&&function(e,t,r){return!!E(e,t)&&([e,t].every(f.array)?!e.some(v(r))&&t.some(v(r)):[e,t].every(f.plainObject)?!Object.entries(e).some(b(r))&&Object.entries(t).some(b(r)):t===r)}(c,u,a):i(u,a)}function g(e,t,r){var n=(void 0===r?{}:r).key,o=_(e,n),i=_(t,n);if(!E(o,i))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return f.string(e)||f.array(e)||f.plainObject(e)}))}(o,i))throw new TypeError("Inputs don't have length");return[o,i].every(f.plainObject)&&(o=Object.keys(o),i=Object.keys(i)),[o,i]}function b(e){return function(t){var r=t[0],n=t[1];return f.array(e)?i(e,n)||e.some((function(e){return i(e,n)||f.array(n)&&w(n)(e)})):f.plainObject(e)&&e[r]?!!e[r]&&i(e[r],n):i(e,n)}}function v(e){return function(t){return f.array(e)?e.some((function(e){return i(e,t)||f.array(t)&&w(t)(e)})):i(e,t)}}function y(e,t){return f.array(e)?e.some((function(e){return i(e,t)})):i(e,t)}function w(e){return function(t){return!!e.find((function(e){return i(e,t)}))}}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(f.array)||e.every(f.number)||e.every(f.plainObject)||e.every(f.string)}function _(e,t){return f.plainObject(e)||f.array(e)?f.string(t)?t.split(".").reduce((function(e,t){return e&&e[t]}),e):f.number(t)?e[t]:e:e}function x(e,t){if([e,t].some(f.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((function(e){return f.plainObject(e)||f.array(e)})))throw new Error("Expected plain objects or array");var r=function(r,n,o){try{var a=_(e,r),s=_(t,r),l=f.defined(n),c=f.defined(o);if(l||c){var u=c?y(o,a):!y(n,a),d=y(n,s);return u&&d}return[a,s].every(f.array)||[a,s].every(f.plainObject)?!i(a,s):a!==s}catch(e){return!1}};return{added:function(r,n){try{return m(e,t,{key:r,type:"added",value:n})}catch(e){return!1}},changed:r,changedFrom:function(r,n,o){if(!f.defined(r))return!1;try{var i=_(e,r),a=_(t,r),s=f.defined(o);return y(n,i)&&(s?y(o,a):!s)}catch(e){return!1}},changedTo:function(e,t){return!!f.defined(e)&&r(e,t)},decreased:function(r,n,o){if(!f.defined(r))return!1;try{return h(e,t,{key:r,actual:n,previous:o,type:"decreased"})}catch(e){return!1}},emptied:function(r){try{var n=g(e,t,{key:r}),o=n[0],i=n[1];return!!o.length&&!i.length}catch(e){return!1}},filled:function(r){try{var n=g(e,t,{key:r}),o=n[0],i=n[1];return!o.length&&!!i.length}catch(e){return!1}},increased:function(r,n,o){if(!f.defined(r))return!1;try{return h(e,t,{key:r,actual:n,previous:o,type:"increased"})}catch(e){return!1}},removed:function(r,n){try{return m(e,t,{key:r,type:"removed",value:n})}catch(e){return!1}}}}var O=r(10),S=r.n(O),C=r(176),T=r.n(C),k=r(623),P=r.n(k),A=r(360),I=r.n(A),j=r(47),R=r(62),D=r.n(R),N=r(235);function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t,r){return t&&B(e.prototype,t),r&&B(e,r),e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?V(e):t}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var $={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Z={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found",ERROR:"error"},J={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Q={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"},ee=T.a.canUseDOM,te=void 0!==O.createPortal;function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e;return"undefined"==typeof window?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.indexOf(" OPR/")>=0?t="opera":void 0!==window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([0-9._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function ne(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function oe(e){var t=[];return function e(r){if("string"==typeof r||"number"==typeof r)t.push(r);else if(Array.isArray(r))r.forEach((function(t){return e(t)}));else if(r&&r.props){var n=r.props.children;Array.isArray(n)?n.forEach((function(t){return e(t)})):e(n)}}(e),t.join(" ").trim()}function ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ae(e,t){return!(!f.plainObject(e)||!f.array(t))&&Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}function se(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function le(e){return e.disableBeacon||"center"===e.placement}function ce(){return!(-1!==["chrome","safari","firefox","opera"].indexOf(re()))}function ue(e){var t=e.title,r=e.data,n=e.warn,o=void 0!==n&&n,i=e.debug,a=void 0!==i&&i,s=o?console.warn||console.error:console.log;a&&(t&&r?(console.groupCollapsed("%creact-joyride: ".concat(t),"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach((function(e){f.plainObject(e)&&e.key?s.apply(console,[e.key,e.value]):s.apply(console,[e])})):s.apply(console,[r]),console.groupEnd()):console.error("Missing title or data props"))}var de={action:"",controlled:!1,index:0,lifecycle:J.INIT,size:0,status:Q.IDLE},pe=["action","index","lifecycle","status"];function fe(e){var t=new Map,r=new Map;return new(function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.continuous,i=void 0!==o&&o,a=n.stepIndex,s=n.steps,l=void 0===s?[]:s;M(this,e),F(this,"listener",void 0),F(this,"setSteps",(function(e){var n=t.getState(),o=n.size,i=n.status,a={size:e.length,status:i};r.set("steps",e),i===Q.WAITING&&!o&&e.length&&(a.status=Q.RUNNING),t.setState(a)})),F(this,"addListener",(function(e){t.listener=e})),F(this,"update",(function(e){if(!ae(e,pe))throw new Error("State is not valid. Valid keys: ".concat(pe.join(", ")));t.setState(H({},t.getNextState(H(H(H({},t.getState()),e),{},{action:e.action||$.UPDATE}),!0)))})),F(this,"start",(function(e){var r=t.getState(),n=r.index,o=r.size;t.setState(H(H({},t.getNextState({action:$.START,index:f.number(e)?e:n},!0)),{},{status:o?Q.RUNNING:Q.WAITING}))})),F(this,"stop",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.getState(),n=r.index,o=r.status;-1===[Q.FINISHED,Q.SKIPPED].indexOf(o)&&t.setState(H(H({},t.getNextState({action:$.STOP,index:n+(e?1:0)})),{},{status:Q.PAUSED}))})),F(this,"close",(function(){var e=t.getState(),r=e.index;e.status===Q.RUNNING&&t.setState(H({},t.getNextState({action:$.CLOSE,index:r+1})))})),F(this,"go",(function(e){var r=t.getState(),n=r.controlled,o=r.status;if(!n&&o===Q.RUNNING){var i=t.getSteps()[e];t.setState(H(H({},t.getNextState({action:$.GO,index:e})),{},{status:i?o:Q.FINISHED}))}})),F(this,"info",(function(){return t.getState()})),F(this,"next",(function(){var e=t.getState(),r=e.index;e.status===Q.RUNNING&&t.setState(t.getNextState({action:$.NEXT,index:r+1}))})),F(this,"open",(function(){t.getState().status===Q.RUNNING&&t.setState(H({},t.getNextState({action:$.UPDATE,lifecycle:J.TOOLTIP})))})),F(this,"prev",(function(){var e=t.getState(),r=e.index;e.status===Q.RUNNING&&t.setState(H({},t.getNextState({action:$.PREV,index:r-1})))})),F(this,"reset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.getState(),n=r.controlled;n||t.setState(H(H({},t.getNextState({action:$.RESET,index:0})),{},{status:e?Q.RUNNING:Q.READY}))})),F(this,"skip",(function(){t.getState().status===Q.RUNNING&&t.setState({action:$.SKIP,lifecycle:J.INIT,status:Q.SKIPPED})})),this.setState({action:$.INIT,controlled:f.number(a),continuous:i,index:f.number(a)?a:0,lifecycle:J.INIT,status:l.length?Q.READY:Q.IDLE},!0),this.setSteps(l)}return L(e,[{key:"setState",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getState(),o=H(H({},n),e),i=o.action,a=o.index,s=o.lifecycle,l=o.size,c=o.status;t.set("action",i),t.set("index",a),t.set("lifecycle",s),t.set("size",l),t.set("status",c),r&&(t.set("controlled",e.controlled),t.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}},{key:"getState",value:function(){return t.size?{action:t.get("action")||"",controlled:t.get("controlled")||!1,index:parseInt(t.get("index"),10),lifecycle:t.get("lifecycle")||"",size:t.get("size")||0,status:t.get("status")||""}:H({},de)}},{key:"getNextState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getState(),n=r.action,o=r.controlled,i=r.index,a=r.size,s=r.status,l=f.number(e.index)?e.index:i,c=o&&!t?i:Math.min(Math.max(l,0),a);return{action:e.action||n,controlled:o,index:c,lifecycle:e.lifecycle||J.INIT,size:e.size||a,status:c===a?Q.FINISHED:e.status||s}}},{key:"hasUpdatedState",value:function(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}},{key:"getSteps",value:function(){var e=r.get("steps");return Array.isArray(e)?e:[]}},{key:"getHelpers",value:function(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}}]),e}())(e)}function he(){return document.scrollingElement||document.createElement("body")}function me(e){return e?e.getBoundingClientRect():{}}function ge(e){return"string"==typeof e?document.querySelector(e):e}function be(e){return e&&1===e.nodeType?getComputedStyle(e):{}}function ve(e,t,r){var n=I()(e);return n.isSameNode(he())?r?document:he():n.scrollHeight>n.offsetHeight||t?n:(n.style.overflow="initial",he())}function ye(e,t){return!!e&&!ve(e,t).isSameNode(he())}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed";if(!(e&&e instanceof HTMLElement))return!1;var r=e.nodeName;return"BODY"!==r&&"HTML"!==r&&(be(e).position===t||we(e.parentNode,t))}function Ee(e){return e instanceof HTMLElement?e.offsetParent instanceof HTMLElement?Ee(e.offsetParent)+e.offsetTop:e.offsetTop:0}function _e(e,t,r){if(!e)return 0;var n=I()(e),o=Ee(e);return ye(e,r)&&!function(e){return e.offsetParent!==document.body}(e)&&(o-=Ee(n)),Math.floor(o-t)}!function(e){function t(t,r,n,o,i,a){var s=o||"<<anonymous>>",l=a||n;if(null==r[n])return t?new Error("Required ".concat(i," `").concat(l,"` was not specified in `").concat(s,"`.")):null;for(var c=arguments.length,u=new Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[r,n,s,i,l].concat(u))}var r=t.bind(null,!1);r.isRequired=t.bind(null,!0)}((function(e,t,r,n,i){var a=e[t],s=a;if(!o.a.isValidElement(a)&&Object(j.isValidElementType)(a)){var l={ref:function(){},step:{}};s=o.a.createElement(s,l)}if(f.string(a)||f.number(a)||!Object(j.isValidElementType)(a)||-1===[j.Element,j.ForwardRef].indexOf(Object(j.typeOf)(s)))return new Error("Invalid ".concat(n," `").concat(i,"` supplied to `").concat(r,"`. Expected a React class or forwardRef."))}));var xe={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",zIndex:100},Oe={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},Se={borderRadius:4,position:"absolute"};var Ce={floaterProps:{options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},locale:{back:"Back",close:"Close",last:"Last",next:"Next",open:"Open the dialog",skip:"Skip"},step:{event:"click",placement:"bottom",offset:10}};function Te(e){var t=["beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent"];return Object.keys(e).filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,r){return t[r]=e[r],t}),{})}function ke(e,t){if(!e)return null;var r=D.a.all([Te(t),Ce.step,e],{isMergeableObject:f.plainObject}),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=D()(xe,e.options||{}),r=290;window.innerWidth>480&&(r=380),t.width&&(r=window.innerWidth<t.width?window.innerWidth-30:t.width);var n={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:t.zIndex},o={beacon:H(H({},Oe),{},{display:"inline-block",height:t.beaconSize,position:"relative",width:t.beaconSize,zIndex:t.zIndex}),beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:t.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(".concat(se(t.primaryColor).join(","),", 0.2)"),border:"2px solid ".concat(t.primaryColor),borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:t.backgroundColor,borderRadius:5,boxSizing:"border-box",color:t.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:r},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:H(H({},Oe),{},{backgroundColor:t.primaryColor,borderRadius:4,color:"#fff"}),buttonBack:H(H({},Oe),{},{color:t.primaryColor,marginLeft:"auto",marginRight:5}),buttonClose:H(H({},Oe),{},{color:t.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14}),buttonSkip:H(H({},Oe),{},{color:t.textColor,fontSize:14}),overlay:H(H({},n),{},{backgroundColor:t.overlayColor,mixBlendMode:"hard-light"}),overlayLegacy:H({},n),overlayLegacyCenter:H(H({},n),{},{backgroundColor:t.overlayColor}),spotlight:H(H({},Se),{},{backgroundColor:"gray"}),spotlightLegacy:H(H({},Se),{},{boxShadow:"0 0 0 9999px ".concat(t.overlayColor,", ").concat(t.spotlightShadow)}),floaterStyles:{arrow:{color:t.arrowColor},options:{zIndex:t.zIndex}},options:t};return D()(o,e)}(D()(t.styles||{},e.styles||{})),o=ye(ge(e.target),r.disableScrollParentFix),i=D.a.all([t.floaterProps||{},Ce.floaterProps,r.floaterProps||{}]);return i.offset=r.offset,i.styles=D()(i.styles||{},n.floaterStyles||{}),delete n.floaterStyles,i.offset+=t.spotlightPadding||e.spotlightPadding||0,e.placementBeacon&&(i.wrapperOptions.placement=e.placementBeacon),o&&(i.options.preventOverflow.boundariesElement="window"),H(H({},r),{},{locale:D.a.all([Ce.locale,t.locale||{},r.locale||{}]),floaterProps:i,styles:n})}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f.plainObject(e)?!!e.target||(ue({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(ue({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f.array(e)?e.every((function(e){return Pe(e,t)})):(ue({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var Ie=function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(M(this,e),F(this,"element",void 0),F(this,"options",void 0),F(this,"canBeTabbed",(function(e){var t=e.tabIndex;return(null===t||t<0)&&(t=void 0),!isNaN(t)&&r.canHaveFocus(e)})),F(this,"canHaveFocus",(function(e){var t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&r.isVisible(e)})),F(this,"findValidTabElements",(function(){return[].slice.call(r.element.querySelectorAll("*"),0).filter(r.canBeTabbed)})),F(this,"handleKeyDown",(function(e){var t=r.options.keyCode,n=void 0===t?9:t;e.keyCode===n&&r.interceptTab(e)})),F(this,"interceptTab",(function(e){e.preventDefault();var t=r.findValidTabElements(),n=e.shiftKey;if(t.length){var o=t.indexOf(document.activeElement);-1===o||!n&&o+1===t.length?o=0:n&&0===o?o=t.length-1:o+=n?-1:1,t[o].focus()}})),F(this,"isHidden",(function(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0,r=window.getComputedStyle(e);return!(!t||e.innerHTML)||(t&&"visible"!==r.getPropertyValue("overflow")||"none"===r.getPropertyValue("display"))})),F(this,"isVisible",(function(e){for(var t=e;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(r.isHidden(t))return!1;t=t.parentNode}return!0})),F(this,"removeScope",(function(){window.removeEventListener("keydown",r.handleKeyDown)})),F(this,"checkFocus",(function(e){document.activeElement!==e&&(e.focus(),window.requestAnimationFrame((function(){return r.checkFocus(e)})))})),F(this,"setFocus",(function(){var e=r.options.selector;if(e){var t=r.element.querySelector(e);t&&window.requestAnimationFrame((function(){return r.checkFocus(t)}))}})),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=n,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()},je=function(e){W(r,e);var t=Y(r);function r(e){var n;if(M(this,r),F(V(n=t.call(this,e)),"setBeaconRef",(function(e){n.beacon=e})),!e.beaconComponent){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.id="joyride-beacon-animation",i.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),o.appendChild(i)}return n}return L(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.shouldFocus;setTimeout((function(){f.domElement(e.beacon)&&t&&e.beacon.focus()}),0)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("joyride-beacon-animation");e&&e.parentNode.removeChild(e)}},{key:"render",value:function(){var e,t=this.props,r=t.beaconComponent,n=t.locale,i=t.onClickOrHover,a=t.styles,s={"aria-label":n.open,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:n.open};if(r){var l=r;e=o.a.createElement(l,s)}else e=o.a.createElement("button",U({key:"JoyrideBeacon",className:"react-joyride__beacon",style:a.beacon,type:"button"},s),o.a.createElement("span",{style:a.beaconInner}),o.a.createElement("span",{style:a.beaconOuter}));return e}}]),r}(o.a.Component),Re=function(e){var t=e.styles;return o.a.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight",style:t})},De=function(e){W(r,e);var t=Y(r);function r(){var e;M(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return F(V(e=t.call.apply(t,[this].concat(o))),"_isMounted",!1),F(V(e),"state",{mouseOverSpotlight:!1,isScrolling:!1,showSpotlight:!0}),F(V(e),"handleMouseMove",(function(t){var r=e.state.mouseOverSpotlight,n=e.spotlightStyles,o=n.height,i=n.left,a=n.position,s=n.top,l=n.width,c="fixed"===a?t.clientY:t.pageY,u="fixed"===a?t.clientX:t.pageX,d=u>=i&&u<=i+l&&(c>=s&&c<=s+o);d!==r&&e.updateState({mouseOverSpotlight:d})})),F(V(e),"handleScroll",(function(){var t=ge(e.props.target);e.scrollParent!==document?(e.state.isScrolling||e.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout((function(){e.updateState({isScrolling:!1,showSpotlight:!0})}),50)):we(t,"sticky")&&e.updateState({})})),F(V(e),"handleResize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){e._isMounted&&e.forceUpdate()}),100)})),e}return L(r,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.debug,e.disableScrolling,e.disableScrollParentFix),r=ge(e.target);this.scrollParent=ve(r,t,!0),this._isMounted=!0,window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){var t=this,r=this.props,n=r.lifecycle,o=r.spotlightClicks,i=x(e,this.props).changed;i("lifecycle",J.TOOLTIP)&&(this.scrollParent.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout((function(){t.state.isScrolling||t.updateState({showSpotlight:!0})}),100)),(i("spotlightClicks")||i("disableOverlay")||i("lifecycle"))&&(o&&n===J.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):n!==J.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),this.scrollParent.removeEventListener("scroll",this.handleScroll)}},{key:"updateState",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this.state,t=e.mouseOverSpotlight,r=e.showSpotlight,n=this.props,i=n.disableOverlay,a=n.disableOverlayClose,s=n.lifecycle,l=n.onClickOverlay,c=n.placement,u=n.styles;if(i||s!==J.TOOLTIP)return null;var d=u.overlay;ce()&&(d="center"===c?u.overlayLegacyCenter:u.overlayLegacy);var p,f,h,m=H({cursor:a?"default":"pointer",height:(p=document,f=p.body,h=p.documentElement,f&&h?Math.max(f.scrollHeight,f.offsetHeight,h.clientHeight,h.scrollHeight,h.offsetHeight):0),pointerEvents:t?"none":"auto"},d),g="center"!==c&&r&&o.a.createElement(Re,{styles:this.spotlightStyles});if("safari"===re()){m.mixBlendMode,m.zIndex;var b=X(m,["mixBlendMode","zIndex"]);g=o.a.createElement("div",{style:H({},b)},g),delete m.backgroundColor}return o.a.createElement("div",{className:"react-joyride__overlay",style:m,onClick:l},g)}},{key:"spotlightStyles",get:function(){var e=this.state.showSpotlight,t=this.props,r=t.disableScrollParentFix,n=t.spotlightClicks,o=t.spotlightPadding,i=t.styles,a=ge(t.target),s=me(a),l=we(a),c=function(e,t,r){var n=me(e),o=ve(e,r),i=ye(e,r),a=0;o instanceof HTMLElement&&(a=o.scrollTop);var s=n.top+(i||we(e)?0:a);return Math.floor(s-t)}(a,o,r);return H(H({},ce()?i.spotlightLegacy:i.spotlight),{},{height:Math.round(s.height+2*o),left:Math.round(s.left-o),opacity:e?1:0,pointerEvents:n?"none":"auto",position:l?"fixed":"absolute",top:c,transition:"opacity 0.2s",width:Math.round(s.width+2*o)})}}]),r}(o.a.Component),Ne=function(e){var t=e.styles,r=X(e,["styles"]),n=t.color,i=t.height,a=t.width,s=X(t,["color","height","width"]);return o.a.createElement("button",U({style:s,type:"button"},r),o.a.createElement("svg",{width:"number"==typeof a?"".concat(a,"px"):a,height:"number"==typeof i?"".concat(i,"px"):i,viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},o.a.createElement("g",null,o.a.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))},Me=function(e){W(r,e);var t=Y(r);function r(){return M(this,r),t.apply(this,arguments)}return L(r,[{key:"render",value:function(){var e=this.props,t=e.backProps,r=e.closeProps,n=e.continuous,i=e.index,a=e.isLastStep,s=e.primaryProps,l=e.size,c=e.skipProps,u=e.step,d=e.tooltipProps,p=u.content,f=u.hideBackButton,h=u.hideCloseButton,m=u.hideFooter,g=u.showProgress,b=u.showSkipButton,v=u.title,y=u.styles,w=u.locale,E=w.back,_=w.close,x=w.last,O=w.next,S=w.skip,C={primary:_};return n&&(C.primary=a?x:O,g&&(C.primary=o.a.createElement("span",null,C.primary," (",i+1,"/",l,")"))),b&&!a&&(C.skip=o.a.createElement("button",U({style:y.buttonSkip,type:"button","aria-live":"off"},c),S)),!f&&i>0&&(C.back=o.a.createElement("button",U({style:y.buttonBack,type:"button"},t),E)),C.close=!h&&o.a.createElement(Ne,U({styles:y.buttonClose},r)),o.a.createElement("div",U({key:"JoyrideTooltip",className:"react-joyride__tooltip",style:y.tooltip},d),o.a.createElement("div",{style:y.tooltipContainer},v&&o.a.createElement("h4",{style:y.tooltipTitle,"aria-label":v},v),o.a.createElement("div",{style:y.tooltipContent},p)),!m&&o.a.createElement("div",{style:y.tooltipFooter},o.a.createElement("div",{style:y.tooltipFooterSpacer},C.skip),C.back,o.a.createElement("button",U({style:y.buttonNext,type:"button"},s),C.primary)),C.close)}}]),r}(o.a.Component),Be=function(e){W(r,e);var t=Y(r);function r(){var e;M(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return F(V(e=t.call.apply(t,[this].concat(o))),"handleClickBack",(function(t){t.preventDefault(),e.props.helpers.prev()})),F(V(e),"handleClickClose",(function(t){t.preventDefault(),e.props.helpers.close()})),F(V(e),"handleClickPrimary",(function(t){t.preventDefault();var r=e.props,n=r.continuous,o=r.helpers;n?o.next():o.close()})),F(V(e),"handleClickSkip",(function(t){t.preventDefault(),e.props.helpers.skip()})),F(V(e),"getElementsProps",(function(){var t=e.props,r=t.continuous,n=t.isLastStep,o=t.setTooltipRef,i=t.step,a=oe(i.locale.back),s=oe(i.locale.close),l=oe(i.locale.last),c=oe(i.locale.next),u=oe(i.locale.skip),d=r?c:s;return n&&(d=l),{backProps:{"aria-label":a,"data-action":"back",onClick:e.handleClickBack,role:"button",title:a},closeProps:{"aria-label":s,"data-action":"close",onClick:e.handleClickClose,role:"button",title:s},primaryProps:{"aria-label":d,"data-action":"primary",onClick:e.handleClickPrimary,role:"button",title:d},skipProps:{"aria-label":u,"data-action":"skip",onClick:e.handleClickSkip,role:"button",title:u},tooltipProps:{"aria-modal":!0,ref:o,role:"alertdialog"}}})),e}return L(r,[{key:"render",value:function(){var e,t=this.props,r=t.continuous,n=t.index,i=t.isLastStep,a=t.size,s=t.step,l=(s.beaconComponent,s.tooltipComponent),c=X(s,["beaconComponent","tooltipComponent"]);if(l){var u=H(H({},this.getElementsProps()),{},{continuous:r,index:n,isLastStep:i,size:a,step:c}),d=l;e=o.a.createElement(d,u)}else e=o.a.createElement(Me,U({},this.getElementsProps(),{continuous:r,index:n,isLastStep:i,size:a,step:s}));return e}}]),r}(o.a.Component),Le=function(e){W(r,e);var t=Y(r);function r(e){var n;return M(this,r),n=t.call(this,e),ee?(n.node=document.createElement("div"),e.id&&(n.node.id=e.id),document.body.appendChild(n.node),n):K(n)}return L(r,[{key:"componentDidMount",value:function(){ee&&(te||this.renderReact15())}},{key:"componentDidUpdate",value:function(){ee&&(te||this.renderReact15())}},{key:"componentWillUnmount",value:function(){ee&&this.node&&(te||S.a.unmountComponentAtNode(this.node),document.body.removeChild(this.node))}},{key:"renderReact15",value:function(){if(!ee)return null;var e=this.props.children;return S.a.unstable_renderSubtreeIntoContainer(this,e,this.node),null}},{key:"renderReact16",value:function(){if(!ee||!te)return null;var e=this.props.children;return S.a.createPortal(e,this.node)}},{key:"render",value:function(){return te?this.renderReact16():null}}]),r}(o.a.Component),Fe=function(e){W(r,e);var t=Y(r);function r(){var e;M(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return F(V(e=t.call.apply(t,[this].concat(o))),"scope",{removeScope:function(){}}),F(V(e),"handleClickHoverBeacon",(function(t){var r=e.props,n=r.step,o=r.update;"mouseenter"===t.type&&"hover"!==n.event||o({lifecycle:J.TOOLTIP})})),F(V(e),"handleClickOverlay",(function(){var t=e.props,r=t.helpers;t.step.disableOverlayClose||r.close()})),F(V(e),"setTooltipRef",(function(t){e.tooltip=t})),F(V(e),"setPopper",(function(t,r){var n=e.props,o=n.action,i=n.setPopper,a=n.update;"wrapper"===r?e.beaconPopper=t:e.tooltipPopper=t,i(t,r),e.beaconPopper&&e.tooltipPopper&&a({action:o===$.CLOSE?$.CLOSE:o,lifecycle:J.READY})})),e}return L(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.debug,r=e.index;ue({title:"step:".concat(r),data:[{key:"props",value:this.props}],debug:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.action,n=t.callback,o=t.continuous,i=t.controlled,a=t.debug,s=t.index,l=t.lifecycle,c=t.size,u=t.status,d=t.step,p=t.update,f=x(e,this.props),h=f.changed,m=f.changedFrom,g={action:r,controlled:i,index:s,lifecycle:l,size:c,status:u},b=o&&r!==$.CLOSE&&(s>0||r===$.PREV),v=h("action")||h("index")||h("lifecycle")||h("status"),y=m("lifecycle",[J.TOOLTIP,J.INIT],J.INIT);if(h("action",[$.NEXT,$.PREV,$.SKIP,$.CLOSE])&&(y||i)&&n(H(H({},g),{},{index:e.index,lifecycle:J.COMPLETE,step:e.step,type:Z.STEP_AFTER})),v&&d){var w=ge(d.target),E=!!w;E&&function(e){if(!e)return!1;for(var t=e;t&&t!==document.body;){if(t instanceof HTMLElement){var r=getComputedStyle(t),n=r.display,o=r.visibility;if("none"===n||"hidden"===o)return!1}t=t.parentNode}return!0}(w)?(m("status",Q.READY,Q.RUNNING)||m("lifecycle",J.INIT,J.READY))&&n(H(H({},g),{},{step:d,type:Z.STEP_BEFORE})):(console.warn(E?"Target not visible":"Target not mounted",d),n(H(H({},g),{},{type:Z.TARGET_NOT_FOUND,step:d})),i||p({index:s+(-1!==[$.PREV].indexOf(r)?-1:1)}))}m("lifecycle",J.INIT,J.READY)&&p({lifecycle:le(d)||b?J.TOOLTIP:J.BEACON}),h("index")&&ue({title:"step:".concat(l),data:[{key:"props",value:this.props}],debug:a}),h("lifecycle",J.BEACON)&&n(H(H({},g),{},{step:d,type:Z.BEACON})),h("lifecycle",J.TOOLTIP)&&(n(H(H({},g),{},{step:d,type:Z.TOOLTIP})),this.scope=new Ie(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus()),m("lifecycle",[J.TOOLTIP,J.INIT],J.INIT)&&(this.scope.removeScope(),delete this.beaconPopper,delete this.tooltipPopper)}},{key:"componentWillUnmount",value:function(){this.scope.removeScope()}},{key:"render",value:function(){var e=this.props,t=e.continuous,r=e.debug,n=e.helpers,i=e.index,a=e.lifecycle,s=e.shouldScroll,l=e.size,c=e.step,u=ge(c.target);return Pe(c)&&f.domElement(u)?o.a.createElement("div",{key:"JoyrideStep-".concat(i),className:"react-joyride__step"},o.a.createElement(Le,{id:"react-joyride-portal"},o.a.createElement(De,U({},c,{debug:r,lifecycle:a,onClickOverlay:this.handleClickOverlay}))),o.a.createElement(N.default,U({component:o.a.createElement(Be,{continuous:t,helpers:n,index:i,isLastStep:i+1===l,setTooltipRef:this.setTooltipRef,size:l,step:c}),debug:r,getPopper:this.setPopper,id:"react-joyride-step-".concat(i),isPositioned:c.isFixed||we(u),open:this.open,placement:c.placement,target:c.target},c.floaterProps),o.a.createElement(je,{beaconComponent:c.beaconComponent,locale:c.locale,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:s,styles:c.styles}))):null}},{key:"open",get:function(){var e=this.props,t=e.step,r=e.lifecycle;return!(!le(t)&&r!==J.TOOLTIP)}}]),r}(o.a.Component),Ue=function(e){W(r,e);var t=Y(r);function r(e){var n;return M(this,r),F(V(n=t.call(this,e)),"initStore",(function(){var e=n.props,t=e.debug,r=e.getHelpers,o=e.run,i=e.stepIndex;n.store=new fe(H(H({},n.props),{},{controlled:o&&f.number(i)})),n.helpers=n.store.getHelpers();var a=n.store.addListener;return ue({title:"init",data:[{key:"props",value:n.props},{key:"state",value:n.state}],debug:t}),a(n.syncState),r(n.helpers),n.store.getState()})),F(V(n),"callback",(function(e){var t=n.props.callback;f.function(t)&&t(e)})),F(V(n),"handleKeyboard",(function(e){var t=n.state,r=t.index,o=t.lifecycle,i=n.props.steps[r],a=window.Event?e.which:e.keyCode;o===J.TOOLTIP&&27===a&&i&&!i.disableCloseOnEsc&&n.store.close()})),F(V(n),"syncState",(function(e){n.setState(e)})),F(V(n),"setPopper",(function(e,t){"wrapper"===t?n.beaconPopper=e:n.tooltipPopper=e})),F(V(n),"shouldScroll",(function(e,t,r,n,o,i,a){return!e&&(0!==t||r||n===J.TOOLTIP)&&"center"!==o.placement&&(!o.isFixed||!we(i))&&a.lifecycle!==n&&-1!==[J.BEACON,J.TOOLTIP].indexOf(n)})),n.state=n.initStore(),n}return L(r,[{key:"componentDidMount",value:function(){if(ee){var e=this.props,t=e.disableCloseOnEsc,r=e.debug,n=e.run,o=e.steps,i=this.store.start;Ae(o,r)&&n&&i(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}}},{key:"componentDidUpdate",value:function(e,t){if(ee){var r=this.state,o=r.action,i=r.controlled,a=r.index,s=r.lifecycle,l=r.status,c=this.props,u=c.debug,d=c.run,p=c.stepIndex,h=c.steps,m=e.steps,g=e.stepIndex,b=this.store,v=b.setSteps,y=b.reset,w=b.start,E=b.stop,_=b.update,O=x(e,this.props).changed,S=x(t,this.state),C=S.changed,T=S.changedFrom,k=ke(h[a],this.props),P=!function e(t,r){var o,i=Object(n.isValidElement)(t)||Object(n.isValidElement)(r),a=f.undefined(t)||f.undefined(r);if(ne(t)!==ne(r)||i||a)return!1;if(f.domElement(t))return t.isSameNode(r);if(f.number(t))return t===r;if(f.function(t))return t.toString()===r.toString();for(var s in t)if(ie(t,s)){if(void 0===t[s]||void 0===r[s])return!1;if(o=ne(t[s]),-1!==["object","array"].indexOf(o)&&e(t[s],r[s]))continue;if("function"===o&&e(t[s],r[s]))continue;if(t[s]!==r[s])return!1}for(var l in r)if(ie(r,l)&&void 0===t[l])return!1;return!0}(m,h),A=f.number(p)&&O("stepIndex"),I=ge(null==k?void 0:k.target);if(P&&(Ae(h,u)?v(h):console.warn("Steps are not valid",h)),O("run")&&(d?w(p):E()),A){var j=g<p?$.NEXT:$.PREV;o===$.STOP&&(j=$.START),-1===[Q.FINISHED,Q.SKIPPED].indexOf(l)&&_({action:o===$.CLOSE?$.CLOSE:j,index:p,lifecycle:J.INIT})}i||l!==Q.RUNNING||0!==a||I||(this.store.update({index:a+1}),this.callback(H(H({},this.state),{},{type:Z.TARGET_NOT_FOUND,step:k})));var R=H(H({},this.state),{},{index:a,step:k});if(C("action",[$.NEXT,$.PREV,$.SKIP,$.CLOSE])&&C("status",Q.PAUSED)){var D=ke(h[t.index],this.props);this.callback(H(H({},R),{},{index:t.index,lifecycle:J.COMPLETE,step:D,type:Z.STEP_AFTER}))}if(C("status",[Q.FINISHED,Q.SKIPPED])){var N=ke(h[t.index],this.props);i||this.callback(H(H({},R),{},{index:t.index,lifecycle:J.COMPLETE,step:N,type:Z.STEP_AFTER})),this.callback(H(H({},R),{},{type:Z.TOUR_END,step:N,index:t.index})),y()}else T("status",[Q.IDLE,Q.READY],Q.RUNNING)?this.callback(H(H({},R),{},{type:Z.TOUR_START})):(C("status")||C("action",$.RESET))&&this.callback(H(H({},R),{},{type:Z.TOUR_STATUS}));k&&(this.scrollToStep(t),"center"===k.placement&&l===Q.RUNNING&&s===J.INIT&&this.store.update({lifecycle:J.READY}))}}},{key:"componentWillUnmount",value:function(){this.props.disableCloseOnEsc||document.body.removeEventListener("keydown",this.handleKeyboard)}},{key:"scrollToStep",value:function(e){var t=this.state,r=t.index,n=t.lifecycle,o=t.status,i=this.props,a=i.debug,s=i.disableScrolling,l=i.disableScrollParentFix,c=i.scrollToFirstStep,u=i.scrollOffset,d=i.scrollDuration,p=ke(i.steps[r],this.props);if(p){var f=ge(p.target),h=this.shouldScroll(s,r,c,n,p,f,e);if(o===Q.RUNNING&&h){var m=ye(f,l),g=ve(f,l),b=Math.floor(_e(f,u,l))||0;if(ue({title:"scrollToStep",data:[{key:"index",value:r},{key:"lifecycle",value:n},{key:"status",value:o}],debug:a}),n===J.BEACON&&this.beaconPopper){var v=this.beaconPopper,y=v.placement,w=v.popper;-1!==["bottom"].indexOf(y)||m||(b=Math.floor(w.top-u))}else if(n===J.TOOLTIP&&this.tooltipPopper){var E=this.tooltipPopper,_=E.flipped,x=E.placement,O=E.popper;-1===["top","right","left"].indexOf(x)||_||m?b-=p.spotlightPadding:b=Math.floor(O.top-u)}b=b>=0?b:0,o===Q.RUNNING&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he(),r=arguments.length>2?arguments[2]:void 0;new Promise((function(n,o){var i=t.scrollTop,a=e>i?e-i:i-e;P.a.top(t,e,{duration:a<100?50:r},(function(e){return e&&"Element already at target scroll position"!==e.message?o(e):n()}))}))}(b,g,d)}}}},{key:"render",value:function(){if(!ee)return null;var e,t=this.state,r=t.index,n=t.status,i=this.props,a=i.continuous,s=i.debug,l=i.disableScrolling,c=i.scrollToFirstStep,u=ke(i.steps[r],this.props);return n===Q.RUNNING&&u&&(e=o.a.createElement(Fe,U({},this.state,{callback:this.callback,continuous:a,debug:s,setPopper:this.setPopper,helpers:this.helpers,shouldScroll:!l&&(0!==r||c),step:u,update:this.store.update}))),o.a.createElement("div",{className:"react-joyride"},e)}}]),r}(o.a.Component);F(Ue,"defaultProps",{continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:function(){},hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]});t.default=Ue},1446:function(e,t,r){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}r.r(t),r.d(t,"Editor",(function(){return je})),r.d(t,"Element",(function(){return Re})),r.d(t,"Location",(function(){return De})),r.d(t,"Node",(function(){return Me})),r.d(t,"Operation",(function(){return Fe})),r.d(t,"Path",(function(){return Ue})),r.d(t,"PathRef",(function(){return ze})),r.d(t,"Point",(function(){return We})),r.d(t,"PointRef",(function(){return Ge})),r.d(t,"Range",(function(){return Xe})),r.d(t,"RangeRef",(function(){return Ve})),r.d(t,"Span",(function(){return Ne})),r.d(t,"Text",(function(){return $e})),r.d(t,"Transforms",(function(){return st})),r.d(t,"createEditor",(function(){return ut}));var o,i,a,s=function(e){var t,r;return!1!==n(e)&&("function"==typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))},l=r(619),c="undefined"!=typeof Symbol,u="undefined"!=typeof Map,d="undefined"!=typeof Set,p=c?Symbol("immer-nothing"):((o={})["immer-nothing"]=!0,o),f=c?Symbol("immer-draftable"):"__$immer_draftable",h=c?Symbol("immer-state"):"__$immer_state",m=c?Symbol.iterator:"@@iterator",g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function b(e,t){function r(){this.constructor=e}g(e,t),e.prototype=(r.prototype=t.prototype,new r)}function v(e){return!!e&&!!e[h]}function y(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[f]||!!e.constructor[f]||C(e)||T(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(i||(i={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(a||(a={}));var w="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function E(e,t){_(e)===i.Object?w(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function _(e){if(e||j(),e[h])switch(e[h].type){case a.ES5Object:case a.ProxyObject:return i.Object;case a.ES5Array:case a.ProxyArray:return i.Array;case a.Map:return i.Map;case a.Set:return i.Set}return Array.isArray(e)?i.Array:C(e)?i.Map:T(e)?i.Set:i.Object}function x(e,t){return _(e)===i.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return _(e)===i.Map?e.get(t):e[t]}function S(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function C(e){return u&&e instanceof Map}function T(e){return d&&e instanceof Set}function k(e){return e.copy||e.base}function P(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return w(e).forEach((function(n){if(n!==h){var o=Object.getOwnPropertyDescriptor(e,n),i=o.value;if(o.get){if(!t)throw new Error("Immer drafts cannot have computed properties");i=o.get.call(e)}o.enumerable?r[n]=i:Object.defineProperty(r,n,{value:i,writable:!0,configurable:!0})}})),r}function A(e,t){if(y(e)&&!v(e)&&!Object.isFrozen(e)){var r=_(e);r===i.Set?e.add=e.clear=e.delete=I:r===i.Map&&(e.set=e.clear=e.delete=I),Object.freeze(e),t&&E(e,(function(e,t){return A(t,!0)}))}}function I(){throw new Error("This object has been frozen and should not be mutated")}function j(){throw new Error("Illegal state, please file a bug")}var R=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(D),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function D(e){var t=e[h];t.type===a.ProxyObject||t.type===a.ProxyArray?t.revoke():t.revoked=!0}function N(e,t,r){var n=r.drafts[0],o=void 0!==t&&t!==n;if(e.willFinalize(r,t,o),o){if(n[h].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");y(t)&&(t=M(e,t,r),r.parent||L(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[h].base}))}else t=M(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==p?t:void 0}function M(e,t,r,n){var o=t[h];if(!o)return Object.isFrozen(t)?t:B(e,t,r);if(o.scope!==r)return t;if(!o.modified)return L(e,o.base,!0),o.base;if(!o.finalized){if(o.finalized=!0,B(e,o.draft,r,n),e.onDelete&&o.type!==a.Set)if(e.useProxies){E(o.assigned,(function(t,r){r||e.onDelete(o,t)}))}else{var i=o.base,s=o.copy;E(i,(function(t){x(s,t)||e.onDelete(o,t)}))}e.onCopy&&e.onCopy(o),e.autoFreeze&&r.canAutoFreeze&&A(o.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case a.ProxyObject:case a.ES5Object:case a.Map:return function(e,t,r,n){var o=e.base,i=e.copy;E(e.assigned,(function(e,a){var s=O(o,e),l=O(i,e),c=a?x(o,e)?"replace":"add":"remove";if(s!==l||"replace"!==c){var u=t.concat(e);r.push("remove"===c?{op:c,path:u}:{op:c,path:u,value:l}),n.push("add"===c?{op:"remove",path:u}:"remove"===c?{op:"add",path:u,value:s}:{op:"replace",path:u,value:s})}}))}(e,t,r,n);case a.ES5Array:case a.ProxyArray:return function(e,t,r,n){var o,i,a=e.base,s=e.assigned,l=e.copy;l||j();l.length<a.length&&(a=(o=[l,a])[0],l=o[1],r=(i=[n,r])[0],n=i[1]);var c=l.length-a.length,u=0;for(;a[u]===l[u]&&u<a.length;)++u;var d=a.length;for(;d>u&&a[d-1]===l[d+c-1];)--d;for(var p=u;p<d;++p)if(s[p]&&l[p]!==a[p]){var f=t.concat([p]);r.push({op:"replace",path:f,value:l[p]}),n.push({op:"replace",path:f,value:a[p]})}var h=r.length;for(p=d+c-1;p>=d;--p){f=t.concat([p]);r[h+p-d]={op:"add",path:f,value:l[p]},n.push({op:"remove",path:f})}}(e,t,r,n);case a.Set:(function(e,t,r,n){var o=e.base,i=e.copy,a=0;o.forEach((function(e){if(!i.has(e)){var o=t.concat([a]);r.push({op:"remove",path:o,value:e}),n.unshift({op:"add",path:o,value:e})}a++})),a=0,i.forEach((function(e){if(!o.has(e)){var i=t.concat([a]);r.push({op:"add",path:i,value:e}),n.unshift({op:"remove",path:i,value:e})}a++}))})(e,t,r,n)}}(o,n,r.patches,r.inversePatches)}return o.copy}function B(e,t,r,n){var o=t[h];return o&&(o.type!==a.ES5Object&&o.type!==a.ES5Array||(o.copy=P(o.draft,!0)),t=o.copy),E(t,(function(a,s){return function e(t,r,n,o,a,s,l,c){if(l===a)throw Error("Immer forbids circular references");var u=!!o&&a===n,d=T(a);if(v(l)){var p=c&&u&&!d&&!x(o.assigned,s)?c.concat(s):void 0;l=M(t,l,r,p),function(e,t,r){switch(_(e)){case i.Map:e.set(t,r);break;case i.Set:e.delete(t),e.add(r);break;default:e[t]=r}}(a,s,l),v(l)&&(r.canAutoFreeze=!1)}else{if(u&&S(l,O(o.base,s)))return;y(l)&&(E(l,(function(i,a){return e(t,r,n,o,l,i,a,c)})),r.parent||L(t,l))}u&&t.onAssign&&!d&&t.onAssign(o,s,l)}(e,r,t,o,t,a,s,n)})),t}function L(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!v(t)&&A(t,r)}var F={get:function(e,t){if(t===h)return e;var r=e.drafts;if(!e.modified&&x(r,t))return r[t];var n=k(e)[t];if(e.finalized||!y(n))return n;if(e.modified){if(n!==z(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in k(e)},ownKeys:function(e){return Reflect.ownKeys(k(e))},set:function(e,t,r){if(!e.modified){var n=z(e.base,t);if(r?S(n,r)||r===e.drafts[t]:S(n,r)&&t in e.base)return!0;W(e),H(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==z(e.base,t)||t in e.base?(e.assigned[t]=!1,W(e),H(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=k(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==a.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},U={};function z(e,t){var r=e[h],n=Reflect.getOwnPropertyDescriptor(r?k(r):e,t);return n&&n.value}function H(e){if(!e.modified){if(e.modified=!0,e.type===a.ProxyObject||e.type===a.ProxyArray){var t=e.copy=P(e.base);E(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&H(e.parent)}}function W(e){e.copy||(e.copy=P(e.base))}function G(e,t,r){e.drafts.forEach((function(e){e[h].finalizing=!0})),r?v(t)&&t[h].scope===e&&J(e.drafts):(e.patches&&function e(t){if(!t||"object"!=typeof t)return;var r=t[h];if(!r)return;var n=r.base,o=r.draft,i=r.assigned,s=r.type;if(s===a.ES5Object)E(o,(function(t){t!==h&&(void 0!==n[t]||x(n,t)?i[t]||e(o[t]):(i[t]=!0,V(r)))})),E(n,(function(e){void 0!==o[e]||x(o,e)||(i[e]=!1,V(r))}));else if(s===a.ES5Array){if(ee(r)&&(V(r),i.length=!0),o.length<n.length)for(var l=o.length;l<n.length;l++)i[l]=!1;else for(l=n.length;l<o.length;l++)i[l]=!0;var c=Math.min(o.length,n.length);for(l=0;l<c;l++)void 0===i[l]&&e(o[l])}}(e.drafts[0]),J(e.drafts))}function q(e,t){var r=Array.isArray(e),n=Y(e);E(n,(function(t){!function(e,t,r){var n=$[t];n?n.enumerable=r:$[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){Z(e);var r=X(k(e),t);if(e.finalizing)return r;if(r===X(e.base,t)&&y(r))return K(e),e.copy[t]=e.scope.immer.createProxy(r,e);return r}(this[h],t)},set:function(e){!function(e,t,r){if(Z(e),e.assigned[t]=!0,!e.modified){if(S(r,X(k(e),t)))return;V(e),K(e)}e.copy[t]=r}(this[h],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var o,i,s,l={type:r?a.ES5Array:a.ES5Object,scope:t?t.scope:R.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return o=n,i=h,s=l,Object.defineProperty(o,i,{value:s,enumerable:!1,writable:!0}),n}function X(e,t){var r=e[h];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function V(e){e.modified||(e.modified=!0,e.parent&&V(e.parent))}function K(e){e.copy||(e.copy=Y(e.base))}function Y(e){var t=e&&e[h];if(t){t.finalizing=!0;var r=P(t.draft,!0);return t.finalizing=!1,r}return P(e)}E(F,(function(e,t){U[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),U.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return F.deleteProperty.call(this,e[0],t)},U.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return F.set.call(this,e[0],t,r,e[0])};var $={};function Z(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(k(e)))}function J(e){for(var t=e.length-1;t>=0;t--){var r=e[t][h];if(!r.modified)switch(r.type){case a.ES5Array:ee(r)&&V(r);break;case a.ES5Object:Q(r)&&V(r)}}}function Q(e){for(var t=e.base,r=e.draft,n=Object.keys(r),o=n.length-1;o>=0;o--){var i=n[o],a=t[i];if(void 0===a&&!x(t,i))return!0;var s=r[i],l=s&&s[h];if(l?l.base!==a:!S(s,a))return!0}return n.length!==Object.keys(t).length}function ee(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var te=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[h]={type:a.Map,parent:t,scope:t?t.scope:R.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}b(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return k(this[h]).size},enumerable:!0,configurable:!0}),r.has=function(e){return k(this[h]).has(e)},r.set=function(e,t){var r=this[h];return Z(r),k(r).get(e)!==t&&(re(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[h];return Z(t),re(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[h];return Z(e),re(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;k(this[h]).forEach((function(n,o,i){e.call(t,r.get(o),o,r)}))},r.get=function(e){var t=this[h];Z(t);var r=k(t).get(e);if(t.finalized||!y(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return re(t),t.copy.set(e,n),n},r.keys=function(){return k(this[h]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[m]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[m]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[m]=function(){return this.entries()},t}(Map);function re(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var ne=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[h]={type:a.Set,parent:t,scope:t?t.scope:R.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}b(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return k(this[h]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[h];return Z(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[h];return Z(t),t.copy?t.copy.add(e):t.base.has(e)||(oe(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[h];return Z(t),oe(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[h];return Z(e),oe(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[h];return Z(e),oe(e),e.copy.values()},r.entries=function(){var e=this[h];return Z(e),oe(e),e.copy.entries()},r.keys=function(){return this.values()},r[m]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function oe(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(y(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function ie(e,t){return t.forEach((function(t){var r=t.path,n=t.op;r.length||j();for(var o=e,a=0;a<r.length-1;a++)if(!(o=O(o,r[a]))||"object"!=typeof o)throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var s=_(o),l=ae(t.value),c=r[r.length-1];switch(n){case"replace":switch(s){case i.Map:return o.set(c,l);case i.Set:throw new Error('Sets cannot have "replace" patches.');default:return o[c]=l}case"add":switch(s){case i.Array:return o.splice(c,0,l);case i.Map:return o.set(c,l);case i.Set:return o.add(l);default:return o[c]=l}case"remove":switch(s){case i.Array:return o.splice(c,1);case i.Map:return o.delete(c);case i.Set:return o.delete(t.value);default:return delete o[c]}default:throw new Error("Unsupported patch operation: "+n)}})),e}function ae(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ae);if(C(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],ae(e[1])]})));if(T(e))return new Set(Array.from(e).map(ae));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=ae(e[r]);return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function se(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}var le={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:"undefined"==typeof process&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},ce=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,E(le,(function(r,n){var o,i;t[r]=null!=(i=null===(o=e)||void 0===o?void 0:o[r])?i:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,o=this;if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var r=arguments,n=this;void 0===e&&(e=i);for(var o=[],s=1;s<arguments.length;s++)o[s-1]=r[s];return a.produce(e,(function(e){return t.call.apply(t,se([n,e],o))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(y(e)){var s=R.enter(this),l=this.createProxy(e,void 0),c=!0;try{n=t(l),c=!1}finally{c?s.revoke():s.leave()}return"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return s.usePatches(r),N(o,e,s)}),(function(e){throw s.revoke(),e})):(s.usePatches(r),N(this,n,s))}if((n=t(e))!==p)return void 0===n&&(n=e),L(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,o,i=this;return"function"==typeof e?function(t){for(var r=arguments,n=[],o=1;o<arguments.length;o++)n[o-1]=r[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,se([t],n))}))}:(r&&j(),[this.produce(e,t,(function(e,t){n=e,o=t})),n,o])},e.prototype.createDraft=function(e){if(!y(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=R.enter(this),r=this.createProxy(e,void 0);return r[h].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[h];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),N(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return v(e)?ie(e,t):this.produce(e,(function(e){return ie(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=C(e)?function(e,t){return new te(e,t)}(e,t):T(e)?function(e,t){return new ne(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?a.ProxyArray:a.ProxyObject,scope:t?t.scope:R.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},o=n,i=F;r&&(o=[n],i=U);var s=Proxy.revocable(o,i),l=s.revoke,c=s.proxy;return n.draft=c,n.revoke=l,c}(e,t):q(e,t);return(t?t.scope:R.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||G(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?H(e):V(e)},e}()),ue=ce.produce,de=(ce.produceWithPatches.bind(ce),ce.setAutoFreeze.bind(ce),ce.setUseProxies.bind(ce),ce.applyPatches.bind(ce),ce.createDraft.bind(ce)),pe=ce.finishDraft.bind(ce);function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var me=new WeakMap,ge=new WeakMap,be=new WeakMap,ve=new WeakMap,ye=new WeakMap,we=new WeakMap,Ee=/\s/,_e=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,xe=/['\u2018\u2019]/,Oe=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(Ce(n)){var o=Te(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(Pe(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!ke(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},Se=(e,t)=>{if(Ee.test(e))return!1;if(xe.test(e)){var r=t.charAt(0),n=Oe(r);r=t.slice(0,n);var o=t.slice(n);if(Se(r,o))return!0}return!_e.test(e)},Ce=e=>55296<=e&&e<=57343,Te=(e,t,r)=>{if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},ke=e=>e<=65039&&e>=65024,Pe=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e;function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:i}=t;if(o){var a=je.path(e,o),s="lowest"===n;for(var[l,c]of je.levels(e,{at:a,voids:r,match:i,reverse:s}))if(!$e.isText(l)&&!Ue.equals(a,c))return[l,c]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:je.point(e,t,{edge:"end"}),focus:je.end(e,[])},{distance:i=1}=n,a=0;for(var s of je.positions(e,Ie({},n,{at:o}))){if(a>i)break;0!==a&&(r=s),a++}return r},before(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:je.start(e,[]),focus:je.point(e,t,{edge:"start"})},{distance:i=1}=n,a=0;for(var s of je.positions(e,Ie({},n,{at:o,reverse:!0}))){if(a>i)break;0!==a&&(r=s),a++}return r},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[je.start(e,t),je.end(e,t)],end:(e,t)=>je.point(e,t,{edge:"end"}),first(e,t){var r=je.path(e,t,{edge:"start"});return je.node(e,r)},fragment(e,t){var r=je.range(e,t);return Me.fragment(e,r)},hasBlocks:(e,t)=>t.children.some(t=>je.isBlock(e,t)),hasInlines:(e,t)=>t.children.some(t=>$e.isText(t)||je.isInline(e,t)),hasTexts:(e,t)=>t.children.every(e=>$e.isText(e)),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>Re.isElement(t)&&!e.isInline(t),isEditor:e=>s(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||s(e.marks))&&(null===e.selection||Xe.isRange(e.selection))&&Me.isNodeList(e.children)&&Fe.isOperationList(e.operations),isEnd(e,t,r){var n=je.end(e,r);return We.equals(t,n)},isEdge:(e,t,r)=>je.isStart(e,t,r)||je.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&$e.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:(e,t)=>Re.isElement(t)&&e.isInline(t),isNormalizing(e){var t=be.get(e);return void 0===t||t},isStart(e,t,r){if(0!==t.offset)return!1;var n=je.start(e,r);return We.equals(t,n)},isVoid:(e,t)=>Re.isElement(t)&&e.isVoid(t),last(e,t){var r=je.path(e,t,{edge:"end"});return je.node(e,r)},leaf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=je.path(e,t,r);return[Me.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:i}=t;if(null==i&&(i=()=>!0),r){var a=[],s=je.path(e,r);for(var[l,c]of Me.levels(e,s))if(i(l)&&(a.push([l,c]),!o&&je.isVoid(e,l)))break;n&&a.reverse(),yield*a}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(Xe.isExpanded(r)){var[n]=je.nodes(e,{match:$e.isText});if(n){var[o]=n;return he(o,["text"])}return{}}var{anchor:i}=r,{path:a}=i,[s]=je.leaf(e,a);if(0===i.offset){var l=je.previous(e,{at:a,match:$e.isText}),c=je.above(e,{match:t=>je.isBlock(e,t)});if(l&&c){var[u,d]=l,[,p]=c;Ue.isAncestor(p,d)&&(s=u)}}return he(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection}=t;if(i){var[,a]=je.last(e,i),[,s]=je.last(e,[]),l=[a,s];if(Ue.isPath(i)&&0===i.length)throw new Error("Cannot get the next node from the root node!");if(null==o)if(Ue.isPath(i)){var[c]=je.parent(e,i);o=e=>c.children.includes(e)}else o=()=>!0;var[,u]=je.nodes(e,{at:l,match:o,mode:r,voids:n});return u}},node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=je.path(e,t,r);return[Me.get(e,n),n]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:i=!1,voids:a=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var l,c;if(Ne.isSpan(r))l=r[0],c=r[1];else{var u=je.path(e,r,{edge:"start"}),d=je.path(e,r,{edge:"end"});l=i?d:u,c=i?u:d}var p,f=Me.nodes(e,{reverse:i,from:l,to:c,pass:t=>{var[r]=t;return!a&&je.isVoid(e,r)}}),h=[];for(var[m,g]of f){var b=p&&0===Ue.compare(g,p[1]);if("highest"!==n||!b)if(s(m))if("lowest"===n&&b)p=[m,g];else{var v="lowest"===n?p:[m,g];v&&(o?h.push(v):yield v),p=[m,g]}else if(o&&!b&&$e.isText(m))return}"lowest"===n&&p&&(o?h.push(p):yield p),o&&(yield*h)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1}=t,n=e=>me.get(e)||[];if(je.isNormalizing(e)){if(r){var o=Array.from(Me.nodes(e),e=>{var[,t]=e;return t});me.set(e,o)}0!==n(e).length&&je.withoutNormalizing(e,()=>{for(var t=42*n(e).length,r=0;0!==n(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var o=n(e).pop(),i=je.node(e,o);e.normalizeNode(i),r++}})}},parent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=je.path(e,t,r),o=Ue.parent(n);return je.node(e,o)},path(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:o}=r;if(Ue.isPath(t))if("start"===o){var[,i]=Me.first(e,t);t=i}else if("end"===o){var[,a]=Me.last(e,t);t=a}return Xe.isRange(t)&&(t="start"===o?Xe.start(t):"end"===o?Xe.end(t):Ue.common(t.anchor.path,t.focus.path)),We.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return je.pathRefs(e).delete(o),o.current=null,t}};return je.pathRefs(e).add(o),o},pathRefs(e){var t=ve.get(e);return t||(t=new Set,ve.set(e,t)),t},point(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(Ue.isPath(t)){var o;if("end"===n){var[,i]=Me.last(e,t);o=i}else{var[,a]=Me.first(e,t);o=a}var s=Me.get(e,o);if(!$e.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:"end"===n?s.text.length:0}}if(Xe.isRange(t)){var[l,c]=Xe.edges(t);return"start"===n?l:c}return t},pointRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return je.pointRefs(e).delete(o),o.current=null,t}};return je.pointRefs(e).add(o),o},pointRefs(e){var t=ye.get(e);return t||(t=new Set,ye.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:o=!1}=t;if(r){var i=je.range(e,r),[a,s]=Xe.edges(i),c=o?s:a,u="",d=0,p=0,f=null,h=!1,m=()=>{null==f&&(f="character"===n?Oe(u):"word"===n?(e=>{for(var t,r=0,n=0,o=!1;t=e.charAt(n);){var i=Oe(t);t=e.slice(n,n+i);var a=e.slice(n+i);if(Se(t,a))o=!0,r+=i;else{if(o)break;r+=i}n+=i}return r})(u):"line"===n||"block"===n?u.length:1,u=u.slice(f)),p=o?p-f:p+f,f=(d-=f)>=0?null:0-d};for(var[g,b]of je.nodes(e,{at:r,reverse:o})){if(Re.isElement(g)){if(e.isVoid(g)){yield je.start(e,b);continue}if(e.isInline(g))continue;if(je.hasInlines(e,g)){var v=Ue.isAncestor(b,s.path)?s:je.end(e,b),y=Ue.isAncestor(b,a.path)?a:je.start(e,b),w=je.string(e,{anchor:y,focus:v});u=o?Object(l.reverse)(w):w,h=!0}}if($e.isText(g)){var E=Ue.equals(b,c.path);for(d=g.text.length,p=o?d:0,E&&(d=o?c.offset:d-c.offset,p=c.offset),(E||h||"offset"===n)&&(yield{path:b,offset:p});""!==u&&(m(),d>=0);)yield{path:b,offset:p};h=!1}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection}=t;if(i){var[,a]=je.first(e,i),[,s]=je.first(e,[]),l=[a,s];if(Ue.isPath(i)&&0===i.length)throw new Error("Cannot get the previous node from the root node!");if(null==o)if(Ue.isPath(i)){var[c]=je.parent(e,i);o=e=>c.children.includes(e)}else o=()=>!0;var[,u]=je.nodes(e,{reverse:!0,at:l,match:o,mode:r,voids:n});return u}},range:(e,t,r)=>Xe.isRange(t)&&!r?t:{anchor:je.start(e,t),focus:je.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return je.rangeRefs(e).delete(o),o.current=null,t}};return je.rangeRefs(e).add(o),o},rangeRefs(e){var t=we.get(e);return t||(t=new Set,we.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>je.point(e,t,{edge:"start"}),string(e,t){var r=je.range(e,t),[n,o]=Xe.edges(r),i="";for(var[a,s]of je.nodes(e,{at:r,match:$e.isText})){var l=a.text;Ue.equals(s,o.path)&&(l=l.slice(0,o.offset)),Ue.equals(s,n.path)&&(l=l.slice(n.offset)),i+=l}return i},unhangRange(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[o,i]=Xe.edges(t);if(0!==o.offset||0!==i.offset||Xe.isCollapsed(t))return t;var a=je.above(e,{at:i,match:t=>je.isBlock(e,t)}),s=a?a[1]:[],l={anchor:je.start(e,[]),focus:i},c=!0;for(var[u,d]of je.nodes(e,{at:l,match:$e.isText,reverse:!0,voids:n}))if(c)c=!1;else if(""!==u.text||Ue.isBefore(d,s)){i={path:d,offset:u.text.length};break}return{anchor:o,focus:i}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return je.above(e,Ie({},t,{match:t=>je.isVoid(e,t)}))},withoutNormalizing(e,t){var r=je.isNormalizing(e);be.set(e,!1),t(),be.set(e,r),je.normalize(e)}},Re={isElement:e=>s(e)&&Me.isNodeList(e.children)&&!je.isEditor(e),isElementList:e=>Array.isArray(e)&&(0===e.length||Re.isElement(e[0])),matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},De={isLocation:e=>Ue.isPath(e)||We.isPoint(e)||Xe.isRange(e)},Ne={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(Ue.isPath)},Me={ancestor(e,t){var r=Me.get(e,t);if($e.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of Ue.ancestors(t,r)){var o=[Me.ancestor(e,n),n];yield o}},child(e,t){if($e.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,o=Me.ancestor(e,t),{children:i}=o,a=n?i.length-1:0;n?a>=0:a<i.length;){var s=Me.child(o,a),l=t.concat(a);yield[s,l],a=n?a-1:a+1}},common(e,t,r){var n=Ue.common(t,r);return[Me.get(e,n),n]},descendant(e,t){var r=Me.get(e,t);if(je.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Me.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Me.nodes(e,t))Re.isElement(r)&&(yield[r,n])},first(e,t){for(var r=t.slice(),n=Me.get(e,r);n&&!$e.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if($e.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return ue(e,e=>{var[r,n]=Xe.edges(t),o=Me.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!Xe.includes(t,r)}});for(var[,i]of o){if(!Xe.includes(t,i)){var a=Me.parent(e,i),s=i[i.length-1];a.children.splice(s,1)}if(Ue.equals(i,n.path)){var l=Me.leaf(e,i);l.text=l.text.slice(0,n.offset)}if(Ue.equals(i,r.path)){var c=Me.leaf(e,i);c.text=c.text.slice(r.offset)}}delete e.selection}).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if($e.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if($e.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>$e.isText(e)||Re.isElement(e)||je.isEditor(e),isNodeList:e=>Array.isArray(e)&&(0===e.length||Me.isNode(e[0])),last(e,t){for(var r=t.slice(),n=Me.get(e,r);n&&!$e.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=Me.get(e,t);if(!$e.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of Ue.levels(t,r)){var o=Me.get(e,n);yield[o,n]}},matches:(e,t)=>Re.isElement(e)&&Re.matches(e,t)||$e.isText(e)&&$e.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:i}=t,a=new Set,s=[],l=e;!i||!(n?Ue.isBefore(s,i):Ue.isAfter(s,i));)if(a.has(l)||(yield[l,s]),a.has(l)||$e.isText(l)||0===l.children.length||null!=r&&!1!==r([l,s])){if(0===s.length)break;if(!n){var c=Ue.next(s);if(Me.has(e,c)){s=c,l=Me.get(e,s);continue}}if(n&&0!==s[s.length-1])s=Ue.previous(s),l=Me.get(e,s);else s=Ue.parent(s),l=Me.get(e,s),a.add(l)}else{a.add(l);var u=n?l.children.length-1:0;Ue.isAncestor(s,o)&&(u=o[s.length]),s=s.concat(u),l=Me.get(e,s)}},parent(e,t){var r=Ue.parent(t),n=Me.get(e,r);if($e.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>$e.isText(e)?e.text:e.children.map(Me.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Me.nodes(e,t))$e.isText(r)&&(yield[r,n])}};function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fe={isNodeOperation:e=>Fe.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!s(e))return!1;switch(e.type){case"insert_node":return Ue.isPath(e.path)&&Me.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Ue.isPath(e.path);case"merge_node":return"number"==typeof e.position&&Ue.isPath(e.path)&&s(e.properties);case"move_node":return Ue.isPath(e.path)&&Ue.isPath(e.newPath);case"remove_node":return Ue.isPath(e.path)&&Me.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Ue.isPath(e.path);case"set_node":return Ue.isPath(e.path)&&s(e.properties)&&s(e.newProperties);case"set_selection":return null===e.properties&&Xe.isRange(e.newProperties)||null===e.newProperties&&Xe.isRange(e.properties)||s(e.properties)&&s(e.newProperties);case"split_node":return Ue.isPath(e.path)&&"number"==typeof e.position&&s(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&(0===e.length||Fe.isOperation(e[0])),isSelectionOperation:e=>Fe.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>Fe.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Le({},e,{type:"remove_node"});case"insert_text":return Le({},e,{type:"remove_text"});case"merge_node":return Le({},e,{type:"split_node",path:Ue.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;return Ue.equals(t,r)?e:Ue.isSibling(r,t)?Le({},e,{path:t,newPath:r}):Le({},e,{path:Ue.transform(r,e),newPath:Ue.transform(Ue.next(r),e)});case"remove_node":return Le({},e,{type:"insert_node"});case"remove_text":return Le({},e,{type:"insert_text"});case"set_node":var{properties:n,newProperties:o}=e;return Le({},e,{properties:o,newProperties:n});case"set_selection":var{properties:i,newProperties:a}=e;return Le({},e,null==i?{properties:a,newProperties:null}:null==a?{properties:null,newProperties:i}:{properties:a,newProperties:i});case"split_node":return Le({},e,{type:"merge_node",path:Ue.next(e.path)})}}},Ue={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=Ue.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return Ue.equals(n,o)&&i>a},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return Ue.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return Ue.equals(n,o)&&i<a},equals:(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),isAfter:(e,t)=>1===Ue.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===Ue.compare(e,t),isBefore:(e,t)=>-1===Ue.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===Ue.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===Ue.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===Ue.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===Ue.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&Ue.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!Ue.isAncestor(t,e)&&!Ue.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ue(e,n=>{var{affinity:o="forward"}=r;if(0!==e.length)switch(t.type){case"insert_node":var{path:i}=t;(Ue.equals(i,n)||Ue.endsBefore(i,n)||Ue.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var{path:a}=t;if(Ue.equals(a,n)||Ue.isAncestor(a,n))return null;Ue.endsBefore(a,n)&&(n[a.length-1]-=1);break;case"merge_node":var{path:s,position:l}=t;Ue.equals(s,n)||Ue.endsBefore(s,n)?n[s.length-1]-=1:Ue.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=l);break;case"split_node":var{path:c,position:u}=t;if(Ue.equals(c,n)){if("forward"===o)n[n.length-1]+=1;else if("backward"!==o)return null}else Ue.endsBefore(c,n)?n[c.length-1]+=1:Ue.isAncestor(c,n)&&e[c.length]>=u&&(n[c.length-1]+=1,n[c.length]-=u);break;case"move_node":var{path:d,newPath:p}=t;if(Ue.equals(d,p))return;if(Ue.isAncestor(d,n)||Ue.equals(d,n)){var f=p.slice();return Ue.endsBefore(d,p)&&d.length<p.length&&(f[d.length-1]-=1),f.concat(n.slice(d.length))}Ue.isSibling(d,p)&&(Ue.isAncestor(p,n)||Ue.equals(p,n))?Ue.endsBefore(d,n)?n[d.length-1]-=1:n[d.length-1]+=1:Ue.endsBefore(p,n)||Ue.equals(p,n)||Ue.isAncestor(p,n)?(Ue.endsBefore(d,n)&&(n[d.length-1]-=1),n[p.length-1]+=1):Ue.endsBefore(d,n)&&(Ue.equals(p,n)&&(n[p.length-1]+=1),n[d.length-1]-=1)}})}},ze={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=Ue.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var We={compare(e,t){var r=Ue.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===We.compare(e,t),isBefore:(e,t)=>-1===We.compare(e,t),equals:(e,t)=>e.offset===t.offset&&Ue.equals(e.path,t.path),isPoint:e=>s(e)&&"number"==typeof e.offset&&Ue.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ue(e,e=>{var{affinity:n="forward"}=r,{path:o,offset:i}=e;switch(t.type){case"insert_node":case"move_node":e.path=Ue.transform(o,t,r);break;case"insert_text":Ue.equals(t.path,o)&&t.offset<=i&&(e.offset+=t.text.length);break;case"merge_node":Ue.equals(t.path,o)&&(e.offset+=t.position),e.path=Ue.transform(o,t,r);break;case"remove_text":Ue.equals(t.path,o)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(Ue.equals(t.path,o)||Ue.isAncestor(t.path,o))return null;e.path=Ue.transform(o,t,r);break;case"split_node":if(Ue.equals(t.path,o)){if(t.position===i&&null==n)return null;(t.position<i||t.position===i&&"forward"===n)&&(e.offset-=t.position,e.path=Ue.transform(o,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{affinity:"forward"})))}else e.path=Ue.transform(o,t,r)}})}},Ge={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=We.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Xe={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return Xe.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=Xe.edges(e);return t},equals:(e,t)=>We.equals(e.anchor,t.anchor)&&We.equals(e.focus,t.focus),includes(e,t){if(Xe.isRange(t)){if(Xe.includes(e,t.anchor)||Xe.includes(e,t.focus))return!0;var[r,n]=Xe.edges(e),[o,i]=Xe.edges(t);return We.isBefore(r,o)&&We.isAfter(n,i)}var[a,s]=Xe.edges(e),l=!1,c=!1;return We.isPoint(t)?(l=We.compare(t,a)>=0,c=We.compare(t,s)<=0):(l=Ue.compare(t,a.path)>=0,c=Ue.compare(t,s.path)<=0),l&&c},intersection(e,t){var r=he(e,["anchor","focus"]),[n,o]=Xe.edges(e),[i,a]=Xe.edges(t),s=We.isBefore(n,i)?i:n,l=We.isBefore(o,a)?o:a;return We.isBefore(l,s)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:s,focus:l},r)},isBackward(e){var{anchor:t,focus:r}=e;return We.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return We.equals(t,r)},isExpanded:e=>!Xe.isCollapsed(e),isForward:e=>!Xe.isBackward(e),isRange:e=>s(e)&&We.isPoint(e.anchor)&&We.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Xe.edges(e);return t},transform(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:i="inward"}=o;return"inward"===i?Xe.isForward(e)?(r="forward",n="backward"):(r="backward",n="forward"):"outward"===i?Xe.isForward(e)?(r="backward",n="forward"):(r="forward",n="backward"):(r=i,n=i),ue(e,e=>{var o=We.transform(e.anchor,t,{affinity:r}),i=We.transform(e.focus,t,{affinity:n});if(!o||!i)return null;e.anchor=o,e.focus=i})}},Ve={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=Xe.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $e={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;for(var o in e)if((!n||"text"!==o)&&e[o]!==t[o])return!1;for(var i in t)if((!n||"text"!==i)&&e[i]!==t[i])return!1;return!0},isText:e=>s(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&(0===e.length||$e.isText(e[0])),matches(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations(e,t){var r=[Ye({},e)];for(var n of t){var o=he(n,["anchor","focus"]),[i,a]=Xe.edges(n),s=[],l=0;for(var c of r){var{length:u}=c.text,d=l;if(l+=u,i.offset<=d&&a.offset>=d+u)Object.assign(c,o),s.push(c);else if(i.offset>d+u||a.offset<d||a.offset===d&&0!==d)s.push(c);else{var p=c,f=void 0,h=void 0;if(a.offset<d+u){var m=a.offset-d;h=Ye({},p,{text:p.text.slice(m)}),p=Ye({},p,{text:p.text.slice(0,m)})}if(i.offset>d){var g=i.offset-d;f=Ye({},p,{text:p.text.slice(0,g)}),p=Ye({},p,{text:p.text.slice(g)})}Object.assign(p,o),f&&s.push(f),s.push(p),h&&s.push(h)}}r=s}return r}};function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt={insertNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};je.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1,mode:i="lowest"}=r,{at:a,match:s,select:l}=r;if(Me.isNode(t)&&(t=[t]),0!==t.length){var[c]=t;if(a||(a=e.selection?e.selection:e.children.length>0?je.end(e,[]):[0],l=!0),null==l&&(l=!1),Xe.isRange(a))if(n||(a=je.unhangRange(e,a)),Xe.isCollapsed(a))a=a.anchor;else{var[,u]=Xe.edges(a),d=je.pointRef(e,u);st.delete(e,{at:a}),a=d.unref()}if(We.isPoint(a)){null==s&&(s=$e.isText(c)?e=>$e.isText(e):e.isInline(c)?t=>$e.isText(t)||je.isInline(e,t):t=>je.isBlock(e,t));var[p]=je.nodes(e,{at:a.path,match:s,mode:i,voids:o});if(!p)return;var[,f]=p,h=je.pathRef(e,f),m=je.isEnd(e,a,f);st.splitNodes(e,{at:a,match:s,mode:i,voids:o});var g=h.unref();a=m?Ue.next(g):g}var b=Ue.parent(a),v=a[a.length-1];if(o||!je.void(e,{at:b})){for(var y of t){var w=b.concat(v);v++,e.apply({type:"insert_node",path:w,node:y})}if(l){var E=je.end(e,a);E&&st.select(e,E)}}}})},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.withoutNormalizing(e,()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:i}=t;if(null==i&&(i=Ue.isPath(r)?nt(e,r):t=>je.isBlock(e,t)),r){var a=je.nodes(e,{at:r,match:i,mode:n,voids:o}),s=Array.from(a,t=>{var[,r]=t;return je.pathRef(e,r)});for(var l of s){var c=l.unref();if(c.length<2)throw new Error("Cannot lift node at a path [".concat(c,"] because it has a depth of less than `2`."));var u=je.node(e,Ue.parent(c)),[d,p]=u,f=c[c.length-1],{length:h}=d.children;if(1===h){var m=Ue.next(p);st.moveNodes(e,{at:c,to:m,voids:o}),st.removeNodes(e,{at:p,voids:o})}else if(0===f)st.moveNodes(e,{at:c,to:p,voids:o});else if(f===h-1){var g=Ue.next(p);st.moveNodes(e,{at:c,to:g,voids:o})}else{var b=Ue.next(c),v=Ue.next(p);st.splitNodes(e,{at:b,voids:o}),st.moveNodes(e,{at:c,to:v,voids:o})}}}})},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.withoutNormalizing(e,()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:i=!1,mode:a="lowest"}=t;if(n){if(null==r)if(Ue.isPath(n)){var[s]=je.parent(e,n);r=e=>s.children.includes(e)}else r=t=>je.isBlock(e,t);if(!o&&Xe.isRange(n)&&(n=je.unhangRange(e,n)),Xe.isRange(n))if(Xe.isCollapsed(n))n=n.anchor;else{var[,l]=Xe.edges(n),c=je.pointRef(e,l);st.delete(e,{at:n}),n=c.unref(),null==t.at&&st.select(e,n)}var[u]=je.nodes(e,{at:n,match:r,voids:i,mode:a}),d=je.previous(e,{at:n,match:r,voids:i,mode:a});if(u&&d){var[p,f]=u,[h,m]=d;if(0!==f.length&&0!==m.length){var g,b,v=Ue.next(m),y=Ue.common(f,m),w=Ue.isSibling(f,m),E=Array.from(je.levels(e,{at:f}),e=>{var[t]=e;return t}).slice(y.length).slice(0,-1),_=je.above(e,{at:f,mode:"highest",match:e=>E.includes(e)&&Re.isElement(e)&&1===e.children.length}),x=_&&je.pathRef(e,_[1]);if($e.isText(p)&&$e.isText(h)){var O=he(p,["text"]);b=h.text.length,g=O}else{if(!Re.isElement(p)||!Re.isElement(h))throw new Error("Cannot merge the node at path [".concat(f,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(p)," ").concat(JSON.stringify(h)));O=he(p,["children"]);b=h.children.length,g=O}w||st.moveNodes(e,{at:f,to:v,voids:i}),x&&st.removeNodes(e,{at:x.current,voids:i}),Re.isElement(h)&&je.isEmpty(e,h)||$e.isText(h)&&""===h.text?st.removeNodes(e,{at:m,voids:i}):e.apply({type:"merge_node",path:v,position:b,properties:g}),x&&x.unref()}}}})},moveNodes(e,t){je.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:i=!1}=t,{match:a}=t;if(n){null==a&&(a=Ue.isPath(n)?nt(e,n):t=>je.isBlock(e,t));var s=je.pathRef(e,r),l=je.nodes(e,{at:n,match:a,mode:o,voids:i}),c=Array.from(l,t=>{var[,r]=t;return je.pathRef(e,r)});for(var u of c){var d=u.unref(),p=s.current;0!==d.length&&e.apply({type:"move_node",path:d,newPath:p})}s.unref()}})},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=Ue.isPath(i)?nt(e,i):t=>je.isBlock(e,t)),!r&&Xe.isRange(i)&&(i=je.unhangRange(e,i));var s=je.nodes(e,{at:i,match:a,mode:o,voids:n}),l=Array.from(s,t=>{var[,r]=t;return je.pathRef(e,r)});for(var c of l){var u=c.unref();if(u){var[d]=je.node(e,u);e.apply({type:"remove_node",path:u,node:d})}}}})},setNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};je.withoutNormalizing(e,()=>{var{match:n,at:o=e.selection}=r,{hanging:i=!1,mode:a="lowest",split:s=!1,voids:l=!1}=r;if(o){if(null==n&&(n=Ue.isPath(o)?nt(e,o):t=>je.isBlock(e,t)),!i&&Xe.isRange(o)&&(o=je.unhangRange(e,o)),s&&Xe.isRange(o)){var c=je.rangeRef(e,o,{affinity:"inward"}),[u,d]=Xe.edges(o),p="lowest"===a?"lowest":"highest";st.splitNodes(e,{at:d,match:n,mode:p,voids:l}),st.splitNodes(e,{at:u,match:n,mode:p,voids:l}),o=c.unref(),null==r.at&&st.select(e,o)}for(var[f,h]of je.nodes(e,{at:o,match:n,mode:a,voids:l})){var m={},g={};if(0!==h.length){for(var b in t)"children"!==b&&"text"!==b&&t[b]!==f[b]&&(m[b]=f[b],g[b]=t[b]);0!==Object.keys(g).length&&e.apply({type:"set_node",path:h,properties:m,newProperties:g})}}}})},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.withoutNormalizing(e,()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection,height:a=0,always:s=!1}=t;if(null==o&&(o=t=>je.isBlock(e,t)),Xe.isRange(i)&&(i=rt(e,i)),Ue.isPath(i)){var l=i,c=je.point(e,l),[u]=je.parent(e,l);o=e=>e===u,a=c.path.length-l.length+1,i=c,s=!0}if(i){var d=je.pointRef(e,i,{affinity:"backward"}),[p]=je.nodes(e,{at:i,match:o,mode:r,voids:n});if(p){var f=je.void(e,{at:i,mode:"highest"});if(!n&&f){var[h,m]=f;if(Re.isElement(h)&&e.isInline(h)){var g=je.after(e,m);if(!g){var b=Ue.next(m);st.insertNodes(e,{text:""},{at:b,voids:n}),g=je.point(e,b)}i=g,s=!0}a=i.path.length-m.length+1,s=!0}var v=je.pointRef(e,i),y=i.path.length-a,[,w]=p,E=i.path.slice(0,y),_=0===a?i.offset:i.path[y]+0;for(var[x,O]of je.levels(e,{at:E,reverse:!0,voids:n})){var S=!1;if(O.length<w.length||0===O.length||!n&&je.isVoid(e,x))break;var C=d.current,T=je.isEnd(e,C,O);if(s||!d||!je.isEdge(e,C,O)){S=!0;var k=he(x,["text","children"]);e.apply({type:"split_node",path:O,position:_,properties:k})}_=O[O.length-1]+(S||T?1:0)}if(null==t.at){var P=v.current||je.end(e,[]);st.select(e,P)}d.unref(),v.unref()}}})},unsetNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;st.setNodes(e,n,r)},unwrapNodes(e,t){je.withoutNormalizing(e,()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=Ue.isPath(i)?nt(e,i):t=>je.isBlock(e,t)),Ue.isPath(i)&&(i=je.range(e,i));var s=Xe.isRange(i)?je.rangeRef(e,i):null,l=je.nodes(e,{at:i,match:a,mode:r,voids:o}),c=Array.from(l,t=>{var[,r]=t;return je.pathRef(e,r)}),u=function(t){var r=t.unref(),[i]=je.node(e,r),a=je.range(e,r);n&&s&&(a=Xe.intersection(s.current,a)),st.liftNodes(e,{at:a,match:e=>i.children.includes(e),voids:o})};for(var d of c)u(d);s&&s.unref()}})},wrapNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};je.withoutNormalizing(e,()=>{var{mode:n="lowest",split:o=!1,voids:i=!1}=r,{match:a,at:s=e.selection}=r;if(s){if(null==a&&(a=Ue.isPath(s)?nt(e,s):e.isInline(t)?t=>je.isInline(e,t)||$e.isText(t):t=>je.isBlock(e,t)),o&&Xe.isRange(s)){var[l,c]=Xe.edges(s),u=je.rangeRef(e,s,{affinity:"inward"});st.splitNodes(e,{at:c,match:a,voids:i}),st.splitNodes(e,{at:l,match:a,voids:i}),s=u.unref(),null==r.at&&st.select(e,s)}var d=Array.from(je.nodes(e,{at:s,match:e.isInline(t)?t=>je.isBlock(e,t):e=>je.isEditor(e),mode:"lowest",voids:i}));for(var[,p]of d){var f=Xe.isRange(s)?Xe.intersection(s,je.range(e,p)):s;if(f){var h=Array.from(je.nodes(e,{at:f,match:a,mode:n,voids:i}));h.length>0&&function(){var[r]=h,n=h[h.length-1],[,o]=r,[,a]=n,s=Ue.equals(o,a)?Ue.parent(o):Ue.common(o,a),l=je.range(e,o,a),c=je.node(e,s),[u]=c,d=s.length+1,p=Ue.next(a.slice(0,d)),f=et({},t,{children:[]});st.insertNodes(e,f,{at:p,voids:i}),st.moveNodes(e,{at:l,match:e=>u.children.includes(e),to:p.concat(0),voids:i})}()}}}})}},rt=(e,t)=>{if(Xe.isCollapsed(t))return t.anchor;var[,r]=Xe.edges(t),n=je.pointRef(e,r);return st.delete(e,{at:t}),n.unref()},nt=(e,t)=>{var[r]=je.node(e,t);return e=>e===r};function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var st=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform(e,t){e.children=de(e.children);var r=e.selection&&de(e.selection);switch(t.type){case"insert_node":var{path:n,node:o}=t,i=Me.parent(e,n),a=n[n.length-1];if(i.children.splice(a,0,o),r)for(var[s,l]of Xe.points(r))r[l]=We.transform(s,t);break;case"insert_text":var{path:c,offset:u,text:d}=t,p=Me.leaf(e,c),f=p.text.slice(0,u),h=p.text.slice(u);if(p.text=f+d+h,r)for(var[m,g]of Xe.points(r))r[g]=We.transform(m,t);break;case"merge_node":var{path:b}=t,y=Me.get(e,b),w=Ue.previous(b),E=Me.get(e,w),_=Me.parent(e,b),x=b[b.length-1];if($e.isText(y)&&$e.isText(E))E.text+=y.text;else{if($e.isText(y)||$e.isText(E))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(b,"] to nodes of different interaces: ").concat(y," ").concat(E));E.children.push(...y.children)}if(_.children.splice(x,1),r)for(var[O,S]of Xe.points(r))r[S]=We.transform(O,t);break;case"move_node":var{path:C,newPath:T}=t;if(Ue.isAncestor(C,T))throw new Error("Cannot move a path [".concat(C,"] to new path [").concat(T,"] because the destination is inside itself."));var k=Me.get(e,C),P=Me.parent(e,C),A=C[C.length-1];P.children.splice(A,1);var I=Ue.transform(C,t),j=Me.get(e,Ue.parent(I)),R=I[I.length-1];if(j.children.splice(R,0,k),r)for(var[D,N]of Xe.points(r))r[N]=We.transform(D,t);break;case"remove_node":var{path:M}=t,B=M[M.length-1];if(Me.parent(e,M).children.splice(B,1),r)for(var[L,F]of Xe.points(r)){var U=We.transform(L,t);if(null!=r&&null!=U)r[F]=U;else{var z=void 0,H=void 0;for(var[W,G]of Me.texts(e)){if(-1!==Ue.compare(G,M)){H=[W,G];break}z=[W,G]}z?(L.path=z[1],L.offset=z[0].text.length):H?(L.path=H[1],L.offset=0):r=null}}break;case"remove_text":var{path:q,offset:X,text:V}=t,K=Me.leaf(e,q),Y=K.text.slice(0,X),$=K.text.slice(X+V.length);if(K.text=Y+$,r)for(var[Z,J]of Xe.points(r))r[J]=We.transform(Z,t);break;case"set_node":var{path:Q,newProperties:ee}=t;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var te=Me.get(e,Q);for(var re in ee){if("children"===re||"text"===re)throw new Error('Cannot set the "'.concat(re,'" property of nodes!'));var ne=ee[re];null==ne?delete te[re]:te[re]=ne}break;case"set_selection":var{newProperties:oe}=t;if(null==oe)r=oe;else if(null==r){if(!Xe.isRange(oe))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(oe)," when there is no current selection."));r=oe}else Object.assign(r,oe);break;case"split_node":var{path:ie,position:ae,properties:se}=t;if(0===ie.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ie,"] because the root node cannot be split."));var le,ce=Me.get(e,ie),ue=Me.parent(e,ie),fe=ie[ie.length-1];if($e.isText(ce)){var he=ce.text.slice(0,ae),me=ce.text.slice(ae);ce.text=he,le=Je({},ce,{},se,{text:me})}else{var ge=ce.children.slice(0,ae),be=ce.children.slice(ae);ce.children=ge,le=Je({},ce,{},se,{children:be})}if(ue.children.splice(fe+1,0,le),r)for(var[ve,ye]of Xe.points(r))r[ye]=We.transform(ve,t)}e.children=pe(e.children),e.selection=r?v(r)?pe(r):r:null}},{},tt,{},{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)st.select(e,n.anchor);else if("focus"===r)st.select(e,n.focus);else if("start"===r){var[o]=Xe.edges(n);st.select(e,o)}else if("end"===r){var[,i]=Xe.edges(n);st.select(e,i)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:i=!1}=t,{edge:a=null}=t;if(r){"start"===a&&(a=Xe.isBackward(r)?"focus":"anchor"),"end"===a&&(a=Xe.isBackward(r)?"anchor":"focus");var{anchor:s,focus:l}=r,c={distance:n,unit:o},u={};if(null==a||"anchor"===a){var d=i?je.before(e,s,c):je.after(e,s,c);d&&(u.anchor=d)}if(null==a||"focus"===a){var p=i?je.before(e,l,c):je.after(e,l,c);p&&(u.focus=p)}st.setSelection(e,u)}},select(e,t){var{selection:r}=e;if(t=je.range(e,t),r)st.setSelection(e,t);else{if(!Xe.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t,r){var{selection:n}=e,{edge:o="both"}=r;if(n){"start"===o&&(o=Xe.isBackward(n)?"focus":"anchor"),"end"===o&&(o=Xe.isBackward(n)?"anchor":"focus");var{anchor:i,focus:a}=n,s="anchor"===o?i:a;st.setSelection(e,{["anchor"===o?"anchor":"focus"]:it({},s,{},t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(r){for(var i in t)("anchor"===i&&null!=t.anchor&&!We.equals(t.anchor,r.anchor)||"focus"===i&&null!=t.focus&&!We.equals(t.focus,r.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==r[i])&&(n[i]=r[i],o[i]=t[i]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},{},{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.withoutNormalizing(e,()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:i=!1}=t,{at:a=e.selection,hanging:s=!1}=t;if(a){if(Xe.isRange(a)&&Xe.isCollapsed(a)&&(a=a.anchor),We.isPoint(a)){var l=je.void(e,{at:a,mode:"highest"});if(!i&&l){var[,c]=l;a=c}else{var u={unit:n,distance:o};a={anchor:a,focus:r?je.before(e,a,u)||je.start(e,[]):je.after(e,a,u)||je.end(e,[])},s=!0}}if(Ue.isPath(a))st.removeNodes(e,{at:a,voids:i});else if(!Xe.isCollapsed(a)){s||(a=je.unhangRange(e,a,{voids:i}));var[d,p]=Xe.edges(a),f=je.above(e,{match:t=>je.isBlock(e,t),at:d,voids:i}),h=je.above(e,{match:t=>je.isBlock(e,t),at:p,voids:i}),m=f&&h&&!Ue.equals(f[1],h[1]),g=Ue.equals(d.path,p.path),b=i?null:je.void(e,{at:d,mode:"highest"}),v=i?null:je.void(e,{at:p,mode:"highest"});if(b){var y=je.before(e,d);y&&f&&Ue.isAncestor(f[1],y.path)&&(d=y)}if(v){var w=je.after(e,p);w&&h&&Ue.isAncestor(h[1],w.path)&&(p=w)}var E,_=[];for(var x of je.nodes(e,{at:a,voids:i})){var[O,S]=x;E&&0===Ue.compare(S,E)||(!i&&je.isVoid(e,O)||!Ue.isCommon(S,d.path)&&!Ue.isCommon(S,p.path))&&(_.push(x),E=S)}var C=Array.from(_,t=>{var[,r]=t;return je.pathRef(e,r)}),T=je.pointRef(e,d),k=je.pointRef(e,p);if(!g&&!b){var P=T.current,[A]=je.leaf(e,P),{path:I}=P,{offset:j}=d,R=A.text.slice(j);e.apply({type:"remove_text",path:I,offset:j,text:R})}for(var D of C){var N=D.unref();st.removeNodes(e,{at:N,voids:i})}if(!v){var M=k.current,[B]=je.leaf(e,M),{path:L}=M,F=g?d.offset:0,U=B.text.slice(F,p.offset);e.apply({type:"remove_text",path:L,offset:F,text:U})}!g&&m&&k.current&&T.current&&st.mergeNodes(e,{at:k.current,hanging:!0,voids:i});var z=k.unref()||T.unref();null==t.at&&z&&st.select(e,z)}}})},insertFragment(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};je.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1}=r,{at:i=e.selection}=r;if(t.length&&i){if(Xe.isRange(i))if(n||(i=je.unhangRange(e,i)),Xe.isCollapsed(i))i=i.anchor;else{var[,a]=Xe.edges(i);if(!o&&je.void(e,{at:a}))return;var s=je.pointRef(e,a);st.delete(e,{at:i}),i=s.unref()}else Ue.isPath(i)&&(i=je.start(e,i));if(o||!je.void(e,{at:i})){var l=je.above(e,{at:i,match:t=>je.isInline(e,t),mode:"highest",voids:o});if(l){var[,c]=l;if(je.isEnd(e,i,c))i=je.after(e,c);else if(je.isStart(e,i,c)){i=je.before(e,c)}}var u=je.above(e,{match:t=>je.isBlock(e,t),at:i,voids:o}),[,d]=u,p=je.isStart(e,i,d),f=je.isEnd(e,i,d),h=!p||p&&f,m=!f,[,g]=Me.first({children:t},[]),[,b]=Me.last({children:t},[]),v=[],y=t=>{var[r,n]=t;return!(h&&Ue.isAncestor(n,g)&&Re.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(m&&Ue.isAncestor(n,b)&&Re.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))};for(var w of Me.nodes({children:t},{pass:y}))w[1].length>0&&y(w)&&v.push(w);var E=[],_=[],x=[],O=!0,S=!1;for(var[C]of v)Re.isElement(C)&&!e.isInline(C)?(O=!1,S=!0,_.push(C)):O?E.push(C):x.push(C);var[T]=je.nodes(e,{at:i,match:t=>$e.isText(t)||je.isInline(e,t),mode:"highest",voids:o}),[,k]=T,P=je.isStart(e,i,k),A=je.isEnd(e,i,k),I=je.pathRef(e,f?Ue.next(d):d),j=je.pathRef(e,A?Ue.next(k):k);st.splitNodes(e,{at:i,match:t=>S?je.isBlock(e,t):$e.isText(t)||je.isInline(e,t),mode:S?"lowest":"highest",voids:o});var R=je.pathRef(e,!P||P&&A?Ue.next(k):k);if(st.insertNodes(e,E,{at:R.current,match:t=>$e.isText(t)||je.isInline(e,t),mode:"highest",voids:o}),st.insertNodes(e,_,{at:I.current,match:t=>je.isBlock(e,t),mode:"lowest",voids:o}),st.insertNodes(e,x,{at:j.current,match:t=>$e.isText(t)||je.isInline(e,t),mode:"highest",voids:o}),!r.at){var D;D=x.length>0?Ue.previous(j.current):_.length>0?Ue.previous(I.current):Ue.previous(R.current);var N=je.end(e,D);st.select(e,N)}R.unref(),I.unref(),j.unref()}}})},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};je.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(o){if(Ue.isPath(o)&&(o=je.range(e,o)),Xe.isRange(o))if(Xe.isCollapsed(o))o=o.anchor;else{var i=Xe.end(o);if(!n&&je.void(e,{at:i}))return;var a=je.pointRef(e,i);st.delete(e,{at:o,voids:n}),o=a.unref(),st.setSelection(e,{anchor:o,focus:o})}if(n||!je.void(e,{at:o})){var{path:s,offset:l}=o;e.apply({type:"insert_text",path:s,offset:l,text:t})}}})}});function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ut=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of je.pathRefs(e))ze.transform(r,t);for(var n of je.pointRefs(e))Ge.transform(n,t);for(var o of je.rangeRefs(e))Ve.transform(o,t);var i=new Set,a=[],s=e=>{if(e){var t=e.join(",");i.has(t)||(i.add(t),a.push(e))}},l=me.get(e)||[],c=dt(t);for(var u of l){s(Ue.transform(u,t))}for(var d of c)s(d);me.set(e,a),st.transform(e,t),e.operations.push(t),je.normalize(e),"set_selection"===t.type&&(e.marks=null),ge.get(e)||(ge.set(e,!0),Promise.resolve().then(()=>{ge.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(Xe.isExpanded(n))st.setNodes(e,{[t]:r},{match:$e.isText,split:!0});else{var o=ct({},je.marks(e)||{},{[t]:r});e.marks=o,e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&Xe.isCollapsed(r)&&st.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&Xe.isCollapsed(r)&&st.delete(e,{unit:t})},deleteFragment:()=>{var{selection:t}=e;t&&Xe.isExpanded(t)&&st.delete(e)},getFragment:()=>{var{selection:t}=e;return t?Me.fragment(e,t):[]},insertBreak:()=>{st.splitNodes(e,{always:!0})},insertFragment:t=>{st.insertFragment(e,t)},insertNode:t=>{st.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(Xe.isCollapsed(r)){var o=je.above(e,{match:t=>je.isInline(e,t),mode:"highest"});if(o){var[,i]=o;if(je.isEnd(e,r.anchor,i)){var a=je.after(e,i);st.setSelection(e,{anchor:a,focus:a})}}}if(n){var s=ct({text:t},n);st.insertNodes(e,s)}else st.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!$e.isText(r))if(Re.isElement(r)&&0===r.children.length){st.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var o=!je.isEditor(r)&&(Re.isElement(r)&&(e.isInline(r)||0===r.children.length||$e.isText(r.children[0])||e.isInline(r.children[0]))),i=0,a=0;a<r.children.length;a++,i++){var s=r.children[a],l=r.children[a-1],c=a===r.children.length-1;if(($e.isText(s)||Re.isElement(s)&&e.isInline(s))!==o)st.removeNodes(e,{at:n.concat(i),voids:!0}),i--;else if(Re.isElement(s)){if(e.isInline(s))if(null!=l&&$e.isText(l)){if(c){st.insertNodes(e,{text:""},{at:n.concat(i+1),voids:!0}),i++}}else{st.insertNodes(e,{text:""},{at:n.concat(i),voids:!0}),i++}}else null!=l&&$e.isText(l)&&($e.equals(s,l,{loose:!0})?(st.mergeNodes(e,{at:n.concat(i),voids:!0}),i--):""===l.text?(st.removeNodes(e,{at:n.concat(i-1),voids:!0}),i--):c&&""===s.text&&(st.removeNodes(e,{at:n.concat(i),voids:!0}),i--))}},removeMark:t=>{var{selection:r}=e;if(r)if(Xe.isExpanded(r))st.unsetNodes(e,t,{match:$e.isText,split:!0});else{var n=ct({},je.marks(e)||{});delete n[t],e.marks=n,e.onChange()}}};return e},dt=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return Ue.levels(t);case"insert_node":var{node:r,path:n}=e;return[...Ue.levels(n),...$e.isText(r)?[]:Array.from(Me.nodes(r),e=>{var[,t]=e;return n.concat(t)})];case"merge_node":var{path:o}=e;return[...Ue.ancestors(o),Ue.previous(o)];case"move_node":var{path:i,newPath:a}=e;if(Ue.equals(i,a))return[];var s=[],l=[];for(var c of Ue.ancestors(i)){var u=Ue.transform(c,e);s.push(u)}for(var d of Ue.ancestors(a)){var p=Ue.transform(d,e);l.push(p)}return[...s,...l];case"remove_node":var{path:f}=e;return[...Ue.ancestors(f)];case"split_node":var{path:h}=e;return[...Ue.levels(h),Ue.next(h)];default:return[]}}},1448:function(e,t,r){"use strict";r.r(t),r.d(t,"Waypoint",(function(){return x}));var n=!("undefined"==typeof window||!window.document||!window.document.createElement);var o=void 0;function i(){return void 0===o&&(o=function(){if(!n)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};window.addEventListener("testPassiveEventSupport",r,t),window.removeEventListener("testPassiveEventSupport",r,t)}catch(e){}return e}()),o}function a(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function s(e){this.target=e,this.events={}}s.prototype.getEventHandlers=function(e,t){var r,n=String(e)+" "+String((r=t)?!0===r?100:(r.capture<<0)+(r.passive<<1)+(r.once<<2):0);return this.events[n]||(this.events[n]={handlers:[],handleEvent:void 0},this.events[n].nextHandlers=this.events[n].handlers),this.events[n]},s.prototype.handleEvent=function(e,t,r){var n=this.getEventHandlers(e,t);n.handlers=n.nextHandlers,n.handlers.forEach((function(e){e&&e(r)}))},s.prototype.add=function(e,t,r){var n=this,o=this.getEventHandlers(e,r);a(o),0===o.nextHandlers.length&&(o.handleEvent=this.handleEvent.bind(this,e,r),this.target.addEventListener(e,o.handleEvent,r)),o.nextHandlers.push(t);var i=!0;return function(){if(i){i=!1,a(o);var s=o.nextHandlers.indexOf(t);o.nextHandlers.splice(s,1),0===o.nextHandlers.length&&(n.target&&n.target.removeEventListener(e,o.handleEvent,r),o.handleEvent=void 0)}}};function l(e,t,r,n){e.__consolidated_events_handlers__||(e.__consolidated_events_handlers__=new s(e));var o=function(e){if(e)return i()?e:!!e.capture}(n);return e.__consolidated_events_handlers__.add(t,r,o)}r(3);var c=r(2),u=r.n(c),d=r(47);function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m(this,r)}}function b(e,t){var r,n=(r=e,!isNaN(parseFloat(r))&&isFinite(r)?parseFloat(r):"px"===r.slice(-2)?parseFloat(r.slice(0,-2)):void 0);if("number"==typeof n)return n;var o=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"==typeof o?o*t:void 0}function v(e){return"string"==typeof e.type}var y;var w=[];function E(e){w.push(e),y||(y=setTimeout((function(){var e;for(y=null;e=w.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var r=w.indexOf(e);-1!==r&&(w.splice(r,1),!w.length&&y&&(clearTimeout(y),y=null))}}}var _={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,r,n,o=g(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).refElement=function(e){t._ref=e},t}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this;i.getWindow()&&(this.cancelOnNextTick=E((function(){e.cancelOnNextTick=null;var t=e.props,r=t.children;t.debug,function(e,t){if(e&&!v(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(r,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=l(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=l(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;i.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=E((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){i.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var e=this.props,t=e.horizontal,r=e.scrollableAncestor;if(r)return function(e){return"window"===e?global.window:e}(r);for(var n=this._ref;n.parentNode;){if((n=n.parentNode)===document.body)return window;var o=window.getComputedStyle(n),i=(t?o.getPropertyValue("overflow-x"):o.getPropertyValue("overflow-y"))||o.getPropertyValue("overflow");if("auto"===i||"scroll"===i||"overlay"===i)return n}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),r=function(e){return e.viewportBottom-e.viewportTop==0?"invisible":e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?"inside":e.viewportBottom<e.waypointTop?"below":e.waypointTop<e.viewportTop?"above":"invisible"}(t),n=this._previousPosition,o=this.props,i=(o.debug,o.onPositionChange),a=o.onEnter,s=o.onLeave,l=o.fireOnRapidScroll;if(this._previousPosition=r,n!==r){var c={currentPosition:r,previousPosition:n,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};i.call(this,c),"inside"===r?a.call(this,c):"inside"===n&&s.call(this,c),l&&("below"===n&&"above"===r||"above"===n&&"below"===r)&&(a.call(this,{currentPosition:"inside",previousPosition:n,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),s.call(this,{currentPosition:r,previousPosition:"inside",event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,r=this.props,n=r.horizontal,o=(r.debug,this._ref.getBoundingClientRect()),i=o.left,a=o.top,s=o.right,l=o.bottom,c=n?i:a,u=n?s:l;this.scrollableAncestor===window?(e=n?window.innerWidth:window.innerHeight,t=0):(e=n?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=n?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var d=this.props,p=d.bottomOffset;return{waypointTop:c,waypointBottom:u,viewportTop:t+b(d.topOffset,e),viewportBottom:t+e-b(p,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?v(t)||Object(d.isForwardRef)(t)?u.a.cloneElement(t,{ref:function(r){e.refElement(r),t.ref&&("function"==typeof t.ref?t.ref(r):t.ref.current=r)}}):u.a.cloneElement(t,{innerRef:this.refElement}):u.a.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&p(t.prototype,r),n&&p(t,n),i}(u.a.PureComponent);x.above="above",x.below="below",x.inside="inside",x.invisible="invisible",x.getWindow=function(){if("undefined"!=typeof window)return window},x.defaultProps=_,x.displayName="Waypoint"},149:function(e,t){e.exports=require("buffer")},157:function(e,t){e.exports=require("tls")},16:function(e,t){e.exports=require("util")},163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckOption=l,t.RadioOption=c;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=a(r(12)),i=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l({children:e,checked:t,disabled:r,onChange:o,category:a,attr:s,inline:l}){const c=(0,n.useRef)(null);return n.default.createElement("div",{className:(0,i.default)("checkbox",{inline:l})},n.default.createElement("label",{onClick:e=>e.stopPropagation()},n.default.createElement("input",{type:"checkbox",checked:t,onChange:()=>{o(c.current.checked,a,s)},ref:c,disabled:r}),e))}function c({children:e,checked:t,disabled:r,onChange:o,category:i,attr:a,value:s}){const l=(0,n.useRef)(null);return n.default.createElement("div",{className:"radio"},n.default.createElement("label",{onClick:e=>e.stopPropagation()},n.default.createElement("input",{type:"radio",checked:t,value:s,onChange:()=>{l.current.checked&&o(s,i,a)},ref:l,disabled:r}),e))}l.propTypes={children:o.default.element,checked:o.default.bool,disabled:o.default.bool,category:o.default.string,attr:o.default.string,onChange:o.default.func,inline:o.default.bool},c.propTypes={children:o.default.element,checked:o.default.bool,disabled:o.default.bool,category:o.default.string,attr:o.default.string,value:o.default.string,onChange:o.default.func}},164:function(e,t,r){r(227),r(313),r(522);var n=r(117),o=r(523);var i=r(82)({__constructor:function(e){Object.assign(this,i.defaultOptions,e)},updateTables:function(e){var t=e.colorTable,r=e.fontTable;this.fontPos=r.indexOf(this.font),this.fontPos<0&&void 0!==this.font&&this.font&&(this.fontPos=r.length,r.push(this.font)),[{obj:this,key:"color"},{obj:this,key:"bgColor"},{obj:this,key:"borderColor"},{obj:this,key:"cellBgColor"},{obj:this.border,key:"color"},{obj:this.borderLeft,key:"color"},{obj:this.borderRight,key:"color"},{obj:this.borderTop,key:"color"},{obj:this.borderBottom,key:"color"},{obj:this.cellBorder,key:"color"},{obj:this.cellBorderLeft,key:"color"},{obj:this.cellBorderRight,key:"color"},{obj:this.cellBorderTop,key:"color"},{obj:this.cellBorderBottom,key:"color"},{obj:this.rowBorderLeft,key:"color"},{obj:this.rowBorderRight,key:"color"},{obj:this.rowBorderTop,key:"color"},{obj:this.rowBorderBottom,key:"color"},{obj:this.rowBorderHorizontal,key:"color"},{obj:this.rowBorderVertical,key:"color"}].map(e=>{var r=e.obj,o=e.key;if(r&&"object"==typeof r&&r[o]){var i=o+"Pos";r[i]=n.getColorPosition(t,r[o]),r[i]<0&&r[o]&&(r[i]=t.length,t.push(r[o]))}})},formatText:function(e,t,r){r=r||{},this.updateTables(t);var i=this instanceof o?this:new o(this),a=i.compile(r);r.noEscape||"string"!=typeof e||(e=n.getRTFSafeText(e)),e=n.makeRtfCmd(a,e);var s=i.applyWrappers(e,r);return r.wrapInCurles&&!s.match(/^\{.*\}$/)&&(s="{"+s+"}"),s}},{defaultOptions:{}});e.exports=i},165:function(e,t,r){var n=r(164),o=r(82)({__constructor:function(e){!e||"object"!=typeof e||e instanceof n||(e=new n(e)),e&&void 0!==e||(e=new n),this.format=e},getRTFCode:function(e){return""}});e.exports=o},166:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertUnicode=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t+=n<255?e[r]:n<32768?`\\uc1\\u${n}*`:`\\uc1\\u${n-65536}*`}return t},t.addToScrivx=function(e,t,r){const n=d[r];Array.isArray(t)?e.ScrivenerProject.Binder.BinderItem[n].Children.BinderItem.push(...t):e.ScrivenerProject.Binder.BinderItem[n].Children.BinderItem.push(t);return e},t.buildTagsString=function(e,t){const r=u(t);return e.map(e=>r.find(({id:t})=>t===e)).filter(Boolean).map(({title:e})=>e).join(", ")},t.buildTemplateProperties=function(e){return e.reduce((e,{attributes:t})=>(t.forEach(t=>e[t.name]=t.value),e),{})},t.resetId=f,t.createFolderBinderItem=function(e){p++;let t=(0,n.default)(a.default);return t._attributes.ID=p,t._attributes.Type="Folder",t.Title._text=e,t.Children={BinderItem:[]},{id:p,binderItem:t}},t.createTextBinderItem=function(e){p++;let t=(0,n.default)(a.default);return t._attributes.ID=p,t.Title._text=e,{id:p,binderItem:t}},t.buildDescriptionFromObject=function(e,t){const r=[];for(const[n,o]of Object.entries(e))h(o)||("description"!==n||!t.descriptionHeading&&!0!==t||r.push({type:"heading-two",children:[{text:(0,i.t)("Description")}]}),"notes"!==n||!t.notesHeading&&!0!==t||r.push({type:"heading-two",children:[{text:(0,i.t)("Notes")}]}),"Tags"!==n||!t.tags&&!0!==t||r.push({type:"heading-two",children:[{text:n}]}),"description"===n||"notes"===n||"Tags"===n||!t.customAttributes&&!0!==t||r.push({type:"heading-two",children:[{text:n}]}),("description"===n&&t.description||"notes"===n&&t.notes||"Tags"===n&&t.tags||t.customAttributes||!0===t)&&("string"==typeof o?r.push({type:"paragraph",children:[{text:o}]}):r.push(...o)));return r},t.isPropertyEmpty=h,t.remove=function(e){o.shell.moveItemToTrash(e)},t.startNewScrivx=function(){const e=(0,n.default)(s.default);return e.ScrivenerProject.Binder.BinderItem[0].Title._text=(0,i.t)("Manuscript"),e.ScrivenerProject.Binder.BinderItem[1].Title._text=(0,i.t)("Notes"),e.ScrivenerProject.Binder.BinderItem[2].Title._text=(0,i.t)("Trash"),f(),e};var n=c(r(314)),o=r(17),i=r(7),a=c(r(1166)),s=c(r(1167)),l=r(11);function c(e){return e&&e.__esModule?e:{default:e}}const{allTagsSelector:u}=l.selectors;const d={main:0,research:1,trash:2};let p=2;function f(){p=2}function h(e){if(!e)return!0;return!!Array.isArray(e)&&(!(e.length>1)&&("paragraph"===e[0].type&&1===e[0].children.length&&""===e[0].children[0].text))}},17:function(e,t){e.exports=require("electron")},176:function(e,t,r){var n;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},19:function(e,t){e.exports=require("crypto")},21:function(e,t){e.exports=require("path")},227:function(e,t){e.exports=function(e,t,r){this.red=e,this.green=t,this.blue=r}},229:function(e,t,r){"use strict";var n=r(2),o=r(1231);if(void 0===n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new n.Component).updater;e.exports=o(n.Component,n.isValidElement,i)},231:function(e,t,r){var n=r(1254),o=function(){return!this}();function i(e,t){this.name="AuthTokenExpiredError",this.message=e,this.expiry=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function a(e){this.name="AuthTokenInvalidError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function s(e,t){this.name="AuthTokenNotBeforeError",this.message=e,this.date=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(e){this.name="AuthTokenError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(e){this.name="AuthError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(e,t){this.name="SilentMiddlewareBlockedError",this.message=e,this.type=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(e){this.name="InvalidActionError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(e){this.name="InvalidArgumentsError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(e){this.name="InvalidOptionsError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(e){this.name="InvalidMessageError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(e,t){this.name="SocketProtocolError",this.message=e,this.code=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(e){this.name="ServerProtocolError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(e){this.name="HTTPServerError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function v(e){this.name="ResourceLimitError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(e){this.name="TimeoutError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function w(e,t){this.name="BadConnectionError",this.message=e,this.type=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function E(e){this.name="BrokerError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function _(e,t){this.name="ProcessExitError",this.message=e,this.code=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function x(e){this.name="UnknownError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}i.prototype=Object.create(Error.prototype),a.prototype=Object.create(Error.prototype),s.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),v.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),w.prototype=Object.create(Error.prototype),E.prototype=Object.create(Error.prototype),_.prototype=Object.create(Error.prototype),x.prototype=Object.create(Error.prototype),e.exports={AuthTokenExpiredError:i,AuthTokenInvalidError:a,AuthTokenNotBeforeError:s,AuthTokenError:l,AuthError:c,SilentMiddlewareBlockedError:u,InvalidActionError:d,InvalidArgumentsError:p,InvalidOptionsError:f,InvalidMessageError:h,SocketProtocolError:m,ServerProtocolError:g,HTTPServerError:b,ResourceLimitError:v,TimeoutError:y,BadConnectionError:w,BrokerError:E,ProcessExitError:_,UnknownError:x},e.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4e3:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out",4008:"Server rejected handshake from client",4009:"Server received a message before the client handshake"},e.exports.socketProtocolIgnoreStatuses={1e3:"Socket closed normally",1001:"Socket hung up"};var O={domain:1,domainEmitter:1,domainThrown:1};e.exports.dehydrateError=function(e,t){var r;if(e&&"object"==typeof e)for(var o in r={message:e.message},t&&(r.stack=e.stack),e)O[o]||(r[o]=e[o]);else r="function"==typeof e?"[function "+(e.name||"anonymous")+"]":e;return n(r)},e.exports.hydrateError=function(e){var t=null;if(null!=e)if("object"==typeof e)for(var r in t=new Error(e.message),e)e.hasOwnProperty(r)&&(t[r]=e[r]);else t=e;return t},e.exports.decycle=n},235:function(e,t,r){"use strict";r.r(t);var n=r(2),o=r.n(n),i=r(3),a=r.n(i),s=r(358),l=r.n(s),c="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,u=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(c&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var d=c&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),u))}};function p(e){return e&&"[object Function]"==={}.toString.call(e)}function f(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function h(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function m(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=f(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(r+o+n)?e:m(h(e))}function g(e){return e&&e.referenceNode?e.referenceNode:e}var b=c&&!(!window.MSInputMethodContext||!document.documentMode),v=c&&/MSIE 10/.test(navigator.userAgent);function y(e){return 11===e?b:10===e?v:b||v}function w(e){if(!e)return document.documentElement;for(var t=y(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===f(r,"position")?w(r):r:e?e.ownerDocument.documentElement:document.documentElement}function E(e){return null!==e.parentNode?E(e.parentNode):e}function _(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,o=r?t:e,i=document.createRange();i.setStart(n,0),i.setEnd(o,0);var a,s,l=i.commonAncestorContainer;if(e!==l&&t!==l||n.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&w(a.firstElementChild)!==a?w(l):l;var c=E(e);return c.host?_(c.host,t):_(e,E(t).host)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r="top"===t?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[r]}return e[r]}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=x(t,"top"),o=x(t,"left"),i=r?-1:1;return e.top+=n*i,e.bottom+=n*i,e.left+=o*i,e.right+=o*i,e}function S(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function C(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],y(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function T(e){var t=e.body,r=e.documentElement,n=y(10)&&getComputedStyle(r);return{height:C("Height",t,r,n),width:C("Width",t,r,n)}}var k=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},P=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),A=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function j(e){return I({},e,{right:e.left+e.width,bottom:e.top+e.height})}function R(e){var t={};try{if(y(10)){t=e.getBoundingClientRect();var r=x(e,"top"),n=x(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?T(e.ownerDocument):{},a=i.width||e.clientWidth||o.width,s=i.height||e.clientHeight||o.height,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var u=f(e);l-=S(u,"x"),c-=S(u,"y"),o.width-=l,o.height-=c}return j(o)}function D(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=y(10),o="HTML"===t.nodeName,i=R(e),a=R(t),s=m(e),l=f(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);r&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=j({top:i.top-a.top-c,left:i.left-a.left-u,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!n&&o){var p=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);d.top-=c-p,d.bottom-=c-p,d.left-=u-h,d.right-=u-h,d.marginTop=p,d.marginLeft=h}return(n&&!r?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=O(d,t)),d}function N(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=D(e,r),o=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),a=t?0:x(r),s=t?0:x(r,"left"),l={top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:o,height:i};return j(l)}function M(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===f(e,"position"))return!0;var r=h(e);return!!r&&M(r)}function B(e){if(!e||!e.parentElement||y())return document.documentElement;for(var t=e.parentElement;t&&"none"===f(t,"transform");)t=t.parentElement;return t||document.documentElement}function L(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?B(e):_(e,g(t));if("viewport"===n)i=N(a,o);else{var s=void 0;"scrollParent"===n?"BODY"===(s=m(h(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===n?e.ownerDocument.documentElement:n;var l=D(s,a,o);if("HTML"!==s.nodeName||M(a))i=l;else{var c=T(e.ownerDocument),u=c.height,d=c.width;i.top+=l.top-l.marginTop,i.bottom=u+l.top,i.left+=l.left-l.marginLeft,i.right=d+l.left}}var p="number"==typeof(r=r||0);return i.left+=p?r:r.left||0,i.top+=p?r:r.top||0,i.right-=p?r:r.right||0,i.bottom-=p?r:r.bottom||0,i}function F(e){return e.width*e.height}function U(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=L(r,n,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return I({key:e},s[e],{area:F(s[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function z(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n?B(t):_(t,g(r));return D(r,o,n)}function H(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function W(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function G(e,t,r){r=r.split("-")[0];var n=H(e),o={width:n.width,height:n.height},i=-1!==["right","left"].indexOf(r),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[l]/2-n[l]/2,o[s]=r===s?t[s]-n[c]:t[W(s)],o}function q(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function X(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=q(e,(function(e){return e[t]===r}));return e.indexOf(n)}(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&p(r)&&(t.offsets.popper=j(t.offsets.popper),t.offsets.reference=j(t.offsets.reference),t=r(t,e))})),t}function V(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=z(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=U(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=G(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=X(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function K(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function Y(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var o=t[n],i=o?""+o+r:e;if(void 0!==document.body.style[i])return i}return null}function $(){return this.state.isDestroyed=!0,K(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Y("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Z(e){var t=e.ownerDocument;return t?t.defaultView:window}function J(e,t,r,n){r.updateBound=n,Z(e).addEventListener("resize",r.updateBound,{passive:!0});var o=m(e);return function e(t,r,n,o){var i="BODY"===t.nodeName,a=i?t.ownerDocument.defaultView:t;a.addEventListener(r,n,{passive:!0}),i||e(m(a.parentNode),r,n,o),o.push(a)}(o,"scroll",r.updateBound,r.scrollParents),r.scrollElement=o,r.eventsEnabled=!0,r}function Q(){this.state.eventsEnabled||(this.state=J(this.reference,this.options,this.state,this.scheduleUpdate))}function ee(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function te(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function re(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&te(t[r])&&(n="px"),e.style[r]=t[r]+n}))}var ne=c&&/Firefox/i.test(navigator.userAgent);function oe(e,t,r){var n=q(e,(function(e){return e.name===t})),o=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!o){var i="`"+t+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var ie=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ae=ie.slice(3);function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ae.indexOf(e),n=ae.slice(r+1).concat(ae.slice(0,r));return t?n.reverse():n}var le="flip",ce="clockwise",ue="counterclockwise";function de(e,t,r,n){var o=[0,0],i=-1!==["right","left"].indexOf(n),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(q(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(e,n){var o=(1===n?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,r,n){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=r;break;case"%":case"%r":default:s=n}return j(s)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(e,o,t,r)}))}))).forEach((function(e,t){e.forEach((function(r,n){te(r)&&(o[t]+=r*("-"===e[n-1]?-1:1))}))})),o}var pe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(r),l=s?"left":"top",c=s?"width":"height",u={start:A({},l,i[l]),end:A({},l,i[l]+i[c]-a[c])};e.offsets.popper=I({},a,u[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=n.split("-")[0],l=void 0;return l=te(+r)?[+r,0]:de(r,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||w(e.instance.popper);e.instance.reference===r&&(r=w(r));var n=Y("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[n];o.top="",o.left="",o[n]="";var l=L(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);o.top=i,o.left=a,o[n]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var r=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(r=Math.max(u[e],l[e])),A({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=u[r];return u[e]>l[e]&&!t.escapeWithReference&&(n=Math.min(u[r],l[e]-("right"===e?u.width:u.height))),A({},r,n)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=I({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return r[s]<i(n[l])&&(e.offsets.popper[l]=i(n[l])-r[c]),r[l]>i(n[s])&&(e.offsets.popper[l]=i(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!oe(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),p=l?"left":"top",h=l?"bottom":"right",m=H(n)[c];s[h]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(s[h]-m)),s[d]+m>a[h]&&(e.offsets.popper[d]+=s[d]+m-a[h]),e.offsets.popper=j(e.offsets.popper);var g=s[d]+s[c]/2-m/2,b=f(e.instance.popper),v=parseFloat(b["margin"+u]),y=parseFloat(b["border"+u+"Width"]),w=g-e.offsets.popper[d]-v-y;return w=Math.max(Math.min(a[c]-m,w),0),e.arrowElement=n,e.offsets.arrow=(A(r={},d,Math.round(w)),A(r,p,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(K(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=L(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],o=W(n),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case le:a=[n,o];break;case ce:a=se(n);break;case ue:a=se(n,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(n!==s||a.length===l+1)return e;n=e.placement.split("-")[0],o=W(n);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===n&&d(c.right)>d(u.left)||"right"===n&&d(c.left)<d(u.right)||"top"===n&&d(c.bottom)>d(u.top)||"bottom"===n&&d(c.top)<d(u.bottom),f=d(c.left)<d(r.left),h=d(c.right)>d(r.right),m=d(c.top)<d(r.top),g=d(c.bottom)>d(r.bottom),b="left"===n&&f||"right"===n&&h||"top"===n&&m||"bottom"===n&&g,v=-1!==["top","bottom"].indexOf(n),y=!!t.flipVariations&&(v&&"start"===i&&f||v&&"end"===i&&h||!v&&"start"===i&&m||!v&&"end"===i&&g),w=!!t.flipVariationsByContent&&(v&&"start"===i&&h||v&&"end"===i&&f||!v&&"start"===i&&g||!v&&"end"===i&&m),E=y||w;(p||b||E)&&(e.flipped=!0,(p||b)&&(n=a[l+1]),E&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=n+(i?"-"+i:""),e.offsets.popper=I({},e.offsets.popper,G(e.instance.popper,e.offsets.reference,e.placement)),e=X(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,o=n.popper,i=n.reference,a=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return o[a?"left":"top"]=i[r]-(s?o[a?"width":"height"]:0),e.placement=W(t),e.offsets.popper=j(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!oe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=q(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,o=e.offsets.popper,i=q(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=w(e.instance.popper),l=R(s),c={position:o.position},u=function(e,t){var r=e.offsets,n=r.popper,o=r.reference,i=Math.round,a=Math.floor,s=function(e){return e},l=i(o.width),c=i(n.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||l%2==c%2?i:a:s,f=t?i:s;return{left:p(l%2==1&&c%2==1&&!d&&t?n.left-1:n.left),top:f(n.top),bottom:f(n.bottom),right:p(n.right)}}(e,window.devicePixelRatio<2||!ne),d="bottom"===r?"top":"bottom",p="right"===n?"left":"right",f=Y("transform"),h=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,h="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&f)c[f]="translate3d("+h+"px, "+m+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var g="bottom"===d?-1:1,b="right"===p?-1:1;c[d]=m*g,c[p]=h*b,c.willChange=d+", "+p}var v={"x-placement":e.placement};return e.attributes=I({},v,e.attributes),e.styles=I({},c,e.styles),e.arrowStyles=I({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return re(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach((function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&re(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,o){var i=z(o,t,e,r.positionFixed),a=U(r.placement,i,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",a),re(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},fe=function(){function e(t,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=d(this.update.bind(this)),this.options=I({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(I({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){n.options.modifiers[t]=I({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return I({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&p(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return P(e,[{key:"update",value:function(){return V.call(this)}},{key:"destroy",value:function(){return $.call(this)}},{key:"enableEventListeners",value:function(){return Q.call(this)}},{key:"disableEventListeners",value:function(){return ee.call(this)}}]),e}();fe.Utils=("undefined"!=typeof window?window:global).PopperUtils,fe.placements=ie,fe.Defaults=pe;var he=fe,me=r(62),ge=r.n(me),be=r(56),ve=r.n(be),ye=r(621),we=r.n(ye),Ee=r(10),_e=r.n(Ee),xe=r(176);function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ce(e,t,r){return t&&Se(e.prototype,t),r&&Se(e,r),e}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?De(e):t}var Me={flip:{padding:20},preventOverflow:{padding:10}},Be={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},Le=r.n(xe).a.canUseDOM,Fe=void 0!==_e.a.createPortal;function Ue(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function ze(e){var t=e.title,r=e.data,n=e.warn,o=void 0!==n&&n,i=e.debug,a=void 0!==i&&i,s=o?console.warn||console.error:console.log;a&&t&&r&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach((function(e){ve.a.plainObject(e)&&e.key?s.apply(console,[e.key,e.value]):s.apply(console,[e])})):s.apply(console,[r]),console.groupEnd())}function He(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,r,n)}function We(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,r,n)}function Ge(){}var qe=function(e){function t(e){var r;return Oe(this,t),r=Ne(this,Ie(t).call(this,e)),Le?(r.node=document.createElement("div"),e.id&&(r.node.id=e.id),e.zIndex&&(r.node.style.zIndex=e.zIndex),document.body.appendChild(r.node),r):Ne(r)}return Ae(t,e),Ce(t,[{key:"componentDidMount",value:function(){Le&&(Fe||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Le&&(Fe||this.renderPortal())}},{key:"componentWillUnmount",value:function(){Le&&this.node&&(Fe||_e.a.unmountComponentAtNode(this.node),document.body.removeChild(this.node))}},{key:"renderPortal",value:function(){if(!Le)return null;var e=this.props,t=e.children,r=e.setRef;return Fe?_e.a.createPortal(t,this.node):(r(_e.a.unstable_renderSubtreeIntoContainer(this,t.length>1?o.a.createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,r=e.placement,n=e.target;return t||n||"center"===r?this.renderPortal():null}},{key:"render",value:function(){return Fe?this.renderReact16():null}}]),t}(o.a.Component);Te(qe,"propTypes",{children:a.a.oneOfType([a.a.element,a.a.array]),hasChildren:a.a.bool,id:a.a.oneOfType([a.a.string,a.a.number]),placement:a.a.string,setRef:a.a.func.isRequired,target:a.a.oneOfType([a.a.object,a.a.string]),zIndex:a.a.number});var Xe=function(e){function t(){return Oe(this,t),Ne(this,Ie(t).apply(this,arguments))}return Ae(t,e),Ce(t,[{key:"render",value:function(){var e,t=this.props,r=t.placement,n=t.setArrowRef,i=t.styles.arrow,a=i.color,s=i.display,l=i.length,c=i.margin,u=i.position,d=i.spread,p={display:s,position:u},f=d,h=l;return r.startsWith("top")?(e="0,0 ".concat(f/2,",").concat(h," ").concat(f,",0"),p.bottom=0,p.marginLeft=c,p.marginRight=c):r.startsWith("bottom")?(e="".concat(f,",").concat(h," ").concat(f/2,",0 0,").concat(h),p.top=0,p.marginLeft=c,p.marginRight=c):r.startsWith("left")?(h=d,e="0,0 ".concat(f=l,",").concat(h/2," 0,").concat(h),p.right=0,p.marginTop=c,p.marginBottom=c):r.startsWith("right")&&(h=d,e="".concat(f=l,",").concat(h," ").concat(f,",0 0,").concat(h/2),p.left=0,p.marginTop=c,p.marginBottom=c),o.a.createElement("div",{className:"__floater__arrow",style:this.parentStyle},o.a.createElement("span",{ref:n,style:p},o.a.createElement("svg",{width:f,height:h,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("polygon",{points:e,fill:a}))))}},{key:"parentStyle",get:function(){var e=this.props,t=e.placement,r=e.styles.arrow.length,n={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(n.bottom=0,n.left=0,n.right=0,n.height=r):t.startsWith("bottom")?(n.left=0,n.right=0,n.top=0,n.height=r):t.startsWith("left")?(n.right=0,n.top=0,n.bottom=0):t.startsWith("right")&&(n.left=0,n.top=0),n}}]),t}(o.a.Component);Te(Xe,"propTypes",{placement:a.a.string.isRequired,setArrowRef:a.a.func.isRequired,styles:a.a.object.isRequired});var Ve=function(e){var t=e.handleClick,r=e.styles,n=r.color,i=r.height,a=r.width,s=Re(r,["color","height","width"]);return o.a.createElement("button",{"aria-label":"close",onClick:t,style:s,type:"button"},o.a.createElement("svg",{width:"".concat(a,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},o.a.createElement("g",null,o.a.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))};Ve.propTypes={handleClick:a.a.func.isRequired,styles:a.a.object.isRequired};var Ke=function(e){var t=e.content,r=e.footer,n=e.handleClick,i=e.open,a=e.positionWrapper,s=e.showCloseButton,l=e.title,c=e.styles,u={content:o.a.isValidElement(t)?t:o.a.createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(u.title=o.a.isValidElement(l)?l:o.a.createElement("div",{className:"__floater__title",style:c.title},l)),r&&(u.footer=o.a.isValidElement(r)?r:o.a.createElement("div",{className:"__floater__footer",style:c.footer},r)),!s&&!a||ve.a.boolean(i)||(u.close=o.a.createElement(Ve,{styles:c.close,handleClick:n})),o.a.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)};Ke.propTypes={content:a.a.node.isRequired,footer:a.a.node,handleClick:a.a.func.isRequired,open:a.a.bool,positionWrapper:a.a.bool.isRequired,showCloseButton:a.a.bool.isRequired,styles:a.a.object.isRequired,title:a.a.node};var Ye=function(e){function t(){return Oe(this,t),Ne(this,Ie(t).apply(this,arguments))}return Ae(t,e),Ce(t,[{key:"render",value:function(){var e=this.props,t=e.component,r=e.handleClick,n=e.hideArrow,i=e.setFloaterRef,a=e.status,s={},l=["__floater"];return t?o.a.isValidElement(t)?s.content=o.a.cloneElement(t,{closeFn:r}):s.content=t({closeFn:r}):s.content=o.a.createElement(Ke,this.props),a===Be.OPEN&&l.push("__floater__open"),n||(s.arrow=o.a.createElement(Xe,this.props)),o.a.createElement("div",{ref:i,className:l.join(" "),style:this.style},o.a.createElement("div",{className:"__floater__body"},s.content,s.arrow))}},{key:"style",get:function(){var e=this.props,t=e.disableAnimation,r=e.component,n=e.placement,o=e.hideArrow,i=e.status,a=e.styles,s=a.arrow.length,l=a.floater,c=a.floaterCentered,u=a.floaterClosing,d=a.floaterOpening,p=a.floaterWithAnimation,f=a.floaterWithComponent,h={};return o||(n.startsWith("top")?h.padding="0 0 ".concat(s,"px"):n.startsWith("bottom")?h.padding="".concat(s,"px 0 0"):n.startsWith("left")?h.padding="0 ".concat(s,"px 0 0"):n.startsWith("right")&&(h.padding="0 0 0 ".concat(s,"px"))),-1!==[Be.OPENING,Be.OPEN].indexOf(i)&&(h=Pe({},h,{},d)),i===Be.CLOSING&&(h=Pe({},h,{},u)),i!==Be.OPEN||t||(h=Pe({},h,{},p)),"center"===n&&(h=Pe({},h,{},c)),r&&(h=Pe({},h,{},f)),Pe({},l,{},h)}}]),t}(o.a.Component);Te(Ye,"propTypes",{component:a.a.oneOfType([a.a.func,a.a.element]),content:a.a.node,disableAnimation:a.a.bool.isRequired,footer:a.a.node,handleClick:a.a.func.isRequired,hideArrow:a.a.bool.isRequired,open:a.a.bool,placement:a.a.string.isRequired,positionWrapper:a.a.bool.isRequired,setArrowRef:a.a.func.isRequired,setFloaterRef:a.a.func.isRequired,showCloseButton:a.a.bool,status:a.a.string.isRequired,styles:a.a.object.isRequired,title:a.a.node});var $e=function(e){function t(){return Oe(this,t),Ne(this,Ie(t).apply(this,arguments))}return Ae(t,e),Ce(t,[{key:"render",value:function(){var e,t=this.props,r=t.children,n=t.handleClick,i=t.handleMouseEnter,a=t.handleMouseLeave,s=t.setChildRef,l=t.setWrapperRef,c=t.style,u=t.styles;if(r)if(1===o.a.Children.count(r))if(o.a.isValidElement(r)){var d=ve.a.function(r.type)?"innerRef":"ref";e=o.a.cloneElement(o.a.Children.only(r),Te({},d,s))}else e=o.a.createElement("span",null,r);else e=r;return e?o.a.createElement("span",{ref:l,style:Pe({},u,{},c),onClick:n,onMouseEnter:i,onMouseLeave:a},e):null}}]),t}(o.a.Component);Te($e,"propTypes",{children:a.a.node,handleClick:a.a.func.isRequired,handleMouseEnter:a.a.func.isRequired,handleMouseLeave:a.a.func.isRequired,setChildRef:a.a.func.isRequired,setWrapperRef:a.a.func.isRequired,style:a.a.object,styles:a.a.object.isRequired});var Ze={zIndex:100};var Je=["position","top","right","bottom","left"],Qe=function(e){function t(e){var r;return Oe(this,t),Te(De(r=Ne(this,Ie(t).call(this,e))),"setArrowRef",(function(e){r.arrowRef=e})),Te(De(r),"setChildRef",(function(e){r.childRef=e})),Te(De(r),"setFloaterRef",(function(e){r.floaterRef||(r.floaterRef=e)})),Te(De(r),"setWrapperRef",(function(e){r.wrapperRef=e})),Te(De(r),"handleTransitionEnd",(function(){var e=r.state.status,t=r.props.callback;r.wrapperPopper&&r.wrapperPopper.instance.update(),r.setState({status:e===Be.OPENING?Be.OPEN:Be.IDLE},(function(){var e=r.state.status;t(e===Be.OPEN?"open":"close",r.props)}))})),Te(De(r),"handleClick",(function(){var e=r.props,t=e.event,n=e.open;if(!ve.a.boolean(n)){var o=r.state,i=o.positionWrapper,a=o.status;("click"===r.event||"hover"===r.event&&i)&&(ze({title:"click",data:[{event:t,status:a===Be.OPEN?"closing":"opening"}],debug:r.debug}),r.toggle())}})),Te(De(r),"handleMouseEnter",(function(){var e=r.props,t=e.event,n=e.open;if(!ve.a.boolean(n)&&!Ue()){var o=r.state.status;"hover"===r.event&&o===Be.IDLE&&(ze({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:r.debug}),clearTimeout(r.eventDelayTimeout),r.toggle())}})),Te(De(r),"handleMouseLeave",(function(){var e=r.props,t=e.event,n=e.eventDelay,o=e.open;if(!ve.a.boolean(o)&&!Ue()){var i=r.state,a=i.status,s=i.positionWrapper;"hover"===r.event&&(ze({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:r.debug}),n?-1===[Be.OPENING,Be.OPEN].indexOf(a)||s||r.eventDelayTimeout||(r.eventDelayTimeout=setTimeout((function(){delete r.eventDelayTimeout,r.toggle()}),1e3*n)):r.toggle(Be.IDLE))}})),r.state={currentPlacement:e.placement,positionWrapper:e.wrapperOptions.position&&!!e.target,status:Be.INIT,statusWrapper:Be.INIT},r._isMounted=!1,Le&&window.addEventListener("load",(function(){r.popper&&r.popper.instance.update(),r.wrapperPopper&&r.wrapperPopper.instance.update()})),r}return Ae(t,e),Ce(t,[{key:"componentDidMount",value:function(){if(Le){var e=this.state.positionWrapper,t=this.props,r=t.children,n=t.open,o=t.target;this._isMounted=!0,ze({title:"init",data:{hasChildren:!!r,hasTarget:!!o,isControlled:ve.a.boolean(n),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.initPopper(),!r&&o&&ve.a.boolean(n)}}},{key:"componentDidUpdate",value:function(e,t){if(Le){var r,n=this.props,o=n.autoOpen,i=n.open,a=n.target,s=n.wrapperOptions,l=we()(t,this.state),c=l.changedFrom,u=l.changedTo;if(e.open!==i)ve.a.boolean(i)&&(r=i?Be.OPENING:Be.CLOSING),this.toggle(r);e.wrapperOptions.position===s.position&&e.target===a||this.changeWrapperPosition(this.props),(u("status",Be.IDLE)&&i||c("status",Be.INIT,Be.IDLE)&&o)&&this.toggle(Be.OPEN),this.popper&&u("status",Be.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",Be.OPENING)||u("status",Be.CLOSING))&&function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];He(e,t,n=function(o){r(o),We(e,t,n)},o)}(this.floaterRef,"transitionend",this.handleTransitionEnd)}}},{key:"componentWillUnmount",value:function(){Le&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,r=this.state.positionWrapper,n=this.props,o=n.disableFlip,i=n.getPopper,a=n.hideArrow,s=n.offset,l=n.placement,c=n.wrapperOptions,u="top"===l||"bottom"===l?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===l)this.setState({status:Be.IDLE});else if(t&&this.floaterRef){var d=this.options,p=d.arrow,f=d.flip,h=d.offset,m=Re(d,["arrow","flip","offset"]);new he(t,this.floaterRef,{placement:l,modifiers:Pe({arrow:Pe({enabled:!a,element:this.arrowRef},p),flip:Pe({enabled:!o,behavior:u},f),offset:Pe({offset:"0, ".concat(s,"px")},h)},m),onCreate:function(t){e.popper=t,i(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:Be.IDLE}),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)},onUpdate:function(t){e.popper=t;var r=e.state.currentPlacement;e._isMounted&&t.placement!==r&&e.setState({currentPlacement:t.placement})}})}if(r){var g=ve.a.undefined(c.offset)?0:c.offset;new he(this.target,this.wrapperRef,{placement:c.placement||l,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(g,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:Be.IDLE}),i(t,"wrapper"),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"changeWrapperPosition",value:function(e){var t=e.target,r=e.wrapperOptions;this.setState({positionWrapper:r.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===Be.OPEN?Be.CLOSING:Be.OPENING;ve.a.undefined(e)||(t=e),this.setState({status:t})}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,r=e.positionWrapper,n=e.status,i=this.props,a=i.children,s=i.component,l=i.content,c=i.disableAnimation,u=i.footer,d=i.hideArrow,p=i.id,f=i.open,h=i.showCloseButton,m=i.style,g=i.target,b=i.title,v=o.a.createElement($e,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:m,styles:this.styles.wrapper},a),y={};return r?y.wrapperInPortal=v:y.wrapperAsChildren=v,o.a.createElement("span",null,o.a.createElement(qe,{hasChildren:!!a,id:p,placement:t,setRef:this.setFloaterRef,target:g,zIndex:this.styles.options.zIndex},o.a.createElement(Ye,{component:s,content:l,disableAnimation:c,footer:u,handleClick:this.handleClick,hideArrow:d||"center"===t,open:f,placement:t,positionWrapper:r,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:h,status:n,styles:this.styles,title:b}),y.wrapperInPortal),y.wrapperAsChildren)}},{key:"debug",get:function(){return this.props.debug||!!global.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,r=e.event;return"hover"===r&&Ue()&&!t?"click":r}},{key:"options",get:function(){var e=this.props.options;return ge()(Me,e||{})}},{key:"styles",get:function(){var e,t=this,r=this.state,n=r.status,o=r.positionWrapper,i=r.statusWrapper,a=this.props.styles,s=ge()(function(e){var t=ge()(Ze,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(a),a);o&&(e=-1===[Be.IDLE].indexOf(n)||-1===[Be.IDLE].indexOf(i)?s.wrapperPosition:this.wrapperPopper.styles,s.wrapper=Pe({},s.wrapper,{},e));if(this.target){var l=window.getComputedStyle(this.target);this.wrapperStyles?s.wrapper=Pe({},s.wrapper,{},this.wrapperStyles):-1===["relative","static"].indexOf(l.position)&&(this.wrapperStyles={},o||(Je.forEach((function(e){t.wrapperStyles[e]=l[e]})),s.wrapper=Pe({},s.wrapper,{},this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return s}},{key:"target",get:function(){if(!Le)return null;var e=this.props.target;return e?ve.a.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}}]),t}(o.a.Component);Te(Qe,"propTypes",{autoOpen:a.a.bool,callback:a.a.func,children:a.a.node,component:l()(a.a.oneOfType([a.a.func,a.a.element]),(function(e){return!e.content})),content:l()(a.a.node,(function(e){return!e.component})),debug:a.a.bool,disableAnimation:a.a.bool,disableFlip:a.a.bool,disableHoverToClick:a.a.bool,event:a.a.oneOf(["hover","click"]),eventDelay:a.a.number,footer:a.a.node,getPopper:a.a.func,hideArrow:a.a.bool,id:a.a.oneOfType([a.a.string,a.a.number]),offset:a.a.number,open:a.a.bool,options:a.a.object,placement:a.a.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:a.a.bool,style:a.a.object,styles:a.a.object,target:a.a.oneOfType([a.a.object,a.a.string]),title:a.a.node,wrapperOptions:a.a.shape({offset:a.a.number,placement:a.a.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:a.a.bool})}),Te(Qe,"defaultProps",{autoOpen:!1,callback:Ge,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:Ge,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});t.default=Qe},25:function(e,t){e.exports=require("fs")},275:function(e,t){e.exports=require("zlib")},306:function(e,t){e.exports=require("child_process")},310:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,l){let d=(0,o.t)("Where would you like to save the export?"),p=[];switch(r){case"word":p=[{name:(0,o.t)("MS Word"),extensions:["docx"]}];break;case"scrivener":p=[{name:(0,o.t)("Scrivener Project"),extensions:["scriv"]}]}const f=u.showSaveDialogSync(c,{title:d,filters:p,defaultPath:e});if(f){i.default.push("Export",{export_type:r,options:n});try{switch(r){case"scrivener":(0,a.default)(t,f,n);break;case"word":default:(0,s.default)(t,f,n)}l(null,!0)}catch(e){l(e,!1)}}else l(null,!1)};var n=r(17),o=r(7),i=l(r(67)),a=l(r(1130)),s=l(r(1171));function l(e){return e&&e.__esModule?e:{default:e}}const c=n.remote.getCurrentWindow(),{dialog:u}=n.remote},313:function(e,t){e.exports={ARIAL:"Arial",COMIC_SANS:"Comic Sans MS",GEORGIA:"Georgia",IMPACT:"Impact",TAHOMA:"Tahoma",HELVETICA:"Helvetica",VERDANA:"Verdana",COURIER_NEW:"Courier New",PALATINO:"Palatino Linotype",TIMES_NEW_ROMAN:"Times New Roman"}},318:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){return t.flatMap(t=>{let a=[];if(e[t.name])if(a.push(new o.Paragraph({text:t.name,heading:r})),"paragraph"==t.type){const r=(0,i.default)(e[t.name],n);a=[...a,...r]}else e[t.name]&&a.push(new o.Paragraph(e[t.name]));return a})};var n,o=r(83),i=(n=r(133))&&n.__esModule?n:{default:n}},319:function(e,t,r){var n;!function(o){var i=/^\s+/,a=/\s+$/,s=0,l=o.round,c=o.min,u=o.max,d=o.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,s=null,l=null,d=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,r=!1;if(A[e])e=A[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=W.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=W.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=W.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=W.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=W.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=W.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=W.hex8.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:F(t[4]),format:r?"name":"hex8"};if(t=W.hex6.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:r?"name":"hex"};if(t=W.hex4.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:r?"name":"hex8"};if(t=W.hex3.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:r?"name":"hex"};return!1}(e));"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(f=e.r,h=e.g,m=e.b,t={r:255*R(f,255),g:255*R(h,255),b:255*R(m,255)},d=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(n=B(e.s),s=B(e.v),t=function(e,t,r){e=6*R(e,360),t=R(t,100),r=R(r,100);var n=o.floor(e),i=e-n,a=r*(1-t),s=r*(1-i*t),l=r*(1-(1-i)*t),c=n%6;return{r:255*[r,s,a,a,l,r][c],g:255*[l,r,r,s,a,a][c],b:255*[a,a,l,r,r,s][c]}}(e.h,n,s),d=!0,p="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(n=B(e.s),l=B(e.l),t=function(e,t,r){var n,o,i;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=R(e,360),t=R(t,100),r=R(r,100),0===t)n=o=i=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*n,g:255*o,b:255*i}}(e.h,n,l),d=!0,p="hsl"),e.hasOwnProperty("a")&&(r=e.a));var f,h,m;return r=j(r),{ok:d,format:e.format||p,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=l(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=r.ok,this._tc_id=s++}function f(e,t,r){e=R(e,255),t=R(t,255),r=R(r,255);var n,o,i=u(e,t,r),a=c(e,t,r),s=(i+a)/2;if(i==a)n=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:o,l:s}}function h(e,t,r){e=R(e,255),t=R(t,255),r=R(r,255);var n,o,i=u(e,t,r),a=c(e,t,r),s=i,l=i-a;if(o=0===i?0:l/i,i==a)n=0;else{switch(i){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:o,v:s}}function m(e,t,r,n){var o=[M(l(e).toString(16)),M(l(t).toString(16)),M(l(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function g(e,t,r,n){return[M(L(n)),M(l(e).toString(16)),M(l(t).toString(16)),M(l(r).toString(16))].join("")}function b(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s-=t/100,r.s=D(r.s),p(r)}function v(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s+=t/100,r.s=D(r.s),p(r)}function y(e){return p(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l+=t/100,r.l=D(r.l),p(r)}function E(e,t){t=0===t?0:t||10;var r=p(e).toRgb();return r.r=u(0,c(255,r.r-l(-t/100*255))),r.g=u(0,c(255,r.g-l(-t/100*255))),r.b=u(0,c(255,r.b-l(-t/100*255))),p(r)}function _(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l-=t/100,r.l=D(r.l),p(r)}function x(e,t){var r=p(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,p(r)}function O(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function S(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+120)%360,s:t.s,l:t.l}),p({h:(r+240)%360,s:t.s,l:t.l})]}function C(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+90)%360,s:t.s,l:t.l}),p({h:(r+180)%360,s:t.s,l:t.l}),p({h:(r+270)%360,s:t.s,l:t.l})]}function T(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+72)%360,s:t.s,l:t.l}),p({h:(r+216)%360,s:t.s,l:t.l})]}function k(e,t,r){t=t||6,r=r||30;var n=p(e).toHsl(),o=360/r,i=[p(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,i.push(p(n));return i}function P(e,t){t=t||6;for(var r=p(e).toHsv(),n=r.h,o=r.s,i=r.v,a=[],s=1/t;t--;)a.push(p({h:n,s:o,v:i})),i=(i+s)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:o.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=j(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,o){var i=[M(l(e).toString(16)),M(l(t).toString(16)),M(l(r).toString(16)),M(L(n))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*R(this._r,255))+"%",g:l(100*R(this._g,255))+"%",b:l(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%)":"rgba("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=p(e);r="#"+g(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:B(e[n]));e=r}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:d(),g:d(),b:d()})},p.mix=function(e,t,r){r=0===r?0:r||50;var n=p(e).toRgb(),o=p(t).toRgb(),i=r/100;return p({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},p.readability=function(e,t){var r=p(e),n=p(t);return(o.max(r.getLuminance(),n.getLuminance())+.05)/(o.min(r.getLuminance(),n.getLuminance())+.05)},p.isReadable=function(e,t,r){var n,o,i=p.readability(e,t);switch(o=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},p.mostReadable=function(e,t,r){var n,o,i,a,s=null,l=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var c=0;c<t.length;c++)(n=p.readability(e,t[c]))>l&&(l=n,s=p(t[c]));return p.isReadable(e,s,{level:i,size:a})||!o?s:(r.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],r))};var A=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=p.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(A);function j(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function D(e){return c(1,u(0,e))}function N(e){return parseInt(e,16)}function M(e){return 1==e.length?"0"+e:""+e}function B(e){return e<=1&&(e=100*e+"%"),e}function L(e){return o.round(255*parseFloat(e)).toString(16)}function F(e){return N(e)/255}var U,z,H,W=(z="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",H="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+H),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+H),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+H),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(e){return!!W.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(n=function(){return p}.call(t,r,t,e))||(e.exports=n)}(Math)},320:function(e,t){e.exports=function(e){return Object.prototype.toString.call(e).slice(8,-1)}},321:function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r)for(var n=0,o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},324:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var n,o=r(176);var i=((n=o)&&n.__esModule?n:{default:n}).default,a=i.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=i.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=i.canUseDOM?window.NodeList:{},t.canUseDOM=i.canUseDOM;t.default=a},358:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r,n){return"boolean"==typeof e?e:"function"==typeof e?e(t,r,n):!(!0!=!!e||!e)},o=function(e,t){return Object.hasOwnProperty.call(e,t)},i=function(e,t,r,n){return n?new Error(n):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+r+"`.")};t.default=function(e,t,r){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,r),function(a,s,l){for(var c=arguments.length,u=Array(3<c?c-3:0),d=3;d<c;d++)u[d-3]=arguments[d];return n(t,a,s,l)?o(a,s)?e.apply(void 0,[a,s,l].concat(u)):i(a,s,l,r):e.apply(void 0,[a,s,l].concat(u))}}},359:function(e,t,r){"use strict";(function(e){var n,o=r(622);n="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:e;var i=Object(o.a)(n);t.a=i}).call(this,r(180)(e))},360:function(e,t,r){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){var e=/(auto|scroll)/,t=function(e,r){return null===e.parentNode?r:t(e.parentNode,r.concat([e]))},r=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},n=function(t){return e.test(function(e){return r(e,"overflow")+r(e,"overflow-y")+r(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var r=t(e.parentNode,[]),o=0;o<r.length;o+=1)if(n(r[o]))return r[o];return document.scrollingElement||document.documentElement}}})?n.apply(t,o):n)||(e.exports=i)},39:function(e,t){e.exports=require("url")},42:function(e,t){e.exports=require("assert")},48:function(e,t){e.exports=require("stream")},501:function(e,t){e.exports=require("worker_threads")},515:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=f(r(12)),i=r(17),a=r(22),s=r(18),l=r(7),c=f(r(33)),u=f(r(1123)),d=f(r(310)),p=f(r(307));function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}const{dialog:m}=i.remote;function g(e){const[t,r]=(0,n.useState)(!1),o=(0,n.useRef)(null),i=()=>{r(!0),o.current.hide()},a=t=>{o.current.hide();const{ui:r,seriesName:n,books:i,fullState:a}=e,s=r.currentTimeline,u="series"==s?n+" "+(0,l.t)("(Series View)"):i[""+s].title;(0,d.default)(u,a,t,p.default[t],(e,t)=>{if(e)return c.default.error(e),void m.showErrorBox((0,l.t)("Error"),(0,l.t)("There was an error doing that. Try again"))})},f=()=>t?n.default.createElement(u.default,{close:()=>r(!1)}):null;return n.default.createElement(s.NavItem,null,n.default.createElement("span",{className:"subnav__container__label"},(0,l.t)("Export"),": "),n.default.createElement(s.OverlayTrigger,{trigger:"click",rootClose:!0,placement:"bottom",overlay:n.default.createElement(s.Popover,{id:"export-popover"},n.default.createElement("ul",{className:"export-list"},n.default.createElement("li",{onClick:()=>a("word")},(0,l.t)("MS Word")),n.default.createElement("li",{onClick:()=>a("scrivener")},(0,l.t)("Scrivener")),n.default.createElement("li",{onClick:i},(0,l.t)("Advanced...")))),ref:o},n.default.createElement(s.Button,{bsSize:"small"},n.default.createElement(s.Glyphicon,{glyph:"export"}))),n.default.createElement(f,null))}g.propTypes={ui:o.default.object,seriesName:o.default.string,books:o.default.object,fullState:o.default.object};var b=(0,a.connect)(e=>({ui:e.present.ui,seriesName:e.present.series.name,books:e.present.books,fullState:e.present}))(g);t.default=b},519:function(e,t){e.exports=require("string_decoder")},521:function(e,t,r){var n=r(117),o=r(313),i=r(522),a=r(227),s=r(1135),l=r(164),c=r(523),u=r(165),d=r(1137),p=r(1138),f=r(1139),h=r(1140),m=r(82),g=Array.isArray,b=m({elements:[],colorTable:[],fontTable:[],__constructor:function(e){this.params=this.params||{},"function"==typeof this._getDefaultParams&&Object.assign(this.params,this._getDefaultParams()),Object.assign(this.params,e),this.elements=[],this.colorTable=[],this.fontTable=[]},cascadeFormats:function(e,t,r={}){if(!g(t))throw new Error("Formats must be an array!");return r.reverseCascade&&(t=t.reverse()),t.filter(e=>!!e).map(e=>e instanceof l?e:new l(e)).reduce((e,t)=>t.formatText(e,this,r),e)},_getDefaultParams:function(){return{marginLeft:1800,marginRight:1800,marginBottom:1440,marginTop:1440,language:b.Language.ENG_US,landscape:!0}},addTable:function(e){this.elements.push(e)},addTextGroup:function(e,t){if(this._groupIndex(e)<0){var r=new b.GroupElement(e,t);this.elements.push(r)}},addElement:function(e,t,r){if(void 0===r&&"object"==typeof t&&(r=t,t=void 0),null==e)throw new Error("Element not defined");g(e)?e=new d(e,r):"object"!=typeof e&&(e=new p(e,r)),void 0!==t&&this._groupIndex(t)>=0?this.elements[this._groupIndex(t)].addElement(e):this.elements.push(e)},writeText:function(e,t,r){var n=new b.TextElement(e,t);this.addElement(n,r)},addCommand:function(e,t,r){if(!e)throw new Error("Command not defined");void 0===r&&"object"==typeof t&&(r=t,t=void 0),r&&"object"==typeof r&&(r instanceof l&&r.updateTables(this.colorTable,this.fontTable),e+=new b.Entities(r).compile());var n={text:e,noEscape:!0};return this.addElement(n)},addPage:function(e){this.addCommand("\\page",e)},addLine:function(e){this.addCommand("\\line",e)},addTab:function(e){this.addCommand("\\tab",e)},addSection:function(e,t){this.addCommand("\\sect",t,e)},addStyles:function(e,t){if(!e)throw new Error("Entities not defined");e&&e instanceof l&&e.updateTables(this.colorTable,this.fontTable);var r=new b.Entities(e).compile();r&&this.addCommand(r,t)},_groupIndex:function(e){return this.elements.forEach((function(t,r){if(t instanceof b.GroupElement&&t.name===e)return r})),-1},getRTFCodeRoot:function(e){return g(e)?e.map(this.getRTFCodeRoot,this).join("\n"):e instanceof b.Element?e.getRTFCode(this):b.Utils.getRTFSafeText(e)},createDocument:function(){var e="{\\rtf1\\ansi\\deff0\n";e+=new b.Entities(this.params).compile()+"\n";var t=this.getRTFCodeRoot(this.elements);return e+=b.Utils.createColorTable(this.colorTable)+"\n",e+=b.Utils.createFontTable(this.fontTable)+"\n",e+=t+"\n}"}},{Utils:n,Fonts:o,Colors:i,RGB:a,Language:s,Format:l,Entities:c,Element:u,ContainerElement:d,TextElement:p,TableElement:f,GroupElement:h}),v=!0;"object"==typeof e.exports&&(e.exports=b,v=!1),"object"==typeof modules&&(modules.define("jsrtf",(function(e){e(b)})),v=!1),v&&(("undefined"!=typeof window?window:global).jsrtf=b)},522:function(e,t,r){var n=r(227);e.exports={BLACK:new n(0,0,0),WHITE:new n(255,255,255),RED:new n(255,0,0),BLUE:new n(0,0,255),LIME:new n(191,255,0),YELLOW:new n(255,255,0),MAROON:new n(128,0,0),GREEN:new n(0,255,0),GRAY:new n(80,80,80),ORANGE:new n(255,127,0)}},523:function(e,t,r){var n=r(1136),o=r(117),i=Array.isArray;function a(e,t,r){if(!Array.isArray(r))return 0;var n=r.length,o=e=>e<0?n:e;return o(r.indexOf(e))-o(r.indexOf(t))}function s(e,t){return a(e,t,n.entitiesFirst)-a(e,t,n.oprionsLast)}var l=r(82)({__constructor:function(e){Object.assign(this,e)},_notEmptyKey:function(e){return n.entities[e]&&void 0!==this[e]&&null!==this[e]&&!1!==this[e]},testFilter:function(e,t,r){if(!t)return!0;var n=e.filter;return n?(i(n)||(n=[n]),i(t)||(t=[t]),t.some(e=>n.includes(e))):!r},compile:function(e){var t=(e=e||{}).filter||this.filter,r=e.strictFilter||this.strictFilter;return Object.keys(this).filter(this._notEmptyKey,this).sort(s).map(e=>{var t=n.entities[e];return!0===t&&(t=e),t="string"==typeof t?{key:e,name:t,prefix:"\\"}:Object.assign({prefix:"\\",key:e},t)},this).filter(e=>!e.wrap).filter(e=>this.testFilter(e,t,r)).filter(e=>"function"!=typeof e.test||e.test.call(this,this[e.key]),this).map(e=>{var t=!0===this[e.key]?"":this[e.key];"function"==typeof e.value?t=e.value.call(this,this[e.key]):"object"==typeof e.value&&e.value[this[e.key]]&&(t=e.value[this[e.key]]);var r=[e.prefix,e.name,t].join("");return o.makeRtfCmd(r,"",e.postfix)},this).join("")},applyWrappers:function(e,t){var r=(t=t||{}).filter||this.filter,i=t.strictFilter||this.strictFilter;return Object.keys(this).filter(e=>"object"==typeof n.entities[e]&&n.entities[e].wrap).sort(s).reverse().map(e=>{var t=n.entities[e];return t=Object.assign({key:e,prefix:"\\"+t.name,postfix:"\\"+t.name+"0"},t)},this).filter(e=>this.testFilter(e,r,i)).filter(t=>"function"!=typeof t.test||t.test.call(this,e),this).reduce((e,t,r)=>o.makeRtfCmd(t.prefix,e,t.postfix),e)}});e.exports=l},524:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyUser=function(e,t){try{new Notification((0,n.t)("File Exported"),{body:i[t],silent:!0})}catch(e){}o.shell.showItemInFolder(e)};var n=r(7),o=r(17);const i={word:(0,n.t)("Your Plottr file was exported to a .docx file"),scrivener:(0,n.t)("Your Plottr file was exported to a Scrivener project package")}},527:function(e,t,r){var n=r(1174),o=r(1175),i=r(1176);e.exports=function(e,t,r){return t==t?i(e,t,r):n(e,o,r)}},529:function(e,t,r){var n=r(1177);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return e.templates.flatMap(e=>e.attributes.flatMap(e=>{let n=[];if(e.value){if(n.push(new o.Paragraph({text:e.name,heading:t})),"paragraph"==e.type){const t=(0,i.default)(e.value,r);n=[...n,...t]}else n.push(new o.Paragraph(e.value));return n}}))};var n,o=r(83),i=(n=r(133))&&n.__esModule?n:{default:n}},531:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=[],i=[],a=[],s=[];e.characters&&(i=e.characters.map(e=>t.characters[e]));e.places&&(a=e.places.map(e=>t.places[e]));e.tags&&(s=e.tags.map(e=>t.tags[e]));i.length&&r.push(new n.Paragraph(`${(0,o.t)("Characters")}: ${i.join(", ")}`));a.length&&r.push(new n.Paragraph(`${(0,o.t)("Places")}: ${a.join(", ")}`));s.length&&r.push(new n.Paragraph(`${(0,o.t)("Tags")}: ${s.join(", ")}`));r.length&&r.push(new n.Paragraph(""));return r};var n=r(83),o=r(7)},532:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=h(r(12)),i=r(22),a=r(24),s=r(73),l=r(7),c=r(18),u=h(r(5)),d=r(20),p=r(11),f=r(344);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const b=p.actions.card,{isSmallSelector:v,isMediumSelector:y}=p.selectors,{lightBackground:w}=p.lineColors;class E extends n.Component{constructor(e){super(e),g(this,"handleDragEnter",e=>{this.setState({dropDepth:this.state.dropDepth+1})}),g(this,"handleDragOver",e=>{e.preventDefault(),this.setState({inDropZone:!0})}),g(this,"handleDragLeave",e=>{let t=this.state.dropDepth;--t,this.setState({dropDepth:t}),t>0||this.setState({inDropZone:!1})}),g(this,"handleDrop",e=>{e.stopPropagation(),this.setState({inDropZone:!1,dropDepth:0});const t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);if(!r.cardId)return;const{beatId:n,lineId:o}=this.props;this.props.actions.reorderCardsWithinLine(n,o,[r.cardId])}),g(this,"saveCreate",()=>{const e=this.buildCard(this.titleInputRef.value);this.props.actions.addCard(Object.assign(e,this.state.templates?{templates:this.state.templates}:{})),this.setState({creating:!1,templates:[]}),this.props.onDone&&this.props.onDone()}),g(this,"createFromSmall",()=>{const e=this.buildCard("");this.props.actions.addCard(e)}),g(this,"handleFinishCreate",e=>{13===e.which&&this.saveCreate()}),g(this,"startCreating",()=>{this.setState({creating:!0})}),g(this,"handleCancelCreate",e=>{27===e.which&&this.setState({creating:!1})}),g(this,"handleBlur",()=>{if(""===this.titleInputRef.value)return this.setState({creating:!1}),!1;this.saveCreate(),this.setState({creating:!1})}),g(this,"onAddWithTemplateHover",()=>{this.setState({templateHover:!0})}),g(this,"onAddWithTemplateLeave",()=>{this.setState({templateHover:!1})}),g(this,"onAddWithDefaultHover",()=>{this.setState({defaultHover:!0})}),g(this,"onAddWithDefaultLeave",()=>{this.setState({defaultHover:!1})}),g(this,"showTemplatePicker",()=>{this.setState({showTemplatePicker:!0})}),g(this,"handleChooseTemplate",e=>{const t=this.state.templates.find(({id:t})=>t===e.id)?this.state.templates:[e,...this.state.templates];this.setState({templates:t,showTemplatePicker:!1,creating:!0})}),g(this,"closeTemplatePicker",()=>{this.setState({showTemplatePicker:!1})}),this.state={creating:!1,templateHover:!1,defaultHover:!1,showTemplatePicker:!1,templates:[],inDropZone:!1,dropDepth:0},this.titleInputRef=null}buildCard(e){const{beatId:t,lineId:r}=this.props;return{title:e,beatId:t,lineId:r,positionWithinLine:this.props.positionWithinLine||0}}renderBlank(){const{color:e,verticalInsertion:t,orientation:r,isSmall:o,isMedium:i}=this.props;if(o){const t={borderColor:e};return n.default.createElement("td",{onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},n.default.createElement("div",{className:(0,u.default)("blank-circle",{hover:this.state.inDropZone}),style:t,onClick:this.createFromSmall}))}const a={borderColor:e,color:e},s=this.state.templateHover?{background:w(e)}:{},d=this.state.defaultHover?{background:w(e)}:{},p=(0,u.default)((0,f.orientedClassName)("blank-card__body",r),{"vertical-blank-card__body":t});return n.default.createElement("div",{className:(0,u.default)(p,{hover:this.state.inDropZone,"medium-timeline":i}),style:a},n.default.createElement("div",{className:"template",onClick:this.showTemplatePicker,onMouseEnter:this.onAddWithTemplateHover,onMouseLeave:this.onAddWithTemplateLeave,style:s},(0,l.t)("Use Template")),n.default.createElement("div",{className:"non-template",onClick:this.startCreating,onMouseEnter:this.onAddWithDefaultHover,onMouseLeave:this.onAddWithDefaultLeave,style:d},n.default.createElement(c.Glyphicon,{glyph:"plus"})))}renderTemplatePicker(){return this.state.showTemplatePicker?n.default.createElement(d.TemplatePicker,{type:["scenes"],modal:!0,isOpen:this.state.showTemplatePicker,close:this.closeTemplatePicker,onChooseTemplate:this.handleChooseTemplate,showTemplateSaveButton:!1}):null}renderCreateNew(){const{color:e,isMedium:t}=this.props,r={borderColor:e},o=(0,u.default)("card__body",{"medium-timeline":t});return n.default.createElement("div",{className:o,style:r},n.default.createElement(c.FormGroup,null,n.default.createElement(c.ControlLabel,null,(0,l.t)("Scene Title")),n.default.createElement(c.FormControl,{type:"text",autoFocus:!0,inputRef:e=>{this.titleInputRef=e},bsSize:"small",onBlur:this.handleBlur,onKeyDown:this.handleCancelCreate,onKeyPress:this.handleFinishCreate})))}render(){window.SCROLLWITHKEYS=!this.state.creating;const{orientation:e,verticalInsertion:t,isSmall:r,isMedium:o}=this.props;let i=null;if(i=this.state.creating?this.renderCreateNew():this.renderBlank(),r)return i;const a="vertical"===e;return n.default.createElement(n.default.Fragment,null,t?i:n.default.createElement(s.Cell,null,n.default.createElement("div",{className:(0,u.default)("card__cell",{vertical:a,"medium-timeline":o}),onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},n.default.createElement("div",null,i))),this.renderTemplatePicker())}shouldComponentUpdate(e,t){return this.state.inDropZone!=t.inDropZone||(this.state.creating!=t.creating||(this.props.color!=e.color||(this.state.templateHover!==t.templateHover||(this.state.defaultHover!==t.defaultHover||this.state.showTemplatePicker!==t.showTemplatePicker))))}}E.propTypes={beatId:o.default.number,lineId:o.default.number,verticalInsertion:o.default.bool,color:o.default.string.isRequired,currentTimeline:o.default.oneOfType([o.default.string,o.default.number]),orientation:o.default.string,positionWithinLine:o.default.number,onDone:o.default.func,isSmall:o.default.bool,isMedium:o.default.bool,actions:o.default.object};var _=(0,i.connect)((function(e){return{currentTimeline:e.present.ui.currentTimeline,orientation:e.present.ui.orientation,isSmall:v(e.present),isMedium:y(e.present)}}),(function(e){return{actions:(0,a.bindActionCreators)(b,e)}}))(E);t.default=_},533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=m(r(12)),i=r(22),a=r(24),s=r(18),l=r(73),c=r(20),u=r(7),d=m(r(5)),p=r(81),f=m(r(235)),h=r(11);function m(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=h.actions.line,y=h.actions.ui,{card:{truncateTitle:w},orientedClassName:{orientedClassName:E}}=h.helpers,{lineIsExpandedSelector:_,isLargeSelector:x,isMediumSelector:O,isSmallSelector:S}=h.selectors;class C extends n.PureComponent{constructor(e){super(e),b(this,"deleteLine",e=>{e.stopPropagation(),this.props.actions.deleteLine(this.props.line.id)}),b(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),b(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0,hovering:!1})}),b(this,"editTitle",()=>{const e=this.titleInputRef;e&&this.finalizeEdit(e.value)}),b(this,"finalizeEdit",e=>{var t=this.props.line.id;this.props.actions.editLineTitle(t,e),this.setState({editing:!1,hovering:!1})}),b(this,"handleFinishEditingTitle",e=>{13===e.which&&this.editTitle()}),b(this,"handleBlur",()=>{""!==this.titleInputRef.value&&(this.editTitle(),this.setState({editing:!1,hovering:!1}))}),b(this,"handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify(this.props.line)),this.setState({dragging:!0})}),b(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),b(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),b(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),b(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),b(this,"handleDrop",e=>{e.stopPropagation(),this.setState({inDropZone:!1,dropDepth:0});var t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);null!=r.id&&this.props.handleReorder(this.props.line.position,r.position)}),b(this,"handleEsc",e=>{27===e.which&&this.setState({editing:!1})}),b(this,"changeColor",e=>{e&&this.props.actions.editLineColor(this.props.line.id,e),this.setState({showColorPicker:!1})}),b(this,"openColorPicker",()=>{this.setState({showColorPicker:!0})}),b(this,"startEditing",()=>{this.setState({editing:!0})}),b(this,"startHovering",()=>{clearTimeout(this.hoverTimeout),this.setState({hovering:!0})}),b(this,"stopHovering",()=>{this.hoverTimeout=setTimeout(()=>this.setState({hovering:!1}),200)}),b(this,"toggleLine",()=>{this.props.lineIsExpanded?this.props.actions.collapseLine(this.props.line.id):this.props.actions.expandLine(this.props.line.id)}),b(this,"toggleExpanded",()=>{this.props.ui.timelineIsExpanded?this.props.uiActions.collapseTimeline():this.props.uiActions.expandTimeline()}),b(this,"renderHoverOptions",()=>{const{lineIsExpanded:e,ui:t,isSmall:r}=this.props;let o=null,i=null;if(o=e?n.default.createElement(p.FaCompressAlt,null):n.default.createElement(p.FaExpandAlt,null),i=t.timelineIsExpanded?n.default.createElement(p.FaCompressAlt,null):n.default.createElement(p.FaExpandAlt,null),"vertical"===t.orientation){let e=E("line-title__hover-options",t.orientation);return n.default.createElement("div",{className:(0,d.default)(e,{"small-timeline":r})},n.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.startEditing},n.default.createElement(s.Glyphicon,{glyph:"edit"})),n.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.openColorPicker},n.default.createElement(s.Glyphicon,{glyph:"tint"})),r?null:n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.toggleLine},o),n.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.toggleExpanded},i," ",(0,u.t)("All"))),n.default.createElement(s.Button,{block:!0,bsSize:"small",onClick:this.handleDelete},n.default.createElement(s.Glyphicon,{glyph:"trash"})))}return n.default.createElement("div",{className:"line-title__hover-options"},n.default.createElement(s.ButtonGroup,null,n.default.createElement(s.Button,{bsSize:"small",onClick:this.startEditing},n.default.createElement(s.Glyphicon,{glyph:"edit"})),n.default.createElement(s.Button,{bsSize:"small",onClick:this.openColorPicker},n.default.createElement(s.Glyphicon,{glyph:"tint"})),r?null:n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Button,{bsSize:"small",onClick:this.toggleLine},o),n.default.createElement(s.Button,{bsSize:"small",onClick:this.toggleExpanded},i," ",(0,u.t)("All"))),n.default.createElement(s.Button,{bsSize:"small",onClick:this.handleDelete},n.default.createElement(s.Glyphicon,{glyph:"trash"}))))}),this.state={hovering:!1,editing:""===e.line.title,dragging:!1,inDropZone:!1,dropDepth:0,showColorPicker:!1,deleting:!1},this.hoverTimeout=null,this.titleInputRef=null}renderEditInput(){return this.state.editing?n.default.createElement(c.InputModal,{isOpen:!0,type:"text",getValue:this.finalizeEdit,defaultValue:this.props.line.title,title:(0,u.t)("Edit {lineName}",{lineName:this.props.line.title||(0,u.t)("New Plotline")}),cancel:()=>this.setState({editing:!1,hovering:!1})}):null}renderDelete(){return this.state.deleting?n.default.createElement(c.DeleteConfirmModal,{name:this.props.line.title||(0,u.t)("New Plotline"),onDelete:this.deleteLine,onCancel:this.cancelDelete}):null}renderColorPicker(){if(this.state.showColorPicker){var e="colorPicker-"+this.props.line.id;return n.default.createElement(c.ColorPicker,{key:e,color:this.props.line.color,closeDialog:this.changeColor})}return null}renderTitle(){const{ui:e}=this.props;return this.state.editing?n.default.createElement(s.FormGroup,null,n.default.createElement(s.ControlLabel,{className:(0,d.default)({darkmode:e.darkMode})},(0,u.t)("Plotline name")),n.default.createElement(s.FormControl,{type:"text",defaultValue:this.props.line.title,inputRef:e=>{this.titleInputRef=e},autoFocus:!0,onKeyDown:this.handleEsc,onBlur:this.handleBlur,onKeyPress:this.handleFinishEditingTitle})):w(this.props.line.title,50)}renderSmall(){const{line:e,ui:t}=this.props,{hovering:r,inDropZone:o}=this.state,i="horizontal"==t.orientation,a={"rotate-45":!i,"row-header":i,dropping:o};let s="right";return"vertical"==t.orientation&&(s="bottom"),n.default.createElement("th",{className:(0,d.default)(a),onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderColorPicker(),this.renderDelete(),this.renderEditInput(),n.default.createElement("div",{draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onClick:r?this.stopHovering:this.startHovering},n.default.createElement(f.default,{component:this.renderHoverOptions,open:r,placement:s,hideArrow:!0,offset:i?0:1,styles:{wrapper:{cursor:"move"}}},n.default.createElement("span",null,w(e.title,50)))))}render(){const{ui:e,isSmall:t,isMedium:r}=this.props,{editing:o,hovering:i,inDropZone:a}=this.state;if(o&&(window.SCROLLWITHKEYS=!1),t)return this.renderSmall();let s=(0,d.default)(E("line-title__body",e.orientation),{"medium-timeline":r,hover:i,dropping:a}),c=(0,d.default)(E("line-title__cell",e.orientation),{"medium-timeline":r}),u="bottom";return"vertical"==e.orientation&&(u="right"),n.default.createElement(l.Cell,null,n.default.createElement("div",{className:c,onMouseEnter:this.startHovering,onMouseLeave:this.stopHovering,onDrop:this.handleDrop},this.renderDelete(),n.default.createElement(f.default,{component:this.renderHoverOptions,open:i,placement:u,hideArrow:!0,offset:0,style:{cursor:"move"}},n.default.createElement("div",{className:s,onClick:this.startEditing,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,draggable:!0},this.renderTitle()))),this.renderColorPicker())}}C.propTypes={line:o.default.object.isRequired,bookId:o.default.oneOfType([o.default.string,o.default.number]),handleReorder:o.default.func,ui:o.default.object.isRequired,isSmall:o.default.bool,isMedium:o.default.bool,isLarge:o.default.bool,lineIsExpanded:o.default.bool.isRequired,actions:o.default.object.isRequired,uiActions:o.default.object.isRequired};var T=(0,i.connect)((function(e,t){return{ui:e.present.ui,isSmall:S(e.present),isMedium:O(e.present),isLarge:x(e.present),lineIsExpanded:_(e.present)[t.line.id]}}),(function(e,t){return{actions:(0,a.bindActionCreators)(v,e),uiActions:(0,a.bindActionCreators)(y,e)}}))(C);t.default=T},534:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=m(r(12)),i=r(22),a=r(73),s=r(18),l=r(7),c=r(167),u=r(81),d=m(r(5)),p=r(11),f=m(r(1211)),h=r(24);function m(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{orientedClassName:{orientedClassName:v}}=p.helpers;class y extends n.PureComponent{constructor(e){super(e),b(this,"insert",()=>{const{beatToLeft:e,handleInsert:t}=this.props;t(e&&e.id),this.props.tour.run&&this.props.tourActions.tourNext("next")}),b(this,"insertChild",()=>{const{beatToLeft:e,handleInsertChild:t}=this.props;t(e&&e.id)}),b(this,"lastTitleText",()=>{const{hierarchyLevelName:e}=this.props;return(0,l.t)("Add "+e)}),b(this,"titleText",()=>{const{hierarchyLevelName:e}=this.props;return(0,l.t)("Insert "+e)}),b(this,"lastChildText",()=>{const{hierarchyChildLevelName:e}=this.props;return(0,l.t)("Add "+e)}),b(this,"childTitleText",()=>{const{hierarchyChildLevelName:e}=this.props;return(0,l.t)("Insert "+e)}),b(this,"wrapperClass",()=>{const{showLine:e,orientation:t,beatToLeft:r,hovering:n}=this.props,{localHovering:o}=this.state;return(0,d.default)(v("insert-beat-wrapper",t),r&&n!==r.id&&!o&&"transparent",!r&&"transparent",{"insert-beat-spacer":e})}),b(this,"lastWrapperClass",()=>{const{showLine:e,orientation:t,isSmall:r,isMedium:n,isLarge:o}=this.props;return(0,d.default)(v("insert-beat-wrapper",t),"append-beat",{"insert-beat-spacer":e,"small-timeline":r,"medium-timeline":n,"large-timeline":o})}),b(this,"orientedClassSubIcon",()=>{const{isInBeatList:e,orientation:t}=this.props;return v(e?this.beatClassSubIcon():this.insertBeatClass(),t)}),b(this,"orientedClass",()=>{const{isInBeatList:e,orientation:t}=this.props;return v(e?this.beatClass():this.insertBeatClass(),t)}),b(this,"lastOrientedClass",()=>{const{orientation:e}=this.props;return v(this.lastBeatClass(),e)}),b(this,"insertBeatClass",()=>{const{isMedium:e}=this.props;return(0,d.default)("line-list__insert-beat",{"medium-timeline":e})}),b(this,"beatClassSubIcon",()=>{const{isMedium:e,isInBeatList:t,beatToLeft:r,hovering:n}=this.props,{localHovering:o}=this.state;return(0,d.default)("beat-list__insert",r&&n!==r.id&&!o&&"transparent",{"medium-timeline":t&&e})}),b(this,"wrapperClassSubIcon",()=>{const{showLine:e,orientation:t}=this.props;return(0,d.default)(v("insert-beat-wrapper",t),{"insert-beat-spacer":e})}),b(this,"lastBeatClass",()=>{const{isInBeatList:e,isMedium:t,isSmall:r}=this.props;return(0,d.default)("beat-list__insert","append-beat",{"medium-timeline":e&&t,"small-timeline":e&&r})}),b(this,"beatClass",()=>{const{isInBeatList:e,isMedium:t,hovering:r,beatToLeft:n}=this.props,{localHovering:o}=this.state;return(0,d.default)("beat-list__insert",n&&r!==n.id&&!o&&"transparent",{"medium-timeline":e&&t})}),this.state={hovering:this.props.hovering,localHovering:!1}}renderLine(){const{tableLength:e,orientation:t,color:r,isMedium:o}=this.props;return n.default.createElement(f.default,{tableLength:e,orientation:t,color:r,isMedium:o})}renderToggleCollapse(){const{handleInsertChild:e,toggleExpanded:t,expanded:r,tour:o,isFirst:i}=this.props;return!e&&t?n.default.createElement("div",{onClick:t,className:(0,d.default)(this.orientedClassSubIcon(),!1===r?"beat-list__insert--always-visible":{})},n.default.createElement("div",{className:this.wrapperClassSubIcon()},n.default.createElement("div",{onClick:()=>!i&&!0===r&&this.props.tourActions.tourNext("next")},r?n.default.createElement(u.FaCompressAlt,null):n.default.createElement(u.FaExpandAlt,null)))):null}renderInsertChild(){const{handleInsertChild:e,isFirst:t,isSmall:r,atMaximumDepth:o}=this.props;return o?null:e&&!t?n.default.createElement("div",{title:this.childTitleText(),className:this.orientedClassSubIcon(),onClick:this.insertChild},n.default.createElement(s.Button,{className:this.wrapperClassSubIcon(),className:"acts-tour-step8",bsSize:r?"small":void 0,block:!0},n.default.createElement(c.IoIosReturnRight,{size:25,style:{margin:"-1px -5px -6px -5px"}}))):null}renderInsertBeat(){const{isFirst:e,isSmall:t}=this.props;return n.default.createElement("div",{title:this.titleText(),className:this.orientedClass(),onClick:this.insert},n.default.createElement("div",{className:this.wrapperClass()},n.default.createElement(s.Button,{className:e?null:"acts-tour-step6",bsSize:t?"small":void 0,block:!0},n.default.createElement(s.Glyphicon,{glyph:"plus"}))))}renderLastInsertBeat(){const{isFirst:e,isSmall:t,orientation:r}=this.props;return n.default.createElement("div",{title:this.lastTitleText(),className:this.lastOrientedClass(),onClick:this.insert},n.default.createElement("div",{className:this.lastWrapperClass()},n.default.createElement(s.Glyphicon,{glyph:"plus"})))}render(){const{showLine:e,orientation:t,isSmall:r,isLast:o}=this.props;let i=null;if(i=o?this.renderLastInsertBeat():"vertical"===t?n.default.createElement("div",{className:"vertical-beat-list__insert",onMouseEnter:()=>this.setState({localHovering:!0}),onMouseLeave:()=>this.setState({localHovering:!1})},this.renderInsertBeat(),this.renderInsertChild()):n.default.createElement("div",{onMouseEnter:()=>this.setState({localHovering:!0}),onMouseLeave:()=>this.setState({localHovering:!1})},this.renderInsertBeat(),this.renderInsertChild()),r){const e="horizontal"==t,r={"rotate-45":e,"row-header":!e};return n.default.createElement("th",{className:(0,d.default)(r)},i)}return n.default.createElement(a.Cell,null,i,e?this.renderLine():null)}}b(y,"propTypes",{bookId:o.default.oneOfType([o.default.string,o.default.number]),orientation:o.default.string,isSmall:o.default.bool,isMedium:o.default.bool,isLarge:o.default.bool,handleInsert:o.default.func.isRequired,handleInsertChild:o.default.func,isInBeatList:o.default.bool.isRequired,tour:o.default.object.isRequired,tourActions:o.default.object.isRequired,beatToLeft:o.default.object,lineId:o.default.number,showLine:o.default.bool,color:o.default.string,isLast:o.default.bool,isFirst:o.default.bool,tableLength:o.default.number,expanded:o.default.bool,toggleExpanded:o.default.func,hierarchyChildLevelName:o.default.string,hierarchyLevelName:o.default.string,atMaximumDepth:o.default.bool});var w=(0,i.connect)((function(e,t){const r=t.beatToLeft&&t.beatToLeft.id;return{bookId:e.present.ui.currentTimeline,orientation:e.present.ui.orientation,isSmall:p.selectors.isSmallSelector(e.present),isMedium:p.selectors.isMediumSelector(e.present),isLarge:p.selectors.isLargeSelector(e.present),hierarchyLevelName:p.selectors.hierarchyLevelNameSelector(e.present,r),hierarchyChildLevelName:p.selectors.hierarchyChildLevelNameSelector(e.present,r),atMaximumDepth:p.selectors.atMaximumHierarchyDepthSelector(e.present,r),tour:p.selectors.tourSelector(e.present)}}),(function(e){return{tourActions:(0,h.bindActionCreators)(p.actions.tour,e)}}))(y);t.default=w},535:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=h(r(12)),i=r(22),a=r(24),s=r(7),l=r(18),c=r(81),u=r(73),d=h(r(5)),p=r(20),f=r(11);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{card:{truncateTitle:b},beats:{editingBeatLabel:v,beatPositionTitle:y},orientedClassName:{orientedClassName:w},hierarchyLevels:{hierarchyToStyles:E}}=f.helpers;class _ extends n.PureComponent{constructor(e){super(e),g(this,"deleteBeat",e=>{e.stopPropagation(),this.props.actions.deleteBeat(this.props.beat.id,this.props.ui.currentTimeline)}),g(this,"cancelDelete",e=>{e.stopPropagation(),this.setState({deleting:!1})}),g(this,"handleDelete",e=>{e.stopPropagation(),this.setState({deleting:!0,hovering:!1})}),g(this,"handleAddChild",e=>{this.props.actions.addBeat(this.props.ui.currentTimeline,this.props.beat.id)}),g(this,"handleToggleExpanded",e=>{const{actions:{collapseBeat:t,expandBeat:r},beat:{id:n,expanded:o},ui:{currentTimeline:i},tour:a}=this.props;!0===o&&!0===a.run&&this.props.tourActions.tourNext("next"),o?t(n,i):r(n,i)}),g(this,"editTitle",()=>{const e=this.titleInputRef;e&&this.finalizeEdit(e.value)}),g(this,"finalizeEdit",e=>{const{beat:t,actions:r,ui:n}=this.props;r.editBeatTitle(t.id,n.currentTimeline,e||"auto"),this.setState({editing:!1,hovering:!1})}),g(this,"handleFinishEditing",e=>{13===e.which&&this.editTitle()}),g(this,"handleBlur",()=>{this.editTitle()}),g(this,"handleEsc",e=>{27===e.which&&this.setState({editing:!1})}),g(this,"handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify(this.props.beat)),this.setState({dragging:!0})}),g(this,"handleDragEnd",()=>{this.setState({dragging:!1})}),g(this,"handleDragEnter",e=>{this.state.dragging||this.setState({dropDepth:this.state.dropDepth+1})}),g(this,"handleDragOver",e=>{e.preventDefault(),this.state.dragging||this.setState({inDropZone:!0})}),g(this,"handleDragLeave",e=>{if(!this.state.dragging){let e=this.state.dropDepth;if(--e,this.setState({dropDepth:e}),e>0)return;this.setState({inDropZone:!1})}}),g(this,"handleDrop",e=>{e.stopPropagation(),this.setState({inDropZone:!1,dropDepth:0});var t=e.dataTransfer.getData("text/json"),r=JSON.parse(t);null!=r.id&&r.id!=this.props.beat.id&&this.props.handleReorder(this.props.beat.id,r.id)}),g(this,"startEditing",()=>{this.setState({editing:!0,hovering:!1})}),g(this,"startHovering",()=>{this.props.onMouseEnter(),this.setState({hovering:this.props.onMouseEnter()})}),g(this,"stopHovering",()=>{this.props.onMouseLeave(),this.setState({hovering:!1})});let t=""==e.beat.title;this.state={hovering:this.props.hovering,editing:t,dragging:!1,inDropZone:!1,dropDepth:0,deleting:!1},this.titleInputRef=null}renderDelete(){if(!this.state.deleting)return null;const{hierarchyLevel:e,beatTitle:t,hierarchyLevels:r}=this.props;let o=null;switch(r.length-r.findIndex(({name:t})=>t===e.name)){case 1:break;case 2:o=`Are you sure you want to delete all scene cards in "${t}".`;break;case 3:o=`Are you sure you want to delete all chapters and their scene cards in "${t}".`}return n.default.createElement(p.DeleteConfirmModal,{name:t,customText:o&&(0,s.t)(o),onDelete:this.deleteBeat,onCancel:this.cancelDelete})}renderEditInput(){return this.state.editing?n.default.createElement(p.InputModal,{isOpen:!0,type:"text",getValue:this.finalizeEdit,defaultValue:this.props.beat.title,title:(0,s.t)("Edit {beatName}",{beatName:this.props.beatTitle}),cancel:()=>this.setState({editing:!1,hovering:!1})}):null}renderHorizontalHoverOptions(e){const{ui:t,isMedium:r,isSmall:o,beat:i,hierarchyLevel:a,hierarchyLevels:s,tour:u}=this.props,p=w("beat-list__item__hover-options",t.orientation),f=s.length-a.level>1;return n.default.createElement("div",{className:(0,d.default)(p,{"small-timeline":o}),style:e},n.default.createElement(l.ButtonGroup,null,r?null:n.default.createElement(l.Button,{bsSize:o?"small":void 0,onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{bsSize:o?"small":void 0,onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"})),f?n.default.createElement(l.Button,{bsSize:o?"small":void 0,className:u.run?"acts-tour-step7":"",onClick:this.handleToggleExpanded},i.expanded?n.default.createElement(c.FaCompressAlt,null):n.default.createElement(c.FaExpandAlt,null)):null))}renderVerticalHoverOptions(e){const{ui:t,isSmall:r,beat:o,hierarchyLevel:i,hierarchyLevels:a,tour:s}=this.props,u=w("beat-list__item__hover-options",t.orientation),p=a.length-i.level>1;return n.default.createElement("div",{className:(0,d.default)(u,{"small-timeline":r}),style:e},n.default.createElement(l.Button,{bsSize:r?"small":void 0,block:!0,onClick:this.startEditing},n.default.createElement(l.Glyphicon,{glyph:"edit"})),n.default.createElement(l.Button,{bsSize:r?"small":void 0,block:!0,onClick:this.handleDelete},n.default.createElement(l.Glyphicon,{glyph:"trash"})),p&&n.default.createElement(l.Button,{bsSize:r?"small":void 0,className:s.run?"acts-tour-step7":"",onClick:this.handleToggleExpanded},o.expanded?n.default.createElement(c.FaCompressAlt,null):n.default.createElement(c.FaExpandAlt,null)))}renderHoverOptions(){let e={};return this.props.isSmall?(e={display:"none"},this.state.hovering&&(e.display="block")):(e={visibility:"hidden"},this.state.hovering&&(e.visibility="visible")),"vertical"===this.props.ui.orientation?this.renderVerticalHoverOptions(e):this.renderHorizontalHoverOptions(e)}renderTitle(){const{beats:e,beat:t,beatTitle:r,hierarchyLevels:o,positionOffset:i,hierarchyEnabled:a,isSeries:s}=this.props;return this.state.editing?n.default.createElement(l.FormGroup,null,n.default.createElement(l.ControlLabel,null,v(e,t,o,i,a,s)),n.default.createElement(l.FormControl,{type:"text",defaultValue:t.title,inputRef:e=>{this.titleInputRef=e},autoFocus:!0,onKeyDown:this.handleEsc,onBlur:this.handleBlur,onKeyPress:this.handleFinishEditing})):n.default.createElement("span",null,b(r,50))}render(){window.SCROLLWITHKEYS=!this.state.editing;const{beats:e,hierarchyLevels:t,beat:r,ui:o,positionOffset:i,beatTitle:a,isSmall:s,isMedium:l,hierarchyEnabled:c,isSeries:p}=this.props,{hovering:f,inDropZone:h}=this.state,m=(0,d.default)(w("beat__body",o.orientation),{"medium-timeline":l,hover:f,dropping:h}),g=(0,d.default)(w("beat__cell",o.orientation),{"medium-timeline":l});if(s){const s="horizontal"==o.orientation,l={"rotate-45":s,"row-header":!s,dropping:h};return n.default.createElement("th",{className:(0,d.default)(l),onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHoverOptions(),this.renderDelete(),this.renderEditInput(),n.default.createElement("div",{title:y(e,r,t,i,c,p),onClick:f?this.stopHovering:this.startHovering,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},n.default.createElement("span",null,b(a,50))))}return n.default.createElement(u.Cell,{className:"beat-table-cell"},n.default.createElement("div",{className:g,title:y(e,r,t,i,c,p),onMouseEnter:this.startHovering,onMouseLeave:this.stopHovering,onDrop:this.handleDrop},this.renderHoverOptions(),this.renderDelete(),n.default.createElement("div",{style:E(this.props.hierarchyLevel,o.timeline.size,this.state.hovering||this.state.inDropZone),className:m,onClick:this.startEditing,draggable:!0,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},this.renderTitle())))}}_.propTypes={beatId:o.default.number.isRequired,handleReorder:o.default.func.isRequired,actions:o.default.object.isRequired,beats:o.default.object.isRequired,hierarchyLevels:o.default.array.isRequired,beat:o.default.object.isRequired,hierarchyLevel:o.default.object.isRequired,ui:o.default.object.isRequired,beatTitle:o.default.string.isRequired,positionOffset:o.default.number.isRequired,isSmall:o.default.bool.isRequired,isMedium:o.default.bool.isRequired,hierarchyEnabled:o.default.bool.isRequired,isSeries:o.default.bool.isRequired,tour:o.default.object.isRequired,tourActions:o.default.object.isRequired};var x=(0,i.connect)(e=>{const t=f.selectors.makeBeatSelector(),r=f.selectors.makeBeatTitleSelector();return function(e,n){return{beats:f.selectors.beatsByBookSelector(e.present),hierarchyLevels:f.selectors.sortedHierarchyLevels(e.present),beat:t(e.present,n.beatId),hierarchyLevel:f.selectors.hierarchyLevelSelector(e.present,n.beatId),ui:e.present.ui,beatTitle:r(e.present,n.beatId),positionOffset:f.selectors.positionOffsetSelector(e.present),isSmall:f.selectors.isSmallSelector(e.present),isMedium:f.selectors.isMediumSelector(e.present),hierarchyEnabled:f.selectors.beatHierarchyIsOn(e.present),isSeries:f.selectors.isSeriesSelector(e.present),tour:f.selectors.tourSelector(e.present)}}},(function(e){return{actions:(0,a.bindActionCreators)(f.actions.beat,e),tourActions:(0,a.bindActionCreators)(f.actions.tour,e)}}))(_);t.default=x},538:function(e,t,r){var n=r(320);e.exports=function(e){var t=n(e);return"Object"!==t&&"Array"!==t}},539:function(e,t){e.exports=function(){}},540:function(e,t){e.exports=function(e){return 0===Object.keys(e).length}},543:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPreviousAction=function(e){p=e},t.hasPreviousAction=function(){return!!p&&p.type!=s.ActionTypes.FILE_LOADED},t.getPreviousAction=function(){return p},t.createErrorReport=function(e,t){const r=function(e,t){const r=!!c.default.get("licenseKey");return`\n----------------------------------\nINFO\n----------------------------------\nDATE: ${(new Date).toString()}\nVERSION: ${d.getVersion()}\nUSER HAS LICENSE: ${r}\nPLATFORM: ${process.platform}\n----------------------------------\nERROR\n----------------------------------\nname: ${e.name}\nmessage: ${e.message}\nstack: ${e.stack}\ncomponentStack: ${t.componentStack}\n----------------------------------\nPREVIOUS ACTION\n----------------------------------\n${JSON.stringify(p)}\n  `}(e,t),s=i.default.join(d.getPath("documents"),`plottr_error_report_${Date.now()}.txt`);o.default.writeFile(s,r,(function(e){e?(a.default.warn(e),rollbar.warn(e)):function(e){try{new Notification((0,l.t)("Error Report created"),{body:(0,l.t)("Plottr created a file named {fileName} in your Documents folder",{fileName:i.default.basename(e)}),silent:!0})}catch(e){}n.shell.showItemInFolder(e)}(s)}))};var n=r(17),o=u(r(25)),i=u(r(21)),a=u(r(33)),s=r(11),l=r(7),c=u(r(116));function u(e){return e&&e.__esModule?e:{default:e}}const d=n.remote.app;let p=null},544:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var n=r(24),o=(u(r(1247)),r(11)),i=u(r(1289)),a=u(r(1290)),s=u(r(1291)),l=u(r(1292)),c=u(r(555));function u(e){return e&&e.__esModule?e:{default:e}}const d=function(e){const t=(0,c.default)(o.rootReducer,{limit:10,ignoreInitialState:!0}),r=(0,n.applyMiddleware)(i.default,a.default,s.default,l.default);return(0,n.createStore)(t,e,r)}();t.store=d},545:function(e,t,r){e.exports=r(546)},546:function(e,t,r){var n=r(1249);t.stringify=function(e,t,r,o){if(arguments.length<4)try{return 1===arguments.length?JSON.stringify(e):JSON.stringify.apply(JSON,arguments)}catch(e){}var i=o||!1;"boolean"==typeof i&&(i={date:i,function:i,regex:i,undefined:i,error:i,symbol:i,map:i,set:i,nan:i,infinity:i});var a=n.decycle(e,i,t);return 1===arguments.length?JSON.stringify(a):JSON.stringify(a,Array.isArray(t)?t:null,r)},t.parse=function(e,t){var r,o=/"\$jsan"/.test(e);return r=1===arguments.length?JSON.parse(e):JSON.parse(e,t),o&&(r=n.retrocycle(r)),r}},547:function(e,t){e.exports=function(e,t){if("$"!==t)for(var r=function(e){var t,r=/(?:\.(\w+))|(?:\[(\d+)\])|(?:\["((?:[^\\"]|\\.)*)"\])/g,n=[];for(;t=r.exec(e);)n.push(t[1]||t[2]||t[3]);return n}(t),n=0;n<r.length;n++)t=r[n].toString().replace(/\\"/g,'"'),void 0===e[t]&&n!==r.length-1||(e=e[t]);return e}},548:function(e,t,r){var n=r(321),o=r(1252).SCChannel,i=(r(549).Response,r(1255).AuthEngine),a=r(1256),s=r(1257).SCTransport,l=r(70),c=r(1259),u=r(1261).Buffer,d=r(1264),p=r(231),f=p.InvalidArgumentsError,h=p.InvalidMessageError,m=p.InvalidActionError,g=p.SocketProtocolError,b=p.TimeoutError,v=p.BadConnectionError,y="undefined"!=typeof window,w=function(e){var t=this;n.call(this),this.id=null,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.clientId=e.clientId,this.connectTimeout=e.connectTimeout,this.ackTimeout=e.ackTimeout,this.channelPrefix=e.channelPrefix||null,this.disconnectOnUnload=null==e.disconnectOnUnload||e.disconnectOnUnload,this.authTokenName=e.authTokenName,this.pingTimeout=this.ackTimeout,this.pingTimeoutDisabled=!!e.pingTimeoutDisabled,this.active=!0,this._clientMap=e.clientMap||{};var r=Math.pow(2,31)-1,o=function(e){if(t[e]>r)throw new f("The "+e+" value provided exceeded the maximum amount allowed")};if(o("connectTimeout"),o("ackTimeout"),this._localEvents={connect:1,connectAbort:1,close:1,disconnect:1,message:1,error:1,raw:1,kickOut:1,subscribe:1,unsubscribe:1,subscribeStateChange:1,authStateChange:1,authenticate:1,deauthenticate:1,removeAuthToken:1,subscribeRequest:1},this.connectAttempts=0,this._emitBuffer=new c,this.channels={},this.options=e,this._cid=1,this.options.callIdGenerator=function(){return t._cid++},this.options.autoReconnect){null==this.options.autoReconnectOptions&&(this.options.autoReconnectOptions={});var s=this.options.autoReconnectOptions;null==s.initialDelay&&(s.initialDelay=1e4),null==s.randomness&&(s.randomness=1e4),null==s.multiplier&&(s.multiplier=1.5),null==s.maxDelay&&(s.maxDelay=6e4)}if(null==this.options.subscriptionRetryOptions&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new i,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=a,this.options.protocol){var u=new f('The "protocol" option does not affect socketcluster-client. If you want to utilize SSL/TLS - use "secure" option instead');this._onSCError(u)}this.options.path=this.options.path.replace(/\/$/,"")+"/",this.options.query=e.query||{},"string"==typeof this.options.query&&(this.options.query=l.parse(this.options.query)),this._channelEmitter=new n,this._unloadHandler=function(){t.disconnect()},y&&this.disconnectOnUnload&&global.addEventListener&&global.addEventListener("beforeunload",this._unloadHandler,!1),this._clientMap[this.clientId]=this,this.options.autoConnect&&this.connect()};w.prototype=Object.create(n.prototype),w.CONNECTING=w.prototype.CONNECTING=s.prototype.CONNECTING,w.OPEN=w.prototype.OPEN=s.prototype.OPEN,w.CLOSED=w.prototype.CLOSED=s.prototype.CLOSED,w.AUTHENTICATED=w.prototype.AUTHENTICATED="authenticated",w.UNAUTHENTICATED=w.prototype.UNAUTHENTICATED="unauthenticated",w.PENDING=w.prototype.PENDING="pending",w.ignoreStatuses=p.socketProtocolIgnoreStatuses,w.errorStatuses=p.socketProtocolErrorStatuses,w.prototype._privateEventHandlerMap={"#publish":function(e){var t=this._undecorateChannelName(e.channel);this.isSubscribed(t,!0)&&this._channelEmitter.emit(t,e.data)},"#kickOut":function(e){var t=this._undecorateChannelName(e.channel),r=this.channels[t];r&&(n.prototype.emit.call(this,"kickOut",e.message,t),r.emit("kickOut",e.message,t),this._triggerChannelUnsubscribe(r))},"#setAuthToken":function(e,t){var r=this;if(e){this.auth.saveToken(this.authTokenName,e.token,{},(function(n){n?(t.error(n),r._onSCError(n)):(r._changeToAuthenticatedState(e.token),t.end())}))}else t.error(new h("No token data provided by #setAuthToken event"))},"#removeAuthToken":function(e,t){var r=this;this.auth.removeToken(this.authTokenName,(function(e,o){e?(t.error(e),r._onSCError(e)):(n.prototype.emit.call(r,"removeAuthToken",o),r._changeToUnauthenticatedStateAndClearTokens(),t.end())}))},"#disconnect":function(e){this.transport.close(e.code,e.data)}},w.prototype.getState=function(){return this.state},w.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()},w.prototype.deauthenticate=function(e){var t=this;this.auth.removeToken(this.authTokenName,(function(r,o){r?t._onSCError(r):(n.prototype.emit.call(t,"removeAuthToken",o),t.state!==t.CLOSED&&t.emit("#removeAuthToken"),t._changeToUnauthenticatedStateAndClearTokens()),e&&e(r)}))},w.prototype.connect=w.prototype.open=function(){var e=this;if(this.active)this.state===this.CLOSED&&(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,n.prototype.emit.call(this,"connecting"),this.transport&&this.transport.off(),this.transport=new s(this.auth,this.codec,this.options),this.transport.on("open",(function(t){e.state=e.OPEN,e._onSCOpen(t)})),this.transport.on("error",(function(t){e._onSCError(t)})),this.transport.on("close",(function(t,r){e.state=e.CLOSED,e._onSCClose(t,r)})),this.transport.on("openAbort",(function(t,r){e.state=e.CLOSED,e._onSCClose(t,r,!0)})),this.transport.on("event",(function(t,r,n){e._onSCEvent(t,r,n)})));else{var t=new m("Cannot connect a destroyed client");this._onSCError(t)}},w.prototype.reconnect=function(e,t){this.disconnect(e,t),this.connect()},w.prototype.disconnect=function(e,t){if("number"!=typeof(e=e||1e3))throw new f("If specified, the code argument must be a number");this.state===this.OPEN||this.state===this.CONNECTING?this.transport.close(e,t):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))},w.prototype.destroy=function(e,t){y&&global.removeEventListener&&global.removeEventListener("beforeunload",this._unloadHandler,!1),this.active=!1,this.disconnect(e,t),delete this._clientMap[this.clientId]},w.prototype._changeToUnauthenticatedStateAndClearTokens=function(){if(this.authState!==this.UNAUTHENTICATED){var e=this.authState,t=this.signedAuthToken;this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null;var r={oldState:e,newState:this.authState};n.prototype.emit.call(this,"authStateChange",r),n.prototype.emit.call(this,"deauthenticate",t)}},w.prototype._changeToAuthenticatedState=function(e){if(this.signedAuthToken=e,this.authToken=this._extractAuthTokenData(e),this.authState!==this.AUTHENTICATED){var t=this.authState;this.authState=this.AUTHENTICATED;var r={oldState:t,newState:this.authState,signedAuthToken:e,authToken:this.authToken};this.preparingPendingSubscriptions||this.processPendingSubscriptions(),n.prototype.emit.call(this,"authStateChange",r)}n.prototype.emit.call(this,"authenticate",e)},w.prototype.decodeBase64=function(e){return u.from(e,"base64").toString("utf8")},w.prototype.encodeBase64=function(e){return u.from(e,"utf8").toString("base64")},w.prototype._extractAuthTokenData=function(e){var t=(e||"").split(".")[1];if(null!=t){var r=t;try{return r=this.decodeBase64(r),JSON.parse(r)}catch(e){return r}}return null},w.prototype.getAuthToken=function(){return this.authToken},w.prototype.getSignedAuthToken=function(){return this.signedAuthToken},w.prototype.authenticate=function(e,t){var r=this;this.emit("#authenticate",e,(function(n,o){o&&null!=o.isAuthenticated?o.authError&&(o.authError=p.hydrateError(o.authError)):o={isAuthenticated:r.authState,authError:null},n?("BadConnectionError"!==n.name&&"TimeoutError"!==n.name&&r._changeToUnauthenticatedStateAndClearTokens(),t&&t(n,o)):r.auth.saveToken(r.authTokenName,e,{},(function(n){n&&r._onSCError(n),o.isAuthenticated?r._changeToAuthenticatedState(e):r._changeToUnauthenticatedStateAndClearTokens(),t&&t(n,o)}))}))},w.prototype._tryReconnect=function(e){var t,r=this,n=this.connectAttempts++,o=this.options.autoReconnectOptions;if(null==e||n>0){var i=Math.round(o.initialDelay+(o.randomness||0)*Math.random());t=Math.round(i*Math.pow(o.multiplier,n))}else t=e;t>o.maxDelay&&(t=o.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=t,this._reconnectTimeoutRef=setTimeout((function(){r.connect()}),t)},w.prototype._onSCOpen=function(e){var t=this;this.preparingPendingSubscriptions=!0,e?(this.id=e.id,this.pingTimeout=e.pingTimeout,this.transport.pingTimeout=this.pingTimeout,e.isAuthenticated?this._changeToAuthenticatedState(e.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),n.prototype.emit.call(this,"connect",e,(function(){t.processPendingSubscriptions()})),this.state===this.OPEN&&this._flushEmitBuffer()},w.prototype._onSCError=function(e){var t=this;setTimeout((function(){if(t.listeners("error").length<1)throw e;n.prototype.emit.call(t,"error",e)}),0)},w.prototype._suspendSubscriptions=function(){var e,t;for(var r in this.channels)this.channels.hasOwnProperty(r)&&(t=(e=this.channels[r]).state===e.SUBSCRIBED||e.state===e.PENDING?e.PENDING:e.UNSUBSCRIBED,this._triggerChannelUnsubscribe(e,t))},w.prototype._abortAllPendingEventsDueToBadConnection=function(e){for(var t,r=this._emitBuffer.head;r;){t=r.next;var n=r.data;clearTimeout(n.timeout),delete n.timeout,r.detach(),r=t;var o=n.callback;if(o){delete n.callback;var i="Event '"+n.event+"' was aborted due to a bad connection",a=new v(i,e);o.call(n,a,n)}n.cid&&this.transport.cancelPendingResponse(n.cid)}},w.prototype._onSCClose=function(e,t,r){if(this.id=null,this.transport&&this.transport.off(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),this._abortAllPendingEventsDueToBadConnection(r?"connectAbort":"disconnect"),this.options.autoReconnect&&(4e3===e||4001===e||1005===e?this._tryReconnect(0):1e3!==e&&e<4500&&this._tryReconnect()),r?n.prototype.emit.call(this,"connectAbort",e,t):n.prototype.emit.call(this,"disconnect",e,t),n.prototype.emit.call(this,"close",e,t),!w.ignoreStatuses[e]){var o;o=t?"Socket connection closed with status code "+e+" and reason: "+t:"Socket connection closed with status code "+e;var i=new g(w.errorStatuses[e]||o,e);this._onSCError(i)}},w.prototype._onSCEvent=function(e,t,r){var o=this._privateEventHandlerMap[e];o?o.call(this,t,r):n.prototype.emit.call(this,e,t,(function(){r&&r.callback.apply(r,arguments)}))},w.prototype.decode=function(e){return this.transport.decode(e)},w.prototype.encode=function(e){return this.transport.encode(e)},w.prototype._flushEmitBuffer=function(){for(var e,t=this._emitBuffer.head;t;){e=t.next;var r=t.data;t.detach(),this.transport.emitObject(r),t=e}},w.prototype._handleEventAckTimeout=function(e,t){t&&t.detach(),delete e.timeout;var r=e.callback;if(r){delete e.callback;var n=new b("Event response for '"+e.event+"' timed out");r.call(e,n,e)}e.cid&&this.transport.cancelPendingResponse(e.cid)},w.prototype._emit=function(e,t,r){var n=this;this.state===this.CLOSED&&this.connect();var o={event:e,callback:r},i=new c.Item;this.options.cloneData?o.data=d(t):o.data=t,i.data=o,o.timeout=setTimeout((function(){n._handleEventAckTimeout(o,i)}),this.ackTimeout),this._emitBuffer.append(i),this.state===this.OPEN&&this._flushEmitBuffer()},w.prototype.send=function(e){this.transport.send(e)},w.prototype.emit=function(e,t,r){if(null==this._localEvents[e])this._emit(e,t,r);else if("error"===e)n.prototype.emit.call(this,e,t);else{var o=new m('The "'+e+'" event is reserved and cannot be emitted on a client socket');this._onSCError(o)}},w.prototype.publish=function(e,t,r){var n={channel:this._decorateChannelName(e),data:t};this.emit("#publish",n,r)},w.prototype._triggerChannelSubscribe=function(e,t){var r=e.name;if(e.state!==e.SUBSCRIBED){var o=e.state;e.state=e.SUBSCRIBED;var i={channel:r,oldState:o,newState:e.state,subscriptionOptions:t};e.emit("subscribeStateChange",i),e.emit("subscribe",r,t),n.prototype.emit.call(this,"subscribeStateChange",i),n.prototype.emit.call(this,"subscribe",r,t)}},w.prototype._triggerChannelSubscribeFail=function(e,t,r){var o=t.name,i=!t.waitForAuth||this.authState===this.AUTHENTICATED;t.state!==t.UNSUBSCRIBED&&i&&(t.state=t.UNSUBSCRIBED,t.emit("subscribeFail",e,o,r),n.prototype.emit.call(this,"subscribeFail",e,o,r))},w.prototype._cancelPendingSubscribeCallback=function(e){null!=e._pendingSubscriptionCid&&(this.transport.cancelPendingResponse(e._pendingSubscriptionCid),delete e._pendingSubscriptionCid)},w.prototype._decorateChannelName=function(e){return this.channelPrefix&&(e=this.channelPrefix+e),e},w.prototype._undecorateChannelName=function(e){return this.channelPrefix&&0===e.indexOf(this.channelPrefix)?e.replace(this.channelPrefix,""):e},w.prototype._trySubscribe=function(e){var t=this,r=!e.waitForAuth||this.authState===this.AUTHENTICATED;if(this.state===this.OPEN&&!this.preparingPendingSubscriptions&&null==e._pendingSubscriptionCid&&r){var o={noTimeout:!0},i={channel:this._decorateChannelName(e.name)};e.waitForAuth&&(o.waitForAuth=!0,i.waitForAuth=o.waitForAuth),e.data&&(i.data=e.data),e.batch&&(o.batch=!0,i.batch=!0),e._pendingSubscriptionCid=this.transport.emit("#subscribe",i,o,(function(r){delete e._pendingSubscriptionCid,r?t._triggerChannelSubscribeFail(r,e,i):t._triggerChannelSubscribe(e,i)})),n.prototype.emit.call(this,"subscribeRequest",e.name,i)}},w.prototype.subscribe=function(e,t){var r=this.channels[e];return r?t&&r.setOptions(t):(r=new o(e,this,t),this.channels[e]=r),r.state===r.UNSUBSCRIBED&&(r.state=r.PENDING,this._trySubscribe(r)),r},w.prototype._triggerChannelUnsubscribe=function(e,t){var r=e.name,o=e.state;if(e.state=t||e.UNSUBSCRIBED,this._cancelPendingSubscribeCallback(e),o===e.SUBSCRIBED){var i={channel:r,oldState:o,newState:e.state};e.emit("subscribeStateChange",i),e.emit("unsubscribe",r),n.prototype.emit.call(this,"subscribeStateChange",i),n.prototype.emit.call(this,"unsubscribe",r)}},w.prototype._tryUnsubscribe=function(e){if(this.state===this.OPEN){var t={noTimeout:!0};e.batch&&(t.batch=!0),this._cancelPendingSubscribeCallback(e);var r=this._decorateChannelName(e.name);this.transport.emit("#unsubscribe",r,t)}},w.prototype.unsubscribe=function(e){var t=this.channels[e];t&&t.state!==t.UNSUBSCRIBED&&(this._triggerChannelUnsubscribe(t),this._tryUnsubscribe(t))},w.prototype.channel=function(e,t){var r=this.channels[e];return r||(r=new o(e,this,t),this.channels[e]=r),r},w.prototype.destroyChannel=function(e){var t=this.channels[e];t&&(t.unwatch(),t.unsubscribe(),delete this.channels[e])},w.prototype.subscriptions=function(e){var t,r=[];for(var n in this.channels)this.channels.hasOwnProperty(n)&&(t=this.channels[n],(e?t&&(t.state===t.SUBSCRIBED||t.state===t.PENDING):t&&t.state===t.SUBSCRIBED)&&r.push(n));return r},w.prototype.isSubscribed=function(e,t){var r=this.channels[e];return t?!!r&&(r.state===r.SUBSCRIBED||r.state===r.PENDING):!!r&&r.state===r.SUBSCRIBED},w.prototype.processPendingSubscriptions=function(){var e=this;this.preparingPendingSubscriptions=!1;var t=[];for(var r in this.channels)if(this.channels.hasOwnProperty(r)){var n=this.channels[r];n.state===n.PENDING&&t.push(n)}t.sort((function(e,t){var r=e.priority||0,n=t.priority||0;return r>n?-1:r<n?1:0})),t.forEach((function(t){e._trySubscribe(t)}))},w.prototype.watch=function(e,t){if("function"!=typeof t)throw new f("No handler function was provided");this._channelEmitter.on(e,t)},w.prototype.unwatch=function(e,t){t?this._channelEmitter.removeListener(e,t):this._channelEmitter.removeAllListeners(e)},w.prototype.watchers=function(e){return this._channelEmitter.listeners(e)},e.exports=w},549:function(e,t,r){var n=r(231),o=n.InvalidActionError,i=function(e,t){this.socket=e,this.id=t,this.sent=!1};i.prototype._respond=function(e){if(this.sent)throw new o("Response "+this.id+" has already been sent");this.sent=!0,this.socket.send(this.socket.encode(e))},i.prototype.end=function(e){if(this.id){var t={rid:this.id};void 0!==e&&(t.data=e),this._respond(t)}},i.prototype.error=function(e,t){if(this.id){var r=n.dehydrateError(e),o={rid:this.id,error:r};void 0!==t&&(o.data=t),this._respond(o)}},i.prototype.callback=function(e,t){e?this.error(e,t):this.end(t)},e.exports.Response=i},550:function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},551:function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}},552:function(e,t,r){var n=r(527);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},553:function(e,t){e.exports=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}},554:function(e,t,r){var n=r(114),o=r(57);e.exports=function(e){return o(e)&&n(e)}},555:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return o.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return o.ActionCreators}}),Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return i.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return i.isHistory}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return i.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return i.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return i.combineFilters}}),Object.defineProperty(t,"groupByActionTypes",{enumerable:!0,get:function(){return i.groupByActionTypes}}),Object.defineProperty(t,"newHistory",{enumerable:!0,get:function(){return i.newHistory}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,o=r(556),i=r(557),a=(n=r(1293))&&n.__esModule?n:{default:n}},556:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionCreators=t.ActionTypes=void 0;var n={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionTypes=n;var o={undo:function(){return{type:n.UNDO}},redo:function(){return{type:n.REDO}},jumpToFuture:function(e){return{type:n.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:n.JUMP_TO_PAST,index:e}},jump:function(e){return{type:n.JUMP,index:e}},clearHistory:function(){return{type:n.CLEAR_HISTORY}}};t.ActionCreators=o},557:function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=n,t.isHistory=function(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)},t.includeAction=function(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0}},t.excludeAction=function(e){var t=n(e);return function(e){return t.indexOf(e.type)<0}},t.combineFilters=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return function(r,n,o){return e(r,n,o)&&t(r,n,o)}}),(function(){return!0}))},t.groupByActionTypes=function(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}},t.newHistory=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:t,future:r,group:n,_latestUnfiltered:t,index:e.length,limit:e.length+r.length+1}}},558:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.focusIsEditable=function(){return"INPUT"==document.activeElement.tagName||!(!document.activeElement.dataset.slateEditor||"true"!=document.activeElement.dataset.slateEditor)}},56:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectType=function(e){return Object.prototype.toString.call(e).slice(8,-1)};var n=function(e){return function(r){return t.getObjectType(r)===e}},o=function(e){return function(t){return typeof t===e}},i=function(e){switch(e){case null:return"null";case!0:case!1:return"boolean"}switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"bigint":return"bigint";case"symbol":return"symbol"}if(i.array(e))return"Array";if(i.function(e))return"Function";var r=t.getObjectType(e);return r||"Object"};i.array=Array.isArray,i.arrayOf=function(e,t){return!(!i.array(e)&&!i.function(t))&&e.every((function(e){return t(e)}))},i.asyncFunction=n("AsyncFunction"),i.boolean=function(e){return!0===e||!1===e},i.date=n("Date"),i.defined=function(e){return!i.undefined(e)},i.domElement=function(e){return i.object(e)&&!i.plainObject(e)&&1===e.nodeType&&i.string(e.nodeName)&&["innerHTML","ownerDocument","style","attributes","nodeValue"].every((function(t){return t in e}))},i.empty=function(e){return i.string(e)&&0===e.length||i.array(e)&&0===e.length||i.object(e)&&!i.map(e)&&!i.set(e)&&0===Object.keys(e).length||i.set(e)&&0===e.size||i.map(e)&&0===e.size},i.error=n("Error"),i.function=n("Function"),i.generator=function(e){return i.iterable(e)&&i.function(e.next)&&i.function(e.throw)},i.generatorFunction=n("GeneratorFunction"),i.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},i.iterable=function(e){return!i.nullOrUndefined(e)&&i.function(e[Symbol.iterator])},i.map=n("Map"),i.nan=function(e){return Number.isNaN(e)},i.null=function(e){return null===e},i.nullOrUndefined=function(e){return i.null(e)||i.undefined(e)},i.number=function(e){return o("number")(e)&&!i.nan(e)},i.numericString=function(e){return i.string(e)&&e.length>0&&!Number.isNaN(Number(e))},i.object=function(e){return!i.nullOrUndefined(e)&&(i.function(e)||"object"==typeof e)},i.oneOf=function(e,t){return!!i.array(e)&&e.indexOf(t)>-1},i.plainObject=function(e){if("Object"!==t.getObjectType(e))return!1;var r=Object.getPrototypeOf(e);return null===r||r===Object.getPrototypeOf({})},i.promise=n("Promise"),i.propertyOf=function(e,t,r){if(!i.object(e)||!t)return!1;var n=e[t];return i.function(r)?r(n):i.defined(n)},i.regexp=n("RegExp"),i.set=n("Set"),i.string=o("string"),i.symbol=o("symbol"),i.undefined=o("undefined"),i.weakMap=n("WeakMap"),i.weakSet=n("WeakSet"),t.default=i},560:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var n=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var r=window.getComputedStyle(e);return t?"visible"!==r.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==r.getPropertyValue("display")}function i(e,t){var r=e.nodeName.toLowerCase();return(n.test(r)&&!e.disabled||"a"===r&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var r=isNaN(t);return(r||t>=0)&&i(e,!r)}e.exports=t.default},561:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"==typeof t&&a.canUseDOM){var r=document.querySelectorAll(t);l(r,t),t=r}return s=t||s},t.validateElement=c,t.hide=function(e){var t=!0,r=!1,n=void 0;try{for(var o,i=c(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.setAttribute("aria-hidden","true")}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}},t.show=function(e){var t=!0,r=!1,n=void 0;try{for(var o,i=c(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.removeAttribute("aria-hidden")}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var n,o=r(1301),i=(n=o)&&n.__esModule?n:{default:n},a=r(324);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},562:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var r=t.openInstances.indexOf(e);-1!==r&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(r){return r(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=n,e.exports=t.default},619:function(e,t,r){(function(e){var n;/*! https://mths.be/esrever v0.2.0 by @mathias */!function(o){var i=t,a=(e&&e.exports,"object"==typeof global&&global);a.global!==a&&a.window;var s=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,l=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,c=function(e){for(var t="",r=(e=e.replace(s,(function(e,t,r){return c(r)+t})).replace(l,"$2$1")).length;r--;)t+=e.charAt(r);return t},u={version:"0.2.0",reverse:c};void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n)}()}).call(this,r(59)(e))},62:function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function a(e,t,r){return e.concat(t).map((function(e){return i(e,r)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t){try{return t in e}catch(e){return!1}}function c(e,t,r){var n={};return r.isMergeableObject(e)&&s(e).forEach((function(t){n[t]=i(e[t],r)})),s(t).forEach((function(o){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(l(e,o)&&r.isMergeableObject(t[o])?n[o]=function(e,t){if(!t.customMerge)return u;var r=t.customMerge(e);return"function"==typeof r?r:u}(o,r)(e[o],t[o],r):n[o]=i(t[o],r))})),n}function u(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(t);return o===Array.isArray(e)?o?r.arrayMerge(e,t,r):c(e,t,r):i(t,r)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return u(e,r,t)}),{})};var d=u;e.exports=d},621:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1208),o=r(1209);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return"number"==typeof e}))}t.default=function(e,t){if(!e||!t)throw new Error("Missing required parameters");return{changed:function(r){var i=o.get(e,r),a=o.get(t,r);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(Array.isArray)}(i,a)||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){if(!e)return!1;var t=Object.getPrototypeOf(e);return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&(null===t||t===Object.getPrototypeOf({}))}))}(i,a)?!!n.diff(i,a):i!==a},changedFrom:function(r,n,i){if(void 0===r)throw new Error("Key parameter is required");var a=void 0!==n&&void 0!==i,s=o.get(e,r),l=o.get(t,r),c=Array.isArray(n)?n.indexOf(s)>=0:s===n,u=Array.isArray(i)?i.indexOf(l)>=0:l===i;return c&&(a?u:!a)},changedTo:function(r,n){if(void 0===r)throw new Error("Key parameter is required");var i=o.get(e,r),a=o.get(t,r),s=Array.isArray(n)?n.indexOf(i)<0:i!==n,l=Array.isArray(n)?n.indexOf(a)>=0:a===n;return s&&l},increased:function(r){if(void 0===r)throw new Error("Key parameter is required");return i(o.get(e,r),o.get(t,r))&&o.get(e,r)<o.get(t,r)},decreased:function(r){if(void 0===r)throw new Error("Key parameter is required");return i(o.get(e,r),o.get(t,r))&&o.get(e,r)>o.get(t,r)}}}},622:function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},623:function(e,t){var r=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),o=Math.min,i=Date.now;function a(e){return function(t,a,c,u){"function"==typeof(c=c||{})&&(u=c,c={}),"function"!=typeof u&&(u=l);var d=i(),p=t[e],f=c.ease||s,h=isNaN(c.duration)?350:+c.duration,m=!1;return p===a?u(r,t[e]):requestAnimationFrame((function r(s){if(m)return u(n,t[e]);var l=i(),c=o(1,(l-d)/h),g=f(c);t[e]=g*(a-p)+p,c<1?requestAnimationFrame(r):requestAnimationFrame((function(){u(null,t[e])}))})),function(){m=!0}}}function s(e){return.5*(1-Math.cos(Math.PI*e))}function l(){}e.exports={left:a("scrollLeft"),top:a("scrollTop")}},624:function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},625:function(e,t,r){"use strict";(function(e){var t=A(r(25)),n=A(r(21)),o=A(r(2)),i=r(10),a=r(22),s=r(7),l=A(r(647)),c=r(544),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=P();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(17)),d=r(11),p=A(r(67)),f=r(322),h=A(r(323)),m=A(r(559)),g=A(r(33)),b=A(r(1296)),v=A(r(46)),y=A(r(310)),w=r(555),E=r(20),_=r(325),x=r(1304),O=r(230),S=r(326),C=r(558),T=r(1305),k=A(r(307));function P(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return P=function(){return e},e}function A(e){return e&&e.__esModule?e:{default:e}}const{app:I,dialog:j}=u.remote,R=u.remote.getCurrentWindow();(0,s.setupI18n)(v.default,{electron:u.default}),r(563).config({path:n.default.resolve(e,"..",".env")});const D=(0,h.default)("app.html");process.on("uncaughtException",e=>{g.default.error(e),D.error(e)}),(0,f.ensureBackupTodayPath)(),b.default.setAppElement("#react-root");const N=document.getElementById("react-root");function M(e,r,n){(0,m.default)(),R.setTitle((0,_.displayFileName)(e)),R.setRepresentedFilename(e);const{darkMode:s,beatHierarchy:u}=r;try{const r=JSON.parse(t.default.readFileSync(e,"utf-8"));(0,f.saveBackup)(e,r,t=>{t?(g.default.warn("[file open backup]",t),D.error({message:"BACKUP failed"}),D.warn(t,{fileName:e})):g.default.info("[file open backup]","success",e)}),(0,d.migrateIfNeeded)(I.getVersion(),r,e,null,(t,r,f)=>{t&&(D.error(t),g.default.error(t)),c.store.dispatch(d.actions.ui.loadFile(e,r,f,f.file.version)),p.default.projectEventStats("open_file",{online:navigator.onLine,version:f.file.version,number_open:n},f),f.ui&&f.ui.darkMode!==s&&c.store.dispatch(d.actions.ui.setDarkMode(s)),s&&(window.document.body.className="darkmode");const h=(0,T.dispatchingToStore)(c.store.dispatch);(0,T.makeFlagConsistent)(f,u,d.featureFlags.BEAT_HIERARCHY_FLAG,h(d.actions.featureFlags.setBeatHierarchy),h(d.actions.featureFlags.unsetBeatHierarchy)),f&&f.tour&&f.tour.showTour&&c.store.dispatch(d.actions.ui.changeOrientation("horizontal")),(0,i.render)(o.default.createElement(a.Provider,{store:c.store},o.default.createElement(l.default,{showTour:f&&f.tour&&f.tour.showTour})),N)})}catch(e){g.default.error(e),D.error(e)}}window.specialDelivery=e=>{c.store.dispatch(e)},u.ipcRenderer.on("state-saved",e=>{}),u.ipcRenderer.send("pls-fetch-state",R.id),u.ipcRenderer.on("state-fetched",(e,t,r,n)=>{M(t,r,n)}),u.ipcRenderer.on("reload-from-file",(e,t,r,n)=>{M(t,r,n)}),u.ipcRenderer.on("set-dark-mode",(e,t)=>{c.store.dispatch(d.actions.ui.setDarkMode(t)),window.document.body.className=t?"darkmode":""}),u.ipcRenderer.on("set-beat-hierarchy",e=>{c.store.dispatch(d.actions.featureFlags.setBeatHierarchy())}),u.ipcRenderer.on("unset-beat-hierarchy",e=>{c.store.dispatch(d.actions.featureFlags.unsetBeatHierarchy())}),u.ipcRenderer.on("save-custom-template",(e,t)=>{const r=c.store.getState();(0,x.addNewCustomTemplate)(r.present,t)}),u.ipcRenderer.on("export-file-from-menu",(e,{type:t})=>{const r=c.store.getState(),{ui:n,series:{name:o},books:i}=r.present,a=n.currentTimeline,l="series"==a?o+" "+(0,s.t)("(Series View)"):i[""+a].title;(0,y.default)(l,r.present,t,k.default[t],(e,t)=>{if(e)return g.default.error(e),void j.showErrorBox((0,s.t)("Error"),(0,s.t)("There was an error doing that. Try again"))})}),u.ipcRenderer.on("save",()=>{const{present:e}=c.store.getState();(0,O.saveFile)(e.file.fileName,e)}),u.ipcRenderer.on("save-as",()=>{const{present:e}=c.store.getState(),t=n.default.basename(e.file.fileName).replace(".pltr",""),r=j.showSaveDialogSync(R,{filters:[{name:"Plottr file",extensions:["pltr"]}],title:(0,s.t)("Where would you like to save this copy?"),defaultPath:t});if(r){let t=r.includes(".pltr")?r:r+".pltr";(0,O.saveFile)(t,e),u.ipcRenderer.send("pls-open-window",t,!0)}}),u.ipcRenderer.on("move-from-temp",()=>{const{present:e}=c.store.getState(),t=j.showSaveDialogSync(R,{filters:[{name:"Plottr file",extensions:["pltr"]}],title:(0,s.t)("Where would you like to save this file?")});t&&(c.store.dispatch(d.actions.ui.editFileName(t)),(0,S.removeFromTempFiles)(e.file.fileName),(0,_.editKnownFilePath)(e.file.fileName,t),R.setRepresentedFilename(t),R.setTitle((0,_.displayFileName)(t)),u.ipcRenderer.send("pls-tell-dashboard-to-reload-recents"))}),u.ipcRenderer.on("undo",e=>{if((0,C.focusIsEditable)()){R.webContents.undo();const e=E.editorRegistry.getEditor(document.activeElement);null!=e&&e.undo()}else c.store.dispatch(w.ActionCreators.undo())}),u.ipcRenderer.on("redo",e=>{if((0,C.focusIsEditable)()){R.webContents.redo();const e=E.editorRegistry.getEditor(document.activeElement);null!=e&&e.redo()}else c.store.dispatch(w.ActionCreators.redo())}),u.ipcRenderer.on("acts-tour-start",e=>{R.close();const{present:t}=c.store.getState(),r=t.file.fileName;c.store.dispatch(d.actions.tour.setTourFeature({name:"acts",id:1,endStep:8})),u.ipcRenderer.send("pls-open-window",r,!0)}),window.onerror=function(e,t,r,n,o){g.default.error(o),D.error(o)},window.SCROLLWITHKEYS=!0,document.addEventListener("keydown",e=>{if(window.SCROLLWITHKEYS){const t=document.querySelector(".sticky-table");if(t)if("ArrowUp"===e.key){let r=300;(e.metaKey||e.ctrlKey||e.altKey)&&(r=800),t.scrollTop-=r}else if("ArrowRight"===e.key){let r=400;(e.metaKey||e.ctrlKey||e.altKey)&&(r=800),t.scrollLeft+=r}else if("ArrowDown"===e.key){let r=300;(e.metaKey||e.ctrlKey||e.altKey)&&(r=800),t.scrollTop+=r}else if("ArrowLeft"===e.key){let r=400;(e.metaKey||e.ctrlKey||e.altKey)&&(r=800),t.scrollLeft-=r}}}),window.logger=function(e){process.env.LOGGER=e.toString()}}).call(this,"/")},647:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(17),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),i=h(r(12)),a=h(r(648)),s=h(r(1114)),l=h(r(1245)),c=r(20),u=r(543),d=r(230),p=r(544),f=r(558);function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let b=!1,v=!1;class y extends o.Component{constructor(...e){super(...e),g(this,"state",{showTemplateCreate:!1,type:null,showAskToSave:!1,blockClosing:!0,showTour:this.props.showTour}),g(this,"askToSave",e=>{if(this.state.blockClosing){if((0,f.focusIsEditable)(),!(0,u.hasPreviousAction)())return this.setState({blockClosing:!1}),this.closeOrRefresh(v);e.returnValue="nope",this.setState({showAskToSave:!0})}}),g(this,"dontSaveAndClose",()=>{this.setState({showAskToSave:!1,blockClosing:!1}),this.closeOrRefresh(!0)}),g(this,"saveAndClose",()=>{this.setState({showAskToSave:!1,blockClosing:!1});const{present:e}=p.store.getState();(0,d.saveFile)(e.file.fileName,e),this.closeOrRefresh(!0)}),g(this,"closeOrRefresh",e=>{b?location.reload():e&&window.close()})}componentDidMount(){n.ipcRenderer.on("save-as-template-start",(e,t)=>{this.setState({showTemplateCreate:!0,type:t})}),n.ipcRenderer.on("reload",()=>{b=!0,this.askToSave({})}),n.ipcRenderer.on("wants-to-close",()=>{v=!0,this.askToSave({})}),n.ipcRenderer.on("reload",()=>{b=!0,this.askToSave({})}),window.addEventListener("beforeunload",this.askToSave)}componentWillUnmount(){n.ipcRenderer.removeAllListeners("save-as-template-start"),n.ipcRenderer.removeAllListeners("reload"),n.ipcRenderer.removeAllListeners("wants-to-close"),window.removeEventListener("beforeunload",this.askToSave)}renderTemplateCreate(){return this.state.showTemplateCreate?o.default.createElement(c.TemplateCreate,{type:this.state.type,close:()=>this.setState({showTemplateCreate:!1})}):null}renderAskToSave(){return this.state.showAskToSave?o.default.createElement(c.AskToSaveModal,{dontSave:this.dontSaveAndClose,save:this.saveAndClose,cancel:()=>this.setState({showAskToSave:!1})}):null}renderGuidedTour(){let e=p.store.getState().present.tour.feature.name;return e&&p.store.getState().present.featureFlags.BEAT_HIERARCHY&&e?o.default.createElement(l.default,null):null}render(){return o.default.createElement(c.ErrorBoundary,null,o.default.createElement(c.ErrorBoundary,null,o.default.createElement(a.default,null)),o.default.createElement("main",{className:"project-main tour-end"},o.default.createElement(s.default,null)),this.renderTemplateCreate(),this.renderAskToSave(),this.state.showTour&&this.renderGuidedTour())}}t.default=y,y.propTypes={showTour:i.default.bool}},648:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),o=m(r(12)),i=r(24),a=r(22),s=r(18),l=m(r(722)),c=r(7),u=r(17),d=r(20),p=m(r(46)),f=r(11),h=r(81);function m(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}const b=p.default.get("trialMode");class v extends n.Component{constructor(...e){var t,r,n;super(...e),n=e=>{this.props.actions.changeCurrentView(e)},(r="handleSelect")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}renderTrialLinks(){return b?n.default.createElement(s.Navbar.Form,{pullRight:!0,style:{marginRight:"15px"}},n.default.createElement(s.Button,{bsStyle:"link",onClick:()=>u.ipcRenderer.send("open-buy-window")},n.default.createElement(h.FaKey,null)," ",(0,c.t)("Get a License"))):null}render(){const{ui:e}=this.props;return n.default.createElement(s.Navbar,{className:"project-nav",fluid:!0,inverse:e.darkMode},n.default.createElement(s.Nav,{onSelect:this.handleSelect,activeKey:e.currentView,bsStyle:"pills"},n.default.createElement(l.default,null),n.default.createElement(s.NavItem,{eventKey:"project"},(0,c.t)("Project")),n.default.createElement(s.NavItem,{eventKey:"timeline"},(0,c.t)("Timeline")),n.default.createElement(s.NavItem,{eventKey:"outline"},(0,c.t)("Outline")),n.default.createElement(s.NavItem,{eventKey:"notes"},(0,c.t)("Notes")),n.default.createElement(s.NavItem,{eventKey:"characters"},(0,c.t)("Characters")),n.default.createElement(s.NavItem,{eventKey:"places"},(0,c.t)("Places")),n.default.createElement(s.NavItem,{eventKey:"tags"},(0,c.t)("Tags")),null),n.default.createElement(d.Beamer,{inNavigation:!0}),this.renderTrialLinks())}}v.propTypes={ui:o.default.object.isRequired,actions:o.default.object.isRequired};var y=(0,a.connect)((function(e){return{ui:e.present.ui}}),(function(e){return{actions:(0,i.bindActionCreators)(f.actions.ui,e)}}))(v);t.default=y},69:function(e,t){e.exports=require("http")},70:function(e,t){e.exports=require("querystring")},722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2)),i=(n=r(12))&&n.__esModule?n:{default:n},a=r(22),s=r(24),l=r(18),c=r(7),u=r(11);function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{books:{isSeries:f}}=u.helpers,h=u.actions.ui,m=["notes","characters","places","tags"];class g extends o.Component{constructor(...e){super(...e),p(this,"isDisabled",()=>m.includes(this.props.ui.currentView)),p(this,"bookTitle",e=>e.title||(0,c.t)("Untitled"))}handleChange(e){this.props.actions.changeCurrentTimeline(e),"story"==this.props.ui.currentView&&this.props.actions.changeCurrentView("timeline")}renderBookList(){const{books:e}=this.props;return e.allIds.map(t=>{const r=e[t]||e[""+t];return o.default.createElement(l.MenuItem,{key:t,onSelect:()=>this.handleChange(t)},this.bookTitle(r))})}render(){const{ui:e,books:t,series:r}=this.props,n=""==r.name?(0,c.t)("Series View"):`${r.name} (${(0,c.t)("Series View")})`;let i=n;return f(e.currentTimeline)||(i=this.bookTitle(t[e.currentTimeline])),o.default.createElement(l.NavDropdown,{id:"book_chooser",title:i,disabled:this.isDisabled(),style:{margin:"0 16px 0 8px"}},o.default.createElement(l.MenuItem,{onSelect:()=>this.handleChange("series")},n),o.default.createElement(l.MenuItem,{divider:!0}),this.renderBookList())}}p(g,"propTypes",{ui:i.default.object.isRequired,books:i.default.object.isRequired,series:i.default.object.isRequired,actions:i.default.object.isRequired});var b=(0,a.connect)((function(e){return{ui:e.present.ui,books:e.present.books,series:e.present.series}}),(function(e){return{actions:(0,s.bindActionCreators)(h,e)}}))(g);t.default=b},82:function(e,t,r){
/*!
 * node-inherit
 * Copyright(c) 2011 Dmitry Filatov <dfilatov@yandex-team.ru>
 * MIT Licensed
 */
e.exports=r(1134)},83:function(e,t,r){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=139)}([function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(140)),n(r(141)),n(r(53)),n(r(142)),n(r(158)),n(r(159)),n(r(25))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(51)),n(r(216)),n(r(21)),n(r(3)),n(r(37)),n(r(231))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(89)),n(r(90)),n(r(91)),n(r(92)),n(r(93)),n(r(239)),n(r(94))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(17)),n(r(9)),n(r(162)),n(r(163)),n(r(165)),n(r(34)),n(r(213)),n(r(19)),n(r(33)),n(r(215))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(15),o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var i=r(14);i.inherits=r(7);var a=r(57),s=r(29);i.inherits(d,a);for(var l=o(s.prototype),c=0;c<l.length;c++){var u=l[c];d.prototype[u]||(d.prototype[u]=s.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(144),o=r(145),i=r(55);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),o=(e=s(e,n)).write(t,r);return o!==n&&(e=e.slice(0,o)),e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(r+l>s&&(r=s-l),i=r;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function y(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return z(F(t,e.length-r),e,r,n)}function E(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return E(e,t,r,n)}function x(e,t,r,n){return z(U(t),e,r,n)}function O(e,t,r,n){return z(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function P(e,t,r){var n,o=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>o)&&(r=o);for(var i="",a=t;a<r;++a)i+=(n=e[a])<16?"0"+n.toString(16):n.toString(16);return i}function A(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function N(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,i){return i||N(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,i){return i||N(e,0,r,8),o.write(e,t,r,n,52,8),r+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,o),u=e.slice(t,r),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;r=new l(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||j(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||j(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);j(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);j(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=l.isBuffer(e)?e:F(new l(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function F(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(t,r(4))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DEFAULT="default",e.PRESERVE="preserve"}(t.SpaceType||(t.SpaceType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(33),i=r(68),a=r(34),s=r(69),l=r(70),c=r(19);class u extends n.IgnoreIfEmptyXmlComponent{constructor(e){if(super("w:rPr"),!e)return;e.bold&&this.push(new i.Bold),(void 0===e.boldComplexScript&&e.bold||e.boldComplexScript)&&this.push(new i.BoldComplexScript),e.italics&&this.push(new i.Italics),(void 0===e.italicsComplexScript&&e.italics||e.italicsComplexScript)&&this.push(new i.ItalicsComplexScript),e.underline&&this.push(new c.Underline(e.underline.type,e.underline.color)),e.emphasisMark&&this.push(new o.EmphasisMark(e.emphasisMark.type)),e.color&&this.push(new i.Color(e.color)),e.size&&this.push(new i.Size(e.size));const t=void 0===e.sizeComplexScript||!0===e.sizeComplexScript?e.size:e.sizeComplexScript;t&&this.push(new i.SizeComplexScript(t)),e.rightToLeft&&this.push(new i.RightToLeft),e.smallCaps&&this.push(new i.SmallCaps),e.allCaps&&this.push(new i.Caps),e.strike&&this.push(new i.Strike),e.doubleStrike&&this.push(new i.DoubleStrike),e.subScript&&this.push(new s.SubScript),e.superScript&&this.push(new s.SuperScript),e.style&&this.push(new l.Style(e.style)),e.font&&("string"==typeof e.font?this.push(new a.RunFonts(e.font)):"name"in e.font?this.push(new a.RunFonts(e.font.name,e.font.hint)):this.push(new a.RunFonts(e.font))),e.highlight&&this.push(new i.Highlight(e.highlight));const r=void 0===e.highlightComplexScript||!0===e.highlightComplexScript?e.highlight:e.highlightComplexScript;r&&this.push(new i.HighlightComplexScript(r)),e.characterSpacing&&this.push(new i.CharacterSpacing(e.characterSpacing));const n=e.shading||e.shadow;n&&this.push(new i.Shading(n.type,n.fill,n.color));const u=void 0===e.shadingComplexScript||!0===e.shadingComplexScript?n:e.shadingComplexScript;u&&this.push(new i.ShadowComplexScript(u.type,u.fill,u.color))}push(e){this.root.push(e)}}t.RunProperties=u},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(265)),n(r(38))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"}}}t.DocumentAttributes=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(1)),n(r(262)),n(r(280)),n(r(339)),n(r(133)),n(r(50)),n(r(72)),n(r(114)),n(r(23)),n(r(340)),n(r(0)),n(r(49)),n(r(46)),n(r(132)),n(r(131)),n(r(347))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,r(6).Buffer)},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,o)}));default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(t,r(13))},function(e,t,r){var n=r(6),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a),i(o,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(67),i=r(18),a=r(161),s=r(9),l=r(71);var c;!function(e){e.CURRENT="CURRENT",e.TOTAL_PAGES="TOTAL_PAGES",e.TOTAL_PAGES_IN_SECTION="TOTAL_PAGES_IN_SECTION"}(c=t.PageNumber||(t.PageNumber={}));class u extends n.XmlComponent{constructor(e){if(super("w:r"),this.properties=new s.RunProperties(e),this.root.push(this.properties),e.children)for(const t of e.children)if("string"!=typeof t)this.root.push(t);else switch(t){case c.CURRENT:this.root.push(new i.Begin),this.root.push(new a.Page),this.root.push(new i.Separate),this.root.push(new i.End);break;case c.TOTAL_PAGES:this.root.push(new i.Begin),this.root.push(new a.NumberOfPages),this.root.push(new i.Separate),this.root.push(new i.End);break;case c.TOTAL_PAGES_IN_SECTION:this.root.push(new i.Begin),this.root.push(new a.NumberOfPagesSection),this.root.push(new i.Separate),this.root.push(new i.End);break;default:this.root.push(new l.Text(t))}else e.text&&this.root.push(new l.Text(e.text));if(e.break)for(let t=0;t<e.break;t++)this.root.splice(1,0,new o.Break)}}t.Run=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var o;!function(e){e.BEGIN="begin",e.END="end",e.SEPARATE="separate"}(o||(o={}));class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:fldCharType",dirty:"w:dirty"}}}class a extends n.XmlComponent{constructor(e){super("w:fldChar"),this.root.push(new i({type:o.BEGIN,dirty:e}))}}t.Begin=a;class s extends n.XmlComponent{constructor(e){super("w:fldChar"),this.root.push(new i({type:o.SEPARATE,dirty:e}))}}t.Separate=s;class l extends n.XmlComponent{constructor(e){super("w:fldChar"),this.root.push(new i({type:o.END,dirty:e}))}}t.End=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var o;!function(e){e.SINGLE="single",e.WORDS="words",e.DOUBLE="double",e.THICK="thick",e.DOTTED="dotted",e.DOTTEDHEAVY="dottedHeavy",e.DASH="dash",e.DASHEDHEAVY="dashedHeavy",e.DASHLONG="dashLong",e.DASHLONGHEAVY="dashLongHeavy",e.DOTDASH="dotDash",e.DASHDOTHEAVY="dashDotHeavy",e.DOTDOTDASH="dotDotDash",e.DASHDOTDOTHEAVY="dashDotDotHeavy",e.WAVE="wave",e.WAVYHEAVY="wavyHeavy",e.WAVYDOUBLE="wavyDouble"}(o=t.UnderlineType||(t.UnderlineType={}));class i extends n.XmlComponent{constructor(e,t){super("w:u"),this.root.push(new n.Attributes({val:e,color:t}))}}t.BaseUnderline=i,t.Underline=class extends i{constructor(e=o.SINGLE,t){super(e,t)}},t.DashUnderline=class extends i{constructor(){super("dash")}},t.DashDotDotHeavyUnderline=class extends i{constructor(){super("dashDotDotHeavy")}},t.DashDotHeavyUnderline=class extends i{constructor(){super("dashDotHeavy")}},t.DashLongUnderline=class extends i{constructor(){super("dashLong")}},t.DashLongHeavyUnderline=class extends i{constructor(){super("dashLongHeavy")}},t.DotDashUnderline=class extends i{constructor(){super("dotDash")}},t.DotDotDashUnderline=class extends i{constructor(){super("dotDotDash")}},t.DottedUnderline=class extends i{constructor(){super("dotted")}},t.DottedHeavyUnderline=class extends i{constructor(){super("dottedHeavy")}},t.DoubleUnderline=class extends i{constructor(){super("double")}},t.SingleUnderline=class extends i{constructor(){super("single")}},t.ThickUnderline=class extends i{constructor(){super("thick")}},t.WaveUnderline=class extends i{constructor(){super("wave")}},t.WavyDoubleUnderline=class extends i{constructor(){super("wavyDouble")}},t.WavyHeavyUnderline=class extends i{constructor(){super("wavyHeavy")}},t.WordsUnderline=class extends i{constructor(){super("words")}}},function(e,t,r){"use strict";var n,o,i,a=r(221),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function l(){i=!1}function c(e){if(e){if(e!==n){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));n=e,l()}}else n!==s&&(n=s,l())}function u(){return i||(i=function(){n||c(s);for(var e,t=n.split(""),r=[],o=a.nextValue();t.length>0;)o=a.nextValue(),e=Math.floor(o*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}e.exports={get:function(){return n||s},characters:function(e){return c(e),n},seed:function(e){a.seed(e),o!==e&&(l(),o=e)},lookup:function(e){return u()[e]},shuffled:u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(52),i=r(230),a=r(63),s=r(64),l=r(65),c=r(66),u=r(82),d=r(83),p=r(84),f=r(85),h=r(37),m=r(68);class g extends n.IgnoreIfEmptyXmlComponent{constructor(e){if(super("w:pPr"),e){if(e.border&&this.push(new a.Border(e.border)),e.spacing&&this.push(new u.Spacing(e.spacing)),void 0!==e.outlineLevel&&this.push(new h.OutlineLevel(e.outlineLevel)),e.alignment&&this.push(new o.Alignment(e.alignment)),e.heading&&this.push(new d.Style(e.heading)),e.bidirectional&&this.push(new i.Bidirectional),e.thematicBreak&&this.push(new a.ThematicBreak),e.pageBreakBefore&&this.push(new c.PageBreakBefore),e.contextualSpacing&&this.push(new u.ContextualSpacing(e.contextualSpacing)),e.indent&&this.push(new s.Indent(e.indent)),e.keepLines&&this.push(new l.KeepLines),e.keepNext&&this.push(new l.KeepNext),e.tabStops)for(const t of e.tabStops)this.push(new p.TabStop(t.type,t.position,t.leader));e.style&&this.push(new d.Style(e.style)),e.bullet&&(this.push(new d.Style("ListParagraph")),this.push(new f.NumberProperties(1,e.bullet.level))),e.numbering&&(e.numbering.custom||this.push(new d.Style("ListParagraph")),this.push(new f.NumberProperties(e.numbering.reference,e.numbering.level))),e.rightTabStop&&this.push(new p.TabStop(p.TabStopType.RIGHT,e.rightTabStop)),e.leftTabStop&&this.push(new p.TabStop(p.TabStopType.LEFT,e.leftTabStop)),e.shading&&this.push(new m.Shading(e.shading.type,e.shading.fill,e.shading.color))}}push(e){this.root.push(e)}}t.ParagraphProperties=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(257),i=r(258);class a extends n.XmlComponent{constructor(e){super("m:dPr"),e&&(this.root.push(new o.MathBeginningCharacter(e.beginningCharacter)),this.root.push(new i.MathEndingCharacter(e.endingCharacter)))}}t.MathBracketProperties=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(271)),n(r(43)),n(r(42)),n(r(106))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(51),i=r(21),a=r(9);!function(e){e.BULLET="bullet",e.CARDINAL_TEXT="cardinalText",e.CHICAGO="chicago",e.DECIMAL="decimal",e.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",e.DECIMAL_ENCLOSED_FULLSTOP="decimalEnclosedFullstop",e.DECIMAL_ENCLOSED_PARENTHESES="decimalEnclosedParen",e.DECIMAL_ZERO="decimalZero",e.LOWER_LETTER="lowerLetter",e.LOWER_ROMAN="lowerRoman",e.NONE="none",e.ORDINAL_TEXT="ordinalText",e.UPPER_LETTER="upperLetter",e.UPPER_ROMAN="upperRoman"}(t.LevelFormat||(t.LevelFormat={}));class s extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl",tentative:"w15:tentative"}}}class l extends n.XmlComponent{constructor(e){super("w:start"),this.root.push(new n.Attributes({val:e}))}}class c extends n.XmlComponent{constructor(e){super("w:numFmt"),this.root.push(new n.Attributes({val:e}))}}class u extends n.XmlComponent{constructor(e){super("w:lvlText"),this.root.push(new n.Attributes({val:e}))}}class d extends n.XmlComponent{constructor(e){super("w:lvlJc"),this.root.push(new n.Attributes({val:e}))}}!function(e){e.NOTHING="nothing",e.SPACE="space",e.TAB="tab"}(t.LevelSuffix||(t.LevelSuffix={}));class p extends n.XmlComponent{constructor(e){super("w:suff"),this.root.push(new n.Attributes({val:e}))}}class f extends n.XmlComponent{constructor({level:e,format:t,text:r,alignment:n=o.AlignmentType.START,start:f=1,style:h,suffix:m}){super("w:lvl"),this.root.push(new s({ilvl:e,tentative:1})),this.root.push(new l(f)),this.root.push(new d(n)),t&&this.root.push(new c(t)),r&&this.root.push(new u(r)),this.paragraphProperties=new i.ParagraphProperties(h&&h.paragraph),this.runProperties=new a.RunProperties(h&&h.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),m&&this.root.push(new p(m))}}t.LevelBase=f,t.Level=class extends f{constructor(e){super(e)}},t.LevelForOverride=class extends f{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseXmlComponent=class{constructor(e){this.deleted=!1,this.rootKey=e}get IsDeleted(){return this.deleted}}},function(e,t,r){var n=r(54),o=r(156),i=r(62),a=r(157);e.exports={xml2js:n,xml2json:o,js2xml:i,json2xml:a}},function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var o,i,a,s;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=d.bind(n);return o.listener=r,n.wrapFn=o,o}function f(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):m(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=m(l,c);for(r=0;r<c;++r)i(u[r],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,o,i,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){(t=e.exports=r(57)).Stream=t,t.Readable=t,t.Writable=r(29),t.Duplex=r(5),t.Transform=r(61),t.PassThrough=r(151)},function(e,t,r){"use strict";(function(t,n,o){var i=r(15);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:i.nextTick;v.WritableState=b;var c=r(14);c.inherits=r(7);var u,d={deprecate:r(150)},p=r(58),f=r(16).Buffer,h=o.Uint8Array||function(){},m=r(59);function g(){}function b(e,t){s=s||r(5),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,c=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(O,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),O(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),n?l(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(e){if(s=s||r(5),!(u.call(v,this)||this instanceof s))return new v(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),p.call(this)}function y(e,t,r,n,o,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),O(e,t)}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var s=0,l=!0;r;)o[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;o.allBuffers=l,y(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,d=r.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(v,p),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===v&&e&&e._writableState instanceof b}})):u=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,f.isBuffer(n)||n instanceof h);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,o,i){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,r)),t}(t,n,o);n!==a&&(r=!0,o="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,n,o,i);return l}(this,o,s,e,t,r)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,O(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,r(13),r(60).setImmediate,r(4))},function(e,t,r){"use strict";var n=r(16).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=a(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=a(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=a(t[n]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){var n=r(32).isArray;e.exports={copyOptions:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||"number"!=typeof e.spaces&&"string"!=typeof e.spaces)&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||n(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},function(e,t){e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var o;!function(e){e.DOT="dot"}(o=t.EmphasisMarkType||(t.EmphasisMarkType={}));class i extends n.XmlComponent{constructor(e){super("w:em"),this.root.push(new n.Attributes({val:e}))}}t.BaseEmphasisMark=i,t.EmphasisMark=class extends i{constructor(e=o.DOT){super(e)}},t.DotEmphasisMark=class extends i{constructor(){super(o.DOT)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"}}}class i extends n.XmlComponent{constructor(e,t){if(super("w:rFonts"),"string"==typeof e){const r=e;this.root.push(new o({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:t}))}else{const t=e;this.root.push(new o(t))}}}t.RunFonts=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CHARACTER="character",e.COLUMN="column",e.INSIDE_MARGIN="insideMargin",e.LEFT_MARGIN="leftMargin",e.MARGIN="margin",e.OUTSIDE_MARGIN="outsideMargin",e.PAGE="page",e.RIGHT_MARGIN="rightMargin"}(t.HorizontalPositionRelativeFrom||(t.HorizontalPositionRelativeFrom={})),function(e){e.BOTTOM_MARGIN="bottomMargin",e.INSIDE_MARGIN="insideMargin",e.LINE="line",e.MARGIN="margin",e.OUTSIDE_MARGIN="outsideMargin",e.PAGE="page",e.PARAGRAPH="paragraph",e.TOP_MARGIN="topMargin"}(t.VerticalPositionRelativeFrom||(t.VerticalPositionRelativeFrom={})),function(e){e.CENTER="center",e.INSIDE="inside",e.LEFT="left",e.OUTSIDE="outside",e.RIGHT="right"}(t.HorizontalPositionAlign||(t.HorizontalPositionAlign={})),function(e){e.BOTTOM="bottom",e.CENTER="center",e.INSIDE="inside",e.OUTSIDE="outside",e.TOP="top"}(t.VerticalPositionAlign||(t.VerticalPositionAlign={}))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(200)),n(r(201)),n(r(202)),n(r(203)),n(r(204))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(217)),n(r(219)),n(r(229))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={style:"w:val",size:"w:sz",color:"w:color"}}}class i extends n.XmlComponent{setProperties(e,t,r){const n=new o({style:e,size:t,color:r});return this.root.push(n),this}}class a extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:tcBorders")}addTopBorder(e,t,r){const n=new i("w:top");return n.setProperties(e,t,r),this.root.push(n),this}addStartBorder(e,t,r){const n=new i("w:start");return n.setProperties(e,t,r),this.root.push(n),this}addBottomBorder(e,t,r){const n=new i("w:bottom");return n.setProperties(e,t,r),this.root.push(n),this}addEndBorder(e,t,r){const n=new i("w:end");return n.setProperties(e,t,r),this.root.push(n),this}addLeftBorder(e,t,r){const n=new i("w:left");return n.setProperties(e,t,r),this.root.push(n),this}addRightBorder(e,t,r){const n=new i("w:right");return n.setProperties(e,t,r),this.root.push(n),this}}t.TableCellBorders=a;class s extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class l extends n.XmlComponent{constructor(e){super("w:gridSpan"),this.root.push(new s({val:e}))}}t.GridSpan=l,function(e){e.CONTINUE="continue",e.RESTART="restart"}(t.VerticalMergeType||(t.VerticalMergeType={}));class c extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class u extends n.XmlComponent{constructor(e){super("w:vMerge"),this.root.push(new c({val:e}))}}t.VerticalMerge=u,function(e){e.BOTTOM="bottom",e.CENTER="center",e.TOP="top"}(t.VerticalAlign||(t.VerticalAlign={}));class d extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class p extends n.XmlComponent{constructor(e){super("w:vAlign"),this.root.push(new d({val:e}))}}t.VAlign=p,function(e){e.BOTTOM_TO_TOP_LEFT_TO_RIGHT="btLr",e.LEFT_TO_RIGHT_TOP_TO_BOTTOM="lrTb",e.TOP_TO_BOTTOM_RIGHT_TO_LEFT="tbRl"}(t.TextDirection||(t.TextDirection={}));class f extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class h extends n.XmlComponent{constructor(e){super("w:textDirection"),this.root.push(new f({val:e}))}}t.TDirection=h,function(e){e.AUTO="auto",e.DXA="dxa",e.NIL="nil",e.PERCENTAGE="pct"}(t.WidthType||(t.WidthType={}));class m extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={width:"w:w",type:"w:type"}}}class g extends n.XmlComponent{constructor(e,t){super("w:tcW"),this.root.push(new m({width:e,type:t}))}}t.TableCellWidth=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(267))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(41);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"}}}class a extends n.XmlComponent{constructor(e,t){super("w:style"),this.root.push(new i(e)),t&&this.root.push(new o.Name(t))}}t.Style=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:name"),this.root.push(new o({val:e}))}}t.Name=i;class a extends n.XmlComponent{constructor(e){super("w:basedOn"),this.root.push(new o({val:e}))}}t.BasedOn=a;class s extends n.XmlComponent{constructor(e){super("w:next"),this.root.push(new o({val:e}))}}t.Next=s;class l extends n.XmlComponent{constructor(e){super("w:link"),this.root.push(new o({val:e}))}}t.Link=l;class c extends n.XmlComponent{constructor(e){super("w:uiPriority"),this.root.push(new o({val:e}))}}t.UiPriority=c;class u extends n.XmlComponent{constructor(){super("w:unhideWhenUsed")}}t.UnhideWhenUsed=u;class d extends n.XmlComponent{constructor(){super("w:qFormat")}}t.QuickFormat=d;class p extends n.XmlComponent{}t.TableProperties=p;class f extends n.XmlComponent{}t.RsId=f;class h extends n.XmlComponent{constructor(){super("w:semiHidden")}}t.SemiHidden=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(9),i=r(41),a=r(40);class s extends a.Style{constructor(e){super({type:"paragraph",styleId:e.id},e.name),this.paragraphProperties=new n.ParagraphProperties(e.paragraph),this.runProperties=new o.RunProperties(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e.basedOn&&this.root.push(new i.BasedOn(e.basedOn)),e.next&&this.root.push(new i.Next(e.next)),e.quickFormat&&this.root.push(new i.QuickFormat),e.link&&this.root.push(new i.Link(e.link)),e.semiHidden&&this.root.push(new i.SemiHidden),e.uiPriority&&this.root.push(new i.UiPriority(e.uiPriority)),e.unhideWhenUsed&&this.root.push(new i.UnhideWhenUsed)}}t.StyleForParagraph=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9),o=r(41),i=r(40);class a extends i.Style{constructor(e){super({type:"character",styleId:e.id},e.name),this.runProperties=new n.RunProperties(e.run),this.root.push(this.runProperties),this.root.push(new o.UiPriority(99)),this.root.push(new o.UnhideWhenUsed),e.basedOn&&this.root.push(new o.BasedOn(e.basedOn)),e.link&&this.root.push(new o.Link(e.link)),e.semiHidden&&this.root.push(new o.SemiHidden)}}t.StyleForCharacter=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertMillimetersToTwip=e=>Math.floor(e/25.4*72*20),t.convertInchesToTwip=e=>Math.floor(72*e*20)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.PORTRAIT="portrait",e.LANDSCAPE="landscape"}(t.PageOrientation||(t.PageOrientation={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={width:"w:w",height:"w:h",orientation:"w:orient"}}}t.PageSizeAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(308),o=r(47);t.FooterWrapper=class{constructor(e,t,r){this.media=e,this.footer=new n.Footer(t,r),this.relationships=new o.Relationships}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get Footer(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(310))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(312);!function(e){e.EXTERNAL="External"}(t.TargetModeType||(t.TargetModeType={}));class i extends n.XmlComponent{constructor(e,t,r,n){super("Relationship"),this.root.push(new o.RelationshipAttributes({id:e,type:t,target:r,targetMode:n}))}}t.Relationship=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(326),o=r(47);t.HeaderWrapper=class{constructor(e,t,r){this.media=e,this.header=new n.Header(t,r),this.relationships=new o.Relationships}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get Header(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(328)),n(r(329))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(52)),n(r(63)),n(r(64)),n(r(65)),n(r(66)),n(r(82)),n(r(83)),n(r(84)),n(r(85))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.START="start",e.END="end",e.CENTER="center",e.BOTH="both",e.JUSTIFIED="both",e.DISTRIBUTE="distribute",e.LEFT="left",e.RIGHT="right"}(t.AlignmentType||(t.AlignmentType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}t.AlignmentAttributes=o;class i extends n.XmlComponent{constructor(e){super("w:jc"),this.root.push(new o({val:e}))}}t.Alignment=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25);class o extends n.BaseXmlComponent{constructor(e){super("_attr"),this.root=e}prepForXml(){const e={};return Object.keys(this.root).forEach(t=>{const r=this.root[t];if(void 0!==r){const n=this.xmlKeys&&this.xmlKeys[t]||t;e[n]=r}}),{_attr:e}}set(e){this.root=e}}t.XmlAttributeComponent=o},function(e,t,r){var n,o,i=r(143),a=r(31),s=r(32).isArray;function l(e){var t=Number(e);if(!isNaN(t))return t;var r=e.toLowerCase();return"true"===r||"false"!==r&&e}function c(e,t){var r;if(n.compact){if(!o[n[e+"Key"]]&&(s(n.alwaysArray)?-1!==n.alwaysArray.indexOf(n[e+"Key"]):n.alwaysArray)&&(o[n[e+"Key"]]=[]),o[n[e+"Key"]]&&!s(o[n[e+"Key"]])&&(o[n[e+"Key"]]=[o[n[e+"Key"]]]),e+"Fn"in n&&"string"==typeof t&&(t=n[e+"Fn"](t,o)),"instruction"===e&&("instructionFn"in n||"instructionNameFn"in n))for(r in t)if(t.hasOwnProperty(r))if("instructionFn"in n)t[r]=n.instructionFn(t[r],r,o);else{var i=t[r];delete t[r],t[n.instructionNameFn(r,i,o)]=i}s(o[n[e+"Key"]])?o[n[e+"Key"]].push(t):o[n[e+"Key"]]=t}else{o[n.elementsKey]||(o[n.elementsKey]=[]);var a={};if(a[n.typeKey]=e,"instruction"===e){for(r in t)if(t.hasOwnProperty(r))break;a[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(r,t,o):r,n.instructionHasAttributes?(a[n.attributesKey]=t[r][n.attributesKey],"instructionFn"in n&&(a[n.attributesKey]=n.instructionFn(a[n.attributesKey],r,o))):("instructionFn"in n&&(t[r]=n.instructionFn(t[r],r,o)),a[n.instructionKey]=t[r])}else e+"Fn"in n&&(t=n[e+"Fn"](t,o)),a[n[e+"Key"]]=t;n.addParent&&(a[n.parentKey]=o),o[n.elementsKey].push(a)}}function u(e){var t;if("attributesFn"in n&&e&&(e=n.attributesFn(e,o)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(n.trim&&(e[t]=e[t].trim()),n.nativeTypeAttributes&&(e[t]=l(e[t])),"attributeValueFn"in n&&(e[t]=n.attributeValueFn(e[t],t,o)),"attributeNameFn"in n)){var r=e[t];delete e[t],e[n.attributeNameFn(t,e[t],o)]=r}return e}function d(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||n.instructionHasAttributes)){for(var r,i=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(r=i.exec(e.body));)t[r[1]]=r[2]||r[3]||r[4];t=u(t)}if("xml"===e.name.toLowerCase()){if(n.ignoreDeclaration)return;o[n.declarationKey]={},Object.keys(t).length&&(o[n.declarationKey][n.attributesKey]=t),n.addParent&&(o[n.declarationKey][n.parentKey]=o)}else{if(n.ignoreInstruction)return;n.trim&&(e.body=e.body.trim());var a={};n.instructionHasAttributes&&Object.keys(t).length?(a[e.name]={},a[e.name][n.attributesKey]=t):a[e.name]=e.body,c("instruction",a)}}function p(e,t){var r;if("object"==typeof e&&(t=e.attributes,e=e.name),t=u(t),"elementNameFn"in n&&(e=n.elementNameFn(e,o)),n.compact){var i;if(r={},!n.ignoreAttributes&&t&&Object.keys(t).length)for(i in r[n.attributesKey]={},t)t.hasOwnProperty(i)&&(r[n.attributesKey][i]=t[i]);!(e in o)&&(s(n.alwaysArray)?-1!==n.alwaysArray.indexOf(e):n.alwaysArray)&&(o[e]=[]),o[e]&&!s(o[e])&&(o[e]=[o[e]]),s(o[e])?o[e].push(r):o[e]=r}else o[n.elementsKey]||(o[n.elementsKey]=[]),(r={})[n.typeKey]="element",r[n.nameKey]=e,!n.ignoreAttributes&&t&&Object.keys(t).length&&(r[n.attributesKey]=t),n.alwaysChildren&&(r[n.elementsKey]=[]),o[n.elementsKey].push(r);r[n.parentKey]=o,o=r}function f(e){n.ignoreText||(e.trim()||n.captureSpacesBetweenElements)&&(n.trim&&(e=e.trim()),n.nativeType&&(e=l(e)),n.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",e))}function h(e){n.ignoreComment||(n.trim&&(e=e.trim()),c("comment",e))}function m(e){var t=o[n.parentKey];n.addParent||delete o[n.parentKey],o=t}function g(e){n.ignoreCdata||(n.trim&&(e=e.trim()),c("cdata",e))}function b(e){n.ignoreDoctype||(e=e.replace(/^ /,""),n.trim&&(e=e.trim()),c("doctype",e))}function v(e){e.note=e}e.exports=function(e,t){var r=i.parser(!0,{}),s={};if(o=s,n=function(e){return n=a.copyOptions(e),a.ensureFlagExists("ignoreDeclaration",n),a.ensureFlagExists("ignoreInstruction",n),a.ensureFlagExists("ignoreAttributes",n),a.ensureFlagExists("ignoreText",n),a.ensureFlagExists("ignoreComment",n),a.ensureFlagExists("ignoreCdata",n),a.ensureFlagExists("ignoreDoctype",n),a.ensureFlagExists("compact",n),a.ensureFlagExists("alwaysChildren",n),a.ensureFlagExists("addParent",n),a.ensureFlagExists("trim",n),a.ensureFlagExists("nativeType",n),a.ensureFlagExists("nativeTypeAttributes",n),a.ensureFlagExists("sanitize",n),a.ensureFlagExists("instructionHasAttributes",n),a.ensureFlagExists("captureSpacesBetweenElements",n),a.ensureAlwaysArrayExists(n),a.ensureKeyExists("declaration",n),a.ensureKeyExists("instruction",n),a.ensureKeyExists("attributes",n),a.ensureKeyExists("text",n),a.ensureKeyExists("comment",n),a.ensureKeyExists("cdata",n),a.ensureKeyExists("doctype",n),a.ensureKeyExists("type",n),a.ensureKeyExists("name",n),a.ensureKeyExists("elements",n),a.ensureKeyExists("parent",n),a.checkFnExists("doctype",n),a.checkFnExists("instruction",n),a.checkFnExists("cdata",n),a.checkFnExists("comment",n),a.checkFnExists("text",n),a.checkFnExists("instructionName",n),a.checkFnExists("elementName",n),a.checkFnExists("attributeName",n),a.checkFnExists("attributeValue",n),a.checkFnExists("attributes",n),n}(t),r.opt={strictEntities:!0},r.onopentag=p,r.ontext=f,r.oncomment=h,r.onclosetag=m,r.onerror=v,r.oncdata=g,r.ondoctype=b,r.onprocessinginstruction=d,r.write(e).close(),s[n.elementsKey]){var l=s[n.elementsKey];delete s[n.elementsKey],s[n.elementsKey]=l,delete s.text}return s}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){e.exports=o;var n=r(27).EventEmitter;function o(){n.call(this)}r(7)(o,n),o.Readable=r(28),o.Writable=r(152),o.Duplex=r(153),o.Transform=r(154),o.PassThrough=r(155),o.Stream=o,o.prototype.pipe=function(e,t){var r=this;function o(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",o),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",l),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},function(e,t,r){"use strict";(function(t,n){var o=r(15);e.exports=y;var i,a=r(55);y.ReadableState=v,r(27).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=r(58),c=r(16).Buffer,u=t.Uint8Array||function(){},d=r(14);d.inherits=r(7);var p=r(146),f=void 0;f=p&&p.debuglog?p.debuglog("stream"):function(){};var h,m=r(147),g=r(59);d.inherits(y,l);var b=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(i=i||r(5));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(30).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(5),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function w(e,t,r,n,o){var i,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,x(e)}}(e,a)):(o||(i=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),i?e.emit("error",i):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?E(e,a,t,!1):S(e,a)):E(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),S(e,t)}function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(O,e):O(e))}function O(e){f("emit readable"),e.emit("readable"),P(e)}function S(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(C,e,t))}function C(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function T(e){f("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,o=r.data;for(e-=o.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0==(e-=a)){a===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++n}return t.length-=n,o}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,o=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,a),0==(e-=a)){a===i.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++o}return t.length-=o,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(j,t,e))}function j(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return h||(h=r(30).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this},y.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):x(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&I(this),null;var n,o=t.needReadable;return f("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",o=!0),t.ended||t.reading?f("reading or ended",o=!1):o&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(r,t))),null===(n=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&I(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,t);var l=t&&!1===t.end||e===n.stdout||e===n.stderr?y:u;function c(t,n){f("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,f("cleanup"),e.removeListener("close",b),e.removeListener("finish",v),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",c),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",m),p=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function u(){f("onend"),e.end()}i.endEmitted?o.nextTick(l):r.once("end",l),e.on("unpipe",c);var d=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,P(e))}}(r);e.on("drain",d);var p=!1,h=!1;function m(t){f("ondata"),h=!1,!1!==e.write(t)||h||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==R(i.pipes,e))&&!p&&(f("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function g(t){f("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",v),y()}function v(){f("onfinish"),e.removeListener("close",b),y()}function y(){f("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",b),e.once("finish",v),e.emit("pipe",r),i.flowing||(f("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,r);return this}var a=R(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&x(this):o.nextTick(T,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(k,e,t))}(this,e)),this},y.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(f("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){f("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<b.length;i++)e.on(b[i],this.emit.bind(this,b[i]));return this._read=function(t){f("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=A}).call(t,r(4),r(13))},function(e,t,r){e.exports=r(27).EventEmitter},function(e,t,r){"use strict";var n=r(15);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(149),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,r(4))},function(e,t,r){"use strict";e.exports=a;var n=r(5),o=r(14);function i(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){l(e,t,r)})):l(this,null,null)}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=r(7),o.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){var n,o,i=r(31),a=r(32).isArray;function s(e,t,r){return(!r&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function l(e,t,r){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,o,n));var i,a,l,c,u=[];for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&void 0!==e[i]&&(c=t.noQuotesForNativeAttributes&&"string"!=typeof e[i]?"":'"',a=(a=""+e[i]).replace(/"/g,"&quot;"),l="attributeNameFn"in t?t.attributeNameFn(i,a,o,n):i,u.push(t.spaces&&t.indentAttributes?s(t,r+1,!1):" "),u.push(l+"="+c+("attributeValueFn"in t?t.attributeValueFn(a,i,o,n):a)+c));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&u.push(s(t,r,!1)),u.join("")}function c(e,t,r){return n=e,o="xml",t.ignoreDeclaration?"":"<?xml"+l(e[t.attributesKey],t,r)+"?>"}function u(e,t,r){if(t.ignoreInstruction)return"";var i;for(i in e)if(e.hasOwnProperty(i))break;var a="instructionNameFn"in t?t.instructionNameFn(i,e[i],o,n):i;if("object"==typeof e[i])return n=e,o=a,"<?"+a+l(e[i][t.attributesKey],t,r)+"?>";var s=e[i]?e[i]:"";return"instructionFn"in t&&(s=t.instructionFn(s,i,o,n)),"<?"+a+(s?" "+s:"")+"?>"}function d(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,o,n):e)+"--\x3e"}function p(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,o,n):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,o,n):e)+">"}function h(e,t){return t.ignoreText?"":(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,o,n):e)}function m(e,t,r,i){return e.reduce((function(e,a){var c=s(t,r,i&&!e);switch(a.type){case"element":return e+c+function(e,t,r){n=e,o=e.name;var i=[],a="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;i.push("<"+a),e[t.attributesKey]&&i.push(l(e[t.attributesKey],t,r));var s=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"];return s||(s="fullTagEmptyElementFn"in t?t.fullTagEmptyElementFn(e.name,e):t.fullTagEmptyElement),s?(i.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(i.push(m(e[t.elementsKey],t,r+1)),n=e,o=e.name),i.push(t.spaces&&function(e,t){var r;if(e.elements&&e.elements.length)for(r=0;r<e.elements.length;++r)switch(e.elements[r][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":default:return!0}return!1}(e,t)?"\n"+Array(r+1).join(t.spaces):""),i.push("</"+a+">")):i.push("/>"),i.join("")}(a,t,r);case"comment":return e+c+d(a[t.commentKey],t);case"doctype":return e+c+f(a[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?c:"")+p(a[t.cdataKey],t);case"text":return e+(t.indentText?c:"")+h(a[t.textKey],t);case"instruction":var g={};return g[a[t.nameKey]]=a[t.attributesKey]?a:a[t.instructionKey],e+(t.indentInstruction?c:"")+u(g,t,r)}}),"")}function g(e,t,r){var n;for(n in e)if(e.hasOwnProperty(n))switch(n){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||r)return!0;break;case t.cdataKey:if(t.indentCdata||r)return!0;break;case t.instructionKey:if(t.indentInstruction||r)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function b(e,t,r,i,a){n=e,o=t;var c="elementNameFn"in r?r.elementNameFn(t,e):t;if(null==e||""===e)return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(t,e)||r.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var u=[];if(t){if(u.push("<"+c),"object"!=typeof e)return u.push(">"+h(e,r)+"</"+c+">"),u.join("");e[r.attributesKey]&&u.push(l(e[r.attributesKey],r,i));var d=g(e,r,!0)||e[r.attributesKey]&&"preserve"===e[r.attributesKey]["xml:space"];if(d||(d="fullTagEmptyElementFn"in r?r.fullTagEmptyElementFn(t,e):r.fullTagEmptyElement),!d)return u.push("/>"),u.join("");u.push(">")}return u.push(v(e,r,i+1,!1)),n=e,o=t,t&&u.push((a?s(r,i,!1):"")+"</"+c+">"),u.join("")}function v(e,t,r,n){var o,i,l,m=[];for(i in e)if(e.hasOwnProperty(i))for(l=a(e[i])?e[i]:[e[i]],o=0;o<l.length;++o){switch(i){case t.declarationKey:m.push(c(l[o],t,r));break;case t.instructionKey:m.push((t.indentInstruction?s(t,r,n):"")+u(l[o],t,r));break;case t.attributesKey:case t.parentKey:break;case t.textKey:m.push((t.indentText?s(t,r,n):"")+h(l[o],t));break;case t.cdataKey:m.push((t.indentCdata?s(t,r,n):"")+p(l[o],t));break;case t.doctypeKey:m.push(s(t,r,n)+f(l[o],t));break;case t.commentKey:m.push(s(t,r,n)+d(l[o],t));break;default:m.push(s(t,r,n)+b(l[o],i,t,r,g(l[o],t)))}n=n&&!m.length}return m.join("")}e.exports=function(e,t){t=function(e){var t=i.copyOptions(e);return i.ensureFlagExists("ignoreDeclaration",t),i.ensureFlagExists("ignoreInstruction",t),i.ensureFlagExists("ignoreAttributes",t),i.ensureFlagExists("ignoreText",t),i.ensureFlagExists("ignoreComment",t),i.ensureFlagExists("ignoreCdata",t),i.ensureFlagExists("ignoreDoctype",t),i.ensureFlagExists("compact",t),i.ensureFlagExists("indentText",t),i.ensureFlagExists("indentCdata",t),i.ensureFlagExists("indentAttributes",t),i.ensureFlagExists("indentInstruction",t),i.ensureFlagExists("fullTagEmptyElement",t),i.ensureFlagExists("noQuotesForNativeAttributes",t),i.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),i.ensureKeyExists("declaration",t),i.ensureKeyExists("instruction",t),i.ensureKeyExists("attributes",t),i.ensureKeyExists("text",t),i.ensureKeyExists("comment",t),i.ensureKeyExists("cdata",t),i.ensureKeyExists("doctype",t),i.ensureKeyExists("type",t),i.ensureKeyExists("name",t),i.ensureKeyExists("elements",t),i.checkFnExists("doctype",t),i.checkFnExists("instruction",t),i.checkFnExists("cdata",t),i.checkFnExists("comment",t),i.checkFnExists("text",t),i.checkFnExists("instructionName",t),i.checkFnExists("elementName",t),i.checkFnExists("attributeName",t),i.checkFnExists("attributeValue",t),i.checkFnExists("attributes",t),i.checkFnExists("fullTagEmptyElement",t),t}(t);var r=[];return n=e,o="_root_",t.compact?r.push(v(e,t,0,!0)):(e[t.declarationKey]&&r.push(c(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&r.push(m(e[t.elementsKey],t,0,!r.length))),r.join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(160);class i extends n.XmlComponent{constructor(e,t={color:"auto",space:1,value:"single",size:6}){super(e);const r=new o.BorderAttributes({color:t.color,space:t.space,val:t.value,sz:t.size});this.root.push(r)}}class a extends n.XmlComponent{constructor(e){if(super("w:pBdr"),void 0!==e.top){const t=new i("w:top",e.top);this.root.push(t)}if(void 0!==e.bottom){const t=new i("w:bottom",e.bottom);this.root.push(t)}if(void 0!==e.left){const t=new i("w:left",e.left);this.root.push(t)}if(void 0!==e.right){const t=new i("w:right",e.right);this.root.push(t)}}}t.Border=a;class s extends n.XmlComponent{constructor(){super("w:pBdr");const e=new i("w:bottom",{color:"auto",space:1,value:"single",size:6});this.root.push(e)}}t.ThematicBreak=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={left:"w:left",hanging:"w:hanging",firstLine:"w:firstLine",start:"w:start",end:"w:end",right:"w:end"}}}class i extends n.XmlComponent{constructor(e){super("w:ind"),this.root.push(new o(e))}}t.Indent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:keepLines")}}t.KeepLines=o;class i extends n.XmlComponent{constructor(){super("w:keepNext")}}t.KeepNext=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(3);class i extends n.XmlComponent{constructor(){super("w:br"),this.root.push(new n.Attributes({type:"page"}))}}class a extends o.Run{constructor(){super({}),this.root.push(new i)}}t.PageBreak=a;class s extends n.XmlComponent{constructor(){super("w:pageBreakBefore")}}t.PageBreakBefore=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:br")}}t.Break=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var o=r(19);t.Underline=o.Underline;var i=r(33);t.EmphasisMark=i.EmphasisMark;var a=r(69);t.SubScript=a.SubScript,t.SuperScript=a.SuperScript;var s=r(34);t.RunFonts=s.RunFonts;class l extends n.XmlComponent{constructor(){super("w:b"),this.root.push(new n.Attributes({val:!0}))}}t.Bold=l;class c extends n.XmlComponent{constructor(){super("w:bCs"),this.root.push(new n.Attributes({val:!0}))}}t.BoldComplexScript=c;class u extends n.XmlComponent{constructor(e){super("w:spacing"),this.root.push(new n.Attributes({val:e}))}}t.CharacterSpacing=u;class d extends n.XmlComponent{constructor(){super("w:i"),this.root.push(new n.Attributes({val:!0}))}}t.Italics=d;class p extends n.XmlComponent{constructor(){super("w:iCs"),this.root.push(new n.Attributes({val:!0}))}}t.ItalicsComplexScript=p;class f extends n.XmlComponent{constructor(){super("w:caps"),this.root.push(new n.Attributes({val:!0}))}}t.Caps=f;class h extends n.XmlComponent{constructor(e){super("w:color"),this.root.push(new n.Attributes({val:e}))}}t.Color=h;class m extends n.XmlComponent{constructor(){super("w:dstrike"),this.root.push(new n.Attributes({val:!0}))}}t.DoubleStrike=m;class g extends n.XmlComponent{constructor(){super("w:emboss"),this.root.push(new n.Attributes({val:!0}))}}t.Emboss=g;class b extends n.XmlComponent{constructor(){super("w:imprint"),this.root.push(new n.Attributes({val:!0}))}}t.Imprint=b;class v extends n.XmlComponent{constructor(){super("w:smallCaps"),this.root.push(new n.Attributes({val:!0}))}}t.SmallCaps=v;class y extends n.XmlComponent{constructor(){super("w:strike"),this.root.push(new n.Attributes({val:!0}))}}t.Strike=y;class w extends n.XmlComponent{constructor(e){super("w:sz"),this.root.push(new n.Attributes({val:e}))}}t.Size=w;class E extends n.XmlComponent{constructor(e){super("w:szCs"),this.root.push(new n.Attributes({val:e}))}}t.SizeComplexScript=E;class _ extends n.XmlComponent{constructor(){super("w:rtl"),this.root.push(new n.Attributes({val:!0}))}}t.RightToLeft=_;class x extends n.XmlComponent{constructor(e){super("w:highlight"),this.root.push(new n.Attributes({val:e}))}}t.Highlight=x;class O extends n.XmlComponent{constructor(e){super("w:highlightCs"),this.root.push(new n.Attributes({val:e}))}}t.HighlightComplexScript=O;class S extends n.XmlComponent{constructor(e,t,r){super("w:shd"),this.root.push(new n.Attributes({val:e,fill:t,color:r}))}}t.Shading=S;class C extends n.XmlComponent{constructor(e,t,r){super("w:shdCs"),this.root.push(new n.Attributes({val:e,fill:t,color:r}))}}t.ShadowComplexScript=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("w:vertAlign"),this.root.push(new n.Attributes({val:e}))}}t.VerticalAlign=o,t.SuperScript=class extends o{constructor(){super("superscript")}},t.SubScript=class extends o{constructor(){super("subscript")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:rStyle"),this.root.push(new o({val:e}))}}t.Style=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(e){super("w:t"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push(e)}}t.Text=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(166)),n(r(36)),n(r(73))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(35)),n(r(169)),n(r(170)),n(r(171))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("wp:align"),this.root.push(e)}}t.Align=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}t.PositionOffset=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(172))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(205);class i extends n.XmlComponent{constructor(){super("wp:docPr"),this.root.push(new o.DocPropertiesAttributes({id:0,name:"",descr:""}))}}t.DocProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(206);class i extends n.XmlComponent{constructor(){super("wp:effectExtent"),this.root.push(new o.EffectExtentAttributes({b:0,l:0,r:0,t:0}))}}t.EffectExtent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(207);class i extends n.XmlComponent{constructor(e,t){super("wp:extent"),this.attributes=new o.ExtentAttributes({cx:e,cy:t}),this.root.push(this.attributes)}setXY(e,t){this.attributes.set({cx:e,cy:t})}}t.Extent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(208);class i extends n.XmlComponent{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new o.GraphicFrameLocks)}}t.GraphicFrameProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"}}}t.AnchorAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"}}}class i extends n.XmlComponent{constructor(e){super("w:spacing"),this.root.push(new o(e))}}t.Spacing=i;class a extends n.XmlComponent{constructor(e){super("w:contextualSpacing"),this.root.push(new n.Attributes({val:!1===e?0:1}))}}t.ContextualSpacing=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.HEADING_1="Heading1",e.HEADING_2="Heading2",e.HEADING_3="Heading3",e.HEADING_4="Heading4",e.HEADING_5="Heading5",e.HEADING_6="Heading6",e.TITLE="Title"}(t.HeadingLevel||(t.HeadingLevel={}));class o extends n.XmlComponent{constructor(e){super("w:pStyle"),this.root.push(new n.Attributes({val:e}))}}t.Style=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e,t,r){super("w:tabs"),this.root.push(new a(e,t,r))}}t.TabStop=o,function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center",e.BAR="bar",e.CLEAR="clear",e.DECIMAL="decimal",e.END="end",e.NUM="num",e.START="start"}(t.TabStopType||(t.TabStopType={})),function(e){e.DOT="dot",e.HYPHEN="hyphen",e.MIDDLE_DOT="middleDot",e.NONE="none",e.UNDERSCORE="underscore"}(t.LeaderType||(t.LeaderType={})),function(e){e[e.MAX=9026]="MAX"}(t.TabStopPosition||(t.TabStopPosition={}));class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val",pos:"w:pos",leader:"w:leader"}}}t.TabAttributes=i;class a extends n.XmlComponent{constructor(e,t,r){super("w:tab"),this.root.push(new i({val:e,pos:t,leader:r}))}}t.TabStopItem=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e,t){super("w:numPr"),this.root.push(new i(t)),this.root.push(new a(e))}}t.NumberProperties=o;class i extends n.XmlComponent{constructor(e){super("w:ilvl"),this.root.push(new n.Attributes({val:e}))}}class a extends n.XmlComponent{constructor(e){super("w:numId"),this.root.push(new n.Attributes({val:"string"==typeof e?`{${e}}`:e}))}}},function(e,t,r){"use strict";e.exports=r(220)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("m:den");for(const t of e)this.root.push(t)}}t.MathDenominator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("m:num");for(const t of e)this.root.push(t)}}t.MathNumerator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={accent:"m:val"}}}class i extends n.XmlComponent{constructor(e){super("m:chr"),this.root.push(new o({accent:e}))}}t.MathAccentCharacter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("m:e");for(const t of e)this.root.push(t)}}t.MathBase=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={value:"m:val"}}}class i extends n.XmlComponent{constructor(){super("m:limLoc"),this.root.push(new o({value:"undOvr"}))}}t.MathLimitLocation=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(89),i=r(91),a=r(237),s=r(238);class l extends n.XmlComponent{constructor(e,t,r){super("m:naryPr"),this.root.push(new o.MathAccentCharacter(e)),this.root.push(new i.MathLimitLocation),t||this.root.push(new s.MathSuperScriptHide),r||this.root.push(new a.MathSubScriptHide)}}t.MathNArayProperties=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("m:sub");for(const t of e)this.root.push(t)}}t.MathSubScriptElement=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("m:sup");for(const t of e)this.root.push(t)}}t.MathSuperScriptElement=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("m:sSupPr")}}t.MathSuperScriptProperties=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("m:sSubPr")}}t.MathSubScriptProperties=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("m:sSubSupPr")}}t.MathSubSuperScriptProperties=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("m:sPrePr")}}t.MathPreSubSuperScriptProperties=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){if(super("m:deg"),e)for(const t of e)this.root.push(t)}}t.MathDegree=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(252);class i extends n.XmlComponent{constructor(e){super("m:radPr"),e||this.root.push(new o.MathDegreeHide)}}t.MathRadicalProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("m:fName");for(const t of e)this.root.push(t)}}t.MathFunctionName=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("m:funcPr")}}t.MathFunctionProperties=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(270)),n(r(109)),n(r(111)),n(r(104)),n(r(110))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23),o=r(0);class i extends o.XmlComponent{constructor(e){super("w:tblBorders"),e.top?this.root.push(new a("w:top",e.top.style,e.top.size,0,e.top.color)):this.root.push(new a("w:top",n.BorderStyle.SINGLE,4,0,"auto")),e.left?this.root.push(new a("w:left",e.left.style,e.left.size,0,e.left.color)):this.root.push(new a("w:left",n.BorderStyle.SINGLE,4,0,"auto")),e.bottom?this.root.push(new a("w:bottom",e.bottom.style,e.bottom.size,0,e.bottom.color)):this.root.push(new a("w:bottom",n.BorderStyle.SINGLE,4,0,"auto")),e.right?this.root.push(new a("w:right",e.right.style,e.right.size,0,e.right.color)):this.root.push(new a("w:right",n.BorderStyle.SINGLE,4,0,"auto")),e.insideHorizontal?this.root.push(new a("w:insideH",e.insideHorizontal.style,e.insideHorizontal.size,0,e.insideHorizontal.color)):this.root.push(new a("w:insideH",n.BorderStyle.SINGLE,4,0,"auto")),e.insideVertical?this.root.push(new a("w:insideV",e.insideVertical.style,e.insideVertical.size,0,e.insideVertical.color)):this.root.push(new a("w:insideV",n.BorderStyle.SINGLE,4,0,"auto"))}}i.NONE={top:{style:n.BorderStyle.NONE,size:0,color:"auto"},bottom:{style:n.BorderStyle.NONE,size:0,color:"auto"},left:{style:n.BorderStyle.NONE,size:0,color:"auto"},right:{style:n.BorderStyle.NONE,size:0,color:"auto"},insideHorizontal:{style:n.BorderStyle.NONE,size:0,color:"auto"},insideVertical:{style:n.BorderStyle.NONE,size:0,color:"auto"}},t.TableBorders=i;class a extends o.XmlComponent{constructor(e,t,r,n,o){super(e),this.root.push(new s({value:t,size:r,space:n,color:o}))}}class s extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={value:"w:val",size:"w:sz",space:"w:space",color:"w:color"}}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(40)),n(r(42)),n(r(43)),n(r(272))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(107)),n(r(108)),n(r(275))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21),o=r(0);class i extends o.XmlComponent{constructor(e){super("w:pPrDefault"),this.root.push(new n.ParagraphProperties(e))}}t.ParagraphPropertiesDefaults=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9),o=r(0);class i extends o.XmlComponent{constructor(e){super("w:rPrDefault"),this.properties=new n.RunProperties(e),this.root.push(this.properties)}}t.RunPropertiesDefaults=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(110);!function(e){e.MARGIN="margin",e.PAGE="page",e.TEXT="text"}(t.TableAnchorType||(t.TableAnchorType={})),function(e){e.CENTER="center",e.INSIDE="inside",e.LEFT="left",e.OUTSIDE="outside",e.RIGHT="right"}(t.RelativeHorizontalPosition||(t.RelativeHorizontalPosition={})),function(e){e.CENTER="center",e.INSIDE="inside",e.BOTTOM="bottom",e.OUTSIDE="outside",e.INLINE="inline",e.TOP="top"}(t.RelativeVerticalPosition||(t.RelativeVerticalPosition={}));class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={horizontalAnchor:"w:horzAnchor",verticalAnchor:"w:vertAnchor",absoluteHorizontalPosition:"w:tblpX",relativeHorizontalPosition:"w:tblpXSpec",absoluteVerticalPosition:"w:tblpY",relativeVerticalPosition:"w:tblpYSpec",bottomFromText:"w:bottomFromText",topFromText:"w:topFromText",leftFromText:"w:leftFromText",rightFromText:"w:rightFromText"}}}t.TableFloatOptionsAttributes=i;class a extends n.XmlComponent{constructor(e){super("w:tblpPr"),this.root.push(new i(e)),e.overlap&&this.root.push(new o.TableOverlap(e.overlap))}}t.TableFloatProperties=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.NEVER="never",e.OVERLAP="overlap"}(t.OverlapType||(t.OverlapType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:tblOverlap"),this.root.push(new o({val:e}))}}t.TableOverlap=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.AUTOFIT="autofit",e.FIXED="fixed"}(t.TableLayoutType||(t.TableLayoutType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type"}}}class i extends n.XmlComponent{constructor(e){super("w:tblLayout"),this.root.push(new o({type:e}))}}t.TableLayout=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(113);class i extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:trPr")}setCantSplit(){return this.root.push(new s),this}setTableHeader(){return this.root.push(new c),this}setHeight(e,t){return this.root.push(new o.TableRowHeight(e,t)),this}}t.TableRowProperties=i;class a extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class s extends n.XmlComponent{constructor(){super("w:cantSplit"),this.root.push(new a({val:!0}))}}t.CantSplit=s;class l extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class c extends n.XmlComponent{constructor(){super("w:tblHeader"),this.root.push(new l({val:!0}))}}t.TableHeader=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.AUTO="auto",e.ATLEAST="atLeast",e.EXACT="exact"}(t.HeightRule||(t.HeightRule={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={height:"w:val",rule:"w:hRule"}}}t.TableRowHeightAttributes=o;class i extends n.XmlComponent{constructor(e,t){super("w:trHeight"),this.root.push(new o({height:e,rule:t}))}}t.TableRowHeight=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(292)),n(r(11)),n(r(115)),n(r(130))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(293)),n(r(129))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44),o=r(0),i=r(294),a=r(296),s=r(117),l=r(118),c=r(120),u=r(121),d=r(123),p=r(124),f=r(300),h=r(125),m=r(126),g=r(45),b=r(303),v=r(127);class y extends o.XmlComponent{constructor(e={column:{}}){super("w:sectPr");const{width:t=11906,height:r=16838,top:o=n.convertInchesToTwip(1),right:s=n.convertInchesToTwip(1),bottom:l=n.convertInchesToTwip(1),left:c=n.convertInchesToTwip(1),header:u=708,footer:y=708,gutter:w=0,mirror:E=!1,column:_={},linePitch:x=360,orientation:O=g.PageOrientation.PORTRAIT,headers:S,footers:C,pageNumberFormatType:T,pageNumberStart:k,lineNumberCountBy:P,lineNumberStart:A,lineNumberRestart:I,lineNumberDistance:j,pageBorders:R,pageBorderTop:D,pageBorderRight:N,pageBorderBottom:M,pageBorderLeft:B,titlePage:L=!1,verticalAlign:F}=e;this.options=e,this.root.push(new m.PageSize(t,r,O)),this.root.push(new f.PageMargin(o,s,l,c,u,y,w,E)),this.root.push(new i.Columns(_.space?_.space:708,_.count?_.count:1)),this.root.push(new a.DocumentGrid(x)),this.addHeaders(S),this.addFooters(C),(k||T)&&this.root.push(new h.PageNumberType(k,T)),(P||A||I||j)&&this.root.push(new d.LineNumberType(P,A,I,j)),(R||D||N||M||B)&&this.root.push(new p.PageBorders({pageBorders:R,pageBorderTop:D,pageBorderRight:N,pageBorderBottom:M,pageBorderLeft:B})),L&&this.root.push(new b.TitlePage),F&&this.root.push(new v.SectionVerticalAlign(F))}addHeaders(e){e&&(e.default&&this.root.push(new u.HeaderReference({headerType:c.HeaderReferenceType.DEFAULT,headerId:e.default.Header.ReferenceId})),e.first&&this.root.push(new u.HeaderReference({headerType:c.HeaderReferenceType.FIRST,headerId:e.first.Header.ReferenceId})),e.even&&this.root.push(new u.HeaderReference({headerType:c.HeaderReferenceType.EVEN,headerId:e.even.Header.ReferenceId})))}addFooters(e){e&&(e.default&&this.root.push(new l.FooterReference({footerType:s.FooterReferenceType.DEFAULT,footerId:e.default.Footer.ReferenceId})),e.first&&this.root.push(new l.FooterReference({footerType:s.FooterReferenceType.FIRST,footerId:e.first.Footer.ReferenceId})),e.even&&this.root.push(new l.FooterReference({footerType:s.FooterReferenceType.EVEN,footerId:e.even.Footer.ReferenceId})))}get Options(){return this.options}}t.SectionProperties=y},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(118)),n(r(119))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(119);class i extends n.XmlComponent{constructor(e){super("w:footerReference"),this.root.push(new o.FooterReferenceAttributes({type:e.footerType||o.FooterReferenceType.DEFAULT,id:"rId"+e.footerId}))}}t.FooterReference=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.DEFAULT="default",e.FIRST="first",e.EVEN="even"}(t.FooterReferenceType||(t.FooterReferenceType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"r:id"}}}t.FooterReferenceAttributes=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(121)),n(r(122))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(122);class i extends n.XmlComponent{constructor(e){super("w:headerReference"),this.root.push(new o.HeaderReferenceAttributes({type:e.headerType||o.HeaderReferenceType.DEFAULT,id:"rId"+e.headerId}))}}t.HeaderReference=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.DEFAULT="default",e.FIRST="first",e.EVEN="even"}(t.HeaderReferenceType||(t.HeaderReferenceType={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"r:id"}}}t.HeaderReferenceAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(298))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(299))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(302))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(45);class i extends n.XmlComponent{constructor(e,t,r){super("w:pgSz");const n=r===o.PageOrientation.LANDSCAPE;this.root.push(new o.PageSizeAttributes({width:n?t:e,height:n?e:t,orientation:r}))}}t.PageSize=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(305)),n(r(128))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={verticalAlign:"w:val"}}}t.SectionVerticalAlignAttributes=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(116)),n(r(117)),n(r(120)),n(r(306)),n(r(125)),n(r(124)),n(r(123)),n(r(127))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(307))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(313)),n(r(323))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=class{constructor(e={children:[]}){this.options=e}},t.Footer=class{constructor(e={children:[]}){this.options=e}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(330)),n(r(134)),n(r(24)),n(r(135))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(24),i=r(331);class a extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"}}}class s extends n.XmlComponent{constructor(e,t){super("w:abstractNum"),this.root.push(new a({abstractNumId:e,restartNumberingAfterBreak:0})),this.root.push(new i.MultiLevelType("hybridMultilevel")),this.id=e;for(const e of t)this.root.push(new o.Level(e))}}t.AbstractNumbering=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(24);class i extends n.XmlComponent{constructor(e){super("w:abstractNumId"),this.root.push(new n.Attributes({val:e}))}}class a extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={numId:"w:numId"}}}class s extends n.XmlComponent{constructor(e,t,r){super("w:num"),this.reference=r,this.root.push(new a({numId:e})),this.root.push(new i(t)),this.id=e}overrideLevel(e,t){const r=new c(e,t);return this.root.push(r),r}}t.ConcreteNumbering=s;class l extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl"}}}class c extends n.XmlComponent{constructor(e,t){super("w:lvlOverride"),this.levelNum=e,this.root.push(new l({ilvl:e})),void 0!==t&&this.root.push(new d(t)),this.lvl=new o.LevelForOverride({level:this.levelNum}),this.root.push(this.lvl)}get Level(){return this.lvl}}t.LevelOverride=c;class u extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class d extends n.XmlComponent{constructor(e){super("w:startOverride"),this.root.push(new u({val:e}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={enabled:"w:val"}}}t.UpdateFieldsAttributes=o;class i extends n.XmlComponent{constructor(e=!0){super("w:updateFields"),this.root.push(new o({enabled:e}))}}t.UpdateFields=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"w:id",author:"w:author",date:"w:date"}}}t.ChangeAttributes=o},function(e,t,r){(function(t,r,n){e.exports=function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,r,n)}return r[a].exports}for(var i=!1,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";var n=e("./utils"),o=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,o,a,s,l,c,u=[],d=0,p=e.length,f=p,h="string"!==n.getTypeOf(e);d<e.length;)f=p-d,o=h?(t=e[d++],r=d<p?e[d++]:0,d<p?e[d++]:0):(t=e.charCodeAt(d++),r=d<p?e.charCodeAt(d++):0,d<p?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|r>>4,l=1<f?(15&r)<<2|o>>6:64,c=2<f?63&o:64,u.push(i.charAt(a)+i.charAt(s)+i.charAt(l)+i.charAt(c));return u.join("")},r.decode=function(e){var t,r,n,a,s,l,c=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var p,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&f--,e.charAt(e.length-2)===i.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=o.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)t=i.indexOf(e.charAt(c++))<<2|(a=i.indexOf(e.charAt(c++)))>>4,r=(15&a)<<4|(s=i.indexOf(e.charAt(c++)))>>2,n=(3&s)<<6|(l=i.indexOf(e.charAt(c++))),p[u++]=t,64!==s&&(p[u++]=r),64!==l&&(p[u++]=n);return p}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),o=e("./stream/DataWorker"),i=e("./stream/DataLengthProbe"),a=e("./stream/Crc32Probe");function s(e,t,r,n,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=o}i=e("./stream/DataLengthProbe"),s.prototype={getContentWorker:function(){var e=new o(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new o(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new a).pipe(new i("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new i("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var i=o,a=0+r;e^=-1;for(var s=0;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,r,n){var i=o,a=0+r;e^=-1;for(var s=0;s<a;s++)e=e>>>8^i[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako"),i=e("./utils"),a=e("./stream/GenericWorker"),s=n?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",i.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function o(e,t,r,o,a,u){var d,p,f=e.file,h=e.compression,m=u!==s.utf8encode,g=i.transformTo("string",u(f.name)),b=i.transformTo("string",s.utf8encode(f.name)),v=f.comment,y=i.transformTo("string",u(v)),w=i.transformTo("string",s.utf8encode(v)),E=b.length!==f.name.length,_=w.length!==v.length,x="",O="",S="",C=f.dir,T=f.date,k={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize);var P=0;t&&(P|=8),m||!E&&!_||(P|=2048);var A=0,I=0;C&&(A|=16),"UNIX"===a?(I=798,A|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(f.unixPermissions,C)):(I=20,A|=function(e){return 63&(e||0)}(f.dosPermissions)),d=T.getUTCHours(),d<<=6,d|=T.getUTCMinutes(),d<<=5,d|=T.getUTCSeconds()/2,p=T.getUTCFullYear()-1980,p<<=4,p|=T.getUTCMonth()+1,p<<=5,p|=T.getUTCDate(),E&&(O=n(1,1)+n(l(g),4)+b,x+="up"+n(O.length,2)+O),_&&(S=n(1,1)+n(l(y),4)+w,x+="uc"+n(S.length,2)+S);var j="";return j+="\n\0",j+=n(P,2),j+=h.magic,j+=n(d,2),j+=n(p,2),j+=n(k.crc32,4),j+=n(k.compressedSize,4),j+=n(k.uncompressedSize,4),j+=n(g.length,2),j+=n(x.length,2),{fileRecord:c.LOCAL_FILE_HEADER+j+g+x,dirRecord:c.CENTRAL_FILE_HEADER+n(I,2)+j+n(y.length,2)+"\0\0\0\0"+n(A,4)+n(o,4)+g+x+y}}var i=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,r,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=o(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=o(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,o=function(e,t,r,o,a){var s=i.transformTo("string",a(o));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+n(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),o=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var i=new o(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,r){a++;var o=function(e,t){var r=e||t,o=n[r];if(!o)throw new Error(r+" is not a valid compression method !");return o}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},l=r.dir,c=r.date;r._compressWorker(o,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(i)})),i.entriesCount=a}catch(e){i.error(e)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.5.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),o=e("./external"),i=e("./utf8"),a=(n=e("./utils"),e("./zipEntries")),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new o.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),l.isNode&&l.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new a(t);return r.load(e),r})).then((function(e){var r=[o.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var i=0;i<n.length;i++)r.push(c(n[i]));return o.Promise.all(r)})).then((function(e){for(var n=e.shift(),o=n.files,i=0;i<o.length;i++){var a=o[i];r.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),o=e("../stream/GenericWorker");function i(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(i,o),i.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function o(e,t,r){n.call(this,t),this._helper=e;var o=this;e.on("data",(function(e,t){o.push(e)||o._helper.pause(),r&&r(t)})).on("error",(function(e){o.emit("error",e)})).on("end",(function(){o.push(null)}))}e("../utils").inherits(o,n),o.prototype._read=function(){this._helper.resume()},t.exports=o},{"../utils":32,"readable-stream":16}],14:[function(e,r,n){"use strict";r.exports={isNode:void 0!==t,newBufferFrom:function(e,r){if(t.from&&t.from!==Uint8Array.from)return t.from(e,r);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,r)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var r=new t(e);return r.fill(0),r},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function n(e,t,r){var n,o=i.getTypeOf(t),s=i.extend(r||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(n=h(e))&&g.call(this,n,!0);var d,b="string"===o&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!b),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",o="string"),d=t instanceof c||t instanceof a?t:p.isNode&&p.isStream(t)?new f(e,t):i.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new u(e,d,s);this.files[e]=v}var o=e("./utf8"),i=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),p=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n))},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,n.call(this,e,t,r),this;if(b(e)){var o=e;return this.filter((function(e,t){return!t.dir&&o.test(e)}))}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(e){if(!e)return this;if(b(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=g.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");i.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=d.generateWorker(this,r,n)}catch(e){(t=new a("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function o(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(o,n),o.prototype.byteAt=function(e){return this.data[this.zero+e]},o.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===t&&this.data[i+1]===r&&this.data[i+2]===n&&this.data[i+3]===o)return i-this.zero;return-1},o.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&r===i[1]&&n===i[2]&&o===i[3]},o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function o(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=o},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function o(e){n.call(this,e)}e("../utils").inherits(o,n),o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function o(e){n.call(this,e)}e("../utils").inherits(o,n),o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function o(e){n.call(this,e)}e("../utils").inherits(o,n),o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),o=e("../support"),i=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new s(e):o.uint8array?new l(n.transformTo("uint8array",e)):new i(n.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),o=e("../utils");function i(e){n.call(this,"ConvertWorker to "+e),this.destType=e}o.inherits(i,n),i.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),o=e("../crc32");function i(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,n),i.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),o=e("./GenericWorker");function i(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(i,o),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),o=e("./GenericWorker");function i(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,r,n){"use strict";var o=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),s=e("../base64"),l=e("../support"),c=e("../external"),u=null;if(l.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=r,o.checkSupport(n),this._worker=e.pipe(new i(n)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return function(e,r){return new c.Promise((function(n,i){var a=[],l=e._internalType,c=e._outputType,u=e._mimeType;e.on("data",(function(e,t){a.push(e),r&&r(t)})).on("error",(function(e){a=[],i(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return o.newBlob(o.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return o.transformTo(e,t)}}(c,function(e,r){var n,o=0,i=null,a=0;for(n=0;n<r.length;n++)a+=r[n].length;switch(e){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(i=new Uint8Array(a),n=0;n<r.length;n++)i.set(r[n],o),o+=r[n].length;return i;case"nodebuffer":return t.concat(r);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,a),u);n(e)}catch(e){i(e)}a=[]})).resume()}))}(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){o.delay(t,arguments,r)})),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},r.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==t,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var o=new ArrayBuffer(0);try{n.blob=0===new Blob([o],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(o),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),o=e("./support"),i=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return o.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,r,n,i,a,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=o.uint8array?new Uint8Array(l):new Array(l),i=a=0;a<l;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t}(e)},r.utf8decode=function(e){return o.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,o,i,a=e.length,l=new Array(2*a);for(t=r=0;t<a;)if((o=e[t++])<128)l[r++]=o;else if(4<(i=s[o]))l[r++]=65533,t+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&t<a;)o=o<<6|63&e[t++],i--;1<i?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}(e=n.transformTo(o.uint8array?"uint8array":"array",e))},n.inherits(c,a),c.prototype.processChunk=function(e){var t=n.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var i=t;(t=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(t),l=t;a!==t.length&&(o.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:r.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,n.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),o=e("./base64"),i=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function l(e){return e}function c(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,r){var n=[],o=0,i=e.length;if(i<=r)return String.fromCharCode.apply(null,e);for(;o<i;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+r,i)))):n.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+r,i)))),o+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,n=r.getTypeOf(e),o=!0;if("uint8array"===n?o=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(o=u.applyCanBeUsed.nodebuffer),o)for(;1<t;)try{return u.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function p(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=d;var f={};f.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,i.allocBuffer(e.length))}},f.array={string:d,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},f.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return p(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:d,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return i.newBufferFrom(e)}},f.nodebuffer={string:d,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return p(e,new Uint8Array(e.length))},nodebuffer:l},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return f[n][e](t)},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&i.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){a((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,i,a,l){return s.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var u=r.getTypeOf(t);return u?("arraybuffer"===u?t=r.transformTo("uint8array",t):"string"===u&&(l?t=o.decode(t):i&&!0!==a&&(t=function(e){return c(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),o=e("./utils"),i=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),o=e("./utils"),i=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<o;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(o)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var o=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new o(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new i(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)n.prototype[c[d]]=u;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var r,n,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,r=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}t.exports=function(e){1!==c.push(e)||n||r()}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==o&&f(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){n((function(){var n;try{n=t(r)}catch(n){return i.reject(e,n)}n===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,n)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var r=!1;function n(t){r||(r=!0,i.reject(e,t))}function o(t){r||(r=!0,i.resolve(e,t))}var a=h((function(){t(o,n)}));"error"===a.status&&n(a.value)}function h(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(o);return this.state!==l?d(r,this.state===s?e:t,this.outcome):this.queue.push(new u(r,e,t)),r},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,t){var r=h(p,t);if("error"===r.status)return i.reject(e,r.value);var n=r.value;if(n)f(e,n);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},c.reject=function(e){var t=new this(o);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,c=new this(o);++l<r;)u(e[l],l);return c;function u(e,o){t.resolve(e).then((function(e){a[o]=e,++s!==r||n||(n=!0,i.resolve(c,a))}),(function(e){n||(n=!0,i.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var n,a=-1,s=new this(o);++a<t;)n=e[a],this.resolve(n).then((function(e){r||(r=!0,i.resolve(s,e))}),(function(e){r||(r=!0,i.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(a[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=n.deflateSetDictionary(this.strm,u)))throw new Error(a[r]);this._dict_set=!0}}function u(e,t){var r=new c(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}c.prototype.push=function(e,t){var r,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(c),s.next_out=0,s.avail_out=c),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),!(s.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=c,r.deflate=u,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function p(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,l,c,d,p,f=this.strm,h=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(h),f.next_out=0,f.avail_out=h),(r=n.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(p="string"==typeof m?i.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,r=n.inflateSetDictionary(this.strm,p)),r===a.Z_BUF_ERROR&&!0===g&&(r=a.Z_OK,g=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&r!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(f.output,f.next_out),c=f.next_out-l,d=i.buf2string(f.output,l),f.next_out=c,f.avail_out=h-c,c&&o.arraySet(f.output,f.output,l,c,0),this.onData(d)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=d,r.inflate=p,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,r,n,o){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),o);else for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){var t,r,n,o,i,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=o=0,r=e.length;t<r;t++)i=e[t],a.set(i,o),o+=i.length;return a}},i={arraySet:function(e,t,r,n,o){for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,r.string2buf=function(e){var t,r,o,i,a,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(o-56320),i++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(l),i=a=0;a<l;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(o-56320),i++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,o=t.length;r<o;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,o,i,s=t||e.length,c=new Array(2*s);for(r=n=0;r<s;)if((o=e[r++])<128)c[n++]=o;else if(4<(i=a[o]))c[n++]=65533,r+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&r<s;)o=o<<6|63&e[r++],i--;1<i?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return l(c,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;i=i+(o=o+t[n++]|0)|0,--a;);o%=65521,i%=65521}return o|i<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,o){var i=n,a=o+r;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,r){"use strict";var n,o=e("../utils/common"),i=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=-2,u=258,d=262,p=113;function f(e,t){return e.msg=l[t],t}function h(e){return(e<<1)-(4<e?9:0)}function m(e){for(var t=e.length;0<=--t;)e[t]=0}function g(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(o.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function b(e,t){i._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,g(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function y(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var r,n,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,c=e.window,p=e.w_mask,f=e.prev,h=e.strstart+u,m=c[i+a-1],g=c[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(r=t)+a]===g&&c[r+a-1]===m&&c[r]===c[i]&&c[++r]===c[i+1]){i+=2,r++;do{}while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<h);if(n=u-(h-i),i=h-u,a<n){if(e.match_start=t,s<=(a=n))break;m=c[i+a-1],g=c[i+a]}}}while((t=f[t&p])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead}function E(e){var t,r,n,i,l,c,u,p,f,h,m=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-d)){for(o.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=r=e.hash_size;n=e.head[--t],e.head[t]=m<=n?n-m:0,--r;);for(t=r=m;n=e.prev[--t],e.prev[t]=m<=n?n-m:0,--r;);i+=m}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,p=e.strstart+e.lookahead,h=void 0,(f=i)<(h=c.avail_in)&&(h=f),r=0===h?0:(c.avail_in-=h,o.arraySet(u,c.input,c.next_in,h,p),1===c.state.wrap?c.adler=a(c.adler,u,h,p):2===c.state.wrap&&(c.adler=s(c.adler,u,h,p)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function _(e,t){for(var r,n;;){if(e.lookahead<d){if(E(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-d&&(e.match_length=w(e,r)),e.match_length>=3)if(n=i._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function x(e,t){for(var r,n,o;;){if(e.lookahead<d){if(E(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-d&&(e.match_length=w(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-3,n=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=i._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function O(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,i._tr_init(t),0):f(e,c)}function T(e){var t=C(e);return 0===t&&function(e){e.window_size=2*e.w_size,m(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function k(e,t,r,n,i,a){if(!e)return c;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),i<1||9<i||8!==r||n<8||15<n||t<0||9<t||a<0||4<a)return f(e,c);8===n&&(n=9);var l=new S;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=r,T(e)}n=[new O(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(E(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new O(4,4,8,4,_),new O(4,5,16,8,_),new O(4,6,32,32,_),new O(4,4,16,16,x),new O(8,16,32,32,x),new O(8,16,128,128,x),new O(8,32,128,256,x),new O(32,128,258,1024,x),new O(32,258,258,4096,x)],r.deflateInit=function(e,t){return k(e,t,8,15,8,0)},r.deflateInit2=k,r.deflateReset=T,r.deflateResetKeep=C,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},r.deflate=function(e,t){var r,o,a,l;if(!e||!e.state||5<t||t<0)return e?f(e,c):c;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||666===o.status&&4!==t)return f(e,0===e.avail_out?-5:c);if(o.strm=e,r=o.last_flush,o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,v(o,31),v(o,139),v(o,8),o.gzhead?(v(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),v(o,255&o.gzhead.time),v(o,o.gzhead.time>>8&255),v(o,o.gzhead.time>>16&255),v(o,o.gzhead.time>>24&255),v(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),v(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(v(o,255&o.gzhead.extra.length),v(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(v(o,0),v(o,0),v(o,0),v(o,0),v(o,0),v(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),v(o,3),o.status=p);else{var d=8+(o.w_bits-8<<4)<<8;d|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(d|=32),d+=31-d%31,o.status=p,y(o,d),0!==o.strstart&&(y(o,e.adler>>>16),y(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),g(e),a=o.pending,o.pending!==o.pending_buf_size));)v(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),g(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,v(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),g(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,v(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&g(e),o.pending+2<=o.pending_buf_size&&(v(o,255&e.adler),v(o,e.adler>>8&255),e.adler=0,o.status=p)):o.status=p),0!==o.pending){if(g(e),0===e.avail_out)return o.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(r)&&4!==t)return f(e,-5);if(666===o.status&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==o.lookahead||0!==t&&666!==o.status){var w=2===o.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(E(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(o,t):3===o.strategy?function(e,t){for(var r,n,o,a,s=e.window;;){if(e.lookahead<=u){if(E(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(n=s[o=e.strstart-1])===s[++o]&&n===s[++o]&&n===s[++o]){a=e.strstart+u;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<a);e.match_length=u-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=i._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(o,t):n[o.level].func(o,t);if(3!==w&&4!==w||(o.status=666),1===w||3===w)return 0===e.avail_out&&(o.last_flush=-1),0;if(2===w&&(1===t?i._tr_align(o):5!==t&&(i._tr_stored_block(o,0,0,!1),3===t&&(m(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),g(e),0===e.avail_out))return o.last_flush=-1,0}return 4!==t?0:o.wrap<=0?1:(2===o.wrap?(v(o,255&e.adler),v(o,e.adler>>8&255),v(o,e.adler>>16&255),v(o,e.adler>>24&255),v(o,255&e.total_in),v(o,e.total_in>>8&255),v(o,e.total_in>>16&255),v(o,e.total_in>>24&255)):(y(o,e.adler>>>16),y(o,65535&e.adler)),g(e),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?0:1)},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==p&&666!==t?f(e,c):(e.state=null,t===p?f(e,-3):0):c},r.deflateSetDictionary=function(e,t){var r,n,i,s,l,u,d,p,f=t.length;if(!e||!e.state)return c;if(2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return c;for(1===s&&(e.adler=a(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===s&&(m(r.head),r.strstart=0,r.block_start=0,r.insert=0),p=new o.Buf8(r.w_size),o.arraySet(p,t,f-r.w_size,r.w_size,0),t=p,f=r.w_size),l=e.avail_in,u=e.next_in,d=e.input,e.avail_in=f,e.next_in=0,e.input=t,E(r);r.lookahead>=3;){for(n=r.strstart,i=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=2,E(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=d,e.avail_in=l,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,o,i,a,s,l,c,u,d,p,f,h,m,g,b,v,y,w,E,_,x,O,S,C;r=e.state,n=e.next_in,S=e.input,o=n+(e.avail_in-5),i=e.next_out,C=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),l=r.dmax,c=r.wsize,u=r.whave,d=r.wnext,p=r.window,f=r.hold,h=r.bits,m=r.lencode,g=r.distcode,b=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{h<15&&(f+=S[n++]<<h,h+=8,f+=S[n++]<<h,h+=8),y=m[f&b];t:for(;;){if(f>>>=w=y>>>24,h-=w,0==(w=y>>>16&255))C[i++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=m[(65535&y)+(f&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}E=65535&y,(w&=15)&&(h<w&&(f+=S[n++]<<h,h+=8),E+=f&(1<<w)-1,f>>>=w,h-=w),h<15&&(f+=S[n++]<<h,h+=8,f+=S[n++]<<h,h+=8),y=g[f&v];r:for(;;){if(f>>>=w=y>>>24,h-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=g[(65535&y)+(f&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(_=65535&y,h<(w&=15)&&(f+=S[n++]<<h,(h+=8)<w&&(f+=S[n++]<<h,h+=8)),l<(_+=f&(1<<w)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=w,h-=w,(w=i-a)<_){if(u<(w=_-w)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(O=p,(x=0)===d){if(x+=c-w,w<E){for(E-=w;C[i++]=p[x++],--w;);x=i-_,O=C}}else if(d<w){if(x+=c+d-w,(w-=d)<E){for(E-=w;C[i++]=p[x++],--w;);if(x=0,d<E){for(E-=w=d;C[i++]=p[x++],--w;);x=i-_,O=C}}}else if(x+=d-w,w<E){for(E-=w;C[i++]=p[x++],--w;);x=i-_,O=C}for(;2<E;)C[i++]=O[x++],C[i++]=O[x++],C[i++]=O[x++],E-=3;E&&(C[i++]=O[x++],1<E&&(C[i++]=O[x++]))}else{for(x=i-_;C[i++]=C[x++],C[i++]=C[x++],C[i++]=C[x++],2<(E-=3););E&&(C[i++]=C[x++],1<E&&(C[i++]=C[x++]))}break}}break}}while(n<o&&i<s);n-=E=h>>3,f&=(1<<(h-=E<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<o?o-n+5:5-(n-o),e.avail_out=i<s?s-i+257:257-(i-s),r.hold=f,r.bits=h}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),o=e("./adler32"),i=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=-2;function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):l}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):l}function f(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,p(e))):l}function h(e,t){var r,n;return e?(n=new u,(e.state=n).window=null,0!==(r=f(e,t))&&(e.state=null),r):l}var m,g,b=!0;function v(e){if(b){var t;for(m=new n.Buf32(512),g=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,g,0,e.work,{bits:5}),b=!1}e.lencode=m,e.lenbits=9,e.distcode=g,e.distbits=5}function y(e,t,r,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),o>=a.wsize?(n.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o<(i=a.wsize-a.wnext)&&(i=o),n.arraySet(a.window,t,r-o,i,a.wnext),(o-=i)?(n.arraySet(a.window,t,r-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}r.inflateReset=p,r.inflateReset2=f,r.inflateResetKeep=d,r.inflateInit=function(e){return h(e,15)},r.inflateInit2=h,r.inflate=function(e,t){var r,u,d,p,f,h,m,g,b,w,E,_,x,O,S,C,T,k,P,A,I,j,R,D,N=0,M=new n.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(r=e.state).mode&&(r.mode=13),f=e.next_out,d=e.output,m=e.avail_out,p=e.next_in,u=e.input,h=e.avail_in,g=r.hold,b=r.bits,w=h,E=m,j=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if(2&r.wrap&&35615===g){M[r.check=0]=255&g,M[1]=g>>>8&255,r.check=i(r.check,M,2,0),b=g=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&g)){e.msg="unknown compression method",r.mode=30;break}if(b-=4,I=8+(15&(g>>>=4)),0===r.wbits)r.wbits=I;else if(I>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<I,e.adler=r.check=1,r.mode=512&g?10:12,b=g=0;break;case 2:for(;b<16;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if(r.flags=g,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=g>>8&1),512&r.flags&&(M[0]=255&g,M[1]=g>>>8&255,r.check=i(r.check,M,2,0)),b=g=0,r.mode=3;case 3:for(;b<32;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}r.head&&(r.head.time=g),512&r.flags&&(M[0]=255&g,M[1]=g>>>8&255,M[2]=g>>>16&255,M[3]=g>>>24&255,r.check=i(r.check,M,4,0)),b=g=0,r.mode=4;case 4:for(;b<16;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}r.head&&(r.head.xflags=255&g,r.head.os=g>>8),512&r.flags&&(M[0]=255&g,M[1]=g>>>8&255,r.check=i(r.check,M,2,0)),b=g=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}r.length=g,r.head&&(r.head.extra_len=g),512&r.flags&&(M[0]=255&g,M[1]=g>>>8&255,r.check=i(r.check,M,2,0)),b=g=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(h<(_=r.length)&&(_=h),_&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,u,p,_,I)),512&r.flags&&(r.check=i(r.check,u,_,p)),h-=_,p+=_,r.length-=_),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===h)break e;for(_=0;I=u[p+_++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I)),I&&_<h;);if(512&r.flags&&(r.check=i(r.check,u,_,p)),h-=_,p+=_,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===h)break e;for(_=0;I=u[p+_++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I)),I&&_<h;);if(512&r.flags&&(r.check=i(r.check,u,_,p)),h-=_,p+=_,I)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if(g!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}b=g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;b<32;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}e.adler=r.check=c(g),b=g=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=f,e.avail_out=m,e.next_in=p,e.avail_in=h,r.hold=g,r.bits=b,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){g>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}switch(r.last=1&g,b-=1,3&(g>>>=1)){case 0:r.mode=14;break;case 1:if(v(r),r.mode=20,6!==t)break;g>>>=2,b-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}g>>>=2,b-=2;break;case 14:for(g>>>=7&b,b-=7&b;b<32;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&g,b=g=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(_=r.length){if(h<_&&(_=h),m<_&&(_=m),0===_)break e;n.arraySet(d,u,p,_,f),h-=_,p+=_,m-=_,f+=_,r.length-=_;break}r.mode=12;break;case 17:for(;b<14;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if(r.nlen=257+(31&g),g>>>=5,b-=5,r.ndist=1+(31&g),g>>>=5,b-=5,r.ncode=4+(15&g),g>>>=4,b-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}r.lens[B[r.have++]]=7&g,g>>>=3,b-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},j=s(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,j){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;C=(N=r.lencode[g&(1<<r.lenbits)-1])>>>16&255,T=65535&N,!((S=N>>>24)<=b);){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if(T<16)g>>>=S,b-=S,r.lens[r.have++]=T;else{if(16===T){for(D=S+2;b<D;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if(g>>>=S,b-=S,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}I=r.lens[r.have-1],_=3+(3&g),g>>>=2,b-=2}else if(17===T){for(D=S+3;b<D;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}b-=S,I=0,_=3+(7&(g>>>=S)),g>>>=3,b-=3}else{for(D=S+7;b<D;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}b-=S,I=0,_=11+(127&(g>>>=S)),g>>>=7,b-=7}if(r.have+_>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;_--;)r.lens[r.have++]=I}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},j=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,j){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},j=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,j){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=h&&258<=m){e.next_out=f,e.avail_out=m,e.next_in=p,e.avail_in=h,r.hold=g,r.bits=b,a(e,E),f=e.next_out,d=e.output,m=e.avail_out,p=e.next_in,u=e.input,h=e.avail_in,g=r.hold,b=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;C=(N=r.lencode[g&(1<<r.lenbits)-1])>>>16&255,T=65535&N,!((S=N>>>24)<=b);){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if(C&&0==(240&C)){for(k=S,P=C,A=T;C=(N=r.lencode[A+((g&(1<<k+P)-1)>>k)])>>>16&255,T=65535&N,!(k+(S=N>>>24)<=b);){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}g>>>=k,b-=k,r.back+=k}if(g>>>=S,b-=S,r.back+=S,r.length=T,0===C){r.mode=26;break}if(32&C){r.back=-1,r.mode=12;break}if(64&C){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&C,r.mode=22;case 22:if(r.extra){for(D=r.extra;b<D;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}r.length+=g&(1<<r.extra)-1,g>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;C=(N=r.distcode[g&(1<<r.distbits)-1])>>>16&255,T=65535&N,!((S=N>>>24)<=b);){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if(0==(240&C)){for(k=S,P=C,A=T;C=(N=r.distcode[A+((g&(1<<k+P)-1)>>k)])>>>16&255,T=65535&N,!(k+(S=N>>>24)<=b);){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}g>>>=k,b-=k,r.back+=k}if(g>>>=S,b-=S,r.back+=S,64&C){e.msg="invalid distance code",r.mode=30;break}r.offset=T,r.extra=15&C,r.mode=24;case 24:if(r.extra){for(D=r.extra;b<D;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}r.offset+=g&(1<<r.extra)-1,g>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===m)break e;if(_=E-m,r.offset>_){if((_=r.offset-_)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}x=_>r.wnext?(_-=r.wnext,r.wsize-_):r.wnext-_,_>r.length&&(_=r.length),O=r.window}else O=d,x=f-r.offset,_=r.length;for(m<_&&(_=m),m-=_,r.length-=_;d[f++]=O[x++],--_;);0===r.length&&(r.mode=21);break;case 26:if(0===m)break e;d[f++]=r.length,m--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===h)break e;h--,g|=u[p++]<<b,b+=8}if(E-=m,e.total_out+=E,r.total+=E,E&&(e.adler=r.check=r.flags?i(r.check,d,E,f-E):o(r.check,d,E,f-E)),E=m,(r.flags?g:c(g))!==r.check){e.msg="incorrect data check",r.mode=30;break}b=g=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===h)break e;h--,g+=u[p++]<<b,b+=8}if(g!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}b=g=0}r.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=f,e.avail_out=m,e.next_in=p,e.avail_in=h,r.hold=g,r.bits=b,(r.wsize||E!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&y(e,e.output,e.next_out,E-e.avail_out)?(r.mode=31,-4):(w-=e.avail_in,E-=e.avail_out,e.total_in+=w,e.total_out+=E,r.total+=E,r.wrap&&E&&(e.adler=r.check=r.flags?i(r.check,d,E,e.next_out-E):o(r.check,d,E,e.next_out-E)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==w&&0===E||4===t)&&0===j&&(j=-5),j)},r.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?l:((r.head=t).done=!1,0):l},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?l:11===r.mode&&o(1,t,n,0)!==r.check?-3:y(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):l},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,c,u,d,p){var f,h,m,g,b,v,y,w,E,_=p.bits,x=0,O=0,S=0,C=0,T=0,k=0,P=0,A=0,I=0,j=0,R=null,D=0,N=new n.Buf16(16),M=new n.Buf16(16),B=null,L=0;for(x=0;x<=15;x++)N[x]=0;for(O=0;O<l;O++)N[t[r+O]]++;for(T=_,C=15;1<=C&&0===N[C];C--);if(C<T&&(T=C),0===C)return c[u++]=20971520,c[u++]=20971520,p.bits=1,0;for(S=1;S<C&&0===N[S];S++);for(T<S&&(T=S),x=A=1;x<=15;x++)if(A<<=1,(A-=N[x])<0)return-1;if(0<A&&(0===e||1!==C))return-1;for(M[1]=0,x=1;x<15;x++)M[x+1]=M[x]+N[x];for(O=0;O<l;O++)0!==t[r+O]&&(d[M[t[r+O]]++]=O);if(v=0===e?(R=B=d,19):1===e?(R=o,D-=257,B=i,L-=257,256):(R=a,B=s,-1),x=S,b=u,P=O=j=0,m=-1,g=(I=1<<(k=T))-1,1===e&&852<I||2===e&&592<I)return 1;for(;;){for(y=x-P,E=d[O]<v?(w=0,d[O]):d[O]>v?(w=B[L+d[O]],R[D+d[O]]):(w=96,0),f=1<<x-P,S=h=1<<k;c[b+(j>>P)+(h-=f)]=y<<24|w<<16|E|0,0!==h;);for(f=1<<x-1;j&f;)f>>=1;if(0!==f?(j&=f-1,j+=f):j=0,O++,0==--N[x]){if(x===C)break;x=t[r+d[O]]}if(T<x&&(j&g)!==m){for(0===P&&(P=T),b+=S,A=1<<(k=x-P);k+P<C&&!((A-=N[k+P])<=0);)k++,A<<=1;if(I+=1<<k,1===e&&852<I||2===e&&592<I)return 1;c[m=j&g]=T<<24|k<<16|b-u|0}}return 0!==j&&(c[b+j]=x-P<<24|64<<16|0),p.bits=T,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common");function o(e){for(var t=e.length;0<=--t;)e[t]=0}var i=256,a=286,s=30,l=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);o(f);var h=new Array(60);o(h);var m=new Array(512);o(m);var g=new Array(256);o(g);var b=new Array(29);o(b);var v,y,w,E=new Array(s);function _(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function O(e){return e<256?m[e]:m[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function T(e,t,r){C(e,r[2*t],r[2*t+1])}function k(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function P(e,t,r){var n,o,i=new Array(16),a=0;for(n=1;n<=l;n++)i[n]=a=a+r[n-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=k(i[s]++,s))}}function A(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){8<e.bi_valid?S(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function j(e,t,r,n){var o=2*t,i=2*r;return e[o]<e[i]||e[o]===e[i]&&n[t]<=n[r]}function R(e,t,r){for(var n=e.heap[r],o=r<<1;o<=e.heap_len&&(o<e.heap_len&&j(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!j(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n}function D(e,t,r){var n,o,a,s,l=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],o=e.pending_buf[e.l_buf+l],l++,0===n?T(e,o,t):(T(e,(a=g[o])+i+1,t),0!==(s=c[a])&&C(e,o-=b[a],s),T(e,a=O(--n),r),0!==(s=u[a])&&C(e,n-=E[a],s)),l<e.last_lit;);T(e,256,t)}function N(e,t){var r,n,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<c;r++)0!==i[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)R(e,i,r);for(o=c;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*o]=i[2*r]+i[2*n],e.depth[o]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=o,e.heap[1]=o++,R(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,o,i,a,s,c=t.dyn_tree,u=t.max_code,d=t.stat_desc.static_tree,p=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(i=0;i<=l;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)m<(i=c[2*c[2*(n=e.heap[r])+1]+1]+1)&&(i=m,g++),c[2*n+1]=i,u<n||(e.bl_count[i]++,a=0,h<=n&&(a=f[n-h]),s=c[2*n],e.opt_len+=s*(i+a),p&&(e.static_len+=s*(d[2*n+1]+a)));if(0!==g){do{for(i=m-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(i=m;0!==i;i--)for(n=e.bl_count[i];0!==n;)u<(o=e.heap[--r])||(c[2*o+1]!==i&&(e.opt_len+=(i-c[2*o+1])*c[2*o],c[2*o+1]=i),n--)}}(e,t),P(i,u,e.bl_count)}function M(e,t,r){var n,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)o=a,a=t[2*(n+1)+1],++s<l&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,i=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4))}function B(e,t,r){var n,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=r;n++)if(o=a,a=t[2*(n+1)+1],!(++s<l&&o===a)){if(s<c)for(;T(e,o,e.bl_tree),0!=--s;);else 0!==o?(o!==i&&(T(e,o,e.bl_tree),s--),T(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(T(e,17,e.bl_tree),C(e,s-3,3)):(T(e,18,e.bl_tree),C(e,s-11,7));i=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4)}}o(E);var L=!1;function F(e,t,r,o){C(e,0+(o?1:0),3),function(e,t,r,o){I(e),S(e,r),S(e,~r),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}r._tr_init=function(e){L||(function(){var e,t,r,n,o,i=new Array(16);for(n=r=0;n<28;n++)for(b[n]=r,e=0;e<1<<c[n];e++)g[r++]=n;for(g[r-1]=n,n=o=0;n<16;n++)for(E[n]=o,e=0;e<1<<u[n];e++)m[o++]=n;for(o>>=7;n<s;n++)for(E[n]=o<<7,e=0;e<1<<u[n]-7;e++)m[256+o++]=n;for(t=0;t<=l;t++)i[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,i[8]++;for(;e<=255;)f[2*e+1]=9,e++,i[9]++;for(;e<=279;)f[2*e+1]=7,e++,i[7]++;for(;e<=287;)f[2*e+1]=8,e++,i[8]++;for(P(f,287,i),e=0;e<s;e++)h[2*e+1]=5,h[2*e]=k(e,5);v=new _(f,c,257,a,l),y=new _(h,u,0,s,l),w=new _(new Array(0),d,0,19,7)}(),L=!0),e.l_desc=new x(e.dyn_ltree,v),e.d_desc=new x(e.dyn_dtree,y),e.bl_desc=new x(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,A(e)},r._tr_stored_block=F,r._tr_flush_block=function(e,t,r,n){var o,a,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(M(e,e.dyn_ltree,e.l_desc.max_code),M(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*p[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=r+5,r+4<=o&&-1!==t?F(e,t,r,n):4===e.strategy||a===o?(C(e,2+(n?1:0),3),D(e,f,h)):(C(e,4+(n?1:0),3),function(e,t,r,n){var o;for(C(e,t-257,5),C(e,r-1,5),C(e,n-4,4),o=0;o<n;o++)C(e,e.bl_tree[2*p[o]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),D(e,e.dyn_ltree,e.dyn_dtree)),A(e),n&&I(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(g[r]+i+1)]++,e.dyn_dtree[2*O(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){C(e,2,3),T(e,256,f),function(e){16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){"use strict";t.exports="function"==typeof n?n:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)}).call(t,r(6).Buffer,r(4),r(60).setImmediate)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(12);t.Document=o.File,n(r(12)),n(r(352)),n(r(360)),n(r(44))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25);t.EMPTY_OBJECT=Object.seal({});class o extends n.BaseXmlComponent{constructor(e){super(e),this.root=new Array}prepForXml(e){const r=this.root.filter(e=>e instanceof n.BaseXmlComponent?!e.IsDeleted:void 0!==e).map(t=>t instanceof n.BaseXmlComponent?t.prepForXml(e):t).filter(e=>void 0!==e);return{[this.rootKey]:r.length?1===r.length&&(o=r[0],"object"==typeof o&&o._attr)?r[0]:r:t.EMPTY_OBJECT};var o}addChildElement(e){return this.root.push(e),this}delete(){this.deleted=!0}}t.XmlComponent=o,t.IgnoreIfEmptyXmlComponent=class extends o{prepForXml(){const e=super.prepForXml();if(e&&("object"!=typeof e[this.rootKey]||Object.keys(e[this.rootKey]).length))return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(53);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"}}}t.Attributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),o=r(0);function i(e){switch(e.type){case void 0:case"element":const t=new s(e.name,e.attributes),r=e.elements||[];for(const e of r){const r=i(e);void 0!==r&&t.push(r)}return t;case"text":return e.text;default:return}}t.convertToXmlComponent=i;class a extends o.XmlAttributeComponent{}class s extends o.XmlComponent{static fromXmlString(e){return i(n.xml2js(e,{compact:!1}))}constructor(e,t){super(e),t&&this.root.push(new a(t))}push(e){this.root.push(e)}}t.ImportedXmlComponent=s;class l extends o.XmlComponent{constructor(e){super(""),this._attr=e}prepForXml(){return{_attr:this._attr}}}t.ImportedRootElementAttributes=l},function(e,t,r){(function(e){!function(t){t.parser=function(e,t){return new i(e,t)},t.SAXParser=i,t.SAXStream=s,t.createStream=function(e,t){return new s(e,t)},t.MAX_BUFFER_LENGTH=65536;var n,o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(e,r){if(!(this instanceof i))return new i(e,r);!function(e){for(var t=0,r=o.length;t<r;t++)e[o[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=r||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=_.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),O(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),i.prototype={end:function(){P(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return k(this,"Cannot write after close. Assign an onready handler.");if(null===e)return P(this);"object"==typeof e&&(e=e.toString());for(var r=0,n="";n=L(e,r++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case _.BEGIN:if(this.state=_.BEGIN_WHITESPACE,"\ufeff"===n)continue;B(this,n);continue;case _.BEGIN_WHITESPACE:B(this,n);continue;case _.TEXT:if(this.sawRoot&&!this.closedRoot){for(var i=r-1;n&&"<"!==n&&"&"!==n;)(n=L(e,r++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(i,r-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(h(n)||this.sawRoot&&!this.closedRoot||A(this,"Text data outside of root node."),"&"===n?this.state=_.TEXT_ENTITY:this.textNode+=n):(this.state=_.OPEN_WAKA,this.startTagPosition=this.position);continue;case _.SCRIPT:"<"===n?this.state=_.SCRIPT_ENDING:this.script+=n;continue;case _.SCRIPT_ENDING:"/"===n?this.state=_.CLOSE_TAG:(this.script+="<"+n,this.state=_.SCRIPT);continue;case _.OPEN_WAKA:if("!"===n)this.state=_.SGML_DECL,this.sgmlDecl="";else if(h(n));else if(b(u,n))this.state=_.OPEN_TAG,this.tagName=n;else if("/"===n)this.state=_.CLOSE_TAG,this.tagName="";else if("?"===n)this.state=_.PROC_INST,this.procInstName=this.procInstBody="";else{if(A(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;n=new Array(a).join(" ")+n}this.textNode+="<"+n,this.state=_.TEXT}continue;case _.SGML_DECL:"[CDATA["===(this.sgmlDecl+n).toUpperCase()?(S(this,"onopencdata"),this.state=_.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=_.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+n).toUpperCase()?(this.state=_.DOCTYPE,(this.doctype||this.sawRoot)&&A(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(S(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=_.TEXT):m(n)?(this.state=_.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case _.SGML_DECL_QUOTED:n===this.q&&(this.state=_.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case _.DOCTYPE:">"===n?(this.state=_.TEXT,S(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=_.DOCTYPE_DTD:m(n)&&(this.state=_.DOCTYPE_QUOTED,this.q=n));continue;case _.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=_.DOCTYPE);continue;case _.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=_.DOCTYPE:m(n)&&(this.state=_.DOCTYPE_DTD_QUOTED,this.q=n);continue;case _.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=_.DOCTYPE_DTD,this.q="");continue;case _.COMMENT:"-"===n?this.state=_.COMMENT_ENDING:this.comment+=n;continue;case _.COMMENT_ENDING:"-"===n?(this.state=_.COMMENT_ENDED,this.comment=T(this.opt,this.comment),this.comment&&S(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=_.COMMENT);continue;case _.COMMENT_ENDED:">"!==n?(A(this,"Malformed comment"),this.comment+="--"+n,this.state=_.COMMENT):this.state=_.TEXT;continue;case _.CDATA:"]"===n?this.state=_.CDATA_ENDING:this.cdata+=n;continue;case _.CDATA_ENDING:"]"===n?this.state=_.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=_.CDATA);continue;case _.CDATA_ENDING_2:">"===n?(this.cdata&&S(this,"oncdata",this.cdata),S(this,"onclosecdata"),this.cdata="",this.state=_.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=_.CDATA);continue;case _.PROC_INST:"?"===n?this.state=_.PROC_INST_ENDING:h(n)?this.state=_.PROC_INST_BODY:this.procInstName+=n;continue;case _.PROC_INST_BODY:if(!this.procInstBody&&h(n))continue;"?"===n?this.state=_.PROC_INST_ENDING:this.procInstBody+=n;continue;case _.PROC_INST_ENDING:">"===n?(S(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=_.TEXT):(this.procInstBody+="?"+n,this.state=_.PROC_INST_BODY);continue;case _.OPEN_TAG:b(d,n)?this.tagName+=n:(I(this),">"===n?D(this):"/"===n?this.state=_.OPEN_TAG_SLASH:(h(n)||A(this,"Invalid character in tag name"),this.state=_.ATTRIB));continue;case _.OPEN_TAG_SLASH:">"===n?(D(this,!0),N(this)):(A(this,"Forward-slash in opening tag not followed by >"),this.state=_.ATTRIB);continue;case _.ATTRIB:if(h(n))continue;">"===n?D(this):"/"===n?this.state=_.OPEN_TAG_SLASH:b(u,n)?(this.attribName=n,this.attribValue="",this.state=_.ATTRIB_NAME):A(this,"Invalid attribute name");continue;case _.ATTRIB_NAME:"="===n?this.state=_.ATTRIB_VALUE:">"===n?(A(this,"Attribute without value"),this.attribValue=this.attribName,R(this),D(this)):h(n)?this.state=_.ATTRIB_NAME_SAW_WHITE:b(d,n)?this.attribName+=n:A(this,"Invalid attribute name");continue;case _.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=_.ATTRIB_VALUE;else{if(h(n))continue;A(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",S(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?D(this):b(u,n)?(this.attribName=n,this.state=_.ATTRIB_NAME):(A(this,"Invalid attribute name"),this.state=_.ATTRIB)}continue;case _.ATTRIB_VALUE:if(h(n))continue;m(n)?(this.q=n,this.state=_.ATTRIB_VALUE_QUOTED):(A(this,"Unquoted attribute value"),this.state=_.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case _.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=_.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}R(this),this.q="",this.state=_.ATTRIB_VALUE_CLOSED;continue;case _.ATTRIB_VALUE_CLOSED:h(n)?this.state=_.ATTRIB:">"===n?D(this):"/"===n?this.state=_.OPEN_TAG_SLASH:b(u,n)?(A(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=_.ATTRIB_NAME):A(this,"Invalid attribute name");continue;case _.ATTRIB_VALUE_UNQUOTED:if(!g(n)){"&"===n?this.state=_.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}R(this),">"===n?D(this):this.state=_.ATTRIB;continue;case _.CLOSE_TAG:if(this.tagName)">"===n?N(this):b(d,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=_.SCRIPT):(h(n)||A(this,"Invalid tagname in closing tag"),this.state=_.CLOSE_TAG_SAW_WHITE);else{if(h(n))continue;v(u,n)?this.script?(this.script+="</"+n,this.state=_.SCRIPT):A(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case _.CLOSE_TAG_SAW_WHITE:if(h(n))continue;">"===n?N(this):A(this,"Invalid characters in closing tag");continue;case _.TEXT_ENTITY:case _.ATTRIB_VALUE_ENTITY_Q:case _.ATTRIB_VALUE_ENTITY_U:var s,l;switch(this.state){case _.TEXT_ENTITY:s=_.TEXT,l="textNode";break;case _.ATTRIB_VALUE_ENTITY_Q:s=_.ATTRIB_VALUE_QUOTED,l="attribValue";break;case _.ATTRIB_VALUE_ENTITY_U:s=_.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===n?(this[l]+=M(this),this.entity="",this.state=s):b(this.entity.length?f:p,n)?this.entity+=n:(A(this,"Invalid character in entity name"),this[l]+="&"+this.entity+n,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,i=0,a=o.length;i<a;i++){var s=e[o[i]].length;if(s>r)switch(o[i]){case"textNode":C(e);break;case"cdata":S(e,"oncdata",e.cdata),e.cdata="";break;case"script":S(e,"onscript",e.script),e.script="";break;default:k(e,"Max buffer length exceeded: "+o[i])}n=Math.max(n,s)}var l=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=l+e.position}(this),this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;C(e=this),""!==e.cdata&&(S(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(S(e,"onscript",e.script),e.script="")}};try{n=r(56).Stream}catch(e){n=function(){}}var a=t.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function s(e,t){if(!(this instanceof s))return new s(e,t);n.apply(this),this._parser=new i(e,t),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,a.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(n.prototype,{constructor:{value:s}}),s.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var n=r(30).StringDecoder;this._decoder=new n("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===a.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)};var l="http://www.w3.org/XML/1998/namespace",c={xml:l,xmlns:"http://www.w3.org/2000/xmlns/"},u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function h(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function m(e){return'"'===e||"'"===e}function g(e){return">"===e||h(e)}function b(e,t){return e.test(t)}function v(e,t){return!b(e,t)}var y,w,E,_=0;for(var x in t.STATE={BEGIN:_++,BEGIN_WHITESPACE:_++,TEXT:_++,TEXT_ENTITY:_++,OPEN_WAKA:_++,SGML_DECL:_++,SGML_DECL_QUOTED:_++,DOCTYPE:_++,DOCTYPE_QUOTED:_++,DOCTYPE_DTD:_++,DOCTYPE_DTD_QUOTED:_++,COMMENT_STARTING:_++,COMMENT:_++,COMMENT_ENDING:_++,COMMENT_ENDED:_++,CDATA:_++,CDATA_ENDING:_++,CDATA_ENDING_2:_++,PROC_INST:_++,PROC_INST_BODY:_++,PROC_INST_ENDING:_++,OPEN_TAG:_++,OPEN_TAG_SLASH:_++,ATTRIB:_++,ATTRIB_NAME:_++,ATTRIB_NAME_SAW_WHITE:_++,ATTRIB_VALUE:_++,ATTRIB_VALUE_QUOTED:_++,ATTRIB_VALUE_CLOSED:_++,ATTRIB_VALUE_UNQUOTED:_++,ATTRIB_VALUE_ENTITY_Q:_++,ATTRIB_VALUE_ENTITY_U:_++,CLOSE_TAG:_++,CLOSE_TAG_SAW_WHITE:_++,SCRIPT:_++,SCRIPT_ENDING:_++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var r=t.ENTITIES[e],n="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=n})),t.STATE)t.STATE[t.STATE[x]]=x;function O(e,t,r){e[t]&&e[t](r)}function S(e,t,r){e.textNode&&C(e),O(e,t,r)}function C(e){e.textNode=T(e.opt,e.textNode),e.textNode&&O(e,"ontext",e.textNode),e.textNode=""}function T(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function k(e,t){return C(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,O(e,"onerror",t),e}function P(e){return e.sawRoot&&!e.closedRoot&&A(e,"Unclosed root tag"),e.state!==_.BEGIN&&e.state!==_.BEGIN_WHITESPACE&&e.state!==_.TEXT&&k(e,"Unexpected end"),C(e),e.c="",e.closed=!0,O(e,"onend"),i.call(e,e.strict,e.opt),e}function A(e,t){if("object"!=typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&k(e,t)}function I(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,S(e,"onopentagstart",r)}function j(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],o=r[1];return t&&"xmlns"===e&&(n="xmlns",o=""),{prefix:n,local:o}}function R(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=j(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==l)A(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===n&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)A(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var o=e.tag,i=e.tags[e.tags.length-1]||e;o.ns===i.ns&&(o.ns=Object.create(i.ns)),o.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,S(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function D(e,t){if(e.opt.xmlns){var r=e.tag,n=j(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(A(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var o=e.tags[e.tags.length-1]||e;r.ns&&o.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){S(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var i=0,a=e.attribList.length;i<a;i++){var s=e.attribList[i],l=s[0],c=s[1],u=j(l,!0),d=u.prefix,p=u.local,f=""===d?"":r.ns[d]||"",h={name:l,value:c,prefix:d,local:p,uri:f};d&&"xmlns"!==d&&!f&&(A(e,"Unbound namespace prefix: "+JSON.stringify(d)),h.uri=d),e.tag.attributes[l]=h,S(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),S(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=_.TEXT:e.state=_.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function N(e){if(!e.tagName)return A(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=_.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=_.SCRIPT);S(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--&&e.tags[t].name!==n;)A(e,"Unexpected close tag");if(t<0)return A(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=_.TEXT);e.tagName=r;for(var o=e.tags.length;o-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,S(e,"onclosetag",e.tagName);var a={};for(var s in i.ns)a[s]=i.ns[s];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==l.ns&&Object.keys(i.ns).forEach((function(t){var r=i.ns[t];S(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=_.TEXT}function M(e){var t,r=e.entity,n=r.toLowerCase(),o="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),o=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),o=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==r?(A(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function B(e,t){"<"===t?(e.state=_.OPEN_WAKA,e.startTagPosition=e.position):h(t)||(A(e,"Non-whitespace before first tag."),e.textNode=t,e.state=_.TEXT)}function L(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}_=t.STATE,String.fromCodePoint||(y=String.fromCharCode,w=Math.floor,E=function(){var e,t,r=16384,n=[],o=-1,i=arguments.length;if(!i)return"";for(var a="";++o<i;){var s=Number(arguments[o]);if(!isFinite(s)||s<0||s>1114111||w(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,n.push(e,t)),(o+1===i||n.length>r)&&(a+=y.apply(null,n),n.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:E,configurable:!0,writable:!0}):String.fromCodePoint=E)}(t)}).call(t,r(6).Buffer)},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=c(e),n=r[0],a=r[1],s=new i(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),l=0,u=a>0?n-4:n,d=0;d<u;d+=4)t=o[e.charCodeAt(d)]<<18|o[e.charCodeAt(d+1)]<<12|o[e.charCodeAt(d+2)]<<6|o[e.charCodeAt(d+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=o[e.charCodeAt(d)]<<2|o[e.charCodeAt(d+1)]>>4,s[l++]=255&t),1===a&&(t=o[e.charCodeAt(d)]<<10|o[e.charCodeAt(d+1)]<<4|o[e.charCodeAt(d+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?o-1:0,p=r?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),i-=c}return(f?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[r+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[r+f]=255&a,f+=h,a/=256,c-=8);e[r+f-h]|=128*m}},function(e,t){},function(e,t,r){"use strict";var n=r(16).Buffer,o=r(148);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,o,i=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=i,o=s,t.copy(r,o),s+=a.data.length,a=a.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o,i,a,s,l=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return c[l]=o,n(l),l++},p.clearImmediate=f}function f(e){delete c[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(4),r(13))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(t,r(4))},function(e,t,r){"use strict";e.exports=i;var n=r(61),o=r(14);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}o.inherits=r(7),o.inherits(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(29)},function(e,t,r){e.exports=r(5)},function(e,t,r){e.exports=r(28).Transform},function(e,t,r){e.exports=r(28).PassThrough},function(e,t,r){var n=r(31),o=r(54);e.exports=function(e,t){var r,i,a;return r=function(e){var t=n.copyOptions(e);return n.ensureSpacesExists(t),t}(t),i=o(e,r),a="compact"in r&&r.compact?"_parent":"parent",("addParent"in r&&r.addParent?JSON.stringify(i,(function(e,t){return e===a?"_":t}),r.spaces):JSON.stringify(i,null,r.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(e,t,r){(function(t){var n=r(62);e.exports=function(e,r){e instanceof t&&(e=e.toString());var o=null;if("string"==typeof e)try{o=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else o=e;return n(o,r)}}).call(t,r(6).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKAROUND3=""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e,t){super(e),t&&(this.root=t.root)}}t.InitializableXmlComponent=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={val:"w:val",color:"w:color",space:"w:space",sz:"w:sz"}}}t.BorderAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(){super("w:instrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("PAGE")}}t.Page=a;class s extends o.XmlComponent{constructor(){super("w:instrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("NUMPAGES")}}t.NumberOfPages=s;class l extends o.XmlComponent{constructor(){super("w:instrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("SECTIONPAGES")}}t.NumberOfPagesSection=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(17),o=r(71);class i extends n.Run{constructor(e){if("string"==typeof e)return super({}),void this.root.push(new o.Text(e));super(e)}}t.TextRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(17),o=r(164);class i extends n.Run{constructor(e){if("string"==typeof e)return super({}),void this.root.push(new o.Symbol(e));super(e),this.root.push(new o.Symbol(e.char,e.symbolfont))}}t.SymbolRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={char:"w:char",symbolfont:"w:font"}}}class i extends n.XmlComponent{constructor(e="",t="Wingdings"){super("w:sym"),this.root.push(new o({char:e,symbolfont:t}))}}t.Symbol=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(72),o=r(3);class i extends o.Run{constructor(e,t){super({});const r=new n.Drawing(e,t);this.root.push(r)}}t.PictureRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(167),i=r(210);class a extends n.XmlComponent{constructor(e,t={}){super("w:drawing"),t.floating?this.root.push(new o.Anchor(e,e.dimensions,t)):(this.inline=new i.Inline(e,e.dimensions),this.root.push(this.inline))}scale(e,t){this.inline.scale(e,t)}}t.Drawing=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(168)),n(r(81))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(73),i=r(76),a=r(36),s=r(77),l=r(78),c=r(79),u=r(80),d=r(81);class p extends n.XmlComponent{constructor(e,t,r){super("wp:anchor");const n=Object.assign({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},r.floating);if(this.root.push(new d.AnchorAttributes({distT:n.margins&&n.margins.top||0,distB:n.margins&&n.margins.bottom||0,distL:n.margins&&n.margins.left||0,distR:n.margins&&n.margins.right||0,simplePos:"0",allowOverlap:!0===n.allowOverlap?"1":"0",behindDoc:!0===n.behindDocument?"1":"0",locked:!0===n.lockAnchor?"1":"0",layoutInCell:!0===n.layoutInCell?"1":"0",relativeHeight:n.zIndex?n.zIndex:t.emus.y})),this.root.push(new o.SimplePos),this.root.push(new o.HorizontalPosition(n.horizontalPosition)),this.root.push(new o.VerticalPosition(n.verticalPosition)),this.root.push(new c.Extent(t.emus.x,t.emus.y)),this.root.push(new l.EffectExtent),void 0!==r.floating&&void 0!==r.floating.wrap)switch(r.floating.wrap.type){case a.TextWrappingType.SQUARE:this.root.push(new a.WrapSquare(r.floating.wrap,r.floating.margins));break;case a.TextWrappingType.TIGHT:this.root.push(new a.WrapTight(r.floating.margins));break;case a.TextWrappingType.TOP_AND_BOTTOM:this.root.push(new a.WrapTopAndBottom(r.floating.margins));break;case a.TextWrappingType.NONE:default:this.root.push(new a.WrapNone)}else this.root.push(new a.WrapNone);this.root.push(new s.DocProperties),this.root.push(new u.GraphicFrameProperties),this.root.push(new i.Graphic(e,t.emus.x,t.emus.y))}}t.Anchor=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class i extends n.XmlComponent{constructor(){super("wp:simplePos"),this.root.push(new o({x:0,y:0}))}}t.SimplePos=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(74),i=r(35),a=r(75);class s extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class l extends n.XmlComponent{constructor(e){if(super("wp:positionH"),this.root.push(new s({relativeFrom:e.relative||i.HorizontalPositionRelativeFrom.PAGE})),e.align)this.root.push(new o.Align(e.align));else{if(void 0===e.offset)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new a.PositionOffset(e.offset))}}}t.HorizontalPosition=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(74),i=r(35),a=r(75);class s extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class l extends n.XmlComponent{constructor(e){if(super("wp:positionV"),this.root.push(new s({relativeFrom:e.relative||i.VerticalPositionRelativeFrom.PAGE})),e.align)this.root.push(new o.Align(e.align));else{if(void 0===e.offset)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new a.PositionOffset(e.offset))}}}t.VerticalPosition=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(173);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={a:"xmlns:a"}}}class a extends n.XmlComponent{constructor(e,t,r){super("a:graphic"),this.root.push(new i({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new o.GraphicData(e,t,r),this.root.push(this.data)}setXY(e,t){this.data.setXY(e,t)}}t.Graphic=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(174))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(175),i=r(176);class a extends n.XmlComponent{constructor(e,t,r){super("a:graphicData"),this.root.push(new o.GraphicDataAttributes({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new i.Pic(e,t,r),this.root.push(this.pic)}setXY(e,t){this.pic.setXY(e,t)}}t.GraphicData=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={uri:"uri"}}}t.GraphicDataAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(177))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(178),i=r(182),a=r(188),s=r(189);class l extends n.XmlComponent{constructor(e,t,r){super("pic:pic"),this.root.push(new a.PicAttributes({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.shapeProperties=new s.ShapeProperties(t,r),this.root.push(new i.NonVisualPicProperties),this.root.push(new o.BlipFill(e)),this.root.push(new s.ShapeProperties(t,r))}setXY(e,t){this.shapeProperties.setXY(e,t)}}t.Pic=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(179),i=r(180),a=r(181);class s extends n.XmlComponent{constructor(e){super("pic:blipFill"),this.root.push(new o.Blip(e)),this.root.push(new i.SourceRectangle),this.root.push(new a.Stretch)}}t.BlipFill=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={embed:"r:embed",cstate:"cstate"}}}class i extends n.XmlComponent{constructor(e){super("a:blip"),this.root.push(new o({embed:`rId{${e.fileName}}`,cstate:"none"}))}}t.Blip=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("a:srcRect")}}t.SourceRectangle=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("a:fillRect")}}class i extends n.XmlComponent{constructor(){super("a:stretch"),this.root.push(new o)}}t.Stretch=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(183),i=r(186);class a extends n.XmlComponent{constructor(){super("pic:nvPicPr"),this.root.push(new i.NonVisualProperties),this.root.push(new o.ChildNonVisualProperties)}}t.NonVisualPicProperties=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(184);class i extends n.XmlComponent{constructor(){super("pic:cNvPicPr"),this.root.push(new o.PicLocks)}}t.ChildNonVisualProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(185);class i extends n.XmlComponent{constructor(){super("a:picLocks"),this.root.push(new o.PicLocksAttributes({noChangeAspect:1,noChangeArrowheads:1}))}}t.PicLocks=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"}}}t.PicLocksAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(187);class i extends n.XmlComponent{constructor(){super("pic:cNvPr"),this.root.push(new o.NonVisualPropertiesAttributes({id:0,name:"",descr:""}))}}t.NonVisualProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"id",name:"name",descr:"desc"}}}t.NonVisualPropertiesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:pic"}}}t.PicAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(190),i=r(196),a=r(199);class s extends n.XmlComponent{constructor(e,t){super("pic:spPr"),this.root.push(new a.ShapePropertiesAttributes({bwMode:"auto"})),this.form=new o.Form(e,t),this.root.push(this.form),this.root.push(new i.PresetGeometry)}setXY(e,t){this.form.setXY(e,t)}}t.ShapeProperties=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(191))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(192),i=r(194);class a extends n.XmlComponent{constructor(e,t){super("a:xfrm"),this.extents=new o.Extents(e,t),this.root.push(this.extents),this.root.push(new i.Offset)}setXY(e,t){this.extents.setXY(e,t)}}t.Form=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(193);class i extends n.XmlComponent{constructor(e,t){super("a:ext"),this.attributes=new o.ExtentsAttributes({cx:e,cy:t}),this.root.push(this.attributes)}setXY(e,t){this.attributes.set({cx:e,cy:t})}}t.Extents=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}t.ExtentsAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(195);class i extends n.XmlComponent{constructor(){super("a:off"),this.root.push(new o.OffsetAttributes({x:0,y:0}))}}t.Offset=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}t.OffsetAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(197),i=r(198);class a extends n.XmlComponent{constructor(){super("a:prstGeom"),this.root.push(new i.PresetGeometryAttributes({prst:"rect"})),this.root.push(new o.AdjustmentValues)}}t.PresetGeometry=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("a:avLst")}}t.AdjustmentValues=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={prst:"prst"}}}t.PresetGeometryAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={bwMode:"bwMode"}}}t.ShapePropertiesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.SQUARE=1]="SQUARE",e[e.TIGHT=2]="TIGHT",e[e.TOP_AND_BOTTOM=3]="TOP_AND_BOTTOM"}(t.TextWrappingType||(t.TextWrappingType={})),function(e){e.BOTH_SIDES="bothSides",e.LEFT="left",e.RIGHT="right",e.LARGEST="largest"}(t.TextWrappingSide||(t.TextWrappingSide={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("wp:wrapNone")}}t.WrapNone=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(36);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"}}}class a extends n.XmlComponent{constructor(e,t={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new i({wrapText:e.side||o.TextWrappingSide.BOTH_SIDES,distT:t.top,distB:t.bottom,distL:t.left,distR:t.right}))}}t.WrapSquare=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class i extends n.XmlComponent{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new o({distT:e.top,distB:e.bottom}))}}t.WrapTight=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class i extends n.XmlComponent{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new o({distT:e.top,distB:e.bottom}))}}t.WrapTopAndBottom=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"id",name:"name",descr:"descr"}}}t.DocPropertiesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={b:"b",l:"l",r:"r",t:"t"}}}t.EffectExtentAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}t.ExtentAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(209);class i extends n.XmlComponent{constructor(){super("a:graphicFrameLocks"),this.root.push(new o.GraphicFrameLockAttributes({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}t.GraphicFrameLocks=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"}}}t.GraphicFrameLockAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(211))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(77),i=r(78),a=r(79),s=r(80),l=r(76),c=r(212);class u extends n.XmlComponent{constructor(e,t){super("wp:inline"),this.dimensions=t,this.root.push(new c.InlineAttributes({distT:0,distB:0,distL:0,distR:0})),this.extent=new a.Extent(t.emus.x,t.emus.y),this.graphic=new l.Graphic(e,t.emus.x,t.emus.y),this.root.push(this.extent),this.root.push(new i.EffectExtent),this.root.push(new o.DocProperties),this.root.push(new s.GraphicFrameProperties),this.root.push(this.graphic)}scale(e,t){const r=Math.round(this.dimensions.emus.x*e),n=Math.round(this.dimensions.emus.y*t);this.extent.setXY(r,n),this.graphic.setXY(r,n)}}t.Inline=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR"}}}t.InlineAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),o=r(18),i=r(214);class a extends n.Run{constructor(e){super({}),this.root.push(new o.Begin(!0)),this.root.push(new i.SequentialIdentifierInstruction(e)),this.root.push(new o.Separate),this.root.push(new o.End)}}t.SequentialIdentifier=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(e){super("w:instrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("SEQ "+e)}}t.SequentialIdentifierInstruction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:tab")}}t.Tab=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(37),i=r(21),a=r(3);class s extends n.XmlComponent{constructor(e){if(super("w:p"),"string"==typeof e)return this.properties=new i.ParagraphProperties({}),this.root.push(this.properties),void this.root.push(new a.TextRun(e));if(e instanceof a.PictureRun)return this.properties=new i.ParagraphProperties({}),this.root.push(this.properties),void this.root.push(e);if(this.properties=new i.ParagraphProperties(e),this.root.push(this.properties),e.text&&this.root.push(new a.TextRun(e.text)),e.children)for(const t of e.children)t instanceof o.Bookmark?(this.root.push(t.start),this.root.push(t.text),this.root.push(t.end)):this.root.push(t)}prepForXml(e){for(const t of this.root)if(t instanceof o.HyperlinkRef){const r=this.root.indexOf(t);this.root[r]=e.HyperlinkCache[t.id]}return super.prepForXml()}addRunToFront(e){return this.root.splice(1,0,e),this}}t.Paragraph=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(3),i=r(218);!function(e){e.INTERNAL="INTERNAL",e.EXTERNAL="EXTERNAL"}(t.HyperlinkType||(t.HyperlinkType={})),t.HyperlinkRef=class{constructor(e){this.id=e}};class a extends n.XmlComponent{constructor(e,t,r){super("w:hyperlink"),this.linkId=t;const n={history:1,anchor:r||void 0,id:r?void 0:"rId"+this.linkId},a=new i.HyperlinkAttributes(n);this.root.push(a),this.textRun=new o.TextRun({text:e,style:"Hyperlink"}),this.root.push(this.textRun)}get TextRun(){return this.textRun}}t.Hyperlink=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"r:id",history:"w:history",anchor:"w:anchor"}}}t.HyperlinkAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(86),i=r(3),a=r(228);t.Bookmark=class{constructor(e,t){const r=o.generate().toLowerCase();this.start=new s(e,r),this.text=new i.TextRun(t),this.end=new l(r)}};class s extends n.XmlComponent{constructor(e,t){super("w:bookmarkStart");const r=new a.BookmarkStartAttributes({name:e,id:t});this.root.push(r)}}t.BookmarkStart=s;class l extends n.XmlComponent{constructor(e){super("w:bookmarkEnd");const t=new a.BookmarkEndAttributes({id:e});this.root.push(t)}}t.BookmarkEnd=l},function(e,t,r){"use strict";var n=r(20),o=r(222),i=r(226),a=r(227)||0;function s(){return o(a)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return n.seed(t),e.exports},e.exports.worker=function(t){return a=t,e.exports},e.exports.characters=function(e){return void 0!==e&&n.characters(e),n.shuffled()},e.exports.isValid=i},function(e,t,r){"use strict";var n=1;e.exports={nextValue:function(){return(n=(9301*n+49297)%233280)/233280},seed:function(e){n=e}}},function(e,t,r){"use strict";var n,o,i=r(223);r(20),e.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1567752802062));return r===o?n++:(n=0,o=r),t+=i(7),t+=i(e),n>0&&(t+=i(n)),t+=i(r)}},function(e,t,r){"use strict";var n=r(20),o=r(224),i=r(225);e.exports=function(e){for(var t,r=0,a="";!t;)a+=i(o,n.get(),1),t=e<Math.pow(16,r+1),r++;return a}},function(e,t,r){"use strict";var n,o="object"==typeof window&&(window.crypto||window.msCrypto);n=o&&o.getRandomValues?function(e){return o.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=n},function(e,t){e.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,o=Math.ceil(1.6*n*r/t.length),i="";;)for(var a=o,s=e(a);a--;)if((i+=t[s[a]&n]||"").length===+r)return i}},function(e,t,r){"use strict";var n=r(20);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+n.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},function(e,t,r){"use strict";e.exports=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"w:id",name:"w:name"}}}t.BookmarkStartAttributes=o;class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}t.BookmarkEndAttributes=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new n.Attributes({val:e}))}}t.OutlineLevel=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:bidi")}}t.Bidirectional=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(232)),n(r(233)),n(r(235)),n(r(2)),n(r(240)),n(r(249)),n(r(250)),n(r(253)),n(r(255))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("m:oMath");for(const t of e.children)this.root.push(t)}}t.Math=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(234);class i extends n.XmlComponent{constructor(e){super("m:r"),this.root.push(new o.MathText(e))}}t.MathRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("m:t"),this.root.push(e)}}t.MathText=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(236)),n(r(87)),n(r(88))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(87),i=r(88);class a extends n.XmlComponent{constructor(e){super("m:f"),this.root.push(new i.MathNumerator(e.numerator)),this.root.push(new o.MathDenominator(e.denominator))}}t.MathFraction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class i extends n.XmlComponent{constructor(){super("m:subHide"),this.root.push(new o({hide:1}))}}t.MathSubScriptHide=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class i extends n.XmlComponent{constructor(){super("m:supHide"),this.root.push(new o({hide:1}))}}t.MathSuperScriptHide=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(90),i=r(92),a=r(93),s=r(94);class l extends n.XmlComponent{constructor(e){super("m:nary"),this.root.push(new i.MathNArayProperties("∑",!!e.superScript,!!e.subScript)),e.subScript&&this.root.push(new a.MathSubScriptElement(e.subScript)),e.superScript&&this.root.push(new s.MathSuperScriptElement(e.superScript)),this.root.push(new o.MathBase(e.children))}}t.MathSum=l},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(241)),n(r(243)),n(r(245)),n(r(247))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(242)),n(r(95))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(95);class a extends n.XmlComponent{constructor(e){super("m:sSup"),this.root.push(new i.MathSuperScriptProperties),this.root.push(new o.MathBase(e.children)),this.root.push(new o.MathSuperScriptElement(e.superScript))}}t.MathSuperScript=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(244)),n(r(96))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(96);class a extends n.XmlComponent{constructor(e){super("m:sSub"),this.root.push(new i.MathSubScriptProperties),this.root.push(new o.MathBase(e.children)),this.root.push(new o.MathSubScriptElement(e.subScript))}}t.MathSubScript=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(246)),n(r(97))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(97);class a extends n.XmlComponent{constructor(e){super("m:sSubSup"),this.root.push(new i.MathSubSuperScriptProperties),this.root.push(new o.MathBase(e.children)),this.root.push(new o.MathSubScriptElement(e.subScript)),this.root.push(new o.MathSuperScriptElement(e.superScript))}}t.MathSubSuperScript=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(248)),n(r(98))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(98);class a extends n.XmlComponent{constructor(e){super("m:sPre"),this.root.push(new i.MathPreSubSuperScriptProperties),this.root.push(new o.MathBase(e.children)),this.root.push(new o.MathSubScriptElement(e.subScript)),this.root.push(new o.MathSuperScriptElement(e.superScript))}}t.MathPreSubSuperScript=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKAROUND4=""},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(99)),n(r(251)),n(r(100))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(99),a=r(100);class s extends n.XmlComponent{constructor(e){super("m:rad"),this.root.push(new a.MathRadicalProperties(!!e.degree)),this.root.push(new i.MathDegree(e.degree)),this.root.push(new o.MathBase(e.children))}}t.MathRadical=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class i extends n.XmlComponent{constructor(){super("m:degHide"),this.root.push(new o({hide:1}))}}t.MathDegreeHide=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(254)),n(r(101)),n(r(102))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(101),a=r(102);class s extends n.XmlComponent{constructor(e){super("m:func"),this.root.push(new a.MathFunctionProperties),this.root.push(new i.MathFunctionName(e.name)),this.root.push(new o.MathBase(e.children))}}t.MathFunction=s},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(256)),n(r(259)),n(r(260)),n(r(261))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(22);class a extends n.XmlComponent{constructor(e){super("m:d"),this.root.push(new i.MathBracketProperties),this.root.push(new o.MathBase(e.children))}}t.MathRoundBrackets=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class i extends n.XmlComponent{constructor(e){super("m:begChr"),this.root.push(new o({character:e}))}}t.MathBeginningCharacter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class i extends n.XmlComponent{constructor(e){super("m:endChr"),this.root.push(new o({character:e}))}}t.MathEndingCharacter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(22);class a extends n.XmlComponent{constructor(e){super("m:d"),this.root.push(new i.MathBracketProperties({beginningCharacter:"[",endingCharacter:"]"})),this.root.push(new o.MathBase(e.children))}}t.MathSquareBrackets=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(22);class a extends n.XmlComponent{constructor(e){super("m:d"),this.root.push(new i.MathBracketProperties({beginningCharacter:"{",endingCharacter:"}"})),this.root.push(new o.MathBase(e.children))}}t.MathCurlyBrackets=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(2),i=r(22);class a extends n.XmlComponent{constructor(e){super("m:d"),this.root.push(new i.MathBracketProperties({beginningCharacter:"〈",endingCharacter:"〉"})),this.root.push(new o.MathBase(e.children))}}t.MathAngledBrackets=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(263)),n(r(10)),n(r(103)),n(r(39)),n(r(278))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(264),i=r(10),a=r(103);class s extends n.XmlComponent{constructor({rows:e,width:t,columnWidths:r=Array(Math.max(...e.map(e=>e.CellCount))).fill(100),margins:{marginUnitType:n,top:s,bottom:l,right:c,left:u}={marginUnitType:i.WidthType.AUTO,top:0,bottom:0,right:0,left:0},float:d,layout:p,borders:f,alignment:h}){super("w:tbl"),this.properties=new a.TableProperties,this.root.push(this.properties),f?this.properties.setBorder(f):this.properties.setBorder({}),t?this.properties.setWidth(t.size,t.type):this.properties.setWidth(100),this.properties.CellMargin.addBottomMargin(l||0,n),this.properties.CellMargin.addTopMargin(s||0,n),this.properties.CellMargin.addLeftMargin(u||0,n),this.properties.CellMargin.addRightMargin(c||0,n),this.root.push(new o.TableGrid(r));for(const t of e)this.root.push(t);e.forEach((t,r)=>{if(r===e.length-1)return;let n=0;t.cells.forEach(t=>{if(t.options.rowSpan&&t.options.rowSpan>1){const o=new i.TableCell({rowSpan:t.options.rowSpan-1,columnSpan:t.options.columnSpan,borders:t.options.borders,children:[],verticalMerge:i.VerticalMergeType.CONTINUE});e[r+1].addCellToColumnIndex(o,n)}n+=t.options.columnSpan||1})}),d&&this.properties.setTableFloatProperties(d),p&&this.properties.setLayout(p),h&&this.properties.setAlignment(h)}}t.Table=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("w:tblGrid");for(const t of e)this.root.push(new a(t))}}t.TableGrid=o;class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={w:"w:w"}}}class a extends n.XmlComponent{constructor(e){super("w:gridCol"),void 0!==e&&this.root.push(new i({w:e}))}}t.GridCol=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(0),i=r(38),a=r(266);class s extends o.XmlComponent{constructor(e){super("w:tc"),this.options=e,this.properties=new a.TableCellProperties,this.root.push(this.properties);for(const t of e.children)this.root.push(t);e.verticalAlign&&this.properties.setVerticalAlign(e.verticalAlign),e.textDirection&&this.properties.setTextDirection(e.textDirection),e.verticalMerge?this.properties.addVerticalMerge(e.verticalMerge):e.rowSpan&&e.rowSpan>1&&this.properties.addVerticalMerge(i.VerticalMergeType.RESTART),e.margins&&this.properties.addMargins(e.margins),e.shading&&this.properties.setShading(e.shading),e.columnSpan&&this.properties.addGridSpan(e.columnSpan),e.width&&this.properties.setWidth(e.width.size,e.width.type),e.borders&&(e.borders.top&&this.properties.Borders.addTopBorder(e.borders.top.style,e.borders.top.size,e.borders.top.color),e.borders.bottom&&this.properties.Borders.addBottomBorder(e.borders.bottom.style,e.borders.bottom.size,e.borders.bottom.color),e.borders.left&&this.properties.Borders.addLeftBorder(e.borders.left.style,e.borders.left.size,e.borders.left.color),e.borders.right&&this.properties.Borders.addRightBorder(e.borders.right.style,e.borders.right.size,e.borders.right.color))}prepForXml(e){return this.root[this.root.length-1]instanceof n.Paragraph||this.root.push(new n.Paragraph({})),super.prepForXml(e)}}t.TableCell=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(39),i=r(268),a=r(38);class s extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:tcPr"),this.cellBorder=new a.TableCellBorders,this.root.push(this.cellBorder)}get Borders(){return this.cellBorder}addGridSpan(e){return this.root.push(new a.GridSpan(e)),this}addVerticalMerge(e){return this.root.push(new a.VerticalMerge(e)),this}setVerticalAlign(e){return this.root.push(new a.VAlign(e)),this}setWidth(e,t=a.WidthType.AUTO){return this.root.push(new a.TableCellWidth(e,t)),this}setShading(e){return this.root.push(new o.TableShading(e)),this}addMargins(e){return this.root.push(new i.TableCellMargin(e)),this}setTextDirection(e){return this.root.push(new a.TDirection(e)),this}}t.TableCellProperties=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={fill:"w:fill",color:"w:color",val:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:shd"),this.root.push(new o(e))}}t.TableShading=i,function(e){e.CLEAR="clear",e.DIAGONAL_CROSS="diagCross",e.DIAGONAL_STRIPE="diagStripe",e.HORIZONTAL_CROSS="horzCross",e.HORIZONTAL_STRIPE="horzStripe",e.NIL="nil",e.PERCENT_5="pct5",e.PERCENT_10="pct10",e.PERCENT_12="pct12",e.PERCENT_15="pct15",e.PERCENT_20="pct20",e.PERCENT_25="pct25",e.PERCENT_30="pct30",e.PERCENT_35="pct35",e.PERCENT_37="pct37",e.PERCENT_40="pct40",e.PERCENT_45="pct45",e.PERCENT_50="pct50",e.PERCENT_55="pct55",e.PERCENT_60="pct60",e.PERCENT_62="pct62",e.PERCENT_65="pct65",e.PERCENT_70="pct70",e.PERCENT_75="pct75",e.PERCENT_80="pct80",e.PERCENT_85="pct85",e.PERCENT_87="pct87",e.PERCENT_90="pct90",e.PERCENT_95="pct95",e.REVERSE_DIAGONAL_STRIPE="reverseDiagStripe",e.SOLID="solid",e.THIN_DIAGONAL_CROSS="thinDiagCross",e.THIN_DIAGONAL_STRIPE="thinDiagStripe",e.THIN_HORIZONTAL_CROSS="thinHorzCross",e.THIN_REVERSE_DIAGONAL_STRIPE="thinReverseDiagStripe",e.THIN_VERTICAL_STRIPE="thinVertStripe",e.VERTICAL_STRIPE="vertStripe"}(t.ShadingType||(t.ShadingType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(269);class i extends n.XmlComponent{constructor({top:e=0,left:t=0,right:r=0,bottom:n=0}){super("w:tcMar"),this.root.push(new o.TopCellMargin(e)),this.root.push(new o.BottomCellMargin(n)),this.root.push(new o.RightCellMargin(r)),this.root.push(new o.LeftCellMargin(t))}}t.TableCellMargin=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={width:"w:w",type:"w:type"}}}class i extends n.XmlComponent{constructor(e){super("w:top"),this.root.push(new o({width:e,type:"dxa"}))}}t.TopCellMargin=i;class a extends n.XmlComponent{constructor(e){super("w:bottom"),this.root.push(new o({width:e,type:"dxa"}))}}t.BottomCellMargin=a;class s extends n.XmlComponent{constructor(e){super("w:start"),this.root.push(new o({width:e,type:"dxa"}))}}t.LeftCellMargin=s;class l extends n.XmlComponent{constructor(e){super("w:end"),this.root.push(new o({width:e,type:"dxa"}))}}t.RightCellMargin=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(1),i=r(39),a=r(10),s=r(104),l=r(276),c=r(109),u=r(111),d=r(277);class p extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:tblPr"),this.cellMargin=new l.TableCellMargin,this.root.push(this.cellMargin)}setWidth(e,t=a.WidthType.AUTO){return this.root.push(new d.PreferredTableWidth(t,e)),this}setLayout(e){this.root.push(new u.TableLayout(e))}setBorder(e){return this.root.push(new s.TableBorders(e)),this}get CellMargin(){return this.cellMargin}setTableFloatProperties(e){return this.root.push(new c.TableFloatProperties(e)),this}setShading(e){return this.root.push(new i.TableShading(e)),this}setAlignment(e){this.root.push(new o.Alignment(e))}}t.TableProperties=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(105);!function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(273));class i extends n.XmlComponent{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new o.StyleForParagraph(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new o.StyleForCharacter(t))}}t.Styles=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19),o=r(43),i=r(42);class a extends i.StyleForParagraph{constructor(e){super(Object.assign({},e,{basedOn:"Normal",next:"Normal",quickFormat:!0}))}}t.HeadingStyle=a,t.TitleStyle=class extends a{constructor(e){super(Object.assign({},e,{id:"Title",name:"Title"}))}},t.Heading1Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading1",name:"Heading 1"}))}},t.Heading2Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading2",name:"Heading 2"}))}},t.Heading3Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading3",name:"Heading 3"}))}},t.Heading4Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading4",name:"Heading 4"}))}},t.Heading5Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading5",name:"Heading 5"}))}},t.Heading6Style=class extends a{constructor(e){super(Object.assign({},e,{id:"Heading6",name:"Heading 6"}))}},t.StrongStyle=class extends a{constructor(e){super(Object.assign({},e,{id:"Strong",name:"Strong"}))}};class s extends i.StyleForParagraph{constructor(e){super(Object.assign({},e,{id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0}))}}t.ListParagraph=s;class l extends i.StyleForParagraph{constructor(e){super(Object.assign({},e,{id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:"auto"}},run:{size:20}}))}}t.FootnoteText=l;class c extends o.StyleForCharacter{constructor(e){super(Object.assign({},e,{id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}}))}}t.FootnoteReferenceStyle=c;class u extends o.StyleForCharacter{constructor(e){super(Object.assign({},e,{id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}}))}}t.FootnoteTextChar=u;class d extends o.StyleForCharacter{constructor(e){super(Object.assign({},e,{id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:n.UnderlineType.SINGLE}}}))}}t.HyperlinkStyle=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(274))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SINGLE="single",e.DASH_DOT_STROKED="dashDotStroked",e.DASHED="dashed",e.DASH_SMALL_GAP="dashSmallGap",e.DOT_DASH="dotDash",e.DOT_DOT_DASH="dotDotDash",e.DOTTED="dotted",e.DOUBLE="double",e.DOUBLE_WAVE="doubleWave",e.INSET="inset",e.NIL="nil",e.NONE="none",e.OUTSET="outset",e.THICK="thick",e.THICK_THIN_LARGE_GAP="thickThinLargeGap",e.THICK_THIN_MEDIUM_GAP="thickThinMediumGap",e.THICK_THIN_SMALL_GAP="thickThinSmallGap",e.THIN_THICK_LARGE_GAP="thinThickLargeGap",e.THIN_THICK_MEDIUM_GAP="thinThickMediumGap",e.THIN_THICK_SMALL_GAP="thinThickSmallGap",e.THIN_THICK_THIN_LARGE_GAP="thinThickThinLargeGap",e.THIN_THICK_THIN_MEDIUM_GAP="thinThickThinMediumGap",e.THIN_THICK_THIN_SMALL_GAP="thinThickThinSmallGap",e.THREE_D_EMBOSS="threeDEmboss",e.THREE_D_ENGRAVE="threeDEngrave",e.TRIPLE="triple",e.WAVE="wave"}(t.BorderStyle||(t.BorderStyle={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(107),i=r(108);class a extends n.XmlComponent{constructor(e){super("w:docDefaults"),this.runPropertiesDefaults=new i.RunPropertiesDefaults(e&&e.run),this.paragraphPropertiesDefaults=new o.ParagraphPropertiesDefaults(e&&e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}t.DocumentDefaults=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(10);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={value:"w:w",type:"w:type"}}}class a extends n.XmlComponent{setProperties(e,t=o.WidthType.DXA){this.root.push(new i({type:t,value:e}))}}class s extends n.IgnoreIfEmptyXmlComponent{constructor(){super("w:tblCellMar")}addTopMargin(e,t=o.WidthType.DXA){const r=new a("w:top");r.setProperties(e,t),this.root.push(r)}addLeftMargin(e,t=o.WidthType.DXA){const r=new a("w:left");r.setProperties(e,t),this.root.push(r)}addBottomMargin(e,t=o.WidthType.DXA){const r=new a("w:bottom");r.setProperties(e,t),this.root.push(r)}addRightMargin(e,t=o.WidthType.DXA){const r=new a("w:right");r.setProperties(e,t),this.root.push(r)}}t.TableCellMargin=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(10);class i extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",w:"w:w"}}}class a extends n.XmlComponent{constructor(e,t){super("w:tblW");const r=e===o.WidthType.PERCENTAGE?t+"%":t;this.root.push(new i({type:e,w:r}))}}t.PreferredTableWidth=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(279)),n(r(112)),n(r(113))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(10),i=r(112);class a extends n.XmlComponent{constructor(e){super("w:tr"),this.options=e,this.properties=new i.TableRowProperties,this.root.push(this.properties);for(const t of e.children)this.root.push(t);e.cantSplit&&this.properties.setCantSplit(),e.tableHeader&&this.properties.setTableHeader(),e.height&&this.properties.setHeight(e.height.height,e.height.rule)}get CellCount(){return this.options.children.length}get Children(){return this.options.children}get cells(){return this.root.filter(e=>e instanceof o.TableCell)}addCellToIndex(e,t){this.root.splice(t+1,0,e)}addCellToColumnIndex(e,t){const r=this.columnIndexToRootIndex(t,!0);this.addCellToIndex(e,r-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error("cell 'rootIndex' should between 1 to "+(this.root.length-1));let t=0;for(let r=1;r<e;r++)t+=this.root[r].options.columnSpan||1;return t}columnIndexToRootIndex(e,t=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let r=0,n=1;for(;r<=e;){if(n>=this.root.length){if(t)return this.root.length;throw new Error("cell 'columnIndex' should not great than "+(r-1))}const e=this.root[n];n+=1,r+=e&&e.options.columnSpan||1}return n-1}}t.TableRow=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(86),o=r(281),i=r(283),a=r(289),s=r(114),l=r(129),c=r(46),u=r(131),d=r(132),p=r(49),f=r(50),h=r(133),m=r(1),g=r(47),b=r(48),v=r(332),y=r(23),w=r(337),E=r(338);t.File=class{constructor(e={creator:"Un-named",revision:"1",lastModifiedBy:"Un-named"},t={},r=[]){if(this.currentRelationshipId=1,this.headers=[],this.footers=[],this.hyperlinkCache={},this.coreProperties=new a.CoreProperties(e),this.numbering=new h.Numbering(e.numbering?e.numbering:{config:[]}),this.docRelationships=new g.Relationships,this.fileRelationships=new g.Relationships,this.appProperties=new o.AppProperties,this.footNotes=new u.FootNotes,this.contentTypes=new i.ContentTypes,this.document=new s.Document({background:e.background||{}}),this.settings=new v.Settings,this.media=t.template&&t.template.media?t.template.media:new f.Media,t.template&&(this.currentRelationshipId=t.template.currentRelationshipId+1),t.template&&e.externalStyles)throw Error("can not use both template and external styles");if(t.template){const e=new w.ExternalStylesFactory;this.styles=e.newInstance(t.template.styles)}else if(e.externalStyles){const t=new w.ExternalStylesFactory;this.styles=t.newInstance(e.externalStyles)}else if(e.styles){const t=(new E.DefaultStylesFactory).newInstance(e.styles.default);this.styles=new y.Styles(Object.assign({},t,e.styles))}else{const e=new E.DefaultStylesFactory;this.styles=new y.Styles(e.newInstance())}if(this.addDefaultRelationships(),t.template&&t.template.headers)for(const e of t.template.headers)this.addHeaderToDocument(e.header,e.type);if(t.template&&t.template.footers)for(const e of t.template.footers)this.addFooterToDocument(e.footer,e.type);for(const e of r){this.document.Body.addSection(e.properties?e.properties:{});for(const t of e.children)if(t instanceof m.HyperlinkRef){const e=this.hyperlinkCache[t.id];this.document.add(e)}else this.document.add(t)}if(e.footnotes)for(const t of e.footnotes)this.footNotes.createFootNote(t);if(e.hyperlinks){const t={};for(const r in e.hyperlinks){if(!e.hyperlinks[r])continue;const n=e.hyperlinks[r],o=n.type===m.HyperlinkType.EXTERNAL?this.createHyperlink(n.link,n.text):this.createInternalHyperLink(r,n.text);t[r]=o}this.hyperlinkCache=t}e.features&&e.features.trackRevisions&&this.settings.addTrackRevisions()}addSection({headers:e={default:new d.Header},footers:t={default:new d.Header},margins:r={},size:n={},properties:o,children:i}){this.document.Body.addSection(Object.assign({},o,{headers:{default:e.default?this.createHeader(e.default):this.createHeader(new d.Header),first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footers:{default:t.default?this.createFooter(t.default):this.createFooter(new d.Footer),first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}},r,n));for(const e of i)if(e instanceof m.HyperlinkRef){const t=this.hyperlinkCache[e.id];this.document.add(t)}else this.document.add(e)}verifyUpdateFields(){this.document.getTablesOfContents().length&&this.settings.addUpdateFields()}createHyperlink(e,t=e){const r=new m.Hyperlink(t,n.generate().toLowerCase());return this.docRelationships.createRelationship(r.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",e,b.TargetModeType.EXTERNAL),r}createInternalHyperLink(e,t=e){return new m.Hyperlink(t,n.generate().toLowerCase(),e)}createHeader(e){const t=new p.HeaderWrapper(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addHeaderToDocument(t),t}createFooter(e){const t=new c.FooterWrapper(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=l.HeaderReferenceType.DEFAULT){this.headers.push({header:e,type:t}),this.docRelationships.createRelationship(e.Header.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=l.FooterReferenceType.DEFAULT){this.footers.push({footer:e,type:t}),this.docRelationships.createRelationship(e.Footer.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.docRelationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.docRelationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.docRelationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.docRelationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml")}get Document(){return this.document}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get DocumentRelationships(){return this.docRelationships}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get AppProperties(){return this.appProperties}get FootNotes(){return this.footNotes}get Settings(){return this.settings}get HyperlinkCache(){return this.hyperlinkCache}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(282);class i extends n.XmlComponent{constructor(){super("Properties"),this.root.push(new o.AppPropertiesAttributes({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}t.AppProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}t.AppPropertiesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(284),i=r(285),a=r(287);class s extends n.XmlComponent{constructor(){super("Types"),this.root.push(new o.ContentTypeAttributes({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new i.Default("image/png","png")),this.root.push(new i.Default("image/jpeg","jpeg")),this.root.push(new i.Default("image/jpeg","jpg")),this.root.push(new i.Default("image/bmp","bmp")),this.root.push(new i.Default("image/gif","gif")),this.root.push(new i.Default("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new i.Default("application/xml","xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml"))}addFooter(e){this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new a.Override("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}t.ContentTypes=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}t.ContentTypeAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(286);class i extends n.XmlComponent{constructor(e,t){super("Default"),this.root.push(new o.DefaultAttributes({contentType:e,extension:t}))}}t.Default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",extension:"Extension"}}}t.DefaultAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(288);class i extends n.XmlComponent{constructor(e,t){super("Override"),this.root.push(new o.OverrideAttributes({contentType:e,partName:t}))}}t.Override=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",partName:"PartName"}}}t.OverrideAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(290))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(11),i=r(291);class a extends n.XmlComponent{constructor(e){super("cp:coreProperties"),this.root.push(new o.DocumentAttributes({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new i.Title(e.title)),e.subject&&this.root.push(new i.Subject(e.subject)),e.creator&&this.root.push(new i.Creator(e.creator)),e.keywords&&this.root.push(new i.Keywords(e.keywords)),e.description&&this.root.push(new i.Description(e.description)),e.lastModifiedBy&&this.root.push(new i.LastModifiedBy(e.lastModifiedBy)),e.revision&&this.root.push(new i.Revision(e.revision)),this.root.push(new i.Created),this.root.push(new i.Modified)}}t.CoreProperties=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(11);class i extends n.XmlComponent{constructor(e){super("dc:title"),this.root.push(e)}}t.Title=i;class a extends n.XmlComponent{constructor(e){super("dc:subject"),this.root.push(e)}}t.Subject=a;class s extends n.XmlComponent{constructor(e){super("dc:creator"),this.root.push(e)}}t.Creator=s;class l extends n.XmlComponent{constructor(e){super("cp:keywords"),this.root.push(e)}}t.Keywords=l;class c extends n.XmlComponent{constructor(e){super("dc:description"),this.root.push(e)}}t.Description=c;class u extends n.XmlComponent{constructor(e){super("cp:lastModifiedBy"),this.root.push(e)}}t.LastModifiedBy=u;class d extends n.XmlComponent{constructor(e){super("cp:revision"),this.root.push(e)}}t.Revision=d;class p extends n.XmlComponent{getCurrentDate(){const e=new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"Z"}}t.DateComponent=p,t.Created=class extends p{constructor(){super("dcterms:created"),this.root.push(new o.DocumentAttributes({type:"dcterms:W3CDTF"})),this.root.push(this.getCurrentDate())}},t.Modified=class extends p{constructor(){super("dcterms:modified"),this.root.push(new o.DocumentAttributes({type:"dcterms:W3CDTF"})),this.root.push(this.getCurrentDate())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(115),i=r(11),a=r(130);class s extends n.XmlComponent{constructor(e){super("w:document"),this.root.push(new i.DocumentAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.body=new o.Body,this.root.push(new a.DocumentBackground(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}getTablesOfContents(){return this.body.getTablesOfContents()}}t.Document=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(12),i=r(116);class a extends n.XmlComponent{constructor(){super("w:body"),this.sections=[]}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new i.SectionProperties(e))}prepForXml(e){return 1===this.sections.length&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}getTablesOfContents(){return this.root.filter(e=>e instanceof o.TableOfContents)}createSectionParagraph(e){const t=new o.Paragraph({}),r=new o.ParagraphProperties({});return r.push(e),t.addChildElement(r),t}}t.Body=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(295);class i extends n.XmlComponent{constructor(e,t){super("w:cols"),this.root.push(new o.ColumnsAttributes({space:e,num:t}))}}t.Columns=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"w:space",num:"w:num"}}}t.ColumnsAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(297);class i extends n.XmlComponent{constructor(e){super("w:docGrid"),this.root.push(new o.DocGridAttributes({linePitch:e}))}}t.DocumentGrid=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={linePitch:"w:linePitch"}}}t.DocGridAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.CONTINUOUS="continuous",e.NEW_SECTION="newSection",e.NEW_PAGE="newPage"}(t.LineNumberRestartFormat||(t.LineNumberRestartFormat={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={lineNumberCountBy:"w:countBy",lineNumberStart:"w:start",lineNumberRestart:"w:restart",lineNumberDistance:"w:distance"}}}t.LineNumberAttributes=o;class i extends n.XmlComponent{constructor(e,t,r,n){super("w:lnNumType"),this.root.push(new o({lineNumberCountBy:e,lineNumberStart:t,lineNumberRestart:r,lineNumberDistance:n}))}}t.LineNumberType=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.ALL_PAGES="allPages",e.FIRST_PAGE="firstPage",e.NOT_FIRST_PAGE="notFirstPage"}(t.PageBorderDisplay||(t.PageBorderDisplay={})),function(e){e.PAGE="page",e.TEXT="text"}(t.PageBorderOffsetFrom||(t.PageBorderOffsetFrom={})),function(e){e.BACK="back",e.FRONT="front"}(t.PageBorderZOrder||(t.PageBorderZOrder={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={style:"w:val",size:"w:size",color:"w:color",space:"w:space"}}}class i extends n.XmlComponent{constructor(e,t){super(e),this.root.push(new o(t))}}class a extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"}}}class s extends n.IgnoreIfEmptyXmlComponent{constructor(e){if(super("w:pgBorders"),!e)return;let t={};e.pageBorders&&(t={display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder}),this.root.push(new a(t)),e.pageBorderTop&&this.root.push(new i("w:top",e.pageBorderTop)),e.pageBorderRight&&this.root.push(new i("w:right",e.pageBorderRight)),e.pageBorderBottom&&this.root.push(new i("w:bottom",e.pageBorderBottom)),e.pageBorderLeft&&this.root.push(new i("w:left",e.pageBorderLeft))}}t.PageBorders=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(301);class i extends n.XmlComponent{constructor(e,t,r,n,i,a,s,l){super("w:pgMar"),this.root.push(new o.PageMarginAttributes({top:e,right:t,bottom:r,left:n,header:i,footer:a,gutter:s,mirror:l}))}}t.PageMargin=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",mirror:"w:mirrorMargins"}}}t.PageMarginAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);!function(e){e.CARDINAL_TEXT="cardinalText",e.DECIMAL="decimal",e.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",e.DECIMAL_ENCLOSED_FULL_STOP="decimalEnclosedFullstop",e.DECIMAL_ENCLOSED_PAREN="decimalEnclosedParen",e.DECIMAL_ZERO="decimalZero",e.LOWER_LETTER="lowerLetter",e.LOWER_ROMAN="lowerRoman",e.NONE="none",e.ORDINAL_TEXT="ordinalText",e.UPPER_LETTER="upperLetter",e.UPPER_ROMAN="upperRoman",e.DECIMAL_FULL_WIDTH="decimalFullWidth"}(t.PageNumberFormat||(t.PageNumberFormat={}));class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={pageNumberStart:"w:start",pageNumberFormatType:"w:fmt"}}}t.PageNumberTypeAttributes=o;class i extends n.XmlComponent{constructor(e,t){super("w:pgNumType"),this.root.push(new o({pageNumberStart:e,pageNumberFormatType:t}))}}t.PageNumberType=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(304);class i extends n.XmlComponent{constructor(){super("w:titlePg"),this.root.push(new o.TitlePageAttributes({value:"1"}))}}t.TitlePage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={value:"w:val"}}}t.TitlePageAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(128);!function(e){e.BOTH="both",e.BOTTOM="bottom",e.CENTER="center",e.TOP="top"}(t.SectionVerticalAlignValue||(t.SectionVerticalAlignValue={}));class i extends n.XmlComponent{constructor(e){super("w:vAlign"),this.root.push(new o.SectionVerticalAlignAttributes({verticalAlign:e}))}}t.SectionVerticalAlign=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(126)),n(r(45))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"}}}t.DocumentBackgroundAttributes=o;class i extends n.XmlComponent{constructor(e){super("w:background"),this.root.push(new o({color:e.color?e.color:"FFFFFF",themeColor:e.themeColor,themeShade:e.themeShade,themeTint:e.themeTint}))}}t.DocumentBackground=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(309);class i extends n.InitializableXmlComponent{constructor(e,t){super("w:ftr",t),this.refId=e,t||this.root.push(new o.FooterAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}}t.Footer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"}}}t.FooterAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(311),i=r(48);class a extends n.XmlComponent{constructor(){super("Relationships"),this.root.push(new o.RelationshipsAttributes({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}addRelationship(e){this.root.push(e)}createRelationship(e,t,r,n){const o=new i.Relationship("rId"+e,t,r,n);return this.addRelationship(o),o}get RelationshipCount(){return this.root.length-1}}t.Relationships=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}t.RelationshipsAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"}}}t.RelationshipAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(1),i=r(314),a=r(318),s=r(320),l=r(322);class c extends n.XmlComponent{constructor(){super("w:footnotes"),this.currentId=1,this.root.push(new l.FootnotesAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new i.Footnote(-1,i.FootnoteType.SEPERATOR);e.add(new o.Paragraph({spacing:{after:0,line:240,lineRule:"auto"},children:[new s.SeperatorRun]})),this.root.push(e);const t=new i.Footnote(0,i.FootnoteType.CONTINUATION_SEPERATOR);t.add(new o.Paragraph({spacing:{after:0,line:240,lineRule:"auto"},children:[new a.ContinuationSeperatorRun]})),this.root.push(t)}createFootNote(e){const t=new i.Footnote(this.currentId);t.add(e),this.root.push(t),this.currentId++}}t.FootNotes=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(315),i=r(316);!function(e){e.SEPERATOR="separator",e.CONTINUATION_SEPERATOR="continuationSeparator"}(t.FootnoteType||(t.FootnoteType={}));class a extends n.XmlComponent{constructor(e,t){super("w:footnote"),this.root.push(new o.FootnoteAttributes({type:t,id:e}))}add(e){e.addRunToFront(new i.FootnoteRefRun),this.root.push(e)}}t.Footnote=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"w:id"}}}t.FootnoteAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(317);class i extends n.Run{constructor(){super({style:"FootnoteReference"}),this.root.push(new o.FootnoteRef)}}t.FootnoteRefRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:footnoteRef")}}t.FootnoteRef=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(319);class i extends n.Run{constructor(){super({}),this.root.push(new o.ContinuationSeperator)}}t.ContinuationSeperatorRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:continuationSeparator")}}t.ContinuationSeperator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(321);class i extends n.Run{constructor(){super({}),this.root.push(new o.Seperator)}}t.SeperatorRun=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:separator")}}t.Seperator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}t.FootnotesAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(324))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(325))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),o=r(70),i=r(0);class a extends i.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}t.FootNoteReferenceRunAttributes=a;class s extends i.XmlComponent{constructor(e){super("w:footnoteReference"),this.root.push(new a({id:e}))}}t.FootnoteReference=s;class l extends n.Run{constructor(e){super({}),this.properties.push(new o.Style("FootnoteReference")),this.root.push(new s(e))}}t.FootnoteReferenceRun=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(327);class i extends n.InitializableXmlComponent{constructor(e,t){super("w:hdr",t),this.refId=e,t||this.root.push(new o.HeaderAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}}t.Header=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"}}}t.HeaderAttributes=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);class o{static addImage(e,t,r,o,i){const a=e.Media.addMedia(t,r,o);return new n.PictureRun(a,i)}static generateId(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}constructor(){this.map=new Map}getMedia(e){const t=this.map.get(e);if(void 0===t)throw new Error("Cannot find image with the key "+e);return t}addMedia(e,t=100,r=100){const n=o.generateId()+".png";return this.createMedia(n,{width:t,height:r},e)}createMedia(e,t,r,n){const o={stream:"string"==typeof r?this.convertDataURIToBinary(r):r,path:n,fileName:e,dimensions:{pixels:{x:Math.round(t.width),y:Math.round(t.height)},emus:{x:Math.round(9525*t.width),y:Math.round(9525*t.height)}}};return this.map.set(e,o),o}get Array(){const e=new Array;return this.map.forEach(t=>{e.push(t)}),e}convertDataURIToBinary(e){const t=e.indexOf(";base64,")+";base64,".length;return"function"==typeof atob?new Uint8Array(atob(e.substring(t)).split("").map(e=>e.charCodeAt(0))):new(r(6).Buffer)(e,"base64")}}t.Media=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKAROUND2=""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44),o=r(1),i=r(0),a=r(11),s=r(134),l=r(24),c=r(135);class u extends i.XmlComponent{constructor(e){super("w:numbering"),this.abstractNumbering=[],this.concreteNumbering=[],this.root.push(new a.DocumentAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.nextId=0;const t=this.createAbstractNumbering([{level:0,format:l.LevelFormat.BULLET,text:"●",alignment:o.AlignmentType.LEFT,style:{paragraph:{indent:{left:n.convertInchesToTwip(.5),hanging:n.convertInchesToTwip(.25)}}}},{level:1,format:l.LevelFormat.BULLET,text:"○",alignment:o.AlignmentType.LEFT,style:{paragraph:{indent:{left:n.convertInchesToTwip(1),hanging:n.convertInchesToTwip(.25)}}}},{level:2,format:l.LevelFormat.BULLET,text:"■",alignment:o.AlignmentType.LEFT,style:{paragraph:{indent:{left:2160,hanging:n.convertInchesToTwip(.25)}}}},{level:3,format:l.LevelFormat.BULLET,text:"●",alignment:o.AlignmentType.LEFT,style:{paragraph:{indent:{left:2880,hanging:n.convertInchesToTwip(.25)}}}},{level:4,format:l.LevelFormat.BULLET,text:"○",alignment:o.AlignmentType.LEFT,style:{paragraph:{indent:{left:3600,hanging:n.convertInchesToTwip(.25)}}}},{level:5,format:l.LevelFormat.BULLET,text:"■",alignment:o.AlignmentType.LEFT,style:{paragraph:{indent:{left:4320,hanging:n.convertInchesToTwip(.25)}}}},{level:6,format:l.LevelFormat.BULLET,text:"●",alignment:o.AlignmentType.LEFT,style:{paragraph:{indent:{left:5040,hanging:n.convertInchesToTwip(.25)}}}},{level:7,format:l.LevelFormat.BULLET,text:"●",alignment:o.AlignmentType.LEFT,style:{paragraph:{indent:{left:5760,hanging:n.convertInchesToTwip(.25)}}}},{level:8,format:l.LevelFormat.BULLET,text:"●",alignment:o.AlignmentType.LEFT,style:{paragraph:{indent:{left:6480,hanging:n.convertInchesToTwip(.25)}}}}]);this.createConcreteNumbering(t);for(const t of e.config){const e=this.createAbstractNumbering(t.levels);this.createConcreteNumbering(e,t.reference)}}prepForXml(){return this.abstractNumbering.forEach(e=>this.root.push(e)),this.concreteNumbering.forEach(e=>this.root.push(e)),super.prepForXml()}createConcreteNumbering(e,t){const r=new c.ConcreteNumbering(this.nextId++,e.id,t);return this.concreteNumbering.push(r),r}createAbstractNumbering(e){const t=new s.AbstractNumbering(this.nextId++,e);return this.abstractNumbering.push(t),t}get ConcreteNumbering(){return this.concreteNumbering}}t.Numbering=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(e){super("w:multiLevelType"),this.root.push(new n.Attributes({val:e}))}}t.MultiLevelType=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(333)),n(r(136))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(334),i=r(335),a=r(336),s=r(136);class l extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}t.SettingsAttributes=l;class c extends n.XmlComponent{constructor(){super("w:settings"),this.root.push(new l({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.compatibility=new o.Compatibility,this.trackRevisions=new a.TrackRevisions,this.root.push(new i.DisplayBackgroundShape)}addUpdateFields(){this.root.find(e=>e instanceof s.UpdateFields)||this.addChildElement(new s.UpdateFields)}addCompatibility(){return this.root.find(e=>e instanceof o.Compatibility)||this.addChildElement(this.compatibility),this.compatibility}addTrackRevisions(){return this.root.find(e=>e instanceof a.TrackRevisions)||this.addChildElement(this.trackRevisions),this.trackRevisions}}t.Settings=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:doNotExpandShiftReturn")}}class i extends n.XmlComponent{constructor(){super("w:compat")}doNotExpandShiftReturn(){return this.root.push(new o),this}}t.Compatibility=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:displayBackgroundShape")}}t.DisplayBackgroundShape=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:trackRevisions")}}t.TrackRevisions=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(26),i=r(23);t.ExternalStylesFactory=class{newInstance(e){const t=o.xml2js(e,{compact:!1});let r;for(const e of t.elements||[])"w:styles"===e.name&&(r=e);if(void 0===r)throw new Error("can not find styles element");const a=r.elements||[];return new i.Styles({initialStyles:new n.ImportedRootElementAttributes(r.attributes),importedStyles:a.map(e=>n.convertToXmlComponent(e))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(11),o=r(106),i=r(105);t.DefaultStylesFactory=class{newInstance(e={}){return{initialStyles:new n.DocumentAttributes({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new o.DocumentDefaults(e.document),new i.TitleStyle(Object.assign({run:{size:56}},e.title)),new i.Heading1Style(Object.assign({run:{color:"2E74B5",size:32}},e.heading1)),new i.Heading2Style(Object.assign({run:{color:"2E74B5",size:26}},e.heading2)),new i.Heading3Style(Object.assign({run:{color:"1F4D78",size:24}},e.heading3)),new i.Heading4Style(Object.assign({run:{color:"2E74B5",italics:!0}},e.heading4)),new i.Heading5Style(Object.assign({run:{color:"2E74B5"}},e.heading5)),new i.Heading6Style(Object.assign({run:{color:"1F4D78"}},e.heading6)),new i.StrongStyle(Object.assign({run:{bold:!0}},e.strong)),new i.ListParagraph(e.listParagraph||{}),new i.HyperlinkStyle(e.hyperlink||{}),new i.FootnoteReferenceStyle(e.footnoteReference||{}),new i.FootnoteText(e.footnoteText||{}),new i.FootnoteTextChar(e.footnoteTextChar||{})]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKAROUND=""},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(341)),n(r(346))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(3),i=r(18),a=r(0),s=r(342),l=r(343),c=r(344);class u extends a.XmlComponent{constructor(e="Table of Contents",t){super("w:sdt"),this.root.push(new c.StructuredDocumentTagProperties(e));const r=new l.StructuredDocumentTagContent,a=new n.Paragraph({children:[new o.Run({children:[new i.Begin(!0),new s.FieldInstruction(t),new i.Separate]})]});r.addChildElement(a);const u=new n.Paragraph({children:[new o.Run({children:[new i.End]})]});r.addChildElement(u),this.root.push(r)}}t.TableOfContents=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(e={}){super("w:instrText"),this.properties=e,this.root.push(new i({space:n.SpaceType.PRESERVE}));let t="TOC";this.properties.captionLabel&&(t=`${t} \\a "${this.properties.captionLabel}"`),this.properties.entriesFromBookmark&&(t=`${t} \\b "${this.properties.entriesFromBookmark}"`),this.properties.captionLabelIncludingNumbers&&(t=`${t} \\c "${this.properties.captionLabelIncludingNumbers}"`),this.properties.sequenceAndPageNumbersSeparator&&(t=`${t} \\d "${this.properties.sequenceAndPageNumbersSeparator}"`),this.properties.tcFieldIdentifier&&(t=`${t} \\f "${this.properties.tcFieldIdentifier}"`),this.properties.hyperlink&&(t+=" \\h"),this.properties.tcFieldLevelRange&&(t=`${t} \\l "${this.properties.tcFieldLevelRange}"`),this.properties.pageNumbersEntryLevelsRange&&(t=`${t} \\n "${this.properties.pageNumbersEntryLevelsRange}"`),this.properties.headingStyleRange&&(t=`${t} \\o "${this.properties.headingStyleRange}"`),this.properties.entryAndPageNumberSeparator&&(t=`${t} \\p "${this.properties.entryAndPageNumberSeparator}"`),this.properties.seqFieldIdentifierForPrefix&&(t=`${t} \\s "${this.properties.seqFieldIdentifierForPrefix}"`),this.properties.stylesWithLevels&&this.properties.stylesWithLevels.length&&(t=`${t} \\t "${this.properties.stylesWithLevels.map(e=>`${e.styleName},${e.level}`).join(",")}"`),this.properties.useAppliedParagraphOutlineLevel&&(t+=" \\u"),this.properties.preserveTabInEntries&&(t+=" \\w"),this.properties.preserveNewLineInEntries&&(t+=" \\x"),this.properties.hideTabAndPageNumbersInWebView&&(t+=" \\z"),this.root.push(t)}}t.FieldInstruction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlComponent{constructor(){super("w:sdtContent")}}t.StructuredDocumentTagContent=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(345);class i extends n.XmlComponent{constructor(e){super("w:sdtPr"),this.root.push(new o.Alias(e))}}t.StructuredDocumentTagProperties=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={alias:"w:val"}}}class i extends n.XmlComponent{constructor(e){super("w:alias"),this.root.push(new o({alias:e}))}}t.Alias=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleLevel=class{constructor(e,t){this.styleName=e,this.level=t}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(348)),n(r(349))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(12),i=r(137);class a extends n.XmlComponent{constructor(e){super("w:ins"),this.root.push(new i.ChangeAttributes({id:e.id,author:e.author,date:e.date})),this.addChildElement(new o.TextRun(e))}}t.InsertedTextRun=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(12),i=r(67),a=r(18),s=r(17),l=r(137),c=r(350),u=r(351);class d extends n.XmlComponent{constructor(e){super("w:del"),this.root.push(new l.ChangeAttributes({id:e.id,author:e.author,date:e.date})),this.deletedTextRunWrapper=new p(e),this.addChildElement(this.deletedTextRunWrapper)}}t.DeletedTextRun=d;class p extends n.XmlComponent{constructor(e){if(super("w:r"),this.root.push(new o.RunProperties(e)),e.children)for(const t of e.children)if("string"!=typeof t)this.root.push(t);else switch(t){case s.PageNumber.CURRENT:this.root.push(new a.Begin),this.root.push(new c.DeletedPage),this.root.push(new a.Separate),this.root.push(new a.End);break;case s.PageNumber.TOTAL_PAGES:this.root.push(new a.Begin),this.root.push(new c.DeletedNumberOfPages),this.root.push(new a.Separate),this.root.push(new a.End);break;case s.PageNumber.TOTAL_PAGES_IN_SECTION:this.root.push(new a.Begin),this.root.push(new c.DeletedNumberOfPagesSection),this.root.push(new a.Separate),this.root.push(new a.End);break;default:this.root.push(new u.DeletedText(t))}else e.text&&this.root.push(new u.DeletedText(e.text));if(e.break)for(let t=0;t<e.break;t++)this.root.splice(1,0,new i.Break)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(){super("w:delInstrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("PAGE")}}t.DeletedPage=a;class s extends o.XmlComponent{constructor(){super("w:delInstrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("NUMPAGES")}}t.DeletedNumberOfPages=s;class l extends o.XmlComponent{constructor(){super("w:delInstrText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push("SECTIONPAGES")}}t.DeletedNumberOfPagesSection=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8),o=r(0);class i extends o.XmlAttributeComponent{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class a extends o.XmlComponent{constructor(e){super("w:delText"),this.root.push(new i({space:n.SpaceType.PRESERVE})),this.root.push(e)}}t.DeletedText=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(353))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(a,s)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(354);class i{static toBuffer(e,t){return n(this,void 0,void 0,(function*(){const r=this.compiler.compile(e,t);return yield r.generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}static toBase64String(e,t){return n(this,void 0,void 0,(function*(){const r=this.compiler.compile(e,t);return yield r.generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}static toBlob(e,t){return n(this,void 0,void 0,(function*(){const r=this.compiler.compile(e,t);return yield r.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}}i.compiler=new o.Compiler,t.Packer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(138),o=r(355),i=r(357),a=r(358),s=r(359);t.Compiler=class{constructor(){this.formatter=new i.Formatter,this.imageReplacer=new a.ImageReplacer,this.numberingReplacer=new s.NumberingReplacer}compile(e,t){const r=new n,o=this.xmlifyFile(e,t);for(const e in o){if(!o[e])continue;const t=o[e];if(Array.isArray(t))for(const e of t)r.file(e.path,e.data);else r.file(t.path,t.data)}for(const t of e.Media.Array){const e=t.stream;r.file("word/media/"+t.fileName,e)}return r}xmlifyFile(e,t){e.verifyUpdateFields();const r=e.DocumentRelationships.RelationshipCount+1,n=o(this.formatter.format(e.Document,e),t),i=this.imageReplacer.getMediaData(n,e.Media);return{Relationships:{data:(()=>(i.forEach((t,n)=>{e.DocumentRelationships.createRelationship(r+n,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image","media/"+t.fileName)}),o(this.formatter.format(e.DocumentRelationships,e),t)))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const t=this.imageReplacer.replace(n,i,r);return this.numberingReplacer.replace(t,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:o(this.formatter.format(e.Styles,e),t),path:"word/styles.xml"},Properties:{data:o(this.formatter.format(e.CoreProperties,e),{declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:o(this.formatter.format(e.Numbering,e),t),path:"word/numbering.xml"},FileRelationships:{data:o(this.formatter.format(e.FileRelationships,e),t),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((r,n)=>{const i=o(this.formatter.format(r.Header,e),t);return this.imageReplacer.getMediaData(i,e.Media).forEach((e,t)=>{r.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image","media/"+e.fileName)}),{data:o(this.formatter.format(r.Relationships,e),t),path:`word/_rels/header${n+1}.xml.rels`}}),FooterRelationships:e.Footers.map((r,n)=>{const i=o(this.formatter.format(r.Footer,e),t);return this.imageReplacer.getMediaData(i,e.Media).forEach((e,t)=>{r.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image","media/"+e.fileName)}),{data:o(this.formatter.format(r.Relationships,e),t),path:`word/_rels/footer${n+1}.xml.rels`}}),Headers:e.Headers.map((r,n)=>{const i=o(this.formatter.format(r.Header,e),t),a=this.imageReplacer.getMediaData(i,e.Media);return{data:this.imageReplacer.replace(i,a,0),path:`word/header${n+1}.xml`}}),Footers:e.Footers.map((r,n)=>{const i=o(this.formatter.format(r.Footer,e),t),a=this.imageReplacer.getMediaData(i,e.Media);return{data:this.imageReplacer.replace(i,a,0),path:`word/footer${n+1}.xml`}}),ContentTypes:{data:o(this.formatter.format(e.ContentTypes,e),t),path:"[Content_Types].xml"},AppProperties:{data:o(this.formatter.format(e.AppProperties,e),t),path:"docProps/app.xml"},FootNotes:{data:o(this.formatter.format(e.FootNotes,e),t),path:"word/footnotes.xml"},Settings:{data:o(this.formatter.format(e.Settings,e),t),path:"word/settings.xml"}}}}},function(e,t,r){(function(t){var n=r(356),o=r(56).Stream;function i(e,t,r){r=r||0;var o,a,s=(o=t,new Array(r||0).join(o||"")),l=e;if("object"==typeof e&&(l=e[a=Object.keys(e)[0]])&&l._elem)return l._elem.name=a,l._elem.icount=r,l._elem.indent=t,l._elem.indents=s,l._elem.interrupt=l,l._elem;var c,u=[],d=[];function p(e){Object.keys(e).forEach((function(t){u.push(function(e,t){return e+'="'+n(t)+'"'}(t,e[t]))}))}switch(typeof l){case"object":if(null===l)break;l._attr&&p(l._attr),l._cdata&&d.push(("<![CDATA["+l._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),l.forEach&&(c=!1,d.push(""),l.forEach((function(e){"object"==typeof e?"_attr"==Object.keys(e)[0]?p(e._attr):d.push(i(e,t,r+1)):(d.pop(),c=!0,d.push(n(e)))})),c||d.push(""));break;default:d.push(n(l))}return{name:a,interrupt:!1,attributes:u,content:d,icount:r,indents:s,indent:t}}function a(e,t,r){if("object"!=typeof t)return e(!1,t);var n=t.interrupt?1:t.content.length;function o(){for(;t.content.length;){var o=t.content.shift();if(void 0!==o){if(i(o))return;a(e,o)}}e(!1,(n>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!r?"\n":"")),r&&r()}function i(t){return!!t.interrupt&&(t.interrupt.append=e,t.interrupt.end=o,t.interrupt=!1,e(!0),!0)}if(e(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(n?t.name?">":"":t.name?"/>":"")+(t.indent&&n>1?"\n":"")),!n)return e(!1,t.indent?"\n":"");i(t)||o()}e.exports=function(e,r){"object"!=typeof r&&(r={indent:r});var n,s,l=r.stream?new o:null,c="",u=!1,d=r.indent?!0===r.indent?"    ":r.indent:"",p=!0;function f(e){p?t.nextTick(e):e()}function h(e,t){if(void 0!==t&&(c+=t),e&&!u&&(l=l||new o,u=!0),e&&u){var r=c;f((function(){l.emit("data",r)})),c=""}}function m(e,t){a(h,i(e,d,d?1:0),t)}function g(){if(l){var e=c;f((function(){l.emit("data",e),l.emit("end"),l.readable=!1,l.emit("close")}))}}return f((function(){p=!1})),r.declaration&&(n=r.declaration,s={version:"1.0",encoding:n.encoding||"UTF-8"},n.standalone&&(s.standalone=n.standalone),m({"?xml":{_attr:s}}),c=c.replace("/>","?>")),e&&e.forEach?e.forEach((function(t,r){var n;r+1===e.length&&(n=g),m(t,n)})):m(e,g),l?(l.readable=!0,l):c},e.exports.element=e.exports.Element=function(){var e=Array.prototype.slice.call(arguments),t={_elem:i(e),push:function(e){if(!this.append)throw new Error("not assigned to a parent!");var t=this,r=this._elem.indent;a(this.append,i(e,r,this._elem.icount+(r?1:0)),(function(){t.append(!0)}))},close:function(e){void 0!==e&&this.push(e),this.end&&this.end()}};return t}}).call(t,r(13))},function(e,t){var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};e.exports=function(e){return e&&e.replace?e.replace(/([&"<>'])/g,(function(e,t){return r[t]})):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Formatter=class{format(e,t){const r=e.prepForXml(t);if(r)return r;throw Error("XMLComponent did not format correctly")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageReplacer=class{replace(e,t,r){let n=e;return t.forEach((e,t)=>{n=n.replace(new RegExp(`{${e.fileName}}`,"g"),(r+t).toString())}),n}getMediaData(e,t){return t.Array.filter(t=>e.search(`{${t.fileName}}`)>0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberingReplacer=class{replace(e,t){let r=e;for(const e of t)e.reference&&(r=r.replace(new RegExp(`{${e.reference}}`,"g"),e.id.toString()));return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(361))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(a,s)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(138),i=r(26),a=r(46),s=r(49),l=r(50),c=r(48),u=r(0),d={"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header":"header","http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer":"footer","http://schemas.openxmlformats.org/officeDocument/2006/relationships/image":"image","http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink":"hyperlink"};var p;!function(e){e.HEADER="header",e.FOOTER="footer",e.IMAGE="image",e.HYPERLINK="hyperlink"}(p||(p={})),t.ImportDotx=class{extract(e){return n(this,void 0,void 0,(function*(){const t=yield o.loadAsync(e),r=yield t.files["word/document.xml"].async("text"),n=yield t.files["word/_rels/document.xml.rels"].async("text"),i=this.extractDocumentRefs(r),a=this.findReferenceFiles(n),s=new l.Media;return{headers:yield this.createHeaders(t,i,a,s,0),footers:yield this.createFooters(t,i,a,s,i.headers.length),currentRelationshipId:i.footers.length+i.headers.length,styles:yield t.files["word/styles.xml"].async("text"),titlePageIsDefined:this.checkIfTitlePageIsDefined(r),media:s}}))}createFooters(e,t,r,o,s){return n(this,void 0,void 0,(function*(){const l=t.footers.map((t,l)=>n(this,void 0,void 0,(function*(){const n=r.find(e=>e.id===t.id);if(null===n||!n)throw new Error("Can not find target file for id "+t.id);const c=yield e.files["word/"+n.target].async("text"),d=i.xml2js(c,{compact:!1,captureSpacesBetweenElements:!0});if(!d.elements)return;const p=d.elements.reduce((e,t)=>"w:ftr"===t.name?t:e),f=u.convertToXmlComponent(p),h=new a.FooterWrapper(o,s+l,f);return yield this.addRelationshipToWrapper(n,e,h,o),{type:t.type,footer:h}}))).filter(e=>!!e);return Promise.all(l)}))}createHeaders(e,t,r,o,a){return n(this,void 0,void 0,(function*(){const l=t.headers.map((t,l)=>n(this,void 0,void 0,(function*(){const n=r.find(e=>e.id===t.id);if(null===n||!n)throw new Error("Can not find target file for id "+t.id);const c=yield e.files["word/"+n.target].async("text"),d=i.xml2js(c,{compact:!1,captureSpacesBetweenElements:!0});if(!d.elements)return;const p=d.elements.reduce((e,t)=>"w:hdr"===t.name?t:e),f=u.convertToXmlComponent(p),h=new s.HeaderWrapper(o,a+l,f);return yield this.addRelationshipToWrapper(n,e,h,o),{type:t.type,header:h}}))).filter(e=>!!e);return Promise.all(l)}))}addRelationshipToWrapper(e,t,r,o){return n(this,void 0,void 0,(function*(){const n=t.files[`word/_rels/${e.target}.rels`];if(!n)return;const i=yield n.async("text"),a=this.findReferenceFiles(i).filter(e=>e.type===p.IMAGE),s=this.findReferenceFiles(i).filter(e=>e.type===p.HYPERLINK);for(const e of a){const n=yield t.files["word/"+e.target].async("nodebuffer"),i=o.addMedia(n);r.Relationships.createRelationship(e.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image","media/"+i.fileName)}for(const e of s)r.Relationships.createRelationship(e.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",e.target,c.TargetModeType.EXTERNAL)}))}findReferenceFiles(e){const t=i.xml2js(e,{compact:!0});return(Array.isArray(t.Relationships.Relationship)?t.Relationships.Relationship:[t.Relationships.Relationship]).map(e=>{if(void 0===e._attributes)throw Error("relationship element has no attributes");return{id:this.parseRefId(e._attributes.Id),type:d[e._attributes.Type],target:e._attributes.Target}}).filter(e=>null!==e.type)}extractDocumentRefs(e){const t=i.xml2js(e,{compact:!0})["w:document"]["w:body"]["w:sectPr"],r=t["w:headerReference"];let n;n=void 0===r?[]:Array.isArray(r)?r:[r];const o=n.map(e=>{if(void 0===e._attributes)throw Error("header referecne element has no attributes");return{type:e._attributes["w:type"],id:this.parseRefId(e._attributes["r:id"])}}),a=t["w:footerReference"];let s;return s=void 0===a?[]:Array.isArray(a)?a:[a],{headers:o,footers:s.map(e=>{if(void 0===e._attributes)throw Error("footer referecne element has no attributes");return{type:e._attributes["w:type"],id:this.parseRefId(e._attributes["r:id"])}})}}checkIfTitlePageIsDefined(e){return void 0!==i.xml2js(e,{compact:!0})["w:document"]["w:body"]["w:sectPr"]["w:titlePg"]}parseRefId(e){const t=/^rId(\d+)$/.exec(e);if(null===t)throw new Error("Invalid ref id");return parseInt(t[1],10)}}}])},e.exports=n()},89:function(e,t){e.exports=require("net")},90:function(e,t){e.exports=require("https")}});
//# sourceMappingURL=https://raw.githubusercontent.com/Plotinator/pltr_sourcemaps/main/2021.4.26/app.map